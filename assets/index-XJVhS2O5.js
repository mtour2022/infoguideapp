var cX=Object.defineProperty;var uX=(t,e,n)=>e in t?cX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var dX=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var we=(t,e,n)=>uX(t,typeof e!="symbol"?e+"":e,n);var lPe=dX((Vi,Hi)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Co=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $_={exports:{}},xg={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rO;function hX(){if(rO)return xg;rO=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,i){var o=null;if(i!==void 0&&(o=""+i),s.key!==void 0&&(o=""+s.key),"key"in s){i={};for(var l in s)l!=="key"&&(i[l]=s[l])}else i=s;return s=i.ref,{$$typeof:t,type:r,key:o,ref:s!==void 0?s:null,props:i}}return xg.Fragment=e,xg.jsx=n,xg.jsxs=n,xg}var sO;function fX(){return sO||(sO=1,$_.exports=hX()),$_.exports}var a=fX(),V_={exports:{}},pn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aO;function mX(){if(aO)return pn;aO=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),g=Symbol.iterator;function p(W){return W===null||typeof W!="object"?null:(W=g&&W[g]||W["@@iterator"],typeof W=="function"?W:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,E={};function S(W,ve,Q){this.props=W,this.context=ve,this.refs=E,this.updater=Q||v}S.prototype.isReactComponent={},S.prototype.setState=function(W,ve){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,ve,"setState")},S.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function C(){}C.prototype=S.prototype;function O(W,ve,Q){this.props=W,this.context=ve,this.refs=E,this.updater=Q||v}var I=O.prototype=new C;I.constructor=O,w(I,S.prototype),I.isPureReactComponent=!0;var D=Array.isArray,T={H:null,A:null,T:null,S:null},F=Object.prototype.hasOwnProperty;function y(W,ve,Q,ne,te,X){return Q=X.ref,{$$typeof:t,type:W,key:ve,ref:Q!==void 0?Q:null,props:X}}function A(W,ve){return y(W.type,ve,void 0,void 0,void 0,W.props)}function _(W){return typeof W=="object"&&W!==null&&W.$$typeof===t}function L(W){var ve={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(Q){return ve[Q]})}var R=/\/+/g;function U(W,ve){return typeof W=="object"&&W!==null&&W.key!=null?L(""+W.key):ve.toString(36)}function P(){}function K(W){switch(W.status){case"fulfilled":return W.value;case"rejected":throw W.reason;default:switch(typeof W.status=="string"?W.then(P,P):(W.status="pending",W.then(function(ve){W.status==="pending"&&(W.status="fulfilled",W.value=ve)},function(ve){W.status==="pending"&&(W.status="rejected",W.reason=ve)})),W.status){case"fulfilled":return W.value;case"rejected":throw W.reason}}throw W}function G(W,ve,Q,ne,te){var X=typeof W;(X==="undefined"||X==="boolean")&&(W=null);var be=!1;if(W===null)be=!0;else switch(X){case"bigint":case"string":case"number":be=!0;break;case"object":switch(W.$$typeof){case t:case e:be=!0;break;case f:return be=W._init,G(be(W._payload),ve,Q,ne,te)}}if(be)return te=te(W),be=ne===""?"."+U(W,0):ne,D(te)?(Q="",be!=null&&(Q=be.replace(R,"$&/")+"/"),G(te,ve,Q,"",function(Ie){return Ie})):te!=null&&(_(te)&&(te=A(te,Q+(te.key==null||W&&W.key===te.key?"":(""+te.key).replace(R,"$&/")+"/")+be)),ve.push(te)),1;be=0;var Ne=ne===""?".":ne+":";if(D(W))for(var Ee=0;Ee<W.length;Ee++)ne=W[Ee],X=Ne+U(ne,Ee),be+=G(ne,ve,Q,X,te);else if(Ee=p(W),typeof Ee=="function")for(W=Ee.call(W),Ee=0;!(ne=W.next()).done;)ne=ne.value,X=Ne+U(ne,Ee++),be+=G(ne,ve,Q,X,te);else if(X==="object"){if(typeof W.then=="function")return G(K(W),ve,Q,ne,te);throw ve=String(W),Error("Objects are not valid as a React child (found: "+(ve==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":ve)+"). If you meant to render a collection of children, use an array instead.")}return be}function re(W,ve,Q){if(W==null)return W;var ne=[],te=0;return G(W,ne,"","",function(X){return ve.call(Q,X,te++)}),ne}function Z(W){if(W._status===-1){var ve=W._result;ve=ve(),ve.then(function(Q){(W._status===0||W._status===-1)&&(W._status=1,W._result=Q)},function(Q){(W._status===0||W._status===-1)&&(W._status=2,W._result=Q)}),W._status===-1&&(W._status=0,W._result=ve)}if(W._status===1)return W._result.default;throw W._result}var me=typeof reportError=="function"?reportError:function(W){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ve=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof W=="object"&&W!==null&&typeof W.message=="string"?String(W.message):String(W),error:W});if(!window.dispatchEvent(ve))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",W);return}console.error(W)};function ie(){}return pn.Children={map:re,forEach:function(W,ve,Q){re(W,function(){ve.apply(this,arguments)},Q)},count:function(W){var ve=0;return re(W,function(){ve++}),ve},toArray:function(W){return re(W,function(ve){return ve})||[]},only:function(W){if(!_(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},pn.Component=S,pn.Fragment=n,pn.Profiler=s,pn.PureComponent=O,pn.StrictMode=r,pn.Suspense=u,pn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,pn.act=function(){throw Error("act(...) is not supported in production builds of React.")},pn.cache=function(W){return function(){return W.apply(null,arguments)}},pn.cloneElement=function(W,ve,Q){if(W==null)throw Error("The argument must be a React element, but you passed "+W+".");var ne=w({},W.props),te=W.key,X=void 0;if(ve!=null)for(be in ve.ref!==void 0&&(X=void 0),ve.key!==void 0&&(te=""+ve.key),ve)!F.call(ve,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&ve.ref===void 0||(ne[be]=ve[be]);var be=arguments.length-2;if(be===1)ne.children=Q;else if(1<be){for(var Ne=Array(be),Ee=0;Ee<be;Ee++)Ne[Ee]=arguments[Ee+2];ne.children=Ne}return y(W.type,te,void 0,void 0,X,ne)},pn.createContext=function(W){return W={$$typeof:o,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null},W.Provider=W,W.Consumer={$$typeof:i,_context:W},W},pn.createElement=function(W,ve,Q){var ne,te={},X=null;if(ve!=null)for(ne in ve.key!==void 0&&(X=""+ve.key),ve)F.call(ve,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(te[ne]=ve[ne]);var be=arguments.length-2;if(be===1)te.children=Q;else if(1<be){for(var Ne=Array(be),Ee=0;Ee<be;Ee++)Ne[Ee]=arguments[Ee+2];te.children=Ne}if(W&&W.defaultProps)for(ne in be=W.defaultProps,be)te[ne]===void 0&&(te[ne]=be[ne]);return y(W,X,void 0,void 0,null,te)},pn.createRef=function(){return{current:null}},pn.forwardRef=function(W){return{$$typeof:l,render:W}},pn.isValidElement=_,pn.lazy=function(W){return{$$typeof:f,_payload:{_status:-1,_result:W},_init:Z}},pn.memo=function(W,ve){return{$$typeof:h,type:W,compare:ve===void 0?null:ve}},pn.startTransition=function(W){var ve=T.T,Q={};T.T=Q;try{var ne=W(),te=T.S;te!==null&&te(Q,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(ie,me)}catch(X){me(X)}finally{T.T=ve}},pn.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},pn.use=function(W){return T.H.use(W)},pn.useActionState=function(W,ve,Q){return T.H.useActionState(W,ve,Q)},pn.useCallback=function(W,ve){return T.H.useCallback(W,ve)},pn.useContext=function(W){return T.H.useContext(W)},pn.useDebugValue=function(){},pn.useDeferredValue=function(W,ve){return T.H.useDeferredValue(W,ve)},pn.useEffect=function(W,ve){return T.H.useEffect(W,ve)},pn.useId=function(){return T.H.useId()},pn.useImperativeHandle=function(W,ve,Q){return T.H.useImperativeHandle(W,ve,Q)},pn.useInsertionEffect=function(W,ve){return T.H.useInsertionEffect(W,ve)},pn.useLayoutEffect=function(W,ve){return T.H.useLayoutEffect(W,ve)},pn.useMemo=function(W,ve){return T.H.useMemo(W,ve)},pn.useOptimistic=function(W,ve){return T.H.useOptimistic(W,ve)},pn.useReducer=function(W,ve,Q){return T.H.useReducer(W,ve,Q)},pn.useRef=function(W){return T.H.useRef(W)},pn.useState=function(W){return T.H.useState(W)},pn.useSyncExternalStore=function(W,ve,Q){return T.H.useSyncExternalStore(W,ve,Q)},pn.useTransition=function(){return T.H.useTransition()},pn.version="19.0.0",pn}var iO;function Rb(){return iO||(iO=1,V_.exports=mX()),V_.exports}var j=Rb();const er=rc(j);var H_={exports:{}},bg={},G_={exports:{}},W_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oO;function pX(){return oO||(oO=1,function(t){function e(re,Z){var me=re.length;re.push(Z);e:for(;0<me;){var ie=me-1>>>1,W=re[ie];if(0<s(W,Z))re[ie]=Z,re[me]=W,me=ie;else break e}}function n(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var Z=re[0],me=re.pop();if(me!==Z){re[0]=me;e:for(var ie=0,W=re.length,ve=W>>>1;ie<ve;){var Q=2*(ie+1)-1,ne=re[Q],te=Q+1,X=re[te];if(0>s(ne,me))te<W&&0>s(X,ne)?(re[ie]=X,re[te]=me,ie=te):(re[ie]=ne,re[Q]=me,ie=Q);else if(te<W&&0>s(X,me))re[ie]=X,re[te]=me,ie=te;else break e}}return Z}function s(re,Z){var me=re.sortIndex-Z.sortIndex;return me!==0?me:re.id-Z.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],h=[],f=1,g=null,p=3,v=!1,w=!1,E=!1,S=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function I(re){for(var Z=n(h);Z!==null;){if(Z.callback===null)r(h);else if(Z.startTime<=re)r(h),Z.sortIndex=Z.expirationTime,e(u,Z);else break;Z=n(h)}}function D(re){if(E=!1,I(re),!w)if(n(u)!==null)w=!0,K();else{var Z=n(h);Z!==null&&G(D,Z.startTime-re)}}var T=!1,F=-1,y=5,A=-1;function _(){return!(t.unstable_now()-A<y)}function L(){if(T){var re=t.unstable_now();A=re;var Z=!0;try{e:{w=!1,E&&(E=!1,C(F),F=-1),v=!0;var me=p;try{t:{for(I(re),g=n(u);g!==null&&!(g.expirationTime>re&&_());){var ie=g.callback;if(typeof ie=="function"){g.callback=null,p=g.priorityLevel;var W=ie(g.expirationTime<=re);if(re=t.unstable_now(),typeof W=="function"){g.callback=W,I(re),Z=!0;break t}g===n(u)&&r(u),I(re)}else r(u);g=n(u)}if(g!==null)Z=!0;else{var ve=n(h);ve!==null&&G(D,ve.startTime-re),Z=!1}}break e}finally{g=null,p=me,v=!1}Z=void 0}}finally{Z?R():T=!1}}}var R;if(typeof O=="function")R=function(){O(L)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,P=U.port2;U.port1.onmessage=L,R=function(){P.postMessage(null)}}else R=function(){S(L,0)};function K(){T||(T=!0,R())}function G(re,Z){F=S(function(){re(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(re){re.callback=null},t.unstable_continueExecution=function(){w||v||(w=!0,K())},t.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<re?Math.floor(1e3/re):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(re){switch(p){case 1:case 2:case 3:var Z=3;break;default:Z=p}var me=p;p=Z;try{return re()}finally{p=me}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(re,Z){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var me=p;p=re;try{return Z()}finally{p=me}},t.unstable_scheduleCallback=function(re,Z,me){var ie=t.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?ie+me:ie):me=ie,re){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=me+W,re={id:f++,callback:Z,priorityLevel:re,startTime:me,expirationTime:W,sortIndex:-1},me>ie?(re.sortIndex=me,e(h,re),n(u)===null&&re===n(h)&&(E?(C(F),F=-1):E=!0,G(D,me-ie))):(re.sortIndex=W,e(u,re),w||v||(w=!0,K())),re},t.unstable_shouldYield=_,t.unstable_wrapCallback=function(re){var Z=p;return function(){var me=p;p=Z;try{return re.apply(this,arguments)}finally{p=me}}}}(W_)),W_}var lO;function gX(){return lO||(lO=1,G_.exports=pX()),G_.exports}var K_={exports:{}},Ra={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cO;function vX(){if(cO)return Ra;cO=1;var t=Rb();function e(u){var h="https://react.dev/errors/"+u;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)h+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function i(u,h,f){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:g==null?null:""+g,children:u,containerInfo:h,implementation:f}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,h){if(u==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Ra.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ra.createPortal=function(u,h){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return i(u,h,null,f)},Ra.flushSync=function(u){var h=o.T,f=r.p;try{if(o.T=null,r.p=2,u)return u()}finally{o.T=h,r.p=f,r.d.f()}},Ra.preconnect=function(u,h){typeof u=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(u,h))},Ra.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},Ra.preinit=function(u,h){if(typeof u=="string"&&h&&typeof h.as=="string"){var f=h.as,g=l(f,h.crossOrigin),p=typeof h.integrity=="string"?h.integrity:void 0,v=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;f==="style"?r.d.S(u,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:p,fetchPriority:v}):f==="script"&&r.d.X(u,{crossOrigin:g,integrity:p,fetchPriority:v,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Ra.preinitModule=function(u,h){if(typeof u=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var f=l(h.as,h.crossOrigin);r.d.M(u,{crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(u)},Ra.preload=function(u,h){if(typeof u=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var f=h.as,g=l(f,h.crossOrigin);r.d.L(u,f,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Ra.preloadModule=function(u,h){if(typeof u=="string")if(h){var f=l(h.as,h.crossOrigin);r.d.m(u,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(u)},Ra.requestFormReset=function(u){r.d.r(u)},Ra.unstable_batchedUpdates=function(u,h){return u(h)},Ra.useFormState=function(u,h,f){return o.H.useFormState(u,h,f)},Ra.useFormStatus=function(){return o.H.useHostTransitionStatus()},Ra.version="19.0.0",Ra}var uO;function C7(){if(uO)return K_.exports;uO=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),K_.exports=vX(),K_.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dO;function yX(){if(dO)return bg;dO=1;var t=gX(),e=Rb(),n=C7();function r(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}var i=Symbol.for("react.element"),o=Symbol.for("react.transitional.element"),l=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),p=Symbol.for("react.consumer"),v=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),I=Symbol.for("react.offscreen"),D=Symbol.for("react.memo_cache_sentinel"),T=Symbol.iterator;function F(c){return c===null||typeof c!="object"?null:(c=T&&c[T]||c["@@iterator"],typeof c=="function"?c:null)}var y=Symbol.for("react.client.reference");function A(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===y?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case u:return"Fragment";case l:return"Portal";case f:return"Profiler";case h:return"StrictMode";case E:return"Suspense";case S:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case v:return(c.displayName||"Context")+".Provider";case p:return(c._context.displayName||"Context")+".Consumer";case w:var d=c.render;return c=c.displayName,c||(c=d.displayName||d.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case C:return d=c.displayName||null,d!==null?d:A(c.type)||"Memo";case O:d=c._payload,c=c._init;try{return A(c(d))}catch{}}return null}var _=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=Object.assign,R,U;function P(c){if(R===void 0)try{throw Error()}catch(m){var d=m.stack.trim().match(/\n( *(at )?)/);R=d&&d[1]||"",U=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+R+c+U}var K=!1;function G(c,d){if(!c||K)return"";K=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var b={DetermineComponentFrameRoot:function(){try{if(d){var rt=function(){throw Error()};if(Object.defineProperty(rt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(rt,[])}catch(He){var Pe=He}Reflect.construct(c,[],rt)}else{try{rt.call()}catch(He){Pe=He}c.call(rt.prototype)}}else{try{throw Error()}catch(He){Pe=He}(rt=c())&&typeof rt.catch=="function"&&rt.catch(function(){})}}catch(He){if(He&&Pe&&typeof He.stack=="string")return[He.stack,Pe.stack]}return[null,null]}};b.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var k=Object.getOwnPropertyDescriptor(b.DetermineComponentFrameRoot,"name");k&&k.configurable&&Object.defineProperty(b.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var M=b.DetermineComponentFrameRoot(),J=M[0],oe=M[1];if(J&&oe){var ge=J.split(`
`),Se=oe.split(`
`);for(k=b=0;b<ge.length&&!ge[b].includes("DetermineComponentFrameRoot");)b++;for(;k<Se.length&&!Se[k].includes("DetermineComponentFrameRoot");)k++;if(b===ge.length||k===Se.length)for(b=ge.length-1,k=Se.length-1;1<=b&&0<=k&&ge[b]!==Se[k];)k--;for(;1<=b&&0<=k;b--,k--)if(ge[b]!==Se[k]){if(b!==1||k!==1)do if(b--,k--,0>k||ge[b]!==Se[k]){var Ge=`
`+ge[b].replace(" at new "," at ");return c.displayName&&Ge.includes("<anonymous>")&&(Ge=Ge.replace("<anonymous>",c.displayName)),Ge}while(1<=b&&0<=k);break}}}finally{K=!1,Error.prepareStackTrace=m}return(m=c?c.displayName||c.name:"")?P(m):""}function re(c){switch(c.tag){case 26:case 27:case 5:return P(c.type);case 16:return P("Lazy");case 13:return P("Suspense");case 19:return P("SuspenseList");case 0:case 15:return c=G(c.type,!1),c;case 11:return c=G(c.type.render,!1),c;case 1:return c=G(c.type,!0),c;default:return""}}function Z(c){try{var d="";do d+=re(c),c=c.return;while(c);return d}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}function me(c){var d=c,m=c;if(c.alternate)for(;d.return;)d=d.return;else{c=d;do d=c,d.flags&4098&&(m=d.return),c=d.return;while(c)}return d.tag===3?m:null}function ie(c){if(c.tag===13){var d=c.memoizedState;if(d===null&&(c=c.alternate,c!==null&&(d=c.memoizedState)),d!==null)return d.dehydrated}return null}function W(c){if(me(c)!==c)throw Error(r(188))}function ve(c){var d=c.alternate;if(!d){if(d=me(c),d===null)throw Error(r(188));return d!==c?null:c}for(var m=c,b=d;;){var k=m.return;if(k===null)break;var M=k.alternate;if(M===null){if(b=k.return,b!==null){m=b;continue}break}if(k.child===M.child){for(M=k.child;M;){if(M===m)return W(k),c;if(M===b)return W(k),d;M=M.sibling}throw Error(r(188))}if(m.return!==b.return)m=k,b=M;else{for(var J=!1,oe=k.child;oe;){if(oe===m){J=!0,m=k,b=M;break}if(oe===b){J=!0,b=k,m=M;break}oe=oe.sibling}if(!J){for(oe=M.child;oe;){if(oe===m){J=!0,m=M,b=k;break}if(oe===b){J=!0,b=M,m=k;break}oe=oe.sibling}if(!J)throw Error(r(189))}}if(m.alternate!==b)throw Error(r(190))}if(m.tag!==3)throw Error(r(188));return m.stateNode.current===m?c:d}function Q(c){var d=c.tag;if(d===5||d===26||d===27||d===6)return c;for(c=c.child;c!==null;){if(d=Q(c),d!==null)return d;c=c.sibling}return null}var ne=Array.isArray,te=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},be=[],Ne=-1;function Ee(c){return{current:c}}function Ie(c){0>Ne||(c.current=be[Ne],be[Ne]=null,Ne--)}function _e(c,d){Ne++,be[Ne]=c.current,c.current=d}var Ue=Ee(null),tt=Ee(null),ct=Ee(null),ut=Ee(null);function Ye(c,d){switch(_e(ct,d),_e(tt,c),_e(Ue,null),c=d.nodeType,c){case 9:case 11:d=(d=d.documentElement)&&(d=d.namespaceURI)?kk(d):0;break;default:if(c=c===8?d.parentNode:d,d=c.tagName,c=c.namespaceURI)c=kk(c),d=Ok(c,d);else switch(d){case"svg":d=1;break;case"math":d=2;break;default:d=0}}Ie(Ue),_e(Ue,d)}function Et(){Ie(Ue),Ie(tt),Ie(ct)}function Ze(c){c.memoizedState!==null&&_e(ut,c);var d=Ue.current,m=Ok(d,c.type);d!==m&&(_e(tt,c),_e(Ue,m))}function zt(c){tt.current===c&&(Ie(Ue),Ie(tt)),ut.current===c&&(Ie(ut),mg._currentValue=X)}var Cn=Object.prototype.hasOwnProperty,fn=t.unstable_scheduleCallback,vn=t.unstable_cancelCallback,dr=t.unstable_shouldYield,sr=t.unstable_requestPaint,We=t.unstable_now,xt=t.unstable_getCurrentPriorityLevel,Mt=t.unstable_ImmediatePriority,kt=t.unstable_UserBlockingPriority,on=t.unstable_NormalPriority,Gr=t.unstable_LowPriority,Jn=t.unstable_IdlePriority,ws=t.log,es=t.unstable_setDisableYieldValue,Br=null,Vn=null;function Ur(c){if(Vn&&typeof Vn.onCommitFiberRoot=="function")try{Vn.onCommitFiberRoot(Br,c,void 0,(c.current.flags&128)===128)}catch{}}function zr(c){if(typeof ws=="function"&&es(c),Vn&&typeof Vn.setStrictMode=="function")try{Vn.setStrictMode(Br,c)}catch{}}var Hn=Math.clz32?Math.clz32:sa,Wr=Math.log,yr=Math.LN2;function sa(c){return c>>>=0,c===0?32:31-(Wr(c)/yr|0)|0}var ms=128,ps=4194304;function pr(c){var d=c&42;if(d!==0)return d;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function Nr(c,d){var m=c.pendingLanes;if(m===0)return 0;var b=0,k=c.suspendedLanes,M=c.pingedLanes,J=c.warmLanes;c=c.finishedLanes!==0;var oe=m&134217727;return oe!==0?(m=oe&~k,m!==0?b=pr(m):(M&=oe,M!==0?b=pr(M):c||(J=oe&~J,J!==0&&(b=pr(J))))):(oe=m&~k,oe!==0?b=pr(oe):M!==0?b=pr(M):c||(J=m&~J,J!==0&&(b=pr(J)))),b===0?0:d!==0&&d!==b&&!(d&k)&&(k=b&-b,J=d&-d,k>=J||k===32&&(J&4194176)!==0)?d:b}function gs(c,d){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&d)===0}function aa(c,d){switch(c){case 1:case 2:case 4:case 8:return d+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hs(){var c=ms;return ms<<=1,!(ms&4194176)&&(ms=128),c}function ts(){var c=ps;return ps<<=1,!(ps&62914560)&&(ps=4194304),c}function Ha(c){for(var d=[],m=0;31>m;m++)d.push(c);return d}function bn(c,d){c.pendingLanes|=d,d!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function Bt(c,d,m,b,k,M){var J=c.pendingLanes;c.pendingLanes=m,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=m,c.entangledLanes&=m,c.errorRecoveryDisabledLanes&=m,c.shellSuspendCounter=0;var oe=c.entanglements,ge=c.expirationTimes,Se=c.hiddenUpdates;for(m=J&~m;0<m;){var Ge=31-Hn(m),rt=1<<Ge;oe[Ge]=0,ge[Ge]=-1;var Pe=Se[Ge];if(Pe!==null)for(Se[Ge]=null,Ge=0;Ge<Pe.length;Ge++){var He=Pe[Ge];He!==null&&(He.lane&=-536870913)}m&=~rt}b!==0&&Ca(c,b,0),M!==0&&k===0&&c.tag!==0&&(c.suspendedLanes|=M&~(J&~d))}function Ca(c,d,m){c.pendingLanes|=d,c.suspendedLanes&=~d;var b=31-Hn(d);c.entangledLanes|=d,c.entanglements[b]=c.entanglements[b]|1073741824|m&4194218}function ii(c,d){var m=c.entangledLanes|=d;for(c=c.entanglements;m;){var b=31-Hn(m),k=1<<b;k&d|c[b]&d&&(c[b]|=d),m&=~k}}function Bo(c){return c&=-c,2<c?8<c?c&134217727?32:268435456:8:2}function no(){var c=te.p;return c!==0?c:(c=window.event,c===void 0?32:Jk(c.type))}function ee(c,d){var m=te.p;try{return te.p=c,d()}finally{te.p=m}}var de=Math.random().toString(36).slice(2),le="__reactFiber$"+de,ue="__reactProps$"+de,he="__reactContainer$"+de,fe="__reactEvents$"+de,Ce="__reactListeners$"+de,Me="__reactHandles$"+de,Le="__reactResources$"+de,Re="__reactMarker$"+de;function Oe(c){delete c[le],delete c[ue],delete c[fe],delete c[Ce],delete c[Me]}function Qe(c){var d=c[le];if(d)return d;for(var m=c.parentNode;m;){if(d=m[he]||m[le]){if(m=d.alternate,d.child!==null||m!==null&&m.child!==null)for(c=Dk(c);c!==null;){if(m=c[le])return m;c=Dk(c)}return d}c=m,m=c.parentNode}return null}function nt(c){if(c=c[le]||c[he]){var d=c.tag;if(d===5||d===6||d===13||d===26||d===27||d===3)return c}return null}function mt(c){var d=c.tag;if(d===5||d===26||d===27||d===6)return c.stateNode;throw Error(r(33))}function st(c){var d=c[Le];return d||(d=c[Le]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function at(c){c[Re]=!0}var Ut=new Set,Dn={};function ln(c,d){An(c,d),An(c+"Capture",d)}function An(c,d){for(Dn[c]=d,c=0;c<d.length;c++)Ut.add(d[c])}var xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_s=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ia={},oa={};function ro(c){return Cn.call(oa,c)?!0:Cn.call(ia,c)?!1:_s.test(c)?oa[c]=!0:(ia[c]=!0,!1)}function ns(c,d,m){if(ro(d))if(m===null)c.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":c.removeAttribute(d);return;case"boolean":var b=d.toLowerCase().slice(0,5);if(b!=="data-"&&b!=="aria-"){c.removeAttribute(d);return}}c.setAttribute(d,""+m)}}function so(c,d,m){if(m===null)c.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(d);return}c.setAttribute(d,""+m)}}function Na(c,d,m,b){if(b===null)c.removeAttribute(m);else{switch(typeof b){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(m);return}c.setAttributeNS(d,m,""+b)}}function rs(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function pl(c){var d=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function Uo(c){var d=pl(c)?"checked":"value",m=Object.getOwnPropertyDescriptor(c.constructor.prototype,d),b=""+c[d];if(!c.hasOwnProperty(d)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var k=m.get,M=m.set;return Object.defineProperty(c,d,{configurable:!0,get:function(){return k.call(this)},set:function(J){b=""+J,M.call(this,J)}}),Object.defineProperty(c,d,{enumerable:m.enumerable}),{getValue:function(){return b},setValue:function(J){b=""+J},stopTracking:function(){c._valueTracker=null,delete c[d]}}}}function ao(c){c._valueTracker||(c._valueTracker=Uo(c))}function gl(c){if(!c)return!1;var d=c._valueTracker;if(!d)return!0;var m=d.getValue(),b="";return c&&(b=pl(c)?c.checked?"true":"false":c.value),c=b,c!==m?(d.setValue(c),!0):!1}function vl(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var Ti=/[\n"\\]/g;function br(c){return c.replace(Ti,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function io(c,d,m,b,k,M,J,oe){c.name="",J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"?c.type=J:c.removeAttribute("type"),d!=null?J==="number"?(d===0&&c.value===""||c.value!=d)&&(c.value=""+rs(d)):c.value!==""+rs(d)&&(c.value=""+rs(d)):J!=="submit"&&J!=="reset"||c.removeAttribute("value"),d!=null?yl(c,J,rs(d)):m!=null?yl(c,J,rs(m)):b!=null&&c.removeAttribute("value"),k==null&&M!=null&&(c.defaultChecked=!!M),k!=null&&(c.checked=k&&typeof k!="function"&&typeof k!="symbol"),oe!=null&&typeof oe!="function"&&typeof oe!="symbol"&&typeof oe!="boolean"?c.name=""+rs(oe):c.removeAttribute("name")}function Ai(c,d,m,b,k,M,J,oe){if(M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(c.type=M),d!=null||m!=null){if(!(M!=="submit"&&M!=="reset"||d!=null))return;m=m!=null?""+rs(m):"",d=d!=null?""+rs(d):m,oe||d===c.value||(c.value=d),c.defaultValue=d}b=b??k,b=typeof b!="function"&&typeof b!="symbol"&&!!b,c.checked=oe?c.checked:!!b,c.defaultChecked=!!b,J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"&&(c.name=J)}function yl(c,d,m){d==="number"&&vl(c.ownerDocument)===c||c.defaultValue===""+m||(c.defaultValue=""+m)}function Ln(c,d,m,b){if(c=c.options,d){d={};for(var k=0;k<m.length;k++)d["$"+m[k]]=!0;for(m=0;m<c.length;m++)k=d.hasOwnProperty("$"+c[m].value),c[m].selected!==k&&(c[m].selected=k),k&&b&&(c[m].defaultSelected=!0)}else{for(m=""+rs(m),d=null,k=0;k<c.length;k++){if(c[k].value===m){c[k].selected=!0,b&&(c[k].defaultSelected=!0);return}d!==null||c[k].disabled||(d=c[k])}d!==null&&(d.selected=!0)}}function Ga(c,d,m){if(d!=null&&(d=""+rs(d),d!==c.value&&(c.value=d),m==null)){c.defaultValue!==d&&(c.defaultValue=d);return}c.defaultValue=m!=null?""+rs(m):""}function js(c,d,m,b){if(d==null){if(b!=null){if(m!=null)throw Error(r(92));if(ne(b)){if(1<b.length)throw Error(r(93));b=b[0]}m=b}m==null&&(m=""),d=m}m=rs(d),c.defaultValue=m,b=c.textContent,b===m&&b!==""&&b!==null&&(c.value=b)}function ss(c,d){if(d){var m=c.firstChild;if(m&&m===c.lastChild&&m.nodeType===3){m.nodeValue=d;return}}c.textContent=d}var Li=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ic(c,d,m){var b=d.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?b?c.setProperty(d,""):d==="float"?c.cssFloat="":c[d]="":b?c.setProperty(d,m):typeof m!="number"||m===0||Li.has(d)?d==="float"?c.cssFloat=m:c[d]=(""+m).trim():c[d]=m+"px"}function Wa(c,d,m){if(d!=null&&typeof d!="object")throw Error(r(62));if(c=c.style,m!=null){for(var b in m)!m.hasOwnProperty(b)||d!=null&&d.hasOwnProperty(b)||(b.indexOf("--")===0?c.setProperty(b,""):b==="float"?c.cssFloat="":c[b]="");for(var k in d)b=d[k],d.hasOwnProperty(k)&&m[k]!==b&&ic(c,k,b)}else for(var M in d)d.hasOwnProperty(M)&&ic(c,M,d[M])}function oc(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Td=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ad=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function oi(c){return Ad.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}var la=null;function as(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var li=null,ci=null;function Ta(c){var d=nt(c);if(d&&(c=d.stateNode)){var m=c[ue]||null;e:switch(c=d.stateNode,d.type){case"input":if(io(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),d=m.name,m.type==="radio"&&d!=null){for(m=c;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+br(""+d)+'"][type="radio"]'),d=0;d<m.length;d++){var b=m[d];if(b!==c&&b.form===c.form){var k=b[ue]||null;if(!k)throw Error(r(90));io(b,k.value,k.defaultValue,k.defaultValue,k.checked,k.defaultChecked,k.type,k.name)}}for(d=0;d<m.length;d++)b=m[d],b.form===c.form&&gl(b)}break e;case"textarea":Ga(c,m.value,m.defaultValue);break e;case"select":d=m.value,d!=null&&Ln(c,!!m.multiple,d,!1)}}}var zo=!1;function qo(c,d,m){if(zo)return c(d,m);zo=!0;try{var b=c(d);return b}finally{if(zo=!1,(li!==null||ci!==null)&&(By(),li&&(d=li,c=ci,ci=li=null,Ta(d),c)))for(d=0;d<c.length;d++)Ta(c[d])}}function $o(c,d){var m=c.stateNode;if(m===null)return null;var b=m[ue]||null;if(b===null)return null;m=b[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(c=c.type,b=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!b;break e;default:c=!1}if(c)return null;if(m&&typeof m!="function")throw Error(r(231,d,typeof m));return m}var ca=!1;if(xr)try{var Ri={};Object.defineProperty(Ri,"passive",{get:function(){ca=!0}}),window.addEventListener("test",Ri,Ri),window.removeEventListener("test",Ri,Ri)}catch{ca=!1}var Ka=null,ks=null,ui=null;function Vo(){if(ui)return ui;var c,d=ks,m=d.length,b,k="value"in Ka?Ka.value:Ka.textContent,M=k.length;for(c=0;c<m&&d[c]===k[c];c++);var J=m-c;for(b=1;b<=J&&d[m-b]===k[M-b];b++);return ui=k.slice(c,1<b?1-b:void 0)}function di(c){var d=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&d===13&&(c=13)):c=d,c===10&&(c=13),32<=c||c===13?c:0}function hi(){return!0}function H(){return!1}function ae(c){function d(m,b,k,M,J){this._reactName=m,this._targetInst=k,this.type=b,this.nativeEvent=M,this.target=J,this.currentTarget=null;for(var oe in c)c.hasOwnProperty(oe)&&(m=c[oe],this[oe]=m?m(M):M[oe]);return this.isDefaultPrevented=(M.defaultPrevented!=null?M.defaultPrevented:M.returnValue===!1)?hi:H,this.isPropagationStopped=H,this}return L(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=hi)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=hi)},persist:function(){},isPersistent:hi}),d}var pe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Be=ae(pe),Gt=L({},pe,{view:0,detail:0}),Ct=ae(Gt),wn,yn,Qn,jn=L({},Gt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rd,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Qn&&(Qn&&c.type==="mousemove"?(wn=c.screenX-Qn.screenX,yn=c.screenY-Qn.screenY):yn=wn=0,Qn=c),wn)},movementY:function(c){return"movementY"in c?c.movementY:yn}}),ar=ae(jn),Os=L({},jn,{dataTransfer:0}),Kr=ae(Os),qr=L({},Gt,{relatedTarget:0}),$r=ae(qr),fi=L({},pe,{animationName:0,elapsedTime:0,pseudoElement:0}),Aa=ae(fi),oo=L({},pe,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),lc=ae(oo),du=L({},pe,{data:0}),xl=ae(du),Ld={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kp(c){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(c):(c=Zv[c])?!!d[c]:!1}function Rd(){return kp}var ey=L({},Gt,{key:function(c){if(c.key){var d=Ld[c.key]||c.key;if(d!=="Unidentified")return d}return c.type==="keypress"?(c=di(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?Qv[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rd,charCode:function(c){return c.type==="keypress"?di(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?di(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),Ef=ae(ey),ty=L({},jn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Op=ae(ty),cc=L({},Gt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rd}),ny=ae(cc),ry=L({},pe,{propertyName:0,elapsedTime:0,pseudoElement:0}),sy=ae(ry),ay=L({},jn,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),Sf=ae(ay),Ya=L({},pe,{newState:0,oldState:0}),iy=ae(Ya),oy=[9,13,27,32],bl=xr&&"CompositionEvent"in window,N=null;xr&&"documentMode"in document&&(N=document.documentMode);var q=xr&&"TextEvent"in window&&!N,Y=xr&&(!bl||N&&8<N&&11>=N),ce=" ",Ae=!1;function De(c,d){switch(c){case"keyup":return oy.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ht(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Mn=!1;function Is(c,d){switch(c){case"compositionend":return ht(d);case"keypress":return d.which!==32?null:(Ae=!0,ce);case"textInput":return c=d.data,c===ce&&Ae?null:c;default:return null}}function Fn(c,d){if(Mn)return c==="compositionend"||!bl&&De(c,d)?(c=Vo(),ui=ks=Ka=null,Mn=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return Y&&d.locale!=="ko"?null:d.data;default:return null}}var Gs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ps(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d==="input"?!!Gs[c.type]:d==="textarea"}function uc(c,d,m,b){li?ci?ci.push(b):ci=[b]:li=b,d=Vy(d,"onChange"),0<d.length&&(m=new Be("onChange","change",null,m,b),c.push({event:m,listeners:d}))}var ua=null,wl=null;function Ip(c){Nk(c,0)}function ly(c){var d=mt(c);if(gl(d))return c}function n4(c,d){if(c==="change")return d}var r4=!1;if(xr){var e2;if(xr){var t2="oninput"in document;if(!t2){var s4=document.createElement("div");s4.setAttribute("oninput","return;"),t2=typeof s4.oninput=="function"}e2=t2}else e2=!1;r4=e2&&(!document.documentMode||9<document.documentMode)}function a4(){ua&&(ua.detachEvent("onpropertychange",i4),wl=ua=null)}function i4(c){if(c.propertyName==="value"&&ly(wl)){var d=[];uc(d,wl,c,as(c)),qo(Ip,d)}}function BK(c,d,m){c==="focusin"?(a4(),ua=d,wl=m,ua.attachEvent("onpropertychange",i4)):c==="focusout"&&a4()}function UK(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return ly(wl)}function zK(c,d){if(c==="click")return ly(d)}function qK(c,d){if(c==="input"||c==="change")return ly(d)}function $K(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var ki=typeof Object.is=="function"?Object.is:$K;function Pp(c,d){if(ki(c,d))return!0;if(typeof c!="object"||c===null||typeof d!="object"||d===null)return!1;var m=Object.keys(c),b=Object.keys(d);if(m.length!==b.length)return!1;for(b=0;b<m.length;b++){var k=m[b];if(!Cn.call(d,k)||!ki(c[k],d[k]))return!1}return!0}function o4(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function l4(c,d){var m=o4(c);c=0;for(var b;m;){if(m.nodeType===3){if(b=c+m.textContent.length,c<=d&&b>=d)return{node:m,offset:d-c};c=b}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=o4(m)}}function c4(c,d){return c&&d?c===d?!0:c&&c.nodeType===3?!1:d&&d.nodeType===3?c4(c,d.parentNode):"contains"in c?c.contains(d):c.compareDocumentPosition?!!(c.compareDocumentPosition(d)&16):!1:!1}function u4(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var d=vl(c.document);d instanceof c.HTMLIFrameElement;){try{var m=typeof d.contentWindow.location.href=="string"}catch{m=!1}if(m)c=d.contentWindow;else break;d=vl(c.document)}return d}function n2(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d&&(d==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||d==="textarea"||c.contentEditable==="true")}function VK(c,d){var m=u4(d);d=c.focusedElem;var b=c.selectionRange;if(m!==d&&d&&d.ownerDocument&&c4(d.ownerDocument.documentElement,d)){if(b!==null&&n2(d)){if(c=b.start,m=b.end,m===void 0&&(m=c),"selectionStart"in d)d.selectionStart=c,d.selectionEnd=Math.min(m,d.value.length);else if(m=(c=d.ownerDocument||document)&&c.defaultView||window,m.getSelection){m=m.getSelection();var k=d.textContent.length,M=Math.min(b.start,k);b=b.end===void 0?M:Math.min(b.end,k),!m.extend&&M>b&&(k=b,b=M,M=k),k=l4(d,M);var J=l4(d,b);k&&J&&(m.rangeCount!==1||m.anchorNode!==k.node||m.anchorOffset!==k.offset||m.focusNode!==J.node||m.focusOffset!==J.offset)&&(c=c.createRange(),c.setStart(k.node,k.offset),m.removeAllRanges(),M>b?(m.addRange(c),m.extend(J.node,J.offset)):(c.setEnd(J.node,J.offset),m.addRange(c)))}}for(c=[],m=d;m=m.parentNode;)m.nodeType===1&&c.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<c.length;d++)m=c[d],m.element.scrollLeft=m.left,m.element.scrollTop=m.top}}var HK=xr&&"documentMode"in document&&11>=document.documentMode,Cf=null,r2=null,Dp=null,s2=!1;function d4(c,d,m){var b=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;s2||Cf==null||Cf!==vl(b)||(b=Cf,"selectionStart"in b&&n2(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),Dp&&Pp(Dp,b)||(Dp=b,b=Vy(r2,"onSelect"),0<b.length&&(d=new Be("onSelect","select",null,d,m),c.push({event:d,listeners:b}),d.target=Cf)))}function kd(c,d){var m={};return m[c.toLowerCase()]=d.toLowerCase(),m["Webkit"+c]="webkit"+d,m["Moz"+c]="moz"+d,m}var Nf={animationend:kd("Animation","AnimationEnd"),animationiteration:kd("Animation","AnimationIteration"),animationstart:kd("Animation","AnimationStart"),transitionrun:kd("Transition","TransitionRun"),transitionstart:kd("Transition","TransitionStart"),transitioncancel:kd("Transition","TransitionCancel"),transitionend:kd("Transition","TransitionEnd")},a2={},h4={};xr&&(h4=document.createElement("div").style,"AnimationEvent"in window||(delete Nf.animationend.animation,delete Nf.animationiteration.animation,delete Nf.animationstart.animation),"TransitionEvent"in window||delete Nf.transitionend.transition);function Od(c){if(a2[c])return a2[c];if(!Nf[c])return c;var d=Nf[c],m;for(m in d)if(d.hasOwnProperty(m)&&m in h4)return a2[c]=d[m];return c}var f4=Od("animationend"),m4=Od("animationiteration"),p4=Od("animationstart"),GK=Od("transitionrun"),WK=Od("transitionstart"),KK=Od("transitioncancel"),g4=Od("transitionend"),v4=new Map,y4="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Ho(c,d){v4.set(c,d),ln(d,[c])}var lo=[],Tf=0,i2=0;function cy(){for(var c=Tf,d=i2=Tf=0;d<c;){var m=lo[d];lo[d++]=null;var b=lo[d];lo[d++]=null;var k=lo[d];lo[d++]=null;var M=lo[d];if(lo[d++]=null,b!==null&&k!==null){var J=b.pending;J===null?k.next=k:(k.next=J.next,J.next=k),b.pending=k}M!==0&&x4(m,k,M)}}function uy(c,d,m,b){lo[Tf++]=c,lo[Tf++]=d,lo[Tf++]=m,lo[Tf++]=b,i2|=b,c.lanes|=b,c=c.alternate,c!==null&&(c.lanes|=b)}function o2(c,d,m,b){return uy(c,d,m,b),dy(c)}function hu(c,d){return uy(c,null,null,d),dy(c)}function x4(c,d,m){c.lanes|=m;var b=c.alternate;b!==null&&(b.lanes|=m);for(var k=!1,M=c.return;M!==null;)M.childLanes|=m,b=M.alternate,b!==null&&(b.childLanes|=m),M.tag===22&&(c=M.stateNode,c===null||c._visibility&1||(k=!0)),c=M,M=M.return;k&&d!==null&&c.tag===3&&(M=c.stateNode,k=31-Hn(m),M=M.hiddenUpdates,c=M[k],c===null?M[k]=[d]:c.push(d),d.lane=m|536870912)}function dy(c){if(50<og)throw og=0,f_=null,Error(r(185));for(var d=c.return;d!==null;)c=d,d=c.return;return c.tag===3?c.stateNode:null}var Af={},b4=new WeakMap;function co(c,d){if(typeof c=="object"&&c!==null){var m=b4.get(c);return m!==void 0?m:(d={value:c,source:d,stack:Z(d)},b4.set(c,d),d)}return{value:c,source:d,stack:Z(d)}}var Lf=[],Rf=0,hy=null,fy=0,uo=[],ho=0,Id=null,dc=1,hc="";function Pd(c,d){Lf[Rf++]=fy,Lf[Rf++]=hy,hy=c,fy=d}function w4(c,d,m){uo[ho++]=dc,uo[ho++]=hc,uo[ho++]=Id,Id=c;var b=dc;c=hc;var k=32-Hn(b)-1;b&=~(1<<k),m+=1;var M=32-Hn(d)+k;if(30<M){var J=k-k%5;M=(b&(1<<J)-1).toString(32),b>>=J,k-=J,dc=1<<32-Hn(d)+k|m<<k|b,hc=M+c}else dc=1<<M|m<<k|b,hc=c}function l2(c){c.return!==null&&(Pd(c,1),w4(c,1,0))}function c2(c){for(;c===hy;)hy=Lf[--Rf],Lf[Rf]=null,fy=Lf[--Rf],Lf[Rf]=null;for(;c===Id;)Id=uo[--ho],uo[ho]=null,hc=uo[--ho],uo[ho]=null,dc=uo[--ho],uo[ho]=null}var Xa=null,da=null,Gn=!1,Go=null,_l=!1,u2=Error(r(519));function Dd(c){var d=Error(r(418,""));throw Bp(co(d,c)),u2}function _4(c){var d=c.stateNode,m=c.type,b=c.memoizedProps;switch(d[le]=c,d[ue]=b,m){case"dialog":In("cancel",d),In("close",d);break;case"iframe":case"object":case"embed":In("load",d);break;case"video":case"audio":for(m=0;m<cg.length;m++)In(cg[m],d);break;case"source":In("error",d);break;case"img":case"image":case"link":In("error",d),In("load",d);break;case"details":In("toggle",d);break;case"input":In("invalid",d),Ai(d,b.value,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name,!0),ao(d);break;case"select":In("invalid",d);break;case"textarea":In("invalid",d),js(d,b.value,b.defaultValue,b.children),ao(d)}m=b.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||d.textContent===""+m||b.suppressHydrationWarning===!0||Rk(d.textContent,m)?(b.popover!=null&&(In("beforetoggle",d),In("toggle",d)),b.onScroll!=null&&In("scroll",d),b.onScrollEnd!=null&&In("scrollend",d),b.onClick!=null&&(d.onclick=Hy),d=!0):d=!1,d||Dd(c)}function j4(c){for(Xa=c.return;Xa;)switch(Xa.tag){case 3:case 27:_l=!0;return;case 5:case 13:_l=!1;return;default:Xa=Xa.return}}function Mp(c){if(c!==Xa)return!1;if(!Gn)return j4(c),Gn=!0,!1;var d=!1,m;if((m=c.tag!==3&&c.tag!==27)&&((m=c.tag===5)&&(m=c.type,m=!(m!=="form"&&m!=="button")||L_(c.type,c.memoizedProps)),m=!m),m&&(d=!0),d&&da&&Dd(c),j4(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));e:{for(c=c.nextSibling,d=0;c;){if(c.nodeType===8)if(m=c.data,m==="/$"){if(d===0){da=Ko(c.nextSibling);break e}d--}else m!=="$"&&m!=="$!"&&m!=="$?"||d++;c=c.nextSibling}da=null}}else da=Xa?Ko(c.stateNode.nextSibling):null;return!0}function Fp(){da=Xa=null,Gn=!1}function Bp(c){Go===null?Go=[c]:Go.push(c)}var Up=Error(r(460)),E4=Error(r(474)),d2={then:function(){}};function S4(c){return c=c.status,c==="fulfilled"||c==="rejected"}function my(){}function C4(c,d,m){switch(m=c[m],m===void 0?c.push(d):m!==d&&(d.then(my,my),d=m),d.status){case"fulfilled":return d.value;case"rejected":throw c=d.reason,c===Up?Error(r(483)):c;default:if(typeof d.status=="string")d.then(my,my);else{if(c=wr,c!==null&&100<c.shellSuspendCounter)throw Error(r(482));c=d,c.status="pending",c.then(function(b){if(d.status==="pending"){var k=d;k.status="fulfilled",k.value=b}},function(b){if(d.status==="pending"){var k=d;k.status="rejected",k.reason=b}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw c=d.reason,c===Up?Error(r(483)):c}throw zp=d,Up}}var zp=null;function N4(){if(zp===null)throw Error(r(459));var c=zp;return zp=null,c}var kf=null,qp=0;function py(c){var d=qp;return qp+=1,kf===null&&(kf=[]),C4(kf,c,d)}function $p(c,d){d=d.props.ref,c.ref=d!==void 0?d:null}function gy(c,d){throw d.$$typeof===i?Error(r(525)):(c=Object.prototype.toString.call(d),Error(r(31,c==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":c)))}function T4(c){var d=c._init;return d(c._payload)}function A4(c){function d(Te,je){if(c){var ke=Te.deletions;ke===null?(Te.deletions=[je],Te.flags|=16):ke.push(je)}}function m(Te,je){if(!c)return null;for(;je!==null;)d(Te,je),je=je.sibling;return null}function b(Te){for(var je=new Map;Te!==null;)Te.key!==null?je.set(Te.key,Te):je.set(Te.index,Te),Te=Te.sibling;return je}function k(Te,je){return Te=Eu(Te,je),Te.index=0,Te.sibling=null,Te}function M(Te,je,ke){return Te.index=ke,c?(ke=Te.alternate,ke!==null?(ke=ke.index,ke<je?(Te.flags|=33554434,je):ke):(Te.flags|=33554434,je)):(Te.flags|=1048576,je)}function J(Te){return c&&Te.alternate===null&&(Te.flags|=33554434),Te}function oe(Te,je,ke,Xe){return je===null||je.tag!==6?(je=a_(ke,Te.mode,Xe),je.return=Te,je):(je=k(je,ke),je.return=Te,je)}function ge(Te,je,ke,Xe){var jt=ke.type;return jt===u?Ge(Te,je,ke.props.children,Xe,ke.key):je!==null&&(je.elementType===jt||typeof jt=="object"&&jt!==null&&jt.$$typeof===O&&T4(jt)===je.type)?(je=k(je,ke.props),$p(je,ke),je.return=Te,je):(je=Iy(ke.type,ke.key,ke.props,null,Te.mode,Xe),$p(je,ke),je.return=Te,je)}function Se(Te,je,ke,Xe){return je===null||je.tag!==4||je.stateNode.containerInfo!==ke.containerInfo||je.stateNode.implementation!==ke.implementation?(je=i_(ke,Te.mode,Xe),je.return=Te,je):(je=k(je,ke.children||[]),je.return=Te,je)}function Ge(Te,je,ke,Xe,jt){return je===null||je.tag!==7?(je=Gd(ke,Te.mode,Xe,jt),je.return=Te,je):(je=k(je,ke),je.return=Te,je)}function rt(Te,je,ke){if(typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint")return je=a_(""+je,Te.mode,ke),je.return=Te,je;if(typeof je=="object"&&je!==null){switch(je.$$typeof){case o:return ke=Iy(je.type,je.key,je.props,null,Te.mode,ke),$p(ke,je),ke.return=Te,ke;case l:return je=i_(je,Te.mode,ke),je.return=Te,je;case O:var Xe=je._init;return je=Xe(je._payload),rt(Te,je,ke)}if(ne(je)||F(je))return je=Gd(je,Te.mode,ke,null),je.return=Te,je;if(typeof je.then=="function")return rt(Te,py(je),ke);if(je.$$typeof===v)return rt(Te,Ry(Te,je),ke);gy(Te,je)}return null}function Pe(Te,je,ke,Xe){var jt=je!==null?je.key:null;if(typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint")return jt!==null?null:oe(Te,je,""+ke,Xe);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case o:return ke.key===jt?ge(Te,je,ke,Xe):null;case l:return ke.key===jt?Se(Te,je,ke,Xe):null;case O:return jt=ke._init,ke=jt(ke._payload),Pe(Te,je,ke,Xe)}if(ne(ke)||F(ke))return jt!==null?null:Ge(Te,je,ke,Xe,null);if(typeof ke.then=="function")return Pe(Te,je,py(ke),Xe);if(ke.$$typeof===v)return Pe(Te,je,Ry(Te,ke),Xe);gy(Te,ke)}return null}function He(Te,je,ke,Xe,jt){if(typeof Xe=="string"&&Xe!==""||typeof Xe=="number"||typeof Xe=="bigint")return Te=Te.get(ke)||null,oe(je,Te,""+Xe,jt);if(typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case o:return Te=Te.get(Xe.key===null?ke:Xe.key)||null,ge(je,Te,Xe,jt);case l:return Te=Te.get(Xe.key===null?ke:Xe.key)||null,Se(je,Te,Xe,jt);case O:var En=Xe._init;return Xe=En(Xe._payload),He(Te,je,ke,Xe,jt)}if(ne(Xe)||F(Xe))return Te=Te.get(ke)||null,Ge(je,Te,Xe,jt,null);if(typeof Xe.then=="function")return He(Te,je,ke,py(Xe),jt);if(Xe.$$typeof===v)return He(Te,je,ke,Ry(je,Xe),jt);gy(je,Xe)}return null}function At(Te,je,ke,Xe){for(var jt=null,En=null,Ot=je,Yt=je=0,Ys=null;Ot!==null&&Yt<ke.length;Yt++){Ot.index>Yt?(Ys=Ot,Ot=null):Ys=Ot.sibling;var Wn=Pe(Te,Ot,ke[Yt],Xe);if(Wn===null){Ot===null&&(Ot=Ys);break}c&&Ot&&Wn.alternate===null&&d(Te,Ot),je=M(Wn,je,Yt),En===null?jt=Wn:En.sibling=Wn,En=Wn,Ot=Ys}if(Yt===ke.length)return m(Te,Ot),Gn&&Pd(Te,Yt),jt;if(Ot===null){for(;Yt<ke.length;Yt++)Ot=rt(Te,ke[Yt],Xe),Ot!==null&&(je=M(Ot,je,Yt),En===null?jt=Ot:En.sibling=Ot,En=Ot);return Gn&&Pd(Te,Yt),jt}for(Ot=b(Ot);Yt<ke.length;Yt++)Ys=He(Ot,Te,Yt,ke[Yt],Xe),Ys!==null&&(c&&Ys.alternate!==null&&Ot.delete(Ys.key===null?Yt:Ys.key),je=M(Ys,je,Yt),En===null?jt=Ys:En.sibling=Ys,En=Ys);return c&&Ot.forEach(function(Ru){return d(Te,Ru)}),Gn&&Pd(Te,Yt),jt}function cn(Te,je,ke,Xe){if(ke==null)throw Error(r(151));for(var jt=null,En=null,Ot=je,Yt=je=0,Ys=null,Wn=ke.next();Ot!==null&&!Wn.done;Yt++,Wn=ke.next()){Ot.index>Yt?(Ys=Ot,Ot=null):Ys=Ot.sibling;var Ru=Pe(Te,Ot,Wn.value,Xe);if(Ru===null){Ot===null&&(Ot=Ys);break}c&&Ot&&Ru.alternate===null&&d(Te,Ot),je=M(Ru,je,Yt),En===null?jt=Ru:En.sibling=Ru,En=Ru,Ot=Ys}if(Wn.done)return m(Te,Ot),Gn&&Pd(Te,Yt),jt;if(Ot===null){for(;!Wn.done;Yt++,Wn=ke.next())Wn=rt(Te,Wn.value,Xe),Wn!==null&&(je=M(Wn,je,Yt),En===null?jt=Wn:En.sibling=Wn,En=Wn);return Gn&&Pd(Te,Yt),jt}for(Ot=b(Ot);!Wn.done;Yt++,Wn=ke.next())Wn=He(Ot,Te,Yt,Wn.value,Xe),Wn!==null&&(c&&Wn.alternate!==null&&Ot.delete(Wn.key===null?Yt:Wn.key),je=M(Wn,je,Yt),En===null?jt=Wn:En.sibling=Wn,En=Wn);return c&&Ot.forEach(function(lX){return d(Te,lX)}),Gn&&Pd(Te,Yt),jt}function ls(Te,je,ke,Xe){if(typeof ke=="object"&&ke!==null&&ke.type===u&&ke.key===null&&(ke=ke.props.children),typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case o:e:{for(var jt=ke.key;je!==null;){if(je.key===jt){if(jt=ke.type,jt===u){if(je.tag===7){m(Te,je.sibling),Xe=k(je,ke.props.children),Xe.return=Te,Te=Xe;break e}}else if(je.elementType===jt||typeof jt=="object"&&jt!==null&&jt.$$typeof===O&&T4(jt)===je.type){m(Te,je.sibling),Xe=k(je,ke.props),$p(Xe,ke),Xe.return=Te,Te=Xe;break e}m(Te,je);break}else d(Te,je);je=je.sibling}ke.type===u?(Xe=Gd(ke.props.children,Te.mode,Xe,ke.key),Xe.return=Te,Te=Xe):(Xe=Iy(ke.type,ke.key,ke.props,null,Te.mode,Xe),$p(Xe,ke),Xe.return=Te,Te=Xe)}return J(Te);case l:e:{for(jt=ke.key;je!==null;){if(je.key===jt)if(je.tag===4&&je.stateNode.containerInfo===ke.containerInfo&&je.stateNode.implementation===ke.implementation){m(Te,je.sibling),Xe=k(je,ke.children||[]),Xe.return=Te,Te=Xe;break e}else{m(Te,je);break}else d(Te,je);je=je.sibling}Xe=i_(ke,Te.mode,Xe),Xe.return=Te,Te=Xe}return J(Te);case O:return jt=ke._init,ke=jt(ke._payload),ls(Te,je,ke,Xe)}if(ne(ke))return At(Te,je,ke,Xe);if(F(ke)){if(jt=F(ke),typeof jt!="function")throw Error(r(150));return ke=jt.call(ke),cn(Te,je,ke,Xe)}if(typeof ke.then=="function")return ls(Te,je,py(ke),Xe);if(ke.$$typeof===v)return ls(Te,je,Ry(Te,ke),Xe);gy(Te,ke)}return typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint"?(ke=""+ke,je!==null&&je.tag===6?(m(Te,je.sibling),Xe=k(je,ke),Xe.return=Te,Te=Xe):(m(Te,je),Xe=a_(ke,Te.mode,Xe),Xe.return=Te,Te=Xe),J(Te)):m(Te,je)}return function(Te,je,ke,Xe){try{qp=0;var jt=ls(Te,je,ke,Xe);return kf=null,jt}catch(Ot){if(Ot===Up)throw Ot;var En=go(29,Ot,null,Te.mode);return En.lanes=Xe,En.return=Te,En}finally{}}}var Md=A4(!0),L4=A4(!1),Of=Ee(null),vy=Ee(0);function R4(c,d){c=jc,_e(vy,c),_e(Of,d),jc=c|d.baseLanes}function h2(){_e(vy,jc),_e(Of,Of.current)}function f2(){jc=vy.current,Ie(Of),Ie(vy)}var fo=Ee(null),jl=null;function fu(c){var d=c.alternate;_e(Ds,Ds.current&1),_e(fo,c),jl===null&&(d===null||Of.current!==null||d.memoizedState!==null)&&(jl=c)}function k4(c){if(c.tag===22){if(_e(Ds,Ds.current),_e(fo,c),jl===null){var d=c.alternate;d!==null&&d.memoizedState!==null&&(jl=c)}}else mu()}function mu(){_e(Ds,Ds.current),_e(fo,fo.current)}function fc(c){Ie(fo),jl===c&&(jl=null),Ie(Ds)}var Ds=Ee(0);function yy(c){for(var d=c;d!==null;){if(d.tag===13){var m=d.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if(d.flags&128)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var YK=typeof AbortController<"u"?AbortController:function(){var c=[],d=this.signal={aborted:!1,addEventListener:function(m,b){c.push(b)}};this.abort=function(){d.aborted=!0,c.forEach(function(m){return m()})}},XK=t.unstable_scheduleCallback,JK=t.unstable_NormalPriority,Ms={$$typeof:v,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function m2(){return{controller:new YK,data:new Map,refCount:0}}function Vp(c){c.refCount--,c.refCount===0&&XK(JK,function(){c.controller.abort()})}var Hp=null,p2=0,If=0,Pf=null;function QK(c,d){if(Hp===null){var m=Hp=[];p2=0,If=w_(),Pf={status:"pending",value:void 0,then:function(b){m.push(b)}}}return p2++,d.then(O4,O4),d}function O4(){if(--p2===0&&Hp!==null){Pf!==null&&(Pf.status="fulfilled");var c=Hp;Hp=null,If=0,Pf=null;for(var d=0;d<c.length;d++)(0,c[d])()}}function ZK(c,d){var m=[],b={status:"pending",value:null,reason:null,then:function(k){m.push(k)}};return c.then(function(){b.status="fulfilled",b.value=d;for(var k=0;k<m.length;k++)(0,m[k])(d)},function(k){for(b.status="rejected",b.reason=k,k=0;k<m.length;k++)(0,m[k])(void 0)}),b}var I4=_.S;_.S=function(c,d){typeof d=="object"&&d!==null&&typeof d.then=="function"&&QK(c,d),I4!==null&&I4(c,d)};var Fd=Ee(null);function g2(){var c=Fd.current;return c!==null?c:wr.pooledCache}function xy(c,d){d===null?_e(Fd,Fd.current):_e(Fd,d.pool)}function P4(){var c=g2();return c===null?null:{parent:Ms._currentValue,pool:c}}var pu=0,_n=null,hr=null,Es=null,by=!1,Df=!1,Bd=!1,wy=0,Gp=0,Mf=null,eY=0;function vs(){throw Error(r(321))}function v2(c,d){if(d===null)return!1;for(var m=0;m<d.length&&m<c.length;m++)if(!ki(c[m],d[m]))return!1;return!0}function y2(c,d,m,b,k,M){return pu=M,_n=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,_.H=c===null||c.memoizedState===null?Ud:gu,Bd=!1,M=m(b,k),Bd=!1,Df&&(M=M4(d,m,b,k)),D4(c),M}function D4(c){_.H=El;var d=hr!==null&&hr.next!==null;if(pu=0,Es=hr=_n=null,by=!1,Gp=0,Mf=null,d)throw Error(r(300));c===null||Ws||(c=c.dependencies,c!==null&&Ly(c)&&(Ws=!0))}function M4(c,d,m,b){_n=c;var k=0;do{if(Df&&(Mf=null),Gp=0,Df=!1,25<=k)throw Error(r(301));if(k+=1,Es=hr=null,c.updateQueue!=null){var M=c.updateQueue;M.lastEffect=null,M.events=null,M.stores=null,M.memoCache!=null&&(M.memoCache.index=0)}_.H=zd,M=d(m,b)}while(Df);return M}function tY(){var c=_.H,d=c.useState()[0];return d=typeof d.then=="function"?Wp(d):d,c=c.useState()[0],(hr!==null?hr.memoizedState:null)!==c&&(_n.flags|=1024),d}function x2(){var c=wy!==0;return wy=0,c}function b2(c,d,m){d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~m}function w2(c){if(by){for(c=c.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}by=!1}pu=0,Es=hr=_n=null,Df=!1,Gp=wy=0,Mf=null}function mi(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Es===null?_n.memoizedState=Es=c:Es=Es.next=c,Es}function Ss(){if(hr===null){var c=_n.alternate;c=c!==null?c.memoizedState:null}else c=hr.next;var d=Es===null?_n.memoizedState:Es.next;if(d!==null)Es=d,hr=c;else{if(c===null)throw _n.alternate===null?Error(r(467)):Error(r(310));hr=c,c={memoizedState:hr.memoizedState,baseState:hr.baseState,baseQueue:hr.baseQueue,queue:hr.queue,next:null},Es===null?_n.memoizedState=Es=c:Es=Es.next=c}return Es}var _y;_y=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Wp(c){var d=Gp;return Gp+=1,Mf===null&&(Mf=[]),c=C4(Mf,c,d),d=_n,(Es===null?d.memoizedState:Es.next)===null&&(d=d.alternate,_.H=d===null||d.memoizedState===null?Ud:gu),c}function jy(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return Wp(c);if(c.$$typeof===v)return La(c)}throw Error(r(438,String(c)))}function _2(c){var d=null,m=_n.updateQueue;if(m!==null&&(d=m.memoCache),d==null){var b=_n.alternate;b!==null&&(b=b.updateQueue,b!==null&&(b=b.memoCache,b!=null&&(d={data:b.data.map(function(k){return k.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),m===null&&(m=_y(),_n.updateQueue=m),m.memoCache=d,m=d.data[d.index],m===void 0)for(m=d.data[d.index]=Array(c),b=0;b<c;b++)m[b]=D;return d.index++,m}function mc(c,d){return typeof d=="function"?d(c):d}function Ey(c){var d=Ss();return j2(d,hr,c)}function j2(c,d,m){var b=c.queue;if(b===null)throw Error(r(311));b.lastRenderedReducer=m;var k=c.baseQueue,M=b.pending;if(M!==null){if(k!==null){var J=k.next;k.next=M.next,M.next=J}d.baseQueue=k=M,b.pending=null}if(M=c.baseState,k===null)c.memoizedState=M;else{d=k.next;var oe=J=null,ge=null,Se=d,Ge=!1;do{var rt=Se.lane&-536870913;if(rt!==Se.lane?(Bn&rt)===rt:(pu&rt)===rt){var Pe=Se.revertLane;if(Pe===0)ge!==null&&(ge=ge.next={lane:0,revertLane:0,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null}),rt===If&&(Ge=!0);else if((pu&Pe)===Pe){Se=Se.next,Pe===If&&(Ge=!0);continue}else rt={lane:0,revertLane:Se.revertLane,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null},ge===null?(oe=ge=rt,J=M):ge=ge.next=rt,_n.lanes|=Pe,Su|=Pe;rt=Se.action,Bd&&m(M,rt),M=Se.hasEagerState?Se.eagerState:m(M,rt)}else Pe={lane:rt,revertLane:Se.revertLane,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null},ge===null?(oe=ge=Pe,J=M):ge=ge.next=Pe,_n.lanes|=rt,Su|=rt;Se=Se.next}while(Se!==null&&Se!==d);if(ge===null?J=M:ge.next=oe,!ki(M,c.memoizedState)&&(Ws=!0,Ge&&(m=Pf,m!==null)))throw m;c.memoizedState=M,c.baseState=J,c.baseQueue=ge,b.lastRenderedState=M}return k===null&&(b.lanes=0),[c.memoizedState,b.dispatch]}function E2(c){var d=Ss(),m=d.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=c;var b=m.dispatch,k=m.pending,M=d.memoizedState;if(k!==null){m.pending=null;var J=k=k.next;do M=c(M,J.action),J=J.next;while(J!==k);ki(M,d.memoizedState)||(Ws=!0),d.memoizedState=M,d.baseQueue===null&&(d.baseState=M),m.lastRenderedState=M}return[M,b]}function F4(c,d,m){var b=_n,k=Ss(),M=Gn;if(M){if(m===void 0)throw Error(r(407));m=m()}else m=d();var J=!ki((hr||k).memoizedState,m);if(J&&(k.memoizedState=m,Ws=!0),k=k.queue,N2(z4.bind(null,b,k,c),[c]),k.getSnapshot!==d||J||Es!==null&&Es.memoizedState.tag&1){if(b.flags|=2048,Ff(9,U4.bind(null,b,k,m,d),{destroy:void 0},null),wr===null)throw Error(r(349));M||pu&60||B4(b,d,m)}return m}function B4(c,d,m){c.flags|=16384,c={getSnapshot:d,value:m},d=_n.updateQueue,d===null?(d=_y(),_n.updateQueue=d,d.stores=[c]):(m=d.stores,m===null?d.stores=[c]:m.push(c))}function U4(c,d,m,b){d.value=m,d.getSnapshot=b,q4(d)&&$4(c)}function z4(c,d,m){return m(function(){q4(d)&&$4(c)})}function q4(c){var d=c.getSnapshot;c=c.value;try{var m=d();return!ki(c,m)}catch{return!0}}function $4(c){var d=hu(c,2);d!==null&&Ja(d,c,2)}function S2(c){var d=mi();if(typeof c=="function"){var m=c;if(c=m(),Bd){zr(!0);try{m()}finally{zr(!1)}}}return d.memoizedState=d.baseState=c,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mc,lastRenderedState:c},d}function V4(c,d,m,b){return c.baseState=m,j2(c,hr,typeof b=="function"?b:mc)}function nY(c,d,m,b,k){if(Ny(c))throw Error(r(485));if(c=d.action,c!==null){var M={payload:k,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(J){M.listeners.push(J)}};_.T!==null?m(!0):M.isTransition=!1,b(M),m=d.pending,m===null?(M.next=d.pending=M,H4(d,M)):(M.next=m.next,d.pending=m.next=M)}}function H4(c,d){var m=d.action,b=d.payload,k=c.state;if(d.isTransition){var M=_.T,J={};_.T=J;try{var oe=m(k,b),ge=_.S;ge!==null&&ge(J,oe),G4(c,d,oe)}catch(Se){C2(c,d,Se)}finally{_.T=M}}else try{M=m(k,b),G4(c,d,M)}catch(Se){C2(c,d,Se)}}function G4(c,d,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(b){W4(c,d,b)},function(b){return C2(c,d,b)}):W4(c,d,m)}function W4(c,d,m){d.status="fulfilled",d.value=m,K4(d),c.state=m,d=c.pending,d!==null&&(m=d.next,m===d?c.pending=null:(m=m.next,d.next=m,H4(c,m)))}function C2(c,d,m){var b=c.pending;if(c.pending=null,b!==null){b=b.next;do d.status="rejected",d.reason=m,K4(d),d=d.next;while(d!==b)}c.action=null}function K4(c){c=c.listeners;for(var d=0;d<c.length;d++)(0,c[d])()}function Y4(c,d){return d}function X4(c,d){if(Gn){var m=wr.formState;if(m!==null){e:{var b=_n;if(Gn){if(da){t:{for(var k=da,M=_l;k.nodeType!==8;){if(!M){k=null;break t}if(k=Ko(k.nextSibling),k===null){k=null;break t}}M=k.data,k=M==="F!"||M==="F"?k:null}if(k){da=Ko(k.nextSibling),b=k.data==="F!";break e}}Dd(b)}b=!1}b&&(d=m[0])}}return m=mi(),m.memoizedState=m.baseState=d,b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Y4,lastRenderedState:d},m.queue=b,m=mR.bind(null,_n,b),b.dispatch=m,b=S2(!1),M=k2.bind(null,_n,!1,b.queue),b=mi(),k={state:d,dispatch:null,action:c,pending:null},b.queue=k,m=nY.bind(null,_n,k,M,m),k.dispatch=m,b.memoizedState=c,[d,m,!1]}function J4(c){var d=Ss();return Q4(d,hr,c)}function Q4(c,d,m){d=j2(c,d,Y4)[0],c=Ey(mc)[0],d=typeof d=="object"&&d!==null&&typeof d.then=="function"?Wp(d):d;var b=Ss(),k=b.queue,M=k.dispatch;return m!==b.memoizedState&&(_n.flags|=2048,Ff(9,rY.bind(null,k,m),{destroy:void 0},null)),[d,M,c]}function rY(c,d){c.action=d}function Z4(c){var d=Ss(),m=hr;if(m!==null)return Q4(d,m,c);Ss(),d=d.memoizedState,m=Ss();var b=m.queue.dispatch;return m.memoizedState=c,[d,b,!1]}function Ff(c,d,m,b){return c={tag:c,create:d,inst:m,deps:b,next:null},d=_n.updateQueue,d===null&&(d=_y(),_n.updateQueue=d),m=d.lastEffect,m===null?d.lastEffect=c.next=c:(b=m.next,m.next=c,c.next=b,d.lastEffect=c),c}function eR(){return Ss().memoizedState}function Sy(c,d,m,b){var k=mi();_n.flags|=c,k.memoizedState=Ff(1|d,m,{destroy:void 0},b===void 0?null:b)}function Cy(c,d,m,b){var k=Ss();b=b===void 0?null:b;var M=k.memoizedState.inst;hr!==null&&b!==null&&v2(b,hr.memoizedState.deps)?k.memoizedState=Ff(d,m,M,b):(_n.flags|=c,k.memoizedState=Ff(1|d,m,M,b))}function tR(c,d){Sy(8390656,8,c,d)}function N2(c,d){Cy(2048,8,c,d)}function nR(c,d){return Cy(4,2,c,d)}function rR(c,d){return Cy(4,4,c,d)}function sR(c,d){if(typeof d=="function"){c=c();var m=d(c);return function(){typeof m=="function"?m():d(null)}}if(d!=null)return c=c(),d.current=c,function(){d.current=null}}function aR(c,d,m){m=m!=null?m.concat([c]):null,Cy(4,4,sR.bind(null,d,c),m)}function T2(){}function iR(c,d){var m=Ss();d=d===void 0?null:d;var b=m.memoizedState;return d!==null&&v2(d,b[1])?b[0]:(m.memoizedState=[c,d],c)}function oR(c,d){var m=Ss();d=d===void 0?null:d;var b=m.memoizedState;if(d!==null&&v2(d,b[1]))return b[0];if(b=c(),Bd){zr(!0);try{c()}finally{zr(!1)}}return m.memoizedState=[b,d],b}function A2(c,d,m){return m===void 0||pu&1073741824?c.memoizedState=d:(c.memoizedState=m,c=ck(),_n.lanes|=c,Su|=c,m)}function lR(c,d,m,b){return ki(m,d)?m:Of.current!==null?(c=A2(c,m,b),ki(c,d)||(Ws=!0),c):pu&42?(c=ck(),_n.lanes|=c,Su|=c,d):(Ws=!0,c.memoizedState=m)}function cR(c,d,m,b,k){var M=te.p;te.p=M!==0&&8>M?M:8;var J=_.T,oe={};_.T=oe,k2(c,!1,d,m);try{var ge=k(),Se=_.S;if(Se!==null&&Se(oe,ge),ge!==null&&typeof ge=="object"&&typeof ge.then=="function"){var Ge=ZK(ge,b);Kp(c,d,Ge,Di(c))}else Kp(c,d,b,Di(c))}catch(rt){Kp(c,d,{then:function(){},status:"rejected",reason:rt},Di())}finally{te.p=M,_.T=J}}function sY(){}function L2(c,d,m,b){if(c.tag!==5)throw Error(r(476));var k=uR(c).queue;cR(c,k,d,X,m===null?sY:function(){return dR(c),m(b)})}function uR(c){var d=c.memoizedState;if(d!==null)return d;d={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mc,lastRenderedState:X},next:null};var m={};return d.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mc,lastRenderedState:m},next:null},c.memoizedState=d,c=c.alternate,c!==null&&(c.memoizedState=d),d}function dR(c){var d=uR(c).next.queue;Kp(c,d,{},Di())}function R2(){return La(mg)}function hR(){return Ss().memoizedState}function fR(){return Ss().memoizedState}function aY(c){for(var d=c.return;d!==null;){switch(d.tag){case 24:case 3:var m=Di();c=xu(m);var b=bu(d,c,m);b!==null&&(Ja(b,d,m),Jp(b,d,m)),d={cache:m2()},c.payload=d;return}d=d.return}}function iY(c,d,m){var b=Di();m={lane:b,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null},Ny(c)?pR(d,m):(m=o2(c,d,m,b),m!==null&&(Ja(m,c,b),gR(m,d,b)))}function mR(c,d,m){var b=Di();Kp(c,d,m,b)}function Kp(c,d,m,b){var k={lane:b,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null};if(Ny(c))pR(d,k);else{var M=c.alternate;if(c.lanes===0&&(M===null||M.lanes===0)&&(M=d.lastRenderedReducer,M!==null))try{var J=d.lastRenderedState,oe=M(J,m);if(k.hasEagerState=!0,k.eagerState=oe,ki(oe,J))return uy(c,d,k,0),wr===null&&cy(),!1}catch{}finally{}if(m=o2(c,d,k,b),m!==null)return Ja(m,c,b),gR(m,d,b),!0}return!1}function k2(c,d,m,b){if(b={lane:2,revertLane:w_(),action:b,hasEagerState:!1,eagerState:null,next:null},Ny(c)){if(d)throw Error(r(479))}else d=o2(c,m,b,2),d!==null&&Ja(d,c,2)}function Ny(c){var d=c.alternate;return c===_n||d!==null&&d===_n}function pR(c,d){Df=by=!0;var m=c.pending;m===null?d.next=d:(d.next=m.next,m.next=d),c.pending=d}function gR(c,d,m){if(m&4194176){var b=d.lanes;b&=c.pendingLanes,m|=b,d.lanes=m,ii(c,m)}}var El={readContext:La,use:jy,useCallback:vs,useContext:vs,useEffect:vs,useImperativeHandle:vs,useLayoutEffect:vs,useInsertionEffect:vs,useMemo:vs,useReducer:vs,useRef:vs,useState:vs,useDebugValue:vs,useDeferredValue:vs,useTransition:vs,useSyncExternalStore:vs,useId:vs};El.useCacheRefresh=vs,El.useMemoCache=vs,El.useHostTransitionStatus=vs,El.useFormState=vs,El.useActionState=vs,El.useOptimistic=vs;var Ud={readContext:La,use:jy,useCallback:function(c,d){return mi().memoizedState=[c,d===void 0?null:d],c},useContext:La,useEffect:tR,useImperativeHandle:function(c,d,m){m=m!=null?m.concat([c]):null,Sy(4194308,4,sR.bind(null,d,c),m)},useLayoutEffect:function(c,d){return Sy(4194308,4,c,d)},useInsertionEffect:function(c,d){Sy(4,2,c,d)},useMemo:function(c,d){var m=mi();d=d===void 0?null:d;var b=c();if(Bd){zr(!0);try{c()}finally{zr(!1)}}return m.memoizedState=[b,d],b},useReducer:function(c,d,m){var b=mi();if(m!==void 0){var k=m(d);if(Bd){zr(!0);try{m(d)}finally{zr(!1)}}}else k=d;return b.memoizedState=b.baseState=k,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:k},b.queue=c,c=c.dispatch=iY.bind(null,_n,c),[b.memoizedState,c]},useRef:function(c){var d=mi();return c={current:c},d.memoizedState=c},useState:function(c){c=S2(c);var d=c.queue,m=mR.bind(null,_n,d);return d.dispatch=m,[c.memoizedState,m]},useDebugValue:T2,useDeferredValue:function(c,d){var m=mi();return A2(m,c,d)},useTransition:function(){var c=S2(!1);return c=cR.bind(null,_n,c.queue,!0,!1),mi().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,d,m){var b=_n,k=mi();if(Gn){if(m===void 0)throw Error(r(407));m=m()}else{if(m=d(),wr===null)throw Error(r(349));Bn&60||B4(b,d,m)}k.memoizedState=m;var M={value:m,getSnapshot:d};return k.queue=M,tR(z4.bind(null,b,M,c),[c]),b.flags|=2048,Ff(9,U4.bind(null,b,M,m,d),{destroy:void 0},null),m},useId:function(){var c=mi(),d=wr.identifierPrefix;if(Gn){var m=hc,b=dc;m=(b&~(1<<32-Hn(b)-1)).toString(32)+m,d=":"+d+"R"+m,m=wy++,0<m&&(d+="H"+m.toString(32)),d+=":"}else m=eY++,d=":"+d+"r"+m.toString(32)+":";return c.memoizedState=d},useCacheRefresh:function(){return mi().memoizedState=aY.bind(null,_n)}};Ud.useMemoCache=_2,Ud.useHostTransitionStatus=R2,Ud.useFormState=X4,Ud.useActionState=X4,Ud.useOptimistic=function(c){var d=mi();d.memoizedState=d.baseState=c;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=m,d=k2.bind(null,_n,!0,m),m.dispatch=d,[c,d]};var gu={readContext:La,use:jy,useCallback:iR,useContext:La,useEffect:N2,useImperativeHandle:aR,useInsertionEffect:nR,useLayoutEffect:rR,useMemo:oR,useReducer:Ey,useRef:eR,useState:function(){return Ey(mc)},useDebugValue:T2,useDeferredValue:function(c,d){var m=Ss();return lR(m,hr.memoizedState,c,d)},useTransition:function(){var c=Ey(mc)[0],d=Ss().memoizedState;return[typeof c=="boolean"?c:Wp(c),d]},useSyncExternalStore:F4,useId:hR};gu.useCacheRefresh=fR,gu.useMemoCache=_2,gu.useHostTransitionStatus=R2,gu.useFormState=J4,gu.useActionState=J4,gu.useOptimistic=function(c,d){var m=Ss();return V4(m,hr,c,d)};var zd={readContext:La,use:jy,useCallback:iR,useContext:La,useEffect:N2,useImperativeHandle:aR,useInsertionEffect:nR,useLayoutEffect:rR,useMemo:oR,useReducer:E2,useRef:eR,useState:function(){return E2(mc)},useDebugValue:T2,useDeferredValue:function(c,d){var m=Ss();return hr===null?A2(m,c,d):lR(m,hr.memoizedState,c,d)},useTransition:function(){var c=E2(mc)[0],d=Ss().memoizedState;return[typeof c=="boolean"?c:Wp(c),d]},useSyncExternalStore:F4,useId:hR};zd.useCacheRefresh=fR,zd.useMemoCache=_2,zd.useHostTransitionStatus=R2,zd.useFormState=Z4,zd.useActionState=Z4,zd.useOptimistic=function(c,d){var m=Ss();return hr!==null?V4(m,hr,c,d):(m.baseState=c,[c,m.queue.dispatch])};function O2(c,d,m,b){d=c.memoizedState,m=m(b,d),m=m==null?d:L({},d,m),c.memoizedState=m,c.lanes===0&&(c.updateQueue.baseState=m)}var I2={isMounted:function(c){return(c=c._reactInternals)?me(c)===c:!1},enqueueSetState:function(c,d,m){c=c._reactInternals;var b=Di(),k=xu(b);k.payload=d,m!=null&&(k.callback=m),d=bu(c,k,b),d!==null&&(Ja(d,c,b),Jp(d,c,b))},enqueueReplaceState:function(c,d,m){c=c._reactInternals;var b=Di(),k=xu(b);k.tag=1,k.payload=d,m!=null&&(k.callback=m),d=bu(c,k,b),d!==null&&(Ja(d,c,b),Jp(d,c,b))},enqueueForceUpdate:function(c,d){c=c._reactInternals;var m=Di(),b=xu(m);b.tag=2,d!=null&&(b.callback=d),d=bu(c,b,m),d!==null&&(Ja(d,c,m),Jp(d,c,m))}};function vR(c,d,m,b,k,M,J){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(b,M,J):d.prototype&&d.prototype.isPureReactComponent?!Pp(m,b)||!Pp(k,M):!0}function yR(c,d,m,b){c=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(m,b),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(m,b),d.state!==c&&I2.enqueueReplaceState(d,d.state,null)}function qd(c,d){var m=d;if("ref"in d){m={};for(var b in d)b!=="ref"&&(m[b]=d[b])}if(c=c.defaultProps){m===d&&(m=L({},m));for(var k in c)m[k]===void 0&&(m[k]=c[k])}return m}var Ty=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)};function xR(c){Ty(c)}function bR(c){console.error(c)}function wR(c){Ty(c)}function Ay(c,d){try{var m=c.onUncaughtError;m(d.value,{componentStack:d.stack})}catch(b){setTimeout(function(){throw b})}}function _R(c,d,m){try{var b=c.onCaughtError;b(m.value,{componentStack:m.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(k){setTimeout(function(){throw k})}}function P2(c,d,m){return m=xu(m),m.tag=3,m.payload={element:null},m.callback=function(){Ay(c,d)},m}function jR(c){return c=xu(c),c.tag=3,c}function ER(c,d,m,b){var k=m.type.getDerivedStateFromError;if(typeof k=="function"){var M=b.value;c.payload=function(){return k(M)},c.callback=function(){_R(d,m,b)}}var J=m.stateNode;J!==null&&typeof J.componentDidCatch=="function"&&(c.callback=function(){_R(d,m,b),typeof k!="function"&&(Cu===null?Cu=new Set([this]):Cu.add(this));var oe=b.stack;this.componentDidCatch(b.value,{componentStack:oe!==null?oe:""})})}function oY(c,d,m,b,k){if(m.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){if(d=m.alternate,d!==null&&Xp(d,m,k,!0),m=fo.current,m!==null){switch(m.tag){case 13:return jl===null?g_():m.alternate===null&&os===0&&(os=3),m.flags&=-257,m.flags|=65536,m.lanes=k,b===d2?m.flags|=16384:(d=m.updateQueue,d===null?m.updateQueue=new Set([b]):d.add(b),y_(c,b,k)),!1;case 22:return m.flags|=65536,b===d2?m.flags|=16384:(d=m.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([b])},m.updateQueue=d):(m=d.retryQueue,m===null?d.retryQueue=new Set([b]):m.add(b)),y_(c,b,k)),!1}throw Error(r(435,m.tag))}return y_(c,b,k),g_(),!1}if(Gn)return d=fo.current,d!==null?(!(d.flags&65536)&&(d.flags|=256),d.flags|=65536,d.lanes=k,b!==u2&&(c=Error(r(422),{cause:b}),Bp(co(c,m)))):(b!==u2&&(d=Error(r(423),{cause:b}),Bp(co(d,m))),c=c.current.alternate,c.flags|=65536,k&=-k,c.lanes|=k,b=co(b,m),k=P2(c.stateNode,b,k),X2(c,k),os!==4&&(os=2)),!1;var M=Error(r(520),{cause:b});if(M=co(M,m),ag===null?ag=[M]:ag.push(M),os!==4&&(os=2),d===null)return!0;b=co(b,m),m=d;do{switch(m.tag){case 3:return m.flags|=65536,c=k&-k,m.lanes|=c,c=P2(m.stateNode,b,c),X2(m,c),!1;case 1:if(d=m.type,M=m.stateNode,(m.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(Cu===null||!Cu.has(M))))return m.flags|=65536,k&=-k,m.lanes|=k,k=jR(k),ER(k,c,m,b),X2(m,k),!1}m=m.return}while(m!==null);return!1}var SR=Error(r(461)),Ws=!1;function ha(c,d,m,b){d.child=c===null?L4(d,null,m,b):Md(d,c.child,m,b)}function CR(c,d,m,b,k){m=m.render;var M=d.ref;if("ref"in b){var J={};for(var oe in b)oe!=="ref"&&(J[oe]=b[oe])}else J=b;return Vd(d),b=y2(c,d,m,J,M,k),oe=x2(),c!==null&&!Ws?(b2(c,d,k),pc(c,d,k)):(Gn&&oe&&l2(d),d.flags|=1,ha(c,d,b,k),d.child)}function NR(c,d,m,b,k){if(c===null){var M=m.type;return typeof M=="function"&&!s_(M)&&M.defaultProps===void 0&&m.compare===null?(d.tag=15,d.type=M,TR(c,d,M,b,k)):(c=Iy(m.type,null,b,d,d.mode,k),c.ref=d.ref,c.return=d,d.child=c)}if(M=c.child,!V2(c,k)){var J=M.memoizedProps;if(m=m.compare,m=m!==null?m:Pp,m(J,b)&&c.ref===d.ref)return pc(c,d,k)}return d.flags|=1,c=Eu(M,b),c.ref=d.ref,c.return=d,d.child=c}function TR(c,d,m,b,k){if(c!==null){var M=c.memoizedProps;if(Pp(M,b)&&c.ref===d.ref)if(Ws=!1,d.pendingProps=b=M,V2(c,k))c.flags&131072&&(Ws=!0);else return d.lanes=c.lanes,pc(c,d,k)}return D2(c,d,m,b,k)}function AR(c,d,m){var b=d.pendingProps,k=b.children,M=(d.stateNode._pendingVisibility&2)!==0,J=c!==null?c.memoizedState:null;if(Yp(c,d),b.mode==="hidden"||M){if(d.flags&128){if(b=J!==null?J.baseLanes|m:m,c!==null){for(k=d.child=c.child,M=0;k!==null;)M=M|k.lanes|k.childLanes,k=k.sibling;d.childLanes=M&~b}else d.childLanes=0,d.child=null;return LR(c,d,b,m)}if(m&536870912)d.memoizedState={baseLanes:0,cachePool:null},c!==null&&xy(d,J!==null?J.cachePool:null),J!==null?R4(d,J):h2(),k4(d);else return d.lanes=d.childLanes=536870912,LR(c,d,J!==null?J.baseLanes|m:m,m)}else J!==null?(xy(d,J.cachePool),R4(d,J),mu(),d.memoizedState=null):(c!==null&&xy(d,null),h2(),mu());return ha(c,d,k,m),d.child}function LR(c,d,m,b){var k=g2();return k=k===null?null:{parent:Ms._currentValue,pool:k},d.memoizedState={baseLanes:m,cachePool:k},c!==null&&xy(d,null),h2(),k4(d),c!==null&&Xp(c,d,b,!0),null}function Yp(c,d){var m=d.ref;if(m===null)c!==null&&c.ref!==null&&(d.flags|=2097664);else{if(typeof m!="function"&&typeof m!="object")throw Error(r(284));(c===null||c.ref!==m)&&(d.flags|=2097664)}}function D2(c,d,m,b,k){return Vd(d),m=y2(c,d,m,b,void 0,k),b=x2(),c!==null&&!Ws?(b2(c,d,k),pc(c,d,k)):(Gn&&b&&l2(d),d.flags|=1,ha(c,d,m,k),d.child)}function RR(c,d,m,b,k,M){return Vd(d),d.updateQueue=null,m=M4(d,b,m,k),D4(c),b=x2(),c!==null&&!Ws?(b2(c,d,M),pc(c,d,M)):(Gn&&b&&l2(d),d.flags|=1,ha(c,d,m,M),d.child)}function kR(c,d,m,b,k){if(Vd(d),d.stateNode===null){var M=Af,J=m.contextType;typeof J=="object"&&J!==null&&(M=La(J)),M=new m(b,M),d.memoizedState=M.state!==null&&M.state!==void 0?M.state:null,M.updater=I2,d.stateNode=M,M._reactInternals=d,M=d.stateNode,M.props=b,M.state=d.memoizedState,M.refs={},K2(d),J=m.contextType,M.context=typeof J=="object"&&J!==null?La(J):Af,M.state=d.memoizedState,J=m.getDerivedStateFromProps,typeof J=="function"&&(O2(d,m,J,b),M.state=d.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof M.getSnapshotBeforeUpdate=="function"||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(J=M.state,typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount(),J!==M.state&&I2.enqueueReplaceState(M,M.state,null),Zp(d,b,M,k),Qp(),M.state=d.memoizedState),typeof M.componentDidMount=="function"&&(d.flags|=4194308),b=!0}else if(c===null){M=d.stateNode;var oe=d.memoizedProps,ge=qd(m,oe);M.props=ge;var Se=M.context,Ge=m.contextType;J=Af,typeof Ge=="object"&&Ge!==null&&(J=La(Ge));var rt=m.getDerivedStateFromProps;Ge=typeof rt=="function"||typeof M.getSnapshotBeforeUpdate=="function",oe=d.pendingProps!==oe,Ge||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(oe||Se!==J)&&yR(d,M,b,J),yu=!1;var Pe=d.memoizedState;M.state=Pe,Zp(d,b,M,k),Qp(),Se=d.memoizedState,oe||Pe!==Se||yu?(typeof rt=="function"&&(O2(d,m,rt,b),Se=d.memoizedState),(ge=yu||vR(d,m,ge,b,Pe,Se,J))?(Ge||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(d.flags|=4194308)):(typeof M.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=b,d.memoizedState=Se),M.props=b,M.state=Se,M.context=J,b=ge):(typeof M.componentDidMount=="function"&&(d.flags|=4194308),b=!1)}else{M=d.stateNode,Y2(c,d),J=d.memoizedProps,Ge=qd(m,J),M.props=Ge,rt=d.pendingProps,Pe=M.context,Se=m.contextType,ge=Af,typeof Se=="object"&&Se!==null&&(ge=La(Se)),oe=m.getDerivedStateFromProps,(Se=typeof oe=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(J!==rt||Pe!==ge)&&yR(d,M,b,ge),yu=!1,Pe=d.memoizedState,M.state=Pe,Zp(d,b,M,k),Qp();var He=d.memoizedState;J!==rt||Pe!==He||yu||c!==null&&c.dependencies!==null&&Ly(c.dependencies)?(typeof oe=="function"&&(O2(d,m,oe,b),He=d.memoizedState),(Ge=yu||vR(d,m,Ge,b,Pe,He,ge)||c!==null&&c.dependencies!==null&&Ly(c.dependencies))?(Se||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(b,He,ge),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(b,He,ge)),typeof M.componentDidUpdate=="function"&&(d.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof M.componentDidUpdate!="function"||J===c.memoizedProps&&Pe===c.memoizedState||(d.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||J===c.memoizedProps&&Pe===c.memoizedState||(d.flags|=1024),d.memoizedProps=b,d.memoizedState=He),M.props=b,M.state=He,M.context=ge,b=Ge):(typeof M.componentDidUpdate!="function"||J===c.memoizedProps&&Pe===c.memoizedState||(d.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||J===c.memoizedProps&&Pe===c.memoizedState||(d.flags|=1024),b=!1)}return M=b,Yp(c,d),b=(d.flags&128)!==0,M||b?(M=d.stateNode,m=b&&typeof m.getDerivedStateFromError!="function"?null:M.render(),d.flags|=1,c!==null&&b?(d.child=Md(d,c.child,null,k),d.child=Md(d,null,m,k)):ha(c,d,m,k),d.memoizedState=M.state,c=d.child):c=pc(c,d,k),c}function OR(c,d,m,b){return Fp(),d.flags|=256,ha(c,d,m,b),d.child}var M2={dehydrated:null,treeContext:null,retryLane:0};function F2(c){return{baseLanes:c,cachePool:P4()}}function B2(c,d,m){return c=c!==null?c.childLanes&~m:0,d&&(c|=vo),c}function IR(c,d,m){var b=d.pendingProps,k=!1,M=(d.flags&128)!==0,J;if((J=M)||(J=c!==null&&c.memoizedState===null?!1:(Ds.current&2)!==0),J&&(k=!0,d.flags&=-129),J=(d.flags&32)!==0,d.flags&=-33,c===null){if(Gn){if(k?fu(d):mu(),Gn){var oe=da,ge;if(ge=oe){e:{for(ge=oe,oe=_l;ge.nodeType!==8;){if(!oe){oe=null;break e}if(ge=Ko(ge.nextSibling),ge===null){oe=null;break e}}oe=ge}oe!==null?(d.memoizedState={dehydrated:oe,treeContext:Id!==null?{id:dc,overflow:hc}:null,retryLane:536870912},ge=go(18,null,null,0),ge.stateNode=oe,ge.return=d,d.child=ge,Xa=d,da=null,ge=!0):ge=!1}ge||Dd(d)}if(oe=d.memoizedState,oe!==null&&(oe=oe.dehydrated,oe!==null))return oe.data==="$!"?d.lanes=16:d.lanes=536870912,null;fc(d)}return oe=b.children,b=b.fallback,k?(mu(),k=d.mode,oe=z2({mode:"hidden",children:oe},k),b=Gd(b,k,m,null),oe.return=d,b.return=d,oe.sibling=b,d.child=oe,k=d.child,k.memoizedState=F2(m),k.childLanes=B2(c,J,m),d.memoizedState=M2,b):(fu(d),U2(d,oe))}if(ge=c.memoizedState,ge!==null&&(oe=ge.dehydrated,oe!==null)){if(M)d.flags&256?(fu(d),d.flags&=-257,d=q2(c,d,m)):d.memoizedState!==null?(mu(),d.child=c.child,d.flags|=128,d=null):(mu(),k=b.fallback,oe=d.mode,b=z2({mode:"visible",children:b.children},oe),k=Gd(k,oe,m,null),k.flags|=2,b.return=d,k.return=d,b.sibling=k,d.child=b,Md(d,c.child,null,m),b=d.child,b.memoizedState=F2(m),b.childLanes=B2(c,J,m),d.memoizedState=M2,d=k);else if(fu(d),oe.data==="$!"){if(J=oe.nextSibling&&oe.nextSibling.dataset,J)var Se=J.dgst;J=Se,b=Error(r(419)),b.stack="",b.digest=J,Bp({value:b,source:null,stack:null}),d=q2(c,d,m)}else if(Ws||Xp(c,d,m,!1),J=(m&c.childLanes)!==0,Ws||J){if(J=wr,J!==null){if(b=m&-m,b&42)b=1;else switch(b){case 2:b=1;break;case 8:b=4;break;case 32:b=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:b=64;break;case 268435456:b=134217728;break;default:b=0}if(b=b&(J.suspendedLanes|m)?0:b,b!==0&&b!==ge.retryLane)throw ge.retryLane=b,hu(c,b),Ja(J,c,b),SR}oe.data==="$?"||g_(),d=q2(c,d,m)}else oe.data==="$?"?(d.flags|=128,d.child=c.child,d=_Y.bind(null,c),oe._reactRetry=d,d=null):(c=ge.treeContext,da=Ko(oe.nextSibling),Xa=d,Gn=!0,Go=null,_l=!1,c!==null&&(uo[ho++]=dc,uo[ho++]=hc,uo[ho++]=Id,dc=c.id,hc=c.overflow,Id=d),d=U2(d,b.children),d.flags|=4096);return d}return k?(mu(),k=b.fallback,oe=d.mode,ge=c.child,Se=ge.sibling,b=Eu(ge,{mode:"hidden",children:b.children}),b.subtreeFlags=ge.subtreeFlags&31457280,Se!==null?k=Eu(Se,k):(k=Gd(k,oe,m,null),k.flags|=2),k.return=d,b.return=d,b.sibling=k,d.child=b,b=k,k=d.child,oe=c.child.memoizedState,oe===null?oe=F2(m):(ge=oe.cachePool,ge!==null?(Se=Ms._currentValue,ge=ge.parent!==Se?{parent:Se,pool:Se}:ge):ge=P4(),oe={baseLanes:oe.baseLanes|m,cachePool:ge}),k.memoizedState=oe,k.childLanes=B2(c,J,m),d.memoizedState=M2,b):(fu(d),m=c.child,c=m.sibling,m=Eu(m,{mode:"visible",children:b.children}),m.return=d,m.sibling=null,c!==null&&(J=d.deletions,J===null?(d.deletions=[c],d.flags|=16):J.push(c)),d.child=m,d.memoizedState=null,m)}function U2(c,d){return d=z2({mode:"visible",children:d},c.mode),d.return=c,c.child=d}function z2(c,d){return ik(c,d,0,null)}function q2(c,d,m){return Md(d,c.child,null,m),c=U2(d,d.pendingProps.children),c.flags|=2,d.memoizedState=null,c}function PR(c,d,m){c.lanes|=d;var b=c.alternate;b!==null&&(b.lanes|=d),G2(c.return,d,m)}function $2(c,d,m,b,k){var M=c.memoizedState;M===null?c.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:b,tail:m,tailMode:k}:(M.isBackwards=d,M.rendering=null,M.renderingStartTime=0,M.last=b,M.tail=m,M.tailMode=k)}function DR(c,d,m){var b=d.pendingProps,k=b.revealOrder,M=b.tail;if(ha(c,d,b.children,m),b=Ds.current,b&2)b=b&1|2,d.flags|=128;else{if(c!==null&&c.flags&128)e:for(c=d.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&PR(c,m,d);else if(c.tag===19)PR(c,m,d);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===d)break e;for(;c.sibling===null;){if(c.return===null||c.return===d)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}b&=1}switch(_e(Ds,b),k){case"forwards":for(m=d.child,k=null;m!==null;)c=m.alternate,c!==null&&yy(c)===null&&(k=m),m=m.sibling;m=k,m===null?(k=d.child,d.child=null):(k=m.sibling,m.sibling=null),$2(d,!1,k,m,M);break;case"backwards":for(m=null,k=d.child,d.child=null;k!==null;){if(c=k.alternate,c!==null&&yy(c)===null){d.child=k;break}c=k.sibling,k.sibling=m,m=k,k=c}$2(d,!0,m,null,M);break;case"together":$2(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function pc(c,d,m){if(c!==null&&(d.dependencies=c.dependencies),Su|=d.lanes,!(m&d.childLanes))if(c!==null){if(Xp(c,d,m,!1),(m&d.childLanes)===0)return null}else return null;if(c!==null&&d.child!==c.child)throw Error(r(153));if(d.child!==null){for(c=d.child,m=Eu(c,c.pendingProps),d.child=m,m.return=d;c.sibling!==null;)c=c.sibling,m=m.sibling=Eu(c,c.pendingProps),m.return=d;m.sibling=null}return d.child}function V2(c,d){return c.lanes&d?!0:(c=c.dependencies,!!(c!==null&&Ly(c)))}function lY(c,d,m){switch(d.tag){case 3:Ye(d,d.stateNode.containerInfo),vu(d,Ms,c.memoizedState.cache),Fp();break;case 27:case 5:Ze(d);break;case 4:Ye(d,d.stateNode.containerInfo);break;case 10:vu(d,d.type,d.memoizedProps.value);break;case 13:var b=d.memoizedState;if(b!==null)return b.dehydrated!==null?(fu(d),d.flags|=128,null):m&d.child.childLanes?IR(c,d,m):(fu(d),c=pc(c,d,m),c!==null?c.sibling:null);fu(d);break;case 19:var k=(c.flags&128)!==0;if(b=(m&d.childLanes)!==0,b||(Xp(c,d,m,!1),b=(m&d.childLanes)!==0),k){if(b)return DR(c,d,m);d.flags|=128}if(k=d.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),_e(Ds,Ds.current),b)break;return null;case 22:case 23:return d.lanes=0,AR(c,d,m);case 24:vu(d,Ms,c.memoizedState.cache)}return pc(c,d,m)}function MR(c,d,m){if(c!==null)if(c.memoizedProps!==d.pendingProps)Ws=!0;else{if(!V2(c,m)&&!(d.flags&128))return Ws=!1,lY(c,d,m);Ws=!!(c.flags&131072)}else Ws=!1,Gn&&d.flags&1048576&&w4(d,fy,d.index);switch(d.lanes=0,d.tag){case 16:e:{c=d.pendingProps;var b=d.elementType,k=b._init;if(b=k(b._payload),d.type=b,typeof b=="function")s_(b)?(c=qd(b,c),d.tag=1,d=kR(null,d,b,c,m)):(d.tag=0,d=D2(null,d,b,c,m));else{if(b!=null){if(k=b.$$typeof,k===w){d.tag=11,d=CR(null,d,b,c,m);break e}else if(k===C){d.tag=14,d=NR(null,d,b,c,m);break e}}throw d=A(b)||b,Error(r(306,d,""))}}return d;case 0:return D2(c,d,d.type,d.pendingProps,m);case 1:return b=d.type,k=qd(b,d.pendingProps),kR(c,d,b,k,m);case 3:e:{if(Ye(d,d.stateNode.containerInfo),c===null)throw Error(r(387));var M=d.pendingProps;k=d.memoizedState,b=k.element,Y2(c,d),Zp(d,M,null,m);var J=d.memoizedState;if(M=J.cache,vu(d,Ms,M),M!==k.cache&&W2(d,[Ms],m,!0),Qp(),M=J.element,k.isDehydrated)if(k={element:M,isDehydrated:!1,cache:J.cache},d.updateQueue.baseState=k,d.memoizedState=k,d.flags&256){d=OR(c,d,M,m);break e}else if(M!==b){b=co(Error(r(424)),d),Bp(b),d=OR(c,d,M,m);break e}else for(da=Ko(d.stateNode.containerInfo.firstChild),Xa=d,Gn=!0,Go=null,_l=!0,m=L4(d,null,M,m),d.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(Fp(),M===b){d=pc(c,d,m);break e}ha(c,d,M,m)}d=d.child}return d;case 26:return Yp(c,d),c===null?(m=Uk(d.type,null,d.pendingProps,null))?d.memoizedState=m:Gn||(m=d.type,c=d.pendingProps,b=Gy(ct.current).createElement(m),b[le]=d,b[ue]=c,fa(b,m,c),at(b),d.stateNode=b):d.memoizedState=Uk(d.type,c.memoizedProps,d.pendingProps,c.memoizedState),null;case 27:return Ze(d),c===null&&Gn&&(b=d.stateNode=Mk(d.type,d.pendingProps,ct.current),Xa=d,_l=!0,da=Ko(b.firstChild)),b=d.pendingProps.children,c!==null||Gn?ha(c,d,b,m):d.child=Md(d,null,b,m),Yp(c,d),d.child;case 5:return c===null&&Gn&&((k=b=da)&&(b=FY(b,d.type,d.pendingProps,_l),b!==null?(d.stateNode=b,Xa=d,da=Ko(b.firstChild),_l=!1,k=!0):k=!1),k||Dd(d)),Ze(d),k=d.type,M=d.pendingProps,J=c!==null?c.memoizedProps:null,b=M.children,L_(k,M)?b=null:J!==null&&L_(k,J)&&(d.flags|=32),d.memoizedState!==null&&(k=y2(c,d,tY,null,null,m),mg._currentValue=k),Yp(c,d),ha(c,d,b,m),d.child;case 6:return c===null&&Gn&&((c=m=da)&&(m=BY(m,d.pendingProps,_l),m!==null?(d.stateNode=m,Xa=d,da=null,c=!0):c=!1),c||Dd(d)),null;case 13:return IR(c,d,m);case 4:return Ye(d,d.stateNode.containerInfo),b=d.pendingProps,c===null?d.child=Md(d,null,b,m):ha(c,d,b,m),d.child;case 11:return CR(c,d,d.type,d.pendingProps,m);case 7:return ha(c,d,d.pendingProps,m),d.child;case 8:return ha(c,d,d.pendingProps.children,m),d.child;case 12:return ha(c,d,d.pendingProps.children,m),d.child;case 10:return b=d.pendingProps,vu(d,d.type,b.value),ha(c,d,b.children,m),d.child;case 9:return k=d.type._context,b=d.pendingProps.children,Vd(d),k=La(k),b=b(k),d.flags|=1,ha(c,d,b,m),d.child;case 14:return NR(c,d,d.type,d.pendingProps,m);case 15:return TR(c,d,d.type,d.pendingProps,m);case 19:return DR(c,d,m);case 22:return AR(c,d,m);case 24:return Vd(d),b=La(Ms),c===null?(k=g2(),k===null&&(k=wr,M=m2(),k.pooledCache=M,M.refCount++,M!==null&&(k.pooledCacheLanes|=m),k=M),d.memoizedState={parent:b,cache:k},K2(d),vu(d,Ms,k)):(c.lanes&m&&(Y2(c,d),Zp(d,null,null,m),Qp()),k=c.memoizedState,M=d.memoizedState,k.parent!==b?(k={parent:b,cache:b},d.memoizedState=k,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=k),vu(d,Ms,b)):(b=M.cache,vu(d,Ms,b),b!==k.cache&&W2(d,[Ms],m,!0))),ha(c,d,d.pendingProps.children,m),d.child;case 29:throw d.pendingProps}throw Error(r(156,d.tag))}var H2=Ee(null),$d=null,gc=null;function vu(c,d,m){_e(H2,d._currentValue),d._currentValue=m}function vc(c){c._currentValue=H2.current,Ie(H2)}function G2(c,d,m){for(;c!==null;){var b=c.alternate;if((c.childLanes&d)!==d?(c.childLanes|=d,b!==null&&(b.childLanes|=d)):b!==null&&(b.childLanes&d)!==d&&(b.childLanes|=d),c===m)break;c=c.return}}function W2(c,d,m,b){var k=c.child;for(k!==null&&(k.return=c);k!==null;){var M=k.dependencies;if(M!==null){var J=k.child;M=M.firstContext;e:for(;M!==null;){var oe=M;M=k;for(var ge=0;ge<d.length;ge++)if(oe.context===d[ge]){M.lanes|=m,oe=M.alternate,oe!==null&&(oe.lanes|=m),G2(M.return,m,c),b||(J=null);break e}M=oe.next}}else if(k.tag===18){if(J=k.return,J===null)throw Error(r(341));J.lanes|=m,M=J.alternate,M!==null&&(M.lanes|=m),G2(J,m,c),J=null}else J=k.child;if(J!==null)J.return=k;else for(J=k;J!==null;){if(J===c){J=null;break}if(k=J.sibling,k!==null){k.return=J.return,J=k;break}J=J.return}k=J}}function Xp(c,d,m,b){c=null;for(var k=d,M=!1;k!==null;){if(!M){if(k.flags&524288)M=!0;else if(k.flags&262144)break}if(k.tag===10){var J=k.alternate;if(J===null)throw Error(r(387));if(J=J.memoizedProps,J!==null){var oe=k.type;ki(k.pendingProps.value,J.value)||(c!==null?c.push(oe):c=[oe])}}else if(k===ut.current){if(J=k.alternate,J===null)throw Error(r(387));J.memoizedState.memoizedState!==k.memoizedState.memoizedState&&(c!==null?c.push(mg):c=[mg])}k=k.return}c!==null&&W2(d,c,m,b),d.flags|=262144}function Ly(c){for(c=c.firstContext;c!==null;){if(!ki(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function Vd(c){$d=c,gc=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function La(c){return FR($d,c)}function Ry(c,d){return $d===null&&Vd(c),FR(c,d)}function FR(c,d){var m=d._currentValue;if(d={context:d,memoizedValue:m,next:null},gc===null){if(c===null)throw Error(r(308));gc=d,c.dependencies={lanes:0,firstContext:d},c.flags|=524288}else gc=gc.next=d;return m}var yu=!1;function K2(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Y2(c,d){c=c.updateQueue,d.updateQueue===c&&(d.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function xu(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function bu(c,d,m){var b=c.updateQueue;if(b===null)return null;if(b=b.shared,Xr&2){var k=b.pending;return k===null?d.next=d:(d.next=k.next,k.next=d),b.pending=d,d=dy(c),x4(c,null,m),d}return uy(c,b,d,m),dy(c)}function Jp(c,d,m){if(d=d.updateQueue,d!==null&&(d=d.shared,(m&4194176)!==0)){var b=d.lanes;b&=c.pendingLanes,m|=b,d.lanes=m,ii(c,m)}}function X2(c,d){var m=c.updateQueue,b=c.alternate;if(b!==null&&(b=b.updateQueue,m===b)){var k=null,M=null;if(m=m.firstBaseUpdate,m!==null){do{var J={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};M===null?k=M=J:M=M.next=J,m=m.next}while(m!==null);M===null?k=M=d:M=M.next=d}else k=M=d;m={baseState:b.baseState,firstBaseUpdate:k,lastBaseUpdate:M,shared:b.shared,callbacks:b.callbacks},c.updateQueue=m;return}c=m.lastBaseUpdate,c===null?m.firstBaseUpdate=d:c.next=d,m.lastBaseUpdate=d}var J2=!1;function Qp(){if(J2){var c=Pf;if(c!==null)throw c}}function Zp(c,d,m,b){J2=!1;var k=c.updateQueue;yu=!1;var M=k.firstBaseUpdate,J=k.lastBaseUpdate,oe=k.shared.pending;if(oe!==null){k.shared.pending=null;var ge=oe,Se=ge.next;ge.next=null,J===null?M=Se:J.next=Se,J=ge;var Ge=c.alternate;Ge!==null&&(Ge=Ge.updateQueue,oe=Ge.lastBaseUpdate,oe!==J&&(oe===null?Ge.firstBaseUpdate=Se:oe.next=Se,Ge.lastBaseUpdate=ge))}if(M!==null){var rt=k.baseState;J=0,Ge=Se=ge=null,oe=M;do{var Pe=oe.lane&-536870913,He=Pe!==oe.lane;if(He?(Bn&Pe)===Pe:(b&Pe)===Pe){Pe!==0&&Pe===If&&(J2=!0),Ge!==null&&(Ge=Ge.next={lane:0,tag:oe.tag,payload:oe.payload,callback:null,next:null});e:{var At=c,cn=oe;Pe=d;var ls=m;switch(cn.tag){case 1:if(At=cn.payload,typeof At=="function"){rt=At.call(ls,rt,Pe);break e}rt=At;break e;case 3:At.flags=At.flags&-65537|128;case 0:if(At=cn.payload,Pe=typeof At=="function"?At.call(ls,rt,Pe):At,Pe==null)break e;rt=L({},rt,Pe);break e;case 2:yu=!0}}Pe=oe.callback,Pe!==null&&(c.flags|=64,He&&(c.flags|=8192),He=k.callbacks,He===null?k.callbacks=[Pe]:He.push(Pe))}else He={lane:Pe,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null},Ge===null?(Se=Ge=He,ge=rt):Ge=Ge.next=He,J|=Pe;if(oe=oe.next,oe===null){if(oe=k.shared.pending,oe===null)break;He=oe,oe=He.next,He.next=null,k.lastBaseUpdate=He,k.shared.pending=null}}while(!0);Ge===null&&(ge=rt),k.baseState=ge,k.firstBaseUpdate=Se,k.lastBaseUpdate=Ge,M===null&&(k.shared.lanes=0),Su|=J,c.lanes=J,c.memoizedState=rt}}function BR(c,d){if(typeof c!="function")throw Error(r(191,c));c.call(d)}function UR(c,d){var m=c.callbacks;if(m!==null)for(c.callbacks=null,c=0;c<m.length;c++)BR(m[c],d)}function eg(c,d){try{var m=d.updateQueue,b=m!==null?m.lastEffect:null;if(b!==null){var k=b.next;m=k;do{if((m.tag&c)===c){b=void 0;var M=m.create,J=m.inst;b=M(),J.destroy=b}m=m.next}while(m!==k)}}catch(oe){gr(d,d.return,oe)}}function wu(c,d,m){try{var b=d.updateQueue,k=b!==null?b.lastEffect:null;if(k!==null){var M=k.next;b=M;do{if((b.tag&c)===c){var J=b.inst,oe=J.destroy;if(oe!==void 0){J.destroy=void 0,k=d;var ge=m;try{oe()}catch(Se){gr(k,ge,Se)}}}b=b.next}while(b!==M)}}catch(Se){gr(d,d.return,Se)}}function zR(c){var d=c.updateQueue;if(d!==null){var m=c.stateNode;try{UR(d,m)}catch(b){gr(c,c.return,b)}}}function qR(c,d,m){m.props=qd(c.type,c.memoizedProps),m.state=c.memoizedState;try{m.componentWillUnmount()}catch(b){gr(c,d,b)}}function Hd(c,d){try{var m=c.ref;if(m!==null){var b=c.stateNode;switch(c.tag){case 26:case 27:case 5:var k=b;break;default:k=b}typeof m=="function"?c.refCleanup=m(k):m.current=k}}catch(M){gr(c,d,M)}}function Oi(c,d){var m=c.ref,b=c.refCleanup;if(m!==null)if(typeof b=="function")try{b()}catch(k){gr(c,d,k)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(k){gr(c,d,k)}else m.current=null}function $R(c){var d=c.type,m=c.memoizedProps,b=c.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":m.autoFocus&&b.focus();break e;case"img":m.src?b.src=m.src:m.srcSet&&(b.srcset=m.srcSet)}}catch(k){gr(c,c.return,k)}}function VR(c,d,m){try{var b=c.stateNode;OY(b,c.type,m,d),b[ue]=d}catch(k){gr(c,c.return,k)}}function HR(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27||c.tag===4}function Q2(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||HR(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==27&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Z2(c,d,m){var b=c.tag;if(b===5||b===6)c=c.stateNode,d?m.nodeType===8?m.parentNode.insertBefore(c,d):m.insertBefore(c,d):(m.nodeType===8?(d=m.parentNode,d.insertBefore(c,m)):(d=m,d.appendChild(c)),m=m._reactRootContainer,m!=null||d.onclick!==null||(d.onclick=Hy));else if(b!==4&&b!==27&&(c=c.child,c!==null))for(Z2(c,d,m),c=c.sibling;c!==null;)Z2(c,d,m),c=c.sibling}function ky(c,d,m){var b=c.tag;if(b===5||b===6)c=c.stateNode,d?m.insertBefore(c,d):m.appendChild(c);else if(b!==4&&b!==27&&(c=c.child,c!==null))for(ky(c,d,m),c=c.sibling;c!==null;)ky(c,d,m),c=c.sibling}var yc=!1,is=!1,e_=!1,GR=typeof WeakSet=="function"?WeakSet:Set,Ks=null,WR=!1;function cY(c,d){if(c=c.containerInfo,T_=Qy,c=u4(c),n2(c)){if("selectionStart"in c)var m={start:c.selectionStart,end:c.selectionEnd};else e:{m=(m=c.ownerDocument)&&m.defaultView||window;var b=m.getSelection&&m.getSelection();if(b&&b.rangeCount!==0){m=b.anchorNode;var k=b.anchorOffset,M=b.focusNode;b=b.focusOffset;try{m.nodeType,M.nodeType}catch{m=null;break e}var J=0,oe=-1,ge=-1,Se=0,Ge=0,rt=c,Pe=null;t:for(;;){for(var He;rt!==m||k!==0&&rt.nodeType!==3||(oe=J+k),rt!==M||b!==0&&rt.nodeType!==3||(ge=J+b),rt.nodeType===3&&(J+=rt.nodeValue.length),(He=rt.firstChild)!==null;)Pe=rt,rt=He;for(;;){if(rt===c)break t;if(Pe===m&&++Se===k&&(oe=J),Pe===M&&++Ge===b&&(ge=J),(He=rt.nextSibling)!==null)break;rt=Pe,Pe=rt.parentNode}rt=He}m=oe===-1||ge===-1?null:{start:oe,end:ge}}else m=null}m=m||{start:0,end:0}}else m=null;for(A_={focusedElem:c,selectionRange:m},Qy=!1,Ks=d;Ks!==null;)if(d=Ks,c=d.child,(d.subtreeFlags&1028)!==0&&c!==null)c.return=d,Ks=c;else for(;Ks!==null;){switch(d=Ks,M=d.alternate,c=d.flags,d.tag){case 0:break;case 11:case 15:break;case 1:if(c&1024&&M!==null){c=void 0,m=d,k=M.memoizedProps,M=M.memoizedState,b=m.stateNode;try{var At=qd(m.type,k,m.elementType===m.type);c=b.getSnapshotBeforeUpdate(At,M),b.__reactInternalSnapshotBeforeUpdate=c}catch(cn){gr(m,m.return,cn)}}break;case 3:if(c&1024){if(c=d.stateNode.containerInfo,m=c.nodeType,m===9)O_(c);else if(m===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":O_(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(c&1024)throw Error(r(163))}if(c=d.sibling,c!==null){c.return=d.return,Ks=c;break}Ks=d.return}return At=WR,WR=!1,At}function KR(c,d,m){var b=m.flags;switch(m.tag){case 0:case 11:case 15:bc(c,m),b&4&&eg(5,m);break;case 1:if(bc(c,m),b&4)if(c=m.stateNode,d===null)try{c.componentDidMount()}catch(oe){gr(m,m.return,oe)}else{var k=qd(m.type,d.memoizedProps);d=d.memoizedState;try{c.componentDidUpdate(k,d,c.__reactInternalSnapshotBeforeUpdate)}catch(oe){gr(m,m.return,oe)}}b&64&&zR(m),b&512&&Hd(m,m.return);break;case 3:if(bc(c,m),b&64&&(b=m.updateQueue,b!==null)){if(c=null,m.child!==null)switch(m.child.tag){case 27:case 5:c=m.child.stateNode;break;case 1:c=m.child.stateNode}try{UR(b,c)}catch(oe){gr(m,m.return,oe)}}break;case 26:bc(c,m),b&512&&Hd(m,m.return);break;case 27:case 5:bc(c,m),d===null&&b&4&&$R(m),b&512&&Hd(m,m.return);break;case 12:bc(c,m);break;case 13:bc(c,m),b&4&&JR(c,m);break;case 22:if(k=m.memoizedState!==null||yc,!k){d=d!==null&&d.memoizedState!==null||is;var M=yc,J=is;yc=k,(is=d)&&!J?_u(c,m,(m.subtreeFlags&8772)!==0):bc(c,m),yc=M,is=J}b&512&&(m.memoizedProps.mode==="manual"?Hd(m,m.return):Oi(m,m.return));break;default:bc(c,m)}}function YR(c){var d=c.alternate;d!==null&&(c.alternate=null,YR(d)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(d=c.stateNode,d!==null&&Oe(d)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var Cs=null,Ii=!1;function xc(c,d,m){for(m=m.child;m!==null;)XR(c,d,m),m=m.sibling}function XR(c,d,m){if(Vn&&typeof Vn.onCommitFiberUnmount=="function")try{Vn.onCommitFiberUnmount(Br,m)}catch{}switch(m.tag){case 26:is||Oi(m,d),xc(c,d,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:is||Oi(m,d);var b=Cs,k=Ii;for(Cs=m.stateNode,xc(c,d,m),m=m.stateNode,d=m.attributes;d.length;)m.removeAttributeNode(d[0]);Oe(m),Cs=b,Ii=k;break;case 5:is||Oi(m,d);case 6:k=Cs;var M=Ii;if(Cs=null,xc(c,d,m),Cs=k,Ii=M,Cs!==null)if(Ii)try{c=Cs,b=m.stateNode,c.nodeType===8?c.parentNode.removeChild(b):c.removeChild(b)}catch(J){gr(m,d,J)}else try{Cs.removeChild(m.stateNode)}catch(J){gr(m,d,J)}break;case 18:Cs!==null&&(Ii?(d=Cs,m=m.stateNode,d.nodeType===8?k_(d.parentNode,m):d.nodeType===1&&k_(d,m),yg(d)):k_(Cs,m.stateNode));break;case 4:b=Cs,k=Ii,Cs=m.stateNode.containerInfo,Ii=!0,xc(c,d,m),Cs=b,Ii=k;break;case 0:case 11:case 14:case 15:is||wu(2,m,d),is||wu(4,m,d),xc(c,d,m);break;case 1:is||(Oi(m,d),b=m.stateNode,typeof b.componentWillUnmount=="function"&&qR(m,d,b)),xc(c,d,m);break;case 21:xc(c,d,m);break;case 22:is||Oi(m,d),is=(b=is)||m.memoizedState!==null,xc(c,d,m),is=b;break;default:xc(c,d,m)}}function JR(c,d){if(d.memoizedState===null&&(c=d.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{yg(c)}catch(m){gr(d,d.return,m)}}function uY(c){switch(c.tag){case 13:case 19:var d=c.stateNode;return d===null&&(d=c.stateNode=new GR),d;case 22:return c=c.stateNode,d=c._retryCache,d===null&&(d=c._retryCache=new GR),d;default:throw Error(r(435,c.tag))}}function t_(c,d){var m=uY(c);d.forEach(function(b){var k=jY.bind(null,c,b);m.has(b)||(m.add(b),b.then(k,k))})}function mo(c,d){var m=d.deletions;if(m!==null)for(var b=0;b<m.length;b++){var k=m[b],M=c,J=d,oe=J;e:for(;oe!==null;){switch(oe.tag){case 27:case 5:Cs=oe.stateNode,Ii=!1;break e;case 3:Cs=oe.stateNode.containerInfo,Ii=!0;break e;case 4:Cs=oe.stateNode.containerInfo,Ii=!0;break e}oe=oe.return}if(Cs===null)throw Error(r(160));XR(M,J,k),Cs=null,Ii=!1,M=k.alternate,M!==null&&(M.return=null),k.return=null}if(d.subtreeFlags&13878)for(d=d.child;d!==null;)QR(d,c),d=d.sibling}var Wo=null;function QR(c,d){var m=c.alternate,b=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:mo(d,c),po(c),b&4&&(wu(3,c,c.return),eg(3,c),wu(5,c,c.return));break;case 1:mo(d,c),po(c),b&512&&(is||m===null||Oi(m,m.return)),b&64&&yc&&(c=c.updateQueue,c!==null&&(b=c.callbacks,b!==null&&(m=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=m===null?b:m.concat(b))));break;case 26:var k=Wo;if(mo(d,c),po(c),b&512&&(is||m===null||Oi(m,m.return)),b&4){var M=m!==null?m.memoizedState:null;if(b=c.memoizedState,m===null)if(b===null)if(c.stateNode===null){e:{b=c.type,m=c.memoizedProps,k=k.ownerDocument||k;t:switch(b){case"title":M=k.getElementsByTagName("title")[0],(!M||M[Re]||M[le]||M.namespaceURI==="http://www.w3.org/2000/svg"||M.hasAttribute("itemprop"))&&(M=k.createElement(b),k.head.insertBefore(M,k.querySelector("head > title"))),fa(M,b,m),M[le]=c,at(M),b=M;break e;case"link":var J=$k("link","href",k).get(b+(m.href||""));if(J){for(var oe=0;oe<J.length;oe++)if(M=J[oe],M.getAttribute("href")===(m.href==null?null:m.href)&&M.getAttribute("rel")===(m.rel==null?null:m.rel)&&M.getAttribute("title")===(m.title==null?null:m.title)&&M.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){J.splice(oe,1);break t}}M=k.createElement(b),fa(M,b,m),k.head.appendChild(M);break;case"meta":if(J=$k("meta","content",k).get(b+(m.content||""))){for(oe=0;oe<J.length;oe++)if(M=J[oe],M.getAttribute("content")===(m.content==null?null:""+m.content)&&M.getAttribute("name")===(m.name==null?null:m.name)&&M.getAttribute("property")===(m.property==null?null:m.property)&&M.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&M.getAttribute("charset")===(m.charSet==null?null:m.charSet)){J.splice(oe,1);break t}}M=k.createElement(b),fa(M,b,m),k.head.appendChild(M);break;default:throw Error(r(468,b))}M[le]=c,at(M),b=M}c.stateNode=b}else Vk(k,c.type,c.stateNode);else c.stateNode=qk(k,b,c.memoizedProps);else M!==b?(M===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):M.count--,b===null?Vk(k,c.type,c.stateNode):qk(k,b,c.memoizedProps)):b===null&&c.stateNode!==null&&VR(c,c.memoizedProps,m.memoizedProps)}break;case 27:if(b&4&&c.alternate===null){k=c.stateNode,M=c.memoizedProps;try{for(var ge=k.firstChild;ge;){var Se=ge.nextSibling,Ge=ge.nodeName;ge[Re]||Ge==="HEAD"||Ge==="BODY"||Ge==="SCRIPT"||Ge==="STYLE"||Ge==="LINK"&&ge.rel.toLowerCase()==="stylesheet"||k.removeChild(ge),ge=Se}for(var rt=c.type,Pe=k.attributes;Pe.length;)k.removeAttributeNode(Pe[0]);fa(k,rt,M),k[le]=c,k[ue]=M}catch(At){gr(c,c.return,At)}}case 5:if(mo(d,c),po(c),b&512&&(is||m===null||Oi(m,m.return)),c.flags&32){k=c.stateNode;try{ss(k,"")}catch(At){gr(c,c.return,At)}}b&4&&c.stateNode!=null&&(k=c.memoizedProps,VR(c,k,m!==null?m.memoizedProps:k)),b&1024&&(e_=!0);break;case 6:if(mo(d,c),po(c),b&4){if(c.stateNode===null)throw Error(r(162));b=c.memoizedProps,m=c.stateNode;try{m.nodeValue=b}catch(At){gr(c,c.return,At)}}break;case 3:if(Yy=null,k=Wo,Wo=Wy(d.containerInfo),mo(d,c),Wo=k,po(c),b&4&&m!==null&&m.memoizedState.isDehydrated)try{yg(d.containerInfo)}catch(At){gr(c,c.return,At)}e_&&(e_=!1,ZR(c));break;case 4:b=Wo,Wo=Wy(c.stateNode.containerInfo),mo(d,c),po(c),Wo=b;break;case 12:mo(d,c),po(c);break;case 13:mo(d,c),po(c),c.child.flags&8192&&c.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(u_=We()),b&4&&(b=c.updateQueue,b!==null&&(c.updateQueue=null,t_(c,b)));break;case 22:if(b&512&&(is||m===null||Oi(m,m.return)),ge=c.memoizedState!==null,Se=m!==null&&m.memoizedState!==null,Ge=yc,rt=is,yc=Ge||ge,is=rt||Se,mo(d,c),is=rt,yc=Ge,po(c),d=c.stateNode,d._current=c,d._visibility&=-3,d._visibility|=d._pendingVisibility&2,b&8192&&(d._visibility=ge?d._visibility&-2:d._visibility|1,ge&&(d=yc||is,m===null||Se||d||Bf(c)),c.memoizedProps===null||c.memoizedProps.mode!=="manual"))e:for(m=null,d=c;;){if(d.tag===5||d.tag===26||d.tag===27){if(m===null){Se=m=d;try{if(k=Se.stateNode,ge)M=k.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{J=Se.stateNode,oe=Se.memoizedProps.style;var He=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;J.style.display=He==null||typeof He=="boolean"?"":(""+He).trim()}}catch(At){gr(Se,Se.return,At)}}}else if(d.tag===6){if(m===null){Se=d;try{Se.stateNode.nodeValue=ge?"":Se.memoizedProps}catch(At){gr(Se,Se.return,At)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===c)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break e;for(;d.sibling===null;){if(d.return===null||d.return===c)break e;m===d&&(m=null),d=d.return}m===d&&(m=null),d.sibling.return=d.return,d=d.sibling}b&4&&(b=c.updateQueue,b!==null&&(m=b.retryQueue,m!==null&&(b.retryQueue=null,t_(c,m))));break;case 19:mo(d,c),po(c),b&4&&(b=c.updateQueue,b!==null&&(c.updateQueue=null,t_(c,b)));break;case 21:break;default:mo(d,c),po(c)}}function po(c){var d=c.flags;if(d&2){try{if(c.tag!==27){e:{for(var m=c.return;m!==null;){if(HR(m)){var b=m;break e}m=m.return}throw Error(r(160))}switch(b.tag){case 27:var k=b.stateNode,M=Q2(c);ky(c,M,k);break;case 5:var J=b.stateNode;b.flags&32&&(ss(J,""),b.flags&=-33);var oe=Q2(c);ky(c,oe,J);break;case 3:case 4:var ge=b.stateNode.containerInfo,Se=Q2(c);Z2(c,Se,ge);break;default:throw Error(r(161))}}}catch(Ge){gr(c,c.return,Ge)}c.flags&=-3}d&4096&&(c.flags&=-4097)}function ZR(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var d=c;ZR(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),c=c.sibling}}function bc(c,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)KR(c,d.alternate,d),d=d.sibling}function Bf(c){for(c=c.child;c!==null;){var d=c;switch(d.tag){case 0:case 11:case 14:case 15:wu(4,d,d.return),Bf(d);break;case 1:Oi(d,d.return);var m=d.stateNode;typeof m.componentWillUnmount=="function"&&qR(d,d.return,m),Bf(d);break;case 26:case 27:case 5:Oi(d,d.return),Bf(d);break;case 22:Oi(d,d.return),d.memoizedState===null&&Bf(d);break;default:Bf(d)}c=c.sibling}}function _u(c,d,m){for(m=m&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var b=d.alternate,k=c,M=d,J=M.flags;switch(M.tag){case 0:case 11:case 15:_u(k,M,m),eg(4,M);break;case 1:if(_u(k,M,m),b=M,k=b.stateNode,typeof k.componentDidMount=="function")try{k.componentDidMount()}catch(Se){gr(b,b.return,Se)}if(b=M,k=b.updateQueue,k!==null){var oe=b.stateNode;try{var ge=k.shared.hiddenCallbacks;if(ge!==null)for(k.shared.hiddenCallbacks=null,k=0;k<ge.length;k++)BR(ge[k],oe)}catch(Se){gr(b,b.return,Se)}}m&&J&64&&zR(M),Hd(M,M.return);break;case 26:case 27:case 5:_u(k,M,m),m&&b===null&&J&4&&$R(M),Hd(M,M.return);break;case 12:_u(k,M,m);break;case 13:_u(k,M,m),m&&J&4&&JR(k,M);break;case 22:M.memoizedState===null&&_u(k,M,m),Hd(M,M.return);break;default:_u(k,M,m)}d=d.sibling}}function n_(c,d){var m=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),c=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(c=d.memoizedState.cachePool.pool),c!==m&&(c!=null&&c.refCount++,m!=null&&Vp(m))}function r_(c,d){c=null,d.alternate!==null&&(c=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==c&&(d.refCount++,c!=null&&Vp(c))}function ju(c,d,m,b){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)ek(c,d,m,b),d=d.sibling}function ek(c,d,m,b){var k=d.flags;switch(d.tag){case 0:case 11:case 15:ju(c,d,m,b),k&2048&&eg(9,d);break;case 3:ju(c,d,m,b),k&2048&&(c=null,d.alternate!==null&&(c=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==c&&(d.refCount++,c!=null&&Vp(c)));break;case 12:if(k&2048){ju(c,d,m,b),c=d.stateNode;try{var M=d.memoizedProps,J=M.id,oe=M.onPostCommit;typeof oe=="function"&&oe(J,d.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(ge){gr(d,d.return,ge)}}else ju(c,d,m,b);break;case 23:break;case 22:M=d.stateNode,d.memoizedState!==null?M._visibility&4?ju(c,d,m,b):tg(c,d):M._visibility&4?ju(c,d,m,b):(M._visibility|=4,Uf(c,d,m,b,(d.subtreeFlags&10256)!==0)),k&2048&&n_(d.alternate,d);break;case 24:ju(c,d,m,b),k&2048&&r_(d.alternate,d);break;default:ju(c,d,m,b)}}function Uf(c,d,m,b,k){for(k=k&&(d.subtreeFlags&10256)!==0,d=d.child;d!==null;){var M=c,J=d,oe=m,ge=b,Se=J.flags;switch(J.tag){case 0:case 11:case 15:Uf(M,J,oe,ge,k),eg(8,J);break;case 23:break;case 22:var Ge=J.stateNode;J.memoizedState!==null?Ge._visibility&4?Uf(M,J,oe,ge,k):tg(M,J):(Ge._visibility|=4,Uf(M,J,oe,ge,k)),k&&Se&2048&&n_(J.alternate,J);break;case 24:Uf(M,J,oe,ge,k),k&&Se&2048&&r_(J.alternate,J);break;default:Uf(M,J,oe,ge,k)}d=d.sibling}}function tg(c,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var m=c,b=d,k=b.flags;switch(b.tag){case 22:tg(m,b),k&2048&&n_(b.alternate,b);break;case 24:tg(m,b),k&2048&&r_(b.alternate,b);break;default:tg(m,b)}d=d.sibling}}var ng=8192;function zf(c){if(c.subtreeFlags&ng)for(c=c.child;c!==null;)tk(c),c=c.sibling}function tk(c){switch(c.tag){case 26:zf(c),c.flags&ng&&c.memoizedState!==null&&QY(Wo,c.memoizedState,c.memoizedProps);break;case 5:zf(c);break;case 3:case 4:var d=Wo;Wo=Wy(c.stateNode.containerInfo),zf(c),Wo=d;break;case 22:c.memoizedState===null&&(d=c.alternate,d!==null&&d.memoizedState!==null?(d=ng,ng=16777216,zf(c),ng=d):zf(c));break;default:zf(c)}}function nk(c){var d=c.alternate;if(d!==null&&(c=d.child,c!==null)){d.child=null;do d=c.sibling,c.sibling=null,c=d;while(c!==null)}}function rg(c){var d=c.deletions;if(c.flags&16){if(d!==null)for(var m=0;m<d.length;m++){var b=d[m];Ks=b,sk(b,c)}nk(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)rk(c),c=c.sibling}function rk(c){switch(c.tag){case 0:case 11:case 15:rg(c),c.flags&2048&&wu(9,c,c.return);break;case 3:rg(c);break;case 12:rg(c);break;case 22:var d=c.stateNode;c.memoizedState!==null&&d._visibility&4&&(c.return===null||c.return.tag!==13)?(d._visibility&=-5,Oy(c)):rg(c);break;default:rg(c)}}function Oy(c){var d=c.deletions;if(c.flags&16){if(d!==null)for(var m=0;m<d.length;m++){var b=d[m];Ks=b,sk(b,c)}nk(c)}for(c=c.child;c!==null;){switch(d=c,d.tag){case 0:case 11:case 15:wu(8,d,d.return),Oy(d);break;case 22:m=d.stateNode,m._visibility&4&&(m._visibility&=-5,Oy(d));break;default:Oy(d)}c=c.sibling}}function sk(c,d){for(;Ks!==null;){var m=Ks;switch(m.tag){case 0:case 11:case 15:wu(8,m,d);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var b=m.memoizedState.cachePool.pool;b!=null&&b.refCount++}break;case 24:Vp(m.memoizedState.cache)}if(b=m.child,b!==null)b.return=m,Ks=b;else e:for(m=c;Ks!==null;){b=Ks;var k=b.sibling,M=b.return;if(YR(b),b===m){Ks=null;break e}if(k!==null){k.return=M,Ks=k;break e}Ks=M}}}function dY(c,d,m,b){this.tag=c,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function go(c,d,m,b){return new dY(c,d,m,b)}function s_(c){return c=c.prototype,!(!c||!c.isReactComponent)}function Eu(c,d){var m=c.alternate;return m===null?(m=go(c.tag,d,c.key,c.mode),m.elementType=c.elementType,m.type=c.type,m.stateNode=c.stateNode,m.alternate=c,c.alternate=m):(m.pendingProps=d,m.type=c.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=c.flags&31457280,m.childLanes=c.childLanes,m.lanes=c.lanes,m.child=c.child,m.memoizedProps=c.memoizedProps,m.memoizedState=c.memoizedState,m.updateQueue=c.updateQueue,d=c.dependencies,m.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},m.sibling=c.sibling,m.index=c.index,m.ref=c.ref,m.refCleanup=c.refCleanup,m}function ak(c,d){c.flags&=31457282;var m=c.alternate;return m===null?(c.childLanes=0,c.lanes=d,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=m.childLanes,c.lanes=m.lanes,c.child=m.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=m.memoizedProps,c.memoizedState=m.memoizedState,c.updateQueue=m.updateQueue,c.type=m.type,d=m.dependencies,c.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),c}function Iy(c,d,m,b,k,M){var J=0;if(b=c,typeof c=="function")s_(c)&&(J=1);else if(typeof c=="string")J=XY(c,m,Ue.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case u:return Gd(m.children,k,M,d);case h:J=8,k|=24;break;case f:return c=go(12,m,d,k|2),c.elementType=f,c.lanes=M,c;case E:return c=go(13,m,d,k),c.elementType=E,c.lanes=M,c;case S:return c=go(19,m,d,k),c.elementType=S,c.lanes=M,c;case I:return ik(m,k,M,d);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case g:case v:J=10;break e;case p:J=9;break e;case w:J=11;break e;case C:J=14;break e;case O:J=16,b=null;break e}J=29,m=Error(r(130,c===null?"null":typeof c,"")),b=null}return d=go(J,m,d,k),d.elementType=c,d.type=b,d.lanes=M,d}function Gd(c,d,m,b){return c=go(7,c,b,d),c.lanes=m,c}function ik(c,d,m,b){c=go(22,c,b,d),c.elementType=I,c.lanes=m;var k={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var M=k._current;if(M===null)throw Error(r(456));if(!(k._pendingVisibility&2)){var J=hu(M,2);J!==null&&(k._pendingVisibility|=2,Ja(J,M,2))}},attach:function(){var M=k._current;if(M===null)throw Error(r(456));if(k._pendingVisibility&2){var J=hu(M,2);J!==null&&(k._pendingVisibility&=-3,Ja(J,M,2))}}};return c.stateNode=k,c}function a_(c,d,m){return c=go(6,c,null,d),c.lanes=m,c}function i_(c,d,m){return d=go(4,c.children!==null?c.children:[],c.key,d),d.lanes=m,d.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},d}function wc(c){c.flags|=4}function ok(c,d){if(d.type!=="stylesheet"||d.state.loading&4)c.flags&=-16777217;else if(c.flags|=16777216,!Hk(d)){if(d=fo.current,d!==null&&((Bn&4194176)===Bn?jl!==null:(Bn&62914560)!==Bn&&!(Bn&536870912)||d!==jl))throw zp=d2,E4;c.flags|=8192}}function Py(c,d){d!==null&&(c.flags|=4),c.flags&16384&&(d=c.tag!==22?ts():536870912,c.lanes|=d,$f|=d)}function sg(c,d){if(!Gn)switch(c.tailMode){case"hidden":d=c.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?c.tail=null:m.sibling=null;break;case"collapsed":m=c.tail;for(var b=null;m!==null;)m.alternate!==null&&(b=m),m=m.sibling;b===null?d||c.tail===null?c.tail=null:c.tail.sibling=null:b.sibling=null}}function Yr(c){var d=c.alternate!==null&&c.alternate.child===c.child,m=0,b=0;if(d)for(var k=c.child;k!==null;)m|=k.lanes|k.childLanes,b|=k.subtreeFlags&31457280,b|=k.flags&31457280,k.return=c,k=k.sibling;else for(k=c.child;k!==null;)m|=k.lanes|k.childLanes,b|=k.subtreeFlags,b|=k.flags,k.return=c,k=k.sibling;return c.subtreeFlags|=b,c.childLanes=m,d}function hY(c,d,m){var b=d.pendingProps;switch(c2(d),d.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yr(d),null;case 1:return Yr(d),null;case 3:return m=d.stateNode,b=null,c!==null&&(b=c.memoizedState.cache),d.memoizedState.cache!==b&&(d.flags|=2048),vc(Ms),Et(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(c===null||c.child===null)&&(Mp(d)?wc(d):c===null||c.memoizedState.isDehydrated&&!(d.flags&256)||(d.flags|=1024,Go!==null&&(m_(Go),Go=null))),Yr(d),null;case 26:return m=d.memoizedState,c===null?(wc(d),m!==null?(Yr(d),ok(d,m)):(Yr(d),d.flags&=-16777217)):m?m!==c.memoizedState?(wc(d),Yr(d),ok(d,m)):(Yr(d),d.flags&=-16777217):(c.memoizedProps!==b&&wc(d),Yr(d),d.flags&=-16777217),null;case 27:zt(d),m=ct.current;var k=d.type;if(c!==null&&d.stateNode!=null)c.memoizedProps!==b&&wc(d);else{if(!b){if(d.stateNode===null)throw Error(r(166));return Yr(d),null}c=Ue.current,Mp(d)?_4(d):(c=Mk(k,b,m),d.stateNode=c,wc(d))}return Yr(d),null;case 5:if(zt(d),m=d.type,c!==null&&d.stateNode!=null)c.memoizedProps!==b&&wc(d);else{if(!b){if(d.stateNode===null)throw Error(r(166));return Yr(d),null}if(c=Ue.current,Mp(d))_4(d);else{switch(k=Gy(ct.current),c){case 1:c=k.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:c=k.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":c=k.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":c=k.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":c=k.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof b.is=="string"?k.createElement("select",{is:b.is}):k.createElement("select"),b.multiple?c.multiple=!0:b.size&&(c.size=b.size);break;default:c=typeof b.is=="string"?k.createElement(m,{is:b.is}):k.createElement(m)}}c[le]=d,c[ue]=b;e:for(k=d.child;k!==null;){if(k.tag===5||k.tag===6)c.appendChild(k.stateNode);else if(k.tag!==4&&k.tag!==27&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===d)break e;for(;k.sibling===null;){if(k.return===null||k.return===d)break e;k=k.return}k.sibling.return=k.return,k=k.sibling}d.stateNode=c;e:switch(fa(c,m,b),m){case"button":case"input":case"select":case"textarea":c=!!b.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&wc(d)}}return Yr(d),d.flags&=-16777217,null;case 6:if(c&&d.stateNode!=null)c.memoizedProps!==b&&wc(d);else{if(typeof b!="string"&&d.stateNode===null)throw Error(r(166));if(c=ct.current,Mp(d)){if(c=d.stateNode,m=d.memoizedProps,b=null,k=Xa,k!==null)switch(k.tag){case 27:case 5:b=k.memoizedProps}c[le]=d,c=!!(c.nodeValue===m||b!==null&&b.suppressHydrationWarning===!0||Rk(c.nodeValue,m)),c||Dd(d)}else c=Gy(c).createTextNode(b),c[le]=d,d.stateNode=c}return Yr(d),null;case 13:if(b=d.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(k=Mp(d),b!==null&&b.dehydrated!==null){if(c===null){if(!k)throw Error(r(318));if(k=d.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(r(317));k[le]=d}else Fp(),!(d.flags&128)&&(d.memoizedState=null),d.flags|=4;Yr(d),k=!1}else Go!==null&&(m_(Go),Go=null),k=!0;if(!k)return d.flags&256?(fc(d),d):(fc(d),null)}if(fc(d),d.flags&128)return d.lanes=m,d;if(m=b!==null,c=c!==null&&c.memoizedState!==null,m){b=d.child,k=null,b.alternate!==null&&b.alternate.memoizedState!==null&&b.alternate.memoizedState.cachePool!==null&&(k=b.alternate.memoizedState.cachePool.pool);var M=null;b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(M=b.memoizedState.cachePool.pool),M!==k&&(b.flags|=2048)}return m!==c&&m&&(d.child.flags|=8192),Py(d,d.updateQueue),Yr(d),null;case 4:return Et(),c===null&&S_(d.stateNode.containerInfo),Yr(d),null;case 10:return vc(d.type),Yr(d),null;case 19:if(Ie(Ds),k=d.memoizedState,k===null)return Yr(d),null;if(b=(d.flags&128)!==0,M=k.rendering,M===null)if(b)sg(k,!1);else{if(os!==0||c!==null&&c.flags&128)for(c=d.child;c!==null;){if(M=yy(c),M!==null){for(d.flags|=128,sg(k,!1),c=M.updateQueue,d.updateQueue=c,Py(d,c),d.subtreeFlags=0,c=m,m=d.child;m!==null;)ak(m,c),m=m.sibling;return _e(Ds,Ds.current&1|2),d.child}c=c.sibling}k.tail!==null&&We()>Dy&&(d.flags|=128,b=!0,sg(k,!1),d.lanes=4194304)}else{if(!b)if(c=yy(M),c!==null){if(d.flags|=128,b=!0,c=c.updateQueue,d.updateQueue=c,Py(d,c),sg(k,!0),k.tail===null&&k.tailMode==="hidden"&&!M.alternate&&!Gn)return Yr(d),null}else 2*We()-k.renderingStartTime>Dy&&m!==536870912&&(d.flags|=128,b=!0,sg(k,!1),d.lanes=4194304);k.isBackwards?(M.sibling=d.child,d.child=M):(c=k.last,c!==null?c.sibling=M:d.child=M,k.last=M)}return k.tail!==null?(d=k.tail,k.rendering=d,k.tail=d.sibling,k.renderingStartTime=We(),d.sibling=null,c=Ds.current,_e(Ds,b?c&1|2:c&1),d):(Yr(d),null);case 22:case 23:return fc(d),f2(),b=d.memoizedState!==null,c!==null?c.memoizedState!==null!==b&&(d.flags|=8192):b&&(d.flags|=8192),b?m&536870912&&!(d.flags&128)&&(Yr(d),d.subtreeFlags&6&&(d.flags|=8192)):Yr(d),m=d.updateQueue,m!==null&&Py(d,m.retryQueue),m=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),b=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),b!==m&&(d.flags|=2048),c!==null&&Ie(Fd),null;case 24:return m=null,c!==null&&(m=c.memoizedState.cache),d.memoizedState.cache!==m&&(d.flags|=2048),vc(Ms),Yr(d),null;case 25:return null}throw Error(r(156,d.tag))}function fY(c,d){switch(c2(d),d.tag){case 1:return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 3:return vc(Ms),Et(),c=d.flags,c&65536&&!(c&128)?(d.flags=c&-65537|128,d):null;case 26:case 27:case 5:return zt(d),null;case 13:if(fc(d),c=d.memoizedState,c!==null&&c.dehydrated!==null){if(d.alternate===null)throw Error(r(340));Fp()}return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 19:return Ie(Ds),null;case 4:return Et(),null;case 10:return vc(d.type),null;case 22:case 23:return fc(d),f2(),c!==null&&Ie(Fd),c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 24:return vc(Ms),null;case 25:return null;default:return null}}function lk(c,d){switch(c2(d),d.tag){case 3:vc(Ms),Et();break;case 26:case 27:case 5:zt(d);break;case 4:Et();break;case 13:fc(d);break;case 19:Ie(Ds);break;case 10:vc(d.type);break;case 22:case 23:fc(d),f2(),c!==null&&Ie(Fd);break;case 24:vc(Ms)}}var mY={getCacheForType:function(c){var d=La(Ms),m=d.data.get(c);return m===void 0&&(m=c(),d.data.set(c,m)),m}},pY=typeof WeakMap=="function"?WeakMap:Map,Xr=0,wr=null,Nn=null,Bn=0,_r=0,Pi=null,_c=!1,qf=!1,o_=!1,jc=0,os=0,Su=0,Wd=0,l_=0,vo=0,$f=0,ag=null,Sl=null,c_=!1,u_=0,Dy=1/0,My=null,Cu=null,Fy=!1,Kd=null,ig=0,d_=0,h_=null,og=0,f_=null;function Di(){if(Xr&2&&Bn!==0)return Bn&-Bn;if(_.T!==null){var c=If;return c!==0?c:w_()}return no()}function ck(){vo===0&&(vo=!(Bn&536870912)||Gn?Hs():536870912);var c=fo.current;return c!==null&&(c.flags|=32),vo}function Ja(c,d,m){(c===wr&&_r===2||c.cancelPendingCommit!==null)&&(Vf(c,0),Ec(c,Bn,vo,!1)),bn(c,m),(!(Xr&2)||c!==wr)&&(c===wr&&(!(Xr&2)&&(Wd|=m),os===4&&Ec(c,Bn,vo,!1)),Cl(c))}function uk(c,d,m){if(Xr&6)throw Error(r(327));var b=!m&&(d&60)===0&&(d&c.expiredLanes)===0||gs(c,d),k=b?yY(c,d):v_(c,d,!0),M=b;do{if(k===0){qf&&!b&&Ec(c,d,0,!1);break}else if(k===6)Ec(c,d,0,!_c);else{if(m=c.current.alternate,M&&!gY(m)){k=v_(c,d,!1),M=!1;continue}if(k===2){if(M=d,c.errorRecoveryDisabledLanes&M)var J=0;else J=c.pendingLanes&-536870913,J=J!==0?J:J&536870912?536870912:0;if(J!==0){d=J;e:{var oe=c;k=ag;var ge=oe.current.memoizedState.isDehydrated;if(ge&&(Vf(oe,J).flags|=256),J=v_(oe,J,!1),J!==2){if(o_&&!ge){oe.errorRecoveryDisabledLanes|=M,Wd|=M,k=4;break e}M=Sl,Sl=k,M!==null&&m_(M)}k=J}if(M=!1,k!==2)continue}}if(k===1){Vf(c,0),Ec(c,d,0,!0);break}e:{switch(b=c,k){case 0:case 1:throw Error(r(345));case 4:if((d&4194176)===d){Ec(b,d,vo,!_c);break e}break;case 2:Sl=null;break;case 3:case 5:break;default:throw Error(r(329))}if(b.finishedWork=m,b.finishedLanes=d,(d&62914560)===d&&(M=u_+300-We(),10<M)){if(Ec(b,d,vo,!_c),Nr(b,0)!==0)break e;b.timeoutHandle=Ik(dk.bind(null,b,m,Sl,My,c_,d,vo,Wd,$f,_c,2,-0,0),M);break e}dk(b,m,Sl,My,c_,d,vo,Wd,$f,_c,0,-0,0)}}break}while(!0);Cl(c)}function m_(c){Sl===null?Sl=c:Sl.push.apply(Sl,c)}function dk(c,d,m,b,k,M,J,oe,ge,Se,Ge,rt,Pe){var He=d.subtreeFlags;if((He&8192||(He&16785408)===16785408)&&(fg={stylesheets:null,count:0,unsuspend:JY},tk(d),d=ZY(),d!==null)){c.cancelPendingCommit=d(yk.bind(null,c,m,b,k,J,oe,ge,1,rt,Pe)),Ec(c,M,J,!Se);return}yk(c,m,b,k,J,oe,ge,Ge,rt,Pe)}function gY(c){for(var d=c;;){var m=d.tag;if((m===0||m===11||m===15)&&d.flags&16384&&(m=d.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var b=0;b<m.length;b++){var k=m[b],M=k.getSnapshot;k=k.value;try{if(!ki(M(),k))return!1}catch{return!1}}if(m=d.child,d.subtreeFlags&16384&&m!==null)m.return=d,d=m;else{if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Ec(c,d,m,b){d&=~l_,d&=~Wd,c.suspendedLanes|=d,c.pingedLanes&=~d,b&&(c.warmLanes|=d),b=c.expirationTimes;for(var k=d;0<k;){var M=31-Hn(k),J=1<<M;b[M]=-1,k&=~J}m!==0&&Ca(c,m,d)}function By(){return Xr&6?!0:(lg(0),!1)}function p_(){if(Nn!==null){if(_r===0)var c=Nn.return;else c=Nn,gc=$d=null,w2(c),kf=null,qp=0,c=Nn;for(;c!==null;)lk(c.alternate,c),c=c.return;Nn=null}}function Vf(c,d){c.finishedWork=null,c.finishedLanes=0;var m=c.timeoutHandle;m!==-1&&(c.timeoutHandle=-1,PY(m)),m=c.cancelPendingCommit,m!==null&&(c.cancelPendingCommit=null,m()),p_(),wr=c,Nn=m=Eu(c.current,null),Bn=d,_r=0,Pi=null,_c=!1,qf=gs(c,d),o_=!1,$f=vo=l_=Wd=Su=os=0,Sl=ag=null,c_=!1,d&8&&(d|=d&32);var b=c.entangledLanes;if(b!==0)for(c=c.entanglements,b&=d;0<b;){var k=31-Hn(b),M=1<<k;d|=c[k],b&=~M}return jc=d,cy(),m}function hk(c,d){_n=null,_.H=El,d===Up?(d=N4(),_r=3):d===E4?(d=N4(),_r=4):_r=d===SR?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,Pi=d,Nn===null&&(os=1,Ay(c,co(d,c.current)))}function fk(){var c=_.H;return _.H=El,c===null?El:c}function mk(){var c=_.A;return _.A=mY,c}function g_(){os=4,_c||(Bn&4194176)!==Bn&&fo.current!==null||(qf=!0),!(Su&134217727)&&!(Wd&134217727)||wr===null||Ec(wr,Bn,vo,!1)}function v_(c,d,m){var b=Xr;Xr|=2;var k=fk(),M=mk();(wr!==c||Bn!==d)&&(My=null,Vf(c,d)),d=!1;var J=os;e:do try{if(_r!==0&&Nn!==null){var oe=Nn,ge=Pi;switch(_r){case 8:p_(),J=6;break e;case 3:case 2:case 6:fo.current===null&&(d=!0);var Se=_r;if(_r=0,Pi=null,Hf(c,oe,ge,Se),m&&qf){J=0;break e}break;default:Se=_r,_r=0,Pi=null,Hf(c,oe,ge,Se)}}vY(),J=os;break}catch(Ge){hk(c,Ge)}while(!0);return d&&c.shellSuspendCounter++,gc=$d=null,Xr=b,_.H=k,_.A=M,Nn===null&&(wr=null,Bn=0,cy()),J}function vY(){for(;Nn!==null;)pk(Nn)}function yY(c,d){var m=Xr;Xr|=2;var b=fk(),k=mk();wr!==c||Bn!==d?(My=null,Dy=We()+500,Vf(c,d)):qf=gs(c,d);e:do try{if(_r!==0&&Nn!==null){d=Nn;var M=Pi;t:switch(_r){case 1:_r=0,Pi=null,Hf(c,d,M,1);break;case 2:if(S4(M)){_r=0,Pi=null,gk(d);break}d=function(){_r===2&&wr===c&&(_r=7),Cl(c)},M.then(d,d);break e;case 3:_r=7;break e;case 4:_r=5;break e;case 7:S4(M)?(_r=0,Pi=null,gk(d)):(_r=0,Pi=null,Hf(c,d,M,7));break;case 5:var J=null;switch(Nn.tag){case 26:J=Nn.memoizedState;case 5:case 27:var oe=Nn;if(!J||Hk(J)){_r=0,Pi=null;var ge=oe.sibling;if(ge!==null)Nn=ge;else{var Se=oe.return;Se!==null?(Nn=Se,Uy(Se)):Nn=null}break t}}_r=0,Pi=null,Hf(c,d,M,5);break;case 6:_r=0,Pi=null,Hf(c,d,M,6);break;case 8:p_(),os=6;break e;default:throw Error(r(462))}}xY();break}catch(Ge){hk(c,Ge)}while(!0);return gc=$d=null,_.H=b,_.A=k,Xr=m,Nn!==null?0:(wr=null,Bn=0,cy(),os)}function xY(){for(;Nn!==null&&!dr();)pk(Nn)}function pk(c){var d=MR(c.alternate,c,jc);c.memoizedProps=c.pendingProps,d===null?Uy(c):Nn=d}function gk(c){var d=c,m=d.alternate;switch(d.tag){case 15:case 0:d=RR(m,d,d.pendingProps,d.type,void 0,Bn);break;case 11:d=RR(m,d,d.pendingProps,d.type.render,d.ref,Bn);break;case 5:w2(d);default:lk(m,d),d=Nn=ak(d,jc),d=MR(m,d,jc)}c.memoizedProps=c.pendingProps,d===null?Uy(c):Nn=d}function Hf(c,d,m,b){gc=$d=null,w2(d),kf=null,qp=0;var k=d.return;try{if(oY(c,k,d,m,Bn)){os=1,Ay(c,co(m,c.current)),Nn=null;return}}catch(M){if(k!==null)throw Nn=k,M;os=1,Ay(c,co(m,c.current)),Nn=null;return}d.flags&32768?(Gn||b===1?c=!0:qf||Bn&536870912?c=!1:(_c=c=!0,(b===2||b===3||b===6)&&(b=fo.current,b!==null&&b.tag===13&&(b.flags|=16384))),vk(d,c)):Uy(d)}function Uy(c){var d=c;do{if(d.flags&32768){vk(d,_c);return}c=d.return;var m=hY(d.alternate,d,jc);if(m!==null){Nn=m;return}if(d=d.sibling,d!==null){Nn=d;return}Nn=d=c}while(d!==null);os===0&&(os=5)}function vk(c,d){do{var m=fY(c.alternate,c);if(m!==null){m.flags&=32767,Nn=m;return}if(m=c.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!d&&(c=c.sibling,c!==null)){Nn=c;return}Nn=c=m}while(c!==null);os=6,Nn=null}function yk(c,d,m,b,k,M,J,oe,ge,Se){var Ge=_.T,rt=te.p;try{te.p=2,_.T=null,bY(c,d,m,b,rt,k,M,J,oe,ge,Se)}finally{_.T=Ge,te.p=rt}}function bY(c,d,m,b,k,M,J,oe){do Gf();while(Kd!==null);if(Xr&6)throw Error(r(327));var ge=c.finishedWork;if(b=c.finishedLanes,ge===null)return null;if(c.finishedWork=null,c.finishedLanes=0,ge===c.current)throw Error(r(177));c.callbackNode=null,c.callbackPriority=0,c.cancelPendingCommit=null;var Se=ge.lanes|ge.childLanes;if(Se|=i2,Bt(c,b,Se,M,J,oe),c===wr&&(Nn=wr=null,Bn=0),!(ge.subtreeFlags&10256)&&!(ge.flags&10256)||Fy||(Fy=!0,d_=Se,h_=m,EY(on,function(){return Gf(),null})),m=(ge.flags&15990)!==0,ge.subtreeFlags&15990||m?(m=_.T,_.T=null,M=te.p,te.p=2,J=Xr,Xr|=4,cY(c,ge),QR(ge,c),VK(A_,c.containerInfo),Qy=!!T_,A_=T_=null,c.current=ge,KR(c,ge.alternate,ge),sr(),Xr=J,te.p=M,_.T=m):c.current=ge,Fy?(Fy=!1,Kd=c,ig=b):xk(c,Se),Se=c.pendingLanes,Se===0&&(Cu=null),Ur(ge.stateNode),Cl(c),d!==null)for(k=c.onRecoverableError,ge=0;ge<d.length;ge++)Se=d[ge],k(Se.value,{componentStack:Se.stack});return ig&3&&Gf(),Se=c.pendingLanes,b&4194218&&Se&42?c===f_?og++:(og=0,f_=c):og=0,lg(0),null}function xk(c,d){(c.pooledCacheLanes&=d)===0&&(d=c.pooledCache,d!=null&&(c.pooledCache=null,Vp(d)))}function Gf(){if(Kd!==null){var c=Kd,d=d_;d_=0;var m=Bo(ig),b=_.T,k=te.p;try{if(te.p=32>m?32:m,_.T=null,Kd===null)var M=!1;else{m=h_,h_=null;var J=Kd,oe=ig;if(Kd=null,ig=0,Xr&6)throw Error(r(331));var ge=Xr;if(Xr|=4,rk(J.current),ek(J,J.current,oe,m),Xr=ge,lg(0,!1),Vn&&typeof Vn.onPostCommitFiberRoot=="function")try{Vn.onPostCommitFiberRoot(Br,J)}catch{}M=!0}return M}finally{te.p=k,_.T=b,xk(c,d)}}return!1}function bk(c,d,m){d=co(m,d),d=P2(c.stateNode,d,2),c=bu(c,d,2),c!==null&&(bn(c,2),Cl(c))}function gr(c,d,m){if(c.tag===3)bk(c,c,m);else for(;d!==null;){if(d.tag===3){bk(d,c,m);break}else if(d.tag===1){var b=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(Cu===null||!Cu.has(b))){c=co(m,c),m=jR(2),b=bu(d,m,2),b!==null&&(ER(m,b,d,c),bn(b,2),Cl(b));break}}d=d.return}}function y_(c,d,m){var b=c.pingCache;if(b===null){b=c.pingCache=new pY;var k=new Set;b.set(d,k)}else k=b.get(d),k===void 0&&(k=new Set,b.set(d,k));k.has(m)||(o_=!0,k.add(m),c=wY.bind(null,c,d,m),d.then(c,c))}function wY(c,d,m){var b=c.pingCache;b!==null&&b.delete(d),c.pingedLanes|=c.suspendedLanes&m,c.warmLanes&=~m,wr===c&&(Bn&m)===m&&(os===4||os===3&&(Bn&62914560)===Bn&&300>We()-u_?!(Xr&2)&&Vf(c,0):l_|=m,$f===Bn&&($f=0)),Cl(c)}function wk(c,d){d===0&&(d=ts()),c=hu(c,d),c!==null&&(bn(c,d),Cl(c))}function _Y(c){var d=c.memoizedState,m=0;d!==null&&(m=d.retryLane),wk(c,m)}function jY(c,d){var m=0;switch(c.tag){case 13:var b=c.stateNode,k=c.memoizedState;k!==null&&(m=k.retryLane);break;case 19:b=c.stateNode;break;case 22:b=c.stateNode._retryCache;break;default:throw Error(r(314))}b!==null&&b.delete(d),wk(c,m)}function EY(c,d){return fn(c,d)}var zy=null,Wf=null,x_=!1,qy=!1,b_=!1,Yd=0;function Cl(c){c!==Wf&&c.next===null&&(Wf===null?zy=Wf=c:Wf=Wf.next=c),qy=!0,x_||(x_=!0,CY(SY))}function lg(c,d){if(!b_&&qy){b_=!0;do for(var m=!1,b=zy;b!==null;){if(c!==0){var k=b.pendingLanes;if(k===0)var M=0;else{var J=b.suspendedLanes,oe=b.pingedLanes;M=(1<<31-Hn(42|c)+1)-1,M&=k&~(J&~oe),M=M&201326677?M&201326677|1:M?M|2:0}M!==0&&(m=!0,Ek(b,M))}else M=Bn,M=Nr(b,b===wr?M:0),!(M&3)||gs(b,M)||(m=!0,Ek(b,M));b=b.next}while(m);b_=!1}}function SY(){qy=x_=!1;var c=0;Yd!==0&&(IY()&&(c=Yd),Yd=0);for(var d=We(),m=null,b=zy;b!==null;){var k=b.next,M=_k(b,d);M===0?(b.next=null,m===null?zy=k:m.next=k,k===null&&(Wf=m)):(m=b,(c!==0||M&3)&&(qy=!0)),b=k}lg(c)}function _k(c,d){for(var m=c.suspendedLanes,b=c.pingedLanes,k=c.expirationTimes,M=c.pendingLanes&-62914561;0<M;){var J=31-Hn(M),oe=1<<J,ge=k[J];ge===-1?(!(oe&m)||oe&b)&&(k[J]=aa(oe,d)):ge<=d&&(c.expiredLanes|=oe),M&=~oe}if(d=wr,m=Bn,m=Nr(c,c===d?m:0),b=c.callbackNode,m===0||c===d&&_r===2||c.cancelPendingCommit!==null)return b!==null&&b!==null&&vn(b),c.callbackNode=null,c.callbackPriority=0;if(!(m&3)||gs(c,m)){if(d=m&-m,d===c.callbackPriority)return d;switch(b!==null&&vn(b),Bo(m)){case 2:case 8:m=kt;break;case 32:m=on;break;case 268435456:m=Jn;break;default:m=on}return b=jk.bind(null,c),m=fn(m,b),c.callbackPriority=d,c.callbackNode=m,d}return b!==null&&b!==null&&vn(b),c.callbackPriority=2,c.callbackNode=null,2}function jk(c,d){var m=c.callbackNode;if(Gf()&&c.callbackNode!==m)return null;var b=Bn;return b=Nr(c,c===wr?b:0),b===0?null:(uk(c,b,d),_k(c,We()),c.callbackNode!=null&&c.callbackNode===m?jk.bind(null,c):null)}function Ek(c,d){if(Gf())return null;uk(c,d,!0)}function CY(c){DY(function(){Xr&6?fn(Mt,c):c()})}function w_(){return Yd===0&&(Yd=Hs()),Yd}function Sk(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:oi(""+c)}function Ck(c,d){var m=d.ownerDocument.createElement("input");return m.name=d.name,m.value=d.value,c.id&&m.setAttribute("form",c.id),d.parentNode.insertBefore(m,d),c=new FormData(c),m.parentNode.removeChild(m),c}function NY(c,d,m,b,k){if(d==="submit"&&m&&m.stateNode===k){var M=Sk((k[ue]||null).action),J=b.submitter;J&&(d=(d=J[ue]||null)?Sk(d.formAction):J.getAttribute("formAction"),d!==null&&(M=d,J=null));var oe=new Be("action","action",null,b,k);c.push({event:oe,listeners:[{instance:null,listener:function(){if(b.defaultPrevented){if(Yd!==0){var ge=J?Ck(k,J):new FormData(k);L2(m,{pending:!0,data:ge,method:k.method,action:M},null,ge)}}else typeof M=="function"&&(oe.preventDefault(),ge=J?Ck(k,J):new FormData(k),L2(m,{pending:!0,data:ge,method:k.method,action:M},M,ge))},currentTarget:k}]})}}for(var __=0;__<y4.length;__++){var j_=y4[__],TY=j_.toLowerCase(),AY=j_[0].toUpperCase()+j_.slice(1);Ho(TY,"on"+AY)}Ho(f4,"onAnimationEnd"),Ho(m4,"onAnimationIteration"),Ho(p4,"onAnimationStart"),Ho("dblclick","onDoubleClick"),Ho("focusin","onFocus"),Ho("focusout","onBlur"),Ho(GK,"onTransitionRun"),Ho(WK,"onTransitionStart"),Ho(KK,"onTransitionCancel"),Ho(g4,"onTransitionEnd"),An("onMouseEnter",["mouseout","mouseover"]),An("onMouseLeave",["mouseout","mouseover"]),An("onPointerEnter",["pointerout","pointerover"]),An("onPointerLeave",["pointerout","pointerover"]),ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ln("onBeforeInput",["compositionend","keypress","textInput","paste"]),ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LY=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cg));function Nk(c,d){d=(d&4)!==0;for(var m=0;m<c.length;m++){var b=c[m],k=b.event;b=b.listeners;e:{var M=void 0;if(d)for(var J=b.length-1;0<=J;J--){var oe=b[J],ge=oe.instance,Se=oe.currentTarget;if(oe=oe.listener,ge!==M&&k.isPropagationStopped())break e;M=oe,k.currentTarget=Se;try{M(k)}catch(Ge){Ty(Ge)}k.currentTarget=null,M=ge}else for(J=0;J<b.length;J++){if(oe=b[J],ge=oe.instance,Se=oe.currentTarget,oe=oe.listener,ge!==M&&k.isPropagationStopped())break e;M=oe,k.currentTarget=Se;try{M(k)}catch(Ge){Ty(Ge)}k.currentTarget=null,M=ge}}}}function In(c,d){var m=d[fe];m===void 0&&(m=d[fe]=new Set);var b=c+"__bubble";m.has(b)||(Tk(d,c,2,!1),m.add(b))}function E_(c,d,m){var b=0;d&&(b|=4),Tk(m,c,b,d)}var $y="_reactListening"+Math.random().toString(36).slice(2);function S_(c){if(!c[$y]){c[$y]=!0,Ut.forEach(function(m){m!=="selectionchange"&&(LY.has(m)||E_(m,!1,c),E_(m,!0,c))});var d=c.nodeType===9?c:c.ownerDocument;d===null||d[$y]||(d[$y]=!0,E_("selectionchange",!1,d))}}function Tk(c,d,m,b){switch(Jk(d)){case 2:var k=nX;break;case 8:k=rX;break;default:k=F_}m=k.bind(null,d,m,c),k=void 0,!ca||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(k=!0),b?k!==void 0?c.addEventListener(d,m,{capture:!0,passive:k}):c.addEventListener(d,m,!0):k!==void 0?c.addEventListener(d,m,{passive:k}):c.addEventListener(d,m,!1)}function C_(c,d,m,b,k){var M=b;if(!(d&1)&&!(d&2)&&b!==null)e:for(;;){if(b===null)return;var J=b.tag;if(J===3||J===4){var oe=b.stateNode.containerInfo;if(oe===k||oe.nodeType===8&&oe.parentNode===k)break;if(J===4)for(J=b.return;J!==null;){var ge=J.tag;if((ge===3||ge===4)&&(ge=J.stateNode.containerInfo,ge===k||ge.nodeType===8&&ge.parentNode===k))return;J=J.return}for(;oe!==null;){if(J=Qe(oe),J===null)return;if(ge=J.tag,ge===5||ge===6||ge===26||ge===27){b=M=J;continue e}oe=oe.parentNode}}b=b.return}qo(function(){var Se=M,Ge=as(m),rt=[];e:{var Pe=v4.get(c);if(Pe!==void 0){var He=Be,At=c;switch(c){case"keypress":if(di(m)===0)break e;case"keydown":case"keyup":He=Ef;break;case"focusin":At="focus",He=$r;break;case"focusout":At="blur",He=$r;break;case"beforeblur":case"afterblur":He=$r;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":He=ar;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":He=Kr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":He=ny;break;case f4:case m4:case p4:He=Aa;break;case g4:He=sy;break;case"scroll":case"scrollend":He=Ct;break;case"wheel":He=Sf;break;case"copy":case"cut":case"paste":He=lc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":He=Op;break;case"toggle":case"beforetoggle":He=iy}var cn=(d&4)!==0,ls=!cn&&(c==="scroll"||c==="scrollend"),Te=cn?Pe!==null?Pe+"Capture":null:Pe;cn=[];for(var je=Se,ke;je!==null;){var Xe=je;if(ke=Xe.stateNode,Xe=Xe.tag,Xe!==5&&Xe!==26&&Xe!==27||ke===null||Te===null||(Xe=$o(je,Te),Xe!=null&&cn.push(ug(je,Xe,ke))),ls)break;je=je.return}0<cn.length&&(Pe=new He(Pe,At,null,m,Ge),rt.push({event:Pe,listeners:cn}))}}if(!(d&7)){e:{if(Pe=c==="mouseover"||c==="pointerover",He=c==="mouseout"||c==="pointerout",Pe&&m!==la&&(At=m.relatedTarget||m.fromElement)&&(Qe(At)||At[he]))break e;if((He||Pe)&&(Pe=Ge.window===Ge?Ge:(Pe=Ge.ownerDocument)?Pe.defaultView||Pe.parentWindow:window,He?(At=m.relatedTarget||m.toElement,He=Se,At=At?Qe(At):null,At!==null&&(ls=me(At),cn=At.tag,At!==ls||cn!==5&&cn!==27&&cn!==6)&&(At=null)):(He=null,At=Se),He!==At)){if(cn=ar,Xe="onMouseLeave",Te="onMouseEnter",je="mouse",(c==="pointerout"||c==="pointerover")&&(cn=Op,Xe="onPointerLeave",Te="onPointerEnter",je="pointer"),ls=He==null?Pe:mt(He),ke=At==null?Pe:mt(At),Pe=new cn(Xe,je+"leave",He,m,Ge),Pe.target=ls,Pe.relatedTarget=ke,Xe=null,Qe(Ge)===Se&&(cn=new cn(Te,je+"enter",At,m,Ge),cn.target=ke,cn.relatedTarget=ls,Xe=cn),ls=Xe,He&&At)t:{for(cn=He,Te=At,je=0,ke=cn;ke;ke=Kf(ke))je++;for(ke=0,Xe=Te;Xe;Xe=Kf(Xe))ke++;for(;0<je-ke;)cn=Kf(cn),je--;for(;0<ke-je;)Te=Kf(Te),ke--;for(;je--;){if(cn===Te||Te!==null&&cn===Te.alternate)break t;cn=Kf(cn),Te=Kf(Te)}cn=null}else cn=null;He!==null&&Ak(rt,Pe,He,cn,!1),At!==null&&ls!==null&&Ak(rt,ls,At,cn,!0)}}e:{if(Pe=Se?mt(Se):window,He=Pe.nodeName&&Pe.nodeName.toLowerCase(),He==="select"||He==="input"&&Pe.type==="file")var jt=n4;else if(Ps(Pe))if(r4)jt=qK;else{jt=UK;var En=BK}else He=Pe.nodeName,!He||He.toLowerCase()!=="input"||Pe.type!=="checkbox"&&Pe.type!=="radio"?Se&&oc(Se.elementType)&&(jt=n4):jt=zK;if(jt&&(jt=jt(c,Se))){uc(rt,jt,m,Ge);break e}En&&En(c,Pe,Se),c==="focusout"&&Se&&Pe.type==="number"&&Se.memoizedProps.value!=null&&yl(Pe,"number",Pe.value)}switch(En=Se?mt(Se):window,c){case"focusin":(Ps(En)||En.contentEditable==="true")&&(Cf=En,r2=Se,Dp=null);break;case"focusout":Dp=r2=Cf=null;break;case"mousedown":s2=!0;break;case"contextmenu":case"mouseup":case"dragend":s2=!1,d4(rt,m,Ge);break;case"selectionchange":if(HK)break;case"keydown":case"keyup":d4(rt,m,Ge)}var Ot;if(bl)e:{switch(c){case"compositionstart":var Yt="onCompositionStart";break e;case"compositionend":Yt="onCompositionEnd";break e;case"compositionupdate":Yt="onCompositionUpdate";break e}Yt=void 0}else Mn?De(c,m)&&(Yt="onCompositionEnd"):c==="keydown"&&m.keyCode===229&&(Yt="onCompositionStart");Yt&&(Y&&m.locale!=="ko"&&(Mn||Yt!=="onCompositionStart"?Yt==="onCompositionEnd"&&Mn&&(Ot=Vo()):(Ka=Ge,ks="value"in Ka?Ka.value:Ka.textContent,Mn=!0)),En=Vy(Se,Yt),0<En.length&&(Yt=new xl(Yt,c,null,m,Ge),rt.push({event:Yt,listeners:En}),Ot?Yt.data=Ot:(Ot=ht(m),Ot!==null&&(Yt.data=Ot)))),(Ot=q?Is(c,m):Fn(c,m))&&(Yt=Vy(Se,"onBeforeInput"),0<Yt.length&&(En=new xl("onBeforeInput","beforeinput",null,m,Ge),rt.push({event:En,listeners:Yt}),En.data=Ot)),NY(rt,c,Se,m,Ge)}Nk(rt,d)})}function ug(c,d,m){return{instance:c,listener:d,currentTarget:m}}function Vy(c,d){for(var m=d+"Capture",b=[];c!==null;){var k=c,M=k.stateNode;k=k.tag,k!==5&&k!==26&&k!==27||M===null||(k=$o(c,m),k!=null&&b.unshift(ug(c,k,M)),k=$o(c,d),k!=null&&b.push(ug(c,k,M))),c=c.return}return b}function Kf(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function Ak(c,d,m,b,k){for(var M=d._reactName,J=[];m!==null&&m!==b;){var oe=m,ge=oe.alternate,Se=oe.stateNode;if(oe=oe.tag,ge!==null&&ge===b)break;oe!==5&&oe!==26&&oe!==27||Se===null||(ge=Se,k?(Se=$o(m,M),Se!=null&&J.unshift(ug(m,Se,ge))):k||(Se=$o(m,M),Se!=null&&J.push(ug(m,Se,ge)))),m=m.return}J.length!==0&&c.push({event:d,listeners:J})}var RY=/\r\n?/g,kY=/\u0000|\uFFFD/g;function Lk(c){return(typeof c=="string"?c:""+c).replace(RY,`
`).replace(kY,"")}function Rk(c,d){return d=Lk(d),Lk(c)===d}function Hy(){}function fr(c,d,m,b,k,M){switch(m){case"children":typeof b=="string"?d==="body"||d==="textarea"&&b===""||ss(c,b):(typeof b=="number"||typeof b=="bigint")&&d!=="body"&&ss(c,""+b);break;case"className":so(c,"class",b);break;case"tabIndex":so(c,"tabindex",b);break;case"dir":case"role":case"viewBox":case"width":case"height":so(c,m,b);break;case"style":Wa(c,b,M);break;case"data":if(d!=="object"){so(c,"data",b);break}case"src":case"href":if(b===""&&(d!=="a"||m!=="href")){c.removeAttribute(m);break}if(b==null||typeof b=="function"||typeof b=="symbol"||typeof b=="boolean"){c.removeAttribute(m);break}b=oi(""+b),c.setAttribute(m,b);break;case"action":case"formAction":if(typeof b=="function"){c.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof M=="function"&&(m==="formAction"?(d!=="input"&&fr(c,d,"name",k.name,k,null),fr(c,d,"formEncType",k.formEncType,k,null),fr(c,d,"formMethod",k.formMethod,k,null),fr(c,d,"formTarget",k.formTarget,k,null)):(fr(c,d,"encType",k.encType,k,null),fr(c,d,"method",k.method,k,null),fr(c,d,"target",k.target,k,null)));if(b==null||typeof b=="symbol"||typeof b=="boolean"){c.removeAttribute(m);break}b=oi(""+b),c.setAttribute(m,b);break;case"onClick":b!=null&&(c.onclick=Hy);break;case"onScroll":b!=null&&In("scroll",c);break;case"onScrollEnd":b!=null&&In("scrollend",c);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(r(61));if(m=b.__html,m!=null){if(k.children!=null)throw Error(r(60));c.innerHTML=m}}break;case"multiple":c.multiple=b&&typeof b!="function"&&typeof b!="symbol";break;case"muted":c.muted=b&&typeof b!="function"&&typeof b!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(b==null||typeof b=="function"||typeof b=="boolean"||typeof b=="symbol"){c.removeAttribute("xlink:href");break}m=oi(""+b),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":b!=null&&typeof b!="function"&&typeof b!="symbol"?c.setAttribute(m,""+b):c.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":b&&typeof b!="function"&&typeof b!="symbol"?c.setAttribute(m,""):c.removeAttribute(m);break;case"capture":case"download":b===!0?c.setAttribute(m,""):b!==!1&&b!=null&&typeof b!="function"&&typeof b!="symbol"?c.setAttribute(m,b):c.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":b!=null&&typeof b!="function"&&typeof b!="symbol"&&!isNaN(b)&&1<=b?c.setAttribute(m,b):c.removeAttribute(m);break;case"rowSpan":case"start":b==null||typeof b=="function"||typeof b=="symbol"||isNaN(b)?c.removeAttribute(m):c.setAttribute(m,b);break;case"popover":In("beforetoggle",c),In("toggle",c),ns(c,"popover",b);break;case"xlinkActuate":Na(c,"http://www.w3.org/1999/xlink","xlink:actuate",b);break;case"xlinkArcrole":Na(c,"http://www.w3.org/1999/xlink","xlink:arcrole",b);break;case"xlinkRole":Na(c,"http://www.w3.org/1999/xlink","xlink:role",b);break;case"xlinkShow":Na(c,"http://www.w3.org/1999/xlink","xlink:show",b);break;case"xlinkTitle":Na(c,"http://www.w3.org/1999/xlink","xlink:title",b);break;case"xlinkType":Na(c,"http://www.w3.org/1999/xlink","xlink:type",b);break;case"xmlBase":Na(c,"http://www.w3.org/XML/1998/namespace","xml:base",b);break;case"xmlLang":Na(c,"http://www.w3.org/XML/1998/namespace","xml:lang",b);break;case"xmlSpace":Na(c,"http://www.w3.org/XML/1998/namespace","xml:space",b);break;case"is":ns(c,"is",b);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=Td.get(m)||m,ns(c,m,b))}}function N_(c,d,m,b,k,M){switch(m){case"style":Wa(c,b,M);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(r(61));if(m=b.__html,m!=null){if(k.children!=null)throw Error(r(60));c.innerHTML=m}}break;case"children":typeof b=="string"?ss(c,b):(typeof b=="number"||typeof b=="bigint")&&ss(c,""+b);break;case"onScroll":b!=null&&In("scroll",c);break;case"onScrollEnd":b!=null&&In("scrollend",c);break;case"onClick":b!=null&&(c.onclick=Hy);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Dn.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(k=m.endsWith("Capture"),d=m.slice(2,k?m.length-7:void 0),M=c[ue]||null,M=M!=null?M[m]:null,typeof M=="function"&&c.removeEventListener(d,M,k),typeof b=="function")){typeof M!="function"&&M!==null&&(m in c?c[m]=null:c.hasAttribute(m)&&c.removeAttribute(m)),c.addEventListener(d,b,k);break e}m in c?c[m]=b:b===!0?c.setAttribute(m,""):ns(c,m,b)}}}function fa(c,d,m){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":In("error",c),In("load",c);var b=!1,k=!1,M;for(M in m)if(m.hasOwnProperty(M)){var J=m[M];if(J!=null)switch(M){case"src":b=!0;break;case"srcSet":k=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:fr(c,d,M,J,m,null)}}k&&fr(c,d,"srcSet",m.srcSet,m,null),b&&fr(c,d,"src",m.src,m,null);return;case"input":In("invalid",c);var oe=M=J=k=null,ge=null,Se=null;for(b in m)if(m.hasOwnProperty(b)){var Ge=m[b];if(Ge!=null)switch(b){case"name":k=Ge;break;case"type":J=Ge;break;case"checked":ge=Ge;break;case"defaultChecked":Se=Ge;break;case"value":M=Ge;break;case"defaultValue":oe=Ge;break;case"children":case"dangerouslySetInnerHTML":if(Ge!=null)throw Error(r(137,d));break;default:fr(c,d,b,Ge,m,null)}}Ai(c,M,oe,ge,Se,J,k,!1),ao(c);return;case"select":In("invalid",c),b=J=M=null;for(k in m)if(m.hasOwnProperty(k)&&(oe=m[k],oe!=null))switch(k){case"value":M=oe;break;case"defaultValue":J=oe;break;case"multiple":b=oe;default:fr(c,d,k,oe,m,null)}d=M,m=J,c.multiple=!!b,d!=null?Ln(c,!!b,d,!1):m!=null&&Ln(c,!!b,m,!0);return;case"textarea":In("invalid",c),M=k=b=null;for(J in m)if(m.hasOwnProperty(J)&&(oe=m[J],oe!=null))switch(J){case"value":b=oe;break;case"defaultValue":k=oe;break;case"children":M=oe;break;case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(91));break;default:fr(c,d,J,oe,m,null)}js(c,b,k,M),ao(c);return;case"option":for(ge in m)if(m.hasOwnProperty(ge)&&(b=m[ge],b!=null))switch(ge){case"selected":c.selected=b&&typeof b!="function"&&typeof b!="symbol";break;default:fr(c,d,ge,b,m,null)}return;case"dialog":In("cancel",c),In("close",c);break;case"iframe":case"object":In("load",c);break;case"video":case"audio":for(b=0;b<cg.length;b++)In(cg[b],c);break;case"image":In("error",c),In("load",c);break;case"details":In("toggle",c);break;case"embed":case"source":case"link":In("error",c),In("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Se in m)if(m.hasOwnProperty(Se)&&(b=m[Se],b!=null))switch(Se){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:fr(c,d,Se,b,m,null)}return;default:if(oc(d)){for(Ge in m)m.hasOwnProperty(Ge)&&(b=m[Ge],b!==void 0&&N_(c,d,Ge,b,m,void 0));return}}for(oe in m)m.hasOwnProperty(oe)&&(b=m[oe],b!=null&&fr(c,d,oe,b,m,null))}function OY(c,d,m,b){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var k=null,M=null,J=null,oe=null,ge=null,Se=null,Ge=null;for(He in m){var rt=m[He];if(m.hasOwnProperty(He)&&rt!=null)switch(He){case"checked":break;case"value":break;case"defaultValue":ge=rt;default:b.hasOwnProperty(He)||fr(c,d,He,null,b,rt)}}for(var Pe in b){var He=b[Pe];if(rt=m[Pe],b.hasOwnProperty(Pe)&&(He!=null||rt!=null))switch(Pe){case"type":M=He;break;case"name":k=He;break;case"checked":Se=He;break;case"defaultChecked":Ge=He;break;case"value":J=He;break;case"defaultValue":oe=He;break;case"children":case"dangerouslySetInnerHTML":if(He!=null)throw Error(r(137,d));break;default:He!==rt&&fr(c,d,Pe,He,b,rt)}}io(c,J,oe,ge,Se,Ge,M,k);return;case"select":He=J=oe=Pe=null;for(M in m)if(ge=m[M],m.hasOwnProperty(M)&&ge!=null)switch(M){case"value":break;case"multiple":He=ge;default:b.hasOwnProperty(M)||fr(c,d,M,null,b,ge)}for(k in b)if(M=b[k],ge=m[k],b.hasOwnProperty(k)&&(M!=null||ge!=null))switch(k){case"value":Pe=M;break;case"defaultValue":oe=M;break;case"multiple":J=M;default:M!==ge&&fr(c,d,k,M,b,ge)}d=oe,m=J,b=He,Pe!=null?Ln(c,!!m,Pe,!1):!!b!=!!m&&(d!=null?Ln(c,!!m,d,!0):Ln(c,!!m,m?[]:"",!1));return;case"textarea":He=Pe=null;for(oe in m)if(k=m[oe],m.hasOwnProperty(oe)&&k!=null&&!b.hasOwnProperty(oe))switch(oe){case"value":break;case"children":break;default:fr(c,d,oe,null,b,k)}for(J in b)if(k=b[J],M=m[J],b.hasOwnProperty(J)&&(k!=null||M!=null))switch(J){case"value":Pe=k;break;case"defaultValue":He=k;break;case"children":break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(91));break;default:k!==M&&fr(c,d,J,k,b,M)}Ga(c,Pe,He);return;case"option":for(var At in m)if(Pe=m[At],m.hasOwnProperty(At)&&Pe!=null&&!b.hasOwnProperty(At))switch(At){case"selected":c.selected=!1;break;default:fr(c,d,At,null,b,Pe)}for(ge in b)if(Pe=b[ge],He=m[ge],b.hasOwnProperty(ge)&&Pe!==He&&(Pe!=null||He!=null))switch(ge){case"selected":c.selected=Pe&&typeof Pe!="function"&&typeof Pe!="symbol";break;default:fr(c,d,ge,Pe,b,He)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var cn in m)Pe=m[cn],m.hasOwnProperty(cn)&&Pe!=null&&!b.hasOwnProperty(cn)&&fr(c,d,cn,null,b,Pe);for(Se in b)if(Pe=b[Se],He=m[Se],b.hasOwnProperty(Se)&&Pe!==He&&(Pe!=null||He!=null))switch(Se){case"children":case"dangerouslySetInnerHTML":if(Pe!=null)throw Error(r(137,d));break;default:fr(c,d,Se,Pe,b,He)}return;default:if(oc(d)){for(var ls in m)Pe=m[ls],m.hasOwnProperty(ls)&&Pe!==void 0&&!b.hasOwnProperty(ls)&&N_(c,d,ls,void 0,b,Pe);for(Ge in b)Pe=b[Ge],He=m[Ge],!b.hasOwnProperty(Ge)||Pe===He||Pe===void 0&&He===void 0||N_(c,d,Ge,Pe,b,He);return}}for(var Te in m)Pe=m[Te],m.hasOwnProperty(Te)&&Pe!=null&&!b.hasOwnProperty(Te)&&fr(c,d,Te,null,b,Pe);for(rt in b)Pe=b[rt],He=m[rt],!b.hasOwnProperty(rt)||Pe===He||Pe==null&&He==null||fr(c,d,rt,Pe,b,He)}var T_=null,A_=null;function Gy(c){return c.nodeType===9?c:c.ownerDocument}function kk(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ok(c,d){if(c===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&d==="foreignObject"?0:c}function L_(c,d){return c==="textarea"||c==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var R_=null;function IY(){var c=window.event;return c&&c.type==="popstate"?c===R_?!1:(R_=c,!0):(R_=null,!1)}var Ik=typeof setTimeout=="function"?setTimeout:void 0,PY=typeof clearTimeout=="function"?clearTimeout:void 0,Pk=typeof Promise=="function"?Promise:void 0,DY=typeof queueMicrotask=="function"?queueMicrotask:typeof Pk<"u"?function(c){return Pk.resolve(null).then(c).catch(MY)}:Ik;function MY(c){setTimeout(function(){throw c})}function k_(c,d){var m=d,b=0;do{var k=m.nextSibling;if(c.removeChild(m),k&&k.nodeType===8)if(m=k.data,m==="/$"){if(b===0){c.removeChild(k),yg(d);return}b--}else m!=="$"&&m!=="$?"&&m!=="$!"||b++;m=k}while(m);yg(d)}function O_(c){var d=c.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var m=d;switch(d=d.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":O_(m),Oe(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}c.removeChild(m)}}function FY(c,d,m,b){for(;c.nodeType===1;){var k=m;if(c.nodeName.toLowerCase()!==d.toLowerCase()){if(!b&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(b){if(!c[Re])switch(d){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(M=c.getAttribute("rel"),M==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(M!==k.rel||c.getAttribute("href")!==(k.href==null?null:k.href)||c.getAttribute("crossorigin")!==(k.crossOrigin==null?null:k.crossOrigin)||c.getAttribute("title")!==(k.title==null?null:k.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(M=c.getAttribute("src"),(M!==(k.src==null?null:k.src)||c.getAttribute("type")!==(k.type==null?null:k.type)||c.getAttribute("crossorigin")!==(k.crossOrigin==null?null:k.crossOrigin))&&M&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(d==="input"&&c.type==="hidden"){var M=k.name==null?null:""+k.name;if(k.type==="hidden"&&c.getAttribute("name")===M)return c}else return c;if(c=Ko(c.nextSibling),c===null)break}return null}function BY(c,d,m){if(d==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!m||(c=Ko(c.nextSibling),c===null))return null;return c}function Ko(c){for(;c!=null;c=c.nextSibling){var d=c.nodeType;if(d===1||d===3)break;if(d===8){if(d=c.data,d==="$"||d==="$!"||d==="$?"||d==="F!"||d==="F")break;if(d==="/$")return null}}return c}function Dk(c){c=c.previousSibling;for(var d=0;c;){if(c.nodeType===8){var m=c.data;if(m==="$"||m==="$!"||m==="$?"){if(d===0)return c;d--}else m==="/$"&&d++}c=c.previousSibling}return null}function Mk(c,d,m){switch(d=Gy(m),c){case"html":if(c=d.documentElement,!c)throw Error(r(452));return c;case"head":if(c=d.head,!c)throw Error(r(453));return c;case"body":if(c=d.body,!c)throw Error(r(454));return c;default:throw Error(r(451))}}var yo=new Map,Fk=new Set;function Wy(c){return typeof c.getRootNode=="function"?c.getRootNode():c.ownerDocument}var Sc=te.d;te.d={f:UY,r:zY,D:qY,C:$Y,L:VY,m:HY,X:WY,S:GY,M:KY};function UY(){var c=Sc.f(),d=By();return c||d}function zY(c){var d=nt(c);d!==null&&d.tag===5&&d.type==="form"?dR(d):Sc.r(c)}var Yf=typeof document>"u"?null:document;function Bk(c,d,m){var b=Yf;if(b&&typeof d=="string"&&d){var k=br(d);k='link[rel="'+c+'"][href="'+k+'"]',typeof m=="string"&&(k+='[crossorigin="'+m+'"]'),Fk.has(k)||(Fk.add(k),c={rel:c,crossOrigin:m,href:d},b.querySelector(k)===null&&(d=b.createElement("link"),fa(d,"link",c),at(d),b.head.appendChild(d)))}}function qY(c){Sc.D(c),Bk("dns-prefetch",c,null)}function $Y(c,d){Sc.C(c,d),Bk("preconnect",c,d)}function VY(c,d,m){Sc.L(c,d,m);var b=Yf;if(b&&c&&d){var k='link[rel="preload"][as="'+br(d)+'"]';d==="image"&&m&&m.imageSrcSet?(k+='[imagesrcset="'+br(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(k+='[imagesizes="'+br(m.imageSizes)+'"]')):k+='[href="'+br(c)+'"]';var M=k;switch(d){case"style":M=Xf(c);break;case"script":M=Jf(c)}yo.has(M)||(c=L({rel:"preload",href:d==="image"&&m&&m.imageSrcSet?void 0:c,as:d},m),yo.set(M,c),b.querySelector(k)!==null||d==="style"&&b.querySelector(dg(M))||d==="script"&&b.querySelector(hg(M))||(d=b.createElement("link"),fa(d,"link",c),at(d),b.head.appendChild(d)))}}function HY(c,d){Sc.m(c,d);var m=Yf;if(m&&c){var b=d&&typeof d.as=="string"?d.as:"script",k='link[rel="modulepreload"][as="'+br(b)+'"][href="'+br(c)+'"]',M=k;switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":M=Jf(c)}if(!yo.has(M)&&(c=L({rel:"modulepreload",href:c},d),yo.set(M,c),m.querySelector(k)===null)){switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(hg(M)))return}b=m.createElement("link"),fa(b,"link",c),at(b),m.head.appendChild(b)}}}function GY(c,d,m){Sc.S(c,d,m);var b=Yf;if(b&&c){var k=st(b).hoistableStyles,M=Xf(c);d=d||"default";var J=k.get(M);if(!J){var oe={loading:0,preload:null};if(J=b.querySelector(dg(M)))oe.loading=5;else{c=L({rel:"stylesheet",href:c,"data-precedence":d},m),(m=yo.get(M))&&I_(c,m);var ge=J=b.createElement("link");at(ge),fa(ge,"link",c),ge._p=new Promise(function(Se,Ge){ge.onload=Se,ge.onerror=Ge}),ge.addEventListener("load",function(){oe.loading|=1}),ge.addEventListener("error",function(){oe.loading|=2}),oe.loading|=4,Ky(J,d,b)}J={type:"stylesheet",instance:J,count:1,state:oe},k.set(M,J)}}}function WY(c,d){Sc.X(c,d);var m=Yf;if(m&&c){var b=st(m).hoistableScripts,k=Jf(c),M=b.get(k);M||(M=m.querySelector(hg(k)),M||(c=L({src:c,async:!0},d),(d=yo.get(k))&&P_(c,d),M=m.createElement("script"),at(M),fa(M,"link",c),m.head.appendChild(M)),M={type:"script",instance:M,count:1,state:null},b.set(k,M))}}function KY(c,d){Sc.M(c,d);var m=Yf;if(m&&c){var b=st(m).hoistableScripts,k=Jf(c),M=b.get(k);M||(M=m.querySelector(hg(k)),M||(c=L({src:c,async:!0,type:"module"},d),(d=yo.get(k))&&P_(c,d),M=m.createElement("script"),at(M),fa(M,"link",c),m.head.appendChild(M)),M={type:"script",instance:M,count:1,state:null},b.set(k,M))}}function Uk(c,d,m,b){var k=(k=ct.current)?Wy(k):null;if(!k)throw Error(r(446));switch(c){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(d=Xf(m.href),m=st(k).hoistableStyles,b=m.get(d),b||(b={type:"style",instance:null,count:0,state:null},m.set(d,b)),b):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){c=Xf(m.href);var M=st(k).hoistableStyles,J=M.get(c);if(J||(k=k.ownerDocument||k,J={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},M.set(c,J),(M=k.querySelector(dg(c)))&&!M._p&&(J.instance=M,J.state.loading=5),yo.has(c)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},yo.set(c,m),M||YY(k,c,m,J.state))),d&&b===null)throw Error(r(528,""));return J}if(d&&b!==null)throw Error(r(529,""));return null;case"script":return d=m.async,m=m.src,typeof m=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=Jf(m),m=st(k).hoistableScripts,b=m.get(d),b||(b={type:"script",instance:null,count:0,state:null},m.set(d,b)),b):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,c))}}function Xf(c){return'href="'+br(c)+'"'}function dg(c){return'link[rel="stylesheet"]['+c+"]"}function zk(c){return L({},c,{"data-precedence":c.precedence,precedence:null})}function YY(c,d,m,b){c.querySelector('link[rel="preload"][as="style"]['+d+"]")?b.loading=1:(d=c.createElement("link"),b.preload=d,d.addEventListener("load",function(){return b.loading|=1}),d.addEventListener("error",function(){return b.loading|=2}),fa(d,"link",m),at(d),c.head.appendChild(d))}function Jf(c){return'[src="'+br(c)+'"]'}function hg(c){return"script[async]"+c}function qk(c,d,m){if(d.count++,d.instance===null)switch(d.type){case"style":var b=c.querySelector('style[data-href~="'+br(m.href)+'"]');if(b)return d.instance=b,at(b),b;var k=L({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return b=(c.ownerDocument||c).createElement("style"),at(b),fa(b,"style",k),Ky(b,m.precedence,c),d.instance=b;case"stylesheet":k=Xf(m.href);var M=c.querySelector(dg(k));if(M)return d.state.loading|=4,d.instance=M,at(M),M;b=zk(m),(k=yo.get(k))&&I_(b,k),M=(c.ownerDocument||c).createElement("link"),at(M);var J=M;return J._p=new Promise(function(oe,ge){J.onload=oe,J.onerror=ge}),fa(M,"link",b),d.state.loading|=4,Ky(M,m.precedence,c),d.instance=M;case"script":return M=Jf(m.src),(k=c.querySelector(hg(M)))?(d.instance=k,at(k),k):(b=m,(k=yo.get(M))&&(b=L({},m),P_(b,k)),c=c.ownerDocument||c,k=c.createElement("script"),at(k),fa(k,"link",b),c.head.appendChild(k),d.instance=k);case"void":return null;default:throw Error(r(443,d.type))}else d.type==="stylesheet"&&!(d.state.loading&4)&&(b=d.instance,d.state.loading|=4,Ky(b,m.precedence,c));return d.instance}function Ky(c,d,m){for(var b=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),k=b.length?b[b.length-1]:null,M=k,J=0;J<b.length;J++){var oe=b[J];if(oe.dataset.precedence===d)M=oe;else if(M!==k)break}M?M.parentNode.insertBefore(c,M.nextSibling):(d=m.nodeType===9?m.head:m,d.insertBefore(c,d.firstChild))}function I_(c,d){c.crossOrigin==null&&(c.crossOrigin=d.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=d.referrerPolicy),c.title==null&&(c.title=d.title)}function P_(c,d){c.crossOrigin==null&&(c.crossOrigin=d.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=d.referrerPolicy),c.integrity==null&&(c.integrity=d.integrity)}var Yy=null;function $k(c,d,m){if(Yy===null){var b=new Map,k=Yy=new Map;k.set(m,b)}else k=Yy,b=k.get(m),b||(b=new Map,k.set(m,b));if(b.has(c))return b;for(b.set(c,null),m=m.getElementsByTagName(c),k=0;k<m.length;k++){var M=m[k];if(!(M[Re]||M[le]||c==="link"&&M.getAttribute("rel")==="stylesheet")&&M.namespaceURI!=="http://www.w3.org/2000/svg"){var J=M.getAttribute(d)||"";J=c+J;var oe=b.get(J);oe?oe.push(M):b.set(J,[M])}}return b}function Vk(c,d,m){c=c.ownerDocument||c,c.head.insertBefore(m,d==="title"?c.querySelector("head > title"):null)}function XY(c,d,m){if(m===1||d.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;switch(d.rel){case"stylesheet":return c=d.disabled,typeof d.precedence=="string"&&c==null;default:return!0}case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function Hk(c){return!(c.type==="stylesheet"&&!(c.state.loading&3))}var fg=null;function JY(){}function QY(c,d,m){if(fg===null)throw Error(r(475));var b=fg;if(d.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&!(d.state.loading&4)){if(d.instance===null){var k=Xf(m.href),M=c.querySelector(dg(k));if(M){c=M._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(b.count++,b=Xy.bind(b),c.then(b,b)),d.state.loading|=4,d.instance=M,at(M);return}M=c.ownerDocument||c,m=zk(m),(k=yo.get(k))&&I_(m,k),M=M.createElement("link"),at(M);var J=M;J._p=new Promise(function(oe,ge){J.onload=oe,J.onerror=ge}),fa(M,"link",m),d.instance=M}b.stylesheets===null&&(b.stylesheets=new Map),b.stylesheets.set(d,c),(c=d.state.preload)&&!(d.state.loading&3)&&(b.count++,d=Xy.bind(b),c.addEventListener("load",d),c.addEventListener("error",d))}}function ZY(){if(fg===null)throw Error(r(475));var c=fg;return c.stylesheets&&c.count===0&&D_(c,c.stylesheets),0<c.count?function(d){var m=setTimeout(function(){if(c.stylesheets&&D_(c,c.stylesheets),c.unsuspend){var b=c.unsuspend;c.unsuspend=null,b()}},6e4);return c.unsuspend=d,function(){c.unsuspend=null,clearTimeout(m)}}:null}function Xy(){if(this.count--,this.count===0){if(this.stylesheets)D_(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var Jy=null;function D_(c,d){c.stylesheets=null,c.unsuspend!==null&&(c.count++,Jy=new Map,d.forEach(eX,c),Jy=null,Xy.call(c))}function eX(c,d){if(!(d.state.loading&4)){var m=Jy.get(c);if(m)var b=m.get(null);else{m=new Map,Jy.set(c,m);for(var k=c.querySelectorAll("link[data-precedence],style[data-precedence]"),M=0;M<k.length;M++){var J=k[M];(J.nodeName==="LINK"||J.getAttribute("media")!=="not all")&&(m.set(J.dataset.precedence,J),b=J)}b&&m.set(null,b)}k=d.instance,J=k.getAttribute("data-precedence"),M=m.get(J)||b,M===b&&m.set(null,k),m.set(J,k),this.count++,b=Xy.bind(this),k.addEventListener("load",b),k.addEventListener("error",b),M?M.parentNode.insertBefore(k,M.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(k,c.firstChild)),d.state.loading|=4}}var mg={$$typeof:v,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function tX(c,d,m,b,k,M,J,oe){this.tag=1,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ha(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ha(0),this.hiddenUpdates=Ha(null),this.identifierPrefix=b,this.onUncaughtError=k,this.onCaughtError=M,this.onRecoverableError=J,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=oe,this.incompleteTransitions=new Map}function Gk(c,d,m,b,k,M,J,oe,ge,Se,Ge,rt){return c=new tX(c,d,m,J,oe,ge,Se,rt),d=1,M===!0&&(d|=24),M=go(3,null,null,d),c.current=M,M.stateNode=c,d=m2(),d.refCount++,c.pooledCache=d,d.refCount++,M.memoizedState={element:b,isDehydrated:m,cache:d},K2(M),c}function Wk(c){return c?(c=Af,c):Af}function Kk(c,d,m,b,k,M){k=Wk(k),b.context===null?b.context=k:b.pendingContext=k,b=xu(d),b.payload={element:m},M=M===void 0?null:M,M!==null&&(b.callback=M),m=bu(c,b,d),m!==null&&(Ja(m,c,d),Jp(m,c,d))}function Yk(c,d){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var m=c.retryLane;c.retryLane=m!==0&&m<d?m:d}}function M_(c,d){Yk(c,d),(c=c.alternate)&&Yk(c,d)}function Xk(c){if(c.tag===13){var d=hu(c,67108864);d!==null&&Ja(d,c,67108864),M_(c,67108864)}}var Qy=!0;function nX(c,d,m,b){var k=_.T;_.T=null;var M=te.p;try{te.p=2,F_(c,d,m,b)}finally{te.p=M,_.T=k}}function rX(c,d,m,b){var k=_.T;_.T=null;var M=te.p;try{te.p=8,F_(c,d,m,b)}finally{te.p=M,_.T=k}}function F_(c,d,m,b){if(Qy){var k=B_(b);if(k===null)C_(c,d,b,Zy,m),Qk(c,b);else if(aX(k,c,d,m,b))b.stopPropagation();else if(Qk(c,b),d&4&&-1<sX.indexOf(c)){for(;k!==null;){var M=nt(k);if(M!==null)switch(M.tag){case 3:if(M=M.stateNode,M.current.memoizedState.isDehydrated){var J=pr(M.pendingLanes);if(J!==0){var oe=M;for(oe.pendingLanes|=2,oe.entangledLanes|=2;J;){var ge=1<<31-Hn(J);oe.entanglements[1]|=ge,J&=~ge}Cl(M),!(Xr&6)&&(Dy=We()+500,lg(0))}}break;case 13:oe=hu(M,2),oe!==null&&Ja(oe,M,2),By(),M_(M,2)}if(M=B_(b),M===null&&C_(c,d,b,Zy,m),M===k)break;k=M}k!==null&&b.stopPropagation()}else C_(c,d,b,null,m)}}function B_(c){return c=as(c),U_(c)}var Zy=null;function U_(c){if(Zy=null,c=Qe(c),c!==null){var d=me(c);if(d===null)c=null;else{var m=d.tag;if(m===13){if(c=ie(d),c!==null)return c;c=null}else if(m===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;c=null}else d!==c&&(c=null)}}return Zy=c,null}function Jk(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xt()){case Mt:return 2;case kt:return 8;case on:case Gr:return 32;case Jn:return 268435456;default:return 32}default:return 32}}var z_=!1,Nu=null,Tu=null,Au=null,pg=new Map,gg=new Map,Lu=[],sX="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Qk(c,d){switch(c){case"focusin":case"focusout":Nu=null;break;case"dragenter":case"dragleave":Tu=null;break;case"mouseover":case"mouseout":Au=null;break;case"pointerover":case"pointerout":pg.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":gg.delete(d.pointerId)}}function vg(c,d,m,b,k,M){return c===null||c.nativeEvent!==M?(c={blockedOn:d,domEventName:m,eventSystemFlags:b,nativeEvent:M,targetContainers:[k]},d!==null&&(d=nt(d),d!==null&&Xk(d)),c):(c.eventSystemFlags|=b,d=c.targetContainers,k!==null&&d.indexOf(k)===-1&&d.push(k),c)}function aX(c,d,m,b,k){switch(d){case"focusin":return Nu=vg(Nu,c,d,m,b,k),!0;case"dragenter":return Tu=vg(Tu,c,d,m,b,k),!0;case"mouseover":return Au=vg(Au,c,d,m,b,k),!0;case"pointerover":var M=k.pointerId;return pg.set(M,vg(pg.get(M)||null,c,d,m,b,k)),!0;case"gotpointercapture":return M=k.pointerId,gg.set(M,vg(gg.get(M)||null,c,d,m,b,k)),!0}return!1}function Zk(c){var d=Qe(c.target);if(d!==null){var m=me(d);if(m!==null){if(d=m.tag,d===13){if(d=ie(m),d!==null){c.blockedOn=d,ee(c.priority,function(){if(m.tag===13){var b=Di(),k=hu(m,b);k!==null&&Ja(k,m,b),M_(m,b)}});return}}else if(d===3&&m.stateNode.current.memoizedState.isDehydrated){c.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}c.blockedOn=null}function ex(c){if(c.blockedOn!==null)return!1;for(var d=c.targetContainers;0<d.length;){var m=B_(c.nativeEvent);if(m===null){m=c.nativeEvent;var b=new m.constructor(m.type,m);la=b,m.target.dispatchEvent(b),la=null}else return d=nt(m),d!==null&&Xk(d),c.blockedOn=m,!1;d.shift()}return!0}function eO(c,d,m){ex(c)&&m.delete(d)}function iX(){z_=!1,Nu!==null&&ex(Nu)&&(Nu=null),Tu!==null&&ex(Tu)&&(Tu=null),Au!==null&&ex(Au)&&(Au=null),pg.forEach(eO),gg.forEach(eO)}function tx(c,d){c.blockedOn===d&&(c.blockedOn=null,z_||(z_=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,iX)))}var nx=null;function tO(c){nx!==c&&(nx=c,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){nx===c&&(nx=null);for(var d=0;d<c.length;d+=3){var m=c[d],b=c[d+1],k=c[d+2];if(typeof b!="function"){if(U_(b||m)===null)continue;break}var M=nt(m);M!==null&&(c.splice(d,3),d-=3,L2(M,{pending:!0,data:k,method:m.method,action:b},b,k))}}))}function yg(c){function d(ge){return tx(ge,c)}Nu!==null&&tx(Nu,c),Tu!==null&&tx(Tu,c),Au!==null&&tx(Au,c),pg.forEach(d),gg.forEach(d);for(var m=0;m<Lu.length;m++){var b=Lu[m];b.blockedOn===c&&(b.blockedOn=null)}for(;0<Lu.length&&(m=Lu[0],m.blockedOn===null);)Zk(m),m.blockedOn===null&&Lu.shift();if(m=(c.ownerDocument||c).$$reactFormReplay,m!=null)for(b=0;b<m.length;b+=3){var k=m[b],M=m[b+1],J=k[ue]||null;if(typeof M=="function")J||tO(m);else if(J){var oe=null;if(M&&M.hasAttribute("formAction")){if(k=M,J=M[ue]||null)oe=J.formAction;else if(U_(k)!==null)continue}else oe=J.action;typeof oe=="function"?m[b+1]=oe:(m.splice(b,3),b-=3),tO(m)}}}function q_(c){this._internalRoot=c}rx.prototype.render=q_.prototype.render=function(c){var d=this._internalRoot;if(d===null)throw Error(r(409));var m=d.current,b=Di();Kk(m,b,c,d,null,null)},rx.prototype.unmount=q_.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var d=c.containerInfo;c.tag===0&&Gf(),Kk(c.current,2,null,c,null,null),By(),d[he]=null}};function rx(c){this._internalRoot=c}rx.prototype.unstable_scheduleHydration=function(c){if(c){var d=no();c={blockedOn:null,target:c,priority:d};for(var m=0;m<Lu.length&&d!==0&&d<Lu[m].priority;m++);Lu.splice(m,0,c),m===0&&Zk(c)}};var nO=e.version;if(nO!=="19.0.0")throw Error(r(527,nO,"19.0.0"));te.findDOMNode=function(c){var d=c._reactInternals;if(d===void 0)throw typeof c.render=="function"?Error(r(188)):(c=Object.keys(c).join(","),Error(r(268,c)));return c=ve(d),c=c!==null?Q(c):null,c=c===null?null:c.stateNode,c};var oX={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:_,findFiberByHostInstance:Qe,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sx.isDisabled&&sx.supportsFiber)try{Br=sx.inject(oX),Vn=sx}catch{}}return bg.createRoot=function(c,d){if(!s(c))throw Error(r(299));var m=!1,b="",k=xR,M=bR,J=wR,oe=null;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(b=d.identifierPrefix),d.onUncaughtError!==void 0&&(k=d.onUncaughtError),d.onCaughtError!==void 0&&(M=d.onCaughtError),d.onRecoverableError!==void 0&&(J=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(oe=d.unstable_transitionCallbacks)),d=Gk(c,1,!1,null,null,m,b,k,M,J,oe,null),c[he]=d.current,S_(c.nodeType===8?c.parentNode:c),new q_(d)},bg.hydrateRoot=function(c,d,m){if(!s(c))throw Error(r(299));var b=!1,k="",M=xR,J=bR,oe=wR,ge=null,Se=null;return m!=null&&(m.unstable_strictMode===!0&&(b=!0),m.identifierPrefix!==void 0&&(k=m.identifierPrefix),m.onUncaughtError!==void 0&&(M=m.onUncaughtError),m.onCaughtError!==void 0&&(J=m.onCaughtError),m.onRecoverableError!==void 0&&(oe=m.onRecoverableError),m.unstable_transitionCallbacks!==void 0&&(ge=m.unstable_transitionCallbacks),m.formState!==void 0&&(Se=m.formState)),d=Gk(c,1,!0,d,m??null,b,k,M,J,oe,ge,Se),d.context=Wk(null),m=d.current,b=Di(),k=xu(b),k.callback=null,bu(m,k,b),d.current.lanes=b,bn(d,b),Cl(d),c[he]=d.current,S_(c),new rx(d)},bg.version="19.0.0",bg}var hO;function xX(){if(hO)return H_.exports;hO=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),H_.exports=yX(),H_.exports}var bX=xX(),Y_={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var fO;function wX(){return fO||(fO=1,function(t){(function(){var e={}.hasOwnProperty;function n(){for(var i="",o=0;o<arguments.length;o++){var l=arguments[o];l&&(i=s(i,r(l)))}return i}function r(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return n.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var o="";for(var l in i)e.call(i,l)&&i[l]&&(o=s(o,l));return o}function s(i,o){return o?i?i+" "+o:i+o:i}t.exports?(n.default=n,t.exports=n):window.classNames=n})()}(Y_)),Y_.exports}var _X=wX();const Pt=rc(_X);function CC(){return CC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CC.apply(null,arguments)}function N7(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function mO(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function jX(t){var e=EX(t,"string");return typeof e=="symbol"?e:String(e)}function EX(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function T7(t,e,n){var r=j.useRef(t!==void 0),s=j.useState(e),i=s[0],o=s[1],l=t!==void 0,u=r.current;return r.current=l,!l&&u&&i!==e&&o(e),[l?t:i,j.useCallback(function(h){for(var f=arguments.length,g=new Array(f>1?f-1:0),p=1;p<f;p++)g[p-1]=arguments[p];n&&n.apply(void 0,[h].concat(g)),o(h)},[n])]}function kb(t,e){return Object.keys(e).reduce(function(n,r){var s,i=n,o=i[mO(r)],l=i[r],u=N7(i,[mO(r),r].map(jX)),h=e[r],f=T7(l,o,t[h]),g=f[0],p=f[1];return CC({},u,(s={},s[r]=g,s[h]=p,s))},t)}function NC(t,e){return NC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},NC(t,e)}function SX(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,NC(t,e)}const CX=["xxl","xl","lg","md","sm","xs"],NX="xs",uv=j.createContext({prefixes:{},breakpoints:CX,minBreakpoint:NX}),{Consumer:uPe,Provider:dPe}=uv;function Xt(t,e){const{prefixes:n}=j.useContext(uv);return t||n[e]||e}function A7(){const{breakpoints:t}=j.useContext(uv);return t}function L7(){const{minBreakpoint:t}=j.useContext(uv);return t}function VT(){const{dir:t}=j.useContext(uv);return t==="rtl"}function dv(t){return t&&t.ownerDocument||document}function TX(t){var e=dv(t);return e&&e.defaultView||window}function AX(t,e){return TX(t).getComputedStyle(t,e)}var LX=/([A-Z])/g;function RX(t){return t.replace(LX,"-$1").toLowerCase()}var kX=/^ms-/;function ax(t){return RX(t).replace(kX,"-ms-")}var OX=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function IX(t){return!!(t&&OX.test(t))}function Mc(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(ax(e))||AX(t).getPropertyValue(ax(e));Object.keys(e).forEach(function(s){var i=e[s];!i&&i!==0?t.style.removeProperty(ax(s)):IX(s)?r+=s+"("+i+") ":n+=ax(s)+": "+i+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}var X_={exports:{}},J_,pO;function PX(){if(pO)return J_;pO=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return J_=t,J_}var Q_,gO;function DX(){if(gO)return Q_;gO=1;var t=PX();function e(){}function n(){}return n.resetWarningCache=e,Q_=function(){function r(o,l,u,h,f,g){if(g!==t){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}r.isRequired=r;function s(){return r}var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:e};return i.PropTypes=i,i},Q_}var vO;function MX(){return vO||(vO=1,X_.exports=DX()()),X_.exports}var FX=MX();const pt=rc(FX);var Oh=C7();const sh=rc(Oh),yO={disabled:!1},R7=er.createContext(null);var BX=function(e){return e.scrollTop},Pg="unmounted",Fu="exited",Zo="entering",Rc="entered",_0="exiting",nu=function(t){SX(e,t);function e(r,s){var i;i=t.call(this,r,s)||this;var o=s,l=o&&!o.isMounting?r.enter:r.appear,u;return i.appearStatus=null,r.in?l?(u=Fu,i.appearStatus=Zo):u=Rc:r.unmountOnExit||r.mountOnEnter?u=Pg:u=Fu,i.state={status:u},i.nextCallback=null,i}e.getDerivedStateFromProps=function(s,i){var o=s.in;return o&&i.status===Pg?{status:Fu}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(s){var i=null;if(s!==this.props){var o=this.state.status;this.props.in?o!==Zo&&o!==Rc&&(i=Zo):(o===Zo||o===Rc)&&(i=_0)}this.updateStatus(!1,i)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var s=this.props.timeout,i,o,l;return i=o=l=s,s!=null&&typeof s!="number"&&(i=s.exit,o=s.enter,l=s.appear!==void 0?s.appear:o),{exit:i,enter:o,appear:l}},n.updateStatus=function(s,i){if(s===void 0&&(s=!1),i!==null)if(this.cancelNextCallback(),i===Zo){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:sh.findDOMNode(this);o&&BX(o)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Fu&&this.setState({status:Pg})},n.performEnter=function(s){var i=this,o=this.props.enter,l=this.context?this.context.isMounting:s,u=this.props.nodeRef?[l]:[sh.findDOMNode(this),l],h=u[0],f=u[1],g=this.getTimeouts(),p=l?g.appear:g.enter;if(!s&&!o||yO.disabled){this.safeSetState({status:Rc},function(){i.props.onEntered(h)});return}this.props.onEnter(h,f),this.safeSetState({status:Zo},function(){i.props.onEntering(h,f),i.onTransitionEnd(p,function(){i.safeSetState({status:Rc},function(){i.props.onEntered(h,f)})})})},n.performExit=function(){var s=this,i=this.props.exit,o=this.getTimeouts(),l=this.props.nodeRef?void 0:sh.findDOMNode(this);if(!i||yO.disabled){this.safeSetState({status:Fu},function(){s.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:_0},function(){s.props.onExiting(l),s.onTransitionEnd(o.exit,function(){s.safeSetState({status:Fu},function(){s.props.onExited(l)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(s,i){i=this.setNextCallback(i),this.setState(s,i)},n.setNextCallback=function(s){var i=this,o=!0;return this.nextCallback=function(l){o&&(o=!1,i.nextCallback=null,s(l))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(s,i){this.setNextCallback(i);var o=this.props.nodeRef?this.props.nodeRef.current:sh.findDOMNode(this),l=s==null&&!this.props.addEndListener;if(!o||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],h=u[0],f=u[1];this.props.addEndListener(h,f)}s!=null&&setTimeout(this.nextCallback,s)},n.render=function(){var s=this.state.status;if(s===Pg)return null;var i=this.props,o=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var l=N7(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return er.createElement(R7.Provider,{value:null},typeof o=="function"?o(s,l):er.cloneElement(er.Children.only(o),l))},e}(er.Component);nu.contextType=R7;nu.propTypes={};function Qf(){}nu.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Qf,onEntering:Qf,onEntered:Qf,onExit:Qf,onExiting:Qf,onExited:Qf};nu.UNMOUNTED=Pg;nu.EXITED=Fu;nu.ENTERING=Zo;nu.ENTERED=Rc;nu.EXITING=_0;function k7(t){return t.code==="Escape"||t.keyCode===27}function UX(){const t=j.version.split(".");return{major:+t[0],minor:+t[1],patch:+t[2]}}function Ih(t){if(!t||typeof t=="function")return null;const{major:e}=UX();return e>=19?t.props.ref:t.ref}const Ob=!!(typeof window<"u"&&window.document&&window.document.createElement);var TC=!1,AC=!1;try{var Z_={get passive(){return TC=!0},get once(){return AC=TC=!0}};Ob&&(window.addEventListener("test",Z_,Z_),window.removeEventListener("test",Z_,!0))}catch{}function O7(t,e,n,r){if(r&&typeof r!="boolean"&&!AC){var s=r.once,i=r.capture,o=n;!AC&&s&&(o=n.__once||function l(u){this.removeEventListener(e,l,i),n.call(this,u)},n.__once=o),t.addEventListener(e,o,TC?r:i)}t.addEventListener(e,n,r)}function zX(t,e,n,r){var s=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,s),n.__once&&t.removeEventListener(e,n.__once,s)}function Oc(t,e,n,r){return O7(t,e,n,r),function(){zX(t,e,n,r)}}function qX(t,e,n,r){if(r===void 0&&(r=!0),t){var s=document.createEvent("HTMLEvents");s.initEvent(e,n,r),t.dispatchEvent(s)}}function $X(t){var e=Mc(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function VX(t,e,n){n===void 0&&(n=5);var r=!1,s=setTimeout(function(){r||qX(t,"transitionend",!0)},e+n),i=Oc(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(s),i()}}function HX(t,e,n,r){n==null&&(n=$X(t)||0);var s=VX(t,n,r),i=Oc(t,"transitionend",e);return function(){s(),i()}}function xO(t,e){const n=Mc(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function HT(t,e){const n=xO(t,"transitionDuration"),r=xO(t,"transitionDelay"),s=HX(t,i=>{i.target===t&&(s(),e(i))},n+r)}function wg(...t){return t.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...s){e.apply(this,s),n.apply(this,s)}},null)}function I7(t){t.offsetHeight}const bO=t=>!t||typeof t=="function"?t:e=>{t.current=e};function GX(t,e){const n=bO(t),r=bO(e);return s=>{n&&n(s),r&&r(s)}}function hv(t,e){return j.useMemo(()=>GX(t,e),[t,e])}function p1(t){return t&&"setState"in t?sh.findDOMNode(t):t??null}const GT=er.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:s,onExited:i,addEndListener:o,children:l,childRef:u,...h},f)=>{const g=j.useRef(null),p=hv(g,u),v=F=>{p(p1(F))},w=F=>y=>{F&&g.current&&F(g.current,y)},E=j.useCallback(w(t),[t]),S=j.useCallback(w(e),[e]),C=j.useCallback(w(n),[n]),O=j.useCallback(w(r),[r]),I=j.useCallback(w(s),[s]),D=j.useCallback(w(i),[i]),T=j.useCallback(w(o),[o]);return a.jsx(nu,{ref:f,...h,onEnter:E,onEntered:C,onEntering:S,onExit:O,onExited:D,onExiting:I,addEndListener:T,nodeRef:g,children:typeof l=="function"?(F,y)=>l(F,{...y,ref:v}):er.cloneElement(l,{ref:v})})}),WX={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function KX(t,e){const n=`offset${t[0].toUpperCase()}${t.slice(1)}`,r=e[n],s=WX[t];return r+parseInt(Mc(e,s[0]),10)+parseInt(Mc(e,s[1]),10)}const YX={[Fu]:"collapse",[_0]:"collapsing",[Zo]:"collapsing",[Rc]:"collapse show"},P7=er.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:s,className:i,children:o,dimension:l="height",in:u=!1,timeout:h=300,mountOnEnter:f=!1,unmountOnExit:g=!1,appear:p=!1,getDimensionValue:v=KX,...w},E)=>{const S=typeof l=="function"?l():l,C=j.useMemo(()=>wg(F=>{F.style[S]="0"},t),[S,t]),O=j.useMemo(()=>wg(F=>{const y=`scroll${S[0].toUpperCase()}${S.slice(1)}`;F.style[S]=`${F[y]}px`},e),[S,e]),I=j.useMemo(()=>wg(F=>{F.style[S]=null},n),[S,n]),D=j.useMemo(()=>wg(F=>{F.style[S]=`${v(S,F)}px`,I7(F)},r),[r,v,S]),T=j.useMemo(()=>wg(F=>{F.style[S]=null},s),[S,s]);return a.jsx(GT,{ref:E,addEndListener:HT,...w,"aria-expanded":w.role?u:null,onEnter:C,onEntering:O,onEntered:I,onExit:D,onExiting:T,childRef:Ih(o),in:u,timeout:h,mountOnEnter:f,unmountOnExit:g,appear:p,children:(F,y)=>er.cloneElement(o,{...y,className:Pt(i,o.props.className,YX[F],S==="width"&&"collapse-horizontal")})})});function XX(t){const e=j.useRef(t);return j.useEffect(()=>{e.current=t},[t]),e}function Ph(t){const e=XX(t);return j.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const JX=t=>j.forwardRef((e,n)=>a.jsx("div",{...e,ref:n,className:Pt(e.className,t)}));function LC(){return j.useState(null)}function QX(t){const e=j.useRef(t);return j.useEffect(()=>{e.current=t},[t]),e}function va(t){const e=QX(t);return j.useCallback(function(...n){return e.current&&e.current(...n)},[e])}function ZX(t,e,n,r=!1){const s=va(n);j.useEffect(()=>{const i=typeof t=="function"?t():t;return i.addEventListener(e,s,r),()=>i.removeEventListener(e,s,r)},[t])}function D7(){const t=j.useRef(!0),e=j.useRef(()=>t.current);return j.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function M7(t){const e=j.useRef(null);return j.useEffect(()=>{e.current=t}),e.current}const eJ=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",tJ=typeof document<"u",wO=tJ||eJ?j.useLayoutEffect:j.useEffect,nJ=["as","disabled"];function rJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sJ(t){return!t||t.trim()==="#"}function WT({tagName:t,disabled:e,href:n,target:r,rel:s,role:i,onClick:o,tabIndex:l=0,type:u}){t||(n!=null||r!=null||s!=null?t="a":t="button");const h={tagName:t};if(t==="button")return[{type:u||"button",disabled:e},h];const f=p=>{if((e||t==="a"&&sJ(n))&&p.preventDefault(),e){p.stopPropagation();return}o==null||o(p)},g=p=>{p.key===" "&&(p.preventDefault(),f(p))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:i??"button",disabled:void 0,tabIndex:e?void 0:l,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?s:void 0,onClick:f,onKeyDown:g},h]}const KT=j.forwardRef((t,e)=>{let{as:n,disabled:r}=t,s=rJ(t,nJ);const[i,{tagName:o}]=WT(Object.assign({tagName:n,disabled:r},s));return a.jsx(o,Object.assign({},s,i,{ref:e}))});KT.displayName="Button";const aJ=["onKeyDown"];function iJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function oJ(t){return!t||t.trim()==="#"}const YT=j.forwardRef((t,e)=>{let{onKeyDown:n}=t,r=iJ(t,aJ);const[s]=WT(Object.assign({tagName:"a"},r)),i=va(o=>{s.onKeyDown(o),n==null||n(o)});return oJ(r.href)||r.role==="button"?a.jsx("a",Object.assign({ref:e},r,s,{onKeyDown:i})):a.jsx("a",Object.assign({ref:e},r,{onKeyDown:n}))});YT.displayName="Anchor";const lJ={[Zo]:"show",[Rc]:"show"},g1=j.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:r,...s},i)=>{const o={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...s},l=j.useCallback((u,h)=>{I7(u),r==null||r(u,h)},[r]);return a.jsx(GT,{ref:i,addEndListener:HT,...o,onEnter:l,childRef:Ih(e),children:(u,h)=>j.cloneElement(e,{...h,className:Pt("fade",t,e.props.className,lJ[u],n[u])})})});g1.displayName="Fade";const cJ={"aria-label":pt.string,onClick:pt.func,variant:pt.oneOf(["white"])},XT=j.forwardRef(({className:t,variant:e,"aria-label":n="Close",...r},s)=>a.jsx("button",{ref:s,type:"button",className:Pt("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...r}));XT.displayName="CloseButton";XT.propTypes=cJ;const JT=j.forwardRef(({bsPrefix:t,bg:e="primary",pill:n=!1,text:r,className:s,as:i="span",...o},l)=>{const u=Xt(t,"badge");return a.jsx(i,{ref:l,...o,className:Pt(s,u,n&&"rounded-pill",r&&`text-${r}`,e&&`bg-${e}`)})});JT.displayName="Badge";const se=j.forwardRef(({as:t,bsPrefix:e,variant:n="primary",size:r,active:s=!1,disabled:i=!1,className:o,...l},u)=>{const h=Xt(e,"btn"),[f,{tagName:g}]=WT({tagName:t,disabled:i,...l}),p=g;return a.jsx(p,{...f,...l,ref:u,disabled:i,className:Pt(o,h,s&&"active",n&&`${h}-${n}`,r&&`${h}-${r}`,l.href&&i&&"disabled")})});se.displayName="Button";const F7=j.createContext(null);F7.displayName="CardHeaderContext";function uJ(){const t=j.useRef(!0),e=j.useRef(()=>t.current);return j.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function dJ(t){const e=j.useRef(t);return e.current=t,e}function hJ(t){const e=dJ(t);j.useEffect(()=>()=>e.current(),[])}const RC=2**31-1;function B7(t,e,n){const r=n-Date.now();t.current=r<=RC?setTimeout(e,r):setTimeout(()=>B7(t,e,n),RC)}function fJ(){const t=uJ(),e=j.useRef();return hJ(()=>clearTimeout(e.current)),j.useMemo(()=>{const n=()=>clearTimeout(e.current);function r(s,i=0){t()&&(n(),i<=RC?e.current=setTimeout(s,i):B7(e,s,Date.now()+i))}return{set:r,clear:n,handleRef:e}},[])}function mJ(t,e){return j.Children.toArray(t).some(n=>j.isValidElement(n)&&n.type===e)}function pJ({as:t,bsPrefix:e,className:n,...r}){e=Xt(e,"col");const s=A7(),i=L7(),o=[],l=[];return s.forEach(u=>{const h=r[u];delete r[u];let f,g,p;typeof h=="object"&&h!=null?{span:f,offset:g,order:p}=h:f=h;const v=u!==i?`-${u}`:"";f&&o.push(f===!0?`${e}${v}`:`${e}${v}-${f}`),p!=null&&l.push(`order${v}-${p}`),g!=null&&l.push(`offset${v}-${g}`)}),[{...r,className:Pt(n,...o,...l)},{as:t,bsPrefix:e,spans:o}]}const z=j.forwardRef((t,e)=>{const[{className:n,...r},{as:s="div",bsPrefix:i,spans:o}]=pJ(t);return a.jsx(s,{...r,ref:e,className:Pt(n,!o.length&&i)})});z.displayName="Col";const B=j.forwardRef(({bsPrefix:t,fluid:e=!1,as:n="div",className:r,...s},i)=>{const o=Xt(t,"container"),l=typeof e=="string"?`-${e}`:"-fluid";return a.jsx(n,{ref:i,...s,className:Pt(r,e?`${o}${l}`:o)})});B.displayName="Container";var gJ=Function.prototype.bind.call(Function.prototype.call,[].slice);function Ac(t,e){return gJ(t.querySelectorAll(e))}function vJ(t,e,n){const r=j.useRef(t!==void 0),[s,i]=j.useState(e),o=t!==void 0,l=r.current;return r.current=o,!o&&l&&s!==e&&i(e),[o?t:s,j.useCallback((...u)=>{const[h,...f]=u;let g=n==null?void 0:n(h,...f);return i(h),g},[n])]}function U7(){const[,t]=j.useReducer(e=>e+1,0);return t}const Ib=j.createContext(null);var _O=Object.prototype.hasOwnProperty;function jO(t,e,n){for(n of t.keys())if(Wg(n,e))return n}function Wg(t,e){var n,r,s;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&Wg(t[r],e[r]););return r===-1}if(n===Set){if(t.size!==e.size)return!1;for(r of t)if(s=r,s&&typeof s=="object"&&(s=jO(e,s),!s)||!e.has(s))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(r of t)if(s=r[0],s&&typeof s=="object"&&(s=jO(e,s),!s)||!Wg(r[1],e.get(s)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((r=t.byteLength)===e.byteLength)for(;r--&&t.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(t)){if((r=t.byteLength)===e.byteLength)for(;r--&&t[r]===e[r];);return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(_O.call(t,n)&&++r&&!_O.call(e,n)||!(n in e)||!Wg(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}function yJ(t){const e=D7();return[t[0],j.useCallback(n=>{if(e())return t[1](n)},[e,t[1]])]}var vi="top",Lo="bottom",Ro="right",yi="left",QT="auto",fv=[vi,Lo,Ro,yi],Bm="start",j0="end",xJ="clippingParents",z7="viewport",_g="popper",bJ="reference",EO=fv.reduce(function(t,e){return t.concat([e+"-"+Bm,e+"-"+j0])},[]),q7=[].concat(fv,[QT]).reduce(function(t,e){return t.concat([e,e+"-"+Bm,e+"-"+j0])},[]),wJ="beforeRead",_J="read",jJ="afterRead",EJ="beforeMain",SJ="main",CJ="afterMain",NJ="beforeWrite",TJ="write",AJ="afterWrite",LJ=[wJ,_J,jJ,EJ,SJ,CJ,NJ,TJ,AJ];function Bl(t){return t.split("-")[0]}function Ki(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function ph(t){var e=Ki(t).Element;return t instanceof e||t instanceof Element}function Ul(t){var e=Ki(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function ZT(t){if(typeof ShadowRoot>"u")return!1;var e=Ki(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var ch=Math.max,v1=Math.min,Um=Math.round;function kC(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function $7(){return!/^((?!chrome|android).)*safari/i.test(kC())}function zm(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),s=1,i=1;e&&Ul(t)&&(s=t.offsetWidth>0&&Um(r.width)/t.offsetWidth||1,i=t.offsetHeight>0&&Um(r.height)/t.offsetHeight||1);var o=ph(t)?Ki(t):window,l=o.visualViewport,u=!$7()&&n,h=(r.left+(u&&l?l.offsetLeft:0))/s,f=(r.top+(u&&l?l.offsetTop:0))/i,g=r.width/s,p=r.height/i;return{width:g,height:p,top:f,right:h+g,bottom:f+p,left:h,x:h,y:f}}function eA(t){var e=zm(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function V7(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&ZT(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function od(t){return t?(t.nodeName||"").toLowerCase():null}function $c(t){return Ki(t).getComputedStyle(t)}function RJ(t){return["table","td","th"].indexOf(od(t))>=0}function wd(t){return((ph(t)?t.ownerDocument:t.document)||window.document).documentElement}function Pb(t){return od(t)==="html"?t:t.assignedSlot||t.parentNode||(ZT(t)?t.host:null)||wd(t)}function SO(t){return!Ul(t)||$c(t).position==="fixed"?null:t.offsetParent}function kJ(t){var e=/firefox/i.test(kC()),n=/Trident/i.test(kC());if(n&&Ul(t)){var r=$c(t);if(r.position==="fixed")return null}var s=Pb(t);for(ZT(s)&&(s=s.host);Ul(s)&&["html","body"].indexOf(od(s))<0;){var i=$c(s);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||e&&i.willChange==="filter"||e&&i.filter&&i.filter!=="none")return s;s=s.parentNode}return null}function mv(t){for(var e=Ki(t),n=SO(t);n&&RJ(n)&&$c(n).position==="static";)n=SO(n);return n&&(od(n)==="html"||od(n)==="body"&&$c(n).position==="static")?e:n||kJ(t)||e}function tA(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Kg(t,e,n){return ch(t,v1(e,n))}function OJ(t,e,n){var r=Kg(t,e,n);return r>n?n:r}function H7(){return{top:0,right:0,bottom:0,left:0}}function G7(t){return Object.assign({},H7(),t)}function W7(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var IJ=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,G7(typeof e!="number"?e:W7(e,fv))};function PJ(t){var e,n=t.state,r=t.name,s=t.options,i=n.elements.arrow,o=n.modifiersData.popperOffsets,l=Bl(n.placement),u=tA(l),h=[yi,Ro].indexOf(l)>=0,f=h?"height":"width";if(!(!i||!o)){var g=IJ(s.padding,n),p=eA(i),v=u==="y"?vi:yi,w=u==="y"?Lo:Ro,E=n.rects.reference[f]+n.rects.reference[u]-o[u]-n.rects.popper[f],S=o[u]-n.rects.reference[u],C=mv(i),O=C?u==="y"?C.clientHeight||0:C.clientWidth||0:0,I=E/2-S/2,D=g[v],T=O-p[f]-g[w],F=O/2-p[f]/2+I,y=Kg(D,F,T),A=u;n.modifiersData[r]=(e={},e[A]=y,e.centerOffset=y-F,e)}}function DJ(t){var e=t.state,n=t.options,r=n.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||V7(e.elements.popper,s)&&(e.elements.arrow=s))}const MJ={name:"arrow",enabled:!0,phase:"main",fn:PJ,effect:DJ,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function qm(t){return t.split("-")[1]}var FJ={top:"auto",right:"auto",bottom:"auto",left:"auto"};function BJ(t,e){var n=t.x,r=t.y,s=e.devicePixelRatio||1;return{x:Um(n*s)/s||0,y:Um(r*s)/s||0}}function CO(t){var e,n=t.popper,r=t.popperRect,s=t.placement,i=t.variation,o=t.offsets,l=t.position,u=t.gpuAcceleration,h=t.adaptive,f=t.roundOffsets,g=t.isFixed,p=o.x,v=p===void 0?0:p,w=o.y,E=w===void 0?0:w,S=typeof f=="function"?f({x:v,y:E}):{x:v,y:E};v=S.x,E=S.y;var C=o.hasOwnProperty("x"),O=o.hasOwnProperty("y"),I=yi,D=vi,T=window;if(h){var F=mv(n),y="clientHeight",A="clientWidth";if(F===Ki(n)&&(F=wd(n),$c(F).position!=="static"&&l==="absolute"&&(y="scrollHeight",A="scrollWidth")),F=F,s===vi||(s===yi||s===Ro)&&i===j0){D=Lo;var _=g&&F===T&&T.visualViewport?T.visualViewport.height:F[y];E-=_-r.height,E*=u?1:-1}if(s===yi||(s===vi||s===Lo)&&i===j0){I=Ro;var L=g&&F===T&&T.visualViewport?T.visualViewport.width:F[A];v-=L-r.width,v*=u?1:-1}}var R=Object.assign({position:l},h&&FJ),U=f===!0?BJ({x:v,y:E},Ki(n)):{x:v,y:E};if(v=U.x,E=U.y,u){var P;return Object.assign({},R,(P={},P[D]=O?"0":"",P[I]=C?"0":"",P.transform=(T.devicePixelRatio||1)<=1?"translate("+v+"px, "+E+"px)":"translate3d("+v+"px, "+E+"px, 0)",P))}return Object.assign({},R,(e={},e[D]=O?E+"px":"",e[I]=C?v+"px":"",e.transform="",e))}function UJ(t){var e=t.state,n=t.options,r=n.gpuAcceleration,s=r===void 0?!0:r,i=n.adaptive,o=i===void 0?!0:i,l=n.roundOffsets,u=l===void 0?!0:l,h={placement:Bl(e.placement),variation:qm(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,CO(Object.assign({},h,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:u})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,CO(Object.assign({},h,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const zJ={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:UJ,data:{}};var ix={passive:!0};function qJ(t){var e=t.state,n=t.instance,r=t.options,s=r.scroll,i=s===void 0?!0:s,o=r.resize,l=o===void 0?!0:o,u=Ki(e.elements.popper),h=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&h.forEach(function(f){f.addEventListener("scroll",n.update,ix)}),l&&u.addEventListener("resize",n.update,ix),function(){i&&h.forEach(function(f){f.removeEventListener("scroll",n.update,ix)}),l&&u.removeEventListener("resize",n.update,ix)}}const $J={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:qJ,data:{}};var VJ={left:"right",right:"left",bottom:"top",top:"bottom"};function Wx(t){return t.replace(/left|right|bottom|top/g,function(e){return VJ[e]})}var HJ={start:"end",end:"start"};function NO(t){return t.replace(/start|end/g,function(e){return HJ[e]})}function nA(t){var e=Ki(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function rA(t){return zm(wd(t)).left+nA(t).scrollLeft}function GJ(t,e){var n=Ki(t),r=wd(t),s=n.visualViewport,i=r.clientWidth,o=r.clientHeight,l=0,u=0;if(s){i=s.width,o=s.height;var h=$7();(h||!h&&e==="fixed")&&(l=s.offsetLeft,u=s.offsetTop)}return{width:i,height:o,x:l+rA(t),y:u}}function WJ(t){var e,n=wd(t),r=nA(t),s=(e=t.ownerDocument)==null?void 0:e.body,i=ch(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=ch(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),l=-r.scrollLeft+rA(t),u=-r.scrollTop;return $c(s||n).direction==="rtl"&&(l+=ch(n.clientWidth,s?s.clientWidth:0)-i),{width:i,height:o,x:l,y:u}}function sA(t){var e=$c(t),n=e.overflow,r=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+r)}function K7(t){return["html","body","#document"].indexOf(od(t))>=0?t.ownerDocument.body:Ul(t)&&sA(t)?t:K7(Pb(t))}function Yg(t,e){var n;e===void 0&&(e=[]);var r=K7(t),s=r===((n=t.ownerDocument)==null?void 0:n.body),i=Ki(r),o=s?[i].concat(i.visualViewport||[],sA(r)?r:[]):r,l=e.concat(o);return s?l:l.concat(Yg(Pb(o)))}function OC(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function KJ(t,e){var n=zm(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function TO(t,e,n){return e===z7?OC(GJ(t,n)):ph(e)?KJ(e,n):OC(WJ(wd(t)))}function YJ(t){var e=Yg(Pb(t)),n=["absolute","fixed"].indexOf($c(t).position)>=0,r=n&&Ul(t)?mv(t):t;return ph(r)?e.filter(function(s){return ph(s)&&V7(s,r)&&od(s)!=="body"}):[]}function XJ(t,e,n,r){var s=e==="clippingParents"?YJ(t):[].concat(e),i=[].concat(s,[n]),o=i[0],l=i.reduce(function(u,h){var f=TO(t,h,r);return u.top=ch(f.top,u.top),u.right=v1(f.right,u.right),u.bottom=v1(f.bottom,u.bottom),u.left=ch(f.left,u.left),u},TO(t,o,r));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function Y7(t){var e=t.reference,n=t.element,r=t.placement,s=r?Bl(r):null,i=r?qm(r):null,o=e.x+e.width/2-n.width/2,l=e.y+e.height/2-n.height/2,u;switch(s){case vi:u={x:o,y:e.y-n.height};break;case Lo:u={x:o,y:e.y+e.height};break;case Ro:u={x:e.x+e.width,y:l};break;case yi:u={x:e.x-n.width,y:l};break;default:u={x:e.x,y:e.y}}var h=s?tA(s):null;if(h!=null){var f=h==="y"?"height":"width";switch(i){case Bm:u[h]=u[h]-(e[f]/2-n[f]/2);break;case j0:u[h]=u[h]+(e[f]/2-n[f]/2);break}}return u}function E0(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=r===void 0?t.placement:r,i=n.strategy,o=i===void 0?t.strategy:i,l=n.boundary,u=l===void 0?xJ:l,h=n.rootBoundary,f=h===void 0?z7:h,g=n.elementContext,p=g===void 0?_g:g,v=n.altBoundary,w=v===void 0?!1:v,E=n.padding,S=E===void 0?0:E,C=G7(typeof S!="number"?S:W7(S,fv)),O=p===_g?bJ:_g,I=t.rects.popper,D=t.elements[w?O:p],T=XJ(ph(D)?D:D.contextElement||wd(t.elements.popper),u,f,o),F=zm(t.elements.reference),y=Y7({reference:F,element:I,placement:s}),A=OC(Object.assign({},I,y)),_=p===_g?A:F,L={top:T.top-_.top+C.top,bottom:_.bottom-T.bottom+C.bottom,left:T.left-_.left+C.left,right:_.right-T.right+C.right},R=t.modifiersData.offset;if(p===_g&&R){var U=R[s];Object.keys(L).forEach(function(P){var K=[Ro,Lo].indexOf(P)>=0?1:-1,G=[vi,Lo].indexOf(P)>=0?"y":"x";L[P]+=U[G]*K})}return L}function JJ(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=n.boundary,i=n.rootBoundary,o=n.padding,l=n.flipVariations,u=n.allowedAutoPlacements,h=u===void 0?q7:u,f=qm(r),g=f?l?EO:EO.filter(function(w){return qm(w)===f}):fv,p=g.filter(function(w){return h.indexOf(w)>=0});p.length===0&&(p=g);var v=p.reduce(function(w,E){return w[E]=E0(t,{placement:E,boundary:s,rootBoundary:i,padding:o})[Bl(E)],w},{});return Object.keys(v).sort(function(w,E){return v[w]-v[E]})}function QJ(t){if(Bl(t)===QT)return[];var e=Wx(t);return[NO(t),e,NO(e)]}function ZJ(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var s=n.mainAxis,i=s===void 0?!0:s,o=n.altAxis,l=o===void 0?!0:o,u=n.fallbackPlacements,h=n.padding,f=n.boundary,g=n.rootBoundary,p=n.altBoundary,v=n.flipVariations,w=v===void 0?!0:v,E=n.allowedAutoPlacements,S=e.options.placement,C=Bl(S),O=C===S,I=u||(O||!w?[Wx(S)]:QJ(S)),D=[S].concat(I).reduce(function(te,X){return te.concat(Bl(X)===QT?JJ(e,{placement:X,boundary:f,rootBoundary:g,padding:h,flipVariations:w,allowedAutoPlacements:E}):X)},[]),T=e.rects.reference,F=e.rects.popper,y=new Map,A=!0,_=D[0],L=0;L<D.length;L++){var R=D[L],U=Bl(R),P=qm(R)===Bm,K=[vi,Lo].indexOf(U)>=0,G=K?"width":"height",re=E0(e,{placement:R,boundary:f,rootBoundary:g,altBoundary:p,padding:h}),Z=K?P?Ro:yi:P?Lo:vi;T[G]>F[G]&&(Z=Wx(Z));var me=Wx(Z),ie=[];if(i&&ie.push(re[U]<=0),l&&ie.push(re[Z]<=0,re[me]<=0),ie.every(function(te){return te})){_=R,A=!1;break}y.set(R,ie)}if(A)for(var W=w?3:1,ve=function(X){var be=D.find(function(Ne){var Ee=y.get(Ne);if(Ee)return Ee.slice(0,X).every(function(Ie){return Ie})});if(be)return _=be,"break"},Q=W;Q>0;Q--){var ne=ve(Q);if(ne==="break")break}e.placement!==_&&(e.modifiersData[r]._skip=!0,e.placement=_,e.reset=!0)}}const eQ={name:"flip",enabled:!0,phase:"main",fn:ZJ,requiresIfExists:["offset"],data:{_skip:!1}};function AO(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function LO(t){return[vi,Ro,Lo,yi].some(function(e){return t[e]>=0})}function tQ(t){var e=t.state,n=t.name,r=e.rects.reference,s=e.rects.popper,i=e.modifiersData.preventOverflow,o=E0(e,{elementContext:"reference"}),l=E0(e,{altBoundary:!0}),u=AO(o,r),h=AO(l,s,i),f=LO(u),g=LO(h);e.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:h,isReferenceHidden:f,hasPopperEscaped:g},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":g})}const nQ={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:tQ};function rQ(t,e,n){var r=Bl(t),s=[yi,vi].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=i[0],l=i[1];return o=o||0,l=(l||0)*s,[yi,Ro].indexOf(r)>=0?{x:l,y:o}:{x:o,y:l}}function sQ(t){var e=t.state,n=t.options,r=t.name,s=n.offset,i=s===void 0?[0,0]:s,o=q7.reduce(function(f,g){return f[g]=rQ(g,e.rects,i),f},{}),l=o[e.placement],u=l.x,h=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=u,e.modifiersData.popperOffsets.y+=h),e.modifiersData[r]=o}const aQ={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:sQ};function iQ(t){var e=t.state,n=t.name;e.modifiersData[n]=Y7({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const oQ={name:"popperOffsets",enabled:!0,phase:"read",fn:iQ,data:{}};function lQ(t){return t==="x"?"y":"x"}function cQ(t){var e=t.state,n=t.options,r=t.name,s=n.mainAxis,i=s===void 0?!0:s,o=n.altAxis,l=o===void 0?!1:o,u=n.boundary,h=n.rootBoundary,f=n.altBoundary,g=n.padding,p=n.tether,v=p===void 0?!0:p,w=n.tetherOffset,E=w===void 0?0:w,S=E0(e,{boundary:u,rootBoundary:h,padding:g,altBoundary:f}),C=Bl(e.placement),O=qm(e.placement),I=!O,D=tA(C),T=lQ(D),F=e.modifiersData.popperOffsets,y=e.rects.reference,A=e.rects.popper,_=typeof E=="function"?E(Object.assign({},e.rects,{placement:e.placement})):E,L=typeof _=="number"?{mainAxis:_,altAxis:_}:Object.assign({mainAxis:0,altAxis:0},_),R=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,U={x:0,y:0};if(F){if(i){var P,K=D==="y"?vi:yi,G=D==="y"?Lo:Ro,re=D==="y"?"height":"width",Z=F[D],me=Z+S[K],ie=Z-S[G],W=v?-A[re]/2:0,ve=O===Bm?y[re]:A[re],Q=O===Bm?-A[re]:-y[re],ne=e.elements.arrow,te=v&&ne?eA(ne):{width:0,height:0},X=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:H7(),be=X[K],Ne=X[G],Ee=Kg(0,y[re],te[re]),Ie=I?y[re]/2-W-Ee-be-L.mainAxis:ve-Ee-be-L.mainAxis,_e=I?-y[re]/2+W+Ee+Ne+L.mainAxis:Q+Ee+Ne+L.mainAxis,Ue=e.elements.arrow&&mv(e.elements.arrow),tt=Ue?D==="y"?Ue.clientTop||0:Ue.clientLeft||0:0,ct=(P=R==null?void 0:R[D])!=null?P:0,ut=Z+Ie-ct-tt,Ye=Z+_e-ct,Et=Kg(v?v1(me,ut):me,Z,v?ch(ie,Ye):ie);F[D]=Et,U[D]=Et-Z}if(l){var Ze,zt=D==="x"?vi:yi,Cn=D==="x"?Lo:Ro,fn=F[T],vn=T==="y"?"height":"width",dr=fn+S[zt],sr=fn-S[Cn],We=[vi,yi].indexOf(C)!==-1,xt=(Ze=R==null?void 0:R[T])!=null?Ze:0,Mt=We?dr:fn-y[vn]-A[vn]-xt+L.altAxis,kt=We?fn+y[vn]+A[vn]-xt-L.altAxis:sr,on=v&&We?OJ(Mt,fn,kt):Kg(v?Mt:dr,fn,v?kt:sr);F[T]=on,U[T]=on-fn}e.modifiersData[r]=U}}const uQ={name:"preventOverflow",enabled:!0,phase:"main",fn:cQ,requiresIfExists:["offset"]};function dQ(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function hQ(t){return t===Ki(t)||!Ul(t)?nA(t):dQ(t)}function fQ(t){var e=t.getBoundingClientRect(),n=Um(e.width)/t.offsetWidth||1,r=Um(e.height)/t.offsetHeight||1;return n!==1||r!==1}function mQ(t,e,n){n===void 0&&(n=!1);var r=Ul(e),s=Ul(e)&&fQ(e),i=wd(e),o=zm(t,s,n),l={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&((od(e)!=="body"||sA(i))&&(l=hQ(e)),Ul(e)?(u=zm(e,!0),u.x+=e.clientLeft,u.y+=e.clientTop):i&&(u.x=rA(i))),{x:o.left+l.scrollLeft-u.x,y:o.top+l.scrollTop-u.y,width:o.width,height:o.height}}function pQ(t){var e=new Map,n=new Set,r=[];t.forEach(function(i){e.set(i.name,i)});function s(i){n.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(l){if(!n.has(l)){var u=e.get(l);u&&s(u)}}),r.push(i)}return t.forEach(function(i){n.has(i.name)||s(i)}),r}function gQ(t){var e=pQ(t);return LJ.reduce(function(n,r){return n.concat(e.filter(function(s){return s.phase===r}))},[])}function vQ(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function yQ(t){var e=t.reduce(function(n,r){var s=n[r.name];return n[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var RO={placement:"bottom",modifiers:[],strategy:"absolute"};function kO(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function xQ(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,s=e.defaultOptions,i=s===void 0?RO:s;return function(l,u,h){h===void 0&&(h=i);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},RO,i),modifiersData:{},elements:{reference:l,popper:u},attributes:{},styles:{}},g=[],p=!1,v={state:f,setOptions:function(C){var O=typeof C=="function"?C(f.options):C;E(),f.options=Object.assign({},i,f.options,O),f.scrollParents={reference:ph(l)?Yg(l):l.contextElement?Yg(l.contextElement):[],popper:Yg(u)};var I=gQ(yQ([].concat(r,f.options.modifiers)));return f.orderedModifiers=I.filter(function(D){return D.enabled}),w(),v.update()},forceUpdate:function(){if(!p){var C=f.elements,O=C.reference,I=C.popper;if(kO(O,I)){f.rects={reference:mQ(O,mv(I),f.options.strategy==="fixed"),popper:eA(I)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(L){return f.modifiersData[L.name]=Object.assign({},L.data)});for(var D=0;D<f.orderedModifiers.length;D++){if(f.reset===!0){f.reset=!1,D=-1;continue}var T=f.orderedModifiers[D],F=T.fn,y=T.options,A=y===void 0?{}:y,_=T.name;typeof F=="function"&&(f=F({state:f,options:A,name:_,instance:v})||f)}}}},update:vQ(function(){return new Promise(function(S){v.forceUpdate(),S(f)})}),destroy:function(){E(),p=!0}};if(!kO(l,u))return v;v.setOptions(h).then(function(S){!p&&h.onFirstUpdate&&h.onFirstUpdate(S)});function w(){f.orderedModifiers.forEach(function(S){var C=S.name,O=S.options,I=O===void 0?{}:O,D=S.effect;if(typeof D=="function"){var T=D({state:f,name:C,instance:v,options:I}),F=function(){};g.push(T||F)}})}function E(){g.forEach(function(S){return S()}),g=[]}return v}}const bQ=xQ({defaultModifiers:[nQ,oQ,zJ,$J,aQ,eQ,uQ,MJ]}),wQ=["enabled","placement","strategy","modifiers"];function _Q(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const jQ={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},EQ={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:t})=>()=>{const{reference:e,popper:n}=t.elements;if("removeAttribute"in e){const r=(e.getAttribute("aria-describedby")||"").split(",").filter(s=>s.trim()!==n.id);r.length?e.setAttribute("aria-describedby",r.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:t})=>{var e;const{popper:n,reference:r}=t.elements,s=(e=n.getAttribute("role"))==null?void 0:e.toLowerCase();if(n.id&&s==="tooltip"&&"setAttribute"in r){const i=r.getAttribute("aria-describedby");if(i&&i.split(",").indexOf(n.id)!==-1)return;r.setAttribute("aria-describedby",i?`${i},${n.id}`:n.id)}}},SQ=[];function X7(t,e,n={}){let{enabled:r=!0,placement:s="bottom",strategy:i="absolute",modifiers:o=SQ}=n,l=_Q(n,wQ);const u=j.useRef(o),h=j.useRef(),f=j.useCallback(()=>{var S;(S=h.current)==null||S.update()},[]),g=j.useCallback(()=>{var S;(S=h.current)==null||S.forceUpdate()},[]),[p,v]=yJ(j.useState({placement:s,update:f,forceUpdate:g,attributes:{},styles:{popper:{},arrow:{}}})),w=j.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:S})=>{const C={},O={};Object.keys(S.elements).forEach(I=>{C[I]=S.styles[I],O[I]=S.attributes[I]}),v({state:S,styles:C,attributes:O,update:f,forceUpdate:g,placement:S.placement})}}),[f,g,v]),E=j.useMemo(()=>(Wg(u.current,o)||(u.current=o),u.current),[o]);return j.useEffect(()=>{!h.current||!r||h.current.setOptions({placement:s,strategy:i,modifiers:[...E,w,jQ]})},[i,s,w,r,E]),j.useEffect(()=>{if(!(!r||t==null||e==null))return h.current=bQ(t,e,Object.assign({},l,{placement:s,strategy:i,modifiers:[...E,EQ,w]})),()=>{h.current!=null&&(h.current.destroy(),h.current=void 0,v(S=>Object.assign({},S,{attributes:{},styles:{popper:{}}})))}},[r,t,e]),p}function S0(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}var ej,OO;function CQ(){if(OO)return ej;OO=1;var t=function(){};return ej=t,ej}var NQ=CQ();const TQ=rc(NQ),IO=()=>{};function AQ(t){return t.button===0}function LQ(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}const Kx=t=>t&&("current"in t?t.current:t),PO={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function J7(t,e=IO,{disabled:n,clickTrigger:r="click"}={}){const s=j.useRef(!1),i=j.useRef(!1),o=j.useCallback(h=>{const f=Kx(t);TQ(!!f,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),s.current=!f||LQ(h)||!AQ(h)||!!S0(f,h.target)||i.current,i.current=!1},[t]),l=va(h=>{const f=Kx(t);f&&S0(f,h.target)?i.current=!0:i.current=!1}),u=va(h=>{s.current||e(h)});j.useEffect(()=>{var h,f;if(n||t==null)return;const g=dv(Kx(t)),p=g.defaultView||window;let v=(h=p.event)!=null?h:(f=p.parent)==null?void 0:f.event,w=null;PO[r]&&(w=Oc(g,PO[r],l,!0));const E=Oc(g,r,o,!0),S=Oc(g,r,O=>{if(O===v){v=void 0;return}u(O)});let C=[];return"ontouchstart"in g.documentElement&&(C=[].slice.call(g.body.children).map(O=>Oc(O,"mousemove",IO))),()=>{w==null||w(),E(),S(),C.forEach(O=>O())}},[t,n,r,o,l,u])}function RQ(t){const e={};return Array.isArray(t)?(t==null||t.forEach(n=>{e[n.name]=n}),e):t||e}function kQ(t={}){return Array.isArray(t)?t:Object.keys(t).map(e=>(t[e].name=e,t[e]))}function Q7({enabled:t,enableEvents:e,placement:n,flip:r,offset:s,fixed:i,containerPadding:o,arrowElement:l,popperConfig:u={}}){var h,f,g,p,v;const w=RQ(u.modifiers);return Object.assign({},u,{placement:n,enabled:t,strategy:i?"fixed":u.strategy,modifiers:kQ(Object.assign({},w,{eventListeners:{enabled:e,options:(h=w.eventListeners)==null?void 0:h.options},preventOverflow:Object.assign({},w.preventOverflow,{options:o?Object.assign({padding:o},(f=w.preventOverflow)==null?void 0:f.options):(g=w.preventOverflow)==null?void 0:g.options}),offset:{options:Object.assign({offset:s},(p=w.offset)==null?void 0:p.options)},arrow:Object.assign({},w.arrow,{enabled:!!l,options:Object.assign({},(v=w.arrow)==null?void 0:v.options,{element:l})}),flip:Object.assign({enabled:!!r},w.flip)}))})}const OQ=["children","usePopper"];function IQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const PQ=()=>{};function Z7(t={}){const e=j.useContext(Ib),[n,r]=LC(),s=j.useRef(!1),{flip:i,offset:o,rootCloseEvent:l,fixed:u=!1,placement:h,popperConfig:f={},enableEventListeners:g=!0,usePopper:p=!!e}=t,v=(e==null?void 0:e.show)==null?!!t.show:e.show;v&&!s.current&&(s.current=!0);const w=F=>{e==null||e.toggle(!1,F)},{placement:E,setMenu:S,menuElement:C,toggleElement:O}=e||{},I=X7(O,C,Q7({placement:h||E||"bottom-start",enabled:p,enableEvents:g??v,offset:o,flip:i,fixed:u,arrowElement:n,popperConfig:f})),D=Object.assign({ref:S||PQ,"aria-labelledby":O==null?void 0:O.id},I.attributes.popper,{style:I.styles.popper}),T={show:v,placement:E,hasShown:s.current,toggle:e==null?void 0:e.toggle,popper:p?I:null,arrowProps:p?Object.assign({ref:r},I.attributes.arrow,{style:I.styles.arrow}):{}};return J7(C,w,{clickTrigger:l,disabled:!v}),[D,T]}function e9(t){let{children:e,usePopper:n=!0}=t,r=IQ(t,OQ);const[s,i]=Z7(Object.assign({},r,{usePopper:n}));return a.jsx(a.Fragment,{children:e(s,i)})}e9.displayName="DropdownMenu";const aA={prefix:String(Math.round(Math.random()*1e10)),current:0},t9=er.createContext(aA),DQ=er.createContext(!1);let MQ=!!(typeof window<"u"&&window.document&&window.document.createElement),tj=new WeakMap;function FQ(t=!1){let e=j.useContext(t9),n=j.useRef(null);if(n.current===null&&!t){var r,s;let i=(s=er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||s===void 0||(r=s.ReactCurrentOwner)===null||r===void 0?void 0:r.current;if(i){let o=tj.get(i);o==null?tj.set(i,{id:e.current,state:i.memoizedState}):i.memoizedState!==o.state&&(e.current=o.id,tj.delete(i))}n.current=++e.current}return n.current}function BQ(t){let e=j.useContext(t9);e===aA&&!MQ&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let n=FQ(!!t),r=`react-aria${e.prefix}`;return t||`${r}-${n}`}function UQ(t){let e=er.useId(),[n]=j.useState(HQ()),r=n?"react-aria":`react-aria${aA.prefix}`;return t||`${r}-${e}`}const zQ=typeof er.useId=="function"?UQ:BQ;function qQ(){return!1}function $Q(){return!0}function VQ(t){return()=>{}}function HQ(){return typeof er.useSyncExternalStore=="function"?er.useSyncExternalStore(VQ,qQ,$Q):j.useContext(DQ)}const n9=t=>{var e;return((e=t.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},DO=()=>{};function r9(){const t=zQ(),{show:e=!1,toggle:n=DO,setToggle:r,menuElement:s}=j.useContext(Ib)||{},i=j.useCallback(l=>{n(!e,l)},[e,n]),o={id:t,ref:r||DO,onClick:i,"aria-expanded":!!e};return s&&n9(s)&&(o["aria-haspopup"]=!0),[o,{show:e,toggle:n}]}function s9({children:t}){const[e,n]=r9();return a.jsx(a.Fragment,{children:t(e,n)})}s9.displayName="DropdownToggle";const gh=j.createContext(null),$m=(t,e=null)=>t!=null?String(t):e||null,Db=j.createContext(null);Db.displayName="NavContext";const GQ="data-rr-ui-",WQ="rrUi";function cp(t){return`${GQ}${t}`}function KQ(t){return`${WQ}${t}`}const YQ=["eventKey","disabled","onClick","active","as"];function XQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function a9({key:t,href:e,active:n,disabled:r,onClick:s}){const i=j.useContext(gh),o=j.useContext(Db),{activeKey:l}=o||{},u=$m(t,e),h=n==null&&t!=null?$m(l)===u:n;return[{onClick:va(g=>{r||(s==null||s(g),i&&!g.isPropagationStopped()&&i(u,g))}),"aria-disabled":r||void 0,"aria-selected":h,[cp("dropdown-item")]:""},{isActive:h}]}const i9=j.forwardRef((t,e)=>{let{eventKey:n,disabled:r,onClick:s,active:i,as:o=KT}=t,l=XQ(t,YQ);const[u]=a9({key:n,href:l.href,disabled:r,onClick:s,active:i});return a.jsx(o,Object.assign({},l,{ref:e},u))});i9.displayName="DropdownItem";const o9=j.createContext(Ob?window:void 0);o9.Provider;function Mb(){return j.useContext(o9)}function MO(){const t=U7(),e=j.useRef(null),n=j.useCallback(r=>{e.current=r,t()},[t]);return[e,n]}function pv({defaultShow:t,show:e,onSelect:n,onToggle:r,itemSelector:s=`* [${cp("dropdown-item")}]`,focusFirstItemOnShow:i,placement:o="bottom-start",children:l}){const u=Mb(),[h,f]=vJ(e,t,r),[g,p]=MO(),v=g.current,[w,E]=MO(),S=w.current,C=M7(h),O=j.useRef(null),I=j.useRef(!1),D=j.useContext(gh),T=j.useCallback((R,U,P=U==null?void 0:U.type)=>{f(R,{originalEvent:U,source:P})},[f]),F=va((R,U)=>{n==null||n(R,U),T(!1,U,"select"),U.isPropagationStopped()||D==null||D(R,U)}),y=j.useMemo(()=>({toggle:T,placement:o,show:h,menuElement:v,toggleElement:S,setMenu:p,setToggle:E}),[T,o,h,v,S,p,E]);v&&C&&!h&&(I.current=v.contains(v.ownerDocument.activeElement));const A=va(()=>{S&&S.focus&&S.focus()}),_=va(()=>{const R=O.current;let U=i;if(U==null&&(U=g.current&&n9(g.current)?"keyboard":!1),U===!1||U==="keyboard"&&!/^key.+$/.test(R))return;const P=Ac(g.current,s)[0];P&&P.focus&&P.focus()});j.useEffect(()=>{h?_():I.current&&(I.current=!1,A())},[h,I,A,_]),j.useEffect(()=>{O.current=null});const L=(R,U)=>{if(!g.current)return null;const P=Ac(g.current,s);let K=P.indexOf(R)+U;return K=Math.max(0,Math.min(K,P.length)),P[K]};return ZX(j.useCallback(()=>u.document,[u]),"keydown",R=>{var U,P;const{key:K}=R,G=R.target,re=(U=g.current)==null?void 0:U.contains(G),Z=(P=w.current)==null?void 0:P.contains(G);if(/input|textarea/i.test(G.tagName)&&(K===" "||K!=="Escape"&&re||K==="Escape"&&G.type==="search")||!re&&!Z||K==="Tab"&&(!g.current||!h))return;O.current=R.type;const ie={originalEvent:R,source:R.type};switch(K){case"ArrowUp":{const W=L(G,-1);W&&W.focus&&W.focus(),R.preventDefault();return}case"ArrowDown":if(R.preventDefault(),!h)f(!0,ie);else{const W=L(G,1);W&&W.focus&&W.focus()}return;case"Tab":O7(G.ownerDocument,"keyup",W=>{var ve;(W.key==="Tab"&&!W.target||!((ve=g.current)!=null&&ve.contains(W.target)))&&f(!1,ie)},{once:!0});break;case"Escape":K==="Escape"&&(R.preventDefault(),R.stopPropagation()),f(!1,ie);break}}),a.jsx(gh.Provider,{value:F,children:a.jsx(Ib.Provider,{value:y,children:l})})}pv.displayName="Dropdown";pv.Menu=e9;pv.Toggle=s9;pv.Item=i9;const iA=j.createContext({});iA.displayName="DropdownContext";const l9=j.forwardRef(({className:t,bsPrefix:e,as:n="hr",role:r="separator",...s},i)=>(e=Xt(e,"dropdown-divider"),a.jsx(n,{ref:i,className:Pt(t,e),role:r,...s})));l9.displayName="DropdownDivider";const c9=j.forwardRef(({className:t,bsPrefix:e,as:n="div",role:r="heading",...s},i)=>(e=Xt(e,"dropdown-header"),a.jsx(n,{ref:i,className:Pt(t,e),role:r,...s})));c9.displayName="DropdownHeader";const u9=j.forwardRef(({bsPrefix:t,className:e,eventKey:n,disabled:r=!1,onClick:s,active:i,as:o=YT,...l},u)=>{const h=Xt(t,"dropdown-item"),[f,g]=a9({key:n,href:l.href,disabled:r,onClick:s,active:i});return a.jsx(o,{...l,...f,ref:u,className:Pt(e,h,g.isActive&&"active",r&&"disabled")})});u9.displayName="DropdownItem";const d9=j.forwardRef(({className:t,bsPrefix:e,as:n="span",...r},s)=>(e=Xt(e,"dropdown-item-text"),a.jsx(n,{ref:s,className:Pt(t,e),...r})));d9.displayName="DropdownItemText";const JQ=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",QQ=typeof document<"u",oA=QQ||JQ?j.useLayoutEffect:j.useEffect,Fb=j.createContext(null);Fb.displayName="InputGroupContext";const Dh=j.createContext(null);Dh.displayName="NavbarContext";function h9(t,e){return t}function f9(t,e,n){const r=n?"top-end":"top-start",s=n?"top-start":"top-end",i=n?"bottom-end":"bottom-start",o=n?"bottom-start":"bottom-end",l=n?"right-start":"left-start",u=n?"right-end":"left-end",h=n?"left-start":"right-start",f=n?"left-end":"right-end";let g=t?o:i;return e==="up"?g=t?s:r:e==="end"?g=t?f:h:e==="start"?g=t?u:l:e==="down-centered"?g="bottom":e==="up-centered"&&(g="top"),g}const m9=j.forwardRef(({bsPrefix:t,className:e,align:n,rootCloseEvent:r,flip:s=!0,show:i,renderOnMount:o,as:l="div",popperConfig:u,variant:h,...f},g)=>{let p=!1;const v=j.useContext(Dh),w=Xt(t,"dropdown-menu"),{align:E,drop:S,isRTL:C}=j.useContext(iA);n=n||E;const O=j.useContext(Fb),I=[];if(n)if(typeof n=="object"){const R=Object.keys(n);if(R.length){const U=R[0],P=n[U];p=P==="start",I.push(`${w}-${U}-${P}`)}}else n==="end"&&(p=!0);const D=f9(p,S,C),[T,{hasShown:F,popper:y,show:A,toggle:_}]=Z7({flip:s,rootCloseEvent:r,show:i,usePopper:!v&&I.length===0,offset:[0,2],popperConfig:u,placement:D});if(T.ref=hv(h9(g),T.ref),oA(()=>{A&&(y==null||y.update())},[A]),!F&&!o&&!O)return null;typeof l!="string"&&(T.show=A,T.close=()=>_==null?void 0:_(!1),T.align=n);let L=f.style;return y!=null&&y.placement&&(L={...f.style,...T.style},f["x-placement"]=y.placement),a.jsx(l,{...f,...T,style:L,...(I.length||v)&&{"data-bs-popper":"static"},className:Pt(e,w,A&&"show",p&&`${w}-end`,h&&`${w}-${h}`,...I)})});m9.displayName="DropdownMenu";const p9=j.forwardRef(({bsPrefix:t,split:e,className:n,childBsPrefix:r,as:s=se,...i},o)=>{const l=Xt(t,"dropdown-toggle"),u=j.useContext(Ib);r!==void 0&&(i.bsPrefix=r);const[h]=r9();return h.ref=hv(h.ref,h9(o)),a.jsx(s,{className:Pt(n,l,e&&`${l}-split`,(u==null?void 0:u.show)&&"show"),...h,...i})});p9.displayName="DropdownToggle";const g9=j.forwardRef((t,e)=>{const{bsPrefix:n,drop:r="down",show:s,className:i,align:o="start",onSelect:l,onToggle:u,focusFirstItemOnShow:h,as:f="div",navbar:g,autoClose:p=!0,...v}=kb(t,{show:"onToggle"}),w=j.useContext(Fb),E=Xt(n,"dropdown"),S=VT(),C=y=>p===!1?y==="click":p==="inside"?y!=="rootClose":p==="outside"?y!=="select":!0,O=Ph((y,A)=>{var _;!((_=A.originalEvent)==null||(_=_.target)==null)&&_.classList.contains("dropdown-toggle")&&A.source==="mousedown"||(A.originalEvent.currentTarget===document&&(A.source!=="keydown"||A.originalEvent.key==="Escape")&&(A.source="rootClose"),C(A.source)&&(u==null||u(y,A)))}),D=f9(o==="end",r,S),T=j.useMemo(()=>({align:o,drop:r,isRTL:S}),[o,r,S]),F={down:E,"down-centered":`${E}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return a.jsx(iA.Provider,{value:T,children:a.jsx(pv,{placement:D,show:s,onSelect:l,onToggle:O,focusFirstItemOnShow:h,itemSelector:`.${E}-item:not(.disabled):not(:disabled)`,children:w?v.children:a.jsx(f,{...v,ref:e,className:Pt(i,s&&"show",F[r])})})})});g9.displayName="Dropdown";const ah=Object.assign(g9,{Toggle:p9,Menu:m9,Item:u9,ItemText:d9,Divider:l9,Header:c9});pt.string,pt.bool,pt.bool,pt.bool,pt.bool;const Yx=j.forwardRef(({bsPrefix:t,className:e,fluid:n=!1,rounded:r=!1,roundedCircle:s=!1,thumbnail:i=!1,...o},l)=>(t=Xt(t,"img"),a.jsx("img",{ref:l,...o,className:Pt(e,n&&`${t}-fluid`,r&&"rounded",s&&"rounded-circle",i&&`${t}-thumbnail`)})));Yx.displayName="Image";const ZQ={type:pt.string,tooltip:pt.bool,as:pt.elementType},Bb=j.forwardRef(({as:t="div",className:e,type:n="valid",tooltip:r=!1,...s},i)=>a.jsx(t,{...s,ref:i,className:Pt(e,`${n}-${r?"tooltip":"feedback"}`)}));Bb.displayName="Feedback";Bb.propTypes=ZQ;const Vc=j.createContext({}),gv=j.forwardRef(({id:t,bsPrefix:e,className:n,type:r="checkbox",isValid:s=!1,isInvalid:i=!1,as:o="input",...l},u)=>{const{controlId:h}=j.useContext(Vc);return e=Xt(e,"form-check-input"),a.jsx(o,{...l,ref:u,type:r,id:t||h,className:Pt(n,e,s&&"is-valid",i&&"is-invalid")})});gv.displayName="FormCheckInput";const y1=j.forwardRef(({bsPrefix:t,className:e,htmlFor:n,...r},s)=>{const{controlId:i}=j.useContext(Vc);return t=Xt(t,"form-check-label"),a.jsx("label",{...r,ref:s,htmlFor:n||i,className:Pt(e,t)})});y1.displayName="FormCheckLabel";const v9=j.forwardRef(({id:t,bsPrefix:e,bsSwitchPrefix:n,inline:r=!1,reverse:s=!1,disabled:i=!1,isValid:o=!1,isInvalid:l=!1,feedbackTooltip:u=!1,feedback:h,feedbackType:f,className:g,style:p,title:v="",type:w="checkbox",label:E,children:S,as:C="input",...O},I)=>{e=Xt(e,"form-check"),n=Xt(n,"form-switch");const{controlId:D}=j.useContext(Vc),T=j.useMemo(()=>({controlId:t||D}),[D,t]),F=!S&&E!=null&&E!==!1||mJ(S,y1),y=a.jsx(gv,{...O,type:w==="switch"?"checkbox":w,ref:I,isValid:o,isInvalid:l,disabled:i,as:C});return a.jsx(Vc.Provider,{value:T,children:a.jsx("div",{style:p,className:Pt(g,F&&e,r&&`${e}-inline`,s&&`${e}-reverse`,w==="switch"&&n),children:S||a.jsxs(a.Fragment,{children:[y,F&&a.jsx(y1,{title:v,children:E}),h&&a.jsx(Bb,{type:f,tooltip:u,children:h})]})})})});v9.displayName="FormCheck";const x1=Object.assign(v9,{Input:gv,Label:y1}),y9=j.forwardRef(({bsPrefix:t,type:e,size:n,htmlSize:r,id:s,className:i,isValid:o=!1,isInvalid:l=!1,plaintext:u,readOnly:h,as:f="input",...g},p)=>{const{controlId:v}=j.useContext(Vc);return t=Xt(t,"form-control"),a.jsx(f,{...g,type:e,size:r,ref:p,readOnly:h,id:s||v,className:Pt(i,u?`${t}-plaintext`:t,n&&`${t}-${n}`,e==="color"&&`${t}-color`,o&&"is-valid",l&&"is-invalid")})});y9.displayName="FormControl";const x9=Object.assign(y9,{Feedback:Bb}),b9=j.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},s)=>(e=Xt(e,"form-floating"),a.jsx(n,{ref:s,className:Pt(t,e),...r})));b9.displayName="FormFloating";const lA=j.forwardRef(({controlId:t,as:e="div",...n},r)=>{const s=j.useMemo(()=>({controlId:t}),[t]);return a.jsx(Vc.Provider,{value:s,children:a.jsx(e,{...n,ref:r})})});lA.displayName="FormGroup";const w9=j.forwardRef(({as:t="label",bsPrefix:e,column:n=!1,visuallyHidden:r=!1,className:s,htmlFor:i,...o},l)=>{const{controlId:u}=j.useContext(Vc);e=Xt(e,"form-label");let h="col-form-label";typeof n=="string"&&(h=`${h} ${h}-${n}`);const f=Pt(s,e,r&&"visually-hidden",n&&h);return i=i||u,n?a.jsx(z,{ref:l,as:"label",className:f,htmlFor:i,...o}):a.jsx(t,{ref:l,className:f,htmlFor:i,...o})});w9.displayName="FormLabel";const _9=j.forwardRef(({bsPrefix:t,className:e,id:n,...r},s)=>{const{controlId:i}=j.useContext(Vc);return t=Xt(t,"form-range"),a.jsx("input",{...r,type:"range",ref:s,className:Pt(e,t),id:n||i})});_9.displayName="FormRange";const j9=j.forwardRef(({bsPrefix:t,size:e,htmlSize:n,className:r,isValid:s=!1,isInvalid:i=!1,id:o,...l},u)=>{const{controlId:h}=j.useContext(Vc);return t=Xt(t,"form-select"),a.jsx("select",{...l,size:n,ref:u,className:Pt(r,t,e&&`${t}-${e}`,s&&"is-valid",i&&"is-invalid"),id:o||h})});j9.displayName="FormSelect";const E9=j.forwardRef(({bsPrefix:t,className:e,as:n="small",muted:r,...s},i)=>(t=Xt(t,"form-text"),a.jsx(n,{...s,ref:i,className:Pt(e,t,r&&"text-muted")})));E9.displayName="FormText";const S9=j.forwardRef((t,e)=>a.jsx(x1,{...t,ref:e,type:"switch"}));S9.displayName="Switch";const eZ=Object.assign(S9,{Input:x1.Input,Label:x1.Label}),C9=j.forwardRef(({bsPrefix:t,className:e,children:n,controlId:r,label:s,...i},o)=>(t=Xt(t,"form-floating"),a.jsxs(lA,{ref:o,className:Pt(e,t),controlId:r,...i,children:[n,a.jsx("label",{htmlFor:r,children:s})]})));C9.displayName="FloatingLabel";const tZ={_ref:pt.any,validated:pt.bool,as:pt.elementType},cA=j.forwardRef(({className:t,validated:e,as:n="form",...r},s)=>a.jsx(n,{...r,ref:s,className:Pt(t,e&&"was-validated")}));cA.displayName="Form";cA.propTypes=tZ;const x=Object.assign(cA,{Group:lA,Control:x9,Floating:b9,Check:x1,Switch:eZ,Label:w9,Text:E9,Range:_9,Select:j9,FloatingLabel:C9}),Ub=j.forwardRef(({className:t,bsPrefix:e,as:n="span",...r},s)=>(e=Xt(e,"input-group-text"),a.jsx(n,{ref:s,className:Pt(t,e),...r})));Ub.displayName="InputGroupText";const nZ=t=>a.jsx(Ub,{children:a.jsx(gv,{type:"checkbox",...t})}),rZ=t=>a.jsx(Ub,{children:a.jsx(gv,{type:"radio",...t})}),N9=j.forwardRef(({bsPrefix:t,size:e,hasValidation:n,className:r,as:s="div",...i},o)=>{t=Xt(t,"input-group");const l=j.useMemo(()=>({}),[]);return a.jsx(Fb.Provider,{value:l,children:a.jsx(s,{ref:o,...i,className:Pt(r,t,e&&`${t}-${e}`,n&&"has-validation")})})});N9.displayName="InputGroup";const FO=Object.assign(N9,{Text:Ub,Radio:rZ,Checkbox:nZ}),BO=t=>!t||typeof t=="function"?t:e=>{t.current=e};function sZ(t,e){const n=BO(t),r=BO(e);return s=>{n&&n(s),r&&r(s)}}function vv(t,e){return j.useMemo(()=>sZ(t,e),[t,e])}const T9=j.createContext(null),aZ=["as","active","eventKey"];function iZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function uA({key:t,onClick:e,active:n,id:r,role:s,disabled:i}){const o=j.useContext(gh),l=j.useContext(Db),u=j.useContext(T9);let h=n;const f={role:s};if(l){!s&&l.role==="tablist"&&(f.role="tab");const g=l.getControllerId(t??null),p=l.getControlledId(t??null);f[cp("event-key")]=t,f.id=g||r,h=n==null&&t!=null?l.activeKey===t:n,(h||!(u!=null&&u.unmountOnExit)&&!(u!=null&&u.mountOnEnter))&&(f["aria-controls"]=p)}return f.role==="tab"&&(f["aria-selected"]=h,h||(f.tabIndex=-1),i&&(f.tabIndex=-1,f["aria-disabled"]=!0)),f.onClick=va(g=>{i||(e==null||e(g),t!=null&&o&&!g.isPropagationStopped()&&o(t,g))}),[f,{isActive:h}]}const A9=j.forwardRef((t,e)=>{let{as:n=KT,active:r,eventKey:s}=t,i=iZ(t,aZ);const[o,l]=uA(Object.assign({key:$m(s,i.href),active:r},i));return o[cp("active")]=l.isActive,a.jsx(n,Object.assign({},i,o,{ref:e}))});A9.displayName="NavItem";const oZ=["as","onSelect","activeKey","role","onKeyDown"];function lZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const UO=()=>{},zO=cp("event-key"),L9=j.forwardRef((t,e)=>{let{as:n="div",onSelect:r,activeKey:s,role:i,onKeyDown:o}=t,l=lZ(t,oZ);const u=U7(),h=j.useRef(!1),f=j.useContext(gh),g=j.useContext(T9);let p,v;g&&(i=i||"tablist",s=g.activeKey,p=g.getControlledId,v=g.getControllerId);const w=j.useRef(null),E=I=>{const D=w.current;if(!D)return null;const T=Ac(D,`[${zO}]:not([aria-disabled=true])`),F=D.querySelector("[aria-selected=true]");if(!F||F!==document.activeElement)return null;const y=T.indexOf(F);if(y===-1)return null;let A=y+I;return A>=T.length&&(A=0),A<0&&(A=T.length-1),T[A]},S=(I,D)=>{I!=null&&(r==null||r(I,D),f==null||f(I,D))},C=I=>{if(o==null||o(I),!g)return;let D;switch(I.key){case"ArrowLeft":case"ArrowUp":D=E(-1);break;case"ArrowRight":case"ArrowDown":D=E(1);break;default:return}D&&(I.preventDefault(),S(D.dataset[KQ("EventKey")]||null,I),h.current=!0,u())};j.useEffect(()=>{if(w.current&&h.current){const I=w.current.querySelector(`[${zO}][aria-selected=true]`);I==null||I.focus()}h.current=!1});const O=vv(e,w);return a.jsx(gh.Provider,{value:S,children:a.jsx(Db.Provider,{value:{role:i,activeKey:$m(s),getControlledId:p||UO,getControllerId:v||UO},children:a.jsx(n,Object.assign({},l,{onKeyDown:C,ref:O,role:i}))})})});L9.displayName="Nav";const R9=Object.assign(L9,{Item:A9}),k9=j.forwardRef(({bsPrefix:t,active:e,disabled:n,eventKey:r,className:s,variant:i,action:o,as:l,...u},h)=>{t=Xt(t,"list-group-item");const[f,g]=uA({key:$m(r,u.href),active:e,...u}),p=Ph(w=>{if(n){w.preventDefault(),w.stopPropagation();return}f.onClick(w)});n&&u.tabIndex===void 0&&(u.tabIndex=-1,u["aria-disabled"]=!0);const v=l||(o?u.href?"a":"button":"div");return a.jsx(v,{ref:h,...u,...f,onClick:p,className:Pt(s,t,g.isActive&&"active",n&&"disabled",i&&`${t}-${i}`,o&&`${t}-action`)})});k9.displayName="ListGroupItem";const O9=j.forwardRef((t,e)=>{const{className:n,bsPrefix:r,variant:s,horizontal:i,numbered:o,as:l="div",...u}=kb(t,{activeKey:"onSelect"}),h=Xt(r,"list-group");let f;return i&&(f=i===!0?"horizontal":`horizontal-${i}`),a.jsx(R9,{ref:e,...u,as:l,className:Pt(n,h,s&&`${h}-${s}`,f&&`${h}-${f}`,o&&`${h}-numbered`)})});O9.displayName="ListGroup";const nj=Object.assign(O9,{Item:k9});function rj(t){t===void 0&&(t=dv());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function cZ(t){const e=j.useRef(t);return e.current=t,e}function uZ(t){const e=cZ(t);j.useEffect(()=>()=>e.current(),[])}function dZ(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const qO=cp("modal-open");class dA{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return dZ(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",s=this.getElement();e.style={overflow:s.style.overflow,[r]:s.style[r]},e.scrollBarWidth&&(n[r]=`${parseInt(Mc(s,r)||"0",10)+e.scrollBarWidth}px`),s.setAttribute(qO,""),Mc(s,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(qO),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const sj=(t,e)=>Ob?t==null?(e||dv()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function IC(t,e){const n=Mb(),[r,s]=j.useState(()=>sj(t,n==null?void 0:n.document));if(!r){const i=sj(t);i&&s(i)}return j.useEffect(()=>{},[e,r]),j.useEffect(()=>{const i=sj(t);i!==r&&s(i)},[t,r]),r}function hZ({children:t,in:e,onExited:n,mountOnEnter:r,unmountOnExit:s}){const i=j.useRef(null),o=j.useRef(e),l=va(n);j.useEffect(()=>{e?o.current=!0:l(i.current)},[e,l]);const u=vv(i,Ih(t)),h=j.cloneElement(t,{ref:u});return e?h:s||!o.current&&r?null:h}const fZ=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function mZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function pZ(t){let{onEnter:e,onEntering:n,onEntered:r,onExit:s,onExiting:i,onExited:o,addEndListener:l,children:u}=t,h=mZ(t,fZ);const f=j.useRef(null),g=vv(f,Ih(u)),p=D=>T=>{D&&f.current&&D(f.current,T)},v=j.useCallback(p(e),[e]),w=j.useCallback(p(n),[n]),E=j.useCallback(p(r),[r]),S=j.useCallback(p(s),[s]),C=j.useCallback(p(i),[i]),O=j.useCallback(p(o),[o]),I=j.useCallback(p(l),[l]);return Object.assign({},h,{nodeRef:f},e&&{onEnter:v},n&&{onEntering:w},r&&{onEntered:E},s&&{onExit:S},i&&{onExiting:C},o&&{onExited:O},l&&{addEndListener:I},{children:typeof u=="function"?(D,T)=>u(D,Object.assign({},T,{ref:g})):j.cloneElement(u,{ref:g})})}const gZ=["component"];function vZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const yZ=j.forwardRef((t,e)=>{let{component:n}=t,r=vZ(t,gZ);const s=pZ(r);return a.jsx(n,Object.assign({ref:e},s))});function xZ({in:t,onTransition:e}){const n=j.useRef(null),r=j.useRef(!0),s=va(e);return wO(()=>{if(!n.current)return;let i=!1;return s({in:t,element:n.current,initial:r.current,isStale:()=>i}),()=>{i=!0}},[t,s]),wO(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function bZ({children:t,in:e,onExited:n,onEntered:r,transition:s}){const[i,o]=j.useState(!e);e&&i&&o(!1);const l=xZ({in:!!e,onTransition:h=>{const f=()=>{h.isStale()||(h.in?r==null||r(h.element,h.initial):(o(!0),n==null||n(h.element)))};Promise.resolve(s(h)).then(f,g=>{throw h.in||o(!0),g})}}),u=vv(l,Ih(t));return i&&!e?null:j.cloneElement(t,{ref:u})}function PC(t,e,n){return t?a.jsx(yZ,Object.assign({},n,{component:t})):e?a.jsx(bZ,Object.assign({},n,{transition:e})):a.jsx(hZ,Object.assign({},n))}const wZ=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function _Z(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}let aj;function jZ(t){return aj||(aj=new dA({ownerDocument:t==null?void 0:t.document})),aj}function EZ(t){const e=Mb(),n=t||jZ(e),r=j.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:j.useCallback(s=>{r.current.dialog=s},[]),setBackdropRef:j.useCallback(s=>{r.current.backdrop=s},[])})}const I9=j.forwardRef((t,e)=>{let{show:n=!1,role:r="dialog",className:s,style:i,children:o,backdrop:l=!0,keyboard:u=!0,onBackdropClick:h,onEscapeKeyDown:f,transition:g,runTransition:p,backdropTransition:v,runBackdropTransition:w,autoFocus:E=!0,enforceFocus:S=!0,restoreFocus:C=!0,restoreFocusOptions:O,renderDialog:I,renderBackdrop:D=Ye=>a.jsx("div",Object.assign({},Ye)),manager:T,container:F,onShow:y,onHide:A=()=>{},onExit:_,onExited:L,onExiting:R,onEnter:U,onEntering:P,onEntered:K}=t,G=_Z(t,wZ);const re=Mb(),Z=IC(F),me=EZ(T),ie=D7(),W=M7(n),[ve,Q]=j.useState(!n),ne=j.useRef(null);j.useImperativeHandle(e,()=>me,[me]),Ob&&!W&&n&&(ne.current=rj(re==null?void 0:re.document)),n&&ve&&Q(!1);const te=va(()=>{if(me.add(),_e.current=Oc(document,"keydown",Ee),Ie.current=Oc(document,"focus",()=>setTimeout(be),!0),y&&y(),E){var Ye,Et;const Ze=rj((Ye=(Et=me.dialog)==null?void 0:Et.ownerDocument)!=null?Ye:re==null?void 0:re.document);me.dialog&&Ze&&!S0(me.dialog,Ze)&&(ne.current=Ze,me.dialog.focus())}}),X=va(()=>{if(me.remove(),_e.current==null||_e.current(),Ie.current==null||Ie.current(),C){var Ye;(Ye=ne.current)==null||Ye.focus==null||Ye.focus(O),ne.current=null}});j.useEffect(()=>{!n||!Z||te()},[n,Z,te]),j.useEffect(()=>{ve&&X()},[ve,X]),uZ(()=>{X()});const be=va(()=>{if(!S||!ie()||!me.isTopModal())return;const Ye=rj(re==null?void 0:re.document);me.dialog&&Ye&&!S0(me.dialog,Ye)&&me.dialog.focus()}),Ne=va(Ye=>{Ye.target===Ye.currentTarget&&(h==null||h(Ye),l===!0&&A())}),Ee=va(Ye=>{u&&k7(Ye)&&me.isTopModal()&&(f==null||f(Ye),Ye.defaultPrevented||A())}),Ie=j.useRef(),_e=j.useRef(),Ue=(...Ye)=>{Q(!0),L==null||L(...Ye)};if(!Z)return null;const tt=Object.assign({role:r,ref:me.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},G,{style:i,className:s,tabIndex:-1});let ct=I?I(tt):a.jsx("div",Object.assign({},tt,{children:j.cloneElement(o,{role:"document"})}));ct=PC(g,p,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:_,onExiting:R,onExited:Ue,onEnter:U,onEntering:P,onEntered:K,children:ct});let ut=null;return l&&(ut=D({ref:me.setBackdropRef,onClick:Ne}),ut=PC(v,w,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:ut})),a.jsx(a.Fragment,{children:sh.createPortal(a.jsxs(a.Fragment,{children:[ut,ct]}),Z)})});I9.displayName="Modal";const SZ=Object.assign(I9,{Manager:dA});function DC(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function CZ(t,e){t.classList?t.classList.add(e):DC(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function $O(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function NZ(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=$O(t.className,e):t.setAttribute("class",$O(t.className&&t.className.baseVal||"",e))}const Zf={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class P9 extends dA{adjustAndStore(e,n,r){const s=n.style[e];n.dataset[e]=s,Mc(n,{[e]:`${parseFloat(Mc(n,e))+r}px`})}restore(e,n){const r=n.dataset[e];r!==void 0&&(delete n.dataset[e],Mc(n,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(CZ(n,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";Ac(n,Zf.FIXED_CONTENT).forEach(i=>this.adjustAndStore(r,i,e.scrollBarWidth)),Ac(n,Zf.STICKY_CONTENT).forEach(i=>this.adjustAndStore(s,i,-e.scrollBarWidth)),Ac(n,Zf.NAVBAR_TOGGLER).forEach(i=>this.adjustAndStore(s,i,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();NZ(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";Ac(n,Zf.FIXED_CONTENT).forEach(i=>this.restore(r,i)),Ac(n,Zf.STICKY_CONTENT).forEach(i=>this.restore(s,i)),Ac(n,Zf.NAVBAR_TOGGLER).forEach(i=>this.restore(s,i))}}let ij;function TZ(t){return ij||(ij=new P9(t)),ij}const D9=j.createContext({onHide(){}}),AZ=j.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:r,children:s,...i},o)=>{const l=j.useContext(D9),u=Ph(()=>{l==null||l.onHide(),r==null||r()});return a.jsxs("div",{ref:o,...i,children:[s,n&&a.jsx(XT,{"aria-label":t,variant:e,onClick:u})]})}),M9=j.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},s)=>(e=Xt(e,"nav-item"),a.jsx(n,{ref:s,className:Pt(t,e),...r})));M9.displayName="NavItem";const hA=j.forwardRef(({bsPrefix:t,className:e,as:n=YT,active:r,eventKey:s,disabled:i=!1,...o},l)=>{t=Xt(t,"nav-link");const[u,h]=uA({key:$m(s,o.href),active:r,disabled:i,...o});return a.jsx(n,{...o,...u,ref:l,disabled:i,className:Pt(e,t,i&&"disabled",h.isActive&&"active")})});hA.displayName="NavLink";const F9=j.forwardRef((t,e)=>{const{as:n="div",bsPrefix:r,variant:s,fill:i=!1,justify:o=!1,navbar:l,navbarScroll:u,className:h,activeKey:f,...g}=kb(t,{activeKey:"onSelect"}),p=Xt(r,"nav");let v,w,E=!1;const S=j.useContext(Dh),C=j.useContext(F7);return S?(v=S.bsPrefix,E=l??!0):C&&({cardHeaderBsPrefix:w}=C),a.jsx(R9,{as:n,ref:e,activeKey:f,className:Pt(h,{[p]:!E,[`${v}-nav`]:E,[`${v}-nav-scroll`]:E&&u,[`${w}-${s}`]:!!w,[`${p}-${s}`]:!!s,[`${p}-fill`]:i,[`${p}-justified`]:o}),...g})});F9.displayName="Nav";const hn=Object.assign(F9,{Item:M9,Link:hA}),B9=j.forwardRef(({bsPrefix:t,className:e,as:n,...r},s)=>{t=Xt(t,"navbar-brand");const i=n||(r.href?"a":"span");return a.jsx(i,{...r,ref:s,className:Pt(e,t)})});B9.displayName="NavbarBrand";const U9=j.forwardRef(({children:t,bsPrefix:e,...n},r)=>{e=Xt(e,"navbar-collapse");const s=j.useContext(Dh);return a.jsx(P7,{in:!!(s&&s.expanded),...n,children:a.jsx("div",{ref:r,className:e,children:t})})});U9.displayName="NavbarCollapse";const z9=j.forwardRef(({bsPrefix:t,className:e,children:n,label:r="Toggle navigation",as:s="button",onClick:i,...o},l)=>{t=Xt(t,"navbar-toggler");const{onToggle:u,expanded:h}=j.useContext(Dh)||{},f=Ph(g=>{i&&i(g),u&&u()});return s==="button"&&(o.type="button"),a.jsx(s,{...o,ref:l,onClick:f,"aria-label":r,className:Pt(e,t,!h&&"collapsed"),children:n||a.jsx("span",{className:`${t}-icon`})})});z9.displayName="NavbarToggle";const MC=new WeakMap,VO=(t,e)=>{if(!t||!e)return;const n=MC.get(e)||new Map;MC.set(e,n);let r=n.get(t);return r||(r=e.matchMedia(t),r.refCount=0,n.set(r.media,r)),r};function LZ(t,e=typeof window>"u"?void 0:window){const n=VO(t,e),[r,s]=j.useState(()=>n?n.matches:!1);return oA(()=>{let i=VO(t,e);if(!i)return s(!1);let o=MC.get(e);const l=()=>{s(i.matches)};return i.refCount++,i.addListener(l),l(),()=>{i.removeListener(l),i.refCount--,i.refCount<=0&&(o==null||o.delete(i.media)),i=void 0}},[t]),r}function RZ(t){const e=Object.keys(t);function n(l,u){return l===u?u:l?`${l} and ${u}`:u}function r(l){return e[Math.min(e.indexOf(l)+1,e.length-1)]}function s(l){const u=r(l);let h=t[u];return typeof h=="number"?h=`${h-.2}px`:h=`calc(${h} - 0.2px)`,`(max-width: ${h})`}function i(l){let u=t[l];return typeof u=="number"&&(u=`${u}px`),`(min-width: ${u})`}function o(l,u,h){let f;typeof l=="object"?(f=l,h=u,u=!0):(u=u||!0,f={[l]:u});let g=j.useMemo(()=>Object.entries(f).reduce((p,[v,w])=>((w==="up"||w===!0)&&(p=n(p,i(v))),(w==="down"||w===!0)&&(p=n(p,s(v))),p),""),[JSON.stringify(f)]);return LZ(g,h)}return o}const kZ=RZ({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),q9=j.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},s)=>(e=Xt(e,"offcanvas-body"),a.jsx(n,{ref:s,className:Pt(t,e),...r})));q9.displayName="OffcanvasBody";const OZ={[Zo]:"show",[Rc]:"show"},$9=j.forwardRef(({bsPrefix:t,className:e,children:n,in:r=!1,mountOnEnter:s=!1,unmountOnExit:i=!1,appear:o=!1,...l},u)=>(t=Xt(t,"offcanvas"),a.jsx(GT,{ref:u,addEndListener:HT,in:r,mountOnEnter:s,unmountOnExit:i,appear:o,...l,childRef:Ih(n),children:(h,f)=>j.cloneElement(n,{...f,className:Pt(e,n.props.className,(h===Zo||h===_0)&&`${t}-toggling`,OZ[h])})})));$9.displayName="OffcanvasToggling";const V9=j.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:r=!1,...s},i)=>(t=Xt(t,"offcanvas-header"),a.jsx(AZ,{ref:i,...s,className:Pt(e,t),closeLabel:n,closeButton:r})));V9.displayName="OffcanvasHeader";const IZ=JX("h5"),H9=j.forwardRef(({className:t,bsPrefix:e,as:n=IZ,...r},s)=>(e=Xt(e,"offcanvas-title"),a.jsx(n,{ref:s,className:Pt(t,e),...r})));H9.displayName="OffcanvasTitle";function PZ(t){return a.jsx($9,{...t})}function DZ(t){return a.jsx(g1,{...t})}const G9=j.forwardRef(({bsPrefix:t,className:e,children:n,"aria-labelledby":r,placement:s="start",responsive:i,show:o=!1,backdrop:l=!0,keyboard:u=!0,scroll:h=!1,onEscapeKeyDown:f,onShow:g,onHide:p,container:v,autoFocus:w=!0,enforceFocus:E=!0,restoreFocus:S=!0,restoreFocusOptions:C,onEntered:O,onExit:I,onExiting:D,onEnter:T,onEntering:F,onExited:y,backdropClassName:A,manager:_,renderStaticNode:L=!1,...R},U)=>{const P=j.useRef();t=Xt(t,"offcanvas");const[K,G]=j.useState(!1),re=Ph(p),Z=kZ(i||"xs","up");j.useEffect(()=>{G(i?o&&!Z:o)},[o,i,Z]);const me=j.useMemo(()=>({onHide:re}),[re]);function ie(){return _||(h?(P.current||(P.current=new P9({handleContainerOverflow:!1})),P.current):TZ())}const W=(te,...X)=>{te&&(te.style.visibility="visible"),T==null||T(te,...X)},ve=(te,...X)=>{te&&(te.style.visibility=""),y==null||y(...X)},Q=j.useCallback(te=>a.jsx("div",{...te,className:Pt(`${t}-backdrop`,A)}),[A,t]),ne=te=>a.jsx("div",{...te,...R,className:Pt(e,i?`${t}-${i}`:t,`${t}-${s}`),"aria-labelledby":r,children:n});return a.jsxs(a.Fragment,{children:[!K&&(i||L)&&ne({}),a.jsx(D9.Provider,{value:me,children:a.jsx(SZ,{show:K,ref:U,backdrop:l,container:v,keyboard:u,autoFocus:w,enforceFocus:E&&!h,restoreFocus:S,restoreFocusOptions:C,onEscapeKeyDown:f,onShow:g,onHide:re,onEnter:W,onEntering:F,onEntered:O,onExit:I,onExiting:D,onExited:ve,manager:ie(),transition:PZ,backdropTransition:DZ,renderBackdrop:Q,renderDialog:ne})})]})});G9.displayName="Offcanvas";const Vu=Object.assign(G9,{Body:q9,Header:V9,Title:H9}),W9=j.forwardRef(({onHide:t,...e},n)=>{const r=j.useContext(Dh),s=Ph(()=>{r==null||r.onToggle==null||r.onToggle(),t==null||t()});return a.jsx(Vu,{ref:n,show:!!(r!=null&&r.expanded),...e,renderStaticNode:!0,onHide:s})});W9.displayName="NavbarOffcanvas";const K9=j.forwardRef(({className:t,bsPrefix:e,as:n="span",...r},s)=>(e=Xt(e,"navbar-text"),a.jsx(n,{ref:s,className:Pt(t,e),...r})));K9.displayName="NavbarText";const Y9=j.forwardRef((t,e)=>{const{bsPrefix:n,expand:r=!0,variant:s="light",bg:i,fixed:o,sticky:l,className:u,as:h="nav",expanded:f,onToggle:g,onSelect:p,collapseOnSelect:v=!1,...w}=kb(t,{expanded:"onToggle"}),E=Xt(n,"navbar"),S=j.useCallback((...I)=>{p==null||p(...I),v&&f&&(g==null||g(!1))},[p,v,f,g]);w.role===void 0&&h!=="nav"&&(w.role="navigation");let C=`${E}-expand`;typeof r=="string"&&(C=`${C}-${r}`);const O=j.useMemo(()=>({onToggle:()=>g==null?void 0:g(!f),bsPrefix:E,expanded:!!f,expand:r}),[E,f,r,g]);return a.jsx(Dh.Provider,{value:O,children:a.jsx(gh.Provider,{value:S,children:a.jsx(h,{ref:e,...w,className:Pt(u,E,r&&C,s&&`${E}-${s}`,i&&`bg-${i}`,l&&`sticky-${l}`,o&&`fixed-${o}`)})})})});Y9.displayName="Navbar";const ox=Object.assign(Y9,{Brand:B9,Collapse:U9,Offcanvas:W9,Text:K9,Toggle:z9}),X9=j.forwardRef(({id:t,title:e,children:n,bsPrefix:r,className:s,rootCloseEvent:i,menuRole:o,disabled:l,active:u,renderMenuOnMount:h,menuVariant:f,...g},p)=>{const v=Xt(void 0,"nav-item");return a.jsxs(ah,{ref:p,...g,className:Pt(s,v),children:[a.jsx(ah.Toggle,{id:t,eventKey:null,active:u,disabled:l,childBsPrefix:r,as:hA,children:e}),a.jsx(ah.Menu,{role:o,renderOnMount:h,rootCloseEvent:i,variant:f,children:n})]})});X9.displayName="NavDropdown";const wt=Object.assign(X9,{Item:ah.Item,ItemText:ah.ItemText,Divider:ah.Divider,Header:ah.Header}),MZ=()=>{};function FZ(t,e,{disabled:n,clickTrigger:r}={}){const s=e||MZ;J7(t,s,{disabled:n,clickTrigger:r});const i=va(o=>{k7(o)&&s(o)});j.useEffect(()=>{if(n||t==null)return;const o=dv(Kx(t));let l=(o.defaultView||window).event;const u=Oc(o,"keyup",h=>{if(h===l){l=void 0;return}i(h)});return()=>{u()}},[t,n,i])}const J9=j.forwardRef((t,e)=>{const{flip:n,offset:r,placement:s,containerPadding:i,popperConfig:o={},transition:l,runTransition:u}=t,[h,f]=LC(),[g,p]=LC(),v=vv(f,e),w=IC(t.container),E=IC(t.target),[S,C]=j.useState(!t.show),O=X7(E,h,Q7({placement:s,enableEvents:!!t.show,containerPadding:i||5,flip:n,offset:r,arrowElement:g,popperConfig:o}));t.show&&S&&C(!1);const I=(...R)=>{C(!0),t.onExited&&t.onExited(...R)},D=t.show||!S;if(FZ(h,t.onHide,{disabled:!t.rootClose||t.rootCloseDisabled,clickTrigger:t.rootCloseEvent}),!D)return null;const{onExit:T,onExiting:F,onEnter:y,onEntering:A,onEntered:_}=t;let L=t.children(Object.assign({},O.attributes.popper,{style:O.styles.popper,ref:v}),{popper:O,placement:s,show:!!t.show,arrowProps:Object.assign({},O.attributes.arrow,{style:O.styles.arrow,ref:p})});return L=PC(l,u,{in:!!t.show,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:L,onExit:T,onExiting:F,onExited:I,onEnter:y,onEntering:A,onEntered:_}),w?sh.createPortal(L,w):null});J9.displayName="Overlay";const Q9=j.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},s)=>(e=Xt(e,"popover-header"),a.jsx(n,{ref:s,className:Pt(t,e),...r})));Q9.displayName="PopoverHeader";const fA=j.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},s)=>(e=Xt(e,"popover-body"),a.jsx(n,{ref:s,className:Pt(t,e),...r})));fA.displayName="PopoverBody";function Z9(t,e){let n=t;return t==="left"?n=e?"end":"start":t==="right"&&(n=e?"start":"end"),n}function eB(t="absolute"){return{position:t,top:"0",left:"0",opacity:"0",pointerEvents:"none"}}const BZ=j.forwardRef(({bsPrefix:t,placement:e="right",className:n,style:r,children:s,body:i,arrowProps:o,hasDoneInitialMeasure:l,popper:u,show:h,...f},g)=>{const p=Xt(t,"popover"),v=VT(),[w]=(e==null?void 0:e.split("-"))||[],E=Z9(w,v);let S=r;return h&&!l&&(S={...r,...eB(u==null?void 0:u.strategy)}),a.jsxs("div",{ref:g,role:"tooltip",style:S,"x-placement":w,className:Pt(n,p,w&&`bs-popover-${E}`),...f,children:[a.jsx("div",{className:"popover-arrow",...o}),i?a.jsx(fA,{children:s}):s]})}),UZ=Object.assign(BZ,{Header:Q9,Body:fA,POPPER_OFFSET:[0,8]}),tB=j.forwardRef(({bsPrefix:t,placement:e="right",className:n,style:r,children:s,arrowProps:i,hasDoneInitialMeasure:o,popper:l,show:u,...h},f)=>{t=Xt(t,"tooltip");const g=VT(),[p]=(e==null?void 0:e.split("-"))||[],v=Z9(p,g);let w=r;return u&&!o&&(w={...r,...eB(l==null?void 0:l.strategy)}),a.jsxs("div",{ref:f,style:w,role:"tooltip","x-placement":p,className:Pt(n,t,`bs-tooltip-${v}`),...h,children:[a.jsx("div",{className:"tooltip-arrow",...i}),a.jsx("div",{className:`${t}-inner`,children:s})]})});tB.displayName="Tooltip";const Wt=Object.assign(tB,{TOOLTIP_OFFSET:[0,6]});function zZ(t){const e=j.useRef(null),n=Xt(void 0,"popover"),r=Xt(void 0,"tooltip"),s=j.useMemo(()=>({name:"offset",options:{offset:()=>{if(t)return t;if(e.current){if(DC(e.current,n))return UZ.POPPER_OFFSET;if(DC(e.current,r))return Wt.TOOLTIP_OFFSET}return[0,0]}}}),[t,n,r]);return[e,[s]]}function qZ(t,e){const{ref:n}=t,{ref:r}=e;t.ref=n.__wrapped||(n.__wrapped=s=>n(p1(s))),e.ref=r.__wrapped||(r.__wrapped=s=>r(p1(s)))}const nB=j.forwardRef(({children:t,transition:e=g1,popperConfig:n={},rootClose:r=!1,placement:s="top",show:i=!1,...o},l)=>{const u=j.useRef({}),[h,f]=j.useState(null),[g,p]=zZ(o.offset),v=hv(l,g),w=e===!0?g1:e||void 0,E=Ph(S=>{f(S),n==null||n.onFirstUpdate==null||n.onFirstUpdate(S)});return oA(()=>{h&&o.target&&(u.current.scheduleUpdate==null||u.current.scheduleUpdate())},[h,o.target]),j.useEffect(()=>{i||f(null)},[i]),a.jsx(J9,{...o,ref:v,popperConfig:{...n,modifiers:p.concat(n.modifiers||[]),onFirstUpdate:E},transition:w,rootClose:r,placement:s,show:i,children:(S,{arrowProps:C,popper:O,show:I})=>{var D;qZ(S,C);const T=O==null?void 0:O.placement,F=Object.assign(u.current,{state:O==null?void 0:O.state,scheduleUpdate:O==null?void 0:O.update,placement:T,outOfBoundaries:(O==null||(D=O.state)==null||(D=D.modifiersData.hide)==null?void 0:D.isReferenceHidden)||!1,strategy:n.strategy}),y=!!h;return typeof t=="function"?t({...S,placement:T,show:I,...!e&&I&&{className:"show"},popper:F,arrowProps:C,hasDoneInitialMeasure:y}):j.cloneElement(t,{...S,placement:T,arrowProps:C,popper:F,hasDoneInitialMeasure:y,className:Pt(t.props.className,!e&&I&&"show"),style:{...t.props.style,...S.style}})}})});nB.displayName="Overlay";function $Z(t){return t&&typeof t=="object"?t:{show:t,hide:t}}function HO(t,e,n){const[r]=e,s=r.currentTarget,i=r.relatedTarget||r.nativeEvent[n];(!i||i!==s)&&!S0(s,i)&&t(...e)}pt.oneOf(["click","hover","focus"]);const Jt=({trigger:t=["hover","focus"],overlay:e,children:n,popperConfig:r={},show:s,defaultShow:i=!1,onToggle:o,delay:l,placement:u,flip:h=u&&u.indexOf("auto")!==-1,...f})=>{const g=j.useRef(null),p=hv(g,Ih(n)),v=fJ(),w=j.useRef(""),[E,S]=T7(s,i,o),C=$Z(l),{onFocus:O,onBlur:I,onClick:D}=typeof n!="function"?j.Children.only(n).props:{},T=G=>{p(p1(G))},F=j.useCallback(()=>{if(v.clear(),w.current="show",!C.show){S(!0);return}v.set(()=>{w.current==="show"&&S(!0)},C.show)},[C.show,S,v]),y=j.useCallback(()=>{if(v.clear(),w.current="hide",!C.hide){S(!1);return}v.set(()=>{w.current==="hide"&&S(!1)},C.hide)},[C.hide,S,v]),A=j.useCallback((...G)=>{F(),O==null||O(...G)},[F,O]),_=j.useCallback((...G)=>{y(),I==null||I(...G)},[y,I]),L=j.useCallback((...G)=>{S(!E),D==null||D(...G)},[D,S,E]),R=j.useCallback((...G)=>{HO(F,G,"fromElement")},[F]),U=j.useCallback((...G)=>{HO(y,G,"toElement")},[y]),P=t==null?[]:[].concat(t),K={ref:T};return P.indexOf("click")!==-1&&(K.onClick=L),P.indexOf("focus")!==-1&&(K.onFocus=A,K.onBlur=_),P.indexOf("hover")!==-1&&(K.onMouseOver=R,K.onMouseOut=U),a.jsxs(a.Fragment,{children:[typeof n=="function"?n(K):j.cloneElement(n,K),a.jsx(nB,{...f,show:E,onHide:y,flip:h,placement:u,popperConfig:r,target:g.current,children:e})]})},V=j.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},s)=>{const i=Xt(t,"row"),o=A7(),l=L7(),u=`${i}-cols`,h=[];return o.forEach(f=>{const g=r[f];delete r[f];let p;g!=null&&typeof g=="object"?{cols:p}=g:p=g;const v=f!==l?`-${f}`:"";p!=null&&h.push(`${u}${v}-${p}`)}),a.jsx(n,{ref:s,...r,className:Pt(e,i,...h)})});V.displayName="Row";const Cr=j.forwardRef(({bsPrefix:t,variant:e,animation:n="border",size:r,as:s="div",className:i,...o},l)=>{t=Xt(t,"spinner");const u=`${t}-${n}`;return a.jsx(s,{ref:l,...o,className:Pt(i,u,r&&`${u}-${r}`,e&&`text-${e}`)})});Cr.displayName="Spinner";const Rr=j.forwardRef(({bsPrefix:t,className:e,striped:n,bordered:r,borderless:s,hover:i,size:o,variant:l,responsive:u,...h},f)=>{const g=Xt(t,"table"),p=Pt(e,g,l&&`${g}-${l}`,o&&`${g}-${o}`,n&&`${g}-${typeof n=="string"?`striped-${n}`:"striped"}`,r&&`${g}-bordered`,s&&`${g}-borderless`,i&&`${g}-hover`),v=a.jsx("table",{...h,className:p,ref:f});if(u){let w=`${g}-responsive`;return typeof u=="string"&&(w=`${w}-${u}`),a.jsx("div",{className:w,children:v})}return v});var jg={},GO;function VZ(){if(GO)return jg;GO=1,Object.defineProperty(jg,"__esModule",{value:!0}),jg.parse=o,jg.serialize=h;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,i=(()=>{const p=function(){};return p.prototype=Object.create(null),p})();function o(p,v){const w=new i,E=p.length;if(E<2)return w;const S=(v==null?void 0:v.decode)||f;let C=0;do{const O=p.indexOf("=",C);if(O===-1)break;const I=p.indexOf(";",C),D=I===-1?E:I;if(O>D){C=p.lastIndexOf(";",O-1)+1;continue}const T=l(p,C,O),F=u(p,O,T),y=p.slice(T,F);if(w[y]===void 0){let A=l(p,O+1,D),_=u(p,D,A);const L=S(p.slice(A,_));w[y]=L}C=D+1}while(C<E);return w}function l(p,v,w){do{const E=p.charCodeAt(v);if(E!==32&&E!==9)return v}while(++v<w);return w}function u(p,v,w){for(;v>w;){const E=p.charCodeAt(--v);if(E!==32&&E!==9)return v+1}return w}function h(p,v,w){const E=(w==null?void 0:w.encode)||encodeURIComponent;if(!t.test(p))throw new TypeError(`argument name is invalid: ${p}`);const S=E(v);if(!e.test(S))throw new TypeError(`argument val is invalid: ${v}`);let C=p+"="+S;if(!w)return C;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);C+="; Max-Age="+w.maxAge}if(w.domain){if(!n.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);C+="; Domain="+w.domain}if(w.path){if(!r.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);C+="; Path="+w.path}if(w.expires){if(!g(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);C+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(C+="; HttpOnly"),w.secure&&(C+="; Secure"),w.partitioned&&(C+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":C+="; Priority=Low";break;case"medium":C+="; Priority=Medium";break;case"high":C+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":C+="; SameSite=Strict";break;case"lax":C+="; SameSite=Lax";break;case"none":C+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return C}function f(p){if(p.indexOf("%")===-1)return p;try{return decodeURIComponent(p)}catch{return p}}function g(p){return s.call(p)==="[object Date]"}return jg}VZ();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var WO="popstate";function HZ(t={}){function e(r,s){let{pathname:i,search:o,hash:l}=r.location;return FC("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:C0(s)}return WZ(e,n,null,t)}function Qr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Wl(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function GZ(){return Math.random().toString(36).substring(2,10)}function KO(t,e){return{usr:t.state,key:t.key,idx:e}}function FC(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?up(e):e,state:n,key:e&&e.key||r||GZ()}}function C0({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function up(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function WZ(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l="POP",u=null,h=f();h==null&&(h=0,o.replaceState({...o.state,idx:h},""));function f(){return(o.state||{idx:null}).idx}function g(){l="POP";let S=f(),C=S==null?null:S-h;h=S,u&&u({action:l,location:E.location,delta:C})}function p(S,C){l="PUSH";let O=FC(E.location,S,C);h=f()+1;let I=KO(O,h),D=E.createHref(O);try{o.pushState(I,"",D)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;s.location.assign(D)}i&&u&&u({action:l,location:E.location,delta:1})}function v(S,C){l="REPLACE";let O=FC(E.location,S,C);h=f();let I=KO(O,h),D=E.createHref(O);o.replaceState(I,"",D),i&&u&&u({action:l,location:E.location,delta:0})}function w(S){let C=s.location.origin!=="null"?s.location.origin:s.location.href,O=typeof S=="string"?S:C0(S);return O=O.replace(/ $/,"%20"),Qr(C,`No window.location.(origin|href) available to create URL for href: ${O}`),new URL(O,C)}let E={get action(){return l},get location(){return t(s,o)},listen(S){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(WO,g),u=S,()=>{s.removeEventListener(WO,g),u=null}},createHref(S){return e(s,S)},createURL:w,encodeLocation(S){let C=w(S);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:p,replace:v,go(S){return o.go(S)}};return E}function rB(t,e,n="/"){return KZ(t,e,n,!1)}function KZ(t,e,n,r){let s=typeof e=="string"?up(e):e,i=ld(s.pathname||"/",n);if(i==null)return null;let o=sB(t);YZ(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let h=iee(i);l=see(o[u],h,r)}return l}function sB(t,e=[],n=[],r=""){let s=(i,o,l)=>{let u={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(Qr(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length));let h=Fc([r,u.relativePath]),f=n.concat(u);i.children&&i.children.length>0&&(Qr(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),sB(i.children,e,f,h)),!(i.path==null&&!i.index)&&e.push({path:h,score:nee(h,i.index),routesMeta:f})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let u of aB(i.path))s(i,o,u)}),e}function aB(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=aB(r.join("/")),l=[];return l.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&l.push(...o),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function YZ(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ree(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var XZ=/^:[\w-]+$/,JZ=3,QZ=2,ZZ=1,eee=10,tee=-2,YO=t=>t==="*";function nee(t,e){let n=t.split("/"),r=n.length;return n.some(YO)&&(r+=tee),e&&(r+=QZ),n.filter(s=>!YO(s)).reduce((s,i)=>s+(XZ.test(i)?JZ:i===""?ZZ:eee),r)}function ree(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function see(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],h=l===r.length-1,f=i==="/"?e:e.slice(i.length)||"/",g=b1({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},f),p=u.route;if(!g&&h&&n&&!r[r.length-1].route.index&&(g=b1({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!g)return null;Object.assign(s,g.params),o.push({params:s,pathname:Fc([i,g.pathname]),pathnameBase:uee(Fc([i,g.pathnameBase])),route:p}),g.pathnameBase!=="/"&&(i=Fc([i,g.pathnameBase]))}return o}function b1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=aee(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((h,{paramName:f,isOptional:g},p)=>{if(f==="*"){let w=l[p]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const v=l[p];return g&&!v?h[f]=void 0:h[f]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:o,pattern:t}}function aee(t,e=!1,n=!0){Wl(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function iee(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wl(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ld(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function oee(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?up(t):t;return{pathname:n?n.startsWith("/")?n:lee(n,e):e,search:dee(r),hash:hee(s)}}function lee(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function oj(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function cee(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function iB(t){let e=cee(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function oB(t,e,n,r=!1){let s;typeof t=="string"?s=up(t):(s={...t},Qr(!s.pathname||!s.pathname.includes("?"),oj("?","pathname","search",s)),Qr(!s.pathname||!s.pathname.includes("#"),oj("#","pathname","hash",s)),Qr(!s.search||!s.search.includes("#"),oj("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let g=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),g-=1;s.pathname=p.join("/")}l=g>=0?e[g]:"/"}let u=oee(s,l),h=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||f)&&(u.pathname+="/"),u}var Fc=t=>t.join("/").replace(/\/\/+/g,"/"),uee=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),dee=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,hee=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function fee(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var lB=["POST","PUT","PATCH","DELETE"];new Set(lB);var mee=["GET",...lB];new Set(mee);var dp=j.createContext(null);dp.displayName="DataRouter";var zb=j.createContext(null);zb.displayName="DataRouterState";var cB=j.createContext({isTransitioning:!1});cB.displayName="ViewTransition";var pee=j.createContext(new Map);pee.displayName="Fetchers";var gee=j.createContext(null);gee.displayName="Await";var sc=j.createContext(null);sc.displayName="Navigation";var yv=j.createContext(null);yv.displayName="Location";var ru=j.createContext({outlet:null,matches:[],isDataRoute:!1});ru.displayName="Route";var mA=j.createContext(null);mA.displayName="RouteError";function vee(t,{relative:e}={}){Qr(xv(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=j.useContext(sc),{hash:s,pathname:i,search:o}=bv(t,{relative:e}),l=i;return n!=="/"&&(l=i==="/"?n:Fc([n,i])),r.createHref({pathname:l,search:o,hash:s})}function xv(){return j.useContext(yv)!=null}function Mh(){return Qr(xv(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(yv).location}var uB="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function dB(t){j.useContext(sc).static||j.useLayoutEffect(t)}function yee(){let{isDataRoute:t}=j.useContext(ru);return t?Ree():xee()}function xee(){Qr(xv(),"useNavigate() may be used only in the context of a <Router> component.");let t=j.useContext(dp),{basename:e,navigator:n}=j.useContext(sc),{matches:r}=j.useContext(ru),{pathname:s}=Mh(),i=JSON.stringify(iB(r)),o=j.useRef(!1);return dB(()=>{o.current=!0}),j.useCallback((u,h={})=>{if(Wl(o.current,uB),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=oB(u,JSON.parse(i),s,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Fc([e,f.pathname])),(h.replace?n.replace:n.push)(f,h.state,h)},[e,n,i,s,t])}j.createContext(null);function bv(t,{relative:e}={}){let{matches:n}=j.useContext(ru),{pathname:r}=Mh(),s=JSON.stringify(iB(n));return j.useMemo(()=>oB(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function bee(t,e){return hB(t,e)}function hB(t,e,n,r){var O;Qr(xv(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:i}=j.useContext(sc),{matches:o}=j.useContext(ru),l=o[o.length-1],u=l?l.params:{},h=l?l.pathname:"/",f=l?l.pathnameBase:"/",g=l&&l.route;{let I=g&&g.path||"";fB(h,!g||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let p=Mh(),v;if(e){let I=typeof e=="string"?up(e):e;Qr(f==="/"||((O=I.pathname)==null?void 0:O.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${I.pathname}" was given in the \`location\` prop.`),v=I}else v=p;let w=v.pathname||"/",E=w;if(f!=="/"){let I=f.replace(/^\//,"").split("/");E="/"+w.replace(/^\//,"").split("/").slice(I.length).join("/")}let S=!i&&n&&n.matches&&n.matches.length>0?n.matches:rB(t,{pathname:E});Wl(g||S!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Wl(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=See(S&&S.map(I=>Object.assign({},I,{params:Object.assign({},u,I.params),pathname:Fc([f,s.encodeLocation?s.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?f:Fc([f,s.encodeLocation?s.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),o,n,r);return e&&C?j.createElement(yv.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},C):C}function wee(){let t=Lee(),e=fee(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:i},"ErrorBoundary")," or"," ",j.createElement("code",{style:i},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:s},n):null,o)}var _ee=j.createElement(wee,null),jee=class extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?j.createElement(ru.Provider,{value:this.props.routeContext},j.createElement(mA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Eee({routeContext:t,match:e,children:n}){let r=j.useContext(dp);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(ru.Provider,{value:t},n)}function See(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,i=n==null?void 0:n.errors;if(i!=null){let u=s.findIndex(h=>h.route.id&&(i==null?void 0:i[h.route.id])!==void 0);Qr(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,u+1))}let o=!1,l=-1;if(n)for(let u=0;u<s.length;u++){let h=s[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(l=u),h.route.id){let{loaderData:f,errors:g}=n,p=h.route.loader&&!f.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||p){o=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((u,h,f)=>{let g,p=!1,v=null,w=null;n&&(g=i&&h.route.id?i[h.route.id]:void 0,v=h.route.errorElement||_ee,o&&(l<0&&f===0?(fB("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,w=null):l===f&&(p=!0,w=h.route.hydrateFallbackElement||null)));let E=e.concat(s.slice(0,f+1)),S=()=>{let C;return g?C=v:p?C=w:h.route.Component?C=j.createElement(h.route.Component,null):h.route.element?C=h.route.element:C=u,j.createElement(Eee,{match:h,routeContext:{outlet:u,matches:E,isDataRoute:n!=null},children:C})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?j.createElement(jee,{location:n.location,revalidation:n.revalidation,component:v,error:g,children:S(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):S()},null)}function pA(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Cee(t){let e=j.useContext(dp);return Qr(e,pA(t)),e}function Nee(t){let e=j.useContext(zb);return Qr(e,pA(t)),e}function Tee(t){let e=j.useContext(ru);return Qr(e,pA(t)),e}function gA(t){let e=Tee(t),n=e.matches[e.matches.length-1];return Qr(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Aee(){return gA("useRouteId")}function Lee(){var r;let t=j.useContext(mA),e=Nee("useRouteError"),n=gA("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function Ree(){let{router:t}=Cee("useNavigate"),e=gA("useNavigate"),n=j.useRef(!1);return dB(()=>{n.current=!0}),j.useCallback(async(s,i={})=>{Wl(n.current,uB),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var XO={};function fB(t,e,n){!e&&!XO[t]&&(XO[t]=!0,Wl(!1,n))}j.memo(kee);function kee({routes:t,future:e,state:n}){return hB(t,void 0,n,e)}function sm(t){Qr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Oee({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){Qr(!xv(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),l=j.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof n=="string"&&(n=up(n));let{pathname:u="/",search:h="",hash:f="",state:g=null,key:p="default"}=n,v=j.useMemo(()=>{let w=ld(u,o);return w==null?null:{location:{pathname:w,search:h,hash:f,state:g,key:p},navigationType:r}},[o,u,h,f,g,p,r]);return Wl(v!=null,`<Router basename="${o}"> is not able to match the URL "${u}${h}${f}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:j.createElement(sc.Provider,{value:l},j.createElement(yv.Provider,{children:e,value:v}))}function Iee({children:t,location:e}){return bee(BC(t),e)}function BC(t,e=[]){let n=[];return j.Children.forEach(t,(r,s)=>{if(!j.isValidElement(r))return;let i=[...e,s];if(r.type===j.Fragment){n.push.apply(n,BC(r.props.children,i));return}Qr(r.type===sm,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Qr(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=BC(r.props.children,i)),n.push(o)}),n}var Xx="get",Jx="application/x-www-form-urlencoded";function qb(t){return t!=null&&typeof t.tagName=="string"}function Pee(t){return qb(t)&&t.tagName.toLowerCase()==="button"}function Dee(t){return qb(t)&&t.tagName.toLowerCase()==="form"}function Mee(t){return qb(t)&&t.tagName.toLowerCase()==="input"}function Fee(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Bee(t,e){return t.button===0&&(!e||e==="_self")&&!Fee(t)}var lx=null;function Uee(){if(lx===null)try{new FormData(document.createElement("form"),0),lx=!1}catch{lx=!0}return lx}var zee=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lj(t){return t!=null&&!zee.has(t)?(Wl(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Jx}"`),null):t}function qee(t,e){let n,r,s,i,o;if(Dee(t)){let l=t.getAttribute("action");r=l?ld(l,e):null,n=t.getAttribute("method")||Xx,s=lj(t.getAttribute("enctype"))||Jx,i=new FormData(t)}else if(Pee(t)||Mee(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||l.getAttribute("action");if(r=u?ld(u,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||Xx,s=lj(t.getAttribute("formenctype"))||lj(l.getAttribute("enctype"))||Jx,i=new FormData(l,t),!Uee()){let{name:h,type:f,value:g}=t;if(f==="image"){let p=h?`${h}.`:"";i.append(`${p}x`,"0"),i.append(`${p}y`,"0")}else h&&i.append(h,g)}}else{if(qb(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Xx,r=null,s=Jx,o=t}return i&&s==="text/plain"&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:o}}function vA(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function $ee(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Vee(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Hee(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let o=await $ee(i,n);return o.links?o.links():[]}return[]}));return Yee(r.flat(1).filter(Vee).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function JO(t,e,n,r,s,i){let o=(u,h)=>n[h]?u.route.id!==n[h].route.id:!0,l=(u,h)=>{var f;return n[h].pathname!==u.pathname||((f=n[h].route.path)==null?void 0:f.endsWith("*"))&&n[h].params["*"]!==u.params["*"]};return i==="assets"?e.filter((u,h)=>o(u,h)||l(u,h)):i==="data"?e.filter((u,h)=>{var g;let f=r.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(o(u,h)||l(u,h))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function Gee(t,e,{includeHydrateFallback:n}={}){return Wee(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function Wee(t){return[...new Set(t)]}function Kee(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Yee(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(Kee(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function Xee(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function Jee(){let t=j.useContext(dp);return vA(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Qee(){let t=j.useContext(zb);return vA(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var yA=j.createContext(void 0);yA.displayName="FrameworkContext";function mB(){let t=j.useContext(yA);return vA(t,"You must render this element inside a <HydratedRouter> element"),t}function Zee(t,e){let n=j.useContext(yA),[r,s]=j.useState(!1),[i,o]=j.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:h,onMouseLeave:f,onTouchStart:g}=e,p=j.useRef(null);j.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let E=C=>{C.forEach(O=>{o(O.isIntersecting)})},S=new IntersectionObserver(E,{threshold:.5});return p.current&&S.observe(p.current),()=>{S.disconnect()}}},[t]),j.useEffect(()=>{if(r){let E=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(E)}}},[r]);let v=()=>{s(!0)},w=()=>{s(!1),o(!1)};return n?t!=="intent"?[i,p,{}]:[i,p,{onFocus:Eg(l,v),onBlur:Eg(u,w),onMouseEnter:Eg(h,v),onMouseLeave:Eg(f,w),onTouchStart:Eg(g,v)}]:[!1,p,{}]}function Eg(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function ete({page:t,...e}){let{router:n}=Jee(),r=j.useMemo(()=>rB(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?j.createElement(nte,{page:t,matches:r,...e}):null}function tte(t){let{manifest:e,routeModules:n}=mB(),[r,s]=j.useState([]);return j.useEffect(()=>{let i=!1;return Hee(t,e,n).then(o=>{i||s(o)}),()=>{i=!0}},[t,e,n]),r}function nte({page:t,matches:e,...n}){let r=Mh(),{manifest:s,routeModules:i}=mB(),{loaderData:o,matches:l}=Qee(),u=j.useMemo(()=>JO(t,e,l,s,r,"data"),[t,e,l,s,r]),h=j.useMemo(()=>JO(t,e,l,s,r,"assets"),[t,e,l,s,r]),f=j.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let v=new Set,w=!1;if(e.forEach(S=>{var O;let C=s.routes[S.route.id];!C||!C.hasLoader||(!u.some(I=>I.route.id===S.route.id)&&S.route.id in o&&((O=i[S.route.id])!=null&&O.shouldRevalidate)||C.hasClientLoader?w=!0:v.add(S.route.id))}),v.size===0)return[];let E=Xee(t);return w&&v.size>0&&E.searchParams.set("_routes",e.filter(S=>v.has(S.route.id)).map(S=>S.route.id).join(",")),[E.pathname+E.search]},[o,r,s,u,e,t,i]),g=j.useMemo(()=>Gee(h,s),[h,s]),p=tte(h);return j.createElement(j.Fragment,null,f.map(v=>j.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),g.map(v=>j.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),p.map(({key:v,link:w})=>j.createElement("link",{key:v,...w})))}function rte(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var pB=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{pB&&(window.__reactRouterVersion="7.2.0")}catch{}function ste({basename:t,children:e,window:n}){let r=j.useRef();r.current==null&&(r.current=HZ({window:n,v5Compat:!0}));let s=r.current,[i,o]=j.useState({action:s.action,location:s.location}),l=j.useCallback(u=>{j.startTransition(()=>o(u))},[o]);return j.useLayoutEffect(()=>s.listen(l),[s,l]),j.createElement(Oee,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:s})}var gB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,N0=j.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:o,state:l,target:u,to:h,preventScrollReset:f,viewTransition:g,...p},v){let{basename:w}=j.useContext(sc),E=typeof h=="string"&&gB.test(h),S,C=!1;if(typeof h=="string"&&E&&(S=h,pB))try{let _=new URL(window.location.href),L=h.startsWith("//")?new URL(_.protocol+h):new URL(h),R=ld(L.pathname,w);L.origin===_.origin&&R!=null?h=R+L.search+L.hash:C=!0}catch{Wl(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=vee(h,{relative:s}),[I,D,T]=Zee(r,p),F=ote(h,{replace:o,state:l,target:u,preventScrollReset:f,relative:s,viewTransition:g});function y(_){e&&e(_),_.defaultPrevented||F(_)}let A=j.createElement("a",{...p,...T,href:S||O,onClick:C||i?e:y,ref:rte(v,D),target:u,"data-discover":!E&&n==="render"?"true":void 0});return I&&!E?j.createElement(j.Fragment,null,A,j.createElement(ete,{page:O})):A});N0.displayName="Link";var Lt=j.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:o,viewTransition:l,children:u,...h},f){let g=bv(o,{relative:h.relative}),p=Mh(),v=j.useContext(zb),{navigator:w,basename:E}=j.useContext(sc),S=v!=null&&hte(g)&&l===!0,C=w.encodeLocation?w.encodeLocation(g).pathname:g.pathname,O=p.pathname,I=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(O=O.toLowerCase(),I=I?I.toLowerCase():null,C=C.toLowerCase()),I&&E&&(I=ld(I,E)||I);const D=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let T=O===C||!s&&O.startsWith(C)&&O.charAt(D)==="/",F=I!=null&&(I===C||!s&&I.startsWith(C)&&I.charAt(C.length)==="/"),y={isActive:T,isPending:F,isTransitioning:S},A=T?e:void 0,_;typeof r=="function"?_=r(y):_=[r,T?"active":null,F?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let L=typeof i=="function"?i(y):i;return j.createElement(N0,{...h,"aria-current":A,className:_,ref:f,style:L,to:o,viewTransition:l},typeof u=="function"?u(y):u)});Lt.displayName="NavLink";var ate=j.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:o=Xx,action:l,onSubmit:u,relative:h,preventScrollReset:f,viewTransition:g,...p},v)=>{let w=ute(),E=dte(l,{relative:h}),S=o.toLowerCase()==="get"?"get":"post",C=typeof l=="string"&&gB.test(l),O=I=>{if(u&&u(I),I.defaultPrevented)return;I.preventDefault();let D=I.nativeEvent.submitter,T=(D==null?void 0:D.getAttribute("formmethod"))||o;w(D||I.currentTarget,{fetcherKey:e,method:T,navigate:n,replace:s,state:i,relative:h,preventScrollReset:f,viewTransition:g})};return j.createElement("form",{ref:v,method:S,action:E,onSubmit:r?u:O,...p,"data-discover":!C&&t==="render"?"true":void 0})});ate.displayName="Form";function ite(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vB(t){let e=j.useContext(dp);return Qr(e,ite(t)),e}function ote(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:o}={}){let l=yee(),u=Mh(),h=bv(t,{relative:i});return j.useCallback(f=>{if(Bee(f,e)){f.preventDefault();let g=n!==void 0?n:C0(u)===C0(h);l(t,{replace:g,state:r,preventScrollReset:s,relative:i,viewTransition:o})}},[u,l,h,n,r,e,t,s,i,o])}var lte=0,cte=()=>`__${String(++lte)}__`;function ute(){let{router:t}=vB("useSubmit"),{basename:e}=j.useContext(sc),n=Aee();return j.useCallback(async(r,s={})=>{let{action:i,method:o,encType:l,formData:u,body:h}=qee(r,e);if(s.navigate===!1){let f=s.fetcherKey||cte();await t.fetch(f,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:u,body:h,formMethod:s.method||o,formEncType:s.encType||l,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:u,body:h,formMethod:s.method||o,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function dte(t,{relative:e}={}){let{basename:n}=j.useContext(sc),r=j.useContext(ru);Qr(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...bv(t||".",{relative:e})},o=Mh();if(t==null){i.search=o.search;let l=new URLSearchParams(i.search),u=l.getAll("index");if(u.some(f=>f==="")){l.delete("index"),u.filter(g=>g).forEach(g=>l.append("index",g));let f=l.toString();i.search=f?`?${f}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Fc([n,i.pathname])),C0(i)}function hte(t,e={}){let n=j.useContext(cB);Qr(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=vB("useViewTransitionState"),s=bv(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=ld(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=ld(n.nextLocation.pathname,r)||n.nextLocation.pathname;return b1(s.pathname,o)!=null||b1(s.pathname,i)!=null}new TextEncoder;function fte(){return a.jsxs(a.Fragment,{children:[a.jsx("h1",{children:"Page Not Found"}),a.jsx("p",{className:"d-inline",children:"Go back to the "}),a.jsx(N0,{style:{textDecoration:"none"},to:"/",exact:"true",children:"homepage."})]})}var QO={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yB=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},mte=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},xB={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,u=s+2<t.length,h=u?t[s+2]:0,f=i>>2,g=(i&3)<<4|l>>4;let p=(l&15)<<2|h>>6,v=h&63;u||(v=64,o||(p=64)),r.push(n[f],n[g],n[p],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yB(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):mte(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const h=s<t.length?n[t.charAt(s)]:64;++s;const g=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||h==null||g==null)throw new pte;const p=i<<2|l>>4;if(r.push(p),h!==64){const v=l<<4&240|h>>2;if(r.push(v),g!==64){const w=h<<6&192|g;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class pte extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gte=function(t){const e=yB(t);return xB.encodeByteArray(e,!0)},w1=function(t){return gte(t).replace(/\./g,"")},bB=function(t){try{return xB.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vte(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yte=()=>vte().__FIREBASE_DEFAULTS__,xte=()=>{if(typeof process>"u"||typeof QO>"u")return;const t=QO.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},bte=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&bB(t[1]);return e&&JSON.parse(e)},$b=()=>{try{return yte()||xte()||bte()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},wB=t=>{var e,n;return(n=(e=$b())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},_B=t=>{const e=wB(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},jB=()=>{var t;return(t=$b())===null||t===void 0?void 0:t.config},EB=t=>{var e;return(e=$b())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wte{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SB(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[w1(JSON.stringify(n)),w1(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ua(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _te(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ua())}function jte(){var t;const e=(t=$b())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ete(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function CB(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Ste(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Cte(){const t=Ua();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Nte(){return!jte()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function NB(){try{return typeof indexedDB=="object"}catch{return!1}}function TB(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function Tte(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ate="FirebaseError";class Po extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Ate,Object.setPrototypeOf(this,Po.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fh.prototype.create)}}class Fh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?Lte(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new Po(s,l,r)}}function Lte(t,e){return t.replace(Rte,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Rte=/\{\$([^}]+)}/g;function kte(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function T0(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(ZO(i)&&ZO(o)){if(!T0(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function ZO(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ote(t,e){const n=new Ite(t,e);return n.subscribe.bind(n)}class Ite{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Pte(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=cj),s.error===void 0&&(s.error=cj),s.complete===void 0&&(s.complete=cj);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Pte(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function cj(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dte=1e3,Mte=2,Fte=4*60*60*1e3,Bte=.5;function eI(t,e=Dte,n=Mte){const r=e*Math.pow(n,t),s=Math.round(Bte*r*(Math.random()-.5)*2);return Math.min(Fte,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(t){return t&&t._delegate?t._delegate:t}class ko{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ute{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new wte;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qte(e))try{this.getOrInitializeService({instanceIdentifier:eh})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=eh){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=eh){return this.instances.has(e)}getOptions(e=eh){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:zte(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=eh){return this.component?this.component.multipleInstances?e:eh:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zte(t){return t===eh?void 0:t}function qte(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $te{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Ute(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Rn||(Rn={}));const Vte={debug:Rn.DEBUG,verbose:Rn.VERBOSE,info:Rn.INFO,warn:Rn.WARN,error:Rn.ERROR,silent:Rn.SILENT},Hte=Rn.INFO,Gte={[Rn.DEBUG]:"log",[Rn.VERBOSE]:"log",[Rn.INFO]:"info",[Rn.WARN]:"warn",[Rn.ERROR]:"error"},Wte=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=Gte[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vb{constructor(e){this.name=e,this._logLevel=Hte,this._logHandler=Wte,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Rn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Vte[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Rn.DEBUG,...e),this._logHandler(this,Rn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Rn.VERBOSE,...e),this._logHandler(this,Rn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Rn.INFO,...e),this._logHandler(this,Rn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Rn.WARN,...e),this._logHandler(this,Rn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Rn.ERROR,...e),this._logHandler(this,Rn.ERROR,...e)}}const Kte=(t,e)=>e.some(n=>t instanceof n);let tI,nI;function Yte(){return tI||(tI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Xte(){return nI||(nI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AB=new WeakMap,UC=new WeakMap,LB=new WeakMap,uj=new WeakMap,xA=new WeakMap;function Jte(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Zu(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&AB.set(n,t)}).catch(()=>{}),xA.set(e,t),e}function Qte(t){if(UC.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});UC.set(t,e)}let zC={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return UC.get(t);if(e==="objectStoreNames")return t.objectStoreNames||LB.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zu(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Zte(t){zC=t(zC)}function ene(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(dj(this),e,...n);return LB.set(r,e.sort?e.sort():[e]),Zu(r)}:Xte().includes(t)?function(...e){return t.apply(dj(this),e),Zu(AB.get(this))}:function(...e){return Zu(t.apply(dj(this),e))}}function tne(t){return typeof t=="function"?ene(t):(t instanceof IDBTransaction&&Qte(t),Kte(t,Yte())?new Proxy(t,zC):t)}function Zu(t){if(t instanceof IDBRequest)return Jte(t);if(uj.has(t))return uj.get(t);const e=tne(t);return e!==t&&(uj.set(t,e),xA.set(e,t)),e}const dj=t=>xA.get(t);function RB(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=Zu(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Zu(o.result),u.oldVersion,u.newVersion,Zu(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const nne=["get","getKey","getAll","getAllKeys","count"],rne=["put","add","delete","clear"],hj=new Map;function rI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(hj.get(e))return hj.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=rne.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||nne.includes(n)))return;const i=async function(o,...l){const u=this.transaction(o,s?"readwrite":"readonly");let h=u.store;return r&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),s&&u.done]))[0]};return hj.set(e,i),i}Zte(t=>({...t,get:(e,n,r)=>rI(e,n)||t.get(e,n,r),has:(e,n)=>!!rI(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sne{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ane(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ane(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const qC="@firebase/app",sI="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc=new Vb("@firebase/app"),ine="@firebase/app-compat",one="@firebase/analytics-compat",lne="@firebase/analytics",cne="@firebase/app-check-compat",une="@firebase/app-check",dne="@firebase/auth",hne="@firebase/auth-compat",fne="@firebase/database",mne="@firebase/data-connect",pne="@firebase/database-compat",gne="@firebase/functions",vne="@firebase/functions-compat",yne="@firebase/installations",xne="@firebase/installations-compat",bne="@firebase/messaging",wne="@firebase/messaging-compat",_ne="@firebase/performance",jne="@firebase/performance-compat",Ene="@firebase/remote-config",Sne="@firebase/remote-config-compat",Cne="@firebase/storage",Nne="@firebase/storage-compat",Tne="@firebase/firestore",Ane="@firebase/vertexai",Lne="@firebase/firestore-compat",Rne="firebase",kne="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C="[DEFAULT]",One={[qC]:"fire-core",[ine]:"fire-core-compat",[lne]:"fire-analytics",[one]:"fire-analytics-compat",[une]:"fire-app-check",[cne]:"fire-app-check-compat",[dne]:"fire-auth",[hne]:"fire-auth-compat",[fne]:"fire-rtdb",[mne]:"fire-data-connect",[pne]:"fire-rtdb-compat",[gne]:"fire-fn",[vne]:"fire-fn-compat",[yne]:"fire-iid",[xne]:"fire-iid-compat",[bne]:"fire-fcm",[wne]:"fire-fcm-compat",[_ne]:"fire-perf",[jne]:"fire-perf-compat",[Ene]:"fire-rc",[Sne]:"fire-rc-compat",[Cne]:"fire-gcs",[Nne]:"fire-gcs-compat",[Tne]:"fire-fst",[Lne]:"fire-fst-compat",[Ane]:"fire-vertex","fire-js":"fire-js",[Rne]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1=new Map,Ine=new Map,VC=new Map;function aI(t,e){try{t.container.addComponent(e)}catch(n){Hc.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ll(t){const e=t.name;if(VC.has(e))return Hc.debug(`There were multiple attempts to register component ${e}.`),!1;VC.set(e,t);for(const n of _1.values())aI(n,t);for(const n of Ine.values())aI(n,t);return!0}function _d(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function tl(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pne={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ed=new Fh("app","Firebase",Pne);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dne{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ko("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ed.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh=kne;function kB(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:$C,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw ed.create("bad-app-name",{appName:String(s)});if(n||(n=jB()),!n)throw ed.create("no-options");const i=_1.get(s);if(i){if(T0(n,i.options)&&T0(r,i.config))return i;throw ed.create("duplicate-app",{appName:s})}const o=new $te(s);for(const u of VC.values())o.addComponent(u);const l=new Dne(n,r,o);return _1.set(s,l),l}function Hb(t=$C){const e=_1.get(t);if(!e&&t===$C&&jB())return kB();if(!e)throw ed.create("no-app",{appName:t});return e}function xi(t,e,n){var r;let s=(r=One[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hc.warn(l.join(" "));return}ll(new ko(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mne="firebase-heartbeat-database",Fne=1,A0="firebase-heartbeat-store";let fj=null;function OB(){return fj||(fj=RB(Mne,Fne,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(A0)}catch(n){console.warn(n)}}}}).catch(t=>{throw ed.create("idb-open",{originalErrorMessage:t.message})})),fj}async function Bne(t){try{const n=(await OB()).transaction(A0),r=await n.objectStore(A0).get(IB(t));return await n.done,r}catch(e){if(e instanceof Po)Hc.warn(e.message);else{const n=ed.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Hc.warn(n.message)}}}async function iI(t,e){try{const r=(await OB()).transaction(A0,"readwrite");await r.objectStore(A0).put(e,IB(t)),await r.done}catch(n){if(n instanceof Po)Hc.warn(n.message);else{const r=ed.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Hc.warn(r.message)}}}function IB(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Une=1024,zne=30;class qne{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Vne(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=oI();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>zne){const o=Hne(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Hc.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=oI(),{heartbeatsToSend:r,unsentEntries:s}=$ne(this._heartbeatsCache.heartbeats),i=w1(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Hc.warn(n),""}}}function oI(){return new Date().toISOString().substring(0,10)}function $ne(t,e=Une){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),lI(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),lI(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Vne{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NB()?TB().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Bne(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return iI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return iI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function lI(t){return w1(JSON.stringify({version:2,heartbeats:t})).length}function Hne(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gne(t){ll(new ko("platform-logger",e=>new sne(e),"PRIVATE")),ll(new ko("heartbeat",e=>new qne(e),"PRIVATE")),xi(qC,sI,t),xi(qC,sI,"esm2017"),xi("fire-js","")}Gne("");var cI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var td,PB;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(y,A){function _(){}_.prototype=A.prototype,y.D=A.prototype,y.prototype=new _,y.prototype.constructor=y,y.C=function(L,R,U){for(var P=Array(arguments.length-2),K=2;K<arguments.length;K++)P[K-2]=arguments[K];return A.prototype[R].apply(L,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(y,A,_){_||(_=0);var L=Array(16);if(typeof A=="string")for(var R=0;16>R;++R)L[R]=A.charCodeAt(_++)|A.charCodeAt(_++)<<8|A.charCodeAt(_++)<<16|A.charCodeAt(_++)<<24;else for(R=0;16>R;++R)L[R]=A[_++]|A[_++]<<8|A[_++]<<16|A[_++]<<24;A=y.g[0],_=y.g[1],R=y.g[2];var U=y.g[3],P=A+(U^_&(R^U))+L[0]+3614090360&4294967295;A=_+(P<<7&4294967295|P>>>25),P=U+(R^A&(_^R))+L[1]+3905402710&4294967295,U=A+(P<<12&4294967295|P>>>20),P=R+(_^U&(A^_))+L[2]+606105819&4294967295,R=U+(P<<17&4294967295|P>>>15),P=_+(A^R&(U^A))+L[3]+3250441966&4294967295,_=R+(P<<22&4294967295|P>>>10),P=A+(U^_&(R^U))+L[4]+4118548399&4294967295,A=_+(P<<7&4294967295|P>>>25),P=U+(R^A&(_^R))+L[5]+1200080426&4294967295,U=A+(P<<12&4294967295|P>>>20),P=R+(_^U&(A^_))+L[6]+2821735955&4294967295,R=U+(P<<17&4294967295|P>>>15),P=_+(A^R&(U^A))+L[7]+4249261313&4294967295,_=R+(P<<22&4294967295|P>>>10),P=A+(U^_&(R^U))+L[8]+1770035416&4294967295,A=_+(P<<7&4294967295|P>>>25),P=U+(R^A&(_^R))+L[9]+2336552879&4294967295,U=A+(P<<12&4294967295|P>>>20),P=R+(_^U&(A^_))+L[10]+4294925233&4294967295,R=U+(P<<17&4294967295|P>>>15),P=_+(A^R&(U^A))+L[11]+2304563134&4294967295,_=R+(P<<22&4294967295|P>>>10),P=A+(U^_&(R^U))+L[12]+1804603682&4294967295,A=_+(P<<7&4294967295|P>>>25),P=U+(R^A&(_^R))+L[13]+4254626195&4294967295,U=A+(P<<12&4294967295|P>>>20),P=R+(_^U&(A^_))+L[14]+2792965006&4294967295,R=U+(P<<17&4294967295|P>>>15),P=_+(A^R&(U^A))+L[15]+1236535329&4294967295,_=R+(P<<22&4294967295|P>>>10),P=A+(R^U&(_^R))+L[1]+4129170786&4294967295,A=_+(P<<5&4294967295|P>>>27),P=U+(_^R&(A^_))+L[6]+3225465664&4294967295,U=A+(P<<9&4294967295|P>>>23),P=R+(A^_&(U^A))+L[11]+643717713&4294967295,R=U+(P<<14&4294967295|P>>>18),P=_+(U^A&(R^U))+L[0]+3921069994&4294967295,_=R+(P<<20&4294967295|P>>>12),P=A+(R^U&(_^R))+L[5]+3593408605&4294967295,A=_+(P<<5&4294967295|P>>>27),P=U+(_^R&(A^_))+L[10]+38016083&4294967295,U=A+(P<<9&4294967295|P>>>23),P=R+(A^_&(U^A))+L[15]+3634488961&4294967295,R=U+(P<<14&4294967295|P>>>18),P=_+(U^A&(R^U))+L[4]+3889429448&4294967295,_=R+(P<<20&4294967295|P>>>12),P=A+(R^U&(_^R))+L[9]+568446438&4294967295,A=_+(P<<5&4294967295|P>>>27),P=U+(_^R&(A^_))+L[14]+3275163606&4294967295,U=A+(P<<9&4294967295|P>>>23),P=R+(A^_&(U^A))+L[3]+4107603335&4294967295,R=U+(P<<14&4294967295|P>>>18),P=_+(U^A&(R^U))+L[8]+1163531501&4294967295,_=R+(P<<20&4294967295|P>>>12),P=A+(R^U&(_^R))+L[13]+2850285829&4294967295,A=_+(P<<5&4294967295|P>>>27),P=U+(_^R&(A^_))+L[2]+4243563512&4294967295,U=A+(P<<9&4294967295|P>>>23),P=R+(A^_&(U^A))+L[7]+1735328473&4294967295,R=U+(P<<14&4294967295|P>>>18),P=_+(U^A&(R^U))+L[12]+2368359562&4294967295,_=R+(P<<20&4294967295|P>>>12),P=A+(_^R^U)+L[5]+4294588738&4294967295,A=_+(P<<4&4294967295|P>>>28),P=U+(A^_^R)+L[8]+2272392833&4294967295,U=A+(P<<11&4294967295|P>>>21),P=R+(U^A^_)+L[11]+1839030562&4294967295,R=U+(P<<16&4294967295|P>>>16),P=_+(R^U^A)+L[14]+4259657740&4294967295,_=R+(P<<23&4294967295|P>>>9),P=A+(_^R^U)+L[1]+2763975236&4294967295,A=_+(P<<4&4294967295|P>>>28),P=U+(A^_^R)+L[4]+1272893353&4294967295,U=A+(P<<11&4294967295|P>>>21),P=R+(U^A^_)+L[7]+4139469664&4294967295,R=U+(P<<16&4294967295|P>>>16),P=_+(R^U^A)+L[10]+3200236656&4294967295,_=R+(P<<23&4294967295|P>>>9),P=A+(_^R^U)+L[13]+681279174&4294967295,A=_+(P<<4&4294967295|P>>>28),P=U+(A^_^R)+L[0]+3936430074&4294967295,U=A+(P<<11&4294967295|P>>>21),P=R+(U^A^_)+L[3]+3572445317&4294967295,R=U+(P<<16&4294967295|P>>>16),P=_+(R^U^A)+L[6]+76029189&4294967295,_=R+(P<<23&4294967295|P>>>9),P=A+(_^R^U)+L[9]+3654602809&4294967295,A=_+(P<<4&4294967295|P>>>28),P=U+(A^_^R)+L[12]+3873151461&4294967295,U=A+(P<<11&4294967295|P>>>21),P=R+(U^A^_)+L[15]+530742520&4294967295,R=U+(P<<16&4294967295|P>>>16),P=_+(R^U^A)+L[2]+3299628645&4294967295,_=R+(P<<23&4294967295|P>>>9),P=A+(R^(_|~U))+L[0]+4096336452&4294967295,A=_+(P<<6&4294967295|P>>>26),P=U+(_^(A|~R))+L[7]+1126891415&4294967295,U=A+(P<<10&4294967295|P>>>22),P=R+(A^(U|~_))+L[14]+2878612391&4294967295,R=U+(P<<15&4294967295|P>>>17),P=_+(U^(R|~A))+L[5]+4237533241&4294967295,_=R+(P<<21&4294967295|P>>>11),P=A+(R^(_|~U))+L[12]+1700485571&4294967295,A=_+(P<<6&4294967295|P>>>26),P=U+(_^(A|~R))+L[3]+2399980690&4294967295,U=A+(P<<10&4294967295|P>>>22),P=R+(A^(U|~_))+L[10]+4293915773&4294967295,R=U+(P<<15&4294967295|P>>>17),P=_+(U^(R|~A))+L[1]+2240044497&4294967295,_=R+(P<<21&4294967295|P>>>11),P=A+(R^(_|~U))+L[8]+1873313359&4294967295,A=_+(P<<6&4294967295|P>>>26),P=U+(_^(A|~R))+L[15]+4264355552&4294967295,U=A+(P<<10&4294967295|P>>>22),P=R+(A^(U|~_))+L[6]+2734768916&4294967295,R=U+(P<<15&4294967295|P>>>17),P=_+(U^(R|~A))+L[13]+1309151649&4294967295,_=R+(P<<21&4294967295|P>>>11),P=A+(R^(_|~U))+L[4]+4149444226&4294967295,A=_+(P<<6&4294967295|P>>>26),P=U+(_^(A|~R))+L[11]+3174756917&4294967295,U=A+(P<<10&4294967295|P>>>22),P=R+(A^(U|~_))+L[2]+718787259&4294967295,R=U+(P<<15&4294967295|P>>>17),P=_+(U^(R|~A))+L[9]+3951481745&4294967295,y.g[0]=y.g[0]+A&4294967295,y.g[1]=y.g[1]+(R+(P<<21&4294967295|P>>>11))&4294967295,y.g[2]=y.g[2]+R&4294967295,y.g[3]=y.g[3]+U&4294967295}r.prototype.u=function(y,A){A===void 0&&(A=y.length);for(var _=A-this.blockSize,L=this.B,R=this.h,U=0;U<A;){if(R==0)for(;U<=_;)s(this,y,U),U+=this.blockSize;if(typeof y=="string"){for(;U<A;)if(L[R++]=y.charCodeAt(U++),R==this.blockSize){s(this,L),R=0;break}}else for(;U<A;)if(L[R++]=y[U++],R==this.blockSize){s(this,L),R=0;break}}this.h=R,this.o+=A},r.prototype.v=function(){var y=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);y[0]=128;for(var A=1;A<y.length-8;++A)y[A]=0;var _=8*this.o;for(A=y.length-8;A<y.length;++A)y[A]=_&255,_/=256;for(this.u(y),y=Array(16),A=_=0;4>A;++A)for(var L=0;32>L;L+=8)y[_++]=this.g[A]>>>L&255;return y};function i(y,A){var _=l;return Object.prototype.hasOwnProperty.call(_,y)?_[y]:_[y]=A(y)}function o(y,A){this.h=A;for(var _=[],L=!0,R=y.length-1;0<=R;R--){var U=y[R]|0;L&&U==A||(_[R]=U,L=!1)}this.g=_}var l={};function u(y){return-128<=y&&128>y?i(y,function(A){return new o([A|0],0>A?-1:0)}):new o([y|0],0>y?-1:0)}function h(y){if(isNaN(y)||!isFinite(y))return g;if(0>y)return S(h(-y));for(var A=[],_=1,L=0;y>=_;L++)A[L]=y/_|0,_*=4294967296;return new o(A,0)}function f(y,A){if(y.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(y.charAt(0)=="-")return S(f(y.substring(1),A));if(0<=y.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=h(Math.pow(A,8)),L=g,R=0;R<y.length;R+=8){var U=Math.min(8,y.length-R),P=parseInt(y.substring(R,R+U),A);8>U?(U=h(Math.pow(A,U)),L=L.j(U).add(h(P))):(L=L.j(_),L=L.add(h(P)))}return L}var g=u(0),p=u(1),v=u(16777216);t=o.prototype,t.m=function(){if(E(this))return-S(this).m();for(var y=0,A=1,_=0;_<this.g.length;_++){var L=this.i(_);y+=(0<=L?L:4294967296+L)*A,A*=4294967296}return y},t.toString=function(y){if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(w(this))return"0";if(E(this))return"-"+S(this).toString(y);for(var A=h(Math.pow(y,6)),_=this,L="";;){var R=D(_,A).g;_=C(_,R.j(A));var U=((0<_.g.length?_.g[0]:_.h)>>>0).toString(y);if(_=R,w(_))return U+L;for(;6>U.length;)U="0"+U;L=U+L}},t.i=function(y){return 0>y?0:y<this.g.length?this.g[y]:this.h};function w(y){if(y.h!=0)return!1;for(var A=0;A<y.g.length;A++)if(y.g[A]!=0)return!1;return!0}function E(y){return y.h==-1}t.l=function(y){return y=C(this,y),E(y)?-1:w(y)?0:1};function S(y){for(var A=y.g.length,_=[],L=0;L<A;L++)_[L]=~y.g[L];return new o(_,~y.h).add(p)}t.abs=function(){return E(this)?S(this):this},t.add=function(y){for(var A=Math.max(this.g.length,y.g.length),_=[],L=0,R=0;R<=A;R++){var U=L+(this.i(R)&65535)+(y.i(R)&65535),P=(U>>>16)+(this.i(R)>>>16)+(y.i(R)>>>16);L=P>>>16,U&=65535,P&=65535,_[R]=P<<16|U}return new o(_,_[_.length-1]&-2147483648?-1:0)};function C(y,A){return y.add(S(A))}t.j=function(y){if(w(this)||w(y))return g;if(E(this))return E(y)?S(this).j(S(y)):S(S(this).j(y));if(E(y))return S(this.j(S(y)));if(0>this.l(v)&&0>y.l(v))return h(this.m()*y.m());for(var A=this.g.length+y.g.length,_=[],L=0;L<2*A;L++)_[L]=0;for(L=0;L<this.g.length;L++)for(var R=0;R<y.g.length;R++){var U=this.i(L)>>>16,P=this.i(L)&65535,K=y.i(R)>>>16,G=y.i(R)&65535;_[2*L+2*R]+=P*G,O(_,2*L+2*R),_[2*L+2*R+1]+=U*G,O(_,2*L+2*R+1),_[2*L+2*R+1]+=P*K,O(_,2*L+2*R+1),_[2*L+2*R+2]+=U*K,O(_,2*L+2*R+2)}for(L=0;L<A;L++)_[L]=_[2*L+1]<<16|_[2*L];for(L=A;L<2*A;L++)_[L]=0;return new o(_,0)};function O(y,A){for(;(y[A]&65535)!=y[A];)y[A+1]+=y[A]>>>16,y[A]&=65535,A++}function I(y,A){this.g=y,this.h=A}function D(y,A){if(w(A))throw Error("division by zero");if(w(y))return new I(g,g);if(E(y))return A=D(S(y),A),new I(S(A.g),S(A.h));if(E(A))return A=D(y,S(A)),new I(S(A.g),A.h);if(30<y.g.length){if(E(y)||E(A))throw Error("slowDivide_ only works with positive integers.");for(var _=p,L=A;0>=L.l(y);)_=T(_),L=T(L);var R=F(_,1),U=F(L,1);for(L=F(L,2),_=F(_,2);!w(L);){var P=U.add(L);0>=P.l(y)&&(R=R.add(_),U=P),L=F(L,1),_=F(_,1)}return A=C(y,R.j(A)),new I(R,A)}for(R=g;0<=y.l(A);){for(_=Math.max(1,Math.floor(y.m()/A.m())),L=Math.ceil(Math.log(_)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),U=h(_),P=U.j(A);E(P)||0<P.l(y);)_-=L,U=h(_),P=U.j(A);w(U)&&(U=p),R=R.add(U),y=C(y,P)}return new I(R,y)}t.A=function(y){return D(this,y).h},t.and=function(y){for(var A=Math.max(this.g.length,y.g.length),_=[],L=0;L<A;L++)_[L]=this.i(L)&y.i(L);return new o(_,this.h&y.h)},t.or=function(y){for(var A=Math.max(this.g.length,y.g.length),_=[],L=0;L<A;L++)_[L]=this.i(L)|y.i(L);return new o(_,this.h|y.h)},t.xor=function(y){for(var A=Math.max(this.g.length,y.g.length),_=[],L=0;L<A;L++)_[L]=this.i(L)^y.i(L);return new o(_,this.h^y.h)};function T(y){for(var A=y.g.length+1,_=[],L=0;L<A;L++)_[L]=y.i(L)<<1|y.i(L-1)>>>31;return new o(_,y.h)}function F(y,A){var _=A>>5;A%=32;for(var L=y.g.length-_,R=[],U=0;U<L;U++)R[U]=0<A?y.i(U+_)>>>A|y.i(U+_+1)<<32-A:y.i(U+_);return new o(R,y.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,PB=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=f,td=o}).apply(typeof cI<"u"?cI:typeof self<"u"?self:typeof window<"u"?window:{});var cx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var DB,Dg,MB,Qx,HC,FB,BB,UB;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(N,q,Y){return N==Array.prototype||N==Object.prototype||(N[q]=Y.value),N};function n(N){N=[typeof globalThis=="object"&&globalThis,N,typeof window=="object"&&window,typeof self=="object"&&self,typeof cx=="object"&&cx];for(var q=0;q<N.length;++q){var Y=N[q];if(Y&&Y.Math==Math)return Y}throw Error("Cannot find global object")}var r=n(this);function s(N,q){if(q)e:{var Y=r;N=N.split(".");for(var ce=0;ce<N.length-1;ce++){var Ae=N[ce];if(!(Ae in Y))break e;Y=Y[Ae]}N=N[N.length-1],ce=Y[N],q=q(ce),q!=ce&&q!=null&&e(Y,N,{configurable:!0,writable:!0,value:q})}}function i(N,q){N instanceof String&&(N+="");var Y=0,ce=!1,Ae={next:function(){if(!ce&&Y<N.length){var De=Y++;return{value:q(De,N[De]),done:!1}}return ce=!0,{done:!0,value:void 0}}};return Ae[Symbol.iterator]=function(){return Ae},Ae}s("Array.prototype.values",function(N){return N||function(){return i(this,function(q,Y){return Y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(N){var q=typeof N;return q=q!="object"?q:N?Array.isArray(N)?"array":q:"null",q=="array"||q=="object"&&typeof N.length=="number"}function h(N){var q=typeof N;return q=="object"&&N!=null||q=="function"}function f(N,q,Y){return N.call.apply(N.bind,arguments)}function g(N,q,Y){if(!N)throw Error();if(2<arguments.length){var ce=Array.prototype.slice.call(arguments,2);return function(){var Ae=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ae,ce),N.apply(q,Ae)}}return function(){return N.apply(q,arguments)}}function p(N,q,Y){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:g,p.apply(null,arguments)}function v(N,q){var Y=Array.prototype.slice.call(arguments,1);return function(){var ce=Y.slice();return ce.push.apply(ce,arguments),N.apply(this,ce)}}function w(N,q){function Y(){}Y.prototype=q.prototype,N.aa=q.prototype,N.prototype=new Y,N.prototype.constructor=N,N.Qb=function(ce,Ae,De){for(var ht=Array(arguments.length-2),Mn=2;Mn<arguments.length;Mn++)ht[Mn-2]=arguments[Mn];return q.prototype[Ae].apply(ce,ht)}}function E(N){const q=N.length;if(0<q){const Y=Array(q);for(let ce=0;ce<q;ce++)Y[ce]=N[ce];return Y}return[]}function S(N,q){for(let Y=1;Y<arguments.length;Y++){const ce=arguments[Y];if(u(ce)){const Ae=N.length||0,De=ce.length||0;N.length=Ae+De;for(let ht=0;ht<De;ht++)N[Ae+ht]=ce[ht]}else N.push(ce)}}class C{constructor(q,Y){this.i=q,this.j=Y,this.h=0,this.g=null}get(){let q;return 0<this.h?(this.h--,q=this.g,this.g=q.next,q.next=null):q=this.i(),q}}function O(N){return/^[\s\xa0]*$/.test(N)}function I(){var N=l.navigator;return N&&(N=N.userAgent)?N:""}function D(N){return D[" "](N),N}D[" "]=function(){};var T=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function F(N,q,Y){for(const ce in N)q.call(Y,N[ce],ce,N)}function y(N,q){for(const Y in N)q.call(void 0,N[Y],Y,N)}function A(N){const q={};for(const Y in N)q[Y]=N[Y];return q}const _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(N,q){let Y,ce;for(let Ae=1;Ae<arguments.length;Ae++){ce=arguments[Ae];for(Y in ce)N[Y]=ce[Y];for(let De=0;De<_.length;De++)Y=_[De],Object.prototype.hasOwnProperty.call(ce,Y)&&(N[Y]=ce[Y])}}function R(N){var q=1;N=N.split(":");const Y=[];for(;0<q&&N.length;)Y.push(N.shift()),q--;return N.length&&Y.push(N.join(":")),Y}function U(N){l.setTimeout(()=>{throw N},0)}function P(){var N=ie;let q=null;return N.g&&(q=N.g,N.g=N.g.next,N.g||(N.h=null),q.next=null),q}class K{constructor(){this.h=this.g=null}add(q,Y){const ce=G.get();ce.set(q,Y),this.h?this.h.next=ce:this.g=ce,this.h=ce}}var G=new C(()=>new re,N=>N.reset());class re{constructor(){this.next=this.g=this.h=null}set(q,Y){this.h=q,this.g=Y,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,me=!1,ie=new K,W=()=>{const N=l.Promise.resolve(void 0);Z=()=>{N.then(ve)}};var ve=()=>{for(var N;N=P();){try{N.h.call(N.g)}catch(Y){U(Y)}var q=G;q.j(N),100>q.h&&(q.h++,N.next=q.g,q.g=N)}me=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ne(N,q){this.type=N,this.g=this.target=q,this.defaultPrevented=!1}ne.prototype.h=function(){this.defaultPrevented=!0};var te=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var N=!1,q=Object.defineProperty({},"passive",{get:function(){N=!0}});try{const Y=()=>{};l.addEventListener("test",Y,q),l.removeEventListener("test",Y,q)}catch{}return N}();function X(N,q){if(ne.call(this,N?N.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,N){var Y=this.type=N.type,ce=N.changedTouches&&N.changedTouches.length?N.changedTouches[0]:null;if(this.target=N.target||N.srcElement,this.g=q,q=N.relatedTarget){if(T){e:{try{D(q.nodeName);var Ae=!0;break e}catch{}Ae=!1}Ae||(q=null)}}else Y=="mouseover"?q=N.fromElement:Y=="mouseout"&&(q=N.toElement);this.relatedTarget=q,ce?(this.clientX=ce.clientX!==void 0?ce.clientX:ce.pageX,this.clientY=ce.clientY!==void 0?ce.clientY:ce.pageY,this.screenX=ce.screenX||0,this.screenY=ce.screenY||0):(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0),this.button=N.button,this.key=N.key||"",this.ctrlKey=N.ctrlKey,this.altKey=N.altKey,this.shiftKey=N.shiftKey,this.metaKey=N.metaKey,this.pointerId=N.pointerId||0,this.pointerType=typeof N.pointerType=="string"?N.pointerType:be[N.pointerType]||"",this.state=N.state,this.i=N,N.defaultPrevented&&X.aa.h.call(this)}}w(X,ne);var be={2:"touch",3:"pen",4:"mouse"};X.prototype.h=function(){X.aa.h.call(this);var N=this.i;N.preventDefault?N.preventDefault():N.returnValue=!1};var Ne="closure_listenable_"+(1e6*Math.random()|0),Ee=0;function Ie(N,q,Y,ce,Ae){this.listener=N,this.proxy=null,this.src=q,this.type=Y,this.capture=!!ce,this.ha=Ae,this.key=++Ee,this.da=this.fa=!1}function _e(N){N.da=!0,N.listener=null,N.proxy=null,N.src=null,N.ha=null}function Ue(N){this.src=N,this.g={},this.h=0}Ue.prototype.add=function(N,q,Y,ce,Ae){var De=N.toString();N=this.g[De],N||(N=this.g[De]=[],this.h++);var ht=ct(N,q,ce,Ae);return-1<ht?(q=N[ht],Y||(q.fa=!1)):(q=new Ie(q,this.src,De,!!ce,Ae),q.fa=Y,N.push(q)),q};function tt(N,q){var Y=q.type;if(Y in N.g){var ce=N.g[Y],Ae=Array.prototype.indexOf.call(ce,q,void 0),De;(De=0<=Ae)&&Array.prototype.splice.call(ce,Ae,1),De&&(_e(q),N.g[Y].length==0&&(delete N.g[Y],N.h--))}}function ct(N,q,Y,ce){for(var Ae=0;Ae<N.length;++Ae){var De=N[Ae];if(!De.da&&De.listener==q&&De.capture==!!Y&&De.ha==ce)return Ae}return-1}var ut="closure_lm_"+(1e6*Math.random()|0),Ye={};function Et(N,q,Y,ce,Ae){if(Array.isArray(q)){for(var De=0;De<q.length;De++)Et(N,q[De],Y,ce,Ae);return null}return Y=xt(Y),N&&N[Ne]?N.K(q,Y,h(ce)?!!ce.capture:!1,Ae):Ze(N,q,Y,!1,ce,Ae)}function Ze(N,q,Y,ce,Ae,De){if(!q)throw Error("Invalid event type");var ht=h(Ae)?!!Ae.capture:!!Ae,Mn=sr(N);if(Mn||(N[ut]=Mn=new Ue(N)),Y=Mn.add(q,Y,ce,ht,De),Y.proxy)return Y;if(ce=zt(),Y.proxy=ce,ce.src=N,ce.listener=Y,N.addEventListener)te||(Ae=ht),Ae===void 0&&(Ae=!1),N.addEventListener(q.toString(),ce,Ae);else if(N.attachEvent)N.attachEvent(vn(q.toString()),ce);else if(N.addListener&&N.removeListener)N.addListener(ce);else throw Error("addEventListener and attachEvent are unavailable.");return Y}function zt(){function N(Y){return q.call(N.src,N.listener,Y)}const q=dr;return N}function Cn(N,q,Y,ce,Ae){if(Array.isArray(q))for(var De=0;De<q.length;De++)Cn(N,q[De],Y,ce,Ae);else ce=h(ce)?!!ce.capture:!!ce,Y=xt(Y),N&&N[Ne]?(N=N.i,q=String(q).toString(),q in N.g&&(De=N.g[q],Y=ct(De,Y,ce,Ae),-1<Y&&(_e(De[Y]),Array.prototype.splice.call(De,Y,1),De.length==0&&(delete N.g[q],N.h--)))):N&&(N=sr(N))&&(q=N.g[q.toString()],N=-1,q&&(N=ct(q,Y,ce,Ae)),(Y=-1<N?q[N]:null)&&fn(Y))}function fn(N){if(typeof N!="number"&&N&&!N.da){var q=N.src;if(q&&q[Ne])tt(q.i,N);else{var Y=N.type,ce=N.proxy;q.removeEventListener?q.removeEventListener(Y,ce,N.capture):q.detachEvent?q.detachEvent(vn(Y),ce):q.addListener&&q.removeListener&&q.removeListener(ce),(Y=sr(q))?(tt(Y,N),Y.h==0&&(Y.src=null,q[ut]=null)):_e(N)}}}function vn(N){return N in Ye?Ye[N]:Ye[N]="on"+N}function dr(N,q){if(N.da)N=!0;else{q=new X(q,this);var Y=N.listener,ce=N.ha||N.src;N.fa&&fn(N),N=Y.call(ce,q)}return N}function sr(N){return N=N[ut],N instanceof Ue?N:null}var We="__closure_events_fn_"+(1e9*Math.random()>>>0);function xt(N){return typeof N=="function"?N:(N[We]||(N[We]=function(q){return N.handleEvent(q)}),N[We])}function Mt(){Q.call(this),this.i=new Ue(this),this.M=this,this.F=null}w(Mt,Q),Mt.prototype[Ne]=!0,Mt.prototype.removeEventListener=function(N,q,Y,ce){Cn(this,N,q,Y,ce)};function kt(N,q){var Y,ce=N.F;if(ce)for(Y=[];ce;ce=ce.F)Y.push(ce);if(N=N.M,ce=q.type||q,typeof q=="string")q=new ne(q,N);else if(q instanceof ne)q.target=q.target||N;else{var Ae=q;q=new ne(ce,N),L(q,Ae)}if(Ae=!0,Y)for(var De=Y.length-1;0<=De;De--){var ht=q.g=Y[De];Ae=on(ht,ce,!0,q)&&Ae}if(ht=q.g=N,Ae=on(ht,ce,!0,q)&&Ae,Ae=on(ht,ce,!1,q)&&Ae,Y)for(De=0;De<Y.length;De++)ht=q.g=Y[De],Ae=on(ht,ce,!1,q)&&Ae}Mt.prototype.N=function(){if(Mt.aa.N.call(this),this.i){var N=this.i,q;for(q in N.g){for(var Y=N.g[q],ce=0;ce<Y.length;ce++)_e(Y[ce]);delete N.g[q],N.h--}}this.F=null},Mt.prototype.K=function(N,q,Y,ce){return this.i.add(String(N),q,!1,Y,ce)},Mt.prototype.L=function(N,q,Y,ce){return this.i.add(String(N),q,!0,Y,ce)};function on(N,q,Y,ce){if(q=N.i.g[String(q)],!q)return!0;q=q.concat();for(var Ae=!0,De=0;De<q.length;++De){var ht=q[De];if(ht&&!ht.da&&ht.capture==Y){var Mn=ht.listener,Is=ht.ha||ht.src;ht.fa&&tt(N.i,ht),Ae=Mn.call(Is,ce)!==!1&&Ae}}return Ae&&!ce.defaultPrevented}function Gr(N,q,Y){if(typeof N=="function")Y&&(N=p(N,Y));else if(N&&typeof N.handleEvent=="function")N=p(N.handleEvent,N);else throw Error("Invalid listener argument");return 2147483647<Number(q)?-1:l.setTimeout(N,q||0)}function Jn(N){N.g=Gr(()=>{N.g=null,N.i&&(N.i=!1,Jn(N))},N.l);const q=N.h;N.h=null,N.m.apply(null,q)}class ws extends Q{constructor(q,Y){super(),this.m=q,this.l=Y,this.h=null,this.i=!1,this.g=null}j(q){this.h=arguments,this.g?this.i=!0:Jn(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function es(N){Q.call(this),this.h=N,this.g={}}w(es,Q);var Br=[];function Vn(N){F(N.g,function(q,Y){this.g.hasOwnProperty(Y)&&fn(q)},N),N.g={}}es.prototype.N=function(){es.aa.N.call(this),Vn(this)},es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ur=l.JSON.stringify,zr=l.JSON.parse,Hn=class{stringify(N){return l.JSON.stringify(N,void 0)}parse(N){return l.JSON.parse(N,void 0)}};function Wr(){}Wr.prototype.h=null;function yr(N){return N.h||(N.h=N.i())}function sa(){}var ms={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ps(){ne.call(this,"d")}w(ps,ne);function pr(){ne.call(this,"c")}w(pr,ne);var Nr={},gs=null;function aa(){return gs=gs||new Mt}Nr.La="serverreachability";function Hs(N){ne.call(this,Nr.La,N)}w(Hs,ne);function ts(N){const q=aa();kt(q,new Hs(q))}Nr.STAT_EVENT="statevent";function Ha(N,q){ne.call(this,Nr.STAT_EVENT,N),this.stat=q}w(Ha,ne);function bn(N){const q=aa();kt(q,new Ha(q,N))}Nr.Ma="timingevent";function Bt(N,q){ne.call(this,Nr.Ma,N),this.size=q}w(Bt,ne);function Ca(N,q){if(typeof N!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){N()},q)}function ii(){this.g=!0}ii.prototype.xa=function(){this.g=!1};function Bo(N,q,Y,ce,Ae,De){N.info(function(){if(N.g)if(De)for(var ht="",Mn=De.split("&"),Is=0;Is<Mn.length;Is++){var Fn=Mn[Is].split("=");if(1<Fn.length){var Gs=Fn[0];Fn=Fn[1];var Ps=Gs.split("_");ht=2<=Ps.length&&Ps[1]=="type"?ht+(Gs+"="+Fn+"&"):ht+(Gs+"=redacted&")}}else ht=null;else ht=De;return"XMLHTTP REQ ("+ce+") [attempt "+Ae+"]: "+q+`
`+Y+`
`+ht})}function no(N,q,Y,ce,Ae,De,ht){N.info(function(){return"XMLHTTP RESP ("+ce+") [ attempt "+Ae+"]: "+q+`
`+Y+`
`+De+" "+ht})}function ee(N,q,Y,ce){N.info(function(){return"XMLHTTP TEXT ("+q+"): "+le(N,Y)+(ce?" "+ce:"")})}function de(N,q){N.info(function(){return"TIMEOUT: "+q})}ii.prototype.info=function(){};function le(N,q){if(!N.g)return q;if(!q)return null;try{var Y=JSON.parse(q);if(Y){for(N=0;N<Y.length;N++)if(Array.isArray(Y[N])){var ce=Y[N];if(!(2>ce.length)){var Ae=ce[1];if(Array.isArray(Ae)&&!(1>Ae.length)){var De=Ae[0];if(De!="noop"&&De!="stop"&&De!="close")for(var ht=1;ht<Ae.length;ht++)Ae[ht]=""}}}}return Ur(Y)}catch{return q}}var ue={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},he={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},fe;function Ce(){}w(Ce,Wr),Ce.prototype.g=function(){return new XMLHttpRequest},Ce.prototype.i=function(){return{}},fe=new Ce;function Me(N,q,Y,ce){this.j=N,this.i=q,this.l=Y,this.R=ce||1,this.U=new es(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}var Re={},Oe={};function Qe(N,q,Y){N.L=1,N.v=Ga(br(q)),N.m=Y,N.P=!0,nt(N,null)}function nt(N,q){N.F=Date.now(),at(N),N.A=br(N.v);var Y=N.A,ce=N.R;Array.isArray(ce)||(ce=[String(ce)]),ci(Y.i,"t",ce),N.C=0,Y=N.j.J,N.h=new Le,N.g=sy(N.j,Y?q:null,!N.m),0<N.O&&(N.M=new ws(p(N.Y,N,N.g),N.O)),q=N.U,Y=N.g,ce=N.ca;var Ae="readystatechange";Array.isArray(Ae)||(Ae&&(Br[0]=Ae.toString()),Ae=Br);for(var De=0;De<Ae.length;De++){var ht=Et(Y,Ae[De],ce||q.handleEvent,!1,q.h||q);if(!ht)break;q.g[ht.key]=ht}q=N.H?A(N.H):{},N.m?(N.u||(N.u="POST"),q["Content-Type"]="application/x-www-form-urlencoded",N.g.ea(N.A,N.u,N.m,q)):(N.u="GET",N.g.ea(N.A,N.u,null,q)),ts(),Bo(N.i,N.u,N.A,N.l,N.R,N.m)}Me.prototype.ca=function(N){N=N.target;const q=this.M;q&&ar(N)==3?q.j():this.Y(N)},Me.prototype.Y=function(N){try{if(N==this.g)e:{const Ps=ar(this.g);var q=this.g.Ba();const uc=this.g.Z();if(!(3>Ps)&&(Ps!=3||this.g&&(this.h.h||this.g.oa()||Os(this.g)))){this.J||Ps!=4||q==7||(q==8||0>=uc?ts(3):ts(2)),Dn(this);var Y=this.g.Z();this.X=Y;t:if(mt(this)){var ce=Os(this.g);N="";var Ae=ce.length,De=ar(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){An(this),ln(this);var ht="";break t}this.h.i=new l.TextDecoder}for(q=0;q<Ae;q++)this.h.h=!0,N+=this.h.i.decode(ce[q],{stream:!(De&&q==Ae-1)});ce.length=0,this.h.g+=N,this.C=0,ht=this.h.g}else ht=this.g.oa();if(this.o=Y==200,no(this.i,this.u,this.A,this.l,this.R,Ps,Y),this.o){if(this.T&&!this.K){t:{if(this.g){var Mn,Is=this.g;if((Mn=Is.g?Is.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(Mn)){var Fn=Mn;break t}}Fn=null}if(Y=Fn)ee(this.i,this.l,Y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xr(this,Y);else{this.o=!1,this.s=3,bn(12),An(this),ln(this);break e}}if(this.P){Y=!0;let ua;for(;!this.J&&this.C<ht.length;)if(ua=st(this,ht),ua==Oe){Ps==4&&(this.s=4,bn(14),Y=!1),ee(this.i,this.l,null,"[Incomplete Response]");break}else if(ua==Re){this.s=4,bn(15),ee(this.i,this.l,ht,"[Invalid Chunk]"),Y=!1;break}else ee(this.i,this.l,ua,null),xr(this,ua);if(mt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ps!=4||ht.length!=0||this.h.h||(this.s=1,bn(16),Y=!1),this.o=this.o&&Y,!Y)ee(this.i,this.l,ht,"[Invalid Chunked Response]"),An(this),ln(this);else if(0<ht.length&&!this.W){this.W=!0;var Gs=this.j;Gs.g==this&&Gs.ba&&!Gs.M&&(Gs.j.info("Great, no buffering proxy detected. Bytes received: "+ht.length),Rd(Gs),Gs.M=!0,bn(11))}}else ee(this.i,this.l,ht,null),xr(this,ht);Ps==4&&An(this),this.o&&!this.J&&(Ps==4?ty(this.j,this):(this.o=!1,at(this)))}else Kr(this.g),Y==400&&0<ht.indexOf("Unknown SID")?(this.s=3,bn(12)):(this.s=0,bn(13)),An(this),ln(this)}}}catch{}finally{}};function mt(N){return N.g?N.u=="GET"&&N.L!=2&&N.j.Ca:!1}function st(N,q){var Y=N.C,ce=q.indexOf(`
`,Y);return ce==-1?Oe:(Y=Number(q.substring(Y,ce)),isNaN(Y)?Re:(ce+=1,ce+Y>q.length?Oe:(q=q.slice(ce,ce+Y),N.C=ce+Y,q)))}Me.prototype.cancel=function(){this.J=!0,An(this)};function at(N){N.S=Date.now()+N.I,Ut(N,N.I)}function Ut(N,q){if(N.B!=null)throw Error("WatchDog timer not null");N.B=Ca(p(N.ba,N),q)}function Dn(N){N.B&&(l.clearTimeout(N.B),N.B=null)}Me.prototype.ba=function(){this.B=null;const N=Date.now();0<=N-this.S?(de(this.i,this.A),this.L!=2&&(ts(),bn(17)),An(this),this.s=2,ln(this)):Ut(this,this.S-N)};function ln(N){N.j.G==0||N.J||ty(N.j,N)}function An(N){Dn(N);var q=N.M;q&&typeof q.ma=="function"&&q.ma(),N.M=null,Vn(N.U),N.g&&(q=N.g,N.g=null,q.abort(),q.ma())}function xr(N,q){try{var Y=N.j;if(Y.G!=0&&(Y.g==N||ns(Y.h,N))){if(!N.K&&ns(Y.h,N)&&Y.G==3){try{var ce=Y.Da.g.parse(q)}catch{ce=null}if(Array.isArray(ce)&&ce.length==3){var Ae=ce;if(Ae[0]==0){e:if(!Y.u){if(Y.g)if(Y.g.F+3e3<N.F)Ef(Y),Aa(Y);else break e;kp(Y),bn(18)}}else Y.za=Ae[1],0<Y.za-Y.T&&37500>Ae[2]&&Y.F&&Y.v==0&&!Y.C&&(Y.C=Ca(p(Y.Za,Y),6e3));if(1>=ro(Y.h)&&Y.ca){try{Y.ca()}catch{}Y.ca=void 0}}else cc(Y,11)}else if((N.K||Y.g==N)&&Ef(Y),!O(q))for(Ae=Y.Da.g.parse(q),q=0;q<Ae.length;q++){let Fn=Ae[q];if(Y.T=Fn[0],Fn=Fn[1],Y.G==2)if(Fn[0]=="c"){Y.K=Fn[1],Y.ia=Fn[2];const Gs=Fn[3];Gs!=null&&(Y.la=Gs,Y.j.info("VER="+Y.la));const Ps=Fn[4];Ps!=null&&(Y.Aa=Ps,Y.j.info("SVER="+Y.Aa));const uc=Fn[5];uc!=null&&typeof uc=="number"&&0<uc&&(ce=1.5*uc,Y.L=ce,Y.j.info("backChannelRequestTimeoutMs_="+ce)),ce=Y;const ua=N.g;if(ua){const wl=ua.g?ua.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wl){var De=ce.h;De.g||wl.indexOf("spdy")==-1&&wl.indexOf("quic")==-1&&wl.indexOf("h2")==-1||(De.j=De.l,De.g=new Set,De.h&&(so(De,De.h),De.h=null))}if(ce.D){const Ip=ua.g?ua.g.getResponseHeader("X-HTTP-Session-Id"):null;Ip&&(ce.ya=Ip,Ln(ce.I,ce.D,Ip))}}Y.G=3,Y.l&&Y.l.ua(),Y.ba&&(Y.R=Date.now()-N.F,Y.j.info("Handshake RTT: "+Y.R+"ms")),ce=Y;var ht=N;if(ce.qa=ry(ce,ce.J?ce.ia:null,ce.W),ht.K){Na(ce.h,ht);var Mn=ht,Is=ce.L;Is&&(Mn.I=Is),Mn.B&&(Dn(Mn),at(Mn)),ce.g=ht}else Zv(ce);0<Y.i.length&&lc(Y)}else Fn[0]!="stop"&&Fn[0]!="close"||cc(Y,7);else Y.G==3&&(Fn[0]=="stop"||Fn[0]=="close"?Fn[0]=="stop"?cc(Y,7):fi(Y):Fn[0]!="noop"&&Y.l&&Y.l.ta(Fn),Y.v=0)}}ts(4)}catch{}}var _s=class{constructor(N,q){this.g=N,this.map=q}};function ia(N){this.l=N||10,l.PerformanceNavigationTiming?(N=l.performance.getEntriesByType("navigation"),N=0<N.length&&(N[0].nextHopProtocol=="hq"||N[0].nextHopProtocol=="h2")):N=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=N?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function oa(N){return N.h?!0:N.g?N.g.size>=N.j:!1}function ro(N){return N.h?1:N.g?N.g.size:0}function ns(N,q){return N.h?N.h==q:N.g?N.g.has(q):!1}function so(N,q){N.g?N.g.add(q):N.h=q}function Na(N,q){N.h&&N.h==q?N.h=null:N.g&&N.g.has(q)&&N.g.delete(q)}ia.prototype.cancel=function(){if(this.i=rs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const N of this.g.values())N.cancel();this.g.clear()}};function rs(N){if(N.h!=null)return N.i.concat(N.h.D);if(N.g!=null&&N.g.size!==0){let q=N.i;for(const Y of N.g.values())q=q.concat(Y.D);return q}return E(N.i)}function pl(N){if(N.V&&typeof N.V=="function")return N.V();if(typeof Map<"u"&&N instanceof Map||typeof Set<"u"&&N instanceof Set)return Array.from(N.values());if(typeof N=="string")return N.split("");if(u(N)){for(var q=[],Y=N.length,ce=0;ce<Y;ce++)q.push(N[ce]);return q}q=[],Y=0;for(ce in N)q[Y++]=N[ce];return q}function Uo(N){if(N.na&&typeof N.na=="function")return N.na();if(!N.V||typeof N.V!="function"){if(typeof Map<"u"&&N instanceof Map)return Array.from(N.keys());if(!(typeof Set<"u"&&N instanceof Set)){if(u(N)||typeof N=="string"){var q=[];N=N.length;for(var Y=0;Y<N;Y++)q.push(Y);return q}q=[],Y=0;for(const ce in N)q[Y++]=ce;return q}}}function ao(N,q){if(N.forEach&&typeof N.forEach=="function")N.forEach(q,void 0);else if(u(N)||typeof N=="string")Array.prototype.forEach.call(N,q,void 0);else for(var Y=Uo(N),ce=pl(N),Ae=ce.length,De=0;De<Ae;De++)q.call(void 0,ce[De],Y&&Y[De],N)}var gl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vl(N,q){if(N){N=N.split("&");for(var Y=0;Y<N.length;Y++){var ce=N[Y].indexOf("="),Ae=null;if(0<=ce){var De=N[Y].substring(0,ce);Ae=N[Y].substring(ce+1)}else De=N[Y];q(De,Ae?decodeURIComponent(Ae.replace(/\+/g," ")):"")}}}function Ti(N){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,N instanceof Ti){this.h=N.h,io(this,N.j),this.o=N.o,this.g=N.g,Ai(this,N.s),this.l=N.l;var q=N.i,Y=new oi;Y.i=q.i,q.g&&(Y.g=new Map(q.g),Y.h=q.h),yl(this,Y),this.m=N.m}else N&&(q=String(N).match(gl))?(this.h=!1,io(this,q[1]||"",!0),this.o=js(q[2]||""),this.g=js(q[3]||"",!0),Ai(this,q[4]),this.l=js(q[5]||"",!0),yl(this,q[6]||"",!0),this.m=js(q[7]||"")):(this.h=!1,this.i=new oi(null,this.h))}Ti.prototype.toString=function(){var N=[],q=this.j;q&&N.push(ss(q,ic,!0),":");var Y=this.g;return(Y||q=="file")&&(N.push("//"),(q=this.o)&&N.push(ss(q,ic,!0),"@"),N.push(encodeURIComponent(String(Y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Y=this.s,Y!=null&&N.push(":",String(Y))),(Y=this.l)&&(this.g&&Y.charAt(0)!="/"&&N.push("/"),N.push(ss(Y,Y.charAt(0)=="/"?oc:Wa,!0))),(Y=this.i.toString())&&N.push("?",Y),(Y=this.m)&&N.push("#",ss(Y,Ad)),N.join("")};function br(N){return new Ti(N)}function io(N,q,Y){N.j=Y?js(q,!0):q,N.j&&(N.j=N.j.replace(/:$/,""))}function Ai(N,q){if(q){if(q=Number(q),isNaN(q)||0>q)throw Error("Bad port number "+q);N.s=q}else N.s=null}function yl(N,q,Y){q instanceof oi?(N.i=q,zo(N.i,N.h)):(Y||(q=ss(q,Td)),N.i=new oi(q,N.h))}function Ln(N,q,Y){N.i.set(q,Y)}function Ga(N){return Ln(N,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),N}function js(N,q){return N?q?decodeURI(N.replace(/%25/g,"%2525")):decodeURIComponent(N):""}function ss(N,q,Y){return typeof N=="string"?(N=encodeURI(N).replace(q,Li),Y&&(N=N.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N):null}function Li(N){return N=N.charCodeAt(0),"%"+(N>>4&15).toString(16)+(N&15).toString(16)}var ic=/[#\/\?@]/g,Wa=/[#\?:]/g,oc=/[#\?]/g,Td=/[#\?@]/g,Ad=/#/g;function oi(N,q){this.h=this.g=null,this.i=N||null,this.j=!!q}function la(N){N.g||(N.g=new Map,N.h=0,N.i&&vl(N.i,function(q,Y){N.add(decodeURIComponent(q.replace(/\+/g," ")),Y)}))}t=oi.prototype,t.add=function(N,q){la(this),this.i=null,N=Ta(this,N);var Y=this.g.get(N);return Y||this.g.set(N,Y=[]),Y.push(q),this.h+=1,this};function as(N,q){la(N),q=Ta(N,q),N.g.has(q)&&(N.i=null,N.h-=N.g.get(q).length,N.g.delete(q))}function li(N,q){return la(N),q=Ta(N,q),N.g.has(q)}t.forEach=function(N,q){la(this),this.g.forEach(function(Y,ce){Y.forEach(function(Ae){N.call(q,Ae,ce,this)},this)},this)},t.na=function(){la(this);const N=Array.from(this.g.values()),q=Array.from(this.g.keys()),Y=[];for(let ce=0;ce<q.length;ce++){const Ae=N[ce];for(let De=0;De<Ae.length;De++)Y.push(q[ce])}return Y},t.V=function(N){la(this);let q=[];if(typeof N=="string")li(this,N)&&(q=q.concat(this.g.get(Ta(this,N))));else{N=Array.from(this.g.values());for(let Y=0;Y<N.length;Y++)q=q.concat(N[Y])}return q},t.set=function(N,q){return la(this),this.i=null,N=Ta(this,N),li(this,N)&&(this.h-=this.g.get(N).length),this.g.set(N,[q]),this.h+=1,this},t.get=function(N,q){return N?(N=this.V(N),0<N.length?String(N[0]):q):q};function ci(N,q,Y){as(N,q),0<Y.length&&(N.i=null,N.g.set(Ta(N,q),E(Y)),N.h+=Y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const N=[],q=Array.from(this.g.keys());for(var Y=0;Y<q.length;Y++){var ce=q[Y];const De=encodeURIComponent(String(ce)),ht=this.V(ce);for(ce=0;ce<ht.length;ce++){var Ae=De;ht[ce]!==""&&(Ae+="="+encodeURIComponent(String(ht[ce]))),N.push(Ae)}}return this.i=N.join("&")};function Ta(N,q){return q=String(q),N.j&&(q=q.toLowerCase()),q}function zo(N,q){q&&!N.j&&(la(N),N.i=null,N.g.forEach(function(Y,ce){var Ae=ce.toLowerCase();ce!=Ae&&(as(this,ce),ci(this,Ae,Y))},N)),N.j=q}function qo(N,q){const Y=new ii;if(l.Image){const ce=new Image;ce.onload=v(ca,Y,"TestLoadImage: loaded",!0,q,ce),ce.onerror=v(ca,Y,"TestLoadImage: error",!1,q,ce),ce.onabort=v(ca,Y,"TestLoadImage: abort",!1,q,ce),ce.ontimeout=v(ca,Y,"TestLoadImage: timeout",!1,q,ce),l.setTimeout(function(){ce.ontimeout&&ce.ontimeout()},1e4),ce.src=N}else q(!1)}function $o(N,q){const Y=new ii,ce=new AbortController,Ae=setTimeout(()=>{ce.abort(),ca(Y,"TestPingServer: timeout",!1,q)},1e4);fetch(N,{signal:ce.signal}).then(De=>{clearTimeout(Ae),De.ok?ca(Y,"TestPingServer: ok",!0,q):ca(Y,"TestPingServer: server error",!1,q)}).catch(()=>{clearTimeout(Ae),ca(Y,"TestPingServer: error",!1,q)})}function ca(N,q,Y,ce,Ae){try{Ae&&(Ae.onload=null,Ae.onerror=null,Ae.onabort=null,Ae.ontimeout=null),ce(Y)}catch{}}function Ri(){this.g=new Hn}function Ka(N,q,Y){const ce=Y||"";try{ao(N,function(Ae,De){let ht=Ae;h(Ae)&&(ht=Ur(Ae)),q.push(ce+De+"="+encodeURIComponent(ht))})}catch(Ae){throw q.push(ce+"type="+encodeURIComponent("_badmap")),Ae}}function ks(N){this.l=N.Ub||null,this.j=N.eb||!1}w(ks,Wr),ks.prototype.g=function(){return new ui(this.l,this.j)},ks.prototype.i=function(N){return function(){return N}}({});function ui(N,q){Mt.call(this),this.D=N,this.o=q,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(ui,Mt),t=ui.prototype,t.open=function(N,q){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=N,this.A=q,this.readyState=1,hi(this)},t.send=function(N){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const q={headers:this.u,method:this.B,credentials:this.m,cache:void 0};N&&(q.body=N),(this.D||l).fetch(new Request(this.A,q)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,di(this)),this.readyState=0},t.Sa=function(N){if(this.g&&(this.l=N,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=N.headers,this.readyState=2,hi(this)),this.g&&(this.readyState=3,hi(this),this.g)))if(this.responseType==="arraybuffer")N.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in N){if(this.j=N.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vo(this)}else N.text().then(this.Ra.bind(this),this.ga.bind(this))};function Vo(N){N.j.read().then(N.Pa.bind(N)).catch(N.ga.bind(N))}t.Pa=function(N){if(this.g){if(this.o&&N.value)this.response.push(N.value);else if(!this.o){var q=N.value?N.value:new Uint8Array(0);(q=this.v.decode(q,{stream:!N.done}))&&(this.response=this.responseText+=q)}N.done?di(this):hi(this),this.readyState==3&&Vo(this)}},t.Ra=function(N){this.g&&(this.response=this.responseText=N,di(this))},t.Qa=function(N){this.g&&(this.response=N,di(this))},t.ga=function(){this.g&&di(this)};function di(N){N.readyState=4,N.l=null,N.j=null,N.v=null,hi(N)}t.setRequestHeader=function(N,q){this.u.append(N,q)},t.getResponseHeader=function(N){return this.h&&this.h.get(N.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const N=[],q=this.h.entries();for(var Y=q.next();!Y.done;)Y=Y.value,N.push(Y[0]+": "+Y[1]),Y=q.next();return N.join(`\r
`)};function hi(N){N.onreadystatechange&&N.onreadystatechange.call(N)}Object.defineProperty(ui.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(N){this.m=N?"include":"same-origin"}});function H(N){let q="";return F(N,function(Y,ce){q+=ce,q+=":",q+=Y,q+=`\r
`}),q}function ae(N,q,Y){e:{for(ce in Y){var ce=!1;break e}ce=!0}ce||(Y=H(Y),typeof N=="string"?Y!=null&&encodeURIComponent(String(Y)):Ln(N,q,Y))}function pe(N){Mt.call(this),this.headers=new Map,this.o=N||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(pe,Mt);var Be=/^https?$/i,Gt=["POST","PUT"];t=pe.prototype,t.Ha=function(N){this.J=N},t.ea=function(N,q,Y,ce){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+N);q=q?q.toUpperCase():"GET",this.D=N,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():fe.g(),this.v=this.o?yr(this.o):yr(fe),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(q,String(N),!0),this.B=!1}catch(De){Ct(this,De);return}if(N=Y||"",Y=new Map(this.headers),ce)if(Object.getPrototypeOf(ce)===Object.prototype)for(var Ae in ce)Y.set(Ae,ce[Ae]);else if(typeof ce.keys=="function"&&typeof ce.get=="function")for(const De of ce.keys())Y.set(De,ce.get(De));else throw Error("Unknown input type for opt_headers: "+String(ce));ce=Array.from(Y.keys()).find(De=>De.toLowerCase()=="content-type"),Ae=l.FormData&&N instanceof l.FormData,!(0<=Array.prototype.indexOf.call(Gt,q,void 0))||ce||Ae||Y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[De,ht]of Y)this.g.setRequestHeader(De,ht);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{jn(this),this.u=!0,this.g.send(N),this.u=!1}catch(De){Ct(this,De)}};function Ct(N,q){N.h=!1,N.g&&(N.j=!0,N.g.abort(),N.j=!1),N.l=q,N.m=5,wn(N),Qn(N)}function wn(N){N.A||(N.A=!0,kt(N,"complete"),kt(N,"error"))}t.abort=function(N){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=N||7,kt(this,"complete"),kt(this,"abort"),Qn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qn(this,!0)),pe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?yn(this):this.bb())},t.bb=function(){yn(this)};function yn(N){if(N.h&&typeof o<"u"&&(!N.v[1]||ar(N)!=4||N.Z()!=2)){if(N.u&&ar(N)==4)Gr(N.Ea,0,N);else if(kt(N,"readystatechange"),ar(N)==4){N.h=!1;try{const ht=N.Z();e:switch(ht){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var q=!0;break e;default:q=!1}var Y;if(!(Y=q)){var ce;if(ce=ht===0){var Ae=String(N.D).match(gl)[1]||null;!Ae&&l.self&&l.self.location&&(Ae=l.self.location.protocol.slice(0,-1)),ce=!Be.test(Ae?Ae.toLowerCase():"")}Y=ce}if(Y)kt(N,"complete"),kt(N,"success");else{N.m=6;try{var De=2<ar(N)?N.g.statusText:""}catch{De=""}N.l=De+" ["+N.Z()+"]",wn(N)}}finally{Qn(N)}}}}function Qn(N,q){if(N.g){jn(N);const Y=N.g,ce=N.v[0]?()=>{}:null;N.g=null,N.v=null,q||kt(N,"ready");try{Y.onreadystatechange=ce}catch{}}}function jn(N){N.I&&(l.clearTimeout(N.I),N.I=null)}t.isActive=function(){return!!this.g};function ar(N){return N.g?N.g.readyState:0}t.Z=function(){try{return 2<ar(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(N){if(this.g){var q=this.g.responseText;return N&&q.indexOf(N)==0&&(q=q.substring(N.length)),zr(q)}};function Os(N){try{if(!N.g)return null;if("response"in N.g)return N.g.response;switch(N.H){case"":case"text":return N.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in N.g)return N.g.mozResponseArrayBuffer}return null}catch{return null}}function Kr(N){const q={};N=(N.g&&2<=ar(N)&&N.g.getAllResponseHeaders()||"").split(`\r
`);for(let ce=0;ce<N.length;ce++){if(O(N[ce]))continue;var Y=R(N[ce]);const Ae=Y[0];if(Y=Y[1],typeof Y!="string")continue;Y=Y.trim();const De=q[Ae]||[];q[Ae]=De,De.push(Y)}y(q,function(ce){return ce.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function qr(N,q,Y){return Y&&Y.internalChannelParams&&Y.internalChannelParams[N]||q}function $r(N){this.Aa=0,this.i=[],this.j=new ii,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qr("failFast",!1,N),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qr("baseRetryDelayMs",5e3,N),this.cb=qr("retryDelaySeedMs",1e4,N),this.Wa=qr("forwardChannelMaxRetries",2,N),this.wa=qr("forwardChannelRequestTimeoutMs",2e4,N),this.pa=N&&N.xmlHttpFactory||void 0,this.Xa=N&&N.Tb||void 0,this.Ca=N&&N.useFetchStreams||!1,this.L=void 0,this.J=N&&N.supportsCrossDomainXhr||!1,this.K="",this.h=new ia(N&&N.concurrentRequestLimit),this.Da=new Ri,this.P=N&&N.fastHandshake||!1,this.O=N&&N.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=N&&N.Rb||!1,N&&N.xa&&this.j.xa(),N&&N.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&N&&N.detectBufferingProxy||!1,this.ja=void 0,N&&N.longPollingTimeout&&0<N.longPollingTimeout&&(this.ja=N.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=$r.prototype,t.la=8,t.G=1,t.connect=function(N,q,Y,ce){bn(0),this.W=N,this.H=q||{},Y&&ce!==void 0&&(this.H.OSID=Y,this.H.OAID=ce),this.F=this.X,this.I=ry(this,null,this.W),lc(this)};function fi(N){if(oo(N),N.G==3){var q=N.U++,Y=br(N.I);if(Ln(Y,"SID",N.K),Ln(Y,"RID",q),Ln(Y,"TYPE","terminate"),Ld(N,Y),q=new Me(N,N.j,q),q.L=2,q.v=Ga(br(Y)),Y=!1,l.navigator&&l.navigator.sendBeacon)try{Y=l.navigator.sendBeacon(q.v.toString(),"")}catch{}!Y&&l.Image&&(new Image().src=q.v,Y=!0),Y||(q.g=sy(q.j,null),q.g.ea(q.v)),q.F=Date.now(),at(q)}ny(N)}function Aa(N){N.g&&(Rd(N),N.g.cancel(),N.g=null)}function oo(N){Aa(N),N.u&&(l.clearTimeout(N.u),N.u=null),Ef(N),N.h.cancel(),N.s&&(typeof N.s=="number"&&l.clearTimeout(N.s),N.s=null)}function lc(N){if(!oa(N.h)&&!N.s){N.s=!0;var q=N.Ga;Z||W(),me||(Z(),me=!0),ie.add(q,N),N.B=0}}function du(N,q){return ro(N.h)>=N.h.j-(N.s?1:0)?!1:N.s?(N.i=q.D.concat(N.i),!0):N.G==1||N.G==2||N.B>=(N.Va?0:N.Wa)?!1:(N.s=Ca(p(N.Ga,N,q),Op(N,N.B)),N.B++,!0)}t.Ga=function(N){if(this.s)if(this.s=null,this.G==1){if(!N){this.U=Math.floor(1e5*Math.random()),N=this.U++;const Ae=new Me(this,this.j,N);let De=this.o;if(this.S&&(De?(De=A(De),L(De,this.S)):De=this.S),this.m!==null||this.O||(Ae.H=De,De=null),this.P)e:{for(var q=0,Y=0;Y<this.i.length;Y++){t:{var ce=this.i[Y];if("__data__"in ce.map&&(ce=ce.map.__data__,typeof ce=="string")){ce=ce.length;break t}ce=void 0}if(ce===void 0)break;if(q+=ce,4096<q){q=Y;break e}if(q===4096||Y===this.i.length-1){q=Y+1;break e}}q=1e3}else q=1e3;q=Qv(this,Ae,q),Y=br(this.I),Ln(Y,"RID",N),Ln(Y,"CVER",22),this.D&&Ln(Y,"X-HTTP-Session-Id",this.D),Ld(this,Y),De&&(this.O?q="headers="+encodeURIComponent(String(H(De)))+"&"+q:this.m&&ae(Y,this.m,De)),so(this.h,Ae),this.Ua&&Ln(Y,"TYPE","init"),this.P?(Ln(Y,"$req",q),Ln(Y,"SID","null"),Ae.T=!0,Qe(Ae,Y,null)):Qe(Ae,Y,q),this.G=2}}else this.G==3&&(N?xl(this,N):this.i.length==0||oa(this.h)||xl(this))};function xl(N,q){var Y;q?Y=q.l:Y=N.U++;const ce=br(N.I);Ln(ce,"SID",N.K),Ln(ce,"RID",Y),Ln(ce,"AID",N.T),Ld(N,ce),N.m&&N.o&&ae(ce,N.m,N.o),Y=new Me(N,N.j,Y,N.B+1),N.m===null&&(Y.H=N.o),q&&(N.i=q.D.concat(N.i)),q=Qv(N,Y,1e3),Y.I=Math.round(.5*N.wa)+Math.round(.5*N.wa*Math.random()),so(N.h,Y),Qe(Y,ce,q)}function Ld(N,q){N.H&&F(N.H,function(Y,ce){Ln(q,ce,Y)}),N.l&&ao({},function(Y,ce){Ln(q,ce,Y)})}function Qv(N,q,Y){Y=Math.min(N.i.length,Y);var ce=N.l?p(N.l.Na,N.l,N):null;e:{var Ae=N.i;let De=-1;for(;;){const ht=["count="+Y];De==-1?0<Y?(De=Ae[0].g,ht.push("ofs="+De)):De=0:ht.push("ofs="+De);let Mn=!0;for(let Is=0;Is<Y;Is++){let Fn=Ae[Is].g;const Gs=Ae[Is].map;if(Fn-=De,0>Fn)De=Math.max(0,Ae[Is].g-100),Mn=!1;else try{Ka(Gs,ht,"req"+Fn+"_")}catch{ce&&ce(Gs)}}if(Mn){ce=ht.join("&");break e}}}return N=N.i.splice(0,Y),q.D=N,ce}function Zv(N){if(!N.g&&!N.u){N.Y=1;var q=N.Fa;Z||W(),me||(Z(),me=!0),ie.add(q,N),N.v=0}}function kp(N){return N.g||N.u||3<=N.v?!1:(N.Y++,N.u=Ca(p(N.Fa,N),Op(N,N.v)),N.v++,!0)}t.Fa=function(){if(this.u=null,ey(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var N=2*this.R;this.j.info("BP detection timer enabled: "+N),this.A=Ca(p(this.ab,this),N)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,bn(10),Aa(this),ey(this))};function Rd(N){N.A!=null&&(l.clearTimeout(N.A),N.A=null)}function ey(N){N.g=new Me(N,N.j,"rpc",N.Y),N.m===null&&(N.g.H=N.o),N.g.O=0;var q=br(N.qa);Ln(q,"RID","rpc"),Ln(q,"SID",N.K),Ln(q,"AID",N.T),Ln(q,"CI",N.F?"0":"1"),!N.F&&N.ja&&Ln(q,"TO",N.ja),Ln(q,"TYPE","xmlhttp"),Ld(N,q),N.m&&N.o&&ae(q,N.m,N.o),N.L&&(N.g.I=N.L);var Y=N.g;N=N.ia,Y.L=1,Y.v=Ga(br(q)),Y.m=null,Y.P=!0,nt(Y,N)}t.Za=function(){this.C!=null&&(this.C=null,Aa(this),kp(this),bn(19))};function Ef(N){N.C!=null&&(l.clearTimeout(N.C),N.C=null)}function ty(N,q){var Y=null;if(N.g==q){Ef(N),Rd(N),N.g=null;var ce=2}else if(ns(N.h,q))Y=q.D,Na(N.h,q),ce=1;else return;if(N.G!=0){if(q.o)if(ce==1){Y=q.m?q.m.length:0,q=Date.now()-q.F;var Ae=N.B;ce=aa(),kt(ce,new Bt(ce,Y)),lc(N)}else Zv(N);else if(Ae=q.s,Ae==3||Ae==0&&0<q.X||!(ce==1&&du(N,q)||ce==2&&kp(N)))switch(Y&&0<Y.length&&(q=N.h,q.i=q.i.concat(Y)),Ae){case 1:cc(N,5);break;case 4:cc(N,10);break;case 3:cc(N,6);break;default:cc(N,2)}}}function Op(N,q){let Y=N.Ta+Math.floor(Math.random()*N.cb);return N.isActive()||(Y*=2),Y*q}function cc(N,q){if(N.j.info("Error code "+q),q==2){var Y=p(N.fb,N),ce=N.Xa;const Ae=!ce;ce=new Ti(ce||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||io(ce,"https"),Ga(ce),Ae?qo(ce.toString(),Y):$o(ce.toString(),Y)}else bn(2);N.G=0,N.l&&N.l.sa(q),ny(N),oo(N)}t.fb=function(N){N?(this.j.info("Successfully pinged google.com"),bn(2)):(this.j.info("Failed to ping google.com"),bn(1))};function ny(N){if(N.G=0,N.ka=[],N.l){const q=rs(N.h);(q.length!=0||N.i.length!=0)&&(S(N.ka,q),S(N.ka,N.i),N.h.i.length=0,E(N.i),N.i.length=0),N.l.ra()}}function ry(N,q,Y){var ce=Y instanceof Ti?br(Y):new Ti(Y);if(ce.g!="")q&&(ce.g=q+"."+ce.g),Ai(ce,ce.s);else{var Ae=l.location;ce=Ae.protocol,q=q?q+"."+Ae.hostname:Ae.hostname,Ae=+Ae.port;var De=new Ti(null);ce&&io(De,ce),q&&(De.g=q),Ae&&Ai(De,Ae),Y&&(De.l=Y),ce=De}return Y=N.D,q=N.ya,Y&&q&&Ln(ce,Y,q),Ln(ce,"VER",N.la),Ld(N,ce),ce}function sy(N,q,Y){if(q&&!N.J)throw Error("Can't create secondary domain capable XhrIo object.");return q=N.Ca&&!N.pa?new pe(new ks({eb:Y})):new pe(N.pa),q.Ha(N.J),q}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ay(){}t=ay.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Sf(){}Sf.prototype.g=function(N,q){return new Ya(N,q)};function Ya(N,q){Mt.call(this),this.g=new $r(q),this.l=N,this.h=q&&q.messageUrlParams||null,N=q&&q.messageHeaders||null,q&&q.clientProtocolHeaderRequired&&(N?N["X-Client-Protocol"]="webchannel":N={"X-Client-Protocol":"webchannel"}),this.g.o=N,N=q&&q.initMessageHeaders||null,q&&q.messageContentType&&(N?N["X-WebChannel-Content-Type"]=q.messageContentType:N={"X-WebChannel-Content-Type":q.messageContentType}),q&&q.va&&(N?N["X-WebChannel-Client-Profile"]=q.va:N={"X-WebChannel-Client-Profile":q.va}),this.g.S=N,(N=q&&q.Sb)&&!O(N)&&(this.g.m=N),this.v=q&&q.supportsCrossDomainXhr||!1,this.u=q&&q.sendRawJson||!1,(q=q&&q.httpSessionIdParam)&&!O(q)&&(this.g.D=q,N=this.h,N!==null&&q in N&&(N=this.h,q in N&&delete N[q])),this.j=new bl(this)}w(Ya,Mt),Ya.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ya.prototype.close=function(){fi(this.g)},Ya.prototype.o=function(N){var q=this.g;if(typeof N=="string"){var Y={};Y.__data__=N,N=Y}else this.u&&(Y={},Y.__data__=Ur(N),N=Y);q.i.push(new _s(q.Ya++,N)),q.G==3&&lc(q)},Ya.prototype.N=function(){this.g.l=null,delete this.j,fi(this.g),delete this.g,Ya.aa.N.call(this)};function iy(N){ps.call(this),N.__headers__&&(this.headers=N.__headers__,this.statusCode=N.__status__,delete N.__headers__,delete N.__status__);var q=N.__sm__;if(q){e:{for(const Y in q){N=Y;break e}N=void 0}(this.i=N)&&(N=this.i,q=q!==null&&N in q?q[N]:void 0),this.data=q}else this.data=N}w(iy,ps);function oy(){pr.call(this),this.status=1}w(oy,pr);function bl(N){this.g=N}w(bl,ay),bl.prototype.ua=function(){kt(this.g,"a")},bl.prototype.ta=function(N){kt(this.g,new iy(N))},bl.prototype.sa=function(N){kt(this.g,new oy)},bl.prototype.ra=function(){kt(this.g,"b")},Sf.prototype.createWebChannel=Sf.prototype.g,Ya.prototype.send=Ya.prototype.o,Ya.prototype.open=Ya.prototype.m,Ya.prototype.close=Ya.prototype.close,UB=function(){return new Sf},BB=function(){return aa()},FB=Nr,HC={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ue.NO_ERROR=0,ue.TIMEOUT=8,ue.HTTP_ERROR=6,Qx=ue,he.COMPLETE="complete",MB=he,sa.EventType=ms,ms.OPEN="a",ms.CLOSE="b",ms.ERROR="c",ms.MESSAGE="d",Mt.prototype.listen=Mt.prototype.K,Dg=sa,pe.prototype.listenOnce=pe.prototype.L,pe.prototype.getLastError=pe.prototype.Ka,pe.prototype.getLastErrorCode=pe.prototype.Ba,pe.prototype.getStatus=pe.prototype.Z,pe.prototype.getResponseJson=pe.prototype.Oa,pe.prototype.getResponseText=pe.prototype.oa,pe.prototype.send=pe.prototype.ea,pe.prototype.setWithCredentials=pe.prototype.Ha,DB=pe}).apply(typeof cx<"u"?cx:typeof self<"u"?self:typeof window<"u"?window:{});const uI="@firebase/firestore",dI="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ia.UNAUTHENTICATED=new Ia(null),Ia.GOOGLE_CREDENTIALS=new Ia("google-credentials-uid"),Ia.FIRST_PARTY=new Ia("first-party-uid"),Ia.MOCK_USER=new Ia("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hp="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh=new Vb("@firebase/firestore");function am(){return vh.logLevel}function bt(t,...e){if(vh.logLevel<=Rn.DEBUG){const n=e.map(bA);vh.debug(`Firestore (${hp}): ${t}`,...n)}}function Gc(t,...e){if(vh.logLevel<=Rn.ERROR){const n=e.map(bA);vh.error(`Firestore (${hp}): ${t}`,...n)}}function Vm(t,...e){if(vh.logLevel<=Rn.WARN){const n=e.map(bA);vh.warn(`Firestore (${hp}): ${t}`,...n)}}function bA(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(t="Unexpected state"){const e=`FIRESTORE (${hp}) INTERNAL ASSERTION FAILED: `+t;throw Gc(e),new Error(e)}function tr(t,e){t||tn()}function un(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const it={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class It extends Po{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zB{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Wne{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ia.UNAUTHENTICATED))}shutdown(){}}class Kne{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Yne{constructor(e){this.t=e,this.currentUser=Ia.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){tr(this.o===void 0);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new nd;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new nd,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},l=u=>{bt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(bt("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new nd)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(bt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(tr(typeof r.accessToken=="string"),new zB(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tr(e===null||typeof e=="string"),new Ia(e)}}class Xne{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ia.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Jne{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Xne(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ia.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class hI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Qne{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,tl(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){tr(this.o===void 0);const r=i=>{i.error!=null&&bt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,bt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{bt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):bt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new hI(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(tr(typeof n.token=="string"),this.R=n.token,new hI(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zne(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qB{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=Zne(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Pn(t,e){return t<e?-1:t>e?1:0}function Hm(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI=-62135596800,mI=1e6;class qs{static now(){return qs.fromMillis(Date.now())}static fromDate(e){return qs.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*mI);return new qs(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new It(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new It(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<fI)throw new It(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new It(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/mI}_compareTo(e){return this.seconds===e.seconds?Pn(this.nanoseconds,e.nanoseconds):Pn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-fI;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{static fromTimestamp(e){return new an(e)}static min(){return new an(new qs(0,0))}static max(){return new an(new qs(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI="__name__";class Ol{constructor(e,n,r){n===void 0?n=0:n>e.length&&tn(),r===void 0?r=e.length-n:r>e.length-n&&tn(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ol.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ol?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Ol.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Math.sign(e.length-n.length)}static compareSegments(e,n){const r=Ol.isNumericId(e),s=Ol.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Ol.extractNumericId(e).compare(Ol.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return td.fromString(e.substring(4,e.length-2))}}class Vr extends Ol{construct(e,n,r){return new Vr(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new It(it.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Vr(n)}static emptyPath(){return new Vr([])}}const ere=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ya extends Ol{construct(e,n,r){return new ya(e,n,r)}static isValidIdentifier(e){return ere.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ya.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===pI}static keyField(){return new ya([pI])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new It(it.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new It(it.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new It(it.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(i(),s++)}if(i(),o)throw new It(it.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ya(n)}static emptyPath(){return new ya([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.path=e}static fromPath(e){return new $t(Vr.fromString(e))}static fromName(e){return new $t(Vr.fromString(e).popFirst(5))}static empty(){return new $t(Vr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Vr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Vr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $t(new Vr(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0=-1;function tre(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=an.fromTimestamp(r===1e9?new qs(n+1,0):new qs(n,r));return new cd(s,$t.empty(),e)}function nre(t){return new cd(t.readTime,t.key,L0)}class cd{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new cd(an.min(),$t.empty(),L0)}static max(){return new cd(an.max(),$t.empty(),L0)}}function rre(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=$t.comparator(t.documentKey,e.documentKey),n!==0?n:Pn(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sre="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class are{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fp(t){if(t.code!==it.FAILED_PRECONDITION||t.message!==sre)throw t;bt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&tn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Je((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Je?n:Je.resolve(n)}catch(n){return Je.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Je.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Je.reject(n)}static resolve(e){return new Je((n,r)=>{n(e)})}static reject(e){return new Je((n,r)=>{r(e)})}static waitFor(e){return new Je((n,r)=>{let s=0,i=0,o=!1;e.forEach(l=>{++s,l.next(()=>{++i,o&&i===s&&n()},u=>r(u))}),o=!0,i===s&&n()})}static or(e){let n=Je.resolve(!1);for(const r of e)n=n.next(s=>s?Je.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new Je((r,s)=>{const i=e.length,o=new Array(i);let l=0;for(let u=0;u<i;u++){const h=u;n(e[h]).next(f=>{o[h]=f,++l,l===i&&r(o)},f=>s(f))}})}static doWhile(e,n){return new Je((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function ire(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function mp(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Gb.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA=-1;function Wb(t){return t==null}function j1(t){return t===0&&1/t==-1/0}function ore(t){return typeof t=="number"&&Number.isInteger(t)&&!j1(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $B="";function lre(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=gI(e)),e=cre(t.get(n),e);return gI(e)}function cre(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case $B:n+="";break;default:n+=i}}return n}function gI(t){return t+$B+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function jd(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function VB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,n){this.comparator=e,this.root=n||ga.EMPTY}insert(e,n){return new Zr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ga.BLACK,null,null))}remove(e){return new Zr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ga.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ux(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ux(this.root,e,this.comparator,!1)}getReverseIterator(){return new ux(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ux(this.root,e,this.comparator,!0)}}class ux{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ga{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??ga.RED,this.left=s??ga.EMPTY,this.right=i??ga.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new ga(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ga.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return ga.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ga.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ga.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw tn();const e=this.left.check();if(e!==this.right.check())throw tn();return e+(this.isRed()?0:1)}}ga.EMPTY=null,ga.RED=!0,ga.BLACK=!1;ga.EMPTY=new class{constructor(){this.size=0}get key(){throw tn()}get value(){throw tn()}get color(){throw tn()}get left(){throw tn()}get right(){throw tn()}copy(e,n,r,s,i){return this}insert(e,n,r){return new ga(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this.comparator=e,this.data=new Zr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new yI(this.data.getIterator())}getIteratorFrom(e){return new yI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof $s)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new $s(this.comparator);return n.data=e,n}}class yI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e){this.fields=e,e.sort(ya.comparator)}static empty(){return new qi([])}unionWith(e){let n=new $s(ya.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new qi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Hm(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HB extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new HB("Invalid base64 string: "+i):i}}(e);return new ja(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new ja(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ja.EMPTY_BYTE_STRING=new ja("");const ure=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ud(t){if(tr(!!t),typeof t=="string"){let e=0;const n=ure.exec(t);if(tr(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xs(t.seconds),nanos:xs(t.nanos)}}function xs(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function dd(t){return typeof t=="string"?ja.fromBase64String(t):ja.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GB="server_timestamp",WB="__type__",KB="__previous_value__",YB="__local_write_time__";function _A(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[WB])===null||n===void 0?void 0:n.stringValue)===GB}function Kb(t){const e=t.mapValue.fields[KB];return _A(e)?Kb(e):e}function R0(t){const e=ud(t.mapValue.fields[YB].timestampValue);return new qs(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dre{constructor(e,n,r,s,i,o,l,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=h}}const E1="(default)";class k0{constructor(e,n){this.projectId=e,this.database=n||E1}static empty(){return new k0("","")}get isDefaultDatabase(){return this.database===E1}isEqual(e){return e instanceof k0&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XB="__type__",hre="__max__",dx={mapValue:{}},JB="__vector__",S1="value";function hd(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?_A(t)?4:mre(t)?9007199254740991:fre(t)?10:11:tn()}function Kl(t,e){if(t===e)return!0;const n=hd(t);if(n!==hd(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return R0(t).isEqual(R0(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=ud(s.timestampValue),l=ud(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return dd(s.bytesValue).isEqual(dd(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return xs(s.geoPointValue.latitude)===xs(i.geoPointValue.latitude)&&xs(s.geoPointValue.longitude)===xs(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return xs(s.integerValue)===xs(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=xs(s.doubleValue),l=xs(i.doubleValue);return o===l?j1(o)===j1(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Hm(t.arrayValue.values||[],e.arrayValue.values||[],Kl);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},l=i.mapValue.fields||{};if(vI(o)!==vI(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!Kl(o[u],l[u])))return!1;return!0}(t,e);default:return tn()}}function O0(t,e){return(t.values||[]).find(n=>Kl(n,e))!==void 0}function Gm(t,e){if(t===e)return 0;const n=hd(t),r=hd(e);if(n!==r)return Pn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pn(t.booleanValue,e.booleanValue);case 2:return function(i,o){const l=xs(i.integerValue||i.doubleValue),u=xs(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return xI(t.timestampValue,e.timestampValue);case 4:return xI(R0(t),R0(e));case 5:return Pn(t.stringValue,e.stringValue);case 6:return function(i,o){const l=dd(i),u=dd(o);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const l=i.split("/"),u=o.split("/");for(let h=0;h<l.length&&h<u.length;h++){const f=Pn(l[h],u[h]);if(f!==0)return f}return Pn(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const l=Pn(xs(i.latitude),xs(o.latitude));return l!==0?l:Pn(xs(i.longitude),xs(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return bI(t.arrayValue,e.arrayValue);case 10:return function(i,o){var l,u,h,f;const g=i.fields||{},p=o.fields||{},v=(l=g[S1])===null||l===void 0?void 0:l.arrayValue,w=(u=p[S1])===null||u===void 0?void 0:u.arrayValue,E=Pn(((h=v==null?void 0:v.values)===null||h===void 0?void 0:h.length)||0,((f=w==null?void 0:w.values)===null||f===void 0?void 0:f.length)||0);return E!==0?E:bI(v,w)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===dx.mapValue&&o===dx.mapValue)return 0;if(i===dx.mapValue)return 1;if(o===dx.mapValue)return-1;const l=i.fields||{},u=Object.keys(l),h=o.fields||{},f=Object.keys(h);u.sort(),f.sort();for(let g=0;g<u.length&&g<f.length;++g){const p=Pn(u[g],f[g]);if(p!==0)return p;const v=Gm(l[u[g]],h[f[g]]);if(v!==0)return v}return Pn(u.length,f.length)}(t.mapValue,e.mapValue);default:throw tn()}}function xI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Pn(t,e);const n=ud(t),r=ud(e),s=Pn(n.seconds,r.seconds);return s!==0?s:Pn(n.nanos,r.nanos)}function bI(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Gm(n[s],r[s]);if(i)return i}return Pn(n.length,r.length)}function Wm(t){return GC(t)}function GC(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ud(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return dd(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return $t.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=GC(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${GC(n.fields[o])}`;return s+"}"}(t.mapValue):tn()}function Zx(t){switch(hd(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Kb(t);return e?16+Zx(e):16;case 5:return 2*t.stringValue.length;case 6:return dd(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Zx(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return jd(r.fields,(i,o)=>{s+=i.length+Zx(o)}),s}(t.mapValue);default:throw tn()}}function WC(t){return!!t&&"integerValue"in t}function jA(t){return!!t&&"arrayValue"in t}function wI(t){return!!t&&"nullValue"in t}function _I(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function e1(t){return!!t&&"mapValue"in t}function fre(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[XB])===null||n===void 0?void 0:n.stringValue)===JB}function Xg(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return jd(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Xg(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xg(t.arrayValue.values[n]);return e}return Object.assign({},t)}function mre(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===hre}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e){this.value=e}static empty(){return new gi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!e1(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xg(n)}setAll(e){let n=ya.emptyPath(),r={},s=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=l.popLast()}o?r[l.lastSegment()]=Xg(o):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());e1(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Kl(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];e1(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){jd(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new gi(Xg(this.value))}}function QB(t){const e=[];return jd(t.fields,(n,r)=>{const s=new ya([n]);if(e1(r)){const i=QB(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new qi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e,n,r,s,i,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Pa(e,0,an.min(),an.min(),an.min(),gi.empty(),0)}static newFoundDocument(e,n,r,s){return new Pa(e,1,n,an.min(),r,s,0)}static newNoDocument(e,n){return new Pa(e,2,n,an.min(),an.min(),gi.empty(),0)}static newUnknownDocument(e,n){return new Pa(e,3,n,an.min(),an.min(),gi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(an.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=an.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Pa&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pa(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e,n){this.position=e,this.inclusive=n}}function jI(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=$t.comparator($t.fromName(o.referenceValue),n.key):r=Gm(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function EI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Kl(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e,n="asc"){this.field=e,this.dir=n}}function pre(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZB{}class Bs extends ZB{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new vre(e,n,r):n==="array-contains"?new bre(e,r):n==="in"?new wre(e,r):n==="not-in"?new _re(e,r):n==="array-contains-any"?new jre(e,r):new Bs(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new yre(e,r):new xre(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Gm(n,this.value)):n!==null&&hd(this.value)===hd(n)&&this.matchesComparison(Gm(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return tn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yl extends ZB{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Yl(e,n)}matches(e){return eU(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function eU(t){return t.op==="and"}function tU(t){return gre(t)&&eU(t)}function gre(t){for(const e of t.filters)if(e instanceof Yl)return!1;return!0}function KC(t){if(t instanceof Bs)return t.field.canonicalString()+t.op.toString()+Wm(t.value);if(tU(t))return t.filters.map(e=>KC(e)).join(",");{const e=t.filters.map(n=>KC(n)).join(",");return`${t.op}(${e})`}}function nU(t,e){return t instanceof Bs?function(r,s){return s instanceof Bs&&r.op===s.op&&r.field.isEqual(s.field)&&Kl(r.value,s.value)}(t,e):t instanceof Yl?function(r,s){return s instanceof Yl&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,l)=>i&&nU(o,s.filters[l]),!0):!1}(t,e):void tn()}function rU(t){return t instanceof Bs?function(n){return`${n.field.canonicalString()} ${n.op} ${Wm(n.value)}`}(t):t instanceof Yl?function(n){return n.op.toString()+" {"+n.getFilters().map(rU).join(" ,")+"}"}(t):"Filter"}class vre extends Bs{constructor(e,n,r){super(e,n,r),this.key=$t.fromName(r.referenceValue)}matches(e){const n=$t.comparator(e.key,this.key);return this.matchesComparison(n)}}class yre extends Bs{constructor(e,n){super(e,"in",n),this.keys=sU("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class xre extends Bs{constructor(e,n){super(e,"not-in",n),this.keys=sU("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function sU(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>$t.fromName(r.referenceValue))}class bre extends Bs{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return jA(n)&&O0(n.arrayValue,this.value)}}class wre extends Bs{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&O0(this.value.arrayValue,n)}}class _re extends Bs{constructor(e,n){super(e,"not-in",n)}matches(e){if(O0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!O0(this.value.arrayValue,n)}}class jre extends Bs{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!jA(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>O0(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ere{constructor(e,n=null,r=[],s=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.le=null}}function SI(t,e=null,n=[],r=[],s=null,i=null,o=null){return new Ere(t,e,n,r,s,i,o)}function EA(t){const e=un(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>KC(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Wb(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Wm(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Wm(r)).join(",")),e.le=n}return e.le}function SA(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!pre(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!nU(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!EI(t.startAt,e.startAt)&&EI(t.endAt,e.endAt)}function YC(t){return $t.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e,n=null,r=[],s=[],i=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=u,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function Sre(t,e,n,r,s,i,o,l){return new Yb(t,e,n,r,s,i,o,l)}function aU(t){return new Yb(t)}function CI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Cre(t){return t.collectionGroup!==null}function Jg(t){const e=un(t);if(e.he===null){e.he=[];const n=new Set;for(const i of e.explicitOrderBy)e.he.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new $s(ya.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.he.push(new N1(i,r))}),n.has(ya.keyField().canonicalString())||e.he.push(new N1(ya.keyField(),r))}return e.he}function zl(t){const e=un(t);return e.Pe||(e.Pe=Nre(e,Jg(t))),e.Pe}function Nre(t,e){if(t.limitType==="F")return SI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new N1(s.field,i)});const n=t.endAt?new C1(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new C1(t.startAt.position,t.startAt.inclusive):null;return SI(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function XC(t,e,n){return new Yb(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Xb(t,e){return SA(zl(t),zl(e))&&t.limitType===e.limitType}function iU(t){return`${EA(zl(t))}|lt:${t.limitType}`}function im(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>rU(s)).join(", ")}]`),Wb(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Wm(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Wm(s)).join(",")),`Target(${r})`}(zl(t))}; limitType=${t.limitType})`}function Jb(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):$t.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Jg(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,l,u){const h=jI(o,l,u);return o.inclusive?h<=0:h<0}(r.startAt,Jg(r),s)||r.endAt&&!function(o,l,u){const h=jI(o,l,u);return o.inclusive?h>=0:h>0}(r.endAt,Jg(r),s))}(t,e)}function Tre(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function oU(t){return(e,n)=>{let r=!1;for(const s of Jg(t)){const i=Are(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function Are(t,e,n){const r=t.field.isKeyField()?$t.comparator(e.key,n.key):function(i,o,l){const u=o.data.field(i),h=l.data.field(i);return u!==null&&h!==null?Gm(u,h):tn()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return tn()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){jd(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return VB(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lre=new Zr($t.comparator);function Wc(){return Lre}const lU=new Zr($t.comparator);function Mg(...t){let e=lU;for(const n of t)e=e.insert(n.key,n);return e}function cU(t){let e=lU;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ih(){return Qg()}function uU(){return Qg()}function Qg(){return new Uh(t=>t.toString(),(t,e)=>t.isEqual(e))}const Rre=new Zr($t.comparator),kre=new $s($t.comparator);function kn(...t){let e=kre;for(const n of t)e=e.add(n);return e}const Ore=new $s(Pn);function Ire(){return Ore}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:j1(e)?"-0":e}}function dU(t){return{integerValue:""+t}}function Pre(t,e){return ore(e)?dU(e):CA(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(){this._=void 0}}function Dre(t,e,n){return t instanceof T1?function(s,i){const o={fields:{[WB]:{stringValue:GB},[YB]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&_A(i)&&(i=Kb(i)),i&&(o.fields[KB]=i),{mapValue:o}}(n,e):t instanceof I0?fU(t,e):t instanceof P0?mU(t,e):function(s,i){const o=hU(s,i),l=NI(o)+NI(s.Ie);return WC(o)&&WC(s.Ie)?dU(l):CA(s.serializer,l)}(t,e)}function Mre(t,e,n){return t instanceof I0?fU(t,e):t instanceof P0?mU(t,e):n}function hU(t,e){return t instanceof A1?function(r){return WC(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class T1 extends Qb{}class I0 extends Qb{constructor(e){super(),this.elements=e}}function fU(t,e){const n=pU(e);for(const r of t.elements)n.some(s=>Kl(s,r))||n.push(r);return{arrayValue:{values:n}}}class P0 extends Qb{constructor(e){super(),this.elements=e}}function mU(t,e){let n=pU(e);for(const r of t.elements)n=n.filter(s=>!Kl(s,r));return{arrayValue:{values:n}}}class A1 extends Qb{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function NI(t){return xs(t.integerValue||t.doubleValue)}function pU(t){return jA(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Fre(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof I0&&s instanceof I0||r instanceof P0&&s instanceof P0?Hm(r.elements,s.elements,Kl):r instanceof A1&&s instanceof A1?Kl(r.Ie,s.Ie):r instanceof T1&&s instanceof T1}(t.transform,e.transform)}class Bre{constructor(e,n){this.version=e,this.transformResults=n}}class al{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new al}static exists(e){return new al(void 0,e)}static updateTime(e){return new al(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function t1(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Zb{}function gU(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new NA(t.key,al.none()):new _v(t.key,t.data,al.none());{const n=t.data,r=gi.empty();let s=new $s(ya.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Ed(t.key,r,new qi(s.toArray()),al.none())}}function Ure(t,e,n){t instanceof _v?function(s,i,o){const l=s.value.clone(),u=AI(s.fieldTransforms,i,o.transformResults);l.setAll(u),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Ed?function(s,i,o){if(!t1(s.precondition,i))return void i.convertToUnknownDocument(o.version);const l=AI(s.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(vU(s)),u.setAll(l),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Zg(t,e,n,r){return t instanceof _v?function(i,o,l,u){if(!t1(i.precondition,o))return l;const h=i.value.clone(),f=LI(i.fieldTransforms,u,o);return h.setAll(f),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ed?function(i,o,l,u){if(!t1(i.precondition,o))return l;const h=LI(i.fieldTransforms,u,o),f=o.data;return f.setAll(vU(i)),f.setAll(h),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(i,o,l){return t1(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function zre(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=hU(r.transform,s||null);i!=null&&(n===null&&(n=gi.empty()),n.set(r.field,i))}return n||null}function TI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Hm(r,s,(i,o)=>Fre(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class _v extends Zb{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ed extends Zb{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function vU(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function AI(t,e,n){const r=new Map;tr(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,l=e.data.field(i.field);r.set(i.field,Mre(o,l,n[s]))}return r}function LI(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,Dre(i,o,e))}return r}class NA extends Zb{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qre extends Zb{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $re{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&Ure(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Zg(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Zg(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=uU();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(s.key)?null:l;const u=gU(o,l);u!==null&&r.set(s.key,u),o.isValidDocument()||o.convertToNoDocument(an.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),kn())}isEqual(e){return this.batchId===e.batchId&&Hm(this.mutations,e.mutations,(n,r)=>TI(n,r))&&Hm(this.baseMutations,e.baseMutations,(n,r)=>TI(n,r))}}class TA{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){tr(e.mutations.length===r.length);let s=function(){return Rre}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new TA(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vre{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hre{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ts,Un;function Gre(t){switch(t){case it.OK:return tn();case it.CANCELLED:case it.UNKNOWN:case it.DEADLINE_EXCEEDED:case it.RESOURCE_EXHAUSTED:case it.INTERNAL:case it.UNAVAILABLE:case it.UNAUTHENTICATED:return!1;case it.INVALID_ARGUMENT:case it.NOT_FOUND:case it.ALREADY_EXISTS:case it.PERMISSION_DENIED:case it.FAILED_PRECONDITION:case it.ABORTED:case it.OUT_OF_RANGE:case it.UNIMPLEMENTED:case it.DATA_LOSS:return!0;default:return tn()}}function yU(t){if(t===void 0)return Gc("GRPC error has no .code"),it.UNKNOWN;switch(t){case Ts.OK:return it.OK;case Ts.CANCELLED:return it.CANCELLED;case Ts.UNKNOWN:return it.UNKNOWN;case Ts.DEADLINE_EXCEEDED:return it.DEADLINE_EXCEEDED;case Ts.RESOURCE_EXHAUSTED:return it.RESOURCE_EXHAUSTED;case Ts.INTERNAL:return it.INTERNAL;case Ts.UNAVAILABLE:return it.UNAVAILABLE;case Ts.UNAUTHENTICATED:return it.UNAUTHENTICATED;case Ts.INVALID_ARGUMENT:return it.INVALID_ARGUMENT;case Ts.NOT_FOUND:return it.NOT_FOUND;case Ts.ALREADY_EXISTS:return it.ALREADY_EXISTS;case Ts.PERMISSION_DENIED:return it.PERMISSION_DENIED;case Ts.FAILED_PRECONDITION:return it.FAILED_PRECONDITION;case Ts.ABORTED:return it.ABORTED;case Ts.OUT_OF_RANGE:return it.OUT_OF_RANGE;case Ts.UNIMPLEMENTED:return it.UNIMPLEMENTED;case Ts.DATA_LOSS:return it.DATA_LOSS;default:return tn()}}(Un=Ts||(Ts={}))[Un.OK=0]="OK",Un[Un.CANCELLED=1]="CANCELLED",Un[Un.UNKNOWN=2]="UNKNOWN",Un[Un.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Un[Un.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Un[Un.NOT_FOUND=5]="NOT_FOUND",Un[Un.ALREADY_EXISTS=6]="ALREADY_EXISTS",Un[Un.PERMISSION_DENIED=7]="PERMISSION_DENIED",Un[Un.UNAUTHENTICATED=16]="UNAUTHENTICATED",Un[Un.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Un[Un.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Un[Un.ABORTED=10]="ABORTED",Un[Un.OUT_OF_RANGE=11]="OUT_OF_RANGE",Un[Un.UNIMPLEMENTED=12]="UNIMPLEMENTED",Un[Un.INTERNAL=13]="INTERNAL",Un[Un.UNAVAILABLE=14]="UNAVAILABLE",Un[Un.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wre(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kre=new td([4294967295,4294967295],0);function RI(t){const e=Wre().encode(t),n=new PB;return n.update(e),new Uint8Array(n.digest())}function kI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new td([n,r],0),new td([s,i],0)]}class AA{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Fg(`Invalid padding: ${n}`);if(r<0)throw new Fg(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Fg(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Fg(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=td.fromNumber(this.Ee)}Ae(e,n,r){let s=e.add(n.multiply(td.fromNumber(r)));return s.compare(Kre)===1&&(s=new td([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=RI(e),[r,s]=kI(n);for(let i=0;i<this.hashCount;i++){const o=this.Ae(r,s,i);if(!this.Re(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new AA(i,s,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Ee===0)return;const n=RI(e),[r,s]=kI(n);for(let i=0;i<this.hashCount;i++){const o=this.Ae(r,s,i);this.Ve(o)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Fg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,jv.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ew(an.min(),s,new Zr(Pn),Wc(),kn())}}class jv{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new jv(r,n,kn(),kn(),kn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e,n,r,s){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=s}}class xU{constructor(e,n){this.targetId=e,this.ge=n}}class bU{constructor(e,n,r=ja.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class OI{constructor(){this.pe=0,this.ye=II(),this.we=ja.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=kn(),n=kn(),r=kn();return this.ye.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:tn()}}),new jv(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=II()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,tr(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class Yre{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Wc(),this.$e=hx(),this.Ke=hx(),this.Ue=new Zr(Pn)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:tn()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,s)=>{this.Je(s)&&n(s)})}Ze(e){const n=e.targetId,r=e.ge.count,s=this.Xe(n);if(s){const i=s.target;if(YC(i))if(r===0){const o=new $t(i.path);this.ze(n,o,Pa.newNoDocument(o,an.min()))}else tr(r===1);else{const o=this.et(n);if(o!==r){const l=this.tt(e),u=l?this.nt(l,e,o):1;if(u!==0){this.Ye(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,h)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,l;try{o=dd(r).toUint8Array()}catch(u){if(u instanceof HB)return Vm("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new AA(o,s,i)}catch(u){return Vm(u instanceof Fg?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Ee===0?null:l}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.ke.it(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.ze(n,i,null),s++)}),s}ot(e){const n=new Map;this.qe.forEach((i,o)=>{const l=this.Xe(o);if(l){if(i.current&&YC(l.target)){const u=new $t(l.target.path);this._t(u).has(o)||this.ut(o,u)||this.ze(o,u,Pa.newNoDocument(u,e))}i.ve&&(n.set(o,i.Fe()),i.Me())}});let r=kn();this.Ke.forEach((i,o)=>{let l=!0;o.forEachWhile(u=>{const h=this.Xe(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.Qe.forEach((i,o)=>o.setReadTime(e));const s=new ew(e,n,this.Ue,this.Qe,r);return this.Qe=Wc(),this.$e=hx(),this.Ke=hx(),this.Ue=new Zr(Pn),s}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const s=this.He(e);this.ut(e,n)?s.xe(n,1):s.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new OI,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new $s(Pn),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new $s(Pn),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||bt("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new OI),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function hx(){return new Zr($t.comparator)}function II(){return new Zr($t.comparator)}const Xre={asc:"ASCENDING",desc:"DESCENDING"},Jre={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Qre={and:"AND",or:"OR"};class Zre{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function JC(t,e){return t.useProto3Json||Wb(e)?e:{value:e}}function L1(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wU(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ese(t,e){return L1(t,e.toTimestamp())}function ql(t){return tr(!!t),an.fromTimestamp(function(n){const r=ud(n);return new qs(r.seconds,r.nanos)}(t))}function LA(t,e){return QC(t,e).canonicalString()}function QC(t,e){const n=function(s){return new Vr(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function _U(t){const e=Vr.fromString(t);return tr(NU(e)),e}function ZC(t,e){return LA(t.databaseId,e.path)}function mj(t,e){const n=_U(e);if(n.get(1)!==t.databaseId.projectId)throw new It(it.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new It(it.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new $t(EU(n))}function jU(t,e){return LA(t.databaseId,e)}function tse(t){const e=_U(t);return e.length===4?Vr.emptyPath():EU(e)}function eN(t){return new Vr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function EU(t){return tr(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function PI(t,e,n){return{name:ZC(t,e),fields:n.value.mapValue.fields}}function nse(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:tn()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(h,f){return h.useProto3Json?(tr(f===void 0||typeof f=="string"),ja.fromBase64String(f||"")):(tr(f===void 0||f instanceof Buffer||f instanceof Uint8Array),ja.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(h){const f=h.code===void 0?it.UNKNOWN:yU(h.code);return new It(f,h.message||"")}(o);n=new bU(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=mj(t,r.document.name),i=ql(r.document.updateTime),o=r.document.createTime?ql(r.document.createTime):an.min(),l=new gi({mapValue:{fields:r.document.fields}}),u=Pa.newFoundDocument(s,i,o,l),h=r.targetIds||[],f=r.removedTargetIds||[];n=new n1(h,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=mj(t,r.document),i=r.readTime?ql(r.readTime):an.min(),o=Pa.newNoDocument(s,i),l=r.removedTargetIds||[];n=new n1([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=mj(t,r.document),i=r.removedTargetIds||[];n=new n1([],i,s,null)}else{if(!("filter"in e))return tn();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new Hre(s,i),l=r.targetId;n=new xU(l,o)}}return n}function rse(t,e){let n;if(e instanceof _v)n={update:PI(t,e.key,e.value)};else if(e instanceof NA)n={delete:ZC(t,e.key)};else if(e instanceof Ed)n={update:PI(t,e.key,e.data),updateMask:hse(e.fieldMask)};else{if(!(e instanceof qre))return tn();n={verify:ZC(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const l=o.transform;if(l instanceof T1)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof I0)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof P0)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof A1)return{fieldPath:o.field.canonicalString(),increment:l.Ie};throw tn()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:ese(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:tn()}(t,e.precondition)),n}function sse(t,e){return t&&t.length>0?(tr(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?ql(s.updateTime):ql(i);return o.isEqual(an.min())&&(o=ql(i)),new Bre(o,s.transformResults||[])}(n,e))):[]}function ase(t,e){return{documents:[jU(t,e.path)]}}function ise(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=jU(t,s);const i=function(h){if(h.length!==0)return CU(Yl.create(h,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(h){if(h.length!==0)return h.map(f=>function(p){return{field:om(p.field),direction:cse(p.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=JC(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ht:n,parent:s}}function ose(t){let e=tse(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){tr(r===1);const f=n.from[0];f.allDescendants?s=f.collectionId:e=e.child(f.collectionId)}let i=[];n.where&&(i=function(g){const p=SU(g);return p instanceof Yl&&tU(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(g){return g.map(p=>function(w){return new N1(lm(w.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(p))}(n.orderBy));let l=null;n.limit&&(l=function(g){let p;return p=typeof g=="object"?g.value:g,Wb(p)?null:p}(n.limit));let u=null;n.startAt&&(u=function(g){const p=!!g.before,v=g.values||[];return new C1(v,p)}(n.startAt));let h=null;return n.endAt&&(h=function(g){const p=!g.before,v=g.values||[];return new C1(v,p)}(n.endAt)),Sre(e,s,o,i,l,"F",u,h)}function lse(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return tn()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function SU(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=lm(n.unaryFilter.field);return Bs.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=lm(n.unaryFilter.field);return Bs.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=lm(n.unaryFilter.field);return Bs.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=lm(n.unaryFilter.field);return Bs.create(o,"!=",{nullValue:"NULL_VALUE"});default:return tn()}}(t):t.fieldFilter!==void 0?function(n){return Bs.create(lm(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return tn()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Yl.create(n.compositeFilter.filters.map(r=>SU(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return tn()}}(n.compositeFilter.op))}(t):tn()}function cse(t){return Xre[t]}function use(t){return Jre[t]}function dse(t){return Qre[t]}function om(t){return{fieldPath:t.canonicalString()}}function lm(t){return ya.fromServerFormat(t.fieldPath)}function CU(t){return t instanceof Bs?function(n){if(n.op==="=="){if(_I(n.value))return{unaryFilter:{field:om(n.field),op:"IS_NAN"}};if(wI(n.value))return{unaryFilter:{field:om(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(_I(n.value))return{unaryFilter:{field:om(n.field),op:"IS_NOT_NAN"}};if(wI(n.value))return{unaryFilter:{field:om(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:om(n.field),op:use(n.op),value:n.value}}}(t):t instanceof Yl?function(n){const r=n.getFilters().map(s=>CU(s));return r.length===1?r[0]:{compositeFilter:{op:dse(n.op),filters:r}}}(t):tn()}function hse(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function NU(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,n,r,s,i=an.min(),o=an.min(),l=ja.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Hu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Hu(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fse{constructor(e){this.Tt=e}}function mse(t){const e=ose({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?XC(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pse{constructor(){this.Tn=new gse}addToCollectionParentIndex(e,n){return this.Tn.add(n),Je.resolve()}getCollectionParents(e,n){return Je.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return Je.resolve()}deleteFieldIndex(e,n){return Je.resolve()}deleteAllFieldIndexes(e){return Je.resolve()}createTargetIndexes(e,n){return Je.resolve()}getDocumentsMatchingTarget(e,n){return Je.resolve(null)}getIndexType(e,n){return Je.resolve(0)}getFieldIndexes(e,n){return Je.resolve([])}getNextCollectionGroupToUpdate(e){return Je.resolve(null)}getMinOffset(e,n){return Je.resolve(cd.min())}getMinOffsetFromCollectionGroup(e,n){return Je.resolve(cd.min())}updateCollectionGroup(e,n,r){return Je.resolve()}updateIndexEntries(e,n){return Je.resolve()}}class gse{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new $s(Vr.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new $s(Vr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},TU=41943040;class pi{static withCacheSize(e){return new pi(e,pi.DEFAULT_COLLECTION_PERCENTILE,pi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pi.DEFAULT_COLLECTION_PERCENTILE=10,pi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pi.DEFAULT=new pi(TU,pi.DEFAULT_COLLECTION_PERCENTILE,pi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pi.DISABLED=new pi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Km(0)}static Un(){return new Km(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI="LruGarbageCollector",vse=1048576;function FI([t,e],[n,r]){const s=Pn(t,n);return s===0?Pn(e,r):s}class yse{constructor(e){this.Hn=e,this.buffer=new $s(FI),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();FI(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class xse{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){bt(MI,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){mp(n)?bt(MI,"Ignoring IndexedDB error during garbage collection: ",n):await fp(n)}await this.er(3e5)})}}class bse{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Je.resolve(Gb.ae);const r=new yse(n);return this.tr.forEachTarget(e,s=>r.Zn(s.sequenceNumber)).next(()=>this.tr.rr(e,s=>r.Zn(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(bt("LruGarbageCollector","Garbage collection skipped; disabled"),Je.resolve(DI)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(bt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),DI):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,s,i,o,l,u,h;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(bt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),s=this.params.maximumSequenceNumbersToCollect):s=g,o=Date.now(),this.nthSequenceNumber(e,s))).next(g=>(r=g,l=Date.now(),this.removeTargets(e,r,n))).next(g=>(i=g,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(h=Date.now(),am()<=Rn.DEBUG&&bt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${s} in `+(l-o)+`ms
	Removed ${i} targets in `+(u-l)+`ms
	Removed ${g} documents in `+(h-u)+`ms
Total Duration: ${h-f}ms`),Je.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:g})))}}function wse(t,e){return new bse(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _se{constructor(){this.changes=new Uh(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Pa.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Je.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jse{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ese{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Zg(r.mutation,s,qi.empty(),qs.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,kn()).next(()=>r))}getLocalViewOfDocuments(e,n,r=kn()){const s=ih();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Mg();return i.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ih();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,kn()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,s){let i=Wc();const o=Qg(),l=function(){return Qg()}();return n.forEach((u,h)=>{const f=r.get(h.key);s.has(h.key)&&(f===void 0||f.mutation instanceof Ed)?i=i.insert(h.key,h):f!==void 0?(o.set(h.key,f.mutation.getFieldMask()),Zg(f.mutation,h,f.mutation.getFieldMask(),qs.now())):o.set(h.key,qi.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((h,f)=>o.set(h,f)),n.forEach((h,f)=>{var g;return l.set(h,new jse(f,(g=o.get(h))!==null&&g!==void 0?g:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Qg();let s=new Zr((o,l)=>o-l),i=kn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let f=r.get(u)||qi.empty();f=l.applyToLocalView(h,f),r.set(u,f);const g=(s.get(l.batchId)||kn()).add(u);s=s.insert(l.batchId,g)})}).next(()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),h=u.key,f=u.value,g=uU();f.forEach(p=>{if(!i.has(p)){const v=gU(n.get(p),r.get(p));v!==null&&g.set(p,v),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,g))}return Je.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return $t.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Cre(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):Je.resolve(ih());let l=L0,u=i;return o.next(h=>Je.forEach(h,(f,g)=>(l<g.largestBatchId&&(l=g.largestBatchId),i.get(f)?Je.resolve():this.remoteDocumentCache.getEntry(e,f).next(p=>{u=u.insert(f,p)}))).next(()=>this.populateOverlays(e,h,i)).next(()=>this.computeViews(e,u,h,kn())).next(f=>({batchId:l,changes:cU(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new $t(n)).next(r=>{let s=Mg();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Mg();return this.indexManager.getCollectionParents(e,i).next(l=>Je.forEach(l,u=>{const h=function(g,p){return new Yb(p,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,h,r,s).next(f=>{f.forEach((g,p)=>{o=o.insert(g,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((u,h)=>{const f=h.getKey();o.get(f)===null&&(o=o.insert(f,Pa.newInvalidDocument(f)))});let l=Mg();return o.forEach((u,h)=>{const f=i.get(u);f!==void 0&&Zg(f.mutation,h,qi.empty(),qs.now()),Jb(n,h)&&(l=l.insert(u,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sse{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return Je.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:ql(s.createTime)}}(n)),Je.resolve()}getNamedQuery(e,n){return Je.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(s){return{name:s.name,query:mse(s.bundledQuery),readTime:ql(s.readTime)}}(n)),Je.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cse{constructor(){this.overlays=new Zr($t.comparator),this.Rr=new Map}getOverlay(e,n){return Je.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ih();return Je.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.Et(e,n,i)}),Je.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Rr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Rr.delete(r)),Je.resolve()}getOverlaysForCollection(e,n,r){const s=ih(),i=n.length+1,o=new $t(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return Je.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Zr((h,f)=>h-f);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let f=i.get(h.largestBatchId);f===null&&(f=ih(),i=i.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}const l=ih(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,f)=>l.set(h,f)),!(l.size()>=s)););return Je.resolve(l)}Et(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Rr.get(s.largestBatchId).delete(r.key);this.Rr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Vre(n,r));let i=this.Rr.get(n);i===void 0&&(i=kn(),this.Rr.set(n,i)),this.Rr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nse{constructor(){this.sessionToken=ja.EMPTY_BYTE_STRING}getSessionToken(e){return Je.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Je.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(){this.Vr=new $s(Xs.mr),this.gr=new $s(Xs.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new Xs(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new Xs(e,n))}Sr(e,n){e.forEach(r=>this.removeReference(r,n))}br(e){const n=new $t(new Vr([])),r=new Xs(n,e),s=new Xs(n,e+1),i=[];return this.gr.forEachInRange([r,s],o=>{this.wr(o),i.push(o.key)}),i}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new $t(new Vr([])),r=new Xs(n,e),s=new Xs(n,e+1);let i=kn();return this.gr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Xs(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Xs{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return $t.comparator(e.key,n.key)||Pn(e.Cr,n.Cr)}static pr(e,n){return Pn(e.Cr,n.Cr)||$t.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tse{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new $s(Xs.mr)}checkEmpty(e){return Je.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new $re(i,n,r,s);this.mutationQueue.push(o);for(const l of s)this.Mr=this.Mr.add(new Xs(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return Je.resolve(o)}lookupMutationBatch(e,n){return Je.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Nr(r),i=s<0?0:s;return Je.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Je.resolve(this.mutationQueue.length===0?wA:this.Fr-1)}getAllMutationBatches(e){return Je.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Xs(n,0),s=new Xs(n,Number.POSITIVE_INFINITY),i=[];return this.Mr.forEachInRange([r,s],o=>{const l=this.Or(o.Cr);i.push(l)}),Je.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new $s(Pn);return n.forEach(s=>{const i=new Xs(s,0),o=new Xs(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([i,o],l=>{r=r.add(l.Cr)})}),Je.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;$t.isDocumentKey(i)||(i=i.child(""));const o=new Xs(new $t(i),0);let l=new $s(Pn);return this.Mr.forEachWhile(u=>{const h=u.key.path;return!!r.isPrefixOf(h)&&(h.length===s&&(l=l.add(u.Cr)),!0)},o),Je.resolve(this.Br(l))}Br(e){const n=[];return e.forEach(r=>{const s=this.Or(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){tr(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return Je.forEach(n.mutations,s=>{const i=new Xs(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new Xs(n,0),s=this.Mr.firstAfterOrEqual(r);return Je.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Je.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ase{constructor(e){this.kr=e,this.docs=function(){return new Zr($t.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Je.resolve(r?r.document.mutableCopy():Pa.newInvalidDocument(n))}getEntries(e,n){let r=Wc();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Pa.newInvalidDocument(s))}),Je.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Wc();const o=n.path,l=new $t(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:h,value:{document:f}}=u.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||rre(nre(f),r)<=0||(s.has(f.key)||Jb(n,f))&&(i=i.insert(f.key,f.mutableCopy()))}return Je.resolve(i)}getAllFromCollectionGroup(e,n,r,s){tn()}qr(e,n){return Je.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Lse(this)}getSize(e){return Je.resolve(this.size)}}class Lse extends _se{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(r)}),Je.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rse{constructor(e){this.persistence=e,this.Qr=new Uh(n=>EA(n),SA),this.lastRemoteSnapshotVersion=an.min(),this.highestTargetId=0,this.$r=0,this.Kr=new RA,this.targetCount=0,this.Ur=Km.Kn()}forEachTarget(e,n){return this.Qr.forEach((r,s)=>n(s)),Je.resolve()}getLastRemoteSnapshotVersion(e){return Je.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Je.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),Je.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),Je.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new Km(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,Je.resolve()}updateTargetData(e,n){return this.zn(n),Je.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.br(n.targetId),this.targetCount-=1,Je.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Qr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Qr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),Je.waitFor(i).next(()=>s)}getTargetCount(e){return Je.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return Je.resolve(r)}addMatchingKeys(e,n,r){return this.Kr.yr(n,r),Je.resolve()}removeMatchingKeys(e,n,r){this.Kr.Sr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),Je.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Kr.br(n),Je.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Kr.vr(n);return Je.resolve(r)}containsKey(e,n){return Je.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Gb(0),this.zr=!1,this.zr=!0,this.jr=new Nse,this.referenceDelegate=e(this),this.Hr=new Rse(this),this.indexManager=new pse,this.remoteDocumentCache=function(s){return new Ase(s)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new fse(n),this.Yr=new Sse(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Cse,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new Tse(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){bt("MemoryPersistence","Starting transaction:",e);const s=new kse(this.Gr.next());return this.referenceDelegate.Zr(),r(s).next(i=>this.referenceDelegate.Xr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}ei(e,n){return Je.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class kse extends are{constructor(e){super(),this.currentSequenceNumber=e}}class kA{constructor(e){this.persistence=e,this.ti=new RA,this.ni=null}static ri(e){return new kA(e)}get ii(){if(this.ni)return this.ni;throw tn()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),Je.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),Je.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),Je.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(s=>this.ii.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.ii.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Je.forEach(this.ii,r=>{const s=$t.fromPath(r);return this.si(e,s).next(i=>{i||n.removeEntry(s,an.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return Je.or([()=>Je.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class R1{constructor(e,n){this.persistence=e,this.oi=new Uh(r=>lre(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=wse(this,n)}static ri(e,n){return new R1(e,n)}Zr(){}Xr(e){return Je.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return Je.forEach(this.oi,(r,s)=>this.ar(e,r,s).next(i=>i?Je.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.qr(e,o=>this.ar(e,o,n).next(l=>{l||(r++,i.removeEntry(o,an.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),Je.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),Je.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),Je.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),Je.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Zx(e.data.value)),n}ar(e,n,r){return Je.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.oi.get(n);return Je.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=s}static Yi(e,n){let r=kn(),s=kn();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new OA(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ose{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ise{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Nte()?8:ire(Ua())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.rs(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ss(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new Ose;return this._s(e,n,o).next(l=>{if(i.result=l,this.Xi)return this.us(e,n,o,l.size)})}).next(()=>i.result)}us(e,n,r,s){return r.documentReadCount<this.es?(am()<=Rn.DEBUG&&bt("QueryEngine","SDK will not create cache indexes for query:",im(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Je.resolve()):(am()<=Rn.DEBUG&&bt("QueryEngine","Query:",im(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ts*s?(am()<=Rn.DEBUG&&bt("QueryEngine","The SDK decides to create cache indexes for query:",im(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zl(n))):Je.resolve())}rs(e,n){if(CI(n))return Je.resolve(null);let r=zl(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=XC(n,null,"F"),r=zl(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=kn(...i);return this.ns.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const h=this.cs(n,l);return this.ls(n,h,o,u.readTime)?this.rs(e,XC(n,null,"F")):this.hs(e,h,n,u)}))})))}ss(e,n,r,s){return CI(n)||s.isEqual(an.min())?Je.resolve(null):this.ns.getDocuments(e,r).next(i=>{const o=this.cs(n,i);return this.ls(n,o,r,s)?Je.resolve(null):(am()<=Rn.DEBUG&&bt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),im(n)),this.hs(e,o,n,tre(s,L0)).next(l=>l))})}cs(e,n){let r=new $s(oU(e));return n.forEach((s,i)=>{Jb(e,i)&&(r=r.add(i))}),r}ls(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}_s(e,n,r){return am()<=Rn.DEBUG&&bt("QueryEngine","Using full collection scan to execute query:",im(n)),this.ns.getDocumentsMatchingQuery(e,n,cd.min(),r)}hs(e,n,r,s){return this.ns.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA="LocalStore",Pse=3e8;class Dse{constructor(e,n,r,s){this.persistence=e,this.Ps=n,this.serializer=s,this.Ts=new Zr(Pn),this.Is=new Uh(i=>EA(i),SA),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ese(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function Mse(t,e,n,r){return new Dse(t,e,n,r)}async function LU(t,e){const n=un(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],l=[];let u=kn();for(const h of s){o.push(h.batchId);for(const f of h.mutations)u=u.add(f.key)}for(const h of i){l.push(h.batchId);for(const f of h.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(h=>({Rs:h,removedBatchIds:o,addedBatchIds:l}))})})}function Fse(t,e){const n=un(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.ds.newChangeBuffer({trackRemovals:!0});return function(l,u,h,f){const g=h.batch,p=g.keys();let v=Je.resolve();return p.forEach(w=>{v=v.next(()=>f.getEntry(u,w)).next(E=>{const S=h.docVersions.get(w);tr(S!==null),E.version.compareTo(S)<0&&(g.applyToRemoteDocument(E,h),E.isValidDocument()&&(E.setReadTime(h.commitVersion),f.addEntry(E)))})}),v.next(()=>l.mutationQueue.removeMutationBatch(u,g))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=kn();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(u=u.add(l.batch.mutations[h].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function RU(t){const e=un(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function Bse(t,e){const n=un(t),r=e.snapshotVersion;let s=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.ds.newChangeBuffer({trackRemovals:!0});s=n.Ts;const l=[];e.targetChanges.forEach((f,g)=>{const p=s.get(g);if(!p)return;l.push(n.Hr.removeMatchingKeys(i,f.removedDocuments,g).next(()=>n.Hr.addMatchingKeys(i,f.addedDocuments,g)));let v=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(g)!==null?v=v.withResumeToken(ja.EMPTY_BYTE_STRING,an.min()).withLastLimboFreeSnapshotVersion(an.min()):f.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(f.resumeToken,r)),s=s.insert(g,v),function(E,S,C){return E.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=Pse?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(p,v,f)&&l.push(n.Hr.updateTargetData(i,v))});let u=Wc(),h=kn();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,f))}),l.push(Use(i,o,e.documentUpdates).next(f=>{u=f.Vs,h=f.fs})),!r.isEqual(an.min())){const f=n.Hr.getLastRemoteSnapshotVersion(i).next(g=>n.Hr.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(f)}return Je.waitFor(l).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,h)).next(()=>u)}).then(i=>(n.Ts=s,i))}function Use(t,e,n){let r=kn(),s=kn();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Wc();return n.forEach((l,u)=>{const h=i.get(l);u.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(l)),u.isNoDocument()&&u.version.isEqual(an.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):bt(IA,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",u.version)}),{Vs:o,fs:s}})}function zse(t,e){const n=un(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=wA),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function qse(t,e){const n=un(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Hr.getTargetData(r,e).next(i=>i?(s=i,Je.resolve(s)):n.Hr.allocateTargetId(r).next(o=>(s=new Hu(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ts.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function tN(t,e,n){const r=un(t),s=r.Ts.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!mp(o))throw o;bt(IA,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ts=r.Ts.remove(e),r.Is.delete(s.target)}function BI(t,e,n){const r=un(t);let s=an.min(),i=kn();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,h,f){const g=un(u),p=g.Is.get(f);return p!==void 0?Je.resolve(g.Ts.get(p)):g.Hr.getTargetData(h,f)}(r,o,zl(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(o,l.targetId).next(u=>{i=u})}).next(()=>r.Ps.getDocumentsMatchingQuery(o,e,n?s:an.min(),n?i:kn())).next(l=>($se(r,Tre(e),l),{documents:l,gs:i})))}function $se(t,e,n){let r=t.Es.get(e)||an.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Es.set(e,r)}class UI{constructor(){this.activeTargetIds=Ire()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Vse{constructor(){this.ho=new UI,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new UI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hse{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI="ConnectivityMonitor";class qI{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){bt(zI,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){bt(zI,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fx=null;function nN(){return fx===null?fx=function(){return 268435456+Math.round(2147483648*Math.random())}():fx++,"0x"+fx.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj="RestConnection",Gse={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Wse{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${s}`,this.wo=this.databaseId.database===E1?`project_id=${r}`:`project_id=${r}&database_id=${s}`}So(e,n,r,s,i){const o=nN(),l=this.bo(e,n.toUriEncodedString());bt(pj,`Sending RPC '${e}' ${o}:`,l,r);const u={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(u,s,i),this.vo(e,l,u,r).then(h=>(bt(pj,`Received RPC '${e}' ${o}: `,h),h),h=>{throw Vm(pj,`RPC '${e}' ${o} failed with error: `,h,"url: ",l,"request:",r),h})}Co(e,n,r,s,i,o){return this.So(e,n,r,s,i)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+hp}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}bo(e,n){const r=Gse[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kse{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka="WebChannelConnection";class Yse extends Wse{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,s){const i=nN();return new Promise((o,l)=>{const u=new DB;u.setWithCredentials(!0),u.listenOnce(MB.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Qx.NO_ERROR:const f=u.getResponseJson();bt(ka,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(f)),o(f);break;case Qx.TIMEOUT:bt(ka,`RPC '${e}' ${i} timed out`),l(new It(it.DEADLINE_EXCEEDED,"Request time out"));break;case Qx.HTTP_ERROR:const g=u.getStatus();if(bt(ka,`RPC '${e}' ${i} failed with status:`,g,"response text:",u.getResponseText()),g>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const v=p==null?void 0:p.error;if(v&&v.status&&v.message){const w=function(S){const C=S.toLowerCase().replace(/_/g,"-");return Object.values(it).indexOf(C)>=0?C:it.UNKNOWN}(v.status);l(new It(w,v.message))}else l(new It(it.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new It(it.UNAVAILABLE,"Connection failed."));break;default:tn()}}finally{bt(ka,`RPC '${e}' ${i} completed.`)}});const h=JSON.stringify(s);bt(ka,`RPC '${e}' ${i} sending request:`,s),u.send(n,"POST",h,r,15)})}Wo(e,n,r){const s=nN(),i=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=UB(),l=BB(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Do(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=i.join("");bt(ka,`Creating RPC '${e}' stream ${s}: ${f}`,u);const g=o.createWebChannel(f,u);let p=!1,v=!1;const w=new Kse({Fo:S=>{v?bt(ka,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(p||(bt(ka,`Opening RPC '${e}' stream ${s} transport.`),g.open(),p=!0),bt(ka,`RPC '${e}' stream ${s} sending:`,S),g.send(S))},Mo:()=>g.close()}),E=(S,C,O)=>{S.listen(C,I=>{try{O(I)}catch(D){setTimeout(()=>{throw D},0)}})};return E(g,Dg.EventType.OPEN,()=>{v||(bt(ka,`RPC '${e}' stream ${s} transport opened.`),w.Qo())}),E(g,Dg.EventType.CLOSE,()=>{v||(v=!0,bt(ka,`RPC '${e}' stream ${s} transport closed`),w.Ko())}),E(g,Dg.EventType.ERROR,S=>{v||(v=!0,Vm(ka,`RPC '${e}' stream ${s} transport errored:`,S),w.Ko(new It(it.UNAVAILABLE,"The operation could not be completed")))}),E(g,Dg.EventType.MESSAGE,S=>{var C;if(!v){const O=S.data[0];tr(!!O);const I=O,D=(I==null?void 0:I.error)||((C=I[0])===null||C===void 0?void 0:C.error);if(D){bt(ka,`RPC '${e}' stream ${s} received error:`,D);const T=D.status;let F=function(_){const L=Ts[_];if(L!==void 0)return yU(L)}(T),y=D.message;F===void 0&&(F=it.INTERNAL,y="Unknown error status: "+T+" with message "+D.message),v=!0,w.Ko(new It(F,y)),g.close()}else bt(ka,`RPC '${e}' stream ${s} received:`,O),w.Uo(O)}}),E(l,FB.STAT_EVENT,S=>{S.stat===HC.PROXY?bt(ka,`RPC '${e}' stream ${s} detected buffering proxy`):S.stat===HC.NOPROXY&&bt(ka,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{w.$o()},0),w}}function gj(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(t){return new Zre(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=s,this.jo=i,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),s=Math.max(0,n-r);s>0&&bt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I="PersistentStream";class OU{constructor(e,n,r,s,i,o,l,u){this.Ti=e,this.n_=r,this.r_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new kU(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===it.RESOURCE_EXHAUSTED?(Gc(n.toString()),Gc("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===it.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.i_===n&&this.V_(r,s)},r=>{e(()=>{const s=new It(it.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(s)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{r(()=>this.m_(s))}),this.stream.onMessage(s=>{r(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return bt($I,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(bt($I,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Xse extends OU{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=nse(this.serializer,e),r=function(i){if(!("targetChange"in i))return an.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?an.min():o.readTime?ql(o.readTime):an.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=eN(this.serializer),n.addTarget=function(i,o){let l;const u=o.target;if(l=YC(u)?{documents:ase(i,u)}:{query:ise(i,u).ht},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=wU(i,o.resumeToken);const h=JC(i,o.expectedCount);h!==null&&(l.expectedCount=h)}else if(o.snapshotVersion.compareTo(an.min())>0){l.readTime=L1(i,o.snapshotVersion.toTimestamp());const h=JC(i,o.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const r=lse(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=eN(this.serializer),n.removeTarget=e,this.I_(n)}}class Jse extends OU{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return tr(!!e.streamToken),this.lastStreamToken=e.streamToken,tr(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){tr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=sse(e.writeResults,e.commitTime),r=ql(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=eN(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>rse(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qse{}class Zse extends Qse{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new It(it.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.So(e,QC(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new It(it.UNKNOWN,i.toString())})}Co(e,n,r,s,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Co(e,QC(n,r),s,o,l,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new It(it.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class eae{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Gc(n),this.N_=!1):bt("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh="RemoteStore";class tae{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=i,this.z_.To(o=>{r.enqueueAndForget(async()=>{zh(this)&&(bt(yh,"Restarting streams for network reachability change."),await async function(u){const h=un(u);h.W_.add(4),await Ev(h),h.j_.set("Unknown"),h.W_.delete(4),await nw(h)}(this))})}),this.j_=new eae(r,s)}}async function nw(t){if(zh(t))for(const e of t.G_)await e(!0)}async function Ev(t){for(const e of t.G_)await e(!1)}function IU(t,e){const n=un(t);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),FA(n)?MA(n):pp(n).c_()&&DA(n,e))}function PA(t,e){const n=un(t),r=pp(n);n.U_.delete(e),r.c_()&&PU(n,e),n.U_.size===0&&(r.c_()?r.P_():zh(n)&&n.j_.set("Unknown"))}function DA(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(an.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}pp(t).y_(e)}function PU(t,e){t.H_.Ne(e),pp(t).w_(e)}function MA(t){t.H_=new Yre({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.U_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),pp(t).start(),t.j_.B_()}function FA(t){return zh(t)&&!pp(t).u_()&&t.U_.size>0}function zh(t){return un(t).W_.size===0}function DU(t){t.H_=void 0}async function nae(t){t.j_.set("Online")}async function rae(t){t.U_.forEach((e,n)=>{DA(t,e)})}async function sae(t,e){DU(t),FA(t)?(t.j_.q_(e),MA(t)):t.j_.set("Unknown")}async function aae(t,e,n){if(t.j_.set("Online"),e instanceof bU&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const l of i.targetIds)s.U_.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.U_.delete(l),s.H_.removeTarget(l))}(t,e)}catch(r){bt(yh,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await k1(t,r)}else if(e instanceof n1?t.H_.We(e):e instanceof xU?t.H_.Ze(e):t.H_.je(e),!n.isEqual(an.min()))try{const r=await RU(t.localStore);n.compareTo(r)>=0&&await function(i,o){const l=i.H_.ot(o);return l.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const f=i.U_.get(h);f&&i.U_.set(h,f.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,h)=>{const f=i.U_.get(u);if(!f)return;i.U_.set(u,f.withResumeToken(ja.EMPTY_BYTE_STRING,f.snapshotVersion)),PU(i,u);const g=new Hu(f.target,u,h,f.sequenceNumber);DA(i,g)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){bt(yh,"Failed to raise snapshot:",r),await k1(t,r)}}async function k1(t,e,n){if(!mp(e))throw e;t.W_.add(1),await Ev(t),t.j_.set("Offline"),n||(n=()=>RU(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{bt(yh,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await nw(t)})}function MU(t,e){return e().catch(n=>k1(t,n,e))}async function rw(t){const e=un(t),n=fd(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:wA;for(;iae(e);)try{const s=await zse(e.localStore,r);if(s===null){e.K_.length===0&&n.P_();break}r=s.batchId,oae(e,s)}catch(s){await k1(e,s)}FU(e)&&BU(e)}function iae(t){return zh(t)&&t.K_.length<10}function oae(t,e){t.K_.push(e);const n=fd(t);n.c_()&&n.S_&&n.b_(e.mutations)}function FU(t){return zh(t)&&!fd(t).u_()&&t.K_.length>0}function BU(t){fd(t).start()}async function lae(t){fd(t).C_()}async function cae(t){const e=fd(t);for(const n of t.K_)e.b_(n.mutations)}async function uae(t,e,n){const r=t.K_.shift(),s=TA.from(r,e,n);await MU(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await rw(t)}async function dae(t,e){e&&fd(t).S_&&await async function(r,s){if(function(o){return Gre(o)&&o!==it.ABORTED}(s.code)){const i=r.K_.shift();fd(r).h_(),await MU(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await rw(r)}}(t,e),FU(t)&&BU(t)}async function VI(t,e){const n=un(t);n.asyncQueue.verifyOperationInProgress(),bt(yh,"RemoteStore received new credentials");const r=zh(n);n.W_.add(3),await Ev(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await nw(n)}async function hae(t,e){const n=un(t);e?(n.W_.delete(2),await nw(n)):e||(n.W_.add(2),await Ev(n),n.j_.set("Unknown"))}function pp(t){return t.J_||(t.J_=function(n,r,s){const i=un(n);return i.M_(),new Xse(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{xo:nae.bind(null,t),No:rae.bind(null,t),Lo:sae.bind(null,t),p_:aae.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),FA(t)?MA(t):t.j_.set("Unknown")):(await t.J_.stop(),DU(t))})),t.J_}function fd(t){return t.Y_||(t.Y_=function(n,r,s){const i=un(n);return i.M_(),new Jse(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:lae.bind(null,t),Lo:dae.bind(null,t),D_:cae.bind(null,t),v_:uae.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await rw(t)):(await t.Y_.stop(),t.K_.length>0&&(bt(yh,`Stopping write stream with ${t.K_.length} pending writes`),t.K_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new nd,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,l=new BA(e,n,o,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new It(it.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function UA(t,e){if(Gc("AsyncQueue",`${e}: ${t}`),mp(t))return new It(it.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{static emptySet(e){return new Em(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||$t.comparator(n.key,r.key):(n,r)=>$t.comparator(n.key,r.key),this.keyedMap=Mg(),this.sortedSet=new Zr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Em)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Em;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(){this.Z_=new Zr($t.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):tn():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ym{constructor(e,n,r,s,i,o,l,u,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new Ym(e,n,Em.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fae{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class mae{constructor(){this.queries=GI(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const s=un(n),i=s.queries;s.queries=GI(),i.forEach((o,l)=>{for(const u of l.ta)u.onError(r)})})(this,new It(it.ABORTED,"Firestore shutting down"))}}function GI(){return new Uh(t=>iU(t),Xb)}async function pae(t,e){const n=un(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.na()&&e.ra()&&(r=2):(i=new fae,r=e.ra()?0:1);try{switch(r){case 0:i.ea=await n.onListen(s,!0);break;case 1:i.ea=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const l=UA(o,`Initialization of query '${im(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.ta.push(e),e.sa(n.onlineState),i.ea&&e.oa(i.ea)&&zA(n)}async function gae(t,e){const n=un(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.ta.indexOf(e);o>=0&&(i.ta.splice(o,1),i.ta.length===0?s=e.ra()?0:1:!i.na()&&e.ra()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function vae(t,e){const n=un(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const l of o.ta)l.oa(s)&&(r=!0);o.ea=s}}r&&zA(n)}function yae(t,e,n){const r=un(t),s=r.queries.get(e);if(s)for(const i of s.ta)i.onError(n);r.queries.delete(e)}function zA(t){t.ia.forEach(e=>{e.next()})}var rN,WI;(WI=rN||(rN={}))._a="default",WI.Cache="cache";class xae{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ym(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Ym.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==rN.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{constructor(e){this.key=e}}class zU{constructor(e){this.key=e}}class bae{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=kn(),this.mutatedKeys=kn(),this.ya=oU(e),this.wa=new Em(this.ya)}get Sa(){return this.fa}ba(e,n){const r=n?n.Da:new HI,s=n?n.wa:this.wa;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,l=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((f,g)=>{const p=s.get(f),v=Jb(this.query,g)?g:null,w=!!p&&this.mutatedKeys.has(p.key),E=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let S=!1;p&&v?p.data.isEqual(v.data)?w!==E&&(r.track({type:3,doc:v}),S=!0):this.va(p,v)||(r.track({type:2,doc:v}),S=!0,(u&&this.ya(v,u)>0||h&&this.ya(v,h)<0)&&(l=!0)):!p&&v?(r.track({type:0,doc:v}),S=!0):p&&!v&&(r.track({type:1,doc:p}),S=!0,(u||h)&&(l=!0)),S&&(v?(o=o.add(v),i=E?i.add(f):i.delete(f)):(o=o.delete(f),i=i.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),i=i.delete(f.key),r.track({type:1,doc:f})}return{wa:o,Da:r,ls:l,mutatedKeys:i}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort((f,g)=>function(v,w){const E=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tn()}};return E(v)-E(w)}(f.type,g.type)||this.ya(f.doc,g.doc)),this.Ca(r),s=s!=null&&s;const l=n&&!s?this.Fa():[],u=this.pa.size===0&&this.current&&!s?1:0,h=u!==this.ga;return this.ga=u,o.length!==0||h?{snapshot:new Ym(this.query,e.wa,i,o,e.mutatedKeys,u===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:l}:{Ma:l}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new HI,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=kn(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new zU(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new UU(r))}),n}Oa(e){this.fa=e.gs,this.pa=kn();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return Ym.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const qA="SyncEngine";class wae{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class _ae{constructor(e){this.key=e,this.Ba=!1}}class jae{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new Uh(l=>iU(l),Xb),this.qa=new Map,this.Qa=new Set,this.$a=new Zr($t.comparator),this.Ka=new Map,this.Ua=new RA,this.Wa={},this.Ga=new Map,this.za=Km.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function Eae(t,e,n=!0){const r=WU(t);let s;const i=r.ka.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Na()):s=await qU(r,e,n,!0),s}async function Sae(t,e){const n=WU(t);await qU(n,e,!0,!1)}async function qU(t,e,n,r){const s=await qse(t.localStore,zl(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await Cae(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&IU(t.remoteStore,s),l}async function Cae(t,e,n,r,s){t.Ha=(g,p,v)=>async function(E,S,C,O){let I=S.view.ba(C);I.ls&&(I=await BI(E.localStore,S.query,!1).then(({documents:y})=>S.view.ba(y,I)));const D=O&&O.targetChanges.get(S.targetId),T=O&&O.targetMismatches.get(S.targetId)!=null,F=S.view.applyChanges(I,E.isPrimaryClient,D,T);return YI(E,S.targetId,F.Ma),F.snapshot}(t,g,p,v);const i=await BI(t.localStore,e,!0),o=new bae(e,i.gs),l=o.ba(i.documents),u=jv.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),h=o.applyChanges(l,t.isPrimaryClient,u);YI(t,n,h.Ma);const f=new wae(e,n,o);return t.ka.set(e,f),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),h.snapshot}async function Nae(t,e,n){const r=un(t),s=r.ka.get(e),i=r.qa.get(s.targetId);if(i.length>1)return r.qa.set(s.targetId,i.filter(o=>!Xb(o,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await tN(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&PA(r.remoteStore,s.targetId),sN(r,s.targetId)}).catch(fp)):(sN(r,s.targetId),await tN(r.localStore,s.targetId,!0))}async function Tae(t,e){const n=un(t),r=n.ka.get(e),s=n.qa.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),PA(n.remoteStore,r.targetId))}async function Aae(t,e,n){const r=Dae(t);try{const s=await function(o,l){const u=un(o),h=qs.now(),f=l.reduce((v,w)=>v.add(w.key),kn());let g,p;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let w=Wc(),E=kn();return u.ds.getEntries(v,f).next(S=>{w=S,w.forEach((C,O)=>{O.isValidDocument()||(E=E.add(C))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,w)).next(S=>{g=S;const C=[];for(const O of l){const I=zre(O,g.get(O.key).overlayedDocument);I!=null&&C.push(new Ed(O.key,I,QB(I.value.mapValue),al.exists(!0)))}return u.mutationQueue.addMutationBatch(v,h,C,l)}).next(S=>{p=S;const C=S.applyToLocalDocumentSet(g,E);return u.documentOverlayCache.saveOverlays(v,S.batchId,C)})}).then(()=>({batchId:p.batchId,changes:cU(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,l,u){let h=o.Wa[o.currentUser.toKey()];h||(h=new Zr(Pn)),h=h.insert(l,u),o.Wa[o.currentUser.toKey()]=h}(r,s.batchId,n),await Sv(r,s.changes),await rw(r.remoteStore)}catch(s){const i=UA(s,"Failed to persist write");n.reject(i)}}async function $U(t,e){const n=un(t);try{const r=await Bse(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Ka.get(i);o&&(tr(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Ba=!0:s.modifiedDocuments.size>0?tr(o.Ba):s.removedDocuments.size>0&&(tr(o.Ba),o.Ba=!1))}),await Sv(n,r,e)}catch(r){await fp(r)}}function KI(t,e,n){const r=un(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ka.forEach((i,o)=>{const l=o.view.sa(e);l.snapshot&&s.push(l.snapshot)}),function(o,l){const u=un(o);u.onlineState=l;let h=!1;u.queries.forEach((f,g)=>{for(const p of g.ta)p.sa(l)&&(h=!0)}),h&&zA(u)}(r.eventManager,e),s.length&&r.La.p_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Lae(t,e,n){const r=un(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Ka.get(e),i=s&&s.key;if(i){let o=new Zr($t.comparator);o=o.insert(i,Pa.newNoDocument(i,an.min()));const l=kn().add(i),u=new ew(an.min(),new Map,new Zr(Pn),o,l);await $U(r,u),r.$a=r.$a.remove(i),r.Ka.delete(e),$A(r)}else await tN(r.localStore,e,!1).then(()=>sN(r,e,n)).catch(fp)}async function Rae(t,e){const n=un(t),r=e.batch.batchId;try{const s=await Fse(n.localStore,e);HU(n,r,null),VU(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Sv(n,s)}catch(s){await fp(s)}}async function kae(t,e,n){const r=un(t);try{const s=await function(o,l){const u=un(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let f;return u.mutationQueue.lookupMutationBatch(h,l).next(g=>(tr(g!==null),f=g.keys(),u.mutationQueue.removeMutationBatch(h,g))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,f,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,f)).next(()=>u.localDocuments.getDocuments(h,f))})}(r.localStore,e);HU(r,e,n),VU(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Sv(r,s)}catch(s){await fp(s)}}function VU(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function HU(t,e,n){const r=un(t);let s=r.Wa[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Wa[r.currentUser.toKey()]=s}}function sN(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ua.br(e).forEach(r=>{t.Ua.containsKey(r)||GU(t,r)})}function GU(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(PA(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ka.delete(n),$A(t))}function YI(t,e,n){for(const r of n)r instanceof UU?(t.Ua.addReference(r.key,e),Oae(t,r)):r instanceof zU?(bt(qA,"Document no longer in limbo: "+r.key),t.Ua.removeReference(r.key,e),t.Ua.containsKey(r.key)||GU(t,r.key)):tn()}function Oae(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(bt(qA,"New document in limbo: "+n),t.Qa.add(r),$A(t))}function $A(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new $t(Vr.fromString(e)),r=t.za.next();t.Ka.set(r,new _ae(n)),t.$a=t.$a.insert(n,r),IU(t.remoteStore,new Hu(zl(aU(n.path)),r,"TargetPurposeLimboResolution",Gb.ae))}}async function Sv(t,e,n){const r=un(t),s=[],i=[],o=[];r.ka.isEmpty()||(r.ka.forEach((l,u)=>{o.push(r.Ha(u,e,n).then(h=>{var f;if((h||n)&&r.isPrimaryClient){const g=h?!h.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(h){s.push(h);const g=OA.Yi(u.targetId,h);i.push(g)}}))}),await Promise.all(o),r.La.p_(s),await async function(u,h){const f=un(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>Je.forEach(h,p=>Je.forEach(p.Hi,v=>f.persistence.referenceDelegate.addReference(g,p.targetId,v)).next(()=>Je.forEach(p.Ji,v=>f.persistence.referenceDelegate.removeReference(g,p.targetId,v)))))}catch(g){if(!mp(g))throw g;bt(IA,"Failed to update sequence numbers: "+g)}for(const g of h){const p=g.targetId;if(!g.fromCache){const v=f.Ts.get(p),w=v.snapshotVersion,E=v.withLastLimboFreeSnapshotVersion(w);f.Ts=f.Ts.insert(p,E)}}}(r.localStore,i))}async function Iae(t,e){const n=un(t);if(!n.currentUser.isEqual(e)){bt(qA,"User change. New user:",e.toKey());const r=await LU(n.localStore,e);n.currentUser=e,function(i,o){i.Ga.forEach(l=>{l.forEach(u=>{u.reject(new It(it.CANCELLED,o))})}),i.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Sv(n,r.Rs)}}function Pae(t,e){const n=un(t),r=n.Ka.get(e);if(r&&r.Ba)return kn().add(r.key);{let s=kn();const i=n.qa.get(e);if(!i)return s;for(const o of i){const l=n.ka.get(o);s=s.unionWith(l.view.Sa)}return s}}function WU(t){const e=un(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=$U.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Pae.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Lae.bind(null,e),e.La.p_=vae.bind(null,e.eventManager),e.La.Ja=yae.bind(null,e.eventManager),e}function Dae(t){const e=un(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Rae.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kae.bind(null,e),e}class O1{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=tw(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return Mse(this.persistence,new Ise,e.initialUser,this.serializer)}Xa(e){return new AU(kA.ri,this.serializer)}Za(e){return new Vse}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}O1.provider={build:()=>new O1};class Mae extends O1{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){tr(this.persistence.referenceDelegate instanceof R1);const r=this.persistence.referenceDelegate.garbageCollector;return new xse(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?pi.withCacheSize(this.cacheSizeBytes):pi.DEFAULT;return new AU(r=>R1.ri(r,n),this.serializer)}}class aN{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>KI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Iae.bind(null,this.syncEngine),await hae(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new mae}()}createDatastore(e){const n=tw(e.databaseInfo.databaseId),r=function(i){return new Yse(i)}(e.databaseInfo);return function(i,o,l,u){return new Zse(i,o,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,l){return new tae(r,s,i,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>KI(this.syncEngine,n,0),function(){return qI.D()?new qI:new Hse}())}createSyncEngine(e,n){return function(s,i,o,l,u,h,f){const g=new jae(s,i,o,l,u,h);return f&&(g.ja=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=un(s);bt(yh,"RemoteStore shutting down."),i.W_.add(5),await Ev(i),i.z_.shutdown(),i.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}aN.provider={build:()=>new aN};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fae{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Gc("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md="FirestoreClient";class Bae{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Ia.UNAUTHENTICATED,this.clientId=qB.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{bt(md,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(bt(md,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new nd;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=UA(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function vj(t,e){t.asyncQueue.verifyOperationInProgress(),bt(md,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await LU(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function XI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Uae(t);bt(md,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>VI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>VI(e.remoteStore,s)),t._onlineComponents=e}async function Uae(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){bt(md,"Using user provided OfflineComponentProvider");try{await vj(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===it.FAILED_PRECONDITION||s.code===it.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Vm("Error using user provided cache. Falling back to memory cache: "+n),await vj(t,new O1)}}else bt(md,"Using default OfflineComponentProvider"),await vj(t,new Mae(void 0));return t._offlineComponents}async function KU(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(bt(md,"Using user provided OnlineComponentProvider"),await XI(t,t._uninitializedComponentsProvider._online)):(bt(md,"Using default OnlineComponentProvider"),await XI(t,new aN))),t._onlineComponents}function zae(t){return KU(t).then(e=>e.syncEngine)}async function qae(t){const e=await KU(t),n=e.eventManager;return n.onListen=Eae.bind(null,e.syncEngine),n.onUnlisten=Nae.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Sae.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Tae.bind(null,e.syncEngine),n}function $ae(t,e,n={}){const r=new nd;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,u,h){const f=new Fae({next:p=>{f.su(),o.enqueueAndForget(()=>gae(i,g)),p.fromCache&&u.source==="server"?h.reject(new It(it.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(p)},error:p=>h.reject(p)}),g=new xae(l,f,{includeMetadataChanges:!0,Ta:!0});return pae(i,g)}(await qae(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YU(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XU(t,e,n){if(!n)throw new It(it.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Vae(t,e,n,r){if(e===!0&&r===!0)throw new It(it.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function QI(t){if(!$t.isDocumentKey(t))throw new It(it.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ZI(t){if($t.isDocumentKey(t))throw new It(it.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function VA(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":tn()}function xh(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new It(it.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=VA(t);throw new It(it.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JU="firestore.googleapis.com",eP=!0;class tP{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new It(it.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=JU,this.ssl=eP}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:eP;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=TU;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<vse)throw new It(it.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Vae("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YU((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new It(it.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new It(it.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new It(it.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sw{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tP({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new It(it.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new It(it.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tP(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Wne;switch(r.type){case"firstParty":return new Jne(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new It(it.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=JI.get(n);r&&(bt("ComponentProvider","Removing Datastore"),JI.delete(n),r.terminate())}(this),Promise.resolve()}}function Hae(t,e,n,r={}){var s;const i=(t=xh(t,sw))._getSettings(),o=`${e}:${n}`;if(i.host!==JU&&i.host!==o&&Vm("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=Ia.MOCK_USER;else{l=SB(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new It(it.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ia(h)}t._authCredentials=new Kne(new zB(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new aw(this.firestore,e,this._query)}}class To{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new To(this.firestore,e,this._key)}}class rd extends aw{constructor(e,n,r){super(e,n,aU(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new To(this.firestore,null,new $t(e))}withConverter(e){return new rd(this.firestore,e,this._path)}}function Ft(t,e,...n){if(t=ds(t),XU("collection","path",e),t instanceof sw){const r=Vr.fromString(e,...n);return ZI(r),new rd(t,null,r)}{if(!(t instanceof To||t instanceof rd))throw new It(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Vr.fromString(e,...n));return ZI(r),new rd(t.firestore,null,r)}}function gt(t,e,...n){if(t=ds(t),arguments.length===1&&(e=qB.newId()),XU("doc","path",e),t instanceof sw){const r=Vr.fromString(e,...n);return QI(r),new To(t,null,new $t(r))}{if(!(t instanceof To||t instanceof rd))throw new It(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Vr.fromString(e,...n));return QI(r),new To(t.firestore,t instanceof rd?t.converter:null,new $t(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP="AsyncQueue";class rP{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new kU(this,"async_queue_retry"),this.Su=()=>{const r=gj();r&&bt(nP,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=gj();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=gj();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new nd;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!mp(e))throw e;bt(nP,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const s=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw Gc("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const s=BA.createAndSchedule(this,e,n,r,i=>this.Fu(i));return this.fu.push(s),s}Du(){this.gu&&tn()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class Cv extends sw{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new rP,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new rP(e),this._firestoreClient=void 0,await e}}}function Gae(t,e){const n=typeof t=="object"?t:Hb(),r=typeof t=="string"?t:E1,s=_d(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=_B("firestore");i&&Hae(s,...i)}return s}function QU(t){if(t._terminated)throw new It(it.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Wae(t),t._firestoreClient}function Wae(t){var e,n,r;const s=t._freezeSettings(),i=function(l,u,h,f){return new dre(l,u,h,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,YU(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new Bae(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xm(ja.fromBase64String(e))}catch(n){throw new It(it.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xm(ja.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new It(it.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ya(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new It(it.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new It(it.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pn(this._lat,e._lat)||Pn(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kae=/^__.*__$/;class Yae{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ed(e,this.data,this.fieldMask,n,this.fieldTransforms):new _v(e,this.data,n,this.fieldTransforms)}}class ZU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ed(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ez(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tn()}}class KA{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Bu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new KA(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ku({path:r,Qu:!1});return s.$u(e),s}Ku(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ku({path:r,Qu:!1});return s.Bu(),s}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return I1(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(ez(this.Lu)&&Kae.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Xae{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||tw(e)}ju(e,n,r,s=!1){return new KA({Lu:e,methodName:n,zu:r,path:ya.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tz(t){const e=t._freezeSettings(),n=tw(t._databaseId);return new Xae(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Jae(t,e,n,r,s,i={}){const o=t.ju(i.merge||i.mergeFields?2:0,e,n,s);YA("Data must be an object, but it was:",o,r);const l=nz(r,o);let u,h;if(i.merge)u=new qi(o.fieldMask),h=o.fieldTransforms;else if(i.mergeFields){const f=[];for(const g of i.mergeFields){const p=iN(e,g,n);if(!o.contains(p))throw new It(it.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);sz(f,p)||f.push(p)}u=new qi(f),h=o.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,h=o.fieldTransforms;return new Yae(new gi(l),u,h)}class ow extends HA{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ow}}function Qae(t,e,n,r){const s=t.ju(1,e,n);YA("Data must be an object, but it was:",s,r);const i=[],o=gi.empty();jd(r,(u,h)=>{const f=XA(e,u,n);h=ds(h);const g=s.Ku(f);if(h instanceof ow)i.push(f);else{const p=lw(h,g);p!=null&&(i.push(f),o.set(f,p))}});const l=new qi(i);return new ZU(o,l,s.fieldTransforms)}function Zae(t,e,n,r,s,i){const o=t.ju(1,e,n),l=[iN(e,r,n)],u=[s];if(i.length%2!=0)throw new It(it.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)l.push(iN(e,i[p])),u.push(i[p+1]);const h=[],f=gi.empty();for(let p=l.length-1;p>=0;--p)if(!sz(h,l[p])){const v=l[p];let w=u[p];w=ds(w);const E=o.Ku(v);if(w instanceof ow)h.push(v);else{const S=lw(w,E);S!=null&&(h.push(v),f.set(v,S))}}const g=new qi(h);return new ZU(f,g,o.fieldTransforms)}function lw(t,e){if(rz(t=ds(t)))return YA("Unsupported field value:",e,t),nz(t,e);if(t instanceof HA)return function(r,s){if(!ez(s.Lu))throw s.Wu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const l of r){let u=lw(l,s.Uu(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=ds(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Pre(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=qs.fromDate(r);return{timestampValue:L1(s.serializer,i)}}if(r instanceof qs){const i=new qs(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:L1(s.serializer,i)}}if(r instanceof GA)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Xm)return{bytesValue:wU(s.serializer,r._byteString)};if(r instanceof To){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:LA(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof WA)return function(o,l){return{mapValue:{fields:{[XB]:{stringValue:JB},[S1]:{arrayValue:{values:o.toArray().map(h=>{if(typeof h!="number")throw l.Wu("VectorValues must only contain numeric values.");return CA(l.serializer,h)})}}}}}}(r,s);throw s.Wu(`Unsupported field value: ${VA(r)}`)}(t,e)}function nz(t,e){const n={};return VB(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):jd(t,(r,s)=>{const i=lw(s,e.qu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function rz(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof qs||t instanceof GA||t instanceof Xm||t instanceof To||t instanceof HA||t instanceof WA)}function YA(t,e,n){if(!rz(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=VA(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function iN(t,e,n){if((e=ds(e))instanceof iw)return e._internalPath;if(typeof e=="string")return XA(t,e);throw I1("Field path arguments must be of type string or ",t,!1,void 0,n)}const eie=new RegExp("[~\\*/\\[\\]]");function XA(t,e,n){if(e.search(eie)>=0)throw I1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new iw(...e.split("."))._internalPath}catch{throw I1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function I1(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${r}`),o&&(u+=` in document ${s}`),u+=")"),new It(it.INVALID_ARGUMENT,l+t+u)}function sz(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class az{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new To(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new tie(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(iz("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class tie extends az{data(){return super.data()}}function iz(t,e){return typeof e=="string"?XA(t,e):e instanceof iw?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nie(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new It(it.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rie{convertValue(e,n="none"){switch(hd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xs(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(dd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw tn()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return jd(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[S1].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>xs(o.doubleValue));return new WA(i)}convertGeoPoint(e){return new GA(xs(e.latitude),xs(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Kb(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(R0(e));default:return null}}convertTimestamp(e){const n=ud(e);return new qs(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Vr.fromString(e);tr(NU(r));const s=new k0(r.get(1),r.get(3)),i=new $t(r.popFirst(5));return s.isEqual(n)||Gc(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sie(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class aie extends az{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new r1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(iz("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class r1 extends aie{data(e={}){return super.data(e)}}class iie{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new mx(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new r1(this._firestore,this._userDataWriter,r.key,r,new mx(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new It(it.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(l=>{const u=new r1(s._firestore,s._userDataWriter,l.doc.key,l.doc,new mx(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const u=new r1(s._firestore,s._userDataWriter,l.doc.key,l.doc,new mx(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,f=-1;return l.type!==0&&(h=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),f=o.indexOf(l.doc.key)),{type:oie(l.type),doc:u,oldIndex:h,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function oie(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tn()}}class lie extends rie{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xm(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new To(this.firestore,null,n)}}function ur(t){t=xh(t,aw);const e=xh(t.firestore,Cv),n=QU(e),r=new lie(e);return nie(t._query),$ae(n,t._query).then(s=>new iie(e,r,t,s))}function rn(t,e,n,...r){t=xh(t,To);const s=xh(t.firestore,Cv),i=tz(s);let o;return o=typeof(e=ds(e))=="string"||e instanceof iw?Zae(i,"updateDoc",t._key,e,n,r):Qae(i,"updateDoc",t._key,e),JA(s,[o.toMutation(t._key,al.exists(!0))])}function kr(t){return JA(xh(t.firestore,Cv),[new NA(t._key,al.none())])}function Or(t,e){const n=xh(t.firestore,Cv),r=gt(t),s=sie(t.converter,e);return JA(n,[Jae(tz(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,al.exists(!1))]).then(()=>r)}function JA(t,e){return function(r,s){const i=new nd;return r.asyncQueue.enqueueAndForget(async()=>Aae(await zae(r),s,i)),i.promise}(QU(t),e)}(function(e,n=!0){(function(s){hp=s})(Bh),ll(new ko("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),l=new Cv(new Yne(r.getProvider("auth-internal")),new Qne(o,r.getProvider("app-check-internal")),function(h,f){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new It(it.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new k0(h.options.projectId,f)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),xi(uI,dI,e),xi(uI,dI,"esm2017")})();var cie="firebase",uie="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xi(cie,uie,"app");const oz="@firebase/installations",QA="0.6.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lz=1e4,cz=`w:${QA}`,uz="FIS_v2",die="https://firebaseinstallations.googleapis.com/v1",hie=60*60*1e3,fie="installations",mie="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pie={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},bh=new Fh(fie,mie,pie);function dz(t){return t instanceof Po&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hz({projectId:t}){return`${die}/projects/${t}/installations`}function fz(t){return{token:t.token,requestStatus:2,expiresIn:vie(t.expiresIn),creationTime:Date.now()}}async function mz(t,e){const r=(await e.json()).error;return bh.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function pz({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function gie(t,{refreshToken:e}){const n=pz(t);return n.append("Authorization",yie(e)),n}async function gz(t){const e=await t();return e.status>=500&&e.status<600?t():e}function vie(t){return Number(t.replace("s","000"))}function yie(t){return`${uz} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xie({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=hz(t),s=pz(t),i=e.getImmediate({optional:!0});if(i){const h=await i.getHeartbeatsHeader();h&&s.append("x-firebase-client",h)}const o={fid:n,authVersion:uz,appId:t.appId,sdkVersion:cz},l={method:"POST",headers:s,body:JSON.stringify(o)},u=await gz(()=>fetch(r,l));if(u.ok){const h=await u.json();return{fid:h.fid||n,registrationStatus:2,refreshToken:h.refreshToken,authToken:fz(h.authToken)}}else throw await mz("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vz(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bie(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wie=/^[cdef][\w-]{21}$/,oN="";function _ie(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=jie(t);return wie.test(n)?n:oN}catch{return oN}}function jie(t){return bie(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yz=new Map;function xz(t,e){const n=cw(t);bz(n,e),Eie(n,e)}function bz(t,e){const n=yz.get(t);if(n)for(const r of n)r(e)}function Eie(t,e){const n=Sie();n&&n.postMessage({key:t,fid:e}),Cie()}let oh=null;function Sie(){return!oh&&"BroadcastChannel"in self&&(oh=new BroadcastChannel("[Firebase] FID Change"),oh.onmessage=t=>{bz(t.data.key,t.data.fid)}),oh}function Cie(){yz.size===0&&oh&&(oh.close(),oh=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nie="firebase-installations-database",Tie=1,wh="firebase-installations-store";let yj=null;function ZA(){return yj||(yj=RB(Nie,Tie,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(wh)}}})),yj}async function P1(t,e){const n=cw(t),s=(await ZA()).transaction(wh,"readwrite"),i=s.objectStore(wh),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&xz(t,e.fid),e}async function wz(t){const e=cw(t),r=(await ZA()).transaction(wh,"readwrite");await r.objectStore(wh).delete(e),await r.done}async function uw(t,e){const n=cw(t),s=(await ZA()).transaction(wh,"readwrite"),i=s.objectStore(wh),o=await i.get(n),l=e(o);return l===void 0?await i.delete(n):await i.put(l,n),await s.done,l&&(!o||o.fid!==l.fid)&&xz(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e3(t){let e;const n=await uw(t.appConfig,r=>{const s=Aie(r),i=Lie(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===oN?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Aie(t){const e=t||{fid:_ie(),registrationStatus:0};return _z(e)}function Lie(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(bh.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Rie(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:kie(t)}:{installationEntry:e}}async function Rie(t,e){try{const n=await xie(t,e);return P1(t.appConfig,n)}catch(n){throw dz(n)&&n.customData.serverCode===409?await wz(t.appConfig):await P1(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function kie(t){let e=await sP(t.appConfig);for(;e.registrationStatus===1;)await vz(100),e=await sP(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await e3(t);return r||n}return e}function sP(t){return uw(t,e=>{if(!e)throw bh.create("installation-not-found");return _z(e)})}function _z(t){return Oie(t)?{fid:t.fid,registrationStatus:0}:t}function Oie(t){return t.registrationStatus===1&&t.registrationTime+lz<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iie({appConfig:t,heartbeatServiceProvider:e},n){const r=Pie(t,n),s=gie(t,n),i=e.getImmediate({optional:!0});if(i){const h=await i.getHeartbeatsHeader();h&&s.append("x-firebase-client",h)}const o={installation:{sdkVersion:cz,appId:t.appId}},l={method:"POST",headers:s,body:JSON.stringify(o)},u=await gz(()=>fetch(r,l));if(u.ok){const h=await u.json();return fz(h)}else throw await mz("Generate Auth Token",u)}function Pie(t,{fid:e}){return`${hz(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t3(t,e=!1){let n;const r=await uw(t.appConfig,i=>{if(!jz(i))throw bh.create("not-registered");const o=i.authToken;if(!e&&Fie(o))return i;if(o.requestStatus===1)return n=Die(t,e),i;{if(!navigator.onLine)throw bh.create("app-offline");const l=Uie(i);return n=Mie(t,l),l}});return n?await n:r.authToken}async function Die(t,e){let n=await aP(t.appConfig);for(;n.authToken.requestStatus===1;)await vz(100),n=await aP(t.appConfig);const r=n.authToken;return r.requestStatus===0?t3(t,e):r}function aP(t){return uw(t,e=>{if(!jz(e))throw bh.create("not-registered");const n=e.authToken;return zie(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function Mie(t,e){try{const n=await Iie(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await P1(t.appConfig,r),n}catch(n){if(dz(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await wz(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await P1(t.appConfig,r)}throw n}}function jz(t){return t!==void 0&&t.registrationStatus===2}function Fie(t){return t.requestStatus===2&&!Bie(t)}function Bie(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+hie}function Uie(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function zie(t){return t.requestStatus===1&&t.requestTime+lz<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qie(t){const e=t,{installationEntry:n,registrationPromise:r}=await e3(e);return r?r.catch(console.error):t3(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $ie(t,e=!1){const n=t;return await Vie(n),(await t3(n,e)).token}async function Vie(t){const{registrationPromise:e}=await e3(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hie(t){if(!t||!t.options)throw xj("App Configuration");if(!t.name)throw xj("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw xj(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function xj(t){return bh.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ez="installations",Gie="installations-internal",Wie=t=>{const e=t.getProvider("app").getImmediate(),n=Hie(e),r=_d(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Kie=t=>{const e=t.getProvider("app").getImmediate(),n=_d(e,Ez).getImmediate();return{getId:()=>qie(n),getToken:s=>$ie(n,s)}};function Yie(){ll(new ko(Ez,Wie,"PUBLIC")),ll(new ko(Gie,Kie,"PRIVATE"))}Yie();xi(oz,QA);xi(oz,QA,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="analytics",Xie="firebase_id",Jie="origin",Qie=60*1e3,Zie="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",n3="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi=new Vb("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eoe={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Gi=new Fh("analytics","Analytics",eoe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function toe(t){if(!t.startsWith(n3)){const e=Gi.create("invalid-gtag-resource",{gtagURL:t});return bi.warn(e.message),""}return t}function Sz(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function noe(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function roe(t,e){const n=noe("firebase-js-sdk-policy",{createScriptURL:toe}),r=document.createElement("script"),s=`${n3}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function soe(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function aoe(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const u=(await Sz(n)).find(h=>h.measurementId===s);u&&await e[u.appId]}}catch(l){bi.error(l)}t("config",s,i)}async function ioe(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const l=await Sz(n);for(const u of o){const h=l.find(g=>g.measurementId===u),f=h&&e[h.appId];if(f)i.push(f);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){bi.error(i)}}function ooe(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[l,u]=o;await ioe(t,e,n,l,u)}else if(i==="config"){const[l,u]=o;await aoe(t,e,n,r,l,u)}else if(i==="consent"){const[l,u]=o;t("consent",l,u)}else if(i==="get"){const[l,u,h]=o;t("get",l,u,h)}else if(i==="set"){const[l]=o;t("set",l)}else t(i,...o)}catch(l){bi.error(l)}}return s}function loe(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=ooe(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function coe(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(n3)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uoe=30,doe=1e3;class hoe{constructor(e={},n=doe){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Cz=new hoe;function foe(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function moe(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:foe(r)},i=Zie.replace("{app-id}",n),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let l="";try{const u=await o.json();!((e=u.error)===null||e===void 0)&&e.message&&(l=u.error.message)}catch{}throw Gi.create("config-fetch-failed",{httpStatus:o.status,responseMessage:l})}return o.json()}async function poe(t,e=Cz,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw Gi.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw Gi.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new yoe;return setTimeout(async()=>{l.abort()},Qie),Nz({appId:r,apiKey:s,measurementId:i},o,l,e)}async function Nz(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=Cz){var i;const{appId:o,measurementId:l}=t;try{await goe(r,e)}catch(u){if(l)return bi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:l};throw u}try{const u=await moe(t);return s.deleteThrottleMetadata(o),u}catch(u){const h=u;if(!voe(h)){if(s.deleteThrottleMetadata(o),l)return bi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:o,measurementId:l};throw u}const f=Number((i=h==null?void 0:h.customData)===null||i===void 0?void 0:i.httpStatus)===503?eI(n,s.intervalMillis,uoe):eI(n,s.intervalMillis),g={throttleEndTimeMillis:Date.now()+f,backoffCount:n+1};return s.setThrottleMetadata(o,g),bi.debug(`Calling attemptFetch again in ${f} millis`),Nz(t,g,r,s)}}function goe(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(Gi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function voe(t){if(!(t instanceof Po)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class yoe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function xoe(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o=Object.assign(Object.assign({},r),{send_to:i});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function boe(){if(NB())try{await TB()}catch(t){return bi.warn(Gi.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return bi.warn(Gi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function woe(t,e,n,r,s,i,o){var l;const u=poe(t);u.then(v=>{n[v.measurementId]=v.appId,t.options.measurementId&&v.measurementId!==t.options.measurementId&&bi.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${v.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(v=>bi.error(v)),e.push(u);const h=boe().then(v=>{if(v)return r.getId()}),[f,g]=await Promise.all([u,h]);coe(i)||roe(i,f.measurementId),s("js",new Date);const p=(l=o==null?void 0:o.config)!==null&&l!==void 0?l:{};return p[Jie]="firebase",p.update=!0,g!=null&&(p[Xie]=g),s("config",f.measurementId,p),f.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _oe{constructor(e){this.app=e}_delete(){return delete e0[this.app.options.appId],Promise.resolve()}}let e0={},iP=[];const oP={};let bj="dataLayer",joe="gtag",lP,Tz,cP=!1;function Eoe(){const t=[];if(CB()&&t.push("This is a browser extension environment."),Tte()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=Gi.create("invalid-analytics-context",{errorInfo:e});bi.warn(n.message)}}function Soe(t,e,n){Eoe();const r=t.options.appId;if(!r)throw Gi.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)bi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Gi.create("no-api-key");if(e0[r]!=null)throw Gi.create("already-exists",{id:r});if(!cP){soe(bj);const{wrappedGtag:i,gtagCore:o}=loe(e0,iP,oP,bj,joe);Tz=i,lP=o,cP=!0}return e0[r]=woe(t,iP,oP,e,lP,bj,n),new _oe(t)}function Coe(t=Hb()){t=ds(t);const e=_d(t,D1);return e.isInitialized()?e.getImmediate():Noe(t)}function Noe(t,e={}){const n=_d(t,D1);if(n.isInitialized()){const s=n.getImmediate();if(T0(e,n.getOptions()))return s;throw Gi.create("already-initialized")}return n.initialize({options:e})}function Toe(t,e,n,r){t=ds(t),xoe(Tz,e0[t.app.options.appId],e,n,r).catch(s=>bi.error(s))}const uP="@firebase/analytics",dP="0.10.11";function Aoe(){ll(new ko(D1,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return Soe(r,s,n)},"PUBLIC")),ll(new ko("analytics-internal",t,"PRIVATE")),xi(uP,dP),xi(uP,dP,"esm2017");function t(e){try{const n=e.getProvider(D1).getImmediate();return{logEvent:(r,s,i)=>Toe(n,r,s,i)}}catch(n){throw Gi.create("interop-component-reg-failed",{reason:n})}}}Aoe();function r3(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function qh(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(f){try{h(r.next(f))}catch(g){o(g)}}function u(f){try{h(r.throw(f))}catch(g){o(g)}}function h(f){f.done?i(f.value):s(f.value).then(l,u)}h((r=r.apply(t,e||[])).next())})}function Az(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Loe=Az,Lz=new Fh("auth","Firebase",Az());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1=new Vb("@firebase/auth");function Roe(t,...e){M1.logLevel<=Rn.WARN&&M1.warn(`Auth (${Bh}): ${t}`,...e)}function s1(t,...e){M1.logLevel<=Rn.ERROR&&M1.error(`Auth (${Bh}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(t,...e){throw s3(t,...e)}function $l(t,...e){return s3(t,...e)}function Rz(t,e,n){const r=Object.assign(Object.assign({},Loe()),{[e]:n});return new Fh("auth","Firebase",r).create(e,{appName:t.name})}function uh(t){return Rz(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function s3(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Lz.create(t,...e)}function sn(t,e,...n){if(!t)throw s3(e,...n)}function Ic(t){const e="INTERNAL ASSERTION FAILED: "+t;throw s1(e),new Error(e)}function Yc(t,e){t||Ic(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function koe(){return hP()==="http:"||hP()==="https:"}function hP(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ooe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(koe()||CB()||"connection"in navigator)?navigator.onLine:!0}function Ioe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e,n){this.shortDelay=e,this.longDelay=n,Yc(n>e,"Short delay should be less than long delay!"),this.isMobile=_te()||Ste()}get(){return Ooe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a3(t,e){Yc(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kz{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ic("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ic("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ic("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Poe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Doe=new Nv(3e4,6e4);function i3(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function gp(t,e,n,r,s={}){return Oz(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const l=wv(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:u},i);return Ete()||(h.referrerPolicy="no-referrer"),kz.fetch()(Iz(t,t.config.apiHost,n,l),h)})}async function Oz(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Poe),e);try{const s=new Foe(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw px(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const l=i.ok?o.errorMessage:o.error.message,[u,h]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw px(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw px(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw px(t,"user-disabled",o);const f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw Rz(t,f,h);Kc(t,f)}}catch(s){if(s instanceof Po)throw s;Kc(t,"network-request-failed",{message:String(s)})}}async function Moe(t,e,n,r,s={}){const i=await gp(t,e,n,r,s);return"mfaPendingCredential"in i&&Kc(t,"multi-factor-auth-required",{_serverResponse:i}),i}function Iz(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?a3(t.config,s):`${t.config.apiScheme}://${s}`}class Foe{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r($l(this.auth,"network-request-failed")),Doe.get())})}}function px(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=$l(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Boe(t,e){return gp(t,"POST","/v1/accounts:delete",e)}async function Pz(t,e){return gp(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Uoe(t,e=!1){const n=ds(t),r=await n.getIdToken(e),s=o3(r);sn(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:t0(wj(s.auth_time)),issuedAtTime:t0(wj(s.iat)),expirationTime:t0(wj(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function wj(t){return Number(t)*1e3}function o3(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return s1("JWT malformed, contained fewer than 3 sections"),null;try{const s=bB(n);return s?JSON.parse(s):(s1("Failed to decode base64 JWT payload"),null)}catch(s){return s1("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function fP(t){const e=o3(t);return sn(e,"internal-error"),sn(typeof e.exp<"u","internal-error"),sn(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D0(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Po&&zoe(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function zoe({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qoe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=t0(this.lastLoginAt),this.creationTime=t0(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F1(t){var e;const n=t.auth,r=await t.getIdToken(),s=await D0(t,Pz(n,{idToken:r}));sn(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?Dz(i.providerUserInfo):[],l=Voe(t.providerData,o),u=t.isAnonymous,h=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),f=u?h:!1,g={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new cN(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,g)}async function $oe(t){const e=ds(t);await F1(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Voe(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Dz(t){return t.map(e=>{var{providerId:n}=e,r=r3(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hoe(t,e){const n=await Oz(t,{},async()=>{const r=wv({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=Iz(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",kz.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Goe(t,e){return gp(t,"POST","/v2/accounts:revokeToken",i3(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){sn(e.idToken,"internal-error"),sn(typeof e.idToken<"u","internal-error"),sn(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):fP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){sn(e.length!==0,"internal-error");const n=fP(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(sn(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await Hoe(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Sm;return r&&(sn(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(sn(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(sn(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Sm,this.toJSON())}_performRefresh(){return Ic("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ku(t,e){sn(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Pc{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=r3(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qoe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new cN(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await D0(this,this.stsTokenManager.getToken(this.auth,e));return sn(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Uoe(this,e)}reload(){return $oe(this)}_assign(e){this!==e&&(sn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Pc(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){sn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await F1(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(tl(this.auth.app))return Promise.reject(uh(this.auth));const e=await this.getIdToken();return await D0(this,Boe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,l,u,h,f;const g=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,v=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,E=(l=n.tenantId)!==null&&l!==void 0?l:void 0,S=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,C=(h=n.createdAt)!==null&&h!==void 0?h:void 0,O=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:I,emailVerified:D,isAnonymous:T,providerData:F,stsTokenManager:y}=n;sn(I&&y,e,"internal-error");const A=Sm.fromJSON(this.name,y);sn(typeof I=="string",e,"internal-error"),ku(g,e.name),ku(p,e.name),sn(typeof D=="boolean",e,"internal-error"),sn(typeof T=="boolean",e,"internal-error"),ku(v,e.name),ku(w,e.name),ku(E,e.name),ku(S,e.name),ku(C,e.name),ku(O,e.name);const _=new Pc({uid:I,auth:e,email:p,emailVerified:D,displayName:g,isAnonymous:T,photoURL:w,phoneNumber:v,tenantId:E,stsTokenManager:A,createdAt:C,lastLoginAt:O});return F&&Array.isArray(F)&&(_.providerData=F.map(L=>Object.assign({},L))),S&&(_._redirectEventId=S),_}static async _fromIdTokenResponse(e,n,r=!1){const s=new Sm;s.updateFromServerResponse(n);const i=new Pc({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await F1(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];sn(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?Dz(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new Sm;l.updateFromIdToken(r);const u=new Pc({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:o}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new cN(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP=new Map;function Dc(t){Yc(t instanceof Function,"Expected a class definition");let e=mP.get(t);return e?(Yc(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,mP.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mz{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Mz.type="NONE";const pP=Mz;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(t,e,n){return`firebase:${t}:${e}:${n}`}class Cm{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=a1(this.userKey,s.apiKey,i),this.fullPersistenceKey=a1("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Pc._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Cm(Dc(pP),e,r);const s=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let i=s[0]||Dc(pP);const o=a1(r,e.config.apiKey,e.name);let l=null;for(const h of n)try{const f=await h._get(o);if(f){const g=Pc._fromJSON(e,f);h!==i&&(l=g),i=h;break}}catch{}const u=s.filter(h=>h._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new Cm(i,e,r):(i=u[0],l&&await i._set(o,l.toJSON()),await Promise.all(n.map(async h=>{if(h!==i)try{await h._remove(o)}catch{}})),new Cm(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gP(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zz(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Fz(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($z(e))return"Blackberry";if(Vz(e))return"Webos";if(Bz(e))return"Safari";if((e.includes("chrome/")||Uz(e))&&!e.includes("edge/"))return"Chrome";if(qz(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Fz(t=Ua()){return/firefox\//i.test(t)}function Bz(t=Ua()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Uz(t=Ua()){return/crios\//i.test(t)}function zz(t=Ua()){return/iemobile/i.test(t)}function qz(t=Ua()){return/android/i.test(t)}function $z(t=Ua()){return/blackberry/i.test(t)}function Vz(t=Ua()){return/webos/i.test(t)}function l3(t=Ua()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Woe(t=Ua()){var e;return l3(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Koe(){return Cte()&&document.documentMode===10}function Hz(t=Ua()){return l3(t)||qz(t)||Vz(t)||$z(t)||/windows phone/i.test(t)||zz(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gz(t,e=[]){let n;switch(t){case"Browser":n=gP(Ua());break;case"Worker":n=`${gP(Ua())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Bh}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yoe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,l)=>{try{const u=e(i);o(u)}catch(u){l(u)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xoe(t,e={}){return gp(t,"GET","/v2/passwordPolicy",i3(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Joe=6;class Qoe{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Joe,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(s=u.containsLowercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(i=u.containsUppercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zoe{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vP(this),this.idTokenSubscription=new vP(this),this.beforeStateQueue=new Yoe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Lz,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Dc(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Cm.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Pz(this,{idToken:e}),r=await Pc._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(tl(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s==null?void 0:s._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&(u!=null&&u.user)&&(s=u.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return sn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await F1(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Ioe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(tl(this.app))return Promise.reject(uh(this));const n=e?ds(e):null;return n&&sn(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&sn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return tl(this.app)?Promise.reject(uh(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return tl(this.app)?Promise.reject(uh(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Dc(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Xoe(this),n=new Qoe(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Fh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Goe(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Dc(e)||this._popupRedirectResolver;sn(n,this,"argument-error"),this.redirectPersistenceManager=await Cm.create(this,[Dc(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(sn(l,this,"internal-error"),l.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,s);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return sn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Gz(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(tl(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Roe(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function c3(t){return ds(t)}class vP{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ote(n=>this.observer=n)}get next(){return sn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let u3={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ele(t){u3=t}function tle(t){return u3.loadJS(t)}function nle(){return u3.gapiScript}function rle(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sle(t,e){const n=_d(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(T0(i,e??{}))return s;Kc(s,"already-initialized")}return n.initialize({options:e})}function ale(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Dc);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function ile(t,e,n){const r=c3(t);sn(r._canInitEmulator,r,"emulator-config-failed"),sn(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=Wz(e),{host:o,port:l}=ole(e),u=l===null?"":`:${l}`;r.config.emulator={url:`${i}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),lle()}function Wz(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ole(t){const e=Wz(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:yP(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:yP(o)}}}function yP(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function lle(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kz{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ic("not implemented")}_getIdTokenResponse(e){return Ic("not implemented")}_linkToIdToken(e,n){return Ic("not implemented")}_getReauthenticationResolver(e){return Ic("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nm(t,e){return Moe(t,"POST","/v1/accounts:signInWithIdp",i3(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cle="http://localhost";class _h extends Kz{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new _h(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Kc("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=r3(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new _h(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Nm(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Nm(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Nm(e,n)}buildRequest(){const e={requestUri:cle,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=wv(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yz{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv extends Yz{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu extends Tv{constructor(){super("facebook.com")}static credential(e){return _h._fromParams({providerId:Uu.PROVIDER_ID,signInMethod:Uu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Uu.credentialFromTaggedObject(e)}static credentialFromError(e){return Uu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Uu.credential(e.oauthAccessToken)}catch{return null}}}Uu.FACEBOOK_SIGN_IN_METHOD="facebook.com";Uu.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc extends Tv{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return _h._fromParams({providerId:kc.PROVIDER_ID,signInMethod:kc.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return kc.credentialFromTaggedObject(e)}static credentialFromError(e){return kc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return kc.credential(n,r)}catch{return null}}}kc.GOOGLE_SIGN_IN_METHOD="google.com";kc.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu extends Tv{constructor(){super("github.com")}static credential(e){return _h._fromParams({providerId:zu.PROVIDER_ID,signInMethod:zu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zu.credentialFromTaggedObject(e)}static credentialFromError(e){return zu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zu.credential(e.oauthAccessToken)}catch{return null}}}zu.GITHUB_SIGN_IN_METHOD="github.com";zu.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu extends Tv{constructor(){super("twitter.com")}static credential(e,n){return _h._fromParams({providerId:qu.PROVIDER_ID,signInMethod:qu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return qu.credentialFromTaggedObject(e)}static credentialFromError(e){return qu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return qu.credential(n,r)}catch{return null}}}qu.TWITTER_SIGN_IN_METHOD="twitter.com";qu.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Pc._fromIdTokenResponse(e,r,s),o=xP(r);return new Jm({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=xP(r);return new Jm({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function xP(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1 extends Po{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,B1.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new B1(e,n,r,s)}}function Xz(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?B1._fromErrorAndOperation(t,i,e,r):i})}async function ule(t,e,n=!1){const r=await D0(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Jm._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dle(t,e,n=!1){const{auth:r}=t;if(tl(r.app))return Promise.reject(uh(r));const s="reauthenticate";try{const i=await D0(t,Xz(r,s,e,t),n);sn(i.idToken,r,"internal-error");const o=o3(i.idToken);sn(o,r,"internal-error");const{sub:l}=o;return sn(t.uid===l,r,"user-mismatch"),Jm._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Kc(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hle(t,e,n=!1){if(tl(t.app))return Promise.reject(uh(t));const r="signIn",s=await Xz(t,r,e),i=await Jm._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function fle(t,e,n,r){return ds(t).onIdTokenChanged(e,n,r)}function mle(t,e,n){return ds(t).beforeAuthStateChanged(e,n)}function ple(t,e,n,r){return ds(t).onAuthStateChanged(e,n,r)}const U1="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jz{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(U1,"1"),this.storage.removeItem(U1),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gle=1e3,vle=10;class Qz extends Jz{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Hz(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);Koe()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,vle):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},gle)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Qz.type="LOCAL";const yle=Qz;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zz extends Jz{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Zz.type="SESSION";const eq=Zz;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xle(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new dw(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(o).map(async h=>h(n.origin,i)),u=await xle(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dw.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d3(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ble{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((l,u)=>{const h=d3("",20);s.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(g){const p=g;if(p.data.eventId===h)switch(p.data.status){case"ack":clearTimeout(f),i=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(p.data.response);break;default:clearTimeout(f),clearTimeout(i),u(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(){return window}function wle(t){Vl().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tq(){return typeof Vl().WorkerGlobalScope<"u"&&typeof Vl().importScripts=="function"}async function _le(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jle(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Ele(){return tq()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nq="firebaseLocalStorageDb",Sle=1,z1="firebaseLocalStorage",rq="fbase_key";class Av{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function hw(t,e){return t.transaction([z1],e?"readwrite":"readonly").objectStore(z1)}function Cle(){const t=indexedDB.deleteDatabase(nq);return new Av(t).toPromise()}function uN(){const t=indexedDB.open(nq,Sle);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(z1,{keyPath:rq})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(z1)?e(r):(r.close(),await Cle(),e(await uN()))})})}async function bP(t,e,n){const r=hw(t,!0).put({[rq]:e,value:n});return new Av(r).toPromise()}async function Nle(t,e){const n=hw(t,!1).get(e),r=await new Av(n).toPromise();return r===void 0?null:r.value}function wP(t,e){const n=hw(t,!0).delete(e);return new Av(n).toPromise()}const Tle=800,Ale=3;class sq{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await uN(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Ale)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tq()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dw._getInstance(Ele()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await _le(),!this.activeServiceWorker)return;this.sender=new ble(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jle()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await uN();return await bP(e,U1,"1"),await wP(e,U1),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>bP(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Nle(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>wP(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=hw(s,!1).getAll();return new Av(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Tle)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sq.type="LOCAL";const Lle=sq;new Nv(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rle(t,e){return e?Dc(e):(sn(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3 extends Kz{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Nm(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Nm(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Nm(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function kle(t){return hle(t.auth,new h3(t),t.bypassAuthState)}function Ole(t){const{auth:e,user:n}=t;return sn(n,e,"internal-error"),dle(n,new h3(t),t.bypassAuthState)}async function Ile(t){const{auth:e,user:n}=t;return sn(n,e,"internal-error"),ule(n,new h3(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aq{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:l}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kle;case"linkViaPopup":case"linkViaRedirect":return Ile;case"reauthViaPopup":case"reauthViaRedirect":return Ole;default:Kc(this.auth,"internal-error")}}resolve(e){Yc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ple=new Nv(2e3,1e4);class vm extends aq{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,vm.currentPopupAction&&vm.currentPopupAction.cancel(),vm.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return sn(e,this.auth,"internal-error"),e}async onExecution(){Yc(this.filter.length===1,"Popup operations only handle one event");const e=d3();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject($l(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject($l(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vm.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($l(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Ple.get())};e()}}vm.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dle="pendingRedirect",i1=new Map;class Mle extends aq{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=i1.get(this.auth._key());if(!e){try{const r=await Fle(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}i1.set(this.auth._key(),e)}return this.bypassAuthState||i1.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Fle(t,e){const n=zle(e),r=Ule(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function Ble(t,e){i1.set(t._key(),e)}function Ule(t){return Dc(t._redirectPersistence)}function zle(t){return a1(Dle,t.config.apiKey,t.name)}async function qle(t,e,n=!1){if(tl(t.app))return Promise.reject(uh(t));const r=c3(t),s=Rle(r,e),o=await new Mle(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $le=10*60*1e3;class Vle{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Hle(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!iq(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError($l(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$le&&this.cachedEventUids.clear(),this.cachedEventUids.has(_P(e))}saveEventToCache(e){this.cachedEventUids.add(_P(e)),this.lastProcessedEventTime=Date.now()}}function _P(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function iq({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Hle(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iq(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gle(t,e={}){return gp(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wle=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Kle=/^https?/;async function Yle(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Gle(t);for(const n of e)try{if(Xle(n))return}catch{}Kc(t,"unauthorized-domain")}function Xle(t){const e=lN(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Kle.test(n))return!1;if(Wle.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jle=new Nv(3e4,6e4);function jP(){const t=Vl().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Qle(t){return new Promise((e,n)=>{var r,s,i;function o(){jP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jP(),n($l(t,"network-request-failed"))},timeout:Jle.get()})}if(!((s=(r=Vl().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Vl().gapi)===null||i===void 0)&&i.load)o();else{const l=rle("iframefcb");return Vl()[l]=()=>{gapi.load?o():n($l(t,"network-request-failed"))},tle(`${nle()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw o1=null,e})}let o1=null;function Zle(t){return o1=o1||Qle(t),o1}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ece=new Nv(5e3,15e3),tce="__/auth/iframe",nce="emulator/auth/iframe",rce={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sce=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ace(t){const e=t.config;sn(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?a3(e,nce):`https://${t.config.authDomain}/${tce}`,r={apiKey:e.apiKey,appName:t.name,v:Bh},s=sce.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${wv(r).slice(1)}`}async function ice(t){const e=await Zle(t),n=Vl().gapi;return sn(n,t,"internal-error"),e.open({where:document.body,url:ace(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rce,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=$l(t,"network-request-failed"),l=Vl().setTimeout(()=>{i(o)},ece.get());function u(){Vl().clearTimeout(l),s(r)}r.ping(u).then(u,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oce={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lce=500,cce=600,uce="_blank",dce="http://localhost";class EP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function hce(t,e,n,r=lce,s=cce){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u=Object.assign(Object.assign({},oce),{width:r.toString(),height:s.toString(),top:i,left:o}),h=Ua().toLowerCase();n&&(l=Uz(h)?uce:n),Fz(h)&&(e=e||dce,u.scrollbars="yes");const f=Object.entries(u).reduce((p,[v,w])=>`${p}${v}=${w},`,"");if(Woe(h)&&l!=="_self")return fce(e||"",l),new EP(null);const g=window.open(e||"",l,f);sn(g,t,"popup-blocked");try{g.focus()}catch{}return new EP(g)}function fce(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mce="__/auth/handler",pce="emulator/auth/handler",gce=encodeURIComponent("fac");async function SP(t,e,n,r,s,i){sn(t.config.authDomain,t,"auth-domain-config-required"),sn(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Bh,eventId:s};if(e instanceof Yz){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",kte(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,g]of Object.entries({}))o[f]=g}if(e instanceof Tv){const f=e.getScopes().filter(g=>g!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const u=await t._getAppCheckToken(),h=u?`#${gce}=${encodeURIComponent(u)}`:"";return`${vce(t)}?${wv(l).slice(1)}${h}`}function vce({config:t}){return t.emulator?a3(t,pce):`https://${t.authDomain}/${mce}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j="webStorageSupport";class yce{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eq,this._completeRedirectFn=qle,this._overrideRedirectResult=Ble}async _openPopup(e,n,r,s){var i;Yc((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await SP(e,n,r,lN(),s);return hce(e,o,d3())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await SP(e,n,r,lN(),s);return wle(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Yc(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await ice(e),r=new Vle(e);return n.register("authEvent",s=>(sn(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_j,{type:_j},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[_j];o!==void 0&&n(!!o),Kc(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Yle(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Hz()||Bz()||l3()}}const xce=yce;var CP="@firebase/auth",NP="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bce{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){sn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wce(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _ce(t){ll(new ko("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;sn(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Gz(t)},h=new Zoe(r,s,i,u);return ale(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ll(new ko("auth-internal",e=>{const n=c3(e.getProvider("auth").getImmediate());return(r=>new bce(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),xi(CP,NP,wce(t)),xi(CP,NP,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jce=5*60,Ece=EB("authIdTokenMaxAge")||jce;let TP=null;const Sce=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Ece)return;const s=n==null?void 0:n.token;TP!==s&&(TP=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Cce(t=Hb()){const e=_d(t,"auth");if(e.isInitialized())return e.getImmediate();const n=sle(t,{popupRedirectResolver:xce,persistence:[Lle,yle,eq]}),r=EB("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=Sce(i.toString());mle(n,o,()=>o(n.currentUser)),fle(n,l=>o(l))}}const s=wB("auth");return s&&ile(n,`http://${s}`),n}function Nce(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}ele({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=$l("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",Nce().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_ce("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oq="firebasestorage.googleapis.com",lq="storageBucket",Tce=2*60*1e3,Ace=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends Po{constructor(e,n,r=0){super(jj(e),`Firebase Storage: ${n} (${jj(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,fs.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return jj(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var hs;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(hs||(hs={}));function jj(t){return"storage/"+t}function f3(){const t="An unknown error occurred, please check the error payload for server response.";return new fs(hs.UNKNOWN,t)}function Lce(t){return new fs(hs.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Rce(t){return new fs(hs.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function kce(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new fs(hs.UNAUTHENTICATED,t)}function Oce(){return new fs(hs.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Ice(t){return new fs(hs.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Pce(){return new fs(hs.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Dce(){return new fs(hs.CANCELED,"User canceled the upload/download.")}function Mce(t){return new fs(hs.INVALID_URL,"Invalid URL '"+t+"'.")}function Fce(t){return new fs(hs.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Bce(){return new fs(hs.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+lq+"' property when initializing the app?")}function Uce(){return new fs(hs.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function zce(){return new fs(hs.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function qce(t){return new fs(hs.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function dN(t){return new fs(hs.INVALID_ARGUMENT,t)}function cq(){return new fs(hs.APP_DELETED,"The Firebase app was deleted.")}function $ce(t){return new fs(hs.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function n0(t,e){return new fs(hs.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Sg(t){throw new fs(hs.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=$i.makeFromUrl(e,n)}catch{return new $i(e,"")}if(r.path==="")return r;throw Fce(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(D){D.path.charAt(D.path.length-1)==="/"&&(D.path_=D.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+s+o,"i"),u={bucket:1,path:3};function h(D){D.path_=decodeURIComponent(D.path)}const f="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",v=new RegExp(`^https?://${g}/${f}/b/${s}/o${p}`,"i"),w={bucket:1,path:3},E=n===oq?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",C=new RegExp(`^https?://${E}/${s}/${S}`,"i"),I=[{regex:l,indices:u,postModify:i},{regex:v,indices:w,postModify:h},{regex:C,indices:{bucket:1,path:2},postModify:h}];for(let D=0;D<I.length;D++){const T=I[D],F=T.regex.exec(e);if(F){const y=F[T.indices.bucket];let A=F[T.indices.path];A||(A=""),r=new $i(y,A),T.postModify(r);break}}if(r==null)throw Mce(e);return r}}class Vce{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hce(t,e,n){let r=1,s=null,i=null,o=!1,l=0;function u(){return l===2}let h=!1;function f(...S){h||(h=!0,e.apply(null,S))}function g(S){s=setTimeout(()=>{s=null,t(v,u())},S)}function p(){i&&clearTimeout(i)}function v(S,...C){if(h){p();return}if(S){p(),f.call(null,S,...C);return}if(u()||o){p(),f.call(null,S,...C);return}r<64&&(r*=2);let I;l===1?(l=2,I=0):I=(r+Math.random())*1e3,g(I)}let w=!1;function E(S){w||(w=!0,p(),!h&&(s!==null?(S||(l=2),clearTimeout(s),g(0)):S||(l=1)))}return g(0),i=setTimeout(()=>{o=!0,E(!0)},n),E}function Gce(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wce(t){return t!==void 0}function Kce(t){return typeof t=="object"&&!Array.isArray(t)}function m3(t){return typeof t=="string"||t instanceof String}function AP(t){return p3()&&t instanceof Blob}function p3(){return typeof Blob<"u"}function LP(t,e,n,r){if(r<e)throw dN(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw dN(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function uq(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var dh;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(dh||(dh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yce(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xce{constructor(e,n,r,s,i,o,l,u,h,f,g,p=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=u,this.timeout_=h,this.progressCallback_=f,this.connectionFactory_=g,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,w)=>{this.resolve_=v,this.reject_=w,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new gx(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=l=>{const u=l.loaded,h=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,h)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const l=i.getErrorCode()===dh.NO_ERROR,u=i.getStatus();if(!l||Yce(u,this.additionalRetryCodes_)&&this.retry){const f=i.getErrorCode()===dh.ABORT;r(!1,new gx(!1,null,f));return}const h=this.successCodes_.indexOf(u)!==-1;r(!0,new gx(h,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,l=s.connection;if(s.wasSuccessCode)try{const u=this.callback_(l,l.getResponse());Wce(u)?i(u):i()}catch(u){o(u)}else if(l!==null){const u=f3();u.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,u)):o(u)}else if(s.canceled){const u=this.appDelete_?cq():Dce();o(u)}else{const u=Pce();o(u)}};this.canceled_?n(!1,new gx(!1,null,!0)):this.backoffId_=Hce(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Gce(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class gx{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Jce(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Qce(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Zce(t,e){e&&(t["X-Firebase-GMPID"]=e)}function eue(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function tue(t,e,n,r,s,i,o=!0){const l=uq(t.urlParams),u=t.url+l,h=Object.assign({},t.headers);return Zce(h,e),Jce(h,n),Qce(h,i),eue(h,r),new Xce(u,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nue(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function rue(...t){const e=nue();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(p3())return new Blob(t);throw new fs(hs.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function sue(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aue(t){if(typeof atob>"u")throw qce("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dl={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ej{constructor(e,n){this.data=e,this.contentType=n||null}}function iue(t,e){switch(t){case Dl.RAW:return new Ej(dq(e));case Dl.BASE64:case Dl.BASE64URL:return new Ej(hq(t,e));case Dl.DATA_URL:return new Ej(lue(e),cue(e))}throw f3()}function dq(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function oue(t){let e;try{e=decodeURIComponent(t)}catch{throw n0(Dl.DATA_URL,"Malformed data URL.")}return dq(e)}function hq(t,e){switch(t){case Dl.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw n0(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Dl.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw n0(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=aue(e)}catch(s){throw s.message.includes("polyfill")?s:n0(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class fq{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw n0(Dl.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=uue(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function lue(t){const e=new fq(t);return e.base64?hq(Dl.BASE64,e.rest):oue(e.rest)}function cue(t){return new fq(t).contentType}function uue(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,n){let r=0,s="";AP(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(AP(this.data_)){const r=this.data_,s=sue(r,e,n);return s===null?null:new $u(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new $u(r,!0)}}static getBlob(...e){if(p3()){const n=e.map(r=>r instanceof $u?r.data_:r);return new $u(rue.apply(null,n))}else{const n=e.map(o=>m3(o)?iue(Dl.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let l=0;l<o.length;l++)s[i++]=o[l]}),new $u(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mq(t){let e;try{e=JSON.parse(t)}catch{return null}return Kce(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function due(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function hue(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function pq(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fue(t,e){return e}class Qa{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||fue}}let vx=null;function mue(t){return!m3(t)||t.length<2?t:pq(t)}function gq(){if(vx)return vx;const t=[];t.push(new Qa("bucket")),t.push(new Qa("generation")),t.push(new Qa("metageneration")),t.push(new Qa("name","fullPath",!0));function e(i,o){return mue(o)}const n=new Qa("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new Qa("size");return s.xform=r,t.push(s),t.push(new Qa("timeCreated")),t.push(new Qa("updated")),t.push(new Qa("md5Hash",null,!0)),t.push(new Qa("cacheControl",null,!0)),t.push(new Qa("contentDisposition",null,!0)),t.push(new Qa("contentEncoding",null,!0)),t.push(new Qa("contentLanguage",null,!0)),t.push(new Qa("contentType",null,!0)),t.push(new Qa("metadata","customMetadata",!0)),vx=t,vx}function pue(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new $i(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function gue(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return pue(r,t),r}function vq(t,e,n){const r=mq(e);return r===null?null:gue(t,r,n)}function vue(t,e,n,r){const s=mq(e);if(s===null||!m3(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(h=>{const f=t.bucket,g=t.fullPath,p="/b/"+o(f)+"/o/"+o(g),v=fw(p,n,r),w=uq({alt:"media",token:h});return v+w})[0]}function yue(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class g3{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yq(t){if(!t)throw f3()}function xue(t,e){function n(r,s){const i=vq(t,s,e);return yq(i!==null),i}return n}function bue(t,e){function n(r,s){const i=vq(t,s,e);return yq(i!==null),vue(i,s,t.host,t._protocol)}return n}function xq(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=Oce():s=kce():n.getStatus()===402?s=Rce(t.bucket):n.getStatus()===403?s=Ice(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function bq(t){const e=xq(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=Lce(t.path)),i.serverResponse=s.serverResponse,i}return n}function wue(t,e,n){const r=e.fullServerUrl(),s=fw(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,l=new g3(s,i,bue(t,n),o);return l.errorHandler=bq(e),l}function _ue(t,e){const n=e.fullServerUrl(),r=fw(n,t.host,t._protocol),s="DELETE",i=t.maxOperationRetryTime;function o(u,h){}const l=new g3(r,s,o,i);return l.successCodes=[200,204],l.errorHandler=bq(e),l}function jue(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Eue(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=jue(null,e)),r}function Sue(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let I="";for(let D=0;D<2;D++)I=I+Math.random().toString().slice(2);return I}const u=l();o["Content-Type"]="multipart/related; boundary="+u;const h=Eue(e,r,s),f=yue(h,n),g="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+u+`\r
Content-Type: `+h.contentType+`\r
\r
`,p=`\r
--`+u+"--",v=$u.getBlob(g,r,p);if(v===null)throw Uce();const w={name:h.fullPath},E=fw(i,t.host,t._protocol),S="POST",C=t.maxUploadRetryTime,O=new g3(E,S,xue(t,n),C);return O.urlParams=w,O.headers=o,O.body=v.uploadData(),O.errorHandler=xq(e),O}class Cue{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=dh.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=dh.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=dh.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw Sg("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Sg("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Sg("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Sg("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Sg("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Nue extends Cue{initXhr(){this.xhr_.responseType="text"}}function v3(){return new Nue}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n){this._service=e,n instanceof $i?this._location=n:this._location=$i.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new jh(e,n)}get root(){const e=new $i(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return pq(this._location.path)}get storage(){return this._service}get parent(){const e=due(this._location.path);if(e===null)return null;const n=new $i(this._location.bucket,e);return new jh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw $ce(e)}}function Tue(t,e,n){t._throwIfRoot("uploadBytes");const r=Sue(t.storage,t._location,gq(),new $u(e,!0),n);return t.storage.makeRequestWithTokens(r,v3).then(s=>({metadata:s,ref:t}))}function Aue(t){t._throwIfRoot("getDownloadURL");const e=wue(t.storage,t._location,gq());return t.storage.makeRequestWithTokens(e,v3).then(n=>{if(n===null)throw zce();return n})}function Lue(t){t._throwIfRoot("deleteObject");const e=_ue(t.storage,t._location);return t.storage.makeRequestWithTokens(e,v3)}function Rue(t,e){const n=hue(t._location.path,e),r=new $i(t._location.bucket,n);return new jh(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kue(t){return/^[A-Za-z]+:\/\//.test(t)}function Oue(t,e){return new jh(t,e)}function wq(t,e){if(t instanceof y3){const n=t;if(n._bucket==null)throw Bce();const r=new jh(n,n._bucket);return e!=null?wq(r,e):r}else return e!==void 0?Rue(t,e):t}function Iue(t,e){if(e&&kue(e)){if(t instanceof y3)return Oue(t,e);throw dN("To use ref(service, url), the first argument must be a Storage instance.")}else return wq(t,e)}function RP(t,e){const n=e==null?void 0:e[lq];return n==null?null:$i.makeFromBucketSpec(n,t)}function Pue(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:SB(s,t.app.options.projectId))}class y3{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=oq,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Tce,this._maxUploadRetryTime=Ace,this._requests=new Set,s!=null?this._bucket=$i.makeFromBucketSpec(s,this._host):this._bucket=RP(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=$i.makeFromBucketSpec(this._url,e):this._bucket=RP(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){LP("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){LP("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(tl(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new jh(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new Vce(cq());{const o=tue(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const kP="@firebase/storage",OP="0.13.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _q="storage";function Qt(t,e,n){return t=ds(t),Tue(t,e,n)}function Zt(t){return t=ds(t),Aue(t)}function Due(t){return t=ds(t),Lue(t)}function Kt(t,e){return t=ds(t),Iue(t,e)}function jq(t=Hb(),e){t=ds(t);const r=_d(t,_q).getImmediate({identifier:e}),s=_B("storage");return s&&Mue(r,...s),r}function Mue(t,e,n,r={}){Pue(t,e,n,r)}function Fue(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new y3(n,r,s,e,Bh)}function Bue(){ll(new ko(_q,Fue,"PUBLIC").setMultipleInstances(!0)),xi(kP,OP,""),xi(kP,OP,"esm2017")}Bue();const Uue={apiKey:"AIzaSyDILvqKWcUJpQ5ajHPKPlEqZmjEc9M5htE",authDomain:"infoguide-13007.firebaseapp.com",projectId:"infoguide-13007",storageBucket:"infoguide-13007.firebasestorage.app",messagingSenderId:"118200673394",appId:"1:118200673394:web:d50f8387ddf29df1ba8eeb",measurementId:"G-T2BCB6JJ9X"},mw=kB(Uue),zue=Cce(mw);new kc;const ze=Gae(mw),en=jq(mw);Coe(mw);/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function que(t,e,n){return(e=Vue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ot(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IP(Object(n),!0).forEach(function(r){que(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $ue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vue(t){var e=$ue(t,"string");return typeof e=="symbol"?e:e+""}const PP=()=>{};let x3={},Eq={},Sq=null,Cq={mark:PP,measure:PP};try{typeof window<"u"&&(x3=window),typeof document<"u"&&(Eq=document),typeof MutationObserver<"u"&&(Sq=MutationObserver),typeof performance<"u"&&(Cq=performance)}catch{}const{userAgent:DP=""}=x3.navigator||{},pd=x3,Ar=Eq,MP=Sq,yx=Cq;pd.document;const su=!!Ar.documentElement&&!!Ar.head&&typeof Ar.addEventListener=="function"&&typeof Ar.createElement=="function",Nq=~DP.indexOf("MSIE")||~DP.indexOf("Trident/");var Hue=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,Gue=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,Tq={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},Wue={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},Aq=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],za="classic",pw="duotone",Kue="sharp",Yue="sharp-duotone",Lq=[za,pw,Kue,Yue],Xue={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},Jue={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},Que=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),Zue={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},ede=["fak","fa-kit","fakd","fa-kit-duotone"],FP={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},tde=["kit"],nde={kit:{"fa-kit":"fak"}},rde=["fak","fakd"],sde={kit:{fak:"fa-kit"}},BP={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},xx={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},ade=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],ide=["fak","fa-kit","fakd","fa-kit-duotone"],ode={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},lde={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},cde={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},hN={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},ude=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],fN=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...ade,...ude],dde=["solid","regular","light","thin","duotone","brands"],Rq=[1,2,3,4,5,6,7,8,9,10],hde=Rq.concat([11,12,13,14,15,16,17,18,19,20]),fde=[...Object.keys(cde),...dde,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",xx.GROUP,xx.SWAP_OPACITY,xx.PRIMARY,xx.SECONDARY].concat(Rq.map(t=>"".concat(t,"x"))).concat(hde.map(t=>"w-".concat(t))),mde={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const Xc="___FONT_AWESOME___",mN=16,kq="fa",Oq="svg-inline--fa",Eh="data-fa-i2svg",pN="data-fa-pseudo-element",pde="data-fa-pseudo-element-pending",b3="data-prefix",w3="data-icon",UP="fontawesome-i2svg",gde="async",vde=["HTML","HEAD","STYLE","SCRIPT"],Iq=(()=>{try{return!0}catch{return!1}})();function Lv(t){return new Proxy(t,{get(e,n){return n in e?e[n]:e[za]}})}const Pq=ot({},Tq);Pq[za]=ot(ot(ot(ot({},{"fa-duotone":"duotone"}),Tq[za]),FP.kit),FP["kit-duotone"]);const yde=Lv(Pq),gN=ot({},Zue);gN[za]=ot(ot(ot(ot({},{duotone:"fad"}),gN[za]),BP.kit),BP["kit-duotone"]);const zP=Lv(gN),vN=ot({},hN);vN[za]=ot(ot({},vN[za]),sde.kit);const _3=Lv(vN),yN=ot({},lde);yN[za]=ot(ot({},yN[za]),nde.kit);Lv(yN);const xde=Hue,Dq="fa-layers-text",bde=Gue,wde=ot({},Xue);Lv(wde);const _de=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Sj=Wue,jde=[...tde,...fde],r0=pd.FontAwesomeConfig||{};function Ede(t){var e=Ar.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function Sde(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}Ar&&typeof Ar.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[n,r]=e;const s=Sde(Ede(n));s!=null&&(r0[r]=s)});const Mq={styleDefault:"solid",familyDefault:za,cssPrefix:kq,replacementClass:Oq,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};r0.familyPrefix&&(r0.cssPrefix=r0.familyPrefix);const Qm=ot(ot({},Mq),r0);Qm.autoReplaceSvg||(Qm.observeMutations=!1);const Rt={};Object.keys(Mq).forEach(t=>{Object.defineProperty(Rt,t,{enumerable:!0,set:function(e){Qm[t]=e,s0.forEach(n=>n(Rt))},get:function(){return Qm[t]}})});Object.defineProperty(Rt,"familyPrefix",{enumerable:!0,set:function(t){Qm.cssPrefix=t,s0.forEach(e=>e(Rt))},get:function(){return Qm.cssPrefix}});pd.FontAwesomeConfig=Rt;const s0=[];function Cde(t){return s0.push(t),()=>{s0.splice(s0.indexOf(t),1)}}const Ou=mN,Ml={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Nde(t){if(!t||!su)return;const e=Ar.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;const n=Ar.head.childNodes;let r=null;for(let s=n.length-1;s>-1;s--){const i=n[s],o=(i.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=i)}return Ar.head.insertBefore(e,r),t}const Tde="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function M0(){let t=12,e="";for(;t-- >0;)e+=Tde[Math.random()*62|0];return e}function vp(t){const e=[];for(let n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function j3(t){return t.classList?vp(t.classList):(t.getAttribute("class")||"").split(" ").filter(e=>e)}function Fq(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Ade(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,'="').concat(Fq(t[n]),'" '),"").trim()}function gw(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,": ").concat(t[n].trim(),";"),"")}function E3(t){return t.size!==Ml.size||t.x!==Ml.x||t.y!==Ml.y||t.rotate!==Ml.rotate||t.flipX||t.flipY}function Lde(t){let{transform:e,containerWidth:n,iconWidth:r}=t;const s={transform:"translate(".concat(n/2," 256)")},i="translate(".concat(e.x*32,", ").concat(e.y*32,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),l="rotate(".concat(e.rotate," 0 0)"),u={transform:"".concat(i," ").concat(o," ").concat(l)},h={transform:"translate(".concat(r/2*-1," -256)")};return{outer:s,inner:u,path:h}}function Rde(t){let{transform:e,width:n=mN,height:r=mN,startCentered:s=!1}=t,i="";return s&&Nq?i+="translate(".concat(e.x/Ou-n/2,"em, ").concat(e.y/Ou-r/2,"em) "):s?i+="translate(calc(-50% + ".concat(e.x/Ou,"em), calc(-50% + ").concat(e.y/Ou,"em)) "):i+="translate(".concat(e.x/Ou,"em, ").concat(e.y/Ou,"em) "),i+="scale(".concat(e.size/Ou*(e.flipX?-1:1),", ").concat(e.size/Ou*(e.flipY?-1:1),") "),i+="rotate(".concat(e.rotate,"deg) "),i}var kde=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function Bq(){const t=kq,e=Oq,n=Rt.cssPrefix,r=Rt.replacementClass;let s=kde;if(n!==t||r!==e){const i=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),l=new RegExp("\\.".concat(e),"g");s=s.replace(i,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(l,".".concat(r))}return s}let qP=!1;function Cj(){Rt.autoAddCss&&!qP&&(Nde(Bq()),qP=!0)}var Ode={mixout(){return{dom:{css:Bq,insertCss:Cj}}},hooks(){return{beforeDOMElementCreation(){Cj()},beforeI2svg(){Cj()}}}};const Jc=pd||{};Jc[Xc]||(Jc[Xc]={});Jc[Xc].styles||(Jc[Xc].styles={});Jc[Xc].hooks||(Jc[Xc].hooks={});Jc[Xc].shims||(Jc[Xc].shims=[]);var Fl=Jc[Xc];const Uq=[],zq=function(){Ar.removeEventListener("DOMContentLoaded",zq),q1=1,Uq.map(t=>t())};let q1=!1;su&&(q1=(Ar.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Ar.readyState),q1||Ar.addEventListener("DOMContentLoaded",zq));function Ide(t){su&&(q1?setTimeout(t,0):Uq.push(t))}function Rv(t){const{tag:e,attributes:n={},children:r=[]}=t;return typeof t=="string"?Fq(t):"<".concat(e," ").concat(Ade(n),">").concat(r.map(Rv).join(""),"</").concat(e,">")}function $P(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var Nj=function(e,n,r,s){var i=Object.keys(e),o=i.length,l=n,u,h,f;for(r===void 0?(u=1,f=e[i[0]]):(u=0,f=r);u<o;u++)h=i[u],f=l(f,e[h],h,e);return f};function Pde(t){const e=[];let n=0;const r=t.length;for(;n<r;){const s=t.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){const i=t.charCodeAt(n++);(i&64512)==56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),n--)}else e.push(s)}return e}function xN(t){const e=Pde(t);return e.length===1?e[0].toString(16):null}function Dde(t,e){const n=t.length;let r=t.charCodeAt(e),s;return r>=55296&&r<=56319&&n>e+1&&(s=t.charCodeAt(e+1),s>=56320&&s<=57343)?(r-55296)*1024+s-56320+65536:r}function VP(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return!!r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function bN(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:r=!1}=n,s=VP(e);typeof Fl.hooks.addPack=="function"&&!r?Fl.hooks.addPack(t,VP(e)):Fl.styles[t]=ot(ot({},Fl.styles[t]||{}),s),t==="fas"&&bN("fa",e)}const{styles:F0,shims:Mde}=Fl,qq=Object.keys(_3),Fde=qq.reduce((t,e)=>(t[e]=Object.keys(_3[e]),t),{});let S3=null,$q={},Vq={},Hq={},Gq={},Wq={};function Bde(t){return~jde.indexOf(t)}function Ude(t,e){const n=e.split("-"),r=n[0],s=n.slice(1).join("-");return r===t&&s!==""&&!Bde(s)?s:null}const Kq=()=>{const t=r=>Nj(F0,(s,i,o)=>(s[o]=Nj(i,r,{}),s),{});$q=t((r,s,i)=>(s[3]&&(r[s[3]]=i),s[2]&&s[2].filter(l=>typeof l=="number").forEach(l=>{r[l.toString(16)]=i}),r)),Vq=t((r,s,i)=>(r[i]=i,s[2]&&s[2].filter(l=>typeof l=="string").forEach(l=>{r[l]=i}),r)),Wq=t((r,s,i)=>{const o=s[2];return r[i]=i,o.forEach(l=>{r[l]=i}),r});const e="far"in F0||Rt.autoFetchSvg,n=Nj(Mde,(r,s)=>{const i=s[0];let o=s[1];const l=s[2];return o==="far"&&!e&&(o="fas"),typeof i=="string"&&(r.names[i]={prefix:o,iconName:l}),typeof i=="number"&&(r.unicodes[i.toString(16)]={prefix:o,iconName:l}),r},{names:{},unicodes:{}});Hq=n.names,Gq=n.unicodes,S3=vw(Rt.styleDefault,{family:Rt.familyDefault})};Cde(t=>{S3=vw(t.styleDefault,{family:Rt.familyDefault})});Kq();function C3(t,e){return($q[t]||{})[e]}function zde(t,e){return(Vq[t]||{})[e]}function lh(t,e){return(Wq[t]||{})[e]}function Yq(t){return Hq[t]||{prefix:null,iconName:null}}function qde(t){const e=Gq[t],n=C3("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function gd(){return S3}const Xq=()=>({prefix:null,iconName:null,rest:[]});function $de(t){let e=za;const n=qq.reduce((r,s)=>(r[s]="".concat(Rt.cssPrefix,"-").concat(s),r),{});return Lq.forEach(r=>{(t.includes(n[r])||t.some(s=>Fde[r].includes(s)))&&(e=r)}),e}function vw(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:n=za}=e,r=yde[n][t];if(n===pw&&!t)return"fad";const s=zP[n][t]||zP[n][r],i=t in Fl.styles?t:null;return s||i||null}function Vde(t){let e=[],n=null;return t.forEach(r=>{const s=Ude(Rt.cssPrefix,r);s?n=s:r&&e.push(r)}),{iconName:n,rest:e}}function HP(t){return t.sort().filter((e,n,r)=>r.indexOf(e)===n)}function yw(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:n=!1}=e;let r=null;const s=fN.concat(ide),i=HP(t.filter(g=>s.includes(g))),o=HP(t.filter(g=>!fN.includes(g))),l=i.filter(g=>(r=g,!Aq.includes(g))),[u=null]=l,h=$de(i),f=ot(ot({},Vde(o)),{},{prefix:vw(u,{family:h})});return ot(ot(ot({},f),Kde({values:t,family:h,styles:F0,config:Rt,canonical:f,givenPrefix:r})),Hde(n,r,f))}function Hde(t,e,n){let{prefix:r,iconName:s}=n;if(t||!r||!s)return{prefix:r,iconName:s};const i=e==="fa"?Yq(s):{},o=lh(r,s);return s=i.iconName||o||s,r=i.prefix||r,r==="far"&&!F0.far&&F0.fas&&!Rt.autoFetchSvg&&(r="fas"),{prefix:r,iconName:s}}const Gde=Lq.filter(t=>t!==za||t!==pw),Wde=Object.keys(hN).filter(t=>t!==za).map(t=>Object.keys(hN[t])).flat();function Kde(t){const{values:e,family:n,canonical:r,givenPrefix:s="",styles:i={},config:o={}}=t,l=n===pw,u=e.includes("fa-duotone")||e.includes("fad"),h=o.familyDefault==="duotone",f=r.prefix==="fad"||r.prefix==="fa-duotone";if(!l&&(u||h||f)&&(r.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(r.prefix="fab"),!r.prefix&&Gde.includes(n)&&(Object.keys(i).find(p=>Wde.includes(p))||o.autoFetchSvg)){const p=Que.get(n).defaultShortPrefixId;r.prefix=p,r.iconName=lh(r.prefix,r.iconName)||r.iconName}return(r.prefix==="fa"||s==="fa")&&(r.prefix=gd()||"fas"),r}class Yde{constructor(){this.definitions={}}add(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];const s=n.reduce(this._pullDefinitions,{});Object.keys(s).forEach(i=>{this.definitions[i]=ot(ot({},this.definitions[i]||{}),s[i]),bN(i,s[i]);const o=_3[za][i];o&&bN(o,s[i]),Kq()})}reset(){this.definitions={}}_pullDefinitions(e,n){const r=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(r).map(s=>{const{prefix:i,iconName:o,icon:l}=r[s],u=l[2];e[i]||(e[i]={}),u.length>0&&u.forEach(h=>{typeof h=="string"&&(e[i][h]=l)}),e[i][o]=l}),e}}let GP=[],ym={};const Tm={},Xde=Object.keys(Tm);function Jde(t,e){let{mixoutsTo:n}=e;return GP=t,ym={},Object.keys(Tm).forEach(r=>{Xde.indexOf(r)===-1&&delete Tm[r]}),GP.forEach(r=>{const s=r.mixout?r.mixout():{};if(Object.keys(s).forEach(i=>{typeof s[i]=="function"&&(n[i]=s[i]),typeof s[i]=="object"&&Object.keys(s[i]).forEach(o=>{n[i]||(n[i]={}),n[i][o]=s[i][o]})}),r.hooks){const i=r.hooks();Object.keys(i).forEach(o=>{ym[o]||(ym[o]=[]),ym[o].push(i[o])})}r.provides&&r.provides(Tm)}),n}function wN(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];return(ym[t]||[]).forEach(o=>{e=o.apply(null,[e,...r])}),e}function Sh(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(ym[t]||[]).forEach(i=>{i.apply(null,n)})}function vd(){const t=arguments[0],e=Array.prototype.slice.call(arguments,1);return Tm[t]?Tm[t].apply(null,e):void 0}function _N(t){t.prefix==="fa"&&(t.prefix="fas");let{iconName:e}=t;const n=t.prefix||gd();if(e)return e=lh(n,e)||e,$P(Jq.definitions,n,e)||$P(Fl.styles,n,e)}const Jq=new Yde,Qde=()=>{Rt.autoReplaceSvg=!1,Rt.observeMutations=!1,Sh("noAuto")},Zde={i2svg:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return su?(Sh("beforeI2svg",t),vd("pseudoElements2svg",t),vd("i2svg",t)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e}=t;Rt.autoReplaceSvg===!1&&(Rt.autoReplaceSvg=!0),Rt.observeMutations=!0,Ide(()=>{the({autoReplaceSvgRoot:e}),Sh("watch",t)})}},ehe={icon:t=>{if(t===null)return null;if(typeof t=="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:lh(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){const e=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],n=vw(t[0]);return{prefix:n,iconName:lh(n,e)||e}}if(typeof t=="string"&&(t.indexOf("".concat(Rt.cssPrefix,"-"))>-1||t.match(xde))){const e=yw(t.split(" "),{skipLookups:!0});return{prefix:e.prefix||gd(),iconName:lh(e.prefix,e.iconName)||e.iconName}}if(typeof t=="string"){const e=gd();return{prefix:e,iconName:lh(e,t)||t}}}},Ji={noAuto:Qde,config:Rt,dom:Zde,parse:ehe,library:Jq,findIconDefinition:_N,toHtml:Rv},the=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e=Ar}=t;(Object.keys(Fl.styles).length>0||Rt.autoFetchSvg)&&su&&Rt.autoReplaceSvg&&Ji.dom.i2svg({node:e})};function xw(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(n=>Rv(n))}}),Object.defineProperty(t,"node",{get:function(){if(!su)return;const n=Ar.createElement("div");return n.innerHTML=t.html,n.children}}),t}function nhe(t){let{children:e,main:n,mask:r,attributes:s,styles:i,transform:o}=t;if(E3(o)&&n.found&&!r.found){const{width:l,height:u}=n,h={x:l/u/2,y:.5};s.style=gw(ot(ot({},i),{},{"transform-origin":"".concat(h.x+o.x/16,"em ").concat(h.y+o.y/16,"em")}))}return[{tag:"svg",attributes:s,children:e}]}function rhe(t){let{prefix:e,iconName:n,children:r,attributes:s,symbol:i}=t;const o=i===!0?"".concat(e,"-").concat(Rt.cssPrefix,"-").concat(n):i;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:ot(ot({},s),{},{id:o}),children:r}]}]}function N3(t){const{icons:{main:e,mask:n},prefix:r,iconName:s,transform:i,symbol:o,title:l,maskId:u,titleId:h,extra:f,watchable:g=!1}=t,{width:p,height:v}=n.found?n:e,w=rde.includes(r),E=[Rt.replacementClass,s?"".concat(Rt.cssPrefix,"-").concat(s):""].filter(T=>f.classes.indexOf(T)===-1).filter(T=>T!==""||!!T).concat(f.classes).join(" ");let S={children:[],attributes:ot(ot({},f.attributes),{},{"data-prefix":r,"data-icon":s,class:E,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(p," ").concat(v)})};const C=w&&!~f.classes.indexOf("fa-fw")?{width:"".concat(p/v*16*.0625,"em")}:{};g&&(S.attributes[Eh]=""),l&&(S.children.push({tag:"title",attributes:{id:S.attributes["aria-labelledby"]||"title-".concat(h||M0())},children:[l]}),delete S.attributes.title);const O=ot(ot({},S),{},{prefix:r,iconName:s,main:e,mask:n,maskId:u,transform:i,symbol:o,styles:ot(ot({},C),f.styles)}),{children:I,attributes:D}=n.found&&e.found?vd("generateAbstractMask",O)||{children:[],attributes:{}}:vd("generateAbstractIcon",O)||{children:[],attributes:{}};return O.children=I,O.attributes=D,o?rhe(O):nhe(O)}function WP(t){const{content:e,width:n,height:r,transform:s,title:i,extra:o,watchable:l=!1}=t,u=ot(ot(ot({},o.attributes),i?{title:i}:{}),{},{class:o.classes.join(" ")});l&&(u[Eh]="");const h=ot({},o.styles);E3(s)&&(h.transform=Rde({transform:s,startCentered:!0,width:n,height:r}),h["-webkit-transform"]=h.transform);const f=gw(h);f.length>0&&(u.style=f);const g=[];return g.push({tag:"span",attributes:u,children:[e]}),i&&g.push({tag:"span",attributes:{class:"sr-only"},children:[i]}),g}function she(t){const{content:e,title:n,extra:r}=t,s=ot(ot(ot({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),i=gw(r.styles);i.length>0&&(s.style=i);const o=[];return o.push({tag:"span",attributes:s,children:[e]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}const{styles:Tj}=Fl;function jN(t){const e=t[0],n=t[1],[r]=t.slice(4);let s=null;return Array.isArray(r)?s={tag:"g",attributes:{class:"".concat(Rt.cssPrefix,"-").concat(Sj.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Rt.cssPrefix,"-").concat(Sj.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(Rt.cssPrefix,"-").concat(Sj.PRIMARY),fill:"currentColor",d:r[1]}}]}:s={tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:e,height:n,icon:s}}const ahe={found:!1,width:512,height:512};function ihe(t,e){!Iq&&!Rt.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function EN(t,e){let n=e;return e==="fa"&&Rt.styleDefault!==null&&(e=gd()),new Promise((r,s)=>{if(n==="fa"){const i=Yq(t)||{};t=i.iconName||t,e=i.prefix||e}if(t&&e&&Tj[e]&&Tj[e][t]){const i=Tj[e][t];return r(jN(i))}ihe(t,e),r(ot(ot({},ahe),{},{icon:Rt.showMissingIcons&&t?vd("missingIconAbstract")||{}:{}}))})}const KP=()=>{},SN=Rt.measurePerformance&&yx&&yx.mark&&yx.measure?yx:{mark:KP,measure:KP},Bg='FA "6.7.2"',ohe=t=>(SN.mark("".concat(Bg," ").concat(t," begins")),()=>Qq(t)),Qq=t=>{SN.mark("".concat(Bg," ").concat(t," ends")),SN.measure("".concat(Bg," ").concat(t),"".concat(Bg," ").concat(t," begins"),"".concat(Bg," ").concat(t," ends"))};var T3={begin:ohe,end:Qq};const l1=()=>{};function YP(t){return typeof(t.getAttribute?t.getAttribute(Eh):null)=="string"}function lhe(t){const e=t.getAttribute?t.getAttribute(b3):null,n=t.getAttribute?t.getAttribute(w3):null;return e&&n}function che(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(Rt.replacementClass)}function uhe(){return Rt.autoReplaceSvg===!0?c1.replace:c1[Rt.autoReplaceSvg]||c1.replace}function dhe(t){return Ar.createElementNS("http://www.w3.org/2000/svg",t)}function hhe(t){return Ar.createElement(t)}function Zq(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:n=t.tag==="svg"?dhe:hhe}=e;if(typeof t=="string")return Ar.createTextNode(t);const r=n(t.tag);return Object.keys(t.attributes||[]).forEach(function(i){r.setAttribute(i,t.attributes[i])}),(t.children||[]).forEach(function(i){r.appendChild(Zq(i,{ceFn:n}))}),r}function fhe(t){let e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}const c1={replace:function(t){const e=t[0];if(e.parentNode)if(t[1].forEach(n=>{e.parentNode.insertBefore(Zq(n),e)}),e.getAttribute(Eh)===null&&Rt.keepOriginalSource){let n=Ar.createComment(fhe(e));e.parentNode.replaceChild(n,e)}else e.remove()},nest:function(t){const e=t[0],n=t[1];if(~j3(e).indexOf(Rt.replacementClass))return c1.replace(t);const r=new RegExp("".concat(Rt.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){const i=n[0].attributes.class.split(" ").reduce((o,l)=>(l===Rt.replacementClass||l.match(r)?o.toSvg.push(l):o.toNode.push(l),o),{toNode:[],toSvg:[]});n[0].attributes.class=i.toSvg.join(" "),i.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",i.toNode.join(" "))}const s=n.map(i=>Rv(i)).join(`
`);e.setAttribute(Eh,""),e.innerHTML=s}};function XP(t){t()}function e$(t,e){const n=typeof e=="function"?e:l1;if(t.length===0)n();else{let r=XP;Rt.mutateApproach===gde&&(r=pd.requestAnimationFrame||XP),r(()=>{const s=uhe(),i=T3.begin("mutate");t.map(s),i(),n()})}}let A3=!1;function t$(){A3=!0}function CN(){A3=!1}let $1=null;function JP(t){if(!MP||!Rt.observeMutations)return;const{treeCallback:e=l1,nodeCallback:n=l1,pseudoElementsCallback:r=l1,observeMutationsRoot:s=Ar}=t;$1=new MP(i=>{if(A3)return;const o=gd();vp(i).forEach(l=>{if(l.type==="childList"&&l.addedNodes.length>0&&!YP(l.addedNodes[0])&&(Rt.searchPseudoElements&&r(l.target),e(l.target)),l.type==="attributes"&&l.target.parentNode&&Rt.searchPseudoElements&&r(l.target.parentNode),l.type==="attributes"&&YP(l.target)&&~_de.indexOf(l.attributeName))if(l.attributeName==="class"&&lhe(l.target)){const{prefix:u,iconName:h}=yw(j3(l.target));l.target.setAttribute(b3,u||o),h&&l.target.setAttribute(w3,h)}else che(l.target)&&n(l.target)})}),su&&$1.observe(s,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function mhe(){$1&&$1.disconnect()}function phe(t){const e=t.getAttribute("style");let n=[];return e&&(n=e.split(";").reduce((r,s)=>{const i=s.split(":"),o=i[0],l=i.slice(1);return o&&l.length>0&&(r[o]=l.join(":").trim()),r},{})),n}function ghe(t){const e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=t.innerText!==void 0?t.innerText.trim():"";let s=yw(j3(t));return s.prefix||(s.prefix=gd()),e&&n&&(s.prefix=e,s.iconName=n),s.iconName&&s.prefix||(s.prefix&&r.length>0&&(s.iconName=zde(s.prefix,t.innerText)||C3(s.prefix,xN(t.innerText))),!s.iconName&&Rt.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(s.iconName=t.firstChild.data)),s}function vhe(t){const e=vp(t.attributes).reduce((s,i)=>(s.name!=="class"&&s.name!=="style"&&(s[i.name]=i.value),s),{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return Rt.autoA11y&&(n?e["aria-labelledby"]="".concat(Rt.replacementClass,"-title-").concat(r||M0()):(e["aria-hidden"]="true",e.focusable="false")),e}function yhe(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Ml,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function QP(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:n,prefix:r,rest:s}=ghe(t),i=vhe(t),o=wN("parseNodeAttributes",{},t);let l=e.styleParser?phe(t):[];return ot({iconName:n,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:r,transform:Ml,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:l,attributes:i}},o)}const{styles:xhe}=Fl;function n$(t){const e=Rt.autoReplaceSvg==="nest"?QP(t,{styleParser:!1}):QP(t);return~e.extra.classes.indexOf(Dq)?vd("generateLayersText",t,e):vd("generateSvgReplacementMutation",t,e)}function bhe(){return[...ede,...fN]}function ZP(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!su)return Promise.resolve();const n=Ar.documentElement.classList,r=f=>n.add("".concat(UP,"-").concat(f)),s=f=>n.remove("".concat(UP,"-").concat(f)),i=Rt.autoFetchSvg?bhe():Aq.concat(Object.keys(xhe));i.includes("fa")||i.push("fa");const o=[".".concat(Dq,":not([").concat(Eh,"])")].concat(i.map(f=>".".concat(f,":not([").concat(Eh,"])"))).join(", ");if(o.length===0)return Promise.resolve();let l=[];try{l=vp(t.querySelectorAll(o))}catch{}if(l.length>0)r("pending"),s("complete");else return Promise.resolve();const u=T3.begin("onTree"),h=l.reduce((f,g)=>{try{const p=n$(g);p&&f.push(p)}catch(p){Iq||p.name==="MissingIcon"&&console.error(p)}return f},[]);return new Promise((f,g)=>{Promise.all(h).then(p=>{e$(p,()=>{r("active"),r("complete"),s("pending"),typeof e=="function"&&e(),u(),f()})}).catch(p=>{u(),g(p)})})}function whe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;n$(t).then(n=>{n&&e$([n],e)})}function _he(t){return function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=(e||{}).icon?e:_N(e||{});let{mask:s}=n;return s&&(s=(s||{}).icon?s:_N(s||{})),t(r,ot(ot({},n),{},{mask:s}))}}const jhe=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=Ml,symbol:r=!1,mask:s=null,maskId:i=null,title:o=null,titleId:l=null,classes:u=[],attributes:h={},styles:f={}}=e;if(!t)return;const{prefix:g,iconName:p,icon:v}=t;return xw(ot({type:"icon"},t),()=>(Sh("beforeDOMElementCreation",{iconDefinition:t,params:e}),Rt.autoA11y&&(o?h["aria-labelledby"]="".concat(Rt.replacementClass,"-title-").concat(l||M0()):(h["aria-hidden"]="true",h.focusable="false")),N3({icons:{main:jN(v),mask:s?jN(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:g,iconName:p,transform:ot(ot({},Ml),n),symbol:r,title:o,maskId:i,titleId:l,extra:{attributes:h,styles:f,classes:u}})))};var Ehe={mixout(){return{icon:_he(jhe)}},hooks(){return{mutationObserverCallbacks(t){return t.treeCallback=ZP,t.nodeCallback=whe,t}}},provides(t){t.i2svg=function(e){const{node:n=Ar,callback:r=()=>{}}=e;return ZP(n,r)},t.generateSvgReplacementMutation=function(e,n){const{iconName:r,title:s,titleId:i,prefix:o,transform:l,symbol:u,mask:h,maskId:f,extra:g}=n;return new Promise((p,v)=>{Promise.all([EN(r,o),h.iconName?EN(h.iconName,h.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(w=>{let[E,S]=w;p([e,N3({icons:{main:E,mask:S},prefix:o,iconName:r,transform:l,symbol:u,maskId:f,title:s,titleId:i,extra:g,watchable:!0})])}).catch(v)})},t.generateAbstractIcon=function(e){let{children:n,attributes:r,main:s,transform:i,styles:o}=e;const l=gw(o);l.length>0&&(r.style=l);let u;return E3(i)&&(u=vd("generateAbstractTransformGrouping",{main:s,transform:i,containerWidth:s.width,iconWidth:s.width})),n.push(u||s.icon),{children:n,attributes:r}}}},She={mixout(){return{layer(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:n=[]}=e;return xw({type:"layer"},()=>{Sh("beforeDOMElementCreation",{assembler:t,params:e});let r=[];return t(s=>{Array.isArray(s)?s.map(i=>{r=r.concat(i.abstract)}):r=r.concat(s.abstract)}),[{tag:"span",attributes:{class:["".concat(Rt.cssPrefix,"-layers"),...n].join(" ")},children:r}]})}}}},Che={mixout(){return{counter(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:n=null,classes:r=[],attributes:s={},styles:i={}}=e;return xw({type:"counter",content:t},()=>(Sh("beforeDOMElementCreation",{content:t,params:e}),she({content:t.toString(),title:n,extra:{attributes:s,styles:i,classes:["".concat(Rt.cssPrefix,"-layers-counter"),...r]}})))}}}},Nhe={mixout(){return{text(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=Ml,title:r=null,classes:s=[],attributes:i={},styles:o={}}=e;return xw({type:"text",content:t},()=>(Sh("beforeDOMElementCreation",{content:t,params:e}),WP({content:t,transform:ot(ot({},Ml),n),title:r,extra:{attributes:i,styles:o,classes:["".concat(Rt.cssPrefix,"-layers-text"),...s]}})))}}},provides(t){t.generateLayersText=function(e,n){const{title:r,transform:s,extra:i}=n;let o=null,l=null;if(Nq){const u=parseInt(getComputedStyle(e).fontSize,10),h=e.getBoundingClientRect();o=h.width/u,l=h.height/u}return Rt.autoA11y&&!r&&(i.attributes["aria-hidden"]="true"),Promise.resolve([e,WP({content:e.innerHTML,width:o,height:l,transform:s,title:r,extra:i,watchable:!0})])}}};const The=new RegExp('"',"ug"),eD=[1105920,1112319],tD=ot(ot(ot(ot({},{FontAwesome:{normal:"fas",400:"fas"}}),Jue),mde),ode),NN=Object.keys(tD).reduce((t,e)=>(t[e.toLowerCase()]=tD[e],t),{}),Ahe=Object.keys(NN).reduce((t,e)=>{const n=NN[e];return t[e]=n[900]||[...Object.entries(n)][0][1],t},{});function Lhe(t){const e=t.replace(The,""),n=Dde(e,0),r=n>=eD[0]&&n<=eD[1],s=e.length===2?e[0]===e[1]:!1;return{value:xN(s?e[0]:e),isSecondary:r||s}}function Rhe(t,e){const n=t.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(e),s=isNaN(r)?"normal":r;return(NN[n]||{})[s]||Ahe[n]}function nD(t,e){const n="".concat(pde).concat(e.replace(":","-"));return new Promise((r,s)=>{if(t.getAttribute(n)!==null)return r();const o=vp(t.children).filter(p=>p.getAttribute(pN)===e)[0],l=pd.getComputedStyle(t,e),u=l.getPropertyValue("font-family"),h=u.match(bde),f=l.getPropertyValue("font-weight"),g=l.getPropertyValue("content");if(o&&!h)return t.removeChild(o),r();if(h&&g!=="none"&&g!==""){const p=l.getPropertyValue("content");let v=Rhe(u,f);const{value:w,isSecondary:E}=Lhe(p),S=h[0].startsWith("FontAwesome");let C=C3(v,w),O=C;if(S){const I=qde(w);I.iconName&&I.prefix&&(C=I.iconName,v=I.prefix)}if(C&&!E&&(!o||o.getAttribute(b3)!==v||o.getAttribute(w3)!==O)){t.setAttribute(n,O),o&&t.removeChild(o);const I=yhe(),{extra:D}=I;D.attributes[pN]=e,EN(C,v).then(T=>{const F=N3(ot(ot({},I),{},{icons:{main:T,mask:Xq()},prefix:v,iconName:O,extra:D,watchable:!0})),y=Ar.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?t.insertBefore(y,t.firstChild):t.appendChild(y),y.outerHTML=F.map(A=>Rv(A)).join(`
`),t.removeAttribute(n),r()}).catch(s)}else r()}else r()})}function khe(t){return Promise.all([nD(t,"::before"),nD(t,"::after")])}function Ohe(t){return t.parentNode!==document.head&&!~vde.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(pN)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function rD(t){if(su)return new Promise((e,n)=>{const r=vp(t.querySelectorAll("*")).filter(Ohe).map(khe),s=T3.begin("searchPseudoElements");t$(),Promise.all(r).then(()=>{s(),CN(),e()}).catch(()=>{s(),CN(),n()})})}var Ihe={hooks(){return{mutationObserverCallbacks(t){return t.pseudoElementsCallback=rD,t}}},provides(t){t.pseudoElements2svg=function(e){const{node:n=Ar}=e;Rt.searchPseudoElements&&rD(n)}}};let sD=!1;var Phe={mixout(){return{dom:{unwatch(){t$(),sD=!0}}}},hooks(){return{bootstrap(){JP(wN("mutationObserverCallbacks",{}))},noAuto(){mhe()},watch(t){const{observeMutationsRoot:e}=t;sD?CN():JP(wN("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}};const aD=t=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce((n,r)=>{const s=r.toLowerCase().split("-"),i=s[0];let o=s.slice(1).join("-");if(i&&o==="h")return n.flipX=!0,n;if(i&&o==="v")return n.flipY=!0,n;if(o=parseFloat(o),isNaN(o))return n;switch(i){case"grow":n.size=n.size+o;break;case"shrink":n.size=n.size-o;break;case"left":n.x=n.x-o;break;case"right":n.x=n.x+o;break;case"up":n.y=n.y-o;break;case"down":n.y=n.y+o;break;case"rotate":n.rotate=n.rotate+o;break}return n},e)};var Dhe={mixout(){return{parse:{transform:t=>aD(t)}}},hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-transform");return n&&(t.transform=aD(n)),t}}},provides(t){t.generateAbstractTransformGrouping=function(e){let{main:n,transform:r,containerWidth:s,iconWidth:i}=e;const o={transform:"translate(".concat(s/2," 256)")},l="translate(".concat(r.x*32,", ").concat(r.y*32,") "),u="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),h="rotate(".concat(r.rotate," 0 0)"),f={transform:"".concat(l," ").concat(u," ").concat(h)},g={transform:"translate(".concat(i/2*-1," -256)")},p={outer:o,inner:f,path:g};return{tag:"g",attributes:ot({},p.outer),children:[{tag:"g",attributes:ot({},p.inner),children:[{tag:n.icon.tag,children:n.icon.children,attributes:ot(ot({},n.icon.attributes),p.path)}]}]}}}};const Aj={x:0,y:0,width:"100%",height:"100%"};function iD(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function Mhe(t){return t.tag==="g"?t.children:[t]}var Fhe={hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-mask"),r=n?yw(n.split(" ").map(s=>s.trim())):Xq();return r.prefix||(r.prefix=gd()),t.mask=r,t.maskId=e.getAttribute("data-fa-mask-id"),t}}},provides(t){t.generateAbstractMask=function(e){let{children:n,attributes:r,main:s,mask:i,maskId:o,transform:l}=e;const{width:u,icon:h}=s,{width:f,icon:g}=i,p=Lde({transform:l,containerWidth:f,iconWidth:u}),v={tag:"rect",attributes:ot(ot({},Aj),{},{fill:"white"})},w=h.children?{children:h.children.map(iD)}:{},E={tag:"g",attributes:ot({},p.inner),children:[iD(ot({tag:h.tag,attributes:ot(ot({},h.attributes),p.path)},w))]},S={tag:"g",attributes:ot({},p.outer),children:[E]},C="mask-".concat(o||M0()),O="clip-".concat(o||M0()),I={tag:"mask",attributes:ot(ot({},Aj),{},{id:C,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[v,S]},D={tag:"defs",children:[{tag:"clipPath",attributes:{id:O},children:Mhe(g)},I]};return n.push(D,{tag:"rect",attributes:ot({fill:"currentColor","clip-path":"url(#".concat(O,")"),mask:"url(#".concat(C,")")},Aj)}),{children:n,attributes:r}}}},Bhe={provides(t){let e=!1;pd.matchMedia&&(e=pd.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){const n=[],r={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};n.push({tag:"path",attributes:ot(ot({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const i=ot(ot({},s),{},{attributeName:"opacity"}),o={tag:"circle",attributes:ot(ot({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||o.children.push({tag:"animate",attributes:ot(ot({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:ot(ot({},i),{},{values:"1;0;1;1;0;1;"})}),n.push(o),n.push({tag:"path",attributes:ot(ot({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:ot(ot({},i),{},{values:"1;0;0;0;0;1;"})}]}),e||n.push({tag:"path",attributes:ot(ot({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:ot(ot({},i),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:n}}}},Uhe={hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-symbol"),r=n===null?!1:n===""?!0:n;return t.symbol=r,t}}}},zhe=[Ode,Ehe,She,Che,Nhe,Ihe,Phe,Dhe,Fhe,Bhe,Uhe];Jde(zhe,{mixoutsTo:Ji});Ji.noAuto;Ji.config;Ji.library;Ji.dom;const TN=Ji.parse;Ji.findIconDefinition;Ji.toHtml;const qhe=Ji.icon;Ji.layer;Ji.text;Ji.counter;function oD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Pl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oD(Object(n),!0).forEach(function(r){xm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function V1(t){"@babel/helpers - typeof";return V1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V1(t)}function xm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $he(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function Vhe(t,e){if(t==null)return{};var n=$he(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function AN(t){return Hhe(t)||Ghe(t)||Whe(t)||Khe()}function Hhe(t){if(Array.isArray(t))return LN(t)}function Ghe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Whe(t,e){if(t){if(typeof t=="string")return LN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LN(t,e)}}function LN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Khe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yhe(t){var e,n=t.beat,r=t.fade,s=t.beatFade,i=t.bounce,o=t.shake,l=t.flash,u=t.spin,h=t.spinPulse,f=t.spinReverse,g=t.pulse,p=t.fixedWidth,v=t.inverse,w=t.border,E=t.listItem,S=t.flip,C=t.size,O=t.rotation,I=t.pull,D=(e={"fa-beat":n,"fa-fade":r,"fa-beat-fade":s,"fa-bounce":i,"fa-shake":o,"fa-flash":l,"fa-spin":u,"fa-spin-reverse":f,"fa-spin-pulse":h,"fa-pulse":g,"fa-fw":p,"fa-inverse":v,"fa-border":w,"fa-li":E,"fa-flip":S===!0,"fa-flip-horizontal":S==="horizontal"||S==="both","fa-flip-vertical":S==="vertical"||S==="both"},xm(e,"fa-".concat(C),typeof C<"u"&&C!==null),xm(e,"fa-rotate-".concat(O),typeof O<"u"&&O!==null&&O!==0),xm(e,"fa-pull-".concat(I),typeof I<"u"&&I!==null),xm(e,"fa-swap-opacity",t.swapOpacity),e);return Object.keys(D).map(function(T){return D[T]?T:null}).filter(function(T){return T})}function Xhe(t){return t=t-0,t===t}function r$(t){return Xhe(t)?t:(t=t.replace(/[\-_\s]+(.)?/g,function(e,n){return n?n.toUpperCase():""}),t.substr(0,1).toLowerCase()+t.substr(1))}var Jhe=["style"];function Qhe(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Zhe(t){return t.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,n){var r=n.indexOf(":"),s=r$(n.slice(0,r)),i=n.slice(r+1).trim();return s.startsWith("webkit")?e[Qhe(s)]=i:e[s]=i,e},{})}function s$(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var r=(e.children||[]).map(function(u){return s$(t,u)}),s=Object.keys(e.attributes||{}).reduce(function(u,h){var f=e.attributes[h];switch(h){case"class":u.attrs.className=f,delete e.attributes.class;break;case"style":u.attrs.style=Zhe(f);break;default:h.indexOf("aria-")===0||h.indexOf("data-")===0?u.attrs[h.toLowerCase()]=f:u.attrs[r$(h)]=f}return u},{attrs:{}}),i=n.style,o=i===void 0?{}:i,l=Vhe(n,Jhe);return s.attrs.style=Pl(Pl({},s.attrs.style),o),t.apply(void 0,[e.tag,Pl(Pl({},s.attrs),l)].concat(AN(r)))}var a$=!1;try{a$=!0}catch{}function efe(){if(!a$&&console&&typeof console.error=="function"){var t;(t=console).error.apply(t,arguments)}}function lD(t){if(t&&V1(t)==="object"&&t.prefix&&t.iconName&&t.icon)return t;if(TN.icon)return TN.icon(t);if(t===null)return null;if(t&&V1(t)==="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}function Lj(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?xm({},t,e):{}}var cD={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},ye=er.forwardRef(function(t,e){var n=Pl(Pl({},cD),t),r=n.icon,s=n.mask,i=n.symbol,o=n.className,l=n.title,u=n.titleId,h=n.maskId,f=lD(r),g=Lj("classes",[].concat(AN(Yhe(n)),AN((o||"").split(" ")))),p=Lj("transform",typeof n.transform=="string"?TN.transform(n.transform):n.transform),v=Lj("mask",lD(s)),w=qhe(f,Pl(Pl(Pl(Pl({},g),p),v),{},{symbol:i,title:l,titleId:u,maskId:h}));if(!w)return efe("Could not find icon",f),null;var E=w.abstract,S={ref:e};return Object.keys(n).forEach(function(C){cD.hasOwnProperty(C)||(S[C]=n[C])}),tfe(E[0],S)});ye.displayName="FontAwesomeIcon";ye.propTypes={beat:pt.bool,border:pt.bool,beatFade:pt.bool,bounce:pt.bool,className:pt.string,fade:pt.bool,flash:pt.bool,mask:pt.oneOfType([pt.object,pt.array,pt.string]),maskId:pt.string,fixedWidth:pt.bool,inverse:pt.bool,flip:pt.oneOf([!0,!1,"horizontal","vertical","both"]),icon:pt.oneOfType([pt.object,pt.array,pt.string]),listItem:pt.bool,pull:pt.oneOf(["right","left"]),pulse:pt.bool,rotation:pt.oneOf([0,90,180,270]),shake:pt.bool,size:pt.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:pt.bool,spinPulse:pt.bool,spinReverse:pt.bool,symbol:pt.oneOfType([pt.bool,pt.string]),title:pt.string,titleId:pt.string,transform:pt.oneOfType([pt.string,pt.object]),swapOpacity:pt.bool};var tfe=s$.bind(null,er.createElement);/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const nfe={prefix:"fas",iconName:"calendar-days",icon:[448,512,["calendar-alt"],"f073","M128 0c17.7 0 32 14.3 32 32l0 32 128 0 0-32c0-17.7 14.3-32 32-32s32 14.3 32 32l0 32 48 0c26.5 0 48 21.5 48 48l0 48L0 160l0-48C0 85.5 21.5 64 48 64l48 0 0-32c0-17.7 14.3-32 32-32zM0 192l448 0 0 272c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 192zm64 80l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm128 0l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zM64 400l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zm112 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16z"]},rfe=nfe,L3={prefix:"fas",iconName:"binoculars",icon:[512,512,[],"f1e5","M128 32l32 0c17.7 0 32 14.3 32 32l0 32L96 96l0-32c0-17.7 14.3-32 32-32zm64 96l0 320c0 17.7-14.3 32-32 32L32 480c-17.7 0-32-14.3-32-32l0-59.1c0-34.6 9.4-68.6 27.2-98.3C40.9 267.8 49.7 242.4 53 216L60.5 156c2-16 15.6-28 31.8-28l99.8 0zm227.8 0c16.1 0 29.8 12 31.8 28L459 216c3.3 26.4 12.1 51.8 25.8 74.6c17.8 29.7 27.2 63.7 27.2 98.3l0 59.1c0 17.7-14.3 32-32 32l-128 0c-17.7 0-32-14.3-32-32l0-320 99.8 0zM320 64c0-17.7 14.3-32 32-32l32 0c17.7 0 32 14.3 32 32l0 32-96 0 0-32zm-32 64l0 160-64 0 0-160 64 0z"]},sfe={prefix:"fas",iconName:"compass",icon:[512,512,[129517],"f14e","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm50.7-186.9L162.4 380.6c-19.4 7.5-38.5-11.6-31-31l55.5-144.3c3.3-8.5 9.9-15.1 18.4-18.4l144.3-55.5c19.4-7.5 38.5 11.6 31 31L325.1 306.7c-3.2 8.5-9.9 15.1-18.4 18.4zM288 256a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"]},afe={prefix:"fas",iconName:"bars",icon:[448,512,["navicon"],"f0c9","M0 96C0 78.3 14.3 64 32 64l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 128C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32L32 448c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"]},ife={prefix:"fas",iconName:"people-group",icon:[640,512,[],"e533","M72 88a56 56 0 1 1 112 0A56 56 0 1 1 72 88zM64 245.7C54 256.9 48 271.8 48 288s6 31.1 16 42.3l0-84.7zm144.4-49.3C178.7 222.7 160 261.2 160 304c0 34.3 12 65.8 32 90.5l0 21.5c0 17.7-14.3 32-32 32l-64 0c-17.7 0-32-14.3-32-32l0-26.8C26.2 371.2 0 332.7 0 288c0-61.9 50.1-112 112-112l32 0c24 0 46.2 7.5 64.4 20.3zM448 416l0-21.5c20-24.7 32-56.2 32-90.5c0-42.8-18.7-81.3-48.4-107.7C449.8 183.5 472 176 496 176l32 0c61.9 0 112 50.1 112 112c0 44.7-26.2 83.2-64 101.2l0 26.8c0 17.7-14.3 32-32 32l-64 0c-17.7 0-32-14.3-32-32zm8-328a56 56 0 1 1 112 0A56 56 0 1 1 456 88zM576 245.7l0 84.7c10-11.3 16-26.1 16-42.3s-6-31.1-16-42.3zM320 32a64 64 0 1 1 0 128 64 64 0 1 1 0-128zM240 304c0 16.2 6 31 16 42.3l0-84.7c-10 11.3-16 26.1-16 42.3zm144-42.3l0 84.7c10-11.3 16-26.1 16-42.3s-6-31.1-16-42.3zM448 304c0 44.7-26.2 83.2-64 101.2l0 42.8c0 17.7-14.3 32-32 32l-64 0c-17.7 0-32-14.3-32-32l0-42.8c-37.8-18-64-56.5-64-101.2c0-61.9 50.1-112 112-112l32 0c61.9 0 112 50.1 112 112z"]},i$={prefix:"fas",iconName:"flag",icon:[448,512,[127988,61725],"f024","M64 32C64 14.3 49.7 0 32 0S0 14.3 0 32L0 64 0 368 0 480c0 17.7 14.3 32 32 32s32-14.3 32-32l0-128 64.3-16.1c41.1-10.3 84.6-5.5 122.5 13.4c44.2 22.1 95.5 24.8 141.7 7.4l34.7-13c12.5-4.7 20.8-16.6 20.8-30l0-247.7c0-23-24.2-38-44.8-27.7l-9.6 4.8c-46.3 23.2-100.8 23.2-147.1 0c-35.1-17.6-75.4-22-113.5-12.5L64 48l0-16z"]},ofe={prefix:"fas",iconName:"tree",icon:[448,512,[127794],"f1bb","M210.6 5.9L62 169.4c-3.9 4.2-6 9.8-6 15.5C56 197.7 66.3 208 79.1 208l24.9 0L30.6 281.4c-4.2 4.2-6.6 10-6.6 16C24 309.9 34.1 320 46.6 320L80 320 5.4 409.5C1.9 413.7 0 419 0 424.5c0 13 10.5 23.5 23.5 23.5L192 448l0 32c0 17.7 14.3 32 32 32s32-14.3 32-32l0-32 168.5 0c13 0 23.5-10.5 23.5-23.5c0-5.5-1.9-10.8-5.4-15L368 320l33.4 0c12.5 0 22.6-10.1 22.6-22.6c0-6-2.4-11.8-6.6-16L344 208l24.9 0c12.7 0 23.1-10.3 23.1-23.1c0-5.7-2.1-11.3-6-15.5L237.4 5.9C234 2.1 229.1 0 224 0s-10 2.1-13.4 5.9z"]},lfe={prefix:"fas",iconName:"pen-to-square",icon:[512,512,["edit"],"f044","M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160L0 416c0 53 43 96 96 96l256 0c53 0 96-43 96-96l0-96c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 96c0 17.7-14.3 32-32 32L96 448c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l96 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 64z"]},Ir=lfe,cfe={prefix:"fas",iconName:"bag-shopping",icon:[448,512,["shopping-bag"],"f290","M160 112c0-35.3 28.7-64 64-64s64 28.7 64 64l0 48-128 0 0-48zm-48 48l-64 0c-26.5 0-48 21.5-48 48L0 416c0 53 43 96 96 96l256 0c53 0 96-43 96-96l0-208c0-26.5-21.5-48-48-48l-64 0 0-48C336 50.1 285.9 0 224 0S112 50.1 112 112l0 48zm24 48a24 24 0 1 1 0 48 24 24 0 1 1 0-48zm152 24a24 24 0 1 1 48 0 24 24 0 1 1 -48 0z"]},o$=cfe,ufe={prefix:"fas",iconName:"eye-slash",icon:[640,512,[],"f070","M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c8.4-19.3 10.6-41.4 4.8-63.3c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zM373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5L373 389.9z"]},dfe={prefix:"fas",iconName:"truck-medical",icon:[640,512,[128657,"ambulance"],"f0f9","M0 48C0 21.5 21.5 0 48 0L368 0c26.5 0 48 21.5 48 48l0 48 50.7 0c17 0 33.3 6.7 45.3 18.7L589.3 192c12 12 18.7 28.3 18.7 45.3l0 18.7 0 32 0 64c17.7 0 32 14.3 32 32s-14.3 32-32 32l-32 0c0 53-43 96-96 96s-96-43-96-96l-128 0c0 53-43 96-96 96s-96-43-96-96l-16 0c-26.5 0-48-21.5-48-48L0 48zM416 256l128 0 0-18.7L466.7 160 416 160l0 96zM160 464a48 48 0 1 0 0-96 48 48 0 1 0 0 96zm368-48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM176 80l0 48-48 0c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l48 0 0 48c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-48 48 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-48 0 0-48c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16z"]},hfe=dfe,ffe={prefix:"fas",iconName:"umbrella-beach",icon:[576,512,[127958],"f5ca","M346.3 271.8l-60.1-21.9L214 448 32 448c-17.7 0-32 14.3-32 32s14.3 32 32 32l512 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-261.9 0 64.1-176.2zm121.1-.2l-3.3 9.1 67.7 24.6c18.1 6.6 38-4.2 39.6-23.4c6.5-78.5-23.9-155.5-80.8-208.5c2 8 3.2 16.3 3.4 24.8l.2 6c1.8 57-7.3 113.8-26.8 167.4zM462 99.1c-1.1-34.4-22.5-64.8-54.4-77.4c-.9-.4-1.9-.7-2.8-1.1c-33-11.7-69.8-2.4-93.1 23.8l-4 4.5C272.4 88.3 245 134.2 226.8 184l-3.3 9.1L434 269.7l3.3-9.1c18.1-49.8 26.6-102.5 24.9-155.5l-.2-6zM107.2 112.9c-11.1 15.7-2.8 36.8 15.3 43.4l71 25.8 3.3-9.1c19.5-53.6 49.1-103 87.1-145.5l4-4.5c6.2-6.9 13.1-13 20.5-18.2c-79.6 2.5-154.7 42.2-201.2 108z"]},mfe={prefix:"fas",iconName:"gauge",icon:[512,512,["dashboard","gauge-med","tachometer-alt-average"],"f624","M0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm320 96c0-26.9-16.5-49.9-40-59.3L280 88c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 204.7c-23.5 9.5-40 32.5-40 59.3c0 35.3 28.7 64 64 64s64-28.7 64-64zM144 176a32 32 0 1 0 0-64 32 32 0 1 0 0 64zm-16 80a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm288 32a32 32 0 1 0 0-64 32 32 0 1 0 0 64zM400 144a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"]},pfe=mfe,gfe={prefix:"fas",iconName:"bullhorn",icon:[512,512,[128226,128363],"f0a1","M480 32c0-12.9-7.8-24.6-19.8-29.6s-25.7-2.2-34.9 6.9L381.7 53c-48 48-113.1 75-181 75l-8.7 0-32 0-96 0c-35.3 0-64 28.7-64 64l0 96c0 35.3 28.7 64 64 64l0 128c0 17.7 14.3 32 32 32l64 0c17.7 0 32-14.3 32-32l0-128 8.7 0c67.9 0 133 27 181 75l43.6 43.6c9.2 9.2 22.9 11.9 34.9 6.9s19.8-16.6 19.8-29.6l0-147.6c18.6-8.8 32-32.5 32-60.4s-13.4-51.6-32-60.4L480 32zm-64 76.7L416 240l0 131.3C357.2 317.8 280.5 288 200.7 288l-8.7 0 0-96 8.7 0c79.8 0 156.5-29.8 215.3-83.3z"]},vfe={prefix:"fas",iconName:"ban",icon:[512,512,[128683,"cancel"],"f05e","M367.2 412.5L99.5 144.8C77.1 176.1 64 214.5 64 256c0 106 86 192 192 192c41.5 0 79.9-13.1 111.2-35.5zm45.3-45.3C434.9 335.9 448 297.5 448 256c0-106-86-192-192-192c-41.5 0-79.9 13.1-111.2 35.5L412.5 367.2zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z"]},nn=vfe,yfe={prefix:"fas",iconName:"passport",icon:[448,512,[],"f5ab","M0 64C0 28.7 28.7 0 64 0L384 0c35.3 0 64 28.7 64 64l0 384c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 64zM183 278.8c-27.9-13.2-48.4-39.4-53.7-70.8l39.1 0c1.6 30.4 7.7 53.8 14.6 70.8zm41.3 9.2l-.3 0-.3 0c-2.4-3.5-5.7-8.9-9.1-16.5c-6-13.6-12.4-34.3-14.2-63.5l47.1 0c-1.8 29.2-8.1 49.9-14.2 63.5c-3.4 7.6-6.7 13-9.1 16.5zm40.7-9.2c6.8-17.1 12.9-40.4 14.6-70.8l39.1 0c-5.3 31.4-25.8 57.6-53.7 70.8zM279.6 176c-1.6-30.4-7.7-53.8-14.6-70.8c27.9 13.2 48.4 39.4 53.7 70.8l-39.1 0zM223.7 96l.3 0 .3 0c2.4 3.5 5.7 8.9 9.1 16.5c6 13.6 12.4 34.3 14.2 63.5l-47.1 0c1.8-29.2 8.1-49.9 14.2-63.5c3.4-7.6 6.7-13 9.1-16.5zM183 105.2c-6.8 17.1-12.9 40.4-14.6 70.8l-39.1 0c5.3-31.4 25.8-57.6 53.7-70.8zM352 192A128 128 0 1 0 96 192a128 128 0 1 0 256 0zM112 384c-8.8 0-16 7.2-16 16s7.2 16 16 16l224 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-224 0z"]},xfe={prefix:"fas",iconName:"user-group",icon:[640,512,[128101,"user-friends"],"f500","M96 128a128 128 0 1 1 256 0A128 128 0 1 1 96 128zM0 482.3C0 383.8 79.8 304 178.3 304l91.4 0C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7L29.7 512C13.3 512 0 498.7 0 482.3zM609.3 512l-137.8 0c5.4-9.4 8.6-20.3 8.6-32l0-8c0-60.7-27.1-115.2-69.8-151.8c2.4-.1 4.7-.2 7.1-.2l61.4 0C567.8 320 640 392.2 640 481.3c0 17-13.8 30.7-30.7 30.7zM432 256c-31 0-59-12.6-79.3-32.9C372.4 196.5 384 163.6 384 128c0-26.8-6.6-52.1-18.3-74.3C384.3 40.1 407.2 32 432 32c61.9 0 112 50.1 112 112s-50.1 112-112 112z"]},bfe={prefix:"fas",iconName:"person-walking",icon:[320,512,[128694,"walking"],"f554","M160 48a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zM126.5 199.3c-1 .4-1.9 .8-2.9 1.2l-8 3.5c-16.4 7.3-29 21.2-34.7 38.2l-2.6 7.8c-5.6 16.8-23.7 25.8-40.5 20.2s-25.8-23.7-20.2-40.5l2.6-7.8c11.4-34.1 36.6-61.9 69.4-76.5l8-3.5c20.8-9.2 43.3-14 66.1-14c44.6 0 84.8 26.8 101.9 67.9L281 232.7l21.4 10.7c15.8 7.9 22.2 27.1 14.3 42.9s-27.1 22.2-42.9 14.3L247 287.3c-10.3-5.2-18.4-13.8-22.8-24.5l-9.6-23-19.3 65.5 49.5 54c5.4 5.9 9.2 13 11.2 20.8l23 92.1c4.3 17.1-6.1 34.5-23.3 38.8s-34.5-6.1-38.8-23.3l-22-88.1-70.7-77.1c-14.8-16.1-20.3-38.6-14.7-59.7l16.9-63.5zM68.7 398l25-62.4c2.1 3 4.5 5.8 7 8.6l40.7 44.4-14.5 36.2c-2.4 6-6 11.5-10.6 16.1L54.6 502.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L68.7 398z"]},wfe=bfe,RN={prefix:"fas",iconName:"fire",icon:[448,512,[128293],"f06d","M159.3 5.4c7.8-7.3 19.9-7.2 27.7 .1c27.6 25.9 53.5 53.8 77.7 84c11-14.4 23.5-30.1 37-42.9c7.9-7.4 20.1-7.4 28 .1c34.6 33 63.9 76.6 84.5 118c20.3 40.8 33.8 82.5 33.8 111.9C448 404.2 348.2 512 224 512C98.4 512 0 404.1 0 276.5c0-38.4 17.8-85.3 45.4-131.7C73.3 97.7 112.7 48.6 159.3 5.4zM225.7 416c25.3 0 47.7-7 68.8-21c42.1-29.4 53.4-88.2 28.1-134.4c-4.5-9-16-9.6-22.5-2l-25.2 29.3c-6.6 7.6-18.5 7.4-24.7-.5c-16.5-21-46-58.5-62.8-79.8c-6.3-8-18.3-8.1-24.7-.1c-33.8 42.5-50.8 69.3-50.8 99.4C112 375.4 162.6 416 225.7 416z"]},_fe={prefix:"fas",iconName:"map-location-dot",icon:[576,512,["map-marked-alt"],"f5a0","M408 120c0 54.6-73.1 151.9-105.2 192c-7.7 9.6-22 9.6-29.6 0C241.1 271.9 168 174.6 168 120C168 53.7 221.7 0 288 0s120 53.7 120 120zm8 80.4c3.5-6.9 6.7-13.8 9.6-20.6c.5-1.2 1-2.5 1.5-3.7l116-46.4C558.9 123.4 576 135 576 152l0 270.8c0 9.8-6 18.6-15.1 22.3L416 503l0-302.6zM137.6 138.3c2.4 14.1 7.2 28.3 12.8 41.5c2.9 6.8 6.1 13.7 9.6 20.6l0 251.4L32.9 502.7C17.1 509 0 497.4 0 480.4L0 209.6c0-9.8 6-18.6 15.1-22.3l122.6-49zM327.8 332c13.9-17.4 35.7-45.7 56.2-77l0 249.3L192 449.4 192 255c20.5 31.3 42.3 59.6 56.2 77c20.5 25.6 59.1 25.6 79.6 0zM288 152a40 40 0 1 0 0-80 40 40 0 1 0 0 80z"]},jfe=_fe,Efe={prefix:"fas",iconName:"chart-bar",icon:[512,512,["bar-chart"],"f080","M32 32c17.7 0 32 14.3 32 32l0 336c0 8.8 7.2 16 16 16l400 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L80 480c-44.2 0-80-35.8-80-80L0 64C0 46.3 14.3 32 32 32zm96 96c0-17.7 14.3-32 32-32l192 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-192 0c-17.7 0-32-14.3-32-32zm32 64l128 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 96l256 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-256 0c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},Sfe=Efe,Cfe={prefix:"fas",iconName:"handshake",icon:[640,512,[],"f2b5","M323.4 85.2l-96.8 78.4c-16.1 13-19.2 36.4-7 53.1c12.9 17.8 38 21.3 55.3 7.8l99.3-77.2c7-5.4 17-4.2 22.5 2.8s4.2 17-2.8 22.5l-20.9 16.2L512 316.8 512 128l-.7 0-3.9-2.5L434.8 79c-15.3-9.8-33.2-15-51.4-15c-21.8 0-43 7.5-60 21.2zm22.8 124.4l-51.7 40.2C263 274.4 217.3 268 193.7 235.6c-22.2-30.5-16.6-73.1 12.7-96.8l83.2-67.3c-11.6-4.9-24.1-7.4-36.8-7.4C234 64 215.7 69.6 200 80l-72 48 0 224 28.2 0 91.4 83.4c19.6 17.9 49.9 16.5 67.8-3.1c5.5-6.1 9.2-13.2 11.1-20.6l17 15.6c19.5 17.9 49.9 16.6 67.8-2.9c4.5-4.9 7.8-10.6 9.9-16.5c19.4 13 45.8 10.3 62.1-7.5c17.9-19.5 16.6-49.9-2.9-67.8l-134.2-123zM16 128c-8.8 0-16 7.2-16 16L0 352c0 17.7 14.3 32 32 32l32 0c17.7 0 32-14.3 32-32l0-224-80 0zM48 320a16 16 0 1 1 0 32 16 16 0 1 1 0-32zM544 128l0 224c0 17.7 14.3 32 32 32l32 0c17.7 0 32-14.3 32-32l0-208c0-8.8-7.2-16-16-16l-80 0zm32 208a16 16 0 1 1 32 0 16 16 0 1 1 -32 0z"]},l$={prefix:"fas",iconName:"spa",icon:[576,512,[],"f5bb","M183.1 235.3c33.7 20.7 62.9 48.1 85.8 80.5c7 9.9 13.4 20.3 19.1 31c5.7-10.8 12.1-21.1 19.1-31c22.9-32.4 52.1-59.8 85.8-80.5C437.6 207.8 490.1 192 546 192l9.9 0c11.1 0 20.1 9 20.1 20.1C576 360.1 456.1 480 308.1 480L288 480l-20.1 0C119.9 480 0 360.1 0 212.1C0 201 9 192 20.1 192l9.9 0c55.9 0 108.4 15.8 153.1 43.3zM301.5 37.6c15.7 16.9 61.1 71.8 84.4 164.6c-38 21.6-71.4 50.8-97.9 85.6c-26.5-34.8-59.9-63.9-97.9-85.6c23.2-92.8 68.6-147.7 84.4-164.6C278 33.9 282.9 32 288 32s10 1.9 13.5 5.6z"]},Nfe={prefix:"fas",iconName:"pause",icon:[320,512,[9208],"f04c","M48 64C21.5 64 0 85.5 0 112L0 400c0 26.5 21.5 48 48 48l32 0c26.5 0 48-21.5 48-48l0-288c0-26.5-21.5-48-48-48L48 64zm192 0c-26.5 0-48 21.5-48 48l0 288c0 26.5 21.5 48 48 48l32 0c26.5 0 48-21.5 48-48l0-288c0-26.5-21.5-48-48-48l-32 0z"]},Tfe={prefix:"fas",iconName:"ferry",icon:[576,512,[],"e4ea","M224 0L352 0c17.7 0 32 14.3 32 32l75.1 0c20.6 0 31.6 24.3 18.1 39.8L456 96 120 96 98.8 71.8C85.3 56.3 96.3 32 116.9 32L192 32c0-17.7 14.3-32 32-32zM96 128l384 0c17.7 0 32 14.3 32 32l0 123.5c0 13.3-4.2 26.3-11.9 37.2l-51.4 71.9c-1.9 1.1-3.7 2.2-5.5 3.5c-15.5 10.7-34 18-51 19.9l-16.5 0c-17.1-1.8-35-9-50.8-19.9c-22.1-15.5-51.6-15.5-73.7 0c-14.8 10.2-32.5 18-50.6 19.9l-16.6 0c-17-1.8-35.6-9.2-51-19.9c-1.8-1.3-3.7-2.4-5.6-3.5L75.9 320.7C68.2 309.8 64 296.8 64 283.5L64 160c0-17.7 14.3-32 32-32zm32 64l0 96 320 0 0-96-320 0zM306.5 421.9C329 437.4 356.5 448 384 448c26.9 0 55.3-10.8 77.4-26.1c0 0 0 0 0 0c11.9-8.5 28.1-7.8 39.2 1.7c14.4 11.9 32.5 21 50.6 25.2c17.2 4 27.9 21.2 23.9 38.4s-21.2 27.9-38.4 23.9c-24.5-5.7-44.9-16.5-58.2-25C449.5 501.7 417 512 384 512c-31.9 0-60.6-9.9-80.4-18.9c-5.8-2.7-11.1-5.3-15.6-7.7c-4.5 2.4-9.7 5.1-15.6 7.7c-19.8 9-48.5 18.9-80.4 18.9c-33 0-65.5-10.3-94.5-25.8c-13.4 8.4-33.7 19.3-58.2 25c-17.2 4-34.4-6.7-38.4-23.9s6.7-34.4 23.9-38.4c18.1-4.2 36.2-13.3 50.6-25.2c11.1-9.4 27.3-10.1 39.2-1.7c0 0 0 0 0 0C136.7 437.2 165.1 448 192 448c27.5 0 55-10.6 77.5-26.1c11.1-7.9 25.9-7.9 37 0z"]},Afe={prefix:"fas",iconName:"arrows-rotate",icon:[512,512,[128472,"refresh","sync"],"f021","M105.1 202.6c7.7-21.8 20.2-42.3 37.8-59.8c62.5-62.5 163.8-62.5 226.3 0L386.3 160 352 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l111.5 0c0 0 0 0 0 0l.4 0c17.7 0 32-14.3 32-32l0-112c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 35.2L414.4 97.6c-87.5-87.5-229.3-87.5-316.8 0C73.2 122 55.6 150.7 44.8 181.4c-5.9 16.7 2.9 34.9 19.5 40.8s34.9-2.9 40.8-19.5zM39 289.3c-5 1.5-9.8 4.2-13.7 8.2c-4 4-6.7 8.8-8.1 14c-.3 1.2-.6 2.5-.8 3.8c-.3 1.7-.4 3.4-.4 5.1L16 432c0 17.7 14.3 32 32 32s32-14.3 32-32l0-35.1 17.6 17.5c0 0 0 0 0 0c87.5 87.4 229.3 87.4 316.7 0c24.4-24.4 42.1-53.1 52.9-83.8c5.9-16.7-2.9-34.9-19.5-40.8s-34.9 2.9-40.8 19.5c-7.7 21.8-20.2 42.3-37.8 59.8c-62.5 62.5-163.8 62.5-226.3 0l-.1-.1L125.6 352l34.4 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L48.4 288c-1.6 0-3.2 .1-4.8 .3s-3.1 .5-4.6 1z"]},Pr=Afe,c$={prefix:"fas",iconName:"leaf",icon:[512,512,[],"f06c","M272 96c-78.6 0-145.1 51.5-167.7 122.5c33.6-17 71.5-26.5 111.7-26.5l88 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-16 0-72 0s0 0 0 0c-16.6 0-32.7 1.9-48.3 5.4c-25.9 5.9-49.9 16.4-71.4 30.7c0 0 0 0 0 0C38.3 298.8 0 364.9 0 440l0 16c0 13.3 10.7 24 24 24s24-10.7 24-24l0-16c0-48.7 20.7-92.5 53.8-123.2C121.6 392.3 190.3 448 272 448l1 0c132.1-.7 239-130.9 239-291.4c0-42.6-7.5-83.1-21.1-119.6c-2.6-6.9-12.7-6.6-16.2-.1C455.9 72.1 418.7 96 376 96L272 96z"]},Lfe={prefix:"fas",iconName:"martini-glass-citrus",icon:[576,512,["cocktail"],"f561","M432 240c53 0 96-43 96-96s-43-96-96-96c-35.5 0-66.6 19.3-83.2 48l-52.6 0C316 40.1 369.3 0 432 0c79.5 0 144 64.5 144 144s-64.5 144-144 144c-27.7 0-53.5-7.8-75.5-21.3l35.4-35.4c12.2 5.6 25.8 8.7 40.1 8.7zM1.8 142.8C5.5 133.8 14.3 128 24 128l368 0c9.7 0 18.5 5.8 22.2 14.8s1.7 19.3-5.2 26.2l-177 177L232 464l64 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-88 0-88 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l64 0 0-118.1L7 169c-6.9-6.9-8.9-17.2-5.2-26.2z"]},Rfe=Lfe,kfe={prefix:"fas",iconName:"wine-glass",icon:[320,512,[127863],"f4e3","M32.1 29.3C33.5 12.8 47.4 0 64 0L256 0c16.6 0 30.5 12.8 31.9 29.3l14 168.4c6 72-42.5 135.2-109.9 150.6l0 99.6 48 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-80 0-80 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l48 0 0-99.6C60.6 333 12.1 269.8 18.1 197.8l14-168.4zm56 98.7l143.8 0-5.3-64L93.4 64l-5.3 64z"]},Ofe={prefix:"fas",iconName:"square-parking",icon:[448,512,[127359,"parking"],"f540","M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zM192 256l48 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-48 0 0 64zm48 64l-48 0 0 32c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-64 0-120c0-22.1 17.9-40 40-40l72 0c53 0 96 43 96 96s-43 96-96 96z"]},u$=Ofe,Ife={prefix:"fas",iconName:"eye",icon:[576,512,[128065],"f06e","M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"]},Pfe={prefix:"fas",iconName:"bus",icon:[576,512,[128653],"f207","M288 0C422.4 0 512 35.2 512 80l0 16 0 32c17.7 0 32 14.3 32 32l0 64c0 17.7-14.3 32-32 32l0 160c0 17.7-14.3 32-32 32l0 32c0 17.7-14.3 32-32 32l-32 0c-17.7 0-32-14.3-32-32l0-32-192 0 0 32c0 17.7-14.3 32-32 32l-32 0c-17.7 0-32-14.3-32-32l0-32c-17.7 0-32-14.3-32-32l0-160c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32c0 0 0 0 0 0l0-32s0 0 0 0l0-16C64 35.2 153.6 0 288 0zM128 160l0 96c0 17.7 14.3 32 32 32l112 0 0-160-112 0c-17.7 0-32 14.3-32 32zM304 288l112 0c17.7 0 32-14.3 32-32l0-96c0-17.7-14.3-32-32-32l-112 0 0 160zM144 400a32 32 0 1 0 0-64 32 32 0 1 0 0 64zm288 0a32 32 0 1 0 0-64 32 32 0 1 0 0 64zM384 80c0-8.8-7.2-16-16-16L208 64c-8.8 0-16 7.2-16 16s7.2 16 16 16l160 0c8.8 0 16-7.2 16-16z"]},Dfe={prefix:"fas",iconName:"shop",icon:[640,512,["store-alt"],"f54f","M36.8 192l566.3 0c20.3 0 36.8-16.5 36.8-36.8c0-7.3-2.2-14.4-6.2-20.4L558.2 21.4C549.3 8 534.4 0 518.3 0L121.7 0c-16 0-31 8-39.9 21.4L6.2 134.7c-4 6.1-6.2 13.2-6.2 20.4C0 175.5 16.5 192 36.8 192zM64 224l0 160 0 80c0 26.5 21.5 48 48 48l224 0c26.5 0 48-21.5 48-48l0-80 0-160-64 0 0 160-192 0 0-160-64 0zm448 0l0 256c0 17.7 14.3 32 32 32s32-14.3 32-32l0-256-64 0z"]},Mfe={prefix:"fas",iconName:"calendar-xmark",icon:[448,512,["calendar-times"],"f273","M128 0c17.7 0 32 14.3 32 32l0 32 128 0 0-32c0-17.7 14.3-32 32-32s32 14.3 32 32l0 32 48 0c26.5 0 48 21.5 48 48l0 48L0 160l0-48C0 85.5 21.5 64 48 64l48 0 0-32c0-17.7 14.3-32 32-32zM0 192l448 0 0 272c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 192zM305 305c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-47 47-47-47c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l47 47-47 47c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l47-47 47 47c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-47-47 47-47z"]},Dt={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M135.2 17.7L128 32 32 32C14.3 32 0 46.3 0 64S14.3 96 32 96l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-96 0-7.2-14.3C307.4 6.8 296.3 0 284.2 0L163.8 0c-12.1 0-23.2 6.8-28.6 17.7zM416 128L32 128 53.2 467c1.6 25.3 22.6 45 47.9 45l245.8 0c25.3 0 46.3-19.7 47.9-45L416 128z"]},Ffe={prefix:"fas",iconName:"tag",icon:[448,512,[127991],"f02b","M0 80L0 229.5c0 17 6.7 33.3 18.7 45.3l176 176c25 25 65.5 25 90.5 0L418.7 317.3c25-25 25-65.5 0-90.5l-176-176c-12-12-28.3-18.7-45.3-18.7L48 32C21.5 32 0 53.5 0 80zm112 32a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"]},d$={prefix:"fas",iconName:"dumbbell",icon:[640,512,[],"f44b","M96 64c0-17.7 14.3-32 32-32l32 0c17.7 0 32 14.3 32 32l0 160 0 64 0 160c0 17.7-14.3 32-32 32l-32 0c-17.7 0-32-14.3-32-32l0-64-32 0c-17.7 0-32-14.3-32-32l0-64c-17.7 0-32-14.3-32-32s14.3-32 32-32l0-64c0-17.7 14.3-32 32-32l32 0 0-64zm448 0l0 64 32 0c17.7 0 32 14.3 32 32l0 64c17.7 0 32 14.3 32 32s-14.3 32-32 32l0 64c0 17.7-14.3 32-32 32l-32 0 0 64c0 17.7-14.3 32-32 32l-32 0c-17.7 0-32-14.3-32-32l0-160 0-64 0-160c0-17.7 14.3-32 32-32l32 0c17.7 0 32 14.3 32 32zM416 224l0 64-192 0 0-64 192 0z"]},h$={prefix:"fas",iconName:"ship",icon:[576,512,[128674],"f21a","M192 32c0-17.7 14.3-32 32-32L352 0c17.7 0 32 14.3 32 32l0 32 48 0c26.5 0 48 21.5 48 48l0 128 44.4 14.8c23.1 7.7 29.5 37.5 11.5 53.9l-101 92.6c-16.2 9.4-34.7 15.1-50.9 15.1c-19.6 0-40.8-7.7-59.2-20.3c-22.1-15.5-51.6-15.5-73.7 0c-17.1 11.8-38 20.3-59.2 20.3c-16.2 0-34.7-5.7-50.9-15.1l-101-92.6c-18-16.5-11.6-46.2 11.5-53.9L96 240l0-128c0-26.5 21.5-48 48-48l48 0 0-32zM160 218.7l107.8-35.9c13.1-4.4 27.3-4.4 40.5 0L416 218.7l0-90.7-256 0 0 90.7zM306.5 421.9C329 437.4 356.5 448 384 448c26.9 0 55.4-10.8 77.4-26.1c0 0 0 0 0 0c11.9-8.5 28.1-7.8 39.2 1.7c14.4 11.9 32.5 21 50.6 25.2c17.2 4 27.9 21.2 23.9 38.4s-21.2 27.9-38.4 23.9c-24.5-5.7-44.9-16.5-58.2-25C449.5 501.7 417 512 384 512c-31.9 0-60.6-9.9-80.4-18.9c-5.8-2.7-11.1-5.3-15.6-7.7c-4.5 2.4-9.7 5.1-15.6 7.7c-19.8 9-48.5 18.9-80.4 18.9c-33 0-65.5-10.3-94.5-25.8c-13.4 8.4-33.7 19.3-58.2 25c-17.2 4-34.4-6.7-38.4-23.9s6.7-34.4 23.9-38.4c18.1-4.2 36.2-13.3 50.6-25.2c11.1-9.4 27.3-10.1 39.2-1.7c0 0 0 0 0 0C136.7 437.2 165.1 448 192 448c27.5 0 55-10.6 77.5-26.1c11.1-7.9 25.9-7.9 37 0z"]},f$={prefix:"fas",iconName:"utensils",icon:[448,512,[127860,61685,"cutlery"],"f2e7","M416 0C400 0 288 32 288 176l0 112c0 35.3 28.7 64 64 64l32 0 0 128c0 17.7 14.3 32 32 32s32-14.3 32-32l0-128 0-112 0-208c0-17.7-14.3-32-32-32zM64 16C64 7.8 57.9 1 49.7 .1S34.2 4.6 32.4 12.5L2.1 148.8C.7 155.1 0 161.5 0 167.9c0 45.9 35.1 83.6 80 87.7L80 480c0 17.7 14.3 32 32 32s32-14.3 32-32l0-224.4c44.9-4.1 80-41.8 80-87.7c0-6.4-.7-12.8-2.1-19.1L191.6 12.5c-1.8-8-9.3-13.3-17.4-12.4S160 7.8 160 16l0 134.2c0 5.4-4.4 9.8-9.8 9.8c-5.1 0-9.3-3.9-9.8-9L127.9 14.6C127.2 6.3 120.3 0 112 0s-15.2 6.3-15.9 14.6L83.7 151c-.5 5.1-4.7 9-9.8 9c-5.4 0-9.8-4.4-9.8-9.8L64 16zm48.3 152l-.3 0-.3 0 .3-.7 .3 .7z"]},Bfe={prefix:"fas",iconName:"book-open-reader",icon:[512,512,["book-reader"],"f5da","M160 96a96 96 0 1 1 192 0A96 96 0 1 1 160 96zm80 152l0 264-48.4-24.2c-20.9-10.4-43.5-17-66.8-19.3l-96-9.6C12.5 457.2 0 443.5 0 427L0 224c0-17.7 14.3-32 32-32l30.3 0c63.6 0 125.6 19.6 177.7 56zm32 264l0-264c52.1-36.4 114.1-56 177.7-56l30.3 0c17.7 0 32 14.3 32 32l0 203c0 16.4-12.5 30.2-28.8 31.8l-96 9.6c-23.2 2.3-45.9 8.9-66.8 19.3L272 512z"]},Ufe=Bfe,zfe={prefix:"fas",iconName:"medal",icon:[512,512,[127941],"f5a2","M4.1 38.2C1.4 34.2 0 29.4 0 24.6C0 11 11 0 24.6 0L133.9 0c11.2 0 21.7 5.9 27.4 15.5l68.5 114.1c-48.2 6.1-91.3 28.6-123.4 61.9L4.1 38.2zm503.7 0L405.6 191.5c-32.1-33.3-75.2-55.8-123.4-61.9L350.7 15.5C356.5 5.9 366.9 0 378.1 0L487.4 0C501 0 512 11 512 24.6c0 4.8-1.4 9.6-4.1 13.6zM80 336a176 176 0 1 1 352 0A176 176 0 1 1 80 336zm184.4-94.9c-3.4-7-13.3-7-16.8 0l-22.4 45.4c-1.4 2.8-4 4.7-7 5.1L168 298.9c-7.7 1.1-10.7 10.5-5.2 16l36.3 35.4c2.2 2.2 3.2 5.2 2.7 8.3l-8.6 49.9c-1.3 7.6 6.7 13.5 13.6 9.9l44.8-23.6c2.7-1.4 6-1.4 8.7 0l44.8 23.6c6.9 3.6 14.9-2.2 13.6-9.9l-8.6-49.9c-.5-3 .5-6.1 2.7-8.3l36.3-35.4c5.6-5.4 2.5-14.8-5.2-16l-50.1-7.3c-3-.4-5.7-2.4-7-5.1l-22.4-45.4z"]},H1={prefix:"fas",iconName:"bell",icon:[448,512,[128276,61602],"f0f3","M224 0c-17.7 0-32 14.3-32 32l0 19.2C119 66 64 130.6 64 208l0 18.8c0 47-17.3 92.4-48.5 127.6l-7.4 8.3c-8.4 9.4-10.4 22.9-5.3 34.4S19.4 416 32 416l384 0c12.6 0 24-7.4 29.2-18.9s3.1-25-5.3-34.4l-7.4-8.3C401.3 319.2 384 273.9 384 226.8l0-18.8c0-77.4-55-142-128-156.8L256 32c0-17.7-14.3-32-32-32zm45.3 493.3c12-12 18.7-28.3 18.7-45.3l-64 0-64 0c0 17 6.7 33.3 18.7 45.3s28.3 18.7 45.3 18.7s33.3-6.7 45.3-18.7z"]},R3={prefix:"fas",iconName:"person-swimming",icon:[576,512,[127946,"swimmer"],"f5c4","M309.5 178.4L447.9 297.1c-1.6 .9-3.2 2-4.8 3c-18 12.4-40.1 20.3-59.2 20.3c-19.6 0-40.8-7.7-59.2-20.3c-22.1-15.5-51.6-15.5-73.7 0c-17.1 11.8-38 20.3-59.2 20.3c-10.1 0-21.1-2.2-31.9-6.2C163.1 193.2 262.2 96 384 96l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-64 0c-26.9 0-52.3 6.6-74.5 18.4zM160 160A64 64 0 1 1 32 160a64 64 0 1 1 128 0zM306.5 325.9C329 341.4 356.5 352 384 352c26.9 0 55.4-10.8 77.4-26.1c0 0 0 0 0 0c11.9-8.5 28.1-7.8 39.2 1.7c14.4 11.9 32.5 21 50.6 25.2c17.2 4 27.9 21.2 23.9 38.4s-21.2 27.9-38.4 23.9c-24.5-5.7-44.9-16.5-58.2-25C449.5 405.7 417 416 384 416c-31.9 0-60.6-9.9-80.4-18.9c-5.8-2.7-11.1-5.3-15.6-7.7c-4.5 2.4-9.7 5.1-15.6 7.7c-19.8 9-48.5 18.9-80.4 18.9c-33 0-65.5-10.3-94.5-25.8c-13.4 8.4-33.7 19.3-58.2 25c-17.2 4-34.4-6.7-38.4-23.9s6.7-34.4 23.9-38.4c18.1-4.2 36.2-13.3 50.6-25.2c11.1-9.4 27.3-10.1 39.2-1.7c0 0 0 0 0 0C136.7 341.2 165.1 352 192 352c27.5 0 55-10.6 77.5-26.1c11.1-7.9 25.9-7.9 37 0z"]},uD=R3,m$={prefix:"fas",iconName:"hospital",icon:[640,512,[127973,62589,"hospital-alt","hospital-wide"],"f0f8","M192 48c0-26.5 21.5-48 48-48L400 0c26.5 0 48 21.5 48 48l0 464-80 0 0-80c0-26.5-21.5-48-48-48s-48 21.5-48 48l0 80-80 0 0-464zM48 96l112 0 0 416L48 512c-26.5 0-48-21.5-48-48L0 320l80 0c8.8 0 16-7.2 16-16s-7.2-16-16-16L0 288l0-64 80 0c8.8 0 16-7.2 16-16s-7.2-16-16-16L0 192l0-48c0-26.5 21.5-48 48-48zm544 0c26.5 0 48 21.5 48 48l0 48-80 0c-8.8 0-16 7.2-16 16s7.2 16 16 16l80 0 0 64-80 0c-8.8 0-16 7.2-16 16s7.2 16 16 16l80 0 0 144c0 26.5-21.5 48-48 48l-112 0 0-416 112 0zM312 64c-8.8 0-16 7.2-16 16l0 24-24 0c-8.8 0-16 7.2-16 16l0 16c0 8.8 7.2 16 16 16l24 0 0 24c0 8.8 7.2 16 16 16l16 0c8.8 0 16-7.2 16-16l0-24 24 0c8.8 0 16-7.2 16-16l0-16c0-8.8-7.2-16-16-16l-24 0 0-24c0-8.8-7.2-16-16-16l-16 0z"]},qfe={prefix:"fas",iconName:"link",icon:[640,512,[128279,"chain"],"f0c1","M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z"]},$fe={prefix:"fas",iconName:"play",icon:[384,512,[9654],"f04b","M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80L0 432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"]},Vfe={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"]},Hfe=Vfe,Dr={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 144L48 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0 0 144c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144 144 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-144 0 0-144z"]},Gfe={prefix:"fas",iconName:"sign-hanging",icon:[512,512,["sign"],"f4d9","M96 0c17.7 0 32 14.3 32 32l0 32 352 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-352 0 0 352c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-352-32 0C14.3 128 0 113.7 0 96S14.3 64 32 64l32 0 0-32C64 14.3 78.3 0 96 0zm96 160l256 0c17.7 0 32 14.3 32 32l0 160c0 17.7-14.3 32-32 32l-256 0c-17.7 0-32-14.3-32-32l0-160c0-17.7 14.3-32 32-32z"]},bw={prefix:"fas",iconName:"chevron-left",icon:[320,512,[9001],"f053","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"]},ww={prefix:"fas",iconName:"chevron-right",icon:[320,512,[9002],"f054","M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"]},p$={prefix:"fas",iconName:"building",icon:[384,512,[127970,61687],"f1ad","M48 0C21.5 0 0 21.5 0 48L0 464c0 26.5 21.5 48 48 48l96 0 0-80c0-26.5 21.5-48 48-48s48 21.5 48 48l0 80 96 0c26.5 0 48-21.5 48-48l0-416c0-26.5-21.5-48-48-48L48 0zM64 240c0-8.8 7.2-16 16-16l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32zm112-16l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32c0-8.8 7.2-16 16-16zm80 16c0-8.8 7.2-16 16-16l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32zM80 96l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32c0-8.8 7.2-16 16-16zm80 16c0-8.8 7.2-16 16-16l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32zM272 96l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32c0-8.8 7.2-16 16-16z"]},Wfe={prefix:"fas",iconName:"person-biking",icon:[640,512,[128692,"biking"],"f84a","M400 96a48 48 0 1 0 0-96 48 48 0 1 0 0 96zm27.2 64l-61.8-48.8c-17.3-13.6-41.7-13.8-59.1-.3l-83.1 64.2c-30.7 23.8-28.5 70.8 4.3 91.6L288 305.1 288 416c0 17.7 14.3 32 32 32s32-14.3 32-32l0-128c0-10.7-5.3-20.7-14.2-26.6L295 232.9l60.3-48.5L396 217c5.7 4.5 12.7 7 20 7l64 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-52.8 0zM56 384a72 72 0 1 1 144 0A72 72 0 1 1 56 384zm200 0A128 128 0 1 0 0 384a128 128 0 1 0 256 0zm184 0a72 72 0 1 1 144 0 72 72 0 1 1 -144 0zm200 0a128 128 0 1 0 -256 0 128 128 0 1 0 256 0z"]},Kfe=Wfe,nr={prefix:"fas",iconName:"circle-plus",icon:[512,512,["plus-circle"],"f055","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM232 344l0-64-64 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l64 0 0-64c0-13.3 10.7-24 24-24s24 10.7 24 24l0 64 64 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-64 0 0 64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"]},Yfe={prefix:"fas",iconName:"book-open",icon:[576,512,[128214,128366],"f518","M249.6 471.5c10.8 3.8 22.4-4.1 22.4-15.5l0-377.4c0-4.2-1.6-8.4-5-11C247.4 52 202.4 32 144 32C93.5 32 46.3 45.3 18.1 56.1C6.8 60.5 0 71.7 0 83.8L0 454.1c0 11.9 12.8 20.2 24.1 16.5C55.6 460.1 105.5 448 144 448c33.9 0 79 14 105.6 23.5zm76.8 0C353 462 398.1 448 432 448c38.5 0 88.4 12.1 119.9 22.6c11.3 3.8 24.1-4.6 24.1-16.5l0-370.3c0-12.1-6.8-23.3-18.1-27.6C529.7 45.3 482.5 32 432 32c-58.4 0-103.4 20-123 35.6c-3.3 2.6-5 6.8-5 11L304 456c0 11.4 11.7 19.3 22.4 15.5z"]},kN={prefix:"fas",iconName:"calendar-day",icon:[448,512,[],"f783","M128 0c17.7 0 32 14.3 32 32l0 32 128 0 0-32c0-17.7 14.3-32 32-32s32 14.3 32 32l0 32 48 0c26.5 0 48 21.5 48 48l0 48L0 160l0-48C0 85.5 21.5 64 48 64l48 0 0-32c0-17.7 14.3-32 32-32zM0 192l448 0 0 272c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 192zm80 64c-8.8 0-16 7.2-16 16l0 96c0 8.8 7.2 16 16 16l96 0c8.8 0 16-7.2 16-16l0-96c0-8.8-7.2-16-16-16l-96 0z"]},Xfe={prefix:"fas",iconName:"water-ladder",icon:[576,512,["ladder-water","swimming-pool"],"f5c5","M128 127.7C128 74.9 170.9 32 223.7 32c48.3 0 89 36 95 83.9l1 8.2c2.2 17.5-10.2 33.5-27.8 35.7s-33.5-10.2-35.7-27.8l-1-8.2c-2-15.9-15.5-27.8-31.5-27.8c-17.5 0-31.7 14.2-31.7 31.7l0 96.3 192 0 0-96.3C384 74.9 426.9 32 479.7 32c48.3 0 89 36 95 83.9l1 8.2c2.2 17.5-10.2 33.5-27.8 35.7s-33.5-10.2-35.7-27.8l-1-8.2c-2-15.9-15.5-27.8-31.5-27.8c-17.5 0-31.7 14.2-31.7 31.7L448 361c-1.6 1-3.3 2-4.8 3.1c-18 12.4-40.1 20.3-59.2 20.3c0 0 0 0 0 0l0-96.5-192 0 0 96.5c-19 0-41.2-7.9-59.1-20.3c-1.6-1.1-3.2-2.2-4.9-3.1l0-233.3zM306.5 389.9C329 405.4 356.5 416 384 416c26.9 0 55.4-10.8 77.4-26.1c0 0 0 0 0 0c11.9-8.5 28.1-7.8 39.2 1.7c14.4 11.9 32.5 21 50.6 25.2c17.2 4 27.9 21.2 23.9 38.4s-21.2 27.9-38.4 23.9c-24.5-5.7-44.9-16.5-58.2-25C449.5 469.7 417 480 384 480c-31.9 0-60.6-9.9-80.4-18.9c-5.8-2.7-11.1-5.3-15.6-7.7c-4.5 2.4-9.7 5.1-15.6 7.7c-19.8 9-48.5 18.9-80.4 18.9c-33 0-65.5-10.3-94.5-25.8c-13.4 8.4-33.7 19.3-58.2 25c-17.2 4-34.4-6.7-38.4-23.9s6.7-34.4 23.9-38.4c18.1-4.2 36.2-13.3 50.6-25.2c11.1-9.4 27.3-10.1 39.2-1.7c0 0 0 0 0 0C136.7 405.2 165.1 416 192 416c27.5 0 55-10.6 77.5-26.1c11.1-7.9 25.9-7.9 37 0z"]},Jfe=Xfe,ON={prefix:"fas",iconName:"hotel",icon:[512,512,[127976],"f594","M0 32C0 14.3 14.3 0 32 0L480 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l0 384c17.7 0 32 14.3 32 32s-14.3 32-32 32l-176 0 0-48c0-26.5-21.5-48-48-48s-48 21.5-48 48l0 48L32 512c-17.7 0-32-14.3-32-32s14.3-32 32-32L32 64C14.3 64 0 49.7 0 32zm96 80l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zM240 96c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zm112 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zM112 192c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zm112 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zM328 384c13.3 0 24.3-10.9 21-23.8c-10.6-41.5-48.2-72.2-93-72.2s-82.5 30.7-93 72.2c-3.3 12.8 7.8 23.8 21 23.8l144 0z"]},Qfe={prefix:"fas",iconName:"mug-saucer",icon:[640,512,["coffee"],"f0f4","M96 64c0-17.7 14.3-32 32-32l320 0 64 0c70.7 0 128 57.3 128 128s-57.3 128-128 128l-32 0c0 53-43 96-96 96l-192 0c-53 0-96-43-96-96L96 64zM480 224l32 0c35.3 0 64-28.7 64-64s-28.7-64-64-64l-32 0 0 128zM32 416l512 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 480c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},g$=Qfe,v$={prefix:"fas",iconName:"plane",icon:[576,512,[],"f072","M482.3 192c34.2 0 93.7 29 93.7 64c0 36-59.5 64-93.7 64l-116.6 0L265.2 495.9c-5.7 10-16.3 16.1-27.8 16.1l-56.2 0c-10.6 0-18.3-10.2-15.4-20.4l49-171.6L112 320 68.8 377.6c-3 4-7.8 6.4-12.8 6.4l-42 0c-7.8 0-14-6.3-14-14c0-1.3 .2-2.6 .5-3.9L32 256 .5 145.9c-.4-1.3-.5-2.6-.5-3.9c0-7.8 6.3-14 14-14l42 0c5 0 9.8 2.4 12.8 6.4L112 192l102.9 0-49-171.6C162.9 10.2 170.6 0 181.2 0l56.2 0c11.5 0 22.1 6.2 27.8 16.1L365.7 192l116.6 0z"]},Zfe={prefix:"fas",iconName:"video",icon:[576,512,["video-camera"],"f03d","M0 128C0 92.7 28.7 64 64 64l256 0c35.3 0 64 28.7 64 64l0 256c0 35.3-28.7 64-64 64L64 448c-35.3 0-64-28.7-64-64L0 128zM559.1 99.8c10.4 5.6 16.9 16.4 16.9 28.2l0 256c0 11.8-6.5 22.6-16.9 28.2s-23 5-32.9-1.6l-96-64L416 337.1l0-17.1 0-128 0-17.1 14.2-9.5 96-64c9.8-6.5 22.4-7.2 32.9-1.6z"]},eme=Zfe,tme="/infoguideapp/assets/Boracay-Worlds-Best-Beach-Logo-CMDIedJZ.png",dD="/infoguideapp/assets/whitebach_backdrop-DrGZa1pc.png",nme="https://firebasestorage.googleapis.com/v0/b/infoguide-13007.firebasestorage.app/o/boracay%20video%20preview.mp4?alt=media&token=1a3e9db3-e1d2-45ed-a812-dc2206b2c49e",rme=()=>{const[t,e]=j.useState([{title:"",headerImage:dD}]),[n,r]=j.useState(0),[s,i]=j.useState(!0),[o,l]=j.useState(!0),[u,h]=j.useState(!1);j.useEffect(()=>{async function p(){const w=(await ur(Ft(ze,"tourismMarkets"))).docs.map(S=>S.data());if(w.length===0)return;const E=w.findIndex(S=>S.title.toLowerCase().includes("best beach"));if(E!==-1){const S=w.splice(E,1)[0];w.splice(0,0,S)}e([{title:"",headerImage:nme},...w])}p()},[]);const f=()=>{const p=document.querySelector(".slide-video");p&&(s?p.pause():p.play(),i(!s))},g=()=>{l(!o)};return a.jsxs("div",{className:"slideshow",children:[a.jsx("div",{className:"slideshow-shadow left-shadow"}),a.jsx("div",{className:"slideshow-shadow right-shadow"}),t.map((p,v)=>a.jsxs("div",{className:`slide ${v===n?"active":""}`,children:[p.headerImage.includes("mp4")?a.jsxs("div",{className:"video-container",children:[!u&&a.jsx("img",{src:dD,alt:"Loading Video...",className:"loading-image"}),a.jsx("video",{className:"slide-video",autoPlay:!0,muted:!0,loop:!0,onLoadedData:()=>h(!0),children:a.jsx("source",{src:p.headerImage,type:"video/mp4"})})]}):a.jsx("div",{className:"slide-image",style:{backgroundImage:`url(${p.headerImage})`}}),v!==0&&a.jsxs("div",{className:"slide-content",children:[a.jsx("h1",{className:"slideshow-title","data-text":`${p.title}`,children:p.title}),a.jsx("button",{className:"read-more",children:"Read More"})]}),v===0&&a.jsx("div",{className:"slide-content",children:o&&a.jsx("img",{src:tme,alt:"Boracay Best Beach Logo",className:"beach-logo"})}),a.jsxs("div",{className:"bottom-row",children:[a.jsx("div",{className:"dots",children:t.map((w,E)=>a.jsx("span",{className:`dot ${E===n?"active":""}`,onClick:()=>r(E)},E))}),v===0&&a.jsxs("div",{className:"button-group",children:[a.jsx("button",{className:"toggle-logo-btn",onClick:g,children:a.jsx(ye,{icon:o?ufe:Ife})}),a.jsx("button",{className:"video-control",onClick:f,children:a.jsx(ye,{icon:s?Nfe:$fe})})]})]})]},v)),a.jsx("button",{className:"nav-button left",onClick:()=>r((n-1+t.length)%t.length),children:a.jsx(ye,{icon:bw})}),a.jsx("button",{className:"nav-button right",onClick:()=>r((n+1)%t.length),children:a.jsx(ye,{icon:ww})})]})};class ra{constructor(){this.name="",this.link="",this.image="",this.color="",this.caption="",this.logo=""}toJSON(){return{...this}}}const $h=new ra;$h.name="ACCOMMODATION ESTABLISHMENTS";$h.link="accommodations";$h.image="https://firebasestorage.googleapis.com/v0/b/infoguide-13007.firebasestorage.app/o/homeButtons%2Faccommodations.png?alt=media&token=b925b582-a826-4c41-867c-c0d0b395c73d";$h.color="#A051EE";$h.caption="Find the best places to stay.";$h.icon="hotel";const Vh=new ra;Vh.name="RESTAURANTS";Vh.link="restaurants";Vh.image="https://firebasestorage.googleapis.com/v0/b/infoguide-13007.firebasestorage.app/o/homeButtons%2Fboracaydine.png?alt=media&token=b0afdc72-a651-4f2c-a825-a9059bc5314d";Vh.color="#DA3C3C";Vh.caption="Explore the best dining spots.";Vh.icon="restaurant";const Hh=new ra;Hh.name="SPA & WELLNESS CENTERS";Hh.link="spaAndWellnessCentres";Hh.image="https://firebasestorage.googleapis.com/v0/b/infoguide-13007.firebasestorage.app/o/homeButtons%2Fspawellnessbackground.png?alt=media&token=ba96844e-1608-4438-95fc-902ff797c6a1";Hh.color="#2D8B3C";Hh.caption="Relax and rejuvenate.";Hh.icon="spa";const Gh=new ra;Gh.name="M.I.C.E. FACILITIES";Gh.link="MICEFacilities";Gh.image="https://firebasestorage.googleapis.com/v0/b/infoguide-13007.firebasestorage.app/o/homeButtons%2Fmicebackground.jpg?alt=media&token=10a7509d-39a0-4781-a2e8-fb4ca240e95c";Gh.color="#008080";Gh.caption="Meet, innovate, and collaborate.";Gh.icon="building";const Wh=new ra;Wh.name="TOURIST LAND & AIR TRANSPORT OPERATORS";Wh.link="touristLandAndAirTransportOperators";Wh.image="https://firebasestorage.googleapis.com/v0/b/infoguide-13007.firebasestorage.app/o/homeButtons%2Ftouristlandandairtransfer-min.png?alt=media&token=9c991c65-624f-4b18-9b6e-ff803068c7ba";Wh.color="#F3DB3B";Wh.caption="Reliable transport options.";Wh.icon="plane";const Kh=new ra;Kh.name="TRAVEL AND TOUR OPERATORS";Kh.link="travelAndTourOperators";Kh.image="https://firebasestorage.googleapis.com/v0/b/infoguide-13007.firebasestorage.app/o/homeButtons%2FtravelAndToursbackground-min.png?alt=media&token=41c0c7d3-697a-4031-8043-1fe7996bd29b";Kh.color="#4682B4";Kh.caption="Plan your next adventure.";Kh.icon="flag";const Yh=new ra;Yh.name="TOUR GUIDES";Yh.link="tourguides";Yh.image="https://firebasestorage.googleapis.com/v0/b/infoguide-13007.firebasestorage.app/o/homeButtons%2Ftourguidesboracay.png?alt=media&token=b66c7bcf-4935-4c18-bda9-d07197397eb6";Yh.color="#FF8A00";Yh.caption="Experience guided tours.";Yh.icon="mic";const Xh=new ra;Xh.name="TOURIST & SPECIALTY SHOPS";Xh.link="touristAndSpecialtyShops";Xh.image="https://firebasestorage.googleapis.com/v0/b/infoguide-13007.firebasestorage.app/o/homeButtons%2Ftouristshops.jpg?alt=media&token=c3aaa527-0878-426f-92f2-5ed4f348bdbd";Xh.color="#8B4513";Xh.caption="Shop for souvenirs and gifts.";Xh.icon="shopping";const Jh=new ra;Jh.name="MAINLAND MALAY HOTELS";Jh.link="mainlandMalayHotels";Jh.image="";Jh.color="#E6A8D7";Jh.caption="Comfortable stays on the mainland.";Jh.icon="hotel";const Qh=new ra;Qh.name="RECREATIONAL RESORTS";Qh.link="resorts";Qh.image="";Qh.color="#86D8B7";Qh.caption="Relax and unwind in nature.";Qh.icon="umbrella-beach";const Zh=new ra;Zh.name="TOURIST ACTIVITY PROVIDERS";Zh.link="touristActivityProviders";Zh.image="";Zh.color="#F7B787";Zh.caption="Exciting experiences for travelers.";Zh.icon="running";const ef=new ra;ef.name="EVENTS PLANNING COMPANIES";ef.link="eventsPlanning";ef.image="";ef.color="#B1A7F2";ef.caption="Plan your perfect event.";ef.icon="calendar-check";const tf=new ra;tf.name="PASSENGER SHIPLINES";tf.link="passengerShipLines";tf.image="";tf.color="#A52A2A";tf.caption="Sail across destinations.";tf.icon="ship";const nf=new ra;nf.name="GYMS & FITNESS CENTERS";nf.link="gymnsAndFitnessClubs";nf.image="";nf.color="#E13F6A";nf.caption="Stay fit and active.";nf.icon="gym";const rf=new ra;rf.name="BARS & PARTY CLUBS";rf.link="barsAndPartyClubs";rf.image="";rf.color="#191970";rf.caption="Enjoy the nightlife.";rf.icon="bar";const sf=new ra;sf.name="CAFE & COWORKING SPACES";sf.link="cafeAndCoworking";sf.image="";sf.color="#B2F130";sf.caption="Work and relax in cafes.";sf.icon="cafe";const af=new ra;af.name="MAINLAND PARKING SPACE";af.link="parkingSpaces";af.image="";af.color="#F3B03B";af.caption="Find convenient parking.";af.icon="parking";const of=new ra;of.name="HOSPITALS AND CLINICS";of.link="hospitalsAndClinics";of.image="";of.color="#04D9A4";of.caption="Healthcare facilities.";of.icon="hospital";const sme=[$h,Vh,Hh,Gh,Wh,Kh,Yh,Xh,Jh,Qh,Zh,ef,tf,nf,rf,sf,af,of],ame="/infoguideapp/assets/DepartmentOfTourismAccreditationLogo-_oZun6jq.png",ime="https://firebasestorage.googleapis.com/v0/b/infoguide-13007.firebasestorage.app/o/homeButtons%2Fwhitebach_backdrop.jpg?alt=media&token=2d712ede-915f-4ca5-ba1d-b650bce45cf7",ome={hotel:ON,spa:l$,restaurant:f$,building:p$,flag:i$,plane:v$,mic:sfe,map:jfe,shopping:o$,biking:Kfe,nature:ofe,ship:h$,event:rfe,gym:d$,bar:Rfe,cafe:g$,parking:u$,hospital:m$},lme=({buttonDataArray:t=sme})=>a.jsx("div",{className:"home-section",children:a.jsxs("div",{className:"",children:[a.jsx("h2",{className:"home-section-title m-0",children:"DOT ACCREDITED TOURISM ENTERPRISES"}),a.jsx("p",{className:"home-section-subtitle",children:"Department of Tourism (DOT) Accredited Enterprises in Boracay Island, Malay."}),a.jsx("div",{className:"row",children:t.length>0?t.slice(0,8).map((e,n)=>a.jsx("div",{className:"col-lg-3 col-md-4 col-sm-6 col-6",children:a.jsx(Lt,{to:e.link,className:"group",children:a.jsxs("div",{className:"home-button-card",style:{"--button-color":e.color},children:[a.jsx("div",{className:"home-button-bg",style:{backgroundImage:`url(${e.image?e.image:ime})`}}),a.jsx("div",{className:"home-button-gradient"}),a.jsx("img",{src:ame,alt:"DOT Accreditation",className:"home-button-logo"}),e.icon&&a.jsx(ye,{icon:ome[e.icon],className:"home-button-icon"}),a.jsxs("div",{className:"home-button-content",children:[a.jsx("p",{className:"home-button-name",children:e.name}),a.jsx("p",{className:"home-button-caption",children:e.caption})]})]})})},n)):a.jsx("p",{className:"text-center text-gray-500",children:"No data available"})})]})}),cme=["All","Boracay Island","Mainland Malay"],ume=()=>{const[t,e]=j.useState([]),[n,r]=j.useState([]),[s,i]=j.useState(1),[o,l]=j.useState("All"),u=window.innerWidth<768?2:4,h=Math.ceil(n.length/u);j.useEffect(()=>{(async()=>{const v=(await ur(Ft(ze,"attractions"))).docs.map(w=>({id:w.id,...w.data()}));e(v)})()},[]),j.useEffect(()=>{const g=o==="All"?t:t.filter(p=>p.geo===o);r(g),i(1)},[t,o]);const f=n.slice((s-1)*u,s*u);return a.jsxs("div",{className:"home-section",children:[a.jsx("h2",{className:"home-section-title",children:"TOURIST HOT SPOTS"}),a.jsx("p",{className:"home-section-subtitle",children:"Explore the best places to visit."}),a.jsx("div",{className:"geo-filter-container text-center mb-4",children:cme.map(g=>a.jsx("button",{className:`geo-filter ${o===g?"active":""}`,onClick:()=>l(g),children:g},g))}),a.jsx("div",{className:"container",children:f.length>0?a.jsx("div",{className:"row justify-content-start",children:f.map(g=>a.jsx("div",{className:"col-md-6 col-sm-12 mb-4",children:a.jsx(dme,{attraction:g})},g.id))}):a.jsx("p",{className:"text-center text-gray-500",children:"No attractions available"})}),a.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[a.jsx(Lt,{to:"/attractions",className:"discover-more-btn",children:"View All"}),a.jsxs("div",{className:"d-flex align-items-center",children:[a.jsx(ye,{icon:bw,className:"nav-icon mx-3",onClick:()=>i(g=>g>1?g-1:g)}),a.jsxs("span",{children:[s," / ",h||1]}),a.jsx(ye,{icon:ww,className:"nav-icon mx-3",onClick:()=>i(g=>g<h?g+1:g)})]})]})]})},dme=({attraction:t})=>{var s,i;const[e,n]=j.useState(!1),r=[t.headerImage,...((s=t.images)==null?void 0:s.slice(0,1))||[]];return a.jsxs("div",{className:"pagination-component-card",onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:[a.jsx(hme,{images:r,isHovered:e}),a.jsx("div",{className:"pagination-component-gradient"}),a.jsxs("div",{className:"home-button-content",children:[a.jsx("p",{className:"pagination-component-name",children:t.name}),a.jsxs("p",{className:"home-button-caption",children:[t.geo,", ",(i=t.address)==null?void 0:i.barangay]})]})]})},hme=({images:t,isHovered:e})=>{const[n,r]=j.useState(0),[s,i]=j.useState(!0),o=j.useRef(null);return j.useEffect(()=>{let l=0;t.forEach(u=>{const h=new Image;h.src=u,h.onload=()=>{l++,l===t.length&&i(!1)}})},[t]),j.useEffect(()=>{if(!e){setTimeout(()=>r(0),500);return}return o.current=setInterval(()=>{r(l=>l+1<t.length?l+1:0)},3e3),()=>clearInterval(o.current)},[e,t.length]),a.jsxs("div",{className:"image-slider-container",children:[s&&a.jsx("div",{className:"image-loader",children:a.jsx("div",{className:"spinner"})}),t.map((l,u)=>a.jsx("div",{className:`image-slider ${u===n?"active":""}`,style:{backgroundImage:`url(${l})`}},u))]})};class IN{constructor(){this.id="",this.name="",this.category="",this.body=[{subtitle:"",body:"",image:null,image_source:""}],this.images=[],this.operatinghours=[],this.accessibility="",this.headerImage=null,this.address={street:"",barangay:"",town:"",region:"",province:"",country:"",lat:"",long:""},this.link="",this.geo="",this.note="",this.tags=[],this.slogan="",this.subcategory="",this.lowest=[],this.maxPax="",this.serviceProviders=[]}toJSON(){return{...this}}}const k3=["Water Sports","Aqua Sports","Cruise Activities","Land Activities","Aerial Activities","Wellness Activities","Cultural Experiences"],PN={"Water Sports":["Surfing","Kayaking","Paddle Boarding","Jet Skiing","Parasailing","Wakeboarding","Floatable Rides"],"Aqua Sports":["Swimming","Scuba Diving","Snorkeling","Free Diving","Helmet Diving"],"Cruise Activities":["Sail Boat","Party Boat","Island Hopping","Sunset Cruise","Luxury Yacht Tour","River Cruise","Glass-Bottom Boat Tour"],"Land Activities":["Island Land Tour","Mainland Tour","Hiking & Trekking","Bike Tour","Camping & Glamping","ATV & Buggy Car Adventures","Rock Climbing","Wildlife Safari & Bird Watching","Horseback Riding"],"Aerial Activities":["Ziplining","Bungee Jumping","Helicopter & Small Aircraft Tours"],"Wellness Activities":["Yoga & Meditation Retreats","Spa & Massage Therapy","Cold Spring Escapade"],"Cultural Experiences":["Heritage & Historical Tours","Traditional Dance & Music Shows","Local Food & Culinary Tours","Handicraft & Artisan Workshops","Religious & Pilgrimage Tours","Farm & Agri-Tourism"]},fme=()=>{const[t,e]=j.useState([]),[n,r]=j.useState([]),[s,i]=j.useState(1),[o,l]=j.useState("All"),[u,h]=j.useState(window.innerWidth<768?2:4);j.useEffect(()=>{const p=()=>{h(window.innerWidth<768?2:4)};return window.addEventListener("resize",p),()=>window.removeEventListener("resize",p)},[]);const f=Math.ceil(n.length/u);j.useEffect(()=>{(async()=>{const w=(await ur(Ft(ze,"activities"))).docs.map(E=>({id:E.id,...E.data()}));e(w)})()},[]),j.useEffect(()=>{const p=o==="All"?t:t.filter(v=>v.category===o);r(p),i(1)},[t,o]);const g=n.slice((s-1)*u,s*u);return a.jsxs("div",{className:"home-section",children:[a.jsx("h2",{className:"home-section-title",children:"TOURIST ACTIVITIES"}),a.jsx("p",{className:"home-section-subtitle",children:"Discover exciting activities to enjoy."}),a.jsx("div",{className:"geo-filter-container text-center mb-4",children:["All",...k3].map(p=>a.jsx("button",{className:`geo-filter ${o===p?"active":""}`,onClick:()=>l(p),children:p},p))}),a.jsx("div",{className:"container",children:g.length>0?a.jsx("div",{className:"row justify-content-start",children:g.map(p=>a.jsx("div",{className:"col-lg-3 col-md-6 col-sm-6 mb-4",children:a.jsx(mme,{activity:p})},p.id))}):a.jsx("p",{className:"text-center text-gray-500",children:"No activities available"})}),a.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[a.jsx(Lt,{to:"/activities",className:"discover-more-btn",children:"View All"}),a.jsxs("div",{className:"d-flex align-items-center",children:[a.jsx(ye,{icon:bw,className:"nav-icon mx-3",onClick:()=>i(p=>p>1?p-1:p)}),a.jsxs("span",{children:[s," / ",f||1]}),a.jsx(ye,{icon:ww,className:"nav-icon mx-3",onClick:()=>i(p=>p<f?p+1:p)})]})]})]})},mme=({activity:t})=>{var s;const[e,n]=j.useState(!1),r=[t.headerImage,...((s=t.images)==null?void 0:s.slice(0,1))||[]];return a.jsxs("div",{className:"pagination-component-card",onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:[a.jsx(pme,{images:r,isHovered:e}),a.jsx("div",{className:"pagination-component-gradient"}),a.jsxs("div",{className:"home-button-content",children:[a.jsx("p",{className:"pagination-component-name",children:t.name}),a.jsx("p",{className:"home-button-caption",children:t.category})]})]})},pme=({images:t,isHovered:e})=>{const[n,r]=j.useState(0),[s,i]=j.useState(!0),o=j.useRef(null);return j.useEffect(()=>{let l=0;t.forEach(u=>{const h=new Image;h.src=u,h.onload=()=>{l++,l===t.length&&i(!1)}})},[t]),j.useEffect(()=>{if(!e){setTimeout(()=>r(0),500);return}return o.current=setInterval(()=>{r(l=>l+1<t.length?l+1:0)},3e3),()=>clearInterval(o.current)},[e,t.length]),a.jsxs("div",{className:"image-slider-container",children:[s&&a.jsx("div",{className:"image-loader",children:a.jsx("div",{className:"spinner"})}),t.map((l,u)=>a.jsx("div",{className:`image-slider ${u===n?"active":""}`,style:{backgroundImage:`url(${l})`}},u))]})},hD=({collectionName:t,categoryOptions:e,classificationOptions:n,title:r,caption:s,filterType:i})=>{const[o,l]=j.useState([]),[u,h]=j.useState([]),[f,g]=j.useState(1),[p,v]=j.useState("All"),[w,E]=j.useState(window.innerWidth<768?2:4);j.useEffect(()=>{const I=()=>{E(window.innerWidth<768?2:4)};return window.addEventListener("resize",I),()=>window.removeEventListener("resize",I)},[]);const S=Math.ceil(u.length/w);j.useEffect(()=>{(async()=>{const D=await ur(Ft(ze,t)),T=new Date,F=D.docs.map(y=>({id:y.id,...y.data()})).filter(y=>{if(y.dateTimeStart&&y.dateTimeEnd){const A=new Date(y.dateTimeStart),_=new Date(y.dateTimeEnd);return T>=A&&T<=_}return!0});l(F)})()},[t]),j.useEffect(()=>{const I=p==="All"?o:o.filter(D=>D[i]===p);h(I),g(1)},[o,p,i]);const C=u.slice((f-1)*w,f*w),O=i==="category"?e:n;return a.jsxs("div",{className:"home-section",children:[a.jsx("h2",{className:"home-section-title",children:r}),a.jsx("p",{className:"home-section-subtitle",children:s}),a.jsx("div",{className:"geo-filter-container text-center mb-4",children:["All",...O].map(I=>a.jsx("button",{className:`geo-filter ${p===I?"active":""}`,onClick:()=>v(I),children:I},I))}),a.jsx("div",{className:"container",children:C.length>0?a.jsx("div",{className:"row justify-content-start",children:C.map(I=>a.jsx("div",{className:"col-lg-3 col-md-6 col-sm-6 mb-4",children:a.jsx(gme,{update:I})},I.id))}):a.jsx("p",{className:"text-center text-gray-500",children:"No updates available"})}),a.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[a.jsx(Lt,{to:"/attractions",className:"discover-more-btn",children:"View All"}),a.jsxs("div",{className:"d-flex align-items-center",children:[a.jsx(ye,{icon:bw,className:"nav-icon mx-3",onClick:()=>g(I=>I>1?I-1:I)}),a.jsxs("span",{children:[f," / ",S||1]}),a.jsx(ye,{icon:ww,className:"nav-icon mx-3",onClick:()=>g(I=>I<S?I+1:I)})]})]})]})},gme=({update:t})=>{const[e,n]=j.useState(!0);return j.useEffect(()=>{const r=new Image;r.src=t.headerImage,r.onload=()=>n(!1)},[t.headerImage]),a.jsxs("div",{className:"pagination-component-card",children:[a.jsxs("div",{className:"image-slider-container",children:[e&&a.jsx("div",{className:"image-loader",children:a.jsx("div",{className:"spinner"})}),a.jsx("div",{className:"image-slider",style:{backgroundImage:`url(${t.headerImage})`,opacity:e?0:1}})]}),a.jsx("div",{className:"pagination-component-gradient"}),a.jsxs("div",{className:"home-button-content",children:[a.jsx("p",{className:"home-button-name",children:t.title}),a.jsx("p",{className:"home-button-caption",children:t.category||t.classification})]})]})};let y$=class{constructor(){this.id="",this.dateTimeStart="",this.dateTimeEnd="",this.category="",this.title="",this.body=[{subtitle:"",body:"",image:null,image_source:""}],this.headerImage=null,this.headerImageSource=[],this.tags=[],this.references=[],this.socials=[],this.origin=[]}toJSON(){return{...this}}};const O3=["Advisories","News","Reminders","Announcements","Holidays","Events","Guidelines","Policies","Emergency Alerts","Community Updates","Opportunities","Public Notices","Press Releases"];class x${constructor(){this.id="",this.title="",this.classification="",this.purpose="",this.date="",this.body=[{subtitle:"",body:"",image:null,image_source:""}],this.headerImage=null,this.tags=[],this.references=[],this.name="",this.email="",this.social=""}toJSON(){return{...this}}}const I3=["Informative","Inspirational","Ranking","Tourism Awards and Recognitions","Promotional and Marketing","Educational","Opinions and Review"],b$={Informative:["Statistical Reports","News","Awards and Recognitions","Tourism Projects","Tourism Trends","Popularity Ranking","Technology"],"Promotional and Marketing":["Travel Deals and Promotions","Itinerary-Based","Cultural Exploration","Events or Festival Coverage","Destination Highlight"],"Tourism Awards and Recognitions":["Tourism Enterprises Awards","International Awards and Recognition","National Awards and Recognitions","Sports Tourism Awards"],Ranking:["Best Hotels","Best Restaurants","Best Tourism Frontliners","Best Spa and Wellness Centers","Best Tourism Shops","Best Bars and Party Clubs","Best Buffet Restaurants"],Inspirational:["Story-Telling","Sustainable Tourism","Biography"],Educational:["Travel Tips","Practical or How-To","Budgeting and Financial Planning","Safety and Health"],"Opinions and Review":["Product and Service Reviews","Case Study"]};function Rj(){const[t,e]=j.useState(!1),[n,r]=j.useState(window.innerWidth<=768);j.useEffect(()=>{const i=()=>{r(window.innerWidth<=768)};return window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]);const s=i=>{const o=document.getElementById(i);o&&o.scrollIntoView({behavior:"smooth"})};return a.jsx(B,{fluid:!0,className:"main-container",children:a.jsxs("div",{className:"customized-main-content",children:[a.jsx(rme,{}),a.jsxs("div",{className:"text-center mt-4",children:[a.jsxs("button",{onClick:()=>s("home-buttons"),className:"discover-more-btn my-2 fw-bold",children:[a.jsx(ye,{icon:p$,className:"me-2"}),"Enterprises"]}),a.jsxs("button",{onClick:()=>s("attractions-slide"),className:"discover-more-btn my-2 fw-bold",children:[a.jsx(ye,{icon:L3,className:"me-2"}),"Attractions"]}),a.jsxs("button",{onClick:()=>s("activities-slide"),className:"discover-more-btn my-2 fw-bold",children:[a.jsx(ye,{icon:R3,className:"me-2"}),"Activities"]}),a.jsxs("button",{onClick:()=>s("tourism-updates"),className:"discover-more-btn my-2 fw-bold",children:[a.jsx(ye,{icon:H1,className:"me-2"}),"Updates"]}),a.jsxs("button",{onClick:()=>s("tourism-stories"),className:"discover-more-btn my-2 fw-bold",children:[a.jsx(ye,{icon:Yfe,className:"me-2"}),"Stories"]})]}),a.jsx("p",{className:"home-section-subtitle text-center",children:"Quick Links"}),a.jsx("div",{id:"home-buttons",children:a.jsx(lme,{})}),a.jsx("div",{id:"attractions-slide",children:a.jsx(ume,{})}),a.jsx("div",{id:"activities-slide",children:a.jsx(fme,{})}),a.jsx("div",{id:"tourism-updates",children:a.jsx(hD,{collectionName:"updates",categoryOptions:O3,title:"Tourism Updates",caption:"Stay informed with the latest news and announcements.",filterType:"category"})}),a.jsx("div",{id:"tourism-stories",children:a.jsx(hD,{collectionName:"stories",classificationOptions:I3,title:"Tourism Stories",caption:"Read and be inspired.",filterType:"classification"})}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"empty-container"})]})})}const vme=er.createContext();function yme({children:t}){const[e,n]=j.useState(null),[r,s]=j.useState(!1),[i,o]=j.useState(!0);j.useEffect(()=>ple(zue,l),[]);async function l(h){h?(n({...h}),s(!0)):(n(null),s(!1)),o(!1)}const u={currentUser:e,userLoggedIn:r,loading:i};return a.jsx(vme.Provider,{value:u,children:!i&&t})}const fD="/infoguideapp/assets/logo_with_title-CN6_RRCy.png",xme="/infoguideapp/assets/logoWhiteText-yUESBW3F.png";function bme(){const[t,e]=j.useState(!1),[n,r]=j.useState(null),[s,i]=j.useState(window.innerWidth>768),[o,l]=j.useState(!1),u=()=>l(!1),h=()=>l(!0);j.useEffect(()=>{const g=()=>{i(window.innerWidth>1200)},p=()=>{e(window.scrollY>50)};return window.addEventListener("resize",g),window.addEventListener("scroll",p),()=>{window.removeEventListener("resize",g),window.removeEventListener("scroll",p)}},[]);const f=a.jsx("div",{className:"sidebar-sticky  pt-5",children:a.jsxs(hn,{className:"d-flex justify-content-center",children:[a.jsx("hr",{}),a.jsxs(hn.Link,{className:"ms-lg-2 mb-1",id:"basic-nav-sidebar",as:Lt,to:"/",children:[a.jsx(ye,{icon:H1,size:"md",className:" pe-2",fixedWidth:!0})," UPDATES"]}),a.jsxs(hn.Link,{className:"ms-lg-2 mb-1",id:"basic-nav-sidebar",as:Lt,to:"/",children:[a.jsx(ye,{icon:RN,size:"md",className:"  pe-2",fixedWidth:!0})," DEALS"]}),a.jsxs(hn.Link,{className:"ms-lg-2 mb-1",id:"basic-nav-sidebar",as:Lt,to:"/",children:[a.jsx(ye,{icon:kN,size:"md",className:" pe-2",fixedWidth:!0})," INCOMING EVENTS"]})]})});return a.jsxs("div",{className:"navbar-wrapper",children:[a.jsx("div",{className:`navbar-top ${t?"hide":""}`,children:a.jsxs(B,{fluid:!0,className:"d-flex justify-content-between align-items-center",children:[a.jsx(ox.Brand,{as:N0,to:"/",children:a.jsx(Yx,{className:"ms-lg-2 me-lg-2 logo-top",src:fD,alt:"Logo"})}),a.jsxs("div",{className:"d-none d-xl-flex align-items-center",children:[a.jsx(x,{className:"d-flex ms-lg-2 me-lg-2",style:{maxWidth:"200px"},children:a.jsxs(FO,{children:[a.jsx(x9,{type:"search",placeholder:"Search","aria-label":"Search",disabled:!0,style:{fontSize:"0.8rem",padding:"0.3rem"}}),a.jsx(FO.Text,{style:{fontSize:"0.8rem"},children:a.jsx(ye,{icon:Hfe})})]})}),a.jsx(hn.Link,{className:"ms-lg-2 me-lg-2",id:"navlink-top",as:Lt,to:"/",children:"PH"}),a.jsx(hn.Link,{className:"ms-lg-2 me-lg-2",id:"navlink-top",as:Lt,to:"/",children:"ENG (US)"})]})]})}),a.jsx(ox,{expand:"xl",className:`app-navbar ${t?"scrolled":""}`,children:a.jsxs(B,{fluid:!0,children:[s?null:a.jsx(se,{variant:"link",onClick:h,className:"me-2 text-white",children:a.jsx(ye,{icon:afe,size:"lg"})}),t&&a.jsx(ox.Brand,{as:N0,to:"/",className:"ps-3",children:a.jsx(Yx,{className:"ms-lg-2 me-lg-2",src:xme,alt:"Logo",height:"25"})}),s?a.jsx(ox.Collapse,{id:"basic-navbar-nav",children:a.jsxs(hn,{className:"d-flex justify-content-center w-100",children:[a.jsxs(hn.Link,{className:"ms-lg-2 navlink",as:Lt,to:"/",children:[a.jsx(ye,{icon:H1,size:"md",className:"notification",fixedWidth:!0})," UPDATES"]}),a.jsxs(hn.Link,{className:"ms-lg-2 navlink",as:Lt,to:"/",children:[a.jsx(ye,{icon:RN,size:"md",className:"deals",fixedWidth:!0})," DEALS"]}),a.jsxs(hn.Link,{className:"ms-lg-2 navlink",as:Lt,to:"/",children:[a.jsx(ye,{icon:kN,size:"md",className:"events",fixedWidth:!0})," EVENTS"]}),a.jsx(hn.Link,{className:"ms-lg-2 navlink",size:"md",as:Lt,to:"/",children:"TOURISM STORIES"}),a.jsxs(wt,{className:"ms-lg-2",show:s?n==="experience":void 0,onMouseEnter:s?()=>r("experience"):void 0,onMouseLeave:s?()=>r(null):void 0,title:"EXPERIENCE",id:"basic-nav-dropdown",children:[a.jsxs(wt,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2",title:"HOSPITALITY AND LODGING",id:"basic-nav-dropdown-title",children:[a.jsx(wt.Item,{as:Lt,className:"",id:"basic-nav-dropdown-item",children:"BORACAY ACCOMMODATIONS"}),a.jsx(wt.Divider,{}),a.jsx(wt.Item,{as:Lt,className:"",id:"basic-nav-dropdown-item",children:"MAINLAND MALAY HOTELS"}),a.jsx(wt.Divider,{}),a.jsx(wt.Item,{as:Lt,className:"",id:"basic-nav-dropdown-item",children:"RECREATIONAL RESORTS"})]}),a.jsx(wt.Divider,{}),a.jsxs(wt,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2 ",title:"FOODS AND BEVERAGES",id:"basic-nav-dropdown-title",children:[a.jsx(wt.Item,{as:Lt,id:"basic-nav-dropdown-item",children:"RESTAURANTS"}),a.jsx(wt.Divider,{}),a.jsx(wt.Item,{as:Lt,id:"basic-nav-dropdown-item",children:"BARS AND PARTY CLUBS"}),a.jsx(wt.Divider,{}),a.jsx(wt.Item,{as:Lt,id:"basic-nav-dropdown-item",children:"CAFES AND COWORKINGS"})]}),a.jsx(wt.Divider,{}),a.jsxs(wt,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2 ",title:"TOURISM AND LEISURE",id:"basic-nav-dropdown-title",children:[a.jsx(wt.Item,{as:Lt,id:"basic-nav-dropdown-item",children:"TOUR GUIDES"}),a.jsx(wt.Divider,{}),a.jsx(wt.Item,{as:Lt,id:"basic-nav-dropdown-item",children:"TRAVEL AND TOUR OPERATORS"}),a.jsx(wt.Divider,{}),a.jsx(wt.Item,{as:Lt,id:"basic-nav-dropdown-item",children:"TOURIST ACTIVITY PROVIDERS"}),a.jsx(wt.Divider,{}),a.jsx(wt.Item,{as:Lt,id:"basic-nav-dropdown-item",children:"EVENT PLANNING COMPANIES"}),a.jsx(wt.Divider,{}),a.jsx(wt.Item,{as:Lt,id:"basic-nav-dropdown-item",children:"M.I.C.E FACILITIES"}),a.jsx(wt.Divider,{}),a.jsx(wt.Item,{as:Lt,id:"basic-nav-dropdown-item",children:"TOURISTS AND SPECIALTY SHOPS"})]}),a.jsx(wt.Divider,{}),a.jsxs(wt,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2 ",title:"TRANSPORT AND PARKING",id:"basic-nav-dropdown-title",children:[a.jsx(wt.Item,{as:Lt,id:"basic-nav-dropdown-item",children:"TOURIST LAND AND AIR TRANSPORTS"}),a.jsx(wt.Divider,{}),a.jsx(wt.Item,{as:Lt,id:"basic-nav-dropdown-item",children:"PASSENGER SHIPS"}),a.jsx(wt.Divider,{}),a.jsx(wt.Item,{as:Lt,id:"basic-nav-dropdown-item",children:"PARKING SPACES"})]}),a.jsx(wt.Divider,{}),a.jsxs(wt,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2 ",title:"HEALTH AND WELLNESS",id:"basic-nav-dropdown-title",children:[a.jsx(wt.Item,{as:Lt,id:"basic-nav-dropdown-item",children:"SPA AND WELLNESS CENTERS"}),a.jsx(wt.Divider,{}),a.jsx(wt.Item,{as:Lt,id:"basic-nav-dropdown-item",children:"GYMS AND FITNESS CENTERS"})]}),a.jsx(wt.Divider,{}),a.jsx(wt,{className:"ms-lg-2 me-lg-2 ",title:"HEALTHCARE",id:"basic-nav-dropdown-title",children:a.jsx(hn.Link,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2  ",id:"basic-nav-dropdown-title",as:Lt,to:"/",children:"HOSPITALS AND CLINICS"})}),a.jsx(wt.Divider,{}),a.jsxs(hn.Link,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2 ",id:"basic-nav-dropdown-title",as:Lt,to:"/",children:[a.jsx(ye,{icon:R3,size:"md",fixedWidth:!0})," ACTIVITIES"]}),a.jsx(wt.Divider,{}),a.jsxs(hn.Link,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2  ",id:"basic-nav-dropdown-title",as:Lt,to:"/",children:[a.jsx(ye,{icon:L3,size:"md",fixedWidth:!0})," ATTRACTIONS"]})]}),a.jsxs(wt,{className:"ms-lg-2 me-lg-2 ",show:s?n==="essentials":void 0,onMouseEnter:s?()=>r("essentials"):void 0,onMouseLeave:s?()=>r(null):void 0,title:"ESSENTIALS",id:"basic-nav-dropdown",children:[a.jsx(hn.Link,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2  ",id:"basic-nav-dropdown-title",as:Lt,to:"/",children:"EMERGENCY HOTLINES"}),a.jsx(wt.Divider,{}),a.jsx(hn.Link,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2  ",id:"basic-nav-dropdown-title",as:Lt,to:"/",children:"TOURIST REQUIREMENTS"}),a.jsx(wt.Divider,{}),a.jsx(hn.Link,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2  ",id:"basic-nav-dropdown-title",as:Lt,to:"/",children:"TARIFF RATES"}),a.jsx(wt.Divider,{}),a.jsx(hn.Link,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2  ",id:"basic-nav-dropdown-title",as:Lt,to:"/",children:"BEACH LAWS"}),a.jsx(wt.Divider,{}),a.jsx(hn.Link,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2  ",id:"basic-nav-dropdown-title",as:Lt,to:"/",children:"CALENDAR OF EVENTS"}),a.jsx(wt.Divider,{}),a.jsx(hn.Link,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2  ",id:"basic-nav-dropdown-title",as:Lt,to:"/",children:"LIFESTYLES AND FACILITIES"}),a.jsx(wt.Divider,{}),a.jsx(hn.Link,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2  ",id:"basic-nav-dropdown-title",as:Lt,to:"/",children:"VIRTUAL TOUR GUIDE"}),a.jsx(wt.Divider,{}),a.jsx(hn.Link,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2  ",id:"basic-nav-dropdown-title",as:Lt,to:"/",children:"HELPFUL LINKS"}),a.jsx(wt.Divider,{}),a.jsx(hn.Link,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2  ",id:"basic-nav-dropdown-title",as:Lt,to:"/",children:"TOURIST FAQS"})]}),a.jsxs(hn.Link,{className:"ms-lg-2 me-lg-2  navlink",as:Lt,to:"/",children:[a.jsx(ye,{icon:c$,size:"xs",className:"sustainable",fixedWidth:!0})," SUSTAINABLE TOURISM"]}),a.jsxs(wt,{className:"ms-lg-2 me-lg-2 ",show:s?n==="others":void 0,onMouseEnter:s?()=>r("others"):void 0,onMouseLeave:s?()=>r(null):void 0,title:"OTHERS",id:"basic-nav-dropdown",children:[a.jsx(hn.Link,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2 ",id:"basic-nav-dropdown-title",as:Lt,to:"/",children:"GALLERY"}),a.jsx(wt.Divider,{}),a.jsx(hn.Link,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2 ",id:"basic-nav-dropdown-title",as:Lt,to:"/",children:"TOURISM FRONTLINERS"}),a.jsx(wt.Divider,{}),a.jsxs(wt,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2 ",id:"basic-nav-dropdown-title",title:"TOURISM DATA",children:[a.jsx(hn.Link,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2  ",id:"basic-nav-dropdown-item",as:Lt,to:"/",children:"TOURISTS ARRIVALS"}),a.jsx(wt.Divider,{}),a.jsx(hn.Link,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2  ",id:"basic-nav-dropdown-item",as:Lt,to:"/",children:"CRUISE SHIPS ARRIVALS"}),a.jsx(wt.Divider,{}),a.jsx(hn.Link,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2  ",id:"basic-nav-dropdown-item",as:Lt,to:"/",children:"FLIGHT DATA"}),a.jsx(wt.Divider,{}),a.jsx(hn.Link,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2  ",id:"basic-nav-dropdown-item",as:Lt,to:"/",children:"M.I.C.E. REPORTS"})]}),a.jsx(wt.Divider,{}),a.jsxs(wt,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2  ",title:"ACHIEVEMENTS",id:"basic-nav-dropdown-title",children:[a.jsx(hn.Link,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2  ",id:"basic-nav-dropdown-item",as:Lt,to:"/",children:"AWARDS AND RECOGNITIONS"}),a.jsx(wt.Divider,{}),a.jsx(hn.Link,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2  ",id:"basic-nav-dropdown-item",as:Lt,to:"/",children:"TRAVEL EXPOS, EXHIBITS, CONVENTIONS, B2B AND ROADSHOWS"}),a.jsx(wt.Divider,{}),a.jsx(hn.Link,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2  ",id:"basic-nav-dropdown-item",as:Lt,to:"/",children:"TOURISM PROJECTS"}),a.jsx(wt.Divider,{}),a.jsx(hn.Link,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2  ",id:"basic-nav-dropdown-item",as:Lt,to:"/",children:"TOURISM MARKETS"})]}),a.jsx(wt.Divider,{}),a.jsx(hn.Link,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2  ",id:"basic-nav-dropdown-title",as:Lt,to:"/",children:"ABOUT MALAY-BORACAY"}),a.jsx(wt.Divider,{}),a.jsx(hn.Link,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2  ",id:"basic-nav-dropdown-title",as:Lt,to:"/",children:"ABOUT US"}),a.jsx(wt.Divider,{}),a.jsx(hn.Link,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2  ",id:"basic-nav-dropdown-title",as:Lt,to:"/",children:"FEEDBACK"})]}),a.jsx(hn.Link,{className:"ms-lg-2 navlink",as:Lt,to:"/",children:"COMPLAINT"})]})}):a.jsxs(Vu,{show:o,onHide:u,placement:"start",children:[a.jsx(Vu.Header,{closeButton:!0,children:a.jsx(Yx,{className:"ms-lg-2 me-lg-2 logo-top",src:fD,alt:"Logo"})}),a.jsx(Vu.Body,{children:f})]})]})})]})}const wme=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Zm(t,e,n){const r=_me(t),{webkitRelativePath:s}=t,i=typeof e=="string"?e:typeof s=="string"&&s.length>0?s:`./${t.name}`;return typeof r.path!="string"&&mD(r,"path",i),mD(r,"relativePath",i),r}function _me(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const r=e.split(".").pop().toLowerCase(),s=wme.get(r);s&&Object.defineProperty(t,"type",{value:s,writable:!1,configurable:!1,enumerable:!0})}return t}function mD(t,e,n){Object.defineProperty(t,e,{value:n,writable:!1,configurable:!1,enumerable:!0})}const jme=[".DS_Store","Thumbs.db"];function Eme(t){return qh(this,void 0,void 0,function*(){return G1(t)&&Sme(t.dataTransfer)?Ame(t.dataTransfer,t.type):Cme(t)?Nme(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?Tme(t):[]})}function Sme(t){return G1(t)}function Cme(t){return G1(t)&&G1(t.target)}function G1(t){return typeof t=="object"&&t!==null}function Nme(t){return DN(t.target.files).map(e=>Zm(e))}function Tme(t){return qh(this,void 0,void 0,function*(){return(yield Promise.all(t.map(n=>n.getFile()))).map(n=>Zm(n))})}function Ame(t,e){return qh(this,void 0,void 0,function*(){if(t.items){const n=DN(t.items).filter(s=>s.kind==="file");if(e!=="drop")return n;const r=yield Promise.all(n.map(Lme));return pD(w$(r))}return pD(DN(t.files).map(n=>Zm(n)))})}function pD(t){return t.filter(e=>jme.indexOf(e.name)===-1)}function DN(t){if(t===null)return[];const e=[];for(let n=0;n<t.length;n++){const r=t[n];e.push(r)}return e}function Lme(t){if(typeof t.webkitGetAsEntry!="function")return gD(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?_$(e):gD(t,e)}function w$(t){return t.reduce((e,n)=>[...e,...Array.isArray(n)?w$(n):[n]],[])}function gD(t,e){return qh(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const i=yield t.getAsFileSystemHandle();if(i===null)throw new Error(`${t} is not a File`);if(i!==void 0){const o=yield i.getFile();return o.handle=i,Zm(o)}}const r=t.getAsFile();if(!r)throw new Error(`${t} is not a File`);return Zm(r,(n=e==null?void 0:e.fullPath)!==null&&n!==void 0?n:void 0)})}function Rme(t){return qh(this,void 0,void 0,function*(){return t.isDirectory?_$(t):kme(t)})}function _$(t){const e=t.createReader();return new Promise((n,r)=>{const s=[];function i(){e.readEntries(o=>qh(this,void 0,void 0,function*(){if(o.length){const l=Promise.all(o.map(Rme));s.push(l),i()}else try{const l=yield Promise.all(s);n(l)}catch(l){r(l)}}),o=>{r(o)})}i()})}function kme(t){return qh(this,void 0,void 0,function*(){return new Promise((e,n)=>{t.file(r=>{const s=Zm(r,t.fullPath);e(s)},r=>{n(r)})})})}var bx={},vD;function Ome(){return vD||(vD=1,bx.__esModule=!0,bx.default=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(",");if(n.length===0)return!0;var r=t.name||"",s=(t.type||"").toLowerCase(),i=s.replace(/\/.*$/,"");return n.some(function(o){var l=o.trim().toLowerCase();return l.charAt(0)==="."?r.toLowerCase().endsWith(l):l.endsWith("/*")?i===l.replace(/\/.*$/,""):s===l})}return!0}),bx}var Ime=Ome();const kj=rc(Ime);function yD(t){return Mme(t)||Dme(t)||E$(t)||Pme()}function Pme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mme(t){if(Array.isArray(t))return MN(t)}function xD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function bD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xD(Object(n),!0).forEach(function(r){j$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j$(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B0(t,e){return Ume(t)||Bme(t,e)||E$(t,e)||Fme()}function Fme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E$(t,e){if(t){if(typeof t=="string")return MN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MN(t,e)}}function MN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bme(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],s=!0,i=!1,o,l;try{for(n=n.call(t);!(s=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));s=!0);}catch(u){i=!0,l=u}finally{try{!s&&n.return!=null&&n.return()}finally{if(i)throw l}}return r}}function Ume(t){if(Array.isArray(t))return t}var zme=typeof kj=="function"?kj:kj.default,qme="file-invalid-type",$me="file-too-large",Vme="file-too-small",Hme="too-many-files",Gme=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=e.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:qme,message:"File type must be ".concat(r)}},wD=function(e){return{code:$me,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},_D=function(e){return{code:Vme,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},Wme={code:Hme,message:"Too many files"};function S$(t,e){var n=t.type==="application/x-moz-file"||zme(t,e);return[n,n?null:Gme(e)]}function C$(t,e,n){if(th(t.size))if(th(e)&&th(n)){if(t.size>n)return[!1,wD(n)];if(t.size<e)return[!1,_D(e)]}else{if(th(e)&&t.size<e)return[!1,_D(e)];if(th(n)&&t.size>n)return[!1,wD(n)]}return[!0,null]}function th(t){return t!=null}function Kme(t){var e=t.files,n=t.accept,r=t.minSize,s=t.maxSize,i=t.multiple,o=t.maxFiles,l=t.validator;return!i&&e.length>1||i&&o>=1&&e.length>o?!1:e.every(function(u){var h=S$(u,n),f=B0(h,1),g=f[0],p=C$(u,r,s),v=B0(p,1),w=v[0],E=l?l(u):null;return g&&w&&!E})}function W1(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function wx(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function jD(t){t.preventDefault()}function Yme(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function Xme(t){return t.indexOf("Edge/")!==-1}function Jme(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Yme(t)||Xme(t)}function Nl(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var s=arguments.length,i=new Array(s>1?s-1:0),o=1;o<s;o++)i[o-1]=arguments[o];return e.some(function(l){return!W1(r)&&l&&l.apply(void 0,[r].concat(i)),W1(r)})}}function Qme(){return"showOpenFilePicker"in window}function Zme(t){if(th(t)){var e=Object.entries(t).filter(function(n){var r=B0(n,2),s=r[0],i=r[1],o=!0;return N$(s)||(console.warn('Skipped "'.concat(s,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(i)||!i.every(T$))&&(console.warn('Skipped "'.concat(s,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(n,r){var s=B0(r,2),i=s[0],o=s[1];return bD(bD({},n),{},j$({},i,o))},{});return[{description:"Files",accept:e}]}return t}function epe(t){if(th(t))return Object.entries(t).reduce(function(e,n){var r=B0(n,2),s=r[0],i=r[1];return[].concat(yD(e),[s],yD(i))},[]).filter(function(e){return N$(e)||T$(e)}).join(",")}function tpe(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function npe(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function N$(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function T$(t){return/^.*\.[\w]+$/.test(t)}var rpe=["children"],spe=["open"],ape=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],ipe=["refKey","onChange","onClick"];function ope(t){return upe(t)||cpe(t)||A$(t)||lpe()}function lpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function upe(t){if(Array.isArray(t))return FN(t)}function Oj(t,e){return fpe(t)||hpe(t,e)||A$(t,e)||dpe()}function dpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A$(t,e){if(t){if(typeof t=="string")return FN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FN(t,e)}}function FN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hpe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],s=!0,i=!1,o,l;try{for(n=n.call(t);!(s=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));s=!0);}catch(u){i=!0,l=u}finally{try{!s&&n.return!=null&&n.return()}finally{if(i)throw l}}return r}}function fpe(t){if(Array.isArray(t))return t}function ED(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Jr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ED(Object(n),!0).forEach(function(r){BN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ED(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BN(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K1(t,e){if(t==null)return{};var n=mpe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mpe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var P3=j.forwardRef(function(t,e){var n=t.children,r=K1(t,rpe),s=Ht(r),i=s.open,o=K1(s,spe);return j.useImperativeHandle(e,function(){return{open:i}},[i]),er.createElement(j.Fragment,null,n(Jr(Jr({},o),{},{open:i})))});P3.displayName="Dropzone";var L$={disabled:!1,getFilesFromEvent:Eme,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};P3.defaultProps=L$;P3.propTypes={children:pt.func,accept:pt.objectOf(pt.arrayOf(pt.string)),multiple:pt.bool,preventDropOnDocument:pt.bool,noClick:pt.bool,noKeyboard:pt.bool,noDrag:pt.bool,noDragEventsBubbling:pt.bool,minSize:pt.number,maxSize:pt.number,maxFiles:pt.number,disabled:pt.bool,getFilesFromEvent:pt.func,onFileDialogCancel:pt.func,onFileDialogOpen:pt.func,useFsAccessApi:pt.bool,autoFocus:pt.bool,onDragEnter:pt.func,onDragLeave:pt.func,onDragOver:pt.func,onDrop:pt.func,onDropAccepted:pt.func,onDropRejected:pt.func,onError:pt.func,validator:pt.func};var UN={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Ht(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Jr(Jr({},L$),t),n=e.accept,r=e.disabled,s=e.getFilesFromEvent,i=e.maxSize,o=e.minSize,l=e.multiple,u=e.maxFiles,h=e.onDragEnter,f=e.onDragLeave,g=e.onDragOver,p=e.onDrop,v=e.onDropAccepted,w=e.onDropRejected,E=e.onFileDialogCancel,S=e.onFileDialogOpen,C=e.useFsAccessApi,O=e.autoFocus,I=e.preventDropOnDocument,D=e.noClick,T=e.noKeyboard,F=e.noDrag,y=e.noDragEventsBubbling,A=e.onError,_=e.validator,L=j.useMemo(function(){return epe(n)},[n]),R=j.useMemo(function(){return Zme(n)},[n]),U=j.useMemo(function(){return typeof S=="function"?S:SD},[S]),P=j.useMemo(function(){return typeof E=="function"?E:SD},[E]),K=j.useRef(null),G=j.useRef(null),re=j.useReducer(ppe,UN),Z=Oj(re,2),me=Z[0],ie=Z[1],W=me.isFocused,ve=me.isFileDialogActive,Q=j.useRef(typeof window<"u"&&window.isSecureContext&&C&&Qme()),ne=function(){!Q.current&&ve&&setTimeout(function(){if(G.current){var xt=G.current.files;xt.length||(ie({type:"closeDialog"}),P())}},300)};j.useEffect(function(){return window.addEventListener("focus",ne,!1),function(){window.removeEventListener("focus",ne,!1)}},[G,ve,P,Q]);var te=j.useRef([]),X=function(xt){K.current&&K.current.contains(xt.target)||(xt.preventDefault(),te.current=[])};j.useEffect(function(){return I&&(document.addEventListener("dragover",jD,!1),document.addEventListener("drop",X,!1)),function(){I&&(document.removeEventListener("dragover",jD),document.removeEventListener("drop",X))}},[K,I]),j.useEffect(function(){return!r&&O&&K.current&&K.current.focus(),function(){}},[K,O,r]);var be=j.useCallback(function(We){A?A(We):console.error(We)},[A]),Ne=j.useCallback(function(We){We.preventDefault(),We.persist(),fn(We),te.current=[].concat(ope(te.current),[We.target]),wx(We)&&Promise.resolve(s(We)).then(function(xt){if(!(W1(We)&&!y)){var Mt=xt.length,kt=Mt>0&&Kme({files:xt,accept:L,minSize:o,maxSize:i,multiple:l,maxFiles:u,validator:_}),on=Mt>0&&!kt;ie({isDragAccept:kt,isDragReject:on,isDragActive:!0,type:"setDraggedFiles"}),h&&h(We)}}).catch(function(xt){return be(xt)})},[s,h,be,y,L,o,i,l,u,_]),Ee=j.useCallback(function(We){We.preventDefault(),We.persist(),fn(We);var xt=wx(We);if(xt&&We.dataTransfer)try{We.dataTransfer.dropEffect="copy"}catch{}return xt&&g&&g(We),!1},[g,y]),Ie=j.useCallback(function(We){We.preventDefault(),We.persist(),fn(We);var xt=te.current.filter(function(kt){return K.current&&K.current.contains(kt)}),Mt=xt.indexOf(We.target);Mt!==-1&&xt.splice(Mt,1),te.current=xt,!(xt.length>0)&&(ie({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),wx(We)&&f&&f(We))},[K,f,y]),_e=j.useCallback(function(We,xt){var Mt=[],kt=[];We.forEach(function(on){var Gr=S$(on,L),Jn=Oj(Gr,2),ws=Jn[0],es=Jn[1],Br=C$(on,o,i),Vn=Oj(Br,2),Ur=Vn[0],zr=Vn[1],Hn=_?_(on):null;if(ws&&Ur&&!Hn)Mt.push(on);else{var Wr=[es,zr];Hn&&(Wr=Wr.concat(Hn)),kt.push({file:on,errors:Wr.filter(function(yr){return yr})})}}),(!l&&Mt.length>1||l&&u>=1&&Mt.length>u)&&(Mt.forEach(function(on){kt.push({file:on,errors:[Wme]})}),Mt.splice(0)),ie({acceptedFiles:Mt,fileRejections:kt,isDragReject:kt.length>0,type:"setFiles"}),p&&p(Mt,kt,xt),kt.length>0&&w&&w(kt,xt),Mt.length>0&&v&&v(Mt,xt)},[ie,l,L,o,i,u,p,v,w,_]),Ue=j.useCallback(function(We){We.preventDefault(),We.persist(),fn(We),te.current=[],wx(We)&&Promise.resolve(s(We)).then(function(xt){W1(We)&&!y||_e(xt,We)}).catch(function(xt){return be(xt)}),ie({type:"reset"})},[s,_e,be,y]),tt=j.useCallback(function(){if(Q.current){ie({type:"openDialog"}),U();var We={multiple:l,types:R};window.showOpenFilePicker(We).then(function(xt){return s(xt)}).then(function(xt){_e(xt,null),ie({type:"closeDialog"})}).catch(function(xt){tpe(xt)?(P(xt),ie({type:"closeDialog"})):npe(xt)?(Q.current=!1,G.current?(G.current.value=null,G.current.click()):be(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):be(xt)});return}G.current&&(ie({type:"openDialog"}),U(),G.current.value=null,G.current.click())},[ie,U,P,C,_e,be,R,l]),ct=j.useCallback(function(We){!K.current||!K.current.isEqualNode(We.target)||(We.key===" "||We.key==="Enter"||We.keyCode===32||We.keyCode===13)&&(We.preventDefault(),tt())},[K,tt]),ut=j.useCallback(function(){ie({type:"focus"})},[]),Ye=j.useCallback(function(){ie({type:"blur"})},[]),Et=j.useCallback(function(){D||(Jme()?setTimeout(tt,0):tt())},[D,tt]),Ze=function(xt){return r?null:xt},zt=function(xt){return T?null:Ze(xt)},Cn=function(xt){return F?null:Ze(xt)},fn=function(xt){y&&xt.stopPropagation()},vn=j.useMemo(function(){return function(){var We=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},xt=We.refKey,Mt=xt===void 0?"ref":xt,kt=We.role,on=We.onKeyDown,Gr=We.onFocus,Jn=We.onBlur,ws=We.onClick,es=We.onDragEnter,Br=We.onDragOver,Vn=We.onDragLeave,Ur=We.onDrop,zr=K1(We,ape);return Jr(Jr(BN({onKeyDown:zt(Nl(on,ct)),onFocus:zt(Nl(Gr,ut)),onBlur:zt(Nl(Jn,Ye)),onClick:Ze(Nl(ws,Et)),onDragEnter:Cn(Nl(es,Ne)),onDragOver:Cn(Nl(Br,Ee)),onDragLeave:Cn(Nl(Vn,Ie)),onDrop:Cn(Nl(Ur,Ue)),role:typeof kt=="string"&&kt!==""?kt:"presentation"},Mt,K),!r&&!T?{tabIndex:0}:{}),zr)}},[K,ct,ut,Ye,Et,Ne,Ee,Ie,Ue,T,F,r]),dr=j.useCallback(function(We){We.stopPropagation()},[]),sr=j.useMemo(function(){return function(){var We=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},xt=We.refKey,Mt=xt===void 0?"ref":xt,kt=We.onChange,on=We.onClick,Gr=K1(We,ipe),Jn=BN({accept:L,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Ze(Nl(kt,Ue)),onClick:Ze(Nl(on,dr)),tabIndex:-1},Mt,G);return Jr(Jr({},Jn),Gr)}},[G,n,l,Ue,r]);return Jr(Jr({},me),{},{isFocused:W&&!r,getRootProps:vn,getInputProps:sr,rootRef:K,inputRef:G,open:Ze(tt)})}function ppe(t,e){switch(e.type){case"focus":return Jr(Jr({},t),{},{isFocused:!0});case"blur":return Jr(Jr({},t),{},{isFocused:!1});case"openDialog":return Jr(Jr({},UN),{},{isFileDialogActive:!0});case"closeDialog":return Jr(Jr({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return Jr(Jr({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return Jr(Jr({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return Jr({},UN);default:return t}}function SD(){}/*!
* sweetalert2 v11.17.2
* Released under the MIT License.
*/function R$(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function gpe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function CD(t,e){return t.get(R$(t,e))}function vpe(t,e,n){gpe(t,e),e.set(t,n)}function ype(t,e,n){return t.set(R$(t,e),n),n}const xpe=100,qt={},bpe=()=>{qt.previousActiveElement instanceof HTMLElement?(qt.previousActiveElement.focus(),qt.previousActiveElement=null):document.body&&document.body.focus()},wpe=t=>new Promise(e=>{if(!t)return e();const n=window.scrollX,r=window.scrollY;qt.restoreFocusTimeout=setTimeout(()=>{bpe(),e()},xpe),window.scrollTo(n,r)}),k$="swal2-",_pe=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],Fe=_pe.reduce((t,e)=>(t[e]=k$+e,t),{}),jpe=["success","warning","info","question","error"],Y1=jpe.reduce((t,e)=>(t[e]=k$+e,t),{}),O$="SweetAlert2:",D3=t=>t.charAt(0).toUpperCase()+t.slice(1),si=t=>{console.warn(`${O$} ${typeof t=="object"?t.join(" "):t}`)},lf=t=>{console.error(`${O$} ${t}`)},ND=[],Epe=t=>{ND.includes(t)||(ND.push(t),si(t))},I$=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;Epe(`"${t}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},_w=t=>typeof t=="function"?t():t,M3=t=>t&&typeof t.toPromise=="function",kv=t=>M3(t)?t.toPromise():Promise.resolve(t),F3=t=>t&&Promise.resolve(t)===t,ai=()=>document.body.querySelector(`.${Fe.container}`),Ov=t=>{const e=ai();return e?e.querySelector(t):null},Qi=t=>Ov(`.${t}`),Xn=()=>Qi(Fe.popup),yp=()=>Qi(Fe.icon),Spe=()=>Qi(Fe["icon-content"]),P$=()=>Qi(Fe.title),B3=()=>Qi(Fe["html-container"]),D$=()=>Qi(Fe.image),U3=()=>Qi(Fe["progress-steps"]),jw=()=>Qi(Fe["validation-message"]),Xl=()=>Ov(`.${Fe.actions} .${Fe.confirm}`),xp=()=>Ov(`.${Fe.actions} .${Fe.cancel}`),cf=()=>Ov(`.${Fe.actions} .${Fe.deny}`),Cpe=()=>Qi(Fe["input-label"]),bp=()=>Ov(`.${Fe.loader}`),Iv=()=>Qi(Fe.actions),M$=()=>Qi(Fe.footer),Ew=()=>Qi(Fe["timer-progress-bar"]),z3=()=>Qi(Fe.close),Npe=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,q3=()=>{const t=Xn();if(!t)return[];const e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(e).sort((i,o)=>{const l=parseInt(i.getAttribute("tabindex")||"0"),u=parseInt(o.getAttribute("tabindex")||"0");return l>u?1:l<u?-1:0}),r=t.querySelectorAll(Npe),s=Array.from(r).filter(i=>i.getAttribute("tabindex")!=="-1");return[...new Set(n.concat(s))].filter(i=>wi(i))},$3=()=>Bc(document.body,Fe.shown)&&!Bc(document.body,Fe["toast-shown"])&&!Bc(document.body,Fe["no-backdrop"]),Sw=()=>{const t=Xn();return t?Bc(t,Fe.toast):!1},Tpe=()=>{const t=Xn();return t?t.hasAttribute("data-loading"):!1},Zi=(t,e)=>{if(t.textContent="",e){const r=new DOMParser().parseFromString(e,"text/html"),s=r.querySelector("head");s&&Array.from(s.childNodes).forEach(o=>{t.appendChild(o)});const i=r.querySelector("body");i&&Array.from(i.childNodes).forEach(o=>{o instanceof HTMLVideoElement||o instanceof HTMLAudioElement?t.appendChild(o.cloneNode(!0)):t.appendChild(o)})}},Bc=(t,e)=>{if(!e)return!1;const n=e.split(/\s+/);for(let r=0;r<n.length;r++)if(!t.classList.contains(n[r]))return!1;return!0},Ape=(t,e)=>{Array.from(t.classList).forEach(n=>{!Object.values(Fe).includes(n)&&!Object.values(Y1).includes(n)&&!Object.values(e.showClass||{}).includes(n)&&t.classList.remove(n)})},Yi=(t,e,n)=>{if(Ape(t,e),!e.customClass)return;const r=e.customClass[n];if(r){if(typeof r!="string"&&!r.forEach){si(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof r}"`);return}zn(t,r)}},Cw=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${Fe.popup} > .${Fe[e]}`);case"checkbox":return t.querySelector(`.${Fe.popup} > .${Fe.checkbox} input`);case"radio":return t.querySelector(`.${Fe.popup} > .${Fe.radio} input:checked`)||t.querySelector(`.${Fe.popup} > .${Fe.radio} input:first-child`);case"range":return t.querySelector(`.${Fe.popup} > .${Fe.range} input`);default:return t.querySelector(`.${Fe.popup} > .${Fe.input}`)}},F$=t=>{if(t.focus(),t.type!=="file"){const e=t.value;t.value="",t.value=e}},B$=(t,e,n)=>{!t||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(r=>{Array.isArray(t)?t.forEach(s=>{n?s.classList.add(r):s.classList.remove(r)}):n?t.classList.add(r):t.classList.remove(r)}))},zn=(t,e)=>{B$(t,e,!0)},Oo=(t,e)=>{B$(t,e,!1)},Gu=(t,e)=>{const n=Array.from(t.children);for(let r=0;r<n.length;r++){const s=n[r];if(s instanceof HTMLElement&&Bc(s,e))return s}},hh=(t,e,n)=>{n===`${parseInt(n)}`&&(n=parseInt(n)),n||parseInt(n)===0?t.style.setProperty(e,typeof n=="number"?`${n}px`:n):t.style.removeProperty(e)},na=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";t&&(t.style.display=e)},qa=t=>{t&&(t.style.display="none")},V3=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";t&&new MutationObserver(()=>{Pv(t,t.innerHTML,e)}).observe(t,{childList:!0,subtree:!0})},TD=(t,e,n,r)=>{const s=t.querySelector(e);s&&s.style.setProperty(n,r)},Pv=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";e?na(t,n):qa(t)},wi=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),Lpe=()=>!wi(Xl())&&!wi(cf())&&!wi(xp()),AD=t=>t.scrollHeight>t.clientHeight,U$=t=>{const e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),r=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||r>0},H3=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=Ew();n&&wi(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition=`width ${t/1e3}s linear`,n.style.width="0%"},10))},Rpe=()=>{const t=Ew();if(!t)return;const e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const n=parseInt(window.getComputedStyle(t).width),r=e/n*100;t.style.width=`${r}%`},kpe=()=>typeof window>"u"||typeof document>"u",Ope=`
 <div aria-labelledby="${Fe.title}" aria-describedby="${Fe["html-container"]}" class="${Fe.popup}" tabindex="-1">
   <button type="button" class="${Fe.close}"></button>
   <ul class="${Fe["progress-steps"]}"></ul>
   <div class="${Fe.icon}"></div>
   <img class="${Fe.image}" />
   <h2 class="${Fe.title}" id="${Fe.title}"></h2>
   <div class="${Fe["html-container"]}" id="${Fe["html-container"]}"></div>
   <input class="${Fe.input}" id="${Fe.input}" />
   <input type="file" class="${Fe.file}" />
   <div class="${Fe.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${Fe.select}" id="${Fe.select}"></select>
   <div class="${Fe.radio}"></div>
   <label class="${Fe.checkbox}">
     <input type="checkbox" id="${Fe.checkbox}" />
     <span class="${Fe.label}"></span>
   </label>
   <textarea class="${Fe.textarea}" id="${Fe.textarea}"></textarea>
   <div class="${Fe["validation-message"]}" id="${Fe["validation-message"]}"></div>
   <div class="${Fe.actions}">
     <div class="${Fe.loader}"></div>
     <button type="button" class="${Fe.confirm}"></button>
     <button type="button" class="${Fe.deny}"></button>
     <button type="button" class="${Fe.cancel}"></button>
   </div>
   <div class="${Fe.footer}"></div>
   <div class="${Fe["timer-progress-bar-container"]}">
     <div class="${Fe["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),Ipe=()=>{const t=ai();return t?(t.remove(),Oo([document.documentElement,document.body],[Fe["no-backdrop"],Fe["toast-shown"],Fe["has-column"]]),!0):!1},Xd=()=>{qt.currentInstance.resetValidationMessage()},Ppe=()=>{const t=Xn(),e=Gu(t,Fe.input),n=Gu(t,Fe.file),r=t.querySelector(`.${Fe.range} input`),s=t.querySelector(`.${Fe.range} output`),i=Gu(t,Fe.select),o=t.querySelector(`.${Fe.checkbox} input`),l=Gu(t,Fe.textarea);e.oninput=Xd,n.onchange=Xd,i.onchange=Xd,o.onchange=Xd,l.oninput=Xd,r.oninput=()=>{Xd(),s.value=r.value},r.onchange=()=>{Xd(),s.value=r.value}},Dpe=t=>typeof t=="string"?document.querySelector(t):t,Mpe=t=>{const e=Xn();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")},Fpe=t=>{window.getComputedStyle(t).direction==="rtl"&&zn(ai(),Fe.rtl)},Bpe=t=>{const e=Ipe();if(kpe()){lf("SweetAlert2 requires document to initialize");return}const n=document.createElement("div");n.className=Fe.container,e&&zn(n,Fe["no-transition"]),Zi(n,Ope),n.dataset.swal2Theme=t.theme;const r=Dpe(t.target);r.appendChild(n),Mpe(t),Fpe(r),Ppe()},G3=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):typeof t=="object"?Upe(t,e):t&&Zi(e,t)},Upe=(t,e)=>{t.jquery?zpe(e,t):Zi(e,t.toString())},zpe=(t,e)=>{if(t.textContent="",0 in e)for(let n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},qpe=(t,e)=>{const n=Iv(),r=bp();!n||!r||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?qa(n):na(n),Yi(n,e,"actions"),$pe(n,r,e),Zi(r,e.loaderHtml||""),Yi(r,e,"loader"))};function $pe(t,e,n){const r=Xl(),s=cf(),i=xp();!r||!s||!i||(Ij(r,"confirm",n),Ij(s,"deny",n),Ij(i,"cancel",n),Vpe(r,s,i,n),n.reverseButtons&&(n.toast?(t.insertBefore(i,r),t.insertBefore(s,r)):(t.insertBefore(i,e),t.insertBefore(s,e),t.insertBefore(r,e))))}function Vpe(t,e,n,r){if(!r.buttonsStyling){Oo([t,e,n],Fe.styled);return}zn([t,e,n],Fe.styled),r.confirmButtonColor&&(t.style.backgroundColor=r.confirmButtonColor,zn(t,Fe["default-outline"])),r.denyButtonColor&&(e.style.backgroundColor=r.denyButtonColor,zn(e,Fe["default-outline"])),r.cancelButtonColor&&(n.style.backgroundColor=r.cancelButtonColor,zn(n,Fe["default-outline"]))}function Ij(t,e,n){const r=D3(e);Pv(t,n[`show${r}Button`],"inline-block"),Zi(t,n[`${e}ButtonText`]||""),t.setAttribute("aria-label",n[`${e}ButtonAriaLabel`]||""),t.className=Fe[e],Yi(t,n,`${e}Button`)}const Hpe=(t,e)=>{const n=z3();n&&(Zi(n,e.closeButtonHtml||""),Yi(n,e,"closeButton"),Pv(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel||""))},Gpe=(t,e)=>{const n=ai();n&&(Wpe(n,e.backdrop),Kpe(n,e.position),Ype(n,e.grow),Yi(n,e,"container"))};function Wpe(t,e){typeof e=="string"?t.style.background=e:e||zn([document.documentElement,document.body],Fe["no-backdrop"])}function Kpe(t,e){e&&(e in Fe?zn(t,Fe[e]):(si('The "position" parameter is not valid, defaulting to "center"'),zn(t,Fe.center)))}function Ype(t,e){e&&zn(t,Fe[`grow-${e}`])}var Sr={innerParams:new WeakMap,domCache:new WeakMap};const Xpe=["input","file","range","select","radio","checkbox","textarea"],Jpe=(t,e)=>{const n=Xn();if(!n)return;const r=Sr.innerParams.get(t),s=!r||e.input!==r.input;Xpe.forEach(i=>{const o=Gu(n,Fe[i]);o&&(ege(i,e.inputAttributes),o.className=Fe[i],s&&qa(o))}),e.input&&(s&&Qpe(e),tge(e))},Qpe=t=>{if(!t.input)return;if(!ys[t.input]){lf(`Unexpected type of input! Expected ${Object.keys(ys).join(" | ")}, got "${t.input}"`);return}const e=z$(t.input);if(!e)return;const n=ys[t.input](e,t);na(e),t.inputAutoFocus&&setTimeout(()=>{F$(n)})},Zpe=t=>{for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;["id","type","value","style"].includes(n)||t.removeAttribute(n)}},ege=(t,e)=>{const n=Xn();if(!n)return;const r=Cw(n,t);if(r){Zpe(r);for(const s in e)r.setAttribute(s,e[s])}},tge=t=>{if(!t.input)return;const e=z$(t.input);e&&Yi(e,t,"input")},W3=(t,e)=>{!t.placeholder&&e.inputPlaceholder&&(t.placeholder=e.inputPlaceholder)},Dv=(t,e,n)=>{if(n.inputLabel){const r=document.createElement("label"),s=Fe["input-label"];r.setAttribute("for",t.id),r.className=s,typeof n.customClass=="object"&&zn(r,n.customClass.inputLabel),r.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",r)}},z$=t=>{const e=Xn();if(e)return Gu(e,Fe[t]||Fe.input)},X1=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:F3(e)||si(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},ys={};ys.text=ys.email=ys.password=ys.number=ys.tel=ys.url=ys.search=ys.date=ys["datetime-local"]=ys.time=ys.week=ys.month=(t,e)=>(X1(t,e.inputValue),Dv(t,t,e),W3(t,e),t.type=e.input,t);ys.file=(t,e)=>(Dv(t,t,e),W3(t,e),t);ys.range=(t,e)=>{const n=t.querySelector("input"),r=t.querySelector("output");return X1(n,e.inputValue),n.type=e.input,X1(r,e.inputValue),Dv(n,t,e),t};ys.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const n=document.createElement("option");Zi(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return Dv(t,t,e),t};ys.radio=t=>(t.textContent="",t);ys.checkbox=(t,e)=>{const n=Cw(Xn(),"checkbox");n.value="1",n.checked=!!e.inputValue;const r=t.querySelector("span");return Zi(r,e.inputPlaceholder||e.inputLabel),n};ys.textarea=(t,e)=>{X1(t,e.inputValue),W3(t,e),Dv(t,t,e);const n=r=>parseInt(window.getComputedStyle(r).marginLeft)+parseInt(window.getComputedStyle(r).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const r=parseInt(window.getComputedStyle(Xn()).width),s=()=>{if(!document.body.contains(t))return;const i=t.offsetWidth+n(t);i>r?Xn().style.width=`${i}px`:hh(Xn(),"width",e.width)};new MutationObserver(s).observe(t,{attributes:!0,attributeFilter:["style"]})}}),t};const nge=(t,e)=>{const n=B3();n&&(V3(n),Yi(n,e,"htmlContainer"),e.html?(G3(e.html,n),na(n,"block")):e.text?(n.textContent=e.text,na(n,"block")):qa(n),Jpe(t,e))},rge=(t,e)=>{const n=M$();n&&(V3(n),Pv(n,e.footer,"block"),e.footer&&G3(e.footer,n),Yi(n,e,"footer"))},sge=(t,e)=>{const n=Sr.innerParams.get(t),r=yp();if(!r)return;if(n&&e.icon===n.icon){RD(r,e),LD(r,e);return}if(!e.icon&&!e.iconHtml){qa(r);return}if(e.icon&&Object.keys(Y1).indexOf(e.icon)===-1){lf(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),qa(r);return}na(r),RD(r,e),LD(r,e),zn(r,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",q$)},LD=(t,e)=>{for(const[n,r]of Object.entries(Y1))e.icon!==n&&Oo(t,r);zn(t,e.icon&&Y1[e.icon]),oge(t,e),q$(),Yi(t,e,"icon")},q$=()=>{const t=Xn();if(!t)return;const e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let r=0;r<n.length;r++)n[r].style.backgroundColor=e},age=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,ige=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,RD=(t,e)=>{if(!e.icon&&!e.iconHtml)return;let n=t.innerHTML,r="";e.iconHtml?r=kD(e.iconHtml):e.icon==="success"?(r=age,n=n.replace(/ style=".*?"/g,"")):e.icon==="error"?r=ige:e.icon&&(r=kD({question:"?",warning:"!",info:"i"}[e.icon])),n.trim()!==r.trim()&&Zi(t,r)},oge=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])TD(t,n,"background-color",e.iconColor);TD(t,".swal2-success-ring","border-color",e.iconColor)}},kD=t=>`<div class="${Fe["icon-content"]}">${t}</div>`,lge=(t,e)=>{const n=D$();if(n){if(!e.imageUrl){qa(n);return}na(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt||""),hh(n,"width",e.imageWidth),hh(n,"height",e.imageHeight),n.className=Fe.image,Yi(n,e,"image")}};let K3=!1,$$=0,V$=0,H$=0,G$=0;const cge=t=>{t.addEventListener("mousedown",J1),document.body.addEventListener("mousemove",Q1),t.addEventListener("mouseup",Z1),t.addEventListener("touchstart",J1),document.body.addEventListener("touchmove",Q1),t.addEventListener("touchend",Z1)},uge=t=>{t.removeEventListener("mousedown",J1),document.body.removeEventListener("mousemove",Q1),t.removeEventListener("mouseup",Z1),t.removeEventListener("touchstart",J1),document.body.removeEventListener("touchmove",Q1),t.removeEventListener("touchend",Z1)},J1=t=>{const e=Xn();if(t.target===e||yp().contains(t.target)){K3=!0;const n=W$(t);$$=n.clientX,V$=n.clientY,H$=parseInt(e.style.insetInlineStart)||0,G$=parseInt(e.style.insetBlockStart)||0,zn(e,"swal2-dragging")}},Q1=t=>{const e=Xn();if(K3){let{clientX:n,clientY:r}=W$(t);e.style.insetInlineStart=`${H$+(n-$$)}px`,e.style.insetBlockStart=`${G$+(r-V$)}px`}},Z1=()=>{const t=Xn();K3=!1,Oo(t,"swal2-dragging")},W$=t=>{let e=0,n=0;return t.type.startsWith("mouse")?(e=t.clientX,n=t.clientY):t.type.startsWith("touch")&&(e=t.touches[0].clientX,n=t.touches[0].clientY),{clientX:e,clientY:n}},dge=(t,e)=>{const n=ai(),r=Xn();if(!(!n||!r)){if(e.toast){hh(n,"width",e.width),r.style.width="100%";const s=bp();s&&r.insertBefore(s,yp())}else hh(r,"width",e.width);hh(r,"padding",e.padding),e.color&&(r.style.color=e.color),e.background&&(r.style.background=e.background),qa(jw()),hge(r,e),e.draggable&&!e.toast?(zn(r,Fe.draggable),cge(r)):(Oo(r,Fe.draggable),uge(r))}},hge=(t,e)=>{const n=e.showClass||{};t.className=`${Fe.popup} ${wi(t)?n.popup:""}`,e.toast?(zn([document.documentElement,document.body],Fe["toast-shown"]),zn(t,Fe.toast)):zn(t,Fe.modal),Yi(t,e,"popup"),typeof e.customClass=="string"&&zn(t,e.customClass),e.icon&&zn(t,Fe[`icon-${e.icon}`])},fge=(t,e)=>{const n=U3();if(!n)return;const{progressSteps:r,currentProgressStep:s}=e;if(!r||r.length===0||s===void 0){qa(n);return}na(n),n.textContent="",s>=r.length&&si("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),r.forEach((i,o)=>{const l=mge(i);if(n.appendChild(l),o===s&&zn(l,Fe["active-progress-step"]),o!==r.length-1){const u=pge(e);n.appendChild(u)}})},mge=t=>{const e=document.createElement("li");return zn(e,Fe["progress-step"]),Zi(e,t),e},pge=t=>{const e=document.createElement("li");return zn(e,Fe["progress-step-line"]),t.progressStepsDistance&&hh(e,"width",t.progressStepsDistance),e},gge=(t,e)=>{const n=P$();n&&(V3(n),Pv(n,e.title||e.titleText,"block"),e.title&&G3(e.title,n),e.titleText&&(n.innerText=e.titleText),Yi(n,e,"title"))},K$=(t,e)=>{dge(t,e),Gpe(t,e),fge(t,e),sge(t,e),lge(t,e),gge(t,e),Hpe(t,e),nge(t,e),qpe(t,e),rge(t,e);const n=Xn();typeof e.didRender=="function"&&n&&e.didRender(n),qt.eventEmitter.emit("didRender",n)},vge=()=>wi(Xn()),Y$=()=>{var t;return(t=Xl())===null||t===void 0?void 0:t.click()},yge=()=>{var t;return(t=cf())===null||t===void 0?void 0:t.click()},xge=()=>{var t;return(t=xp())===null||t===void 0?void 0:t.click()},wp=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),X$=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},bge=(t,e,n)=>{X$(t),e.toast||(t.keydownHandler=r=>_ge(e,r,n),t.keydownTarget=e.keydownListenerCapture?window:Xn(),t.keydownListenerCapture=e.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},zN=(t,e)=>{var n;const r=q3();if(r.length){t=t+e,t===r.length?t=0:t===-1&&(t=r.length-1),r[t].focus();return}(n=Xn())===null||n===void 0||n.focus()},J$=["ArrowRight","ArrowDown"],wge=["ArrowLeft","ArrowUp"],_ge=(t,e,n)=>{t&&(e.isComposing||e.keyCode===229||(t.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?jge(e,t):e.key==="Tab"?Ege(e):[...J$,...wge].includes(e.key)?Sge(e.key):e.key==="Escape"&&Cge(e,t,n)))},jge=(t,e)=>{if(!_w(e.allowEnterKey))return;const n=Cw(Xn(),e.input);if(t.target&&n&&t.target instanceof HTMLElement&&t.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(e.input))return;Y$(),t.preventDefault()}},Ege=t=>{const e=t.target,n=q3();let r=-1;for(let s=0;s<n.length;s++)if(e===n[s]){r=s;break}t.shiftKey?zN(r,-1):zN(r,1),t.stopPropagation(),t.preventDefault()},Sge=t=>{const e=Iv(),n=Xl(),r=cf(),s=xp();if(!e||!n||!r||!s)return;const i=[n,r,s];if(document.activeElement instanceof HTMLElement&&!i.includes(document.activeElement))return;const o=J$.includes(t)?"nextElementSibling":"previousElementSibling";let l=document.activeElement;if(l){for(let u=0;u<e.children.length;u++){if(l=l[o],!l)return;if(l instanceof HTMLButtonElement&&wi(l))break}l instanceof HTMLButtonElement&&l.focus()}},Cge=(t,e,n)=>{_w(e.allowEscapeKey)&&(t.preventDefault(),n(wp.esc))};var ep={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Nge=()=>{const t=ai();Array.from(document.body.children).forEach(n=>{n.contains(t)||(n.hasAttribute("aria-hidden")&&n.setAttribute("data-previous-aria-hidden",n.getAttribute("aria-hidden")||""),n.setAttribute("aria-hidden","true"))})},Q$=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},Z$=typeof window<"u"&&!!window.GestureEvent,Tge=()=>{if(Z$&&!Bc(document.body,Fe.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,zn(document.body,Fe.iosfix),Age()}},Age=()=>{const t=ai();if(!t)return;let e;t.ontouchstart=n=>{e=Lge(n)},t.ontouchmove=n=>{e&&(n.preventDefault(),n.stopPropagation())}},Lge=t=>{const e=t.target,n=ai(),r=B3();return!n||!r||Rge(t)||kge(t)?!1:e===n||!AD(n)&&e instanceof HTMLElement&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(AD(r)&&r.contains(e))},Rge=t=>t.touches&&t.touches.length&&t.touches[0].touchType==="stylus",kge=t=>t.touches&&t.touches.length>1,Oge=()=>{if(Bc(document.body,Fe.iosfix)){const t=parseInt(document.body.style.top,10);Oo(document.body,Fe.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},Ige=()=>{const t=document.createElement("div");t.className=Fe["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e};let Am=null;const Pge=t=>{Am===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&(Am=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Am+Ige()}px`)},Dge=()=>{Am!==null&&(document.body.style.paddingRight=`${Am}px`,Am=null)};function eV(t,e,n,r){Sw()?OD(t,r):(wpe(n).then(()=>OD(t,r)),X$(qt)),Z$?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),$3()&&(Dge(),Oge(),Q$()),Mge()}function Mge(){Oo([document.documentElement,document.body],[Fe.shown,Fe["height-auto"],Fe["no-backdrop"],Fe["toast-shown"]])}function Wu(t){t=Bge(t);const e=ep.swalPromiseResolve.get(this),n=Fge(this);this.isAwaitingPromise?t.isDismissed||(Mv(this),e(t)):n&&e(t)}const Fge=t=>{const e=Xn();if(!e)return!1;const n=Sr.innerParams.get(t);if(!n||Bc(e,n.hideClass.popup))return!1;Oo(e,n.showClass.popup),zn(e,n.hideClass.popup);const r=ai();return Oo(r,n.showClass.backdrop),zn(r,n.hideClass.backdrop),Uge(t,e,n),!0};function tV(t){const e=ep.swalPromiseReject.get(this);Mv(this),e&&e(t)}const Mv=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,Sr.innerParams.get(t)||t._destroy())},Bge=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),Uge=(t,e,n)=>{var r;const s=ai(),i=U$(e);typeof n.willClose=="function"&&n.willClose(e),(r=qt.eventEmitter)===null||r===void 0||r.emit("willClose",e),i?zge(t,e,s,n.returnFocus,n.didClose):eV(t,s,n.returnFocus,n.didClose)},zge=(t,e,n,r,s)=>{qt.swalCloseEventFinishedCallback=eV.bind(null,t,n,r,s);const i=function(o){if(o.target===e){var l;(l=qt.swalCloseEventFinishedCallback)===null||l===void 0||l.call(qt),delete qt.swalCloseEventFinishedCallback,e.removeEventListener("animationend",i),e.removeEventListener("transitionend",i)}};e.addEventListener("animationend",i),e.addEventListener("transitionend",i)},OD=(t,e)=>{setTimeout(()=>{var n;typeof e=="function"&&e.bind(t.params)(),(n=qt.eventEmitter)===null||n===void 0||n.emit("didClose"),t._destroy&&t._destroy()})},tp=t=>{let e=Xn();if(e||new xe,e=Xn(),!e)return;const n=bp();Sw()?qa(yp()):qge(e,t),na(n),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},qge=(t,e)=>{const n=Iv(),r=bp();!n||!r||(!e&&wi(Xl())&&(e=Xl()),na(n),e&&(qa(e),r.setAttribute("data-button-to-replace",e.className),n.insertBefore(r,e)),zn([t,n],Fe.loading))},$ge=(t,e)=>{e.input==="select"||e.input==="radio"?Kge(t,e):["text","email","number","tel","textarea"].some(n=>n===e.input)&&(M3(e.inputValue)||F3(e.inputValue))&&(tp(Xl()),Yge(t,e))},Vge=(t,e)=>{const n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return Hge(n);case"radio":return Gge(n);case"file":return Wge(n);default:return e.inputAutoTrim?n.value.trim():n.value}},Hge=t=>t.checked?1:0,Gge=t=>t.checked?t.value:null,Wge=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,Kge=(t,e)=>{const n=Xn();if(!n)return;const r=s=>{e.input==="select"?Xge(n,eb(s),e):e.input==="radio"&&Jge(n,eb(s),e)};M3(e.inputOptions)||F3(e.inputOptions)?(tp(Xl()),kv(e.inputOptions).then(s=>{t.hideLoading(),r(s)})):typeof e.inputOptions=="object"?r(e.inputOptions):lf(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},Yge=(t,e)=>{const n=t.getInput();n&&(qa(n),kv(e.inputValue).then(r=>{n.value=e.input==="number"?`${parseFloat(r)||0}`:`${r}`,na(n),n.focus(),t.hideLoading()}).catch(r=>{lf(`Error in inputValue promise: ${r}`),n.value="",na(n),n.focus(),t.hideLoading()}))};function Xge(t,e,n){const r=Gu(t,Fe.select);if(!r)return;const s=(i,o,l)=>{const u=document.createElement("option");u.value=l,Zi(u,o),u.selected=nV(l,n.inputValue),i.appendChild(u)};e.forEach(i=>{const o=i[0],l=i[1];if(Array.isArray(l)){const u=document.createElement("optgroup");u.label=o,u.disabled=!1,r.appendChild(u),l.forEach(h=>s(u,h[1],h[0]))}else s(r,l,o)}),r.focus()}function Jge(t,e,n){const r=Gu(t,Fe.radio);if(!r)return;e.forEach(i=>{const o=i[0],l=i[1],u=document.createElement("input"),h=document.createElement("label");u.type="radio",u.name=Fe.radio,u.value=o,nV(o,n.inputValue)&&(u.checked=!0);const f=document.createElement("span");Zi(f,l),f.className=Fe.label,h.appendChild(u),h.appendChild(f),r.appendChild(h)});const s=r.querySelectorAll("input");s.length&&s[0].focus()}const eb=t=>{const e=[];return t instanceof Map?t.forEach((n,r)=>{let s=n;typeof s=="object"&&(s=eb(s)),e.push([r,s])}):Object.keys(t).forEach(n=>{let r=t[n];typeof r=="object"&&(r=eb(r)),e.push([n,r])}),e},nV=(t,e)=>!!e&&e.toString()===t.toString(),Qge=t=>{const e=Sr.innerParams.get(t);t.disableButtons(),e.input?rV(t,"confirm"):X3(t,!0)},Zge=t=>{const e=Sr.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?rV(t,"deny"):Y3(t,!1)},e0e=(t,e)=>{t.disableButtons(),e(wp.cancel)},rV=(t,e)=>{const n=Sr.innerParams.get(t);if(!n.input){lf(`The "input" parameter is needed to be set when using returnInputValueOn${D3(e)}`);return}const r=t.getInput(),s=Vge(t,n);n.inputValidator?t0e(t,s,e):r&&!r.checkValidity()?(t.enableButtons(),t.showValidationMessage(n.validationMessage||r.validationMessage)):e==="deny"?Y3(t,s):X3(t,s)},t0e=(t,e,n)=>{const r=Sr.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>kv(r.inputValidator(e,r.validationMessage))).then(i=>{t.enableButtons(),t.enableInput(),i?t.showValidationMessage(i):n==="deny"?Y3(t,e):X3(t,e)})},Y3=(t,e)=>{const n=Sr.innerParams.get(t||void 0);n.showLoaderOnDeny&&tp(cf()),n.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>kv(n.preDeny(e,n.validationMessage))).then(s=>{s===!1?(t.hideLoading(),Mv(t)):t.close({isDenied:!0,value:typeof s>"u"?e:s})}).catch(s=>sV(t||void 0,s))):t.close({isDenied:!0,value:e})},ID=(t,e)=>{t.close({isConfirmed:!0,value:e})},sV=(t,e)=>{t.rejectPromise(e)},X3=(t,e)=>{const n=Sr.innerParams.get(t||void 0);n.showLoaderOnConfirm&&tp(),n.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>kv(n.preConfirm(e,n.validationMessage))).then(s=>{wi(jw())||s===!1?(t.hideLoading(),Mv(t)):ID(t,typeof s>"u"?e:s)}).catch(s=>sV(t||void 0,s))):ID(t,e)};function tb(){const t=Sr.innerParams.get(this);if(!t)return;const e=Sr.domCache.get(this);qa(e.loader),Sw()?t.icon&&na(yp()):n0e(e),Oo([e.popup,e.actions],Fe.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const n0e=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?na(e[0],"inline-block"):Lpe()&&qa(t.actions)};function aV(){const t=Sr.innerParams.get(this),e=Sr.domCache.get(this);return e?Cw(e.popup,t.input):null}function iV(t,e,n){const r=Sr.domCache.get(t);e.forEach(s=>{r[s].disabled=n})}function oV(t,e){const n=Xn();if(!(!n||!t))if(t.type==="radio"){const r=n.querySelectorAll(`[name="${Fe.radio}"]`);for(let s=0;s<r.length;s++)r[s].disabled=e}else t.disabled=e}function lV(){iV(this,["confirmButton","denyButton","cancelButton"],!1)}function cV(){iV(this,["confirmButton","denyButton","cancelButton"],!0)}function uV(){oV(this.getInput(),!1)}function dV(){oV(this.getInput(),!0)}function hV(t){const e=Sr.domCache.get(this),n=Sr.innerParams.get(this);Zi(e.validationMessage,t),e.validationMessage.className=Fe["validation-message"],n.customClass&&n.customClass.validationMessage&&zn(e.validationMessage,n.customClass.validationMessage),na(e.validationMessage);const r=this.getInput();r&&(r.setAttribute("aria-invalid","true"),r.setAttribute("aria-describedby",Fe["validation-message"]),F$(r),zn(r,Fe.inputerror))}function fV(){const t=Sr.domCache.get(this);t.validationMessage&&qa(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),Oo(e,Fe.inputerror))}const Lm={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},r0e=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],s0e={allowEnterKey:void 0},a0e=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],mV=t=>Object.prototype.hasOwnProperty.call(Lm,t),pV=t=>r0e.indexOf(t)!==-1,gV=t=>s0e[t],i0e=t=>{mV(t)||si(`Unknown parameter "${t}"`)},o0e=t=>{a0e.includes(t)&&si(`The parameter "${t}" is incompatible with toasts`)},l0e=t=>{const e=gV(t);e&&I$(t,e)},vV=t=>{t.backdrop===!1&&t.allowOutsideClick&&si('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t.theme&&!["light","dark","auto","borderless"].includes(t.theme)&&si(`Invalid theme "${t.theme}". Expected "light", "dark", "auto", or "borderless"`);for(const e in t)i0e(e),t.toast&&o0e(e),l0e(e)};function yV(t){const e=ai(),n=Xn(),r=Sr.innerParams.get(this);if(!n||Bc(n,r.hideClass.popup)){si("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const s=c0e(t),i=Object.assign({},r,s);vV(i),e.dataset.swal2Theme=i.theme,K$(this,i),Sr.innerParams.set(this,i),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const c0e=t=>{const e={};return Object.keys(t).forEach(n=>{pV(n)?e[n]=t[n]:si(`Invalid parameter to update: ${n}`)}),e};function xV(){const t=Sr.domCache.get(this),e=Sr.innerParams.get(this);if(!e){bV(this);return}t.popup&&qt.swalCloseEventFinishedCallback&&(qt.swalCloseEventFinishedCallback(),delete qt.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),qt.eventEmitter.emit("didDestroy"),u0e(this)}const u0e=t=>{bV(t),delete t.params,delete qt.keydownHandler,delete qt.keydownTarget,delete qt.currentInstance},bV=t=>{t.isAwaitingPromise?(Pj(Sr,t),t.isAwaitingPromise=!0):(Pj(ep,t),Pj(Sr,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},Pj=(t,e)=>{for(const n in t)t[n].delete(e)};var d0e=Object.freeze({__proto__:null,_destroy:xV,close:Wu,closeModal:Wu,closePopup:Wu,closeToast:Wu,disableButtons:cV,disableInput:dV,disableLoading:tb,enableButtons:lV,enableInput:uV,getInput:aV,handleAwaitingPromise:Mv,hideLoading:tb,rejectPromise:tV,resetValidationMessage:fV,showValidationMessage:hV,update:yV});const h0e=(t,e,n)=>{t.toast?f0e(t,e,n):(p0e(e),g0e(e),v0e(t,e,n))},f0e=(t,e,n)=>{e.popup.onclick=()=>{t&&(m0e(t)||t.timer||t.input)||n(wp.close)}},m0e=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let nb=!1;const p0e=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=()=>{},e.target===t.container&&(nb=!0)}}},g0e=t=>{t.container.onmousedown=e=>{e.target===t.container&&e.preventDefault(),t.popup.onmouseup=function(n){t.popup.onmouseup=()=>{},(n.target===t.popup||n.target instanceof HTMLElement&&t.popup.contains(n.target))&&(nb=!0)}}},v0e=(t,e,n)=>{e.container.onclick=r=>{if(nb){nb=!1;return}r.target===e.container&&_w(t.allowOutsideClick)&&n(wp.backdrop)}},y0e=t=>typeof t=="object"&&t.jquery,PD=t=>t instanceof Element||y0e(t),x0e=t=>{const e={};return typeof t[0]=="object"&&!PD(t[0])?Object.assign(e,t[0]):["title","html","icon"].forEach((n,r)=>{const s=t[r];typeof s=="string"||PD(s)?e[n]=s:s!==void 0&&lf(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof s}`)}),e};function b0e(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new this(...e)}function w0e(t){class e extends this{_main(r,s){return super._main(r,Object.assign({},t,s))}}return e}const _0e=()=>qt.timeout&&qt.timeout.getTimerLeft(),wV=()=>{if(qt.timeout)return Rpe(),qt.timeout.stop()},_V=()=>{if(qt.timeout){const t=qt.timeout.start();return H3(t),t}},j0e=()=>{const t=qt.timeout;return t&&(t.running?wV():_V())},E0e=t=>{if(qt.timeout){const e=qt.timeout.increase(t);return H3(e,!0),e}},S0e=()=>!!(qt.timeout&&qt.timeout.isRunning());let DD=!1;const qN={};function C0e(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";qN[t]=this,DD||(document.body.addEventListener("click",N0e),DD=!0)}const N0e=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const n in qN){const r=e.getAttribute(n);if(r){qN[n].fire({template:r});return}}};let T0e=class{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,n){const r=this._getHandlersByEventName(e);r.includes(n)||r.push(n)}once(e,n){var r=this;const s=function(){r.removeListener(e,s);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];n.apply(r,o)};this.on(e,s)}emit(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];this._getHandlersByEventName(e).forEach(i=>{try{i.apply(this,r)}catch(o){console.error(o)}})}removeListener(e,n){const r=this._getHandlersByEventName(e),s=r.indexOf(n);s>-1&&r.splice(s,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}};qt.eventEmitter=new T0e;const A0e=(t,e)=>{qt.eventEmitter.on(t,e)},L0e=(t,e)=>{qt.eventEmitter.once(t,e)},R0e=(t,e)=>{if(!t){qt.eventEmitter.reset();return}e?qt.eventEmitter.removeListener(t,e):qt.eventEmitter.removeAllListeners(t)};var k0e=Object.freeze({__proto__:null,argsToParams:x0e,bindClickHandler:C0e,clickCancel:xge,clickConfirm:Y$,clickDeny:yge,enableLoading:tp,fire:b0e,getActions:Iv,getCancelButton:xp,getCloseButton:z3,getConfirmButton:Xl,getContainer:ai,getDenyButton:cf,getFocusableElements:q3,getFooter:M$,getHtmlContainer:B3,getIcon:yp,getIconContent:Spe,getImage:D$,getInputLabel:Cpe,getLoader:bp,getPopup:Xn,getProgressSteps:U3,getTimerLeft:_0e,getTimerProgressBar:Ew,getTitle:P$,getValidationMessage:jw,increaseTimer:E0e,isDeprecatedParameter:gV,isLoading:Tpe,isTimerRunning:S0e,isUpdatableParameter:pV,isValidParameter:mV,isVisible:vge,mixin:w0e,off:R0e,on:A0e,once:L0e,resumeTimer:_V,showLoading:tp,stopTimer:wV,toggleTimer:j0e});class O0e{constructor(e,n){this.callback=e,this.remaining=n,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const n=this.running;return n&&this.stop(),this.remaining+=e,n&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const jV=["swal-title","swal-html","swal-footer"],I0e=t=>{const e=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!e)return{};const n=e.content;return q0e(n),Object.assign(P0e(n),D0e(n),M0e(n),F0e(n),B0e(n),U0e(n),z0e(n,jV))},P0e=t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach(r=>{Ch(r,["name","value"]);const s=r.getAttribute("name"),i=r.getAttribute("value");!s||!i||(typeof Lm[s]=="boolean"?e[s]=i!=="false":typeof Lm[s]=="object"?e[s]=JSON.parse(i):e[s]=i)}),e},D0e=t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(r=>{const s=r.getAttribute("name"),i=r.getAttribute("value");!s||!i||(e[s]=new Function(`return ${i}`)())}),e},M0e=t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach(r=>{Ch(r,["type","color","aria-label"]);const s=r.getAttribute("type");!s||!["confirm","cancel","deny"].includes(s)||(e[`${s}ButtonText`]=r.innerHTML,e[`show${D3(s)}Button`]=!0,r.hasAttribute("color")&&(e[`${s}ButtonColor`]=r.getAttribute("color")),r.hasAttribute("aria-label")&&(e[`${s}ButtonAriaLabel`]=r.getAttribute("aria-label")))}),e},F0e=t=>{const e={},n=t.querySelector("swal-image");return n&&(Ch(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt")||void 0)),e},B0e=t=>{const e={},n=t.querySelector("swal-icon");return n&&(Ch(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e},U0e=t=>{const e={},n=t.querySelector("swal-input");n&&(Ch(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));const r=Array.from(t.querySelectorAll("swal-input-option"));return r.length&&(e.inputOptions={},r.forEach(s=>{Ch(s,["value"]);const i=s.getAttribute("value");if(!i)return;const o=s.innerHTML;e.inputOptions[i]=o})),e},z0e=(t,e)=>{const n={};for(const r in e){const s=e[r],i=t.querySelector(s);i&&(Ch(i,[]),n[s.replace(/^swal-/,"")]=i.innerHTML.trim())}return n},q0e=t=>{const e=jV.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(n=>{const r=n.tagName.toLowerCase();e.includes(r)||si(`Unrecognized element <${r}>`)})},Ch=(t,e)=>{Array.from(t.attributes).forEach(n=>{e.indexOf(n.name)===-1&&si([`Unrecognized attribute "${n.name}" on <${t.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},EV=10,$0e=t=>{const e=ai(),n=Xn();typeof t.willOpen=="function"&&t.willOpen(n),qt.eventEmitter.emit("willOpen",n);const s=window.getComputedStyle(document.body).overflowY;G0e(e,n,t),setTimeout(()=>{V0e(e,n)},EV),$3()&&(H0e(e,t.scrollbarPadding,s),Nge()),!Sw()&&!qt.previousActiveElement&&(qt.previousActiveElement=document.activeElement),typeof t.didOpen=="function"&&setTimeout(()=>t.didOpen(n)),qt.eventEmitter.emit("didOpen",n),Oo(e,Fe["no-transition"])},rb=t=>{const e=Xn();if(t.target!==e)return;const n=ai();e.removeEventListener("animationend",rb),e.removeEventListener("transitionend",rb),n.style.overflowY="auto"},V0e=(t,e)=>{U$(e)?(t.style.overflowY="hidden",e.addEventListener("animationend",rb),e.addEventListener("transitionend",rb)):t.style.overflowY="auto"},H0e=(t,e,n)=>{Tge(),e&&n!=="hidden"&&Pge(n),setTimeout(()=>{t.scrollTop=0})},G0e=(t,e,n)=>{zn(t,n.showClass.backdrop),n.animation?(e.style.setProperty("opacity","0","important"),na(e,"grid"),setTimeout(()=>{zn(e,n.showClass.popup),e.style.removeProperty("opacity")},EV)):na(e,"grid"),zn([document.documentElement,document.body],Fe.shown),n.heightAuto&&n.backdrop&&!n.toast&&zn([document.documentElement,document.body],Fe["height-auto"])};var MD={email:(t,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function W0e(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=MD.email),t.input==="url"&&(t.inputValidator=MD.url))}function K0e(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(si('Target parameter is not valid, defaulting to "body"'),t.target="body")}function Y0e(t){W0e(t),t.showLoaderOnConfirm&&!t.preConfirm&&si(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),K0e(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),Bpe(t)}let Il;var _x=new WeakMap;class bs{constructor(){if(vpe(this,_x,void 0),typeof window>"u")return;Il=this;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];const s=Object.freeze(this.constructor.argsToParams(n));this.params=s,this.isAwaitingPromise=!1,ype(_x,this,this._main(Il.params))}_main(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(vV(Object.assign({},n,e)),qt.currentInstance){const i=ep.swalPromiseResolve.get(qt.currentInstance),{isAwaitingPromise:o}=qt.currentInstance;qt.currentInstance._destroy(),o||i({isDismissed:!0}),$3()&&Q$()}qt.currentInstance=Il;const r=J0e(e,n);Y0e(r),Object.freeze(r),qt.timeout&&(qt.timeout.stop(),delete qt.timeout),clearTimeout(qt.restoreFocusTimeout);const s=Q0e(Il);return K$(Il,r),Sr.innerParams.set(Il,r),X0e(Il,s,r)}then(e){return CD(_x,this).then(e)}finally(e){return CD(_x,this).finally(e)}}const X0e=(t,e,n)=>new Promise((r,s)=>{const i=o=>{t.close({isDismissed:!0,dismiss:o})};ep.swalPromiseResolve.set(t,r),ep.swalPromiseReject.set(t,s),e.confirmButton.onclick=()=>{Qge(t)},e.denyButton.onclick=()=>{Zge(t)},e.cancelButton.onclick=()=>{e0e(t,i)},e.closeButton.onclick=()=>{i(wp.close)},h0e(n,e,i),bge(qt,n,i),$ge(t,n),$0e(n),Z0e(qt,n,i),eve(e,n),setTimeout(()=>{e.container.scrollTop=0})}),J0e=(t,e)=>{const n=I0e(t),r=Object.assign({},Lm,e,n,t);return r.showClass=Object.assign({},Lm.showClass,r.showClass),r.hideClass=Object.assign({},Lm.hideClass,r.hideClass),r.animation===!1&&(r.showClass={backdrop:"swal2-noanimation"},r.hideClass={}),r},Q0e=t=>{const e={popup:Xn(),container:ai(),actions:Iv(),confirmButton:Xl(),denyButton:cf(),cancelButton:xp(),loader:bp(),closeButton:z3(),validationMessage:jw(),progressSteps:U3()};return Sr.domCache.set(t,e),e},Z0e=(t,e,n)=>{const r=Ew();qa(r),e.timer&&(t.timeout=new O0e(()=>{n("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(na(r),Yi(r,e,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&H3(e.timer)})))},eve=(t,e)=>{if(!e.toast){if(!_w(e.allowEnterKey)){I$("allowEnterKey"),rve();return}tve(t)||nve(t,e)||zN(-1,1)}},tve=t=>{const e=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const n of e)if(n instanceof HTMLElement&&wi(n))return n.focus(),!0;return!1},nve=(t,e)=>e.focusDeny&&wi(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&wi(t.cancelButton)?(t.cancelButton.focus(),!0):e.focusConfirm&&wi(t.confirmButton)?(t.confirmButton.focus(),!0):!1,rve=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const t=new Date,e=localStorage.getItem("swal-initiation");e?(t.getTime()-Date.parse(e))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const n=document.createElement("audio");n.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",n.loop=!0,document.body.appendChild(n),setTimeout(()=>{n.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${t}`)}bs.prototype.disableButtons=cV;bs.prototype.enableButtons=lV;bs.prototype.getInput=aV;bs.prototype.disableInput=dV;bs.prototype.enableInput=uV;bs.prototype.hideLoading=tb;bs.prototype.disableLoading=tb;bs.prototype.showValidationMessage=hV;bs.prototype.resetValidationMessage=fV;bs.prototype.close=Wu;bs.prototype.closePopup=Wu;bs.prototype.closeModal=Wu;bs.prototype.closeToast=Wu;bs.prototype.rejectPromise=tV;bs.prototype.update=yV;bs.prototype._destroy=xV;Object.assign(bs,k0e);Object.keys(d0e).forEach(t=>{bs[t]=function(){return Il&&Il[t]?Il[t](...arguments):null}});bs.DismissReason=wp;bs.version="11.17.2";const xe=bs;xe.default=xe;typeof document<"u"&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}}(document,':root{--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-footer-border-color: #eee;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-input-background: transparent;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);color:inherit;font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:var(--swal2-border-radius);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:var(--swal2-input-background);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:var(--swal2-background);box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');var Dj,FD;function sve(){if(FD)return Dj;FD=1;function t(){this.__data__=[],this.size=0}return Dj=t,Dj}var Mj,BD;function SV(){if(BD)return Mj;BD=1;function t(e,n){return e===n||e!==e&&n!==n}return Mj=t,Mj}var Fj,UD;function Nw(){if(UD)return Fj;UD=1;var t=SV();function e(n,r){for(var s=n.length;s--;)if(t(n[s][0],r))return s;return-1}return Fj=e,Fj}var Bj,zD;function ave(){if(zD)return Bj;zD=1;var t=Nw(),e=Array.prototype,n=e.splice;function r(s){var i=this.__data__,o=t(i,s);if(o<0)return!1;var l=i.length-1;return o==l?i.pop():n.call(i,o,1),--this.size,!0}return Bj=r,Bj}var Uj,qD;function ive(){if(qD)return Uj;qD=1;var t=Nw();function e(n){var r=this.__data__,s=t(r,n);return s<0?void 0:r[s][1]}return Uj=e,Uj}var zj,$D;function ove(){if($D)return zj;$D=1;var t=Nw();function e(n){return t(this.__data__,n)>-1}return zj=e,zj}var qj,VD;function lve(){if(VD)return qj;VD=1;var t=Nw();function e(n,r){var s=this.__data__,i=t(s,n);return i<0?(++this.size,s.push([n,r])):s[i][1]=r,this}return qj=e,qj}var $j,HD;function Tw(){if(HD)return $j;HD=1;var t=sve(),e=ave(),n=ive(),r=ove(),s=lve();function i(o){var l=-1,u=o==null?0:o.length;for(this.clear();++l<u;){var h=o[l];this.set(h[0],h[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=n,i.prototype.has=r,i.prototype.set=s,$j=i,$j}var Vj,GD;function cve(){if(GD)return Vj;GD=1;var t=Tw();function e(){this.__data__=new t,this.size=0}return Vj=e,Vj}var Hj,WD;function uve(){if(WD)return Hj;WD=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return Hj=t,Hj}var Gj,KD;function dve(){if(KD)return Gj;KD=1;function t(e){return this.__data__.get(e)}return Gj=t,Gj}var Wj,YD;function hve(){if(YD)return Wj;YD=1;function t(e){return this.__data__.has(e)}return Wj=t,Wj}var Kj,XD;function CV(){if(XD)return Kj;XD=1;var t=typeof Co=="object"&&Co&&Co.Object===Object&&Co;return Kj=t,Kj}var Yj,JD;function au(){if(JD)return Yj;JD=1;var t=CV(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return Yj=n,Yj}var Xj,QD;function J3(){if(QD)return Xj;QD=1;var t=au(),e=t.Symbol;return Xj=e,Xj}var Jj,ZD;function fve(){if(ZD)return Jj;ZD=1;var t=J3(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,s=t?t.toStringTag:void 0;function i(o){var l=n.call(o,s),u=o[s];try{o[s]=void 0;var h=!0}catch{}var f=r.call(o);return h&&(l?o[s]=u:delete o[s]),f}return Jj=i,Jj}var Qj,e6;function mve(){if(e6)return Qj;e6=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return Qj=n,Qj}var Zj,t6;function Aw(){if(t6)return Zj;t6=1;var t=J3(),e=fve(),n=mve(),r="[object Null]",s="[object Undefined]",i=t?t.toStringTag:void 0;function o(l){return l==null?l===void 0?s:r:i&&i in Object(l)?e(l):n(l)}return Zj=o,Zj}var eE,n6;function NV(){if(n6)return eE;n6=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return eE=t,eE}var tE,r6;function TV(){if(r6)return tE;r6=1;var t=Aw(),e=NV(),n="[object AsyncFunction]",r="[object Function]",s="[object GeneratorFunction]",i="[object Proxy]";function o(l){if(!e(l))return!1;var u=t(l);return u==r||u==s||u==n||u==i}return tE=o,tE}var nE,s6;function pve(){if(s6)return nE;s6=1;var t=au(),e=t["__core-js_shared__"];return nE=e,nE}var rE,a6;function gve(){if(a6)return rE;a6=1;var t=pve(),e=function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!e&&e in r}return rE=n,rE}var sE,i6;function AV(){if(i6)return sE;i6=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return sE=n,sE}var aE,o6;function vve(){if(o6)return aE;o6=1;var t=TV(),e=gve(),n=NV(),r=AV(),s=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,u=o.toString,h=l.hasOwnProperty,f=RegExp("^"+u.call(h).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function g(p){if(!n(p)||e(p))return!1;var v=t(p)?f:i;return v.test(r(p))}return aE=g,aE}var iE,l6;function yve(){if(l6)return iE;l6=1;function t(e,n){return e==null?void 0:e[n]}return iE=t,iE}var oE,c6;function _p(){if(c6)return oE;c6=1;var t=vve(),e=yve();function n(r,s){var i=e(r,s);return t(i)?i:void 0}return oE=n,oE}var lE,u6;function Q3(){if(u6)return lE;u6=1;var t=_p(),e=au(),n=t(e,"Map");return lE=n,lE}var cE,d6;function Lw(){if(d6)return cE;d6=1;var t=_p(),e=t(Object,"create");return cE=e,cE}var uE,h6;function xve(){if(h6)return uE;h6=1;var t=Lw();function e(){this.__data__=t?t(null):{},this.size=0}return uE=e,uE}var dE,f6;function bve(){if(f6)return dE;f6=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return dE=t,dE}var hE,m6;function wve(){if(m6)return hE;m6=1;var t=Lw(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function s(i){var o=this.__data__;if(t){var l=o[i];return l===e?void 0:l}return r.call(o,i)?o[i]:void 0}return hE=s,hE}var fE,p6;function _ve(){if(p6)return fE;p6=1;var t=Lw(),e=Object.prototype,n=e.hasOwnProperty;function r(s){var i=this.__data__;return t?i[s]!==void 0:n.call(i,s)}return fE=r,fE}var mE,g6;function jve(){if(g6)return mE;g6=1;var t=Lw(),e="__lodash_hash_undefined__";function n(r,s){var i=this.__data__;return this.size+=this.has(r)?0:1,i[r]=t&&s===void 0?e:s,this}return mE=n,mE}var pE,v6;function Eve(){if(v6)return pE;v6=1;var t=xve(),e=bve(),n=wve(),r=_ve(),s=jve();function i(o){var l=-1,u=o==null?0:o.length;for(this.clear();++l<u;){var h=o[l];this.set(h[0],h[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=n,i.prototype.has=r,i.prototype.set=s,pE=i,pE}var gE,y6;function Sve(){if(y6)return gE;y6=1;var t=Eve(),e=Tw(),n=Q3();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return gE=r,gE}var vE,x6;function Cve(){if(x6)return vE;x6=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return vE=t,vE}var yE,b6;function Rw(){if(b6)return yE;b6=1;var t=Cve();function e(n,r){var s=n.__data__;return t(r)?s[typeof r=="string"?"string":"hash"]:s.map}return yE=e,yE}var xE,w6;function Nve(){if(w6)return xE;w6=1;var t=Rw();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return xE=e,xE}var bE,_6;function Tve(){if(_6)return bE;_6=1;var t=Rw();function e(n){return t(this,n).get(n)}return bE=e,bE}var wE,j6;function Ave(){if(j6)return wE;j6=1;var t=Rw();function e(n){return t(this,n).has(n)}return wE=e,wE}var _E,E6;function Lve(){if(E6)return _E;E6=1;var t=Rw();function e(n,r){var s=t(this,n),i=s.size;return s.set(n,r),this.size+=s.size==i?0:1,this}return _E=e,_E}var jE,S6;function LV(){if(S6)return jE;S6=1;var t=Sve(),e=Nve(),n=Tve(),r=Ave(),s=Lve();function i(o){var l=-1,u=o==null?0:o.length;for(this.clear();++l<u;){var h=o[l];this.set(h[0],h[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=n,i.prototype.has=r,i.prototype.set=s,jE=i,jE}var EE,C6;function Rve(){if(C6)return EE;C6=1;var t=Tw(),e=Q3(),n=LV(),r=200;function s(i,o){var l=this.__data__;if(l instanceof t){var u=l.__data__;if(!e||u.length<r-1)return u.push([i,o]),this.size=++l.size,this;l=this.__data__=new n(u)}return l.set(i,o),this.size=l.size,this}return EE=s,EE}var SE,N6;function kve(){if(N6)return SE;N6=1;var t=Tw(),e=cve(),n=uve(),r=dve(),s=hve(),i=Rve();function o(l){var u=this.__data__=new t(l);this.size=u.size}return o.prototype.clear=e,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=s,o.prototype.set=i,SE=o,SE}var CE,T6;function Ove(){if(T6)return CE;T6=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return CE=e,CE}var NE,A6;function Ive(){if(A6)return NE;A6=1;function t(e){return this.__data__.has(e)}return NE=t,NE}var TE,L6;function Pve(){if(L6)return TE;L6=1;var t=LV(),e=Ove(),n=Ive();function r(s){var i=-1,o=s==null?0:s.length;for(this.__data__=new t;++i<o;)this.add(s[i])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,TE=r,TE}var AE,R6;function Dve(){if(R6)return AE;R6=1;function t(e,n){for(var r=-1,s=e==null?0:e.length;++r<s;)if(n(e[r],r,e))return!0;return!1}return AE=t,AE}var LE,k6;function Mve(){if(k6)return LE;k6=1;function t(e,n){return e.has(n)}return LE=t,LE}var RE,O6;function RV(){if(O6)return RE;O6=1;var t=Pve(),e=Dve(),n=Mve(),r=1,s=2;function i(o,l,u,h,f,g){var p=u&r,v=o.length,w=l.length;if(v!=w&&!(p&&w>v))return!1;var E=g.get(o),S=g.get(l);if(E&&S)return E==l&&S==o;var C=-1,O=!0,I=u&s?new t:void 0;for(g.set(o,l),g.set(l,o);++C<v;){var D=o[C],T=l[C];if(h)var F=p?h(T,D,C,l,o,g):h(D,T,C,o,l,g);if(F!==void 0){if(F)continue;O=!1;break}if(I){if(!e(l,function(y,A){if(!n(I,A)&&(D===y||f(D,y,u,h,g)))return I.push(A)})){O=!1;break}}else if(!(D===T||f(D,T,u,h,g))){O=!1;break}}return g.delete(o),g.delete(l),O}return RE=i,RE}var kE,I6;function Fve(){if(I6)return kE;I6=1;var t=au(),e=t.Uint8Array;return kE=e,kE}var OE,P6;function Bve(){if(P6)return OE;P6=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(s,i){r[++n]=[i,s]}),r}return OE=t,OE}var IE,D6;function Uve(){if(D6)return IE;D6=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(s){r[++n]=s}),r}return IE=t,IE}var PE,M6;function zve(){if(M6)return PE;M6=1;var t=J3(),e=Fve(),n=SV(),r=RV(),s=Bve(),i=Uve(),o=1,l=2,u="[object Boolean]",h="[object Date]",f="[object Error]",g="[object Map]",p="[object Number]",v="[object RegExp]",w="[object Set]",E="[object String]",S="[object Symbol]",C="[object ArrayBuffer]",O="[object DataView]",I=t?t.prototype:void 0,D=I?I.valueOf:void 0;function T(F,y,A,_,L,R,U){switch(A){case O:if(F.byteLength!=y.byteLength||F.byteOffset!=y.byteOffset)return!1;F=F.buffer,y=y.buffer;case C:return!(F.byteLength!=y.byteLength||!R(new e(F),new e(y)));case u:case h:case p:return n(+F,+y);case f:return F.name==y.name&&F.message==y.message;case v:case E:return F==y+"";case g:var P=s;case w:var K=_&o;if(P||(P=i),F.size!=y.size&&!K)return!1;var G=U.get(F);if(G)return G==y;_|=l,U.set(F,y);var re=r(P(F),P(y),_,L,R,U);return U.delete(F),re;case S:if(D)return D.call(F)==D.call(y)}return!1}return PE=T,PE}var DE,F6;function qve(){if(F6)return DE;F6=1;function t(e,n){for(var r=-1,s=n.length,i=e.length;++r<s;)e[i+r]=n[r];return e}return DE=t,DE}var ME,B6;function Z3(){if(B6)return ME;B6=1;var t=Array.isArray;return ME=t,ME}var FE,U6;function $ve(){if(U6)return FE;U6=1;var t=qve(),e=Z3();function n(r,s,i){var o=s(r);return e(r)?o:t(o,i(r))}return FE=n,FE}var BE,z6;function Vve(){if(z6)return BE;z6=1;function t(e,n){for(var r=-1,s=e==null?0:e.length,i=0,o=[];++r<s;){var l=e[r];n(l,r,e)&&(o[i++]=l)}return o}return BE=t,BE}var UE,q6;function Hve(){if(q6)return UE;q6=1;function t(){return[]}return UE=t,UE}var zE,$6;function Gve(){if($6)return zE;$6=1;var t=Vve(),e=Hve(),n=Object.prototype,r=n.propertyIsEnumerable,s=Object.getOwnPropertySymbols,i=s?function(o){return o==null?[]:(o=Object(o),t(s(o),function(l){return r.call(o,l)}))}:e;return zE=i,zE}var qE,V6;function Wve(){if(V6)return qE;V6=1;function t(e,n){for(var r=-1,s=Array(e);++r<e;)s[r]=n(r);return s}return qE=t,qE}var $E,H6;function kw(){if(H6)return $E;H6=1;function t(e){return e!=null&&typeof e=="object"}return $E=t,$E}var VE,G6;function Kve(){if(G6)return VE;G6=1;var t=Aw(),e=kw(),n="[object Arguments]";function r(s){return e(s)&&t(s)==n}return VE=r,VE}var HE,W6;function Yve(){if(W6)return HE;W6=1;var t=Kve(),e=kw(),n=Object.prototype,r=n.hasOwnProperty,s=n.propertyIsEnumerable,i=t(function(){return arguments}())?t:function(o){return e(o)&&r.call(o,"callee")&&!s.call(o,"callee")};return HE=i,HE}var Ug={exports:{}},GE,K6;function Xve(){if(K6)return GE;K6=1;function t(){return!1}return GE=t,GE}Ug.exports;var Y6;function kV(){return Y6||(Y6=1,function(t,e){var n=au(),r=Xve(),s=e&&!e.nodeType&&e,i=s&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===s,l=o?n.Buffer:void 0,u=l?l.isBuffer:void 0,h=u||r;t.exports=h}(Ug,Ug.exports)),Ug.exports}var WE,X6;function Jve(){if(X6)return WE;X6=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,s){var i=typeof r;return s=s??t,!!s&&(i=="number"||i!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<s}return WE=n,WE}var KE,J6;function OV(){if(J6)return KE;J6=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return KE=e,KE}var YE,Q6;function Qve(){if(Q6)return YE;Q6=1;var t=Aw(),e=OV(),n=kw(),r="[object Arguments]",s="[object Array]",i="[object Boolean]",o="[object Date]",l="[object Error]",u="[object Function]",h="[object Map]",f="[object Number]",g="[object Object]",p="[object RegExp]",v="[object Set]",w="[object String]",E="[object WeakMap]",S="[object ArrayBuffer]",C="[object DataView]",O="[object Float32Array]",I="[object Float64Array]",D="[object Int8Array]",T="[object Int16Array]",F="[object Int32Array]",y="[object Uint8Array]",A="[object Uint8ClampedArray]",_="[object Uint16Array]",L="[object Uint32Array]",R={};R[O]=R[I]=R[D]=R[T]=R[F]=R[y]=R[A]=R[_]=R[L]=!0,R[r]=R[s]=R[S]=R[i]=R[C]=R[o]=R[l]=R[u]=R[h]=R[f]=R[g]=R[p]=R[v]=R[w]=R[E]=!1;function U(P){return n(P)&&e(P.length)&&!!R[t(P)]}return YE=U,YE}var XE,Z6;function Zve(){if(Z6)return XE;Z6=1;function t(e){return function(n){return e(n)}}return XE=t,XE}var zg={exports:{}};zg.exports;var e5;function eye(){return e5||(e5=1,function(t,e){var n=CV(),r=e&&!e.nodeType&&e,s=r&&!0&&t&&!t.nodeType&&t,i=s&&s.exports===r,o=i&&n.process,l=function(){try{var u=s&&s.require&&s.require("util").types;return u||o&&o.binding&&o.binding("util")}catch{}}();t.exports=l}(zg,zg.exports)),zg.exports}var JE,t5;function IV(){if(t5)return JE;t5=1;var t=Qve(),e=Zve(),n=eye(),r=n&&n.isTypedArray,s=r?e(r):t;return JE=s,JE}var QE,n5;function tye(){if(n5)return QE;n5=1;var t=Wve(),e=Yve(),n=Z3(),r=kV(),s=Jve(),i=IV(),o=Object.prototype,l=o.hasOwnProperty;function u(h,f){var g=n(h),p=!g&&e(h),v=!g&&!p&&r(h),w=!g&&!p&&!v&&i(h),E=g||p||v||w,S=E?t(h.length,String):[],C=S.length;for(var O in h)(f||l.call(h,O))&&!(E&&(O=="length"||v&&(O=="offset"||O=="parent")||w&&(O=="buffer"||O=="byteLength"||O=="byteOffset")||s(O,C)))&&S.push(O);return S}return QE=u,QE}var ZE,r5;function nye(){if(r5)return ZE;r5=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,s=typeof r=="function"&&r.prototype||t;return n===s}return ZE=e,ZE}var eS,s5;function rye(){if(s5)return eS;s5=1;function t(e,n){return function(r){return e(n(r))}}return eS=t,eS}var tS,a5;function sye(){if(a5)return tS;a5=1;var t=rye(),e=t(Object.keys,Object);return tS=e,tS}var nS,i5;function aye(){if(i5)return nS;i5=1;var t=nye(),e=sye(),n=Object.prototype,r=n.hasOwnProperty;function s(i){if(!t(i))return e(i);var o=[];for(var l in Object(i))r.call(i,l)&&l!="constructor"&&o.push(l);return o}return nS=s,nS}var rS,o5;function iye(){if(o5)return rS;o5=1;var t=TV(),e=OV();function n(r){return r!=null&&e(r.length)&&!t(r)}return rS=n,rS}var sS,l5;function oye(){if(l5)return sS;l5=1;var t=tye(),e=aye(),n=iye();function r(s){return n(s)?t(s):e(s)}return sS=r,sS}var aS,c5;function lye(){if(c5)return aS;c5=1;var t=$ve(),e=Gve(),n=oye();function r(s){return t(s,n,e)}return aS=r,aS}var iS,u5;function cye(){if(u5)return iS;u5=1;var t=lye(),e=1,n=Object.prototype,r=n.hasOwnProperty;function s(i,o,l,u,h,f){var g=l&e,p=t(i),v=p.length,w=t(o),E=w.length;if(v!=E&&!g)return!1;for(var S=v;S--;){var C=p[S];if(!(g?C in o:r.call(o,C)))return!1}var O=f.get(i),I=f.get(o);if(O&&I)return O==o&&I==i;var D=!0;f.set(i,o),f.set(o,i);for(var T=g;++S<v;){C=p[S];var F=i[C],y=o[C];if(u)var A=g?u(y,F,C,o,i,f):u(F,y,C,i,o,f);if(!(A===void 0?F===y||h(F,y,l,u,f):A)){D=!1;break}T||(T=C=="constructor")}if(D&&!T){var _=i.constructor,L=o.constructor;_!=L&&"constructor"in i&&"constructor"in o&&!(typeof _=="function"&&_ instanceof _&&typeof L=="function"&&L instanceof L)&&(D=!1)}return f.delete(i),f.delete(o),D}return iS=s,iS}var oS,d5;function uye(){if(d5)return oS;d5=1;var t=_p(),e=au(),n=t(e,"DataView");return oS=n,oS}var lS,h5;function dye(){if(h5)return lS;h5=1;var t=_p(),e=au(),n=t(e,"Promise");return lS=n,lS}var cS,f5;function hye(){if(f5)return cS;f5=1;var t=_p(),e=au(),n=t(e,"Set");return cS=n,cS}var uS,m5;function fye(){if(m5)return uS;m5=1;var t=_p(),e=au(),n=t(e,"WeakMap");return uS=n,uS}var dS,p5;function mye(){if(p5)return dS;p5=1;var t=uye(),e=Q3(),n=dye(),r=hye(),s=fye(),i=Aw(),o=AV(),l="[object Map]",u="[object Object]",h="[object Promise]",f="[object Set]",g="[object WeakMap]",p="[object DataView]",v=o(t),w=o(e),E=o(n),S=o(r),C=o(s),O=i;return(t&&O(new t(new ArrayBuffer(1)))!=p||e&&O(new e)!=l||n&&O(n.resolve())!=h||r&&O(new r)!=f||s&&O(new s)!=g)&&(O=function(I){var D=i(I),T=D==u?I.constructor:void 0,F=T?o(T):"";if(F)switch(F){case v:return p;case w:return l;case E:return h;case S:return f;case C:return g}return D}),dS=O,dS}var hS,g5;function pye(){if(g5)return hS;g5=1;var t=kve(),e=RV(),n=zve(),r=cye(),s=mye(),i=Z3(),o=kV(),l=IV(),u=1,h="[object Arguments]",f="[object Array]",g="[object Object]",p=Object.prototype,v=p.hasOwnProperty;function w(E,S,C,O,I,D){var T=i(E),F=i(S),y=T?f:s(E),A=F?f:s(S);y=y==h?g:y,A=A==h?g:A;var _=y==g,L=A==g,R=y==A;if(R&&o(E)){if(!o(S))return!1;T=!0,_=!1}if(R&&!_)return D||(D=new t),T||l(E)?e(E,S,C,O,I,D):n(E,S,y,C,O,I,D);if(!(C&u)){var U=_&&v.call(E,"__wrapped__"),P=L&&v.call(S,"__wrapped__");if(U||P){var K=U?E.value():E,G=P?S.value():S;return D||(D=new t),I(K,G,C,O,D)}}return R?(D||(D=new t),r(E,S,C,O,I,D)):!1}return hS=w,hS}var fS,v5;function gye(){if(v5)return fS;v5=1;var t=pye(),e=kw();function n(r,s,i,o,l){return r===s?!0:r==null||s==null||!e(r)&&!e(s)?r!==r&&s!==s:t(r,s,i,o,n,l)}return fS=n,fS}var mS,y5;function vye(){if(y5)return mS;y5=1;var t=gye();function e(n,r){return t(n,r)}return mS=e,mS}var yye=vye();const Cg=rc(yye);var PV=typeof global=="object"&&global&&global.Object===Object&&global,xye=typeof self=="object"&&self&&self.Object===Object&&self,ac=PV||xye||Function("return this")(),Jl=ac.Symbol,DV=Object.prototype,bye=DV.hasOwnProperty,wye=DV.toString,Ng=Jl?Jl.toStringTag:void 0;function _ye(t){var e=bye.call(t,Ng),n=t[Ng];try{t[Ng]=void 0;var r=!0}catch{}var s=wye.call(t);return r&&(e?t[Ng]=n:delete t[Ng]),s}var jye=Object.prototype,Eye=jye.toString;function Sye(t){return Eye.call(t)}var Cye="[object Null]",Nye="[object Undefined]",x5=Jl?Jl.toStringTag:void 0;function uf(t){return t==null?t===void 0?Nye:Cye:x5&&x5 in Object(t)?_ye(t):Sye(t)}function Ql(t){return t!=null&&typeof t=="object"}var Tye="[object Symbol]";function eL(t){return typeof t=="symbol"||Ql(t)&&uf(t)==Tye}function Aye(t,e){for(var n=-1,r=t==null?0:t.length,s=Array(r);++n<r;)s[n]=e(t[n],n,t);return s}var Zl=Array.isArray,b5=Jl?Jl.prototype:void 0,w5=b5?b5.toString:void 0;function MV(t){if(typeof t=="string")return t;if(Zl(t))return Aye(t,MV)+"";if(eL(t))return w5?w5.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function cl(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function FV(t){return t}var Lye="[object AsyncFunction]",Rye="[object Function]",kye="[object GeneratorFunction]",Oye="[object Proxy]";function tL(t){if(!cl(t))return!1;var e=uf(t);return e==Rye||e==kye||e==Lye||e==Oye}var pS=ac["__core-js_shared__"],_5=function(){var t=/[^.]+$/.exec(pS&&pS.keys&&pS.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Iye(t){return!!_5&&_5 in t}var Pye=Function.prototype,Dye=Pye.toString;function df(t){if(t!=null){try{return Dye.call(t)}catch{}try{return t+""}catch{}}return""}var Mye=/[\\^$.*+?()[\]{}|]/g,Fye=/^\[object .+?Constructor\]$/,Bye=Function.prototype,Uye=Object.prototype,zye=Bye.toString,qye=Uye.hasOwnProperty,$ye=RegExp("^"+zye.call(qye).replace(Mye,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Vye(t){if(!cl(t)||Iye(t))return!1;var e=tL(t)?$ye:Fye;return e.test(df(t))}function Hye(t,e){return t==null?void 0:t[e]}function hf(t,e){var n=Hye(t,e);return Vye(n)?n:void 0}var $N=hf(ac,"WeakMap"),j5=Object.create,Gye=function(){function t(){}return function(e){if(!cl(e))return{};if(j5)return j5(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function Wye(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function BV(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var Kye=800,Yye=16,Xye=Date.now;function Jye(t){var e=0,n=0;return function(){var r=Xye(),s=Yye-(r-n);if(n=r,s>0){if(++e>=Kye)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Qye(t){return function(){return t}}var sb=function(){try{var t=hf(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Zye=sb?function(t,e){return sb(t,"toString",{configurable:!0,enumerable:!1,value:Qye(e),writable:!0})}:FV,exe=Jye(Zye);function txe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var nxe=9007199254740991,rxe=/^(?:0|[1-9]\d*)$/;function UV(t,e){var n=typeof t;return e=e??nxe,!!e&&(n=="number"||n!="symbol"&&rxe.test(t))&&t>-1&&t%1==0&&t<e}function nL(t,e,n){e=="__proto__"&&sb?sb(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Fv(t,e){return t===e||t!==t&&e!==e}var sxe=Object.prototype,axe=sxe.hasOwnProperty;function zV(t,e,n){var r=t[e];(!(axe.call(t,e)&&Fv(r,n))||n===void 0&&!(e in t))&&nL(t,e,n)}function Bv(t,e,n,r){var s=!n;n||(n={});for(var i=-1,o=e.length;++i<o;){var l=e[i],u=void 0;u===void 0&&(u=t[l]),s?nL(n,l,u):zV(n,l,u)}return n}var E5=Math.max;function ixe(t,e,n){return e=E5(e===void 0?t.length-1:e,0),function(){for(var r=arguments,s=-1,i=E5(r.length-e,0),o=Array(i);++s<i;)o[s]=r[e+s];s=-1;for(var l=Array(e+1);++s<e;)l[s]=r[s];return l[e]=n(o),Wye(t,this,l)}}function oxe(t,e){return exe(ixe(t,e,FV),t+"")}var lxe=9007199254740991;function qV(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=lxe}function Ow(t){return t!=null&&qV(t.length)&&!tL(t)}function cxe(t,e,n){if(!cl(n))return!1;var r=typeof e;return(r=="number"?Ow(n)&&UV(e,n.length):r=="string"&&e in n)?Fv(n[e],t):!1}function uxe(t){return oxe(function(e,n){var r=-1,s=n.length,i=s>1?n[s-1]:void 0,o=s>2?n[2]:void 0;for(i=t.length>3&&typeof i=="function"?(s--,i):void 0,o&&cxe(n[0],n[1],o)&&(i=s<3?void 0:i,s=1),e=Object(e);++r<s;){var l=n[r];l&&t(e,l,r,i)}return e})}var dxe=Object.prototype;function rL(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||dxe;return t===n}function hxe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var fxe="[object Arguments]";function S5(t){return Ql(t)&&uf(t)==fxe}var $V=Object.prototype,mxe=$V.hasOwnProperty,pxe=$V.propertyIsEnumerable,VN=S5(function(){return arguments}())?S5:function(t){return Ql(t)&&mxe.call(t,"callee")&&!pxe.call(t,"callee")};function gxe(){return!1}var VV=typeof Vi=="object"&&Vi&&!Vi.nodeType&&Vi,C5=VV&&typeof Hi=="object"&&Hi&&!Hi.nodeType&&Hi,vxe=C5&&C5.exports===VV,N5=vxe?ac.Buffer:void 0,yxe=N5?N5.isBuffer:void 0,U0=yxe||gxe,xxe="[object Arguments]",bxe="[object Array]",wxe="[object Boolean]",_xe="[object Date]",jxe="[object Error]",Exe="[object Function]",Sxe="[object Map]",Cxe="[object Number]",Nxe="[object Object]",Txe="[object RegExp]",Axe="[object Set]",Lxe="[object String]",Rxe="[object WeakMap]",kxe="[object ArrayBuffer]",Oxe="[object DataView]",Ixe="[object Float32Array]",Pxe="[object Float64Array]",Dxe="[object Int8Array]",Mxe="[object Int16Array]",Fxe="[object Int32Array]",Bxe="[object Uint8Array]",Uxe="[object Uint8ClampedArray]",zxe="[object Uint16Array]",qxe="[object Uint32Array]",Tr={};Tr[Ixe]=Tr[Pxe]=Tr[Dxe]=Tr[Mxe]=Tr[Fxe]=Tr[Bxe]=Tr[Uxe]=Tr[zxe]=Tr[qxe]=!0;Tr[xxe]=Tr[bxe]=Tr[kxe]=Tr[wxe]=Tr[Oxe]=Tr[_xe]=Tr[jxe]=Tr[Exe]=Tr[Sxe]=Tr[Cxe]=Tr[Nxe]=Tr[Txe]=Tr[Axe]=Tr[Lxe]=Tr[Rxe]=!1;function $xe(t){return Ql(t)&&qV(t.length)&&!!Tr[uf(t)]}function sL(t){return function(e){return t(e)}}var HV=typeof Vi=="object"&&Vi&&!Vi.nodeType&&Vi,a0=HV&&typeof Hi=="object"&&Hi&&!Hi.nodeType&&Hi,Vxe=a0&&a0.exports===HV,gS=Vxe&&PV.process,np=function(){try{var t=a0&&a0.require&&a0.require("util").types;return t||gS&&gS.binding&&gS.binding("util")}catch{}}(),T5=np&&np.isTypedArray,aL=T5?sL(T5):$xe,Hxe=Object.prototype,Gxe=Hxe.hasOwnProperty;function GV(t,e){var n=Zl(t),r=!n&&VN(t),s=!n&&!r&&U0(t),i=!n&&!r&&!s&&aL(t),o=n||r||s||i,l=o?hxe(t.length,String):[],u=l.length;for(var h in t)(e||Gxe.call(t,h))&&!(o&&(h=="length"||s&&(h=="offset"||h=="parent")||i&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||UV(h,u)))&&l.push(h);return l}function WV(t,e){return function(n){return t(e(n))}}var Wxe=WV(Object.keys,Object),Kxe=Object.prototype,Yxe=Kxe.hasOwnProperty;function Xxe(t){if(!rL(t))return Wxe(t);var e=[];for(var n in Object(t))Yxe.call(t,n)&&n!="constructor"&&e.push(n);return e}function iL(t){return Ow(t)?GV(t):Xxe(t)}function Jxe(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var Qxe=Object.prototype,Zxe=Qxe.hasOwnProperty;function e1e(t){if(!cl(t))return Jxe(t);var e=rL(t),n=[];for(var r in t)r=="constructor"&&(e||!Zxe.call(t,r))||n.push(r);return n}function Uv(t){return Ow(t)?GV(t,!0):e1e(t)}var t1e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n1e=/^\w*$/;function r1e(t,e){if(Zl(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||eL(t)?!0:n1e.test(t)||!t1e.test(t)||e!=null&&t in Object(e)}var z0=hf(Object,"create");function s1e(){this.__data__=z0?z0(null):{},this.size=0}function a1e(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var i1e="__lodash_hash_undefined__",o1e=Object.prototype,l1e=o1e.hasOwnProperty;function c1e(t){var e=this.__data__;if(z0){var n=e[t];return n===i1e?void 0:n}return l1e.call(e,t)?e[t]:void 0}var u1e=Object.prototype,d1e=u1e.hasOwnProperty;function h1e(t){var e=this.__data__;return z0?e[t]!==void 0:d1e.call(e,t)}var f1e="__lodash_hash_undefined__";function m1e(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=z0&&e===void 0?f1e:e,this}function Nh(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Nh.prototype.clear=s1e;Nh.prototype.delete=a1e;Nh.prototype.get=c1e;Nh.prototype.has=h1e;Nh.prototype.set=m1e;function p1e(){this.__data__=[],this.size=0}function Iw(t,e){for(var n=t.length;n--;)if(Fv(t[n][0],e))return n;return-1}var g1e=Array.prototype,v1e=g1e.splice;function y1e(t){var e=this.__data__,n=Iw(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():v1e.call(e,n,1),--this.size,!0}function x1e(t){var e=this.__data__,n=Iw(e,t);return n<0?void 0:e[n][1]}function b1e(t){return Iw(this.__data__,t)>-1}function w1e(t,e){var n=this.__data__,r=Iw(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function iu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}iu.prototype.clear=p1e;iu.prototype.delete=y1e;iu.prototype.get=x1e;iu.prototype.has=b1e;iu.prototype.set=w1e;var q0=hf(ac,"Map");function _1e(){this.size=0,this.__data__={hash:new Nh,map:new(q0||iu),string:new Nh}}function j1e(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Pw(t,e){var n=t.__data__;return j1e(e)?n[typeof e=="string"?"string":"hash"]:n.map}function E1e(t){var e=Pw(this,t).delete(t);return this.size-=e?1:0,e}function S1e(t){return Pw(this,t).get(t)}function C1e(t){return Pw(this,t).has(t)}function N1e(t,e){var n=Pw(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function ou(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ou.prototype.clear=_1e;ou.prototype.delete=E1e;ou.prototype.get=S1e;ou.prototype.has=C1e;ou.prototype.set=N1e;var T1e="Expected a function";function oL(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(T1e);var n=function(){var r=arguments,s=e?e.apply(this,r):r[0],i=n.cache;if(i.has(s))return i.get(s);var o=t.apply(this,r);return n.cache=i.set(s,o)||i,o};return n.cache=new(oL.Cache||ou),n}oL.Cache=ou;var A1e=500;function L1e(t){var e=oL(t,function(r){return n.size===A1e&&n.clear(),r}),n=e.cache;return e}var R1e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,k1e=/\\(\\)?/g,O1e=L1e(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(R1e,function(n,r,s,i){e.push(s?i.replace(k1e,"$1"):r||n)}),e});function I1e(t){return t==null?"":MV(t)}function KV(t,e){return Zl(t)?t:r1e(t,e)?[t]:O1e(I1e(t))}function YV(t){if(typeof t=="string"||eL(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function XV(t,e){e=KV(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[YV(e[n++])];return n&&n==r?t:void 0}function P1e(t,e,n){var r=t==null?void 0:XV(t,e);return r===void 0?n:r}function JV(t,e){for(var n=-1,r=e.length,s=t.length;++n<r;)t[s+n]=e[n];return t}var lL=WV(Object.getPrototypeOf,Object),D1e="[object Object]",M1e=Function.prototype,F1e=Object.prototype,QV=M1e.toString,B1e=F1e.hasOwnProperty,U1e=QV.call(Object);function z1e(t){if(!Ql(t)||uf(t)!=D1e)return!1;var e=lL(t);if(e===null)return!0;var n=B1e.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&QV.call(n)==U1e}function q1e(t,e,n){var r=-1,s=t.length;e<0&&(e=-e>s?0:s+e),n=n>s?s:n,n<0&&(n+=s),s=e>n?0:n-e>>>0,e>>>=0;for(var i=Array(s);++r<s;)i[r]=t[r+e];return i}function $1e(){this.__data__=new iu,this.size=0}function V1e(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function H1e(t){return this.__data__.get(t)}function G1e(t){return this.__data__.has(t)}var W1e=200;function K1e(t,e){var n=this.__data__;if(n instanceof iu){var r=n.__data__;if(!q0||r.length<W1e-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new ou(r)}return n.set(t,e),this.size=n.size,this}function Hl(t){var e=this.__data__=new iu(t);this.size=e.size}Hl.prototype.clear=$1e;Hl.prototype.delete=V1e;Hl.prototype.get=H1e;Hl.prototype.has=G1e;Hl.prototype.set=K1e;function Y1e(t,e){return t&&Bv(e,iL(e),t)}function X1e(t,e){return t&&Bv(e,Uv(e),t)}var ZV=typeof Vi=="object"&&Vi&&!Vi.nodeType&&Vi,A5=ZV&&typeof Hi=="object"&&Hi&&!Hi.nodeType&&Hi,J1e=A5&&A5.exports===ZV,L5=J1e?ac.Buffer:void 0,R5=L5?L5.allocUnsafe:void 0;function eH(t,e){if(e)return t.slice();var n=t.length,r=R5?R5(n):new t.constructor(n);return t.copy(r),r}function Q1e(t,e){for(var n=-1,r=t==null?0:t.length,s=0,i=[];++n<r;){var o=t[n];e(o,n,t)&&(i[s++]=o)}return i}function tH(){return[]}var Z1e=Object.prototype,ebe=Z1e.propertyIsEnumerable,k5=Object.getOwnPropertySymbols,cL=k5?function(t){return t==null?[]:(t=Object(t),Q1e(k5(t),function(e){return ebe.call(t,e)}))}:tH;function tbe(t,e){return Bv(t,cL(t),e)}var nbe=Object.getOwnPropertySymbols,nH=nbe?function(t){for(var e=[];t;)JV(e,cL(t)),t=lL(t);return e}:tH;function rbe(t,e){return Bv(t,nH(t),e)}function rH(t,e,n){var r=e(t);return Zl(t)?r:JV(r,n(t))}function HN(t){return rH(t,iL,cL)}function sbe(t){return rH(t,Uv,nH)}var GN=hf(ac,"DataView"),WN=hf(ac,"Promise"),KN=hf(ac,"Set"),O5="[object Map]",abe="[object Object]",I5="[object Promise]",P5="[object Set]",D5="[object WeakMap]",M5="[object DataView]",ibe=df(GN),obe=df(q0),lbe=df(WN),cbe=df(KN),ube=df($N),el=uf;(GN&&el(new GN(new ArrayBuffer(1)))!=M5||q0&&el(new q0)!=O5||WN&&el(WN.resolve())!=I5||KN&&el(new KN)!=P5||$N&&el(new $N)!=D5)&&(el=function(t){var e=uf(t),n=e==abe?t.constructor:void 0,r=n?df(n):"";if(r)switch(r){case ibe:return M5;case obe:return O5;case lbe:return I5;case cbe:return P5;case ube:return D5}return e});var dbe=Object.prototype,hbe=dbe.hasOwnProperty;function fbe(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&hbe.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var ab=ac.Uint8Array;function uL(t){var e=new t.constructor(t.byteLength);return new ab(e).set(new ab(t)),e}function mbe(t,e){var n=e?uL(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var pbe=/\w*$/;function gbe(t){var e=new t.constructor(t.source,pbe.exec(t));return e.lastIndex=t.lastIndex,e}var F5=Jl?Jl.prototype:void 0,B5=F5?F5.valueOf:void 0;function vbe(t){return B5?Object(B5.call(t)):{}}function sH(t,e){var n=e?uL(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var ybe="[object Boolean]",xbe="[object Date]",bbe="[object Map]",wbe="[object Number]",_be="[object RegExp]",jbe="[object Set]",Ebe="[object String]",Sbe="[object Symbol]",Cbe="[object ArrayBuffer]",Nbe="[object DataView]",Tbe="[object Float32Array]",Abe="[object Float64Array]",Lbe="[object Int8Array]",Rbe="[object Int16Array]",kbe="[object Int32Array]",Obe="[object Uint8Array]",Ibe="[object Uint8ClampedArray]",Pbe="[object Uint16Array]",Dbe="[object Uint32Array]";function Mbe(t,e,n){var r=t.constructor;switch(e){case Cbe:return uL(t);case ybe:case xbe:return new r(+t);case Nbe:return mbe(t,n);case Tbe:case Abe:case Lbe:case Rbe:case kbe:case Obe:case Ibe:case Pbe:case Dbe:return sH(t,n);case bbe:return new r;case wbe:case Ebe:return new r(t);case _be:return gbe(t);case jbe:return new r;case Sbe:return vbe(t)}}function aH(t){return typeof t.constructor=="function"&&!rL(t)?Gye(lL(t)):{}}var Fbe="[object Map]";function Bbe(t){return Ql(t)&&el(t)==Fbe}var U5=np&&np.isMap,Ube=U5?sL(U5):Bbe,zbe="[object Set]";function qbe(t){return Ql(t)&&el(t)==zbe}var z5=np&&np.isSet,$be=z5?sL(z5):qbe,Vbe=1,Hbe=2,Gbe=4,iH="[object Arguments]",Wbe="[object Array]",Kbe="[object Boolean]",Ybe="[object Date]",Xbe="[object Error]",oH="[object Function]",Jbe="[object GeneratorFunction]",Qbe="[object Map]",Zbe="[object Number]",lH="[object Object]",ewe="[object RegExp]",twe="[object Set]",nwe="[object String]",rwe="[object Symbol]",swe="[object WeakMap]",awe="[object ArrayBuffer]",iwe="[object DataView]",owe="[object Float32Array]",lwe="[object Float64Array]",cwe="[object Int8Array]",uwe="[object Int16Array]",dwe="[object Int32Array]",hwe="[object Uint8Array]",fwe="[object Uint8ClampedArray]",mwe="[object Uint16Array]",pwe="[object Uint32Array]",jr={};jr[iH]=jr[Wbe]=jr[awe]=jr[iwe]=jr[Kbe]=jr[Ybe]=jr[owe]=jr[lwe]=jr[cwe]=jr[uwe]=jr[dwe]=jr[Qbe]=jr[Zbe]=jr[lH]=jr[ewe]=jr[twe]=jr[nwe]=jr[rwe]=jr[hwe]=jr[fwe]=jr[mwe]=jr[pwe]=!0;jr[Xbe]=jr[oH]=jr[swe]=!1;function i0(t,e,n,r,s,i){var o,l=e&Vbe,u=e&Hbe,h=e&Gbe;if(o!==void 0)return o;if(!cl(t))return t;var f=Zl(t);if(f){if(o=fbe(t),!l)return BV(t,o)}else{var g=el(t),p=g==oH||g==Jbe;if(U0(t))return eH(t,l);if(g==lH||g==iH||p&&!s){if(o=u||p?{}:aH(t),!l)return u?rbe(t,X1e(o,t)):tbe(t,Y1e(o,t))}else{if(!jr[g])return s?t:{};o=Mbe(t,g,l)}}i||(i=new Hl);var v=i.get(t);if(v)return v;i.set(t,o),$be(t)?t.forEach(function(S){o.add(i0(S,e,n,S,t,i))}):Ube(t)&&t.forEach(function(S,C){o.set(C,i0(S,e,n,C,t,i))});var w=h?u?sbe:HN:u?Uv:iL,E=f?void 0:w(t);return txe(E||t,function(S,C){E&&(C=S,S=t[C]),zV(o,C,i0(S,e,n,C,t,i))}),o}var gwe=4;function vwe(t){return i0(t,gwe)}var ywe=1,xwe=4;function Rm(t){return i0(t,ywe|xwe)}var bwe="__lodash_hash_undefined__";function wwe(t){return this.__data__.set(t,bwe),this}function _we(t){return this.__data__.has(t)}function ib(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new ou;++e<n;)this.add(t[e])}ib.prototype.add=ib.prototype.push=wwe;ib.prototype.has=_we;function jwe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function Ewe(t,e){return t.has(e)}var Swe=1,Cwe=2;function cH(t,e,n,r,s,i){var o=n&Swe,l=t.length,u=e.length;if(l!=u&&!(o&&u>l))return!1;var h=i.get(t),f=i.get(e);if(h&&f)return h==e&&f==t;var g=-1,p=!0,v=n&Cwe?new ib:void 0;for(i.set(t,e),i.set(e,t);++g<l;){var w=t[g],E=e[g];if(r)var S=o?r(E,w,g,e,t,i):r(w,E,g,t,e,i);if(S!==void 0){if(S)continue;p=!1;break}if(v){if(!jwe(e,function(C,O){if(!Ewe(v,O)&&(w===C||s(w,C,n,r,i)))return v.push(O)})){p=!1;break}}else if(!(w===E||s(w,E,n,r,i))){p=!1;break}}return i.delete(t),i.delete(e),p}function Nwe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,s){n[++e]=[s,r]}),n}function Twe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var Awe=1,Lwe=2,Rwe="[object Boolean]",kwe="[object Date]",Owe="[object Error]",Iwe="[object Map]",Pwe="[object Number]",Dwe="[object RegExp]",Mwe="[object Set]",Fwe="[object String]",Bwe="[object Symbol]",Uwe="[object ArrayBuffer]",zwe="[object DataView]",q5=Jl?Jl.prototype:void 0,vS=q5?q5.valueOf:void 0;function qwe(t,e,n,r,s,i,o){switch(n){case zwe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Uwe:return!(t.byteLength!=e.byteLength||!i(new ab(t),new ab(e)));case Rwe:case kwe:case Pwe:return Fv(+t,+e);case Owe:return t.name==e.name&&t.message==e.message;case Dwe:case Fwe:return t==e+"";case Iwe:var l=Nwe;case Mwe:var u=r&Awe;if(l||(l=Twe),t.size!=e.size&&!u)return!1;var h=o.get(t);if(h)return h==e;r|=Lwe,o.set(t,e);var f=cH(l(t),l(e),r,s,i,o);return o.delete(t),f;case Bwe:if(vS)return vS.call(t)==vS.call(e)}return!1}var $we=1,Vwe=Object.prototype,Hwe=Vwe.hasOwnProperty;function Gwe(t,e,n,r,s,i){var o=n&$we,l=HN(t),u=l.length,h=HN(e),f=h.length;if(u!=f&&!o)return!1;for(var g=u;g--;){var p=l[g];if(!(o?p in e:Hwe.call(e,p)))return!1}var v=i.get(t),w=i.get(e);if(v&&w)return v==e&&w==t;var E=!0;i.set(t,e),i.set(e,t);for(var S=o;++g<u;){p=l[g];var C=t[p],O=e[p];if(r)var I=o?r(O,C,p,e,t,i):r(C,O,p,t,e,i);if(!(I===void 0?C===O||s(C,O,n,r,i):I)){E=!1;break}S||(S=p=="constructor")}if(E&&!S){var D=t.constructor,T=e.constructor;D!=T&&"constructor"in t&&"constructor"in e&&!(typeof D=="function"&&D instanceof D&&typeof T=="function"&&T instanceof T)&&(E=!1)}return i.delete(t),i.delete(e),E}var Wwe=1,$5="[object Arguments]",V5="[object Array]",jx="[object Object]",Kwe=Object.prototype,H5=Kwe.hasOwnProperty;function Ywe(t,e,n,r,s,i){var o=Zl(t),l=Zl(e),u=o?V5:el(t),h=l?V5:el(e);u=u==$5?jx:u,h=h==$5?jx:h;var f=u==jx,g=h==jx,p=u==h;if(p&&U0(t)){if(!U0(e))return!1;o=!0,f=!1}if(p&&!f)return i||(i=new Hl),o||aL(t)?cH(t,e,n,r,s,i):qwe(t,e,u,n,r,s,i);if(!(n&Wwe)){var v=f&&H5.call(t,"__wrapped__"),w=g&&H5.call(e,"__wrapped__");if(v||w){var E=v?t.value():t,S=w?e.value():e;return i||(i=new Hl),s(E,S,n,r,i)}}return p?(i||(i=new Hl),Gwe(t,e,n,r,s,i)):!1}function uH(t,e,n,r,s){return t===e?!0:t==null||e==null||!Ql(t)&&!Ql(e)?t!==t&&e!==e:Ywe(t,e,n,r,uH,s)}function Xwe(t){return function(e,n,r){for(var s=-1,i=Object(e),o=r(e),l=o.length;l--;){var u=o[++s];if(n(i[u],u,i)===!1)break}return e}}var Jwe=Xwe();function YN(t,e,n){(n!==void 0&&!Fv(t[e],n)||n===void 0&&!(e in t))&&nL(t,e,n)}function Qwe(t){return Ql(t)&&Ow(t)}function XN(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function Zwe(t){return Bv(t,Uv(t))}function e2e(t,e,n,r,s,i,o){var l=XN(t,n),u=XN(e,n),h=o.get(u);if(h){YN(t,n,h);return}var f=i?i(l,u,n+"",t,e,o):void 0,g=f===void 0;if(g){var p=Zl(u),v=!p&&U0(u),w=!p&&!v&&aL(u);f=u,p||v||w?Zl(l)?f=l:Qwe(l)?f=BV(l):v?(g=!1,f=eH(u,!0)):w?(g=!1,f=sH(u,!0)):f=[]:z1e(u)||VN(u)?(f=l,VN(l)?f=Zwe(l):(!cl(l)||tL(l))&&(f=aH(u))):g=!1}g&&(o.set(u,f),s(f,u,r,i,o),o.delete(u)),YN(t,n,f)}function dH(t,e,n,r,s){t!==e&&Jwe(e,function(i,o){if(s||(s=new Hl),cl(i))e2e(t,e,o,n,dH,r,s);else{var l=r?r(XN(t,o),i,o+"",t,e,s):void 0;l===void 0&&(l=i),YN(t,o,l)}},Uv)}function t2e(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}function n2e(t,e){return e.length<2?t:XV(t,q1e(e,0,-1))}function $0(t,e){return uH(t,e)}var sd=uxe(function(t,e,n){dH(t,e,n)});function r2e(t,e){return e=KV(e,t),t=n2e(t,e),t==null||delete t[YV(t2e(e))]}function s2e(t,e){return t==null?!0:r2e(t,e)}var Tt=(t=>(t[t.TYPE=3]="TYPE",t[t.LEVEL=12]="LEVEL",t[t.ATTRIBUTE=13]="ATTRIBUTE",t[t.BLOT=14]="BLOT",t[t.INLINE=7]="INLINE",t[t.BLOCK=11]="BLOCK",t[t.BLOCK_BLOT=10]="BLOCK_BLOT",t[t.INLINE_BLOT=6]="INLINE_BLOT",t[t.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",t[t.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",t[t.ANY=15]="ANY",t))(Tt||{});class ec{constructor(e,n,r={}){this.attrName=e,this.keyName=n;const s=Tt.TYPE&Tt.ATTRIBUTE;this.scope=r.scope!=null?r.scope&Tt.LEVEL|s:Tt.ATTRIBUTE,r.whitelist!=null&&(this.whitelist=r.whitelist)}static keys(e){return Array.from(e.attributes).map(n=>n.name)}add(e,n){return this.canAdd(e,n)?(e.setAttribute(this.keyName,n),!0):!1}canAdd(e,n){return this.whitelist==null?!0:typeof n=="string"?this.whitelist.indexOf(n.replace(/["']/g,""))>-1:this.whitelist.indexOf(n)>-1}remove(e){e.removeAttribute(this.keyName)}value(e){const n=e.getAttribute(this.keyName);return this.canAdd(e,n)&&n?n:""}}class km extends Error{constructor(e){e="[Parchment] "+e,super(e),this.message=e,this.name=this.constructor.name}}const hH=class JN{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(e,n=!1){if(e==null)return null;if(this.blots.has(e))return this.blots.get(e)||null;if(n){let r=null;try{r=e.parentNode}catch{return null}return this.find(r,n)}return null}create(e,n,r){const s=this.query(n);if(s==null)throw new km(`Unable to create ${n} blot`);const i=s,o=n instanceof Node||n.nodeType===Node.TEXT_NODE?n:i.create(r),l=new i(e,o,r);return JN.blots.set(l.domNode,l),l}find(e,n=!1){return JN.find(e,n)}query(e,n=Tt.ANY){let r;return typeof e=="string"?r=this.types[e]||this.attributes[e]:e instanceof Text||e.nodeType===Node.TEXT_NODE?r=this.types.text:typeof e=="number"?e&Tt.LEVEL&Tt.BLOCK?r=this.types.block:e&Tt.LEVEL&Tt.INLINE&&(r=this.types.inline):e instanceof Element&&((e.getAttribute("class")||"").split(/\s+/).some(s=>(r=this.classes[s],!!r)),r=r||this.tags[e.tagName]),r==null?null:"scope"in r&&n&Tt.LEVEL&r.scope&&n&Tt.TYPE&r.scope?r:null}register(...e){return e.map(n=>{const r="blotName"in n,s="attrName"in n;if(!r&&!s)throw new km("Invalid definition");if(r&&n.blotName==="abstract")throw new km("Cannot register abstract class");const i=r?n.blotName:s?n.attrName:void 0;return this.types[i]=n,s?typeof n.keyName=="string"&&(this.attributes[n.keyName]=n):r&&(n.className&&(this.classes[n.className]=n),n.tagName&&(Array.isArray(n.tagName)?n.tagName=n.tagName.map(o=>o.toUpperCase()):n.tagName=n.tagName.toUpperCase(),(Array.isArray(n.tagName)?n.tagName:[n.tagName]).forEach(o=>{(this.tags[o]==null||n.className==null)&&(this.tags[o]=n)}))),n})}};hH.blots=new WeakMap;let rp=hH;function G5(t,e){return(t.getAttribute("class")||"").split(/\s+/).filter(n=>n.indexOf(`${e}-`)===0)}class a2e extends ec{static keys(e){return(e.getAttribute("class")||"").split(/\s+/).map(n=>n.split("-").slice(0,-1).join("-"))}add(e,n){return this.canAdd(e,n)?(this.remove(e),e.classList.add(`${this.keyName}-${n}`),!0):!1}remove(e){G5(e,this.keyName).forEach(n=>{e.classList.remove(n)}),e.classList.length===0&&e.removeAttribute("class")}value(e){const n=(G5(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,n)?n:""}}const dl=a2e;function yS(t){const e=t.split("-"),n=e.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("");return e[0]+n}class i2e extends ec{static keys(e){return(e.getAttribute("style")||"").split(";").map(n=>n.split(":")[0].trim())}add(e,n){return this.canAdd(e,n)?(e.style[yS(this.keyName)]=n,!0):!1}remove(e){e.style[yS(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")}value(e){const n=e.style[yS(this.keyName)];return this.canAdd(e,n)?n:""}}const Sd=i2e;class o2e{constructor(e){this.attributes={},this.domNode=e,this.build()}attribute(e,n){n?e.add(this.domNode,n)&&(e.value(this.domNode)!=null?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])}build(){this.attributes={};const e=rp.find(this.domNode);if(e==null)return;const n=ec.keys(this.domNode),r=dl.keys(this.domNode),s=Sd.keys(this.domNode);n.concat(r).concat(s).forEach(i=>{const o=e.scroll.query(i,Tt.ATTRIBUTE);o instanceof ec&&(this.attributes[o.attrName]=o)})}copy(e){Object.keys(this.attributes).forEach(n=>{const r=this.attributes[n].value(this.domNode);e.format(n,r)})}move(e){this.copy(e),Object.keys(this.attributes).forEach(n=>{this.attributes[n].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((e,n)=>(e[n]=this.attributes[n].value(this.domNode),e),{})}}const Dw=o2e,fH=class{constructor(e,n){this.scroll=e,this.domNode=n,rp.blots.set(n,this),this.prev=null,this.next=null}static create(e){if(this.tagName==null)throw new km("Blot definition missing tagName");let n,r;return Array.isArray(this.tagName)?(typeof e=="string"?(r=e.toUpperCase(),parseInt(r,10).toString()===r&&(r=parseInt(r,10))):typeof e=="number"&&(r=e),typeof r=="number"?n=document.createElement(this.tagName[r-1]):r&&this.tagName.indexOf(r)>-1?n=document.createElement(r):n=document.createElement(this.tagName[0])):n=document.createElement(this.tagName),this.className&&n.classList.add(this.className),n}get statics(){return this.constructor}attach(){}clone(){const e=this.domNode.cloneNode(!1);return this.scroll.create(e)}detach(){this.parent!=null&&this.parent.removeChild(this),rp.blots.delete(this.domNode)}deleteAt(e,n){this.isolate(e,n).remove()}formatAt(e,n,r,s){const i=this.isolate(e,n);if(this.scroll.query(r,Tt.BLOT)!=null&&s)i.wrap(r,s);else if(this.scroll.query(r,Tt.ATTRIBUTE)!=null){const o=this.scroll.create(this.statics.scope);i.wrap(o),o.format(r,s)}}insertAt(e,n,r){const s=r==null?this.scroll.create("text",n):this.scroll.create(n,r),i=this.split(e);this.parent.insertBefore(s,i||void 0)}isolate(e,n){const r=this.split(e);if(r==null)throw new Error("Attempt to isolate at end");return r.split(n),r}length(){return 1}offset(e=this.parent){return this.parent==null||this===e?0:this.parent.children.offset(this)+this.parent.offset(e)}optimize(e){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(e,n){const r=typeof e=="string"?this.scroll.create(e,n):e;return this.parent!=null&&(this.parent.insertBefore(r,this.next||void 0),this.remove()),r}split(e,n){return e===0?this:this.next}update(e,n){}wrap(e,n){const r=typeof e=="string"?this.scroll.create(e,n):e;if(this.parent!=null&&this.parent.insertBefore(r,this.next||void 0),typeof r.appendChild!="function")throw new km(`Cannot wrap ${e}`);return r.appendChild(this),r}};fH.blotName="abstract";let mH=fH;const pH=class extends mH{static value(e){return!0}index(e,n){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(n,1):-1}position(e,n){let r=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return e>0&&(r+=1),[this.parent.domNode,r]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};pH.scope=Tt.INLINE_BLOT;let l2e=pH;const Da=l2e;class c2e{constructor(){this.head=null,this.tail=null,this.length=0}append(...e){if(this.insertBefore(e[0],null),e.length>1){const n=e.slice(1);this.append(...n)}}at(e){const n=this.iterator();let r=n();for(;r&&e>0;)e-=1,r=n();return r}contains(e){const n=this.iterator();let r=n();for(;r;){if(r===e)return!0;r=n()}return!1}indexOf(e){const n=this.iterator();let r=n(),s=0;for(;r;){if(r===e)return s;s+=1,r=n()}return-1}insertBefore(e,n){e!=null&&(this.remove(e),e.next=n,n!=null?(e.prev=n.prev,n.prev!=null&&(n.prev.next=e),n.prev=e,n===this.head&&(this.head=e)):this.tail!=null?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)}offset(e){let n=0,r=this.head;for(;r!=null;){if(r===e)return n;n+=r.length(),r=r.next}return-1}remove(e){this.contains(e)&&(e.prev!=null&&(e.prev.next=e.next),e.next!=null&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)}iterator(e=this.head){return()=>{const n=e;return e!=null&&(e=e.next),n}}find(e,n=!1){const r=this.iterator();let s=r();for(;s;){const i=s.length();if(e<i||n&&e===i&&(s.next==null||s.next.length()!==0))return[s,e];e-=i,s=r()}return[null,0]}forEach(e){const n=this.iterator();let r=n();for(;r;)e(r),r=n()}forEachAt(e,n,r){if(n<=0)return;const[s,i]=this.find(e);let o=e-i;const l=this.iterator(s);let u=l();for(;u&&o<e+n;){const h=u.length();e>o?r(u,e-o,Math.min(n,o+h-e)):r(u,0,Math.min(h,e+n-o)),o+=h,u=l()}}map(e){return this.reduce((n,r)=>(n.push(e(r)),n),[])}reduce(e,n){const r=this.iterator();let s=r();for(;s;)n=e(n,s),s=r();return n}}function W5(t,e){const n=e.find(t);if(n)return n;try{return e.create(t)}catch{const r=e.create(Tt.INLINE);return Array.from(t.childNodes).forEach(s=>{r.domNode.appendChild(s)}),t.parentNode&&t.parentNode.replaceChild(r.domNode,t),r.attach(),r}}const gH=class Pu extends mH{constructor(e,n){super(e,n),this.uiNode=null,this.build()}appendChild(e){this.insertBefore(e)}attach(){super.attach(),this.children.forEach(e=>{e.attach()})}attachUI(e){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=e,Pu.uiClass&&this.uiNode.classList.add(Pu.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new c2e,Array.from(this.domNode.childNodes).filter(e=>e!==this.uiNode).reverse().forEach(e=>{try{const n=W5(e,this.scroll);this.insertBefore(n,this.children.head||void 0)}catch(n){if(n instanceof km)return;throw n}})}deleteAt(e,n){if(e===0&&n===this.length())return this.remove();this.children.forEachAt(e,n,(r,s,i)=>{r.deleteAt(s,i)})}descendant(e,n=0){const[r,s]=this.children.find(n);return e.blotName==null&&e(r)||e.blotName!=null&&r instanceof e?[r,s]:r instanceof Pu?r.descendant(e,s):[null,-1]}descendants(e,n=0,r=Number.MAX_VALUE){let s=[],i=r;return this.children.forEachAt(n,r,(o,l,u)=>{(e.blotName==null&&e(o)||e.blotName!=null&&o instanceof e)&&s.push(o),o instanceof Pu&&(s=s.concat(o.descendants(e,l,i))),i-=u}),s}detach(){this.children.forEach(e=>{e.detach()}),super.detach()}enforceAllowedChildren(){let e=!1;this.children.forEach(n=>{e||this.statics.allowedChildren.some(r=>n instanceof r)||(n.statics.scope===Tt.BLOCK_BLOT?(n.next!=null&&this.splitAfter(n),n.prev!=null&&this.splitAfter(n.prev),n.parent.unwrap(),e=!0):n instanceof Pu?n.unwrap():n.remove())})}formatAt(e,n,r,s){this.children.forEachAt(e,n,(i,o,l)=>{i.formatAt(o,l,r,s)})}insertAt(e,n,r){const[s,i]=this.children.find(e);if(s)s.insertAt(i,n,r);else{const o=r==null?this.scroll.create("text",n):this.scroll.create(n,r);this.appendChild(o)}}insertBefore(e,n){e.parent!=null&&e.parent.children.remove(e);let r=null;this.children.insertBefore(e,n||null),e.parent=this,n!=null&&(r=n.domNode),(this.domNode.parentNode!==e.domNode||this.domNode.nextSibling!==r)&&this.domNode.insertBefore(e.domNode,r),e.attach()}length(){return this.children.reduce((e,n)=>e+n.length(),0)}moveChildren(e,n){this.children.forEach(r=>{e.insertBefore(r,n)})}optimize(e){if(super.optimize(e),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const n=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(n)}else this.remove()}path(e,n=!1){const[r,s]=this.children.find(e,n),i=[[this,e]];return r instanceof Pu?i.concat(r.path(s,n)):(r!=null&&i.push([r,s]),i)}removeChild(e){this.children.remove(e)}replaceWith(e,n){const r=typeof e=="string"?this.scroll.create(e,n):e;return r instanceof Pu&&this.moveChildren(r),super.replaceWith(r)}split(e,n=!1){if(!n){if(e===0)return this;if(e===this.length())return this.next}const r=this.clone();return this.parent&&this.parent.insertBefore(r,this.next||void 0),this.children.forEachAt(e,this.length(),(s,i,o)=>{const l=s.split(i,n);l!=null&&r.appendChild(l)}),r}splitAfter(e){const n=this.clone();for(;e.next!=null;)n.appendChild(e.next);return this.parent&&this.parent.insertBefore(n,this.next||void 0),n}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(e,n){const r=[],s=[];e.forEach(i=>{i.target===this.domNode&&i.type==="childList"&&(r.push(...i.addedNodes),s.push(...i.removedNodes))}),s.forEach(i=>{if(i.parentNode!=null&&i.tagName!=="IFRAME"&&document.body.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const o=this.scroll.find(i);o!=null&&(o.domNode.parentNode==null||o.domNode.parentNode===this.domNode)&&o.detach()}),r.filter(i=>i.parentNode===this.domNode&&i!==this.uiNode).sort((i,o)=>i===o?0:i.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(i=>{let o=null;i.nextSibling!=null&&(o=this.scroll.find(i.nextSibling));const l=W5(i,this.scroll);(l.next!==o||l.next==null)&&(l.parent!=null&&l.parent.removeChild(this),this.insertBefore(l,o||void 0))}),this.enforceAllowedChildren()}};gH.uiClass="";let u2e=gH;const il=u2e;function d2e(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}const cm=class um extends il{static create(e){return super.create(e)}static formats(e,n){const r=n.query(um.blotName);if(!(r!=null&&e.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,n){super(e,n),this.attributes=new Dw(this.domNode)}format(e,n){if(e===this.statics.blotName&&!n)this.children.forEach(r=>{r instanceof um||(r=r.wrap(um.blotName,!0)),this.attributes.copy(r)}),this.unwrap();else{const r=this.scroll.query(e,Tt.INLINE);if(r==null)return;r instanceof ec?this.attributes.attribute(r,n):n&&(e!==this.statics.blotName||this.formats()[e]!==n)&&this.replaceWith(e,n)}}formats(){const e=this.attributes.values(),n=this.statics.formats(this.domNode,this.scroll);return n!=null&&(e[this.statics.blotName]=n),e}formatAt(e,n,r,s){this.formats()[r]!=null||this.scroll.query(r,Tt.ATTRIBUTE)?this.isolate(e,n).format(r,s):super.formatAt(e,n,r,s)}optimize(e){super.optimize(e);const n=this.formats();if(Object.keys(n).length===0)return this.unwrap();const r=this.next;r instanceof um&&r.prev===this&&d2e(n,r.formats())&&(r.moveChildren(this),r.remove())}replaceWith(e,n){const r=super.replaceWith(e,n);return this.attributes.copy(r),r}update(e,n){super.update(e,n),e.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}wrap(e,n){const r=super.wrap(e,n);return r instanceof um&&this.attributes.move(r),r}};cm.allowedChildren=[cm,Da],cm.blotName="inline",cm.scope=Tt.INLINE_BLOT,cm.tagName="SPAN";let h2e=cm;const dL=h2e,dm=class QN extends il{static create(e){return super.create(e)}static formats(e,n){const r=n.query(QN.blotName);if(!(r!=null&&e.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,n){super(e,n),this.attributes=new Dw(this.domNode)}format(e,n){const r=this.scroll.query(e,Tt.BLOCK);r!=null&&(r instanceof ec?this.attributes.attribute(r,n):e===this.statics.blotName&&!n?this.replaceWith(QN.blotName):n&&(e!==this.statics.blotName||this.formats()[e]!==n)&&this.replaceWith(e,n))}formats(){const e=this.attributes.values(),n=this.statics.formats(this.domNode,this.scroll);return n!=null&&(e[this.statics.blotName]=n),e}formatAt(e,n,r,s){this.scroll.query(r,Tt.BLOCK)!=null?this.format(r,s):super.formatAt(e,n,r,s)}insertAt(e,n,r){if(r==null||this.scroll.query(n,Tt.INLINE)!=null)super.insertAt(e,n,r);else{const s=this.split(e);if(s!=null){const i=this.scroll.create(n,r);s.parent.insertBefore(i,s)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(e,n){const r=super.replaceWith(e,n);return this.attributes.copy(r),r}update(e,n){super.update(e,n),e.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}};dm.blotName="block",dm.scope=Tt.BLOCK_BLOT,dm.tagName="P",dm.allowedChildren=[dL,dm,Da];let f2e=dm;const V0=f2e,ZN=class extends il{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(e,n){super.deleteAt(e,n),this.enforceAllowedChildren()}formatAt(e,n,r,s){super.formatAt(e,n,r,s),this.enforceAllowedChildren()}insertAt(e,n,r){super.insertAt(e,n,r),this.enforceAllowedChildren()}optimize(e){super.optimize(e),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};ZN.blotName="container",ZN.scope=Tt.BLOCK_BLOT;let m2e=ZN;const Mw=m2e;class p2e extends Da{static formats(e,n){}format(e,n){super.formatAt(0,this.length(),e,n)}formatAt(e,n,r,s){e===0&&n===this.length()?this.format(r,s):super.formatAt(e,n,r,s)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const eo=p2e,g2e={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},v2e=100,hm=class extends il{constructor(e,n){super(null,n),this.registry=e,this.scroll=this,this.build(),this.observer=new MutationObserver(r=>{this.update(r)}),this.observer.observe(this.domNode,g2e),this.attach()}create(e,n){return this.registry.create(this,e,n)}find(e,n=!1){const r=this.registry.find(e,n);return r?r.scroll===this?r:n?this.find(r.scroll.domNode.parentNode,!0):null:null}query(e,n=Tt.ANY){return this.registry.query(e,n)}register(...e){return this.registry.register(...e)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(e,n){this.update(),e===0&&n===this.length()?this.children.forEach(r=>{r.remove()}):super.deleteAt(e,n)}formatAt(e,n,r,s){this.update(),super.formatAt(e,n,r,s)}insertAt(e,n,r){this.update(),super.insertAt(e,n,r)}optimize(e=[],n={}){super.optimize(n);const r=n.mutationsMap||new WeakMap;let s=Array.from(this.observer.takeRecords());for(;s.length>0;)e.push(s.pop());const i=(u,h=!0)=>{u==null||u===this||u.domNode.parentNode!=null&&(r.has(u.domNode)||r.set(u.domNode,[]),h&&i(u.parent))},o=u=>{r.has(u.domNode)&&(u instanceof il&&u.children.forEach(o),r.delete(u.domNode),u.optimize(n))};let l=e;for(let u=0;l.length>0;u+=1){if(u>=v2e)throw new Error("[Parchment] Maximum optimize iterations reached");for(l.forEach(h=>{const f=this.find(h.target,!0);f!=null&&(f.domNode===h.target&&(h.type==="childList"?(i(this.find(h.previousSibling,!1)),Array.from(h.addedNodes).forEach(g=>{const p=this.find(g,!1);i(p,!1),p instanceof il&&p.children.forEach(v=>{i(v,!1)})})):h.type==="attributes"&&i(f.prev)),i(f))}),this.children.forEach(o),l=Array.from(this.observer.takeRecords()),s=l.slice();s.length>0;)e.push(s.pop())}}update(e,n={}){e=e||this.observer.takeRecords();const r=new WeakMap;e.map(s=>{const i=this.find(s.target,!0);return i==null?null:r.has(i.domNode)?(r.get(i.domNode).push(s),null):(r.set(i.domNode,[s]),i)}).forEach(s=>{s!=null&&s!==this&&r.has(s.domNode)&&s.update(r.get(s.domNode)||[],n)}),n.mutationsMap=r,r.has(this.domNode)&&super.update(r.get(this.domNode),n),this.optimize(e,n)}};hm.blotName="scroll",hm.defaultChild=V0,hm.allowedChildren=[V0,Mw],hm.scope=Tt.BLOCK_BLOT,hm.tagName="DIV";let y2e=hm;const hL=y2e,eT=class vH extends Da{static create(e){return document.createTextNode(e)}static value(e){return e.data}constructor(e,n){super(e,n),this.text=this.statics.value(this.domNode)}deleteAt(e,n){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+n)}index(e,n){return this.domNode===e?n:-1}insertAt(e,n,r){r==null?(this.text=this.text.slice(0,e)+n+this.text.slice(e),this.domNode.data=this.text):super.insertAt(e,n,r)}length(){return this.text.length}optimize(e){super.optimize(e),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof vH&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(e,n=!1){return[this.domNode,e]}split(e,n=!1){if(!n){if(e===0)return this;if(e===this.length())return this.next}const r=this.scroll.create(this.domNode.splitText(e));return this.parent.insertBefore(r,this.next||void 0),this.text=this.statics.value(this.domNode),r}update(e,n){e.some(r=>r.type==="characterData"&&r.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};eT.blotName="text",eT.scope=Tt.INLINE_BLOT;let x2e=eT;const ob=x2e,b2e=Object.freeze(Object.defineProperty({__proto__:null,Attributor:ec,AttributorStore:Dw,BlockBlot:V0,ClassAttributor:dl,ContainerBlot:Mw,EmbedBlot:eo,InlineBlot:dL,LeafBlot:Da,ParentBlot:il,Registry:rp,Scope:Tt,ScrollBlot:hL,StyleAttributor:Sd,TextBlot:ob},Symbol.toStringTag,{value:"Module"}));var Ex={exports:{}},xS,K5;function w2e(){if(K5)return xS;K5=1;var t=-1,e=1,n=0;function r(R,U,P,K,G){if(R===U)return R?[[n,R]]:[];if(P!=null){var re=_(R,U,P);if(re)return re}var Z=l(R,U),me=R.substring(0,Z);R=R.substring(Z),U=U.substring(Z),Z=h(R,U);var ie=R.substring(R.length-Z);R=R.substring(0,R.length-Z),U=U.substring(0,U.length-Z);var W=s(R,U);return me&&W.unshift([n,me]),ie&&W.push([n,ie]),O(W,G),K&&g(W),W}function s(R,U){var P;if(!R)return[[e,U]];if(!U)return[[t,R]];var K=R.length>U.length?R:U,G=R.length>U.length?U:R,re=K.indexOf(G);if(re!==-1)return P=[[e,K.substring(0,re)],[n,G],[e,K.substring(re+G.length)]],R.length>U.length&&(P[0][0]=P[2][0]=t),P;if(G.length===1)return[[t,R],[e,U]];var Z=f(R,U);if(Z){var me=Z[0],ie=Z[1],W=Z[2],ve=Z[3],Q=Z[4],ne=r(me,W),te=r(ie,ve);return ne.concat([[n,Q]],te)}return i(R,U)}function i(R,U){for(var P=R.length,K=U.length,G=Math.ceil((P+K)/2),re=G,Z=2*G,me=new Array(Z),ie=new Array(Z),W=0;W<Z;W++)me[W]=-1,ie[W]=-1;me[re+1]=0,ie[re+1]=0;for(var ve=P-K,Q=ve%2!==0,ne=0,te=0,X=0,be=0,Ne=0;Ne<G;Ne++){for(var Ee=-Ne+ne;Ee<=Ne-te;Ee+=2){var Ie=re+Ee,_e;Ee===-Ne||Ee!==Ne&&me[Ie-1]<me[Ie+1]?_e=me[Ie+1]:_e=me[Ie-1]+1;for(var Ue=_e-Ee;_e<P&&Ue<K&&R.charAt(_e)===U.charAt(Ue);)_e++,Ue++;if(me[Ie]=_e,_e>P)te+=2;else if(Ue>K)ne+=2;else if(Q){var tt=re+ve-Ee;if(tt>=0&&tt<Z&&ie[tt]!==-1){var ct=P-ie[tt];if(_e>=ct)return o(R,U,_e,Ue)}}}for(var ut=-Ne+X;ut<=Ne-be;ut+=2){var tt=re+ut,ct;ut===-Ne||ut!==Ne&&ie[tt-1]<ie[tt+1]?ct=ie[tt+1]:ct=ie[tt-1]+1;for(var Ye=ct-ut;ct<P&&Ye<K&&R.charAt(P-ct-1)===U.charAt(K-Ye-1);)ct++,Ye++;if(ie[tt]=ct,ct>P)be+=2;else if(Ye>K)X+=2;else if(!Q){var Ie=re+ve-ut;if(Ie>=0&&Ie<Z&&me[Ie]!==-1){var _e=me[Ie],Ue=re+_e-Ie;if(ct=P-ct,_e>=ct)return o(R,U,_e,Ue)}}}}return[[t,R],[e,U]]}function o(R,U,P,K){var G=R.substring(0,P),re=U.substring(0,K),Z=R.substring(P),me=U.substring(K),ie=r(G,re),W=r(Z,me);return ie.concat(W)}function l(R,U){if(!R||!U||R.charAt(0)!==U.charAt(0))return 0;for(var P=0,K=Math.min(R.length,U.length),G=K,re=0;P<G;)R.substring(re,G)==U.substring(re,G)?(P=G,re=P):K=G,G=Math.floor((K-P)/2+P);return I(R.charCodeAt(G-1))&&G--,G}function u(R,U){var P=R.length,K=U.length;if(P==0||K==0)return 0;P>K?R=R.substring(P-K):P<K&&(U=U.substring(0,P));var G=Math.min(P,K);if(R==U)return G;for(var re=0,Z=1;;){var me=R.substring(G-Z),ie=U.indexOf(me);if(ie==-1)return re;Z+=ie,(ie==0||R.substring(G-Z)==U.substring(0,Z))&&(re=Z,Z++)}}function h(R,U){if(!R||!U||R.slice(-1)!==U.slice(-1))return 0;for(var P=0,K=Math.min(R.length,U.length),G=K,re=0;P<G;)R.substring(R.length-G,R.length-re)==U.substring(U.length-G,U.length-re)?(P=G,re=P):K=G,G=Math.floor((K-P)/2+P);return D(R.charCodeAt(R.length-G))&&G--,G}function f(R,U){var P=R.length>U.length?R:U,K=R.length>U.length?U:R;if(P.length<4||K.length*2<P.length)return null;function G(te,X,be){for(var Ne=te.substring(be,be+Math.floor(te.length/4)),Ee=-1,Ie="",_e,Ue,tt,ct;(Ee=X.indexOf(Ne,Ee+1))!==-1;){var ut=l(te.substring(be),X.substring(Ee)),Ye=h(te.substring(0,be),X.substring(0,Ee));Ie.length<Ye+ut&&(Ie=X.substring(Ee-Ye,Ee)+X.substring(Ee,Ee+ut),_e=te.substring(0,be-Ye),Ue=te.substring(be+ut),tt=X.substring(0,Ee-Ye),ct=X.substring(Ee+ut))}return Ie.length*2>=te.length?[_e,Ue,tt,ct,Ie]:null}var re=G(P,K,Math.ceil(P.length/4)),Z=G(P,K,Math.ceil(P.length/2)),me;if(!re&&!Z)return null;Z?re?me=re[4].length>Z[4].length?re:Z:me=Z:me=re;var ie,W,ve,Q;R.length>U.length?(ie=me[0],W=me[1],ve=me[2],Q=me[3]):(ve=me[0],Q=me[1],ie=me[2],W=me[3]);var ne=me[4];return[ie,W,ve,Q,ne]}function g(R){for(var U=!1,P=[],K=0,G=null,re=0,Z=0,me=0,ie=0,W=0;re<R.length;)R[re][0]==n?(P[K++]=re,Z=ie,me=W,ie=0,W=0,G=R[re][1]):(R[re][0]==e?ie+=R[re][1].length:W+=R[re][1].length,G&&G.length<=Math.max(Z,me)&&G.length<=Math.max(ie,W)&&(R.splice(P[K-1],0,[t,G]),R[P[K-1]+1][0]=e,K--,K--,re=K>0?P[K-1]:-1,Z=0,me=0,ie=0,W=0,G=null,U=!0)),re++;for(U&&O(R),C(R),re=1;re<R.length;){if(R[re-1][0]==t&&R[re][0]==e){var ve=R[re-1][1],Q=R[re][1],ne=u(ve,Q),te=u(Q,ve);ne>=te?(ne>=ve.length/2||ne>=Q.length/2)&&(R.splice(re,0,[n,Q.substring(0,ne)]),R[re-1][1]=ve.substring(0,ve.length-ne),R[re+1][1]=Q.substring(ne),re++):(te>=ve.length/2||te>=Q.length/2)&&(R.splice(re,0,[n,ve.substring(0,te)]),R[re-1][0]=e,R[re-1][1]=Q.substring(0,Q.length-te),R[re+1][0]=t,R[re+1][1]=ve.substring(te),re++),re++}re++}}var p=/[^a-zA-Z0-9]/,v=/\s/,w=/[\r\n]/,E=/\n\r?\n$/,S=/^\r?\n\r?\n/;function C(R){function U(te,X){if(!te||!X)return 6;var be=te.charAt(te.length-1),Ne=X.charAt(0),Ee=be.match(p),Ie=Ne.match(p),_e=Ee&&be.match(v),Ue=Ie&&Ne.match(v),tt=_e&&be.match(w),ct=Ue&&Ne.match(w),ut=tt&&te.match(E),Ye=ct&&X.match(S);return ut||Ye?5:tt||ct?4:Ee&&!_e&&Ue?3:_e||Ue?2:Ee||Ie?1:0}for(var P=1;P<R.length-1;){if(R[P-1][0]==n&&R[P+1][0]==n){var K=R[P-1][1],G=R[P][1],re=R[P+1][1],Z=h(K,G);if(Z){var me=G.substring(G.length-Z);K=K.substring(0,K.length-Z),G=me+G.substring(0,G.length-Z),re=me+re}for(var ie=K,W=G,ve=re,Q=U(K,G)+U(G,re);G.charAt(0)===re.charAt(0);){K+=G.charAt(0),G=G.substring(1)+re.charAt(0),re=re.substring(1);var ne=U(K,G)+U(G,re);ne>=Q&&(Q=ne,ie=K,W=G,ve=re)}R[P-1][1]!=ie&&(ie?R[P-1][1]=ie:(R.splice(P-1,1),P--),R[P][1]=W,ve?R[P+1][1]=ve:(R.splice(P+1,1),P--))}P++}}function O(R,U){R.push([n,""]);for(var P=0,K=0,G=0,re="",Z="",me;P<R.length;){if(P<R.length-1&&!R[P][1]){R.splice(P,1);continue}switch(R[P][0]){case e:G++,Z+=R[P][1],P++;break;case t:K++,re+=R[P][1],P++;break;case n:var ie=P-G-K-1;if(U){if(ie>=0&&F(R[ie][1])){var W=R[ie][1].slice(-1);if(R[ie][1]=R[ie][1].slice(0,-1),re=W+re,Z=W+Z,!R[ie][1]){R.splice(ie,1),P--;var ve=ie-1;R[ve]&&R[ve][0]===e&&(G++,Z=R[ve][1]+Z,ve--),R[ve]&&R[ve][0]===t&&(K++,re=R[ve][1]+re,ve--),ie=ve}}if(T(R[P][1])){var W=R[P][1].charAt(0);R[P][1]=R[P][1].slice(1),re+=W,Z+=W}}if(P<R.length-1&&!R[P][1]){R.splice(P,1);break}if(re.length>0||Z.length>0){re.length>0&&Z.length>0&&(me=l(Z,re),me!==0&&(ie>=0?R[ie][1]+=Z.substring(0,me):(R.splice(0,0,[n,Z.substring(0,me)]),P++),Z=Z.substring(me),re=re.substring(me)),me=h(Z,re),me!==0&&(R[P][1]=Z.substring(Z.length-me)+R[P][1],Z=Z.substring(0,Z.length-me),re=re.substring(0,re.length-me)));var Q=G+K;re.length===0&&Z.length===0?(R.splice(P-Q,Q),P=P-Q):re.length===0?(R.splice(P-Q,Q,[e,Z]),P=P-Q+1):Z.length===0?(R.splice(P-Q,Q,[t,re]),P=P-Q+1):(R.splice(P-Q,Q,[t,re],[e,Z]),P=P-Q+2)}P!==0&&R[P-1][0]===n?(R[P-1][1]+=R[P][1],R.splice(P,1)):P++,G=0,K=0,re="",Z="";break}}R[R.length-1][1]===""&&R.pop();var ne=!1;for(P=1;P<R.length-1;)R[P-1][0]===n&&R[P+1][0]===n&&(R[P][1].substring(R[P][1].length-R[P-1][1].length)===R[P-1][1]?(R[P][1]=R[P-1][1]+R[P][1].substring(0,R[P][1].length-R[P-1][1].length),R[P+1][1]=R[P-1][1]+R[P+1][1],R.splice(P-1,1),ne=!0):R[P][1].substring(0,R[P+1][1].length)==R[P+1][1]&&(R[P-1][1]+=R[P+1][1],R[P][1]=R[P][1].substring(R[P+1][1].length)+R[P+1][1],R.splice(P+1,1),ne=!0)),P++;ne&&O(R,U)}function I(R){return R>=55296&&R<=56319}function D(R){return R>=56320&&R<=57343}function T(R){return D(R.charCodeAt(0))}function F(R){return I(R.charCodeAt(R.length-1))}function y(R){for(var U=[],P=0;P<R.length;P++)R[P][1].length>0&&U.push(R[P]);return U}function A(R,U,P,K){return F(R)||T(K)?null:y([[n,R],[t,U],[e,P],[n,K]])}function _(R,U,P){var K=typeof P=="number"?{index:P,length:0}:P.oldRange,G=typeof P=="number"?null:P.newRange,re=R.length,Z=U.length;if(K.length===0&&(G===null||G.length===0)){var me=K.index,ie=R.slice(0,me),W=R.slice(me),ve=G?G.index:null;e:{var Q=me+Z-re;if(ve!==null&&ve!==Q||Q<0||Q>Z)break e;var ne=U.slice(0,Q),te=U.slice(Q);if(te!==W)break e;var X=Math.min(me,Q),be=ie.slice(0,X),Ne=ne.slice(0,X);if(be!==Ne)break e;var Ee=ie.slice(X),Ie=ne.slice(X);return A(be,Ee,Ie,W)}e:{if(ve!==null&&ve!==me)break e;var _e=me,ne=U.slice(0,_e),te=U.slice(_e);if(ne!==ie)break e;var Ue=Math.min(re-_e,Z-_e),tt=W.slice(W.length-Ue),ct=te.slice(te.length-Ue);if(tt!==ct)break e;var Ee=W.slice(0,W.length-Ue),Ie=te.slice(0,te.length-Ue);return A(ie,Ee,Ie,tt)}}if(K.length>0&&G&&G.length===0)e:{var be=R.slice(0,K.index),tt=R.slice(K.index+K.length),X=be.length,Ue=tt.length;if(Z<X+Ue)break e;var Ne=U.slice(0,X),ct=U.slice(Z-Ue);if(be!==Ne||tt!==ct)break e;var Ee=R.slice(X,re-Ue),Ie=U.slice(X,Z-Ue);return A(be,Ee,Ie,tt)}return null}function L(R,U,P,K){return r(R,U,P,K,!0)}return L.INSERT=e,L.DELETE=t,L.EQUAL=n,xS=L,xS}var qg={exports:{}};qg.exports;var Y5;function yH(){return Y5||(Y5=1,function(t,e){var n=200,r="__lodash_hash_undefined__",s=9007199254740991,i="[object Arguments]",o="[object Array]",l="[object Boolean]",u="[object Date]",h="[object Error]",f="[object Function]",g="[object GeneratorFunction]",p="[object Map]",v="[object Number]",w="[object Object]",E="[object Promise]",S="[object RegExp]",C="[object Set]",O="[object String]",I="[object Symbol]",D="[object WeakMap]",T="[object ArrayBuffer]",F="[object DataView]",y="[object Float32Array]",A="[object Float64Array]",_="[object Int8Array]",L="[object Int16Array]",R="[object Int32Array]",U="[object Uint8Array]",P="[object Uint8ClampedArray]",K="[object Uint16Array]",G="[object Uint32Array]",re=/[\\^$.*+?()[\]{}|]/g,Z=/\w*$/,me=/^\[object .+?Constructor\]$/,ie=/^(?:0|[1-9]\d*)$/,W={};W[i]=W[o]=W[T]=W[F]=W[l]=W[u]=W[y]=W[A]=W[_]=W[L]=W[R]=W[p]=W[v]=W[w]=W[S]=W[C]=W[O]=W[I]=W[U]=W[P]=W[K]=W[G]=!0,W[h]=W[f]=W[D]=!1;var ve=typeof Co=="object"&&Co&&Co.Object===Object&&Co,Q=typeof self=="object"&&self&&self.Object===Object&&self,ne=ve||Q||Function("return this")(),te=e&&!e.nodeType&&e,X=te&&!0&&t&&!t.nodeType&&t,be=X&&X.exports===te;function Ne(H,ae){return H.set(ae[0],ae[1]),H}function Ee(H,ae){return H.add(ae),H}function Ie(H,ae){for(var pe=-1,Be=H?H.length:0;++pe<Be&&ae(H[pe],pe,H)!==!1;);return H}function _e(H,ae){for(var pe=-1,Be=ae.length,Gt=H.length;++pe<Be;)H[Gt+pe]=ae[pe];return H}function Ue(H,ae,pe,Be){for(var Gt=-1,Ct=H?H.length:0;++Gt<Ct;)pe=ae(pe,H[Gt],Gt,H);return pe}function tt(H,ae){for(var pe=-1,Be=Array(H);++pe<H;)Be[pe]=ae(pe);return Be}function ct(H,ae){return H==null?void 0:H[ae]}function ut(H){var ae=!1;if(H!=null&&typeof H.toString!="function")try{ae=!!(H+"")}catch{}return ae}function Ye(H){var ae=-1,pe=Array(H.size);return H.forEach(function(Be,Gt){pe[++ae]=[Gt,Be]}),pe}function Et(H,ae){return function(pe){return H(ae(pe))}}function Ze(H){var ae=-1,pe=Array(H.size);return H.forEach(function(Be){pe[++ae]=Be}),pe}var zt=Array.prototype,Cn=Function.prototype,fn=Object.prototype,vn=ne["__core-js_shared__"],dr=function(){var H=/[^.]+$/.exec(vn&&vn.keys&&vn.keys.IE_PROTO||"");return H?"Symbol(src)_1."+H:""}(),sr=Cn.toString,We=fn.hasOwnProperty,xt=fn.toString,Mt=RegExp("^"+sr.call(We).replace(re,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),kt=be?ne.Buffer:void 0,on=ne.Symbol,Gr=ne.Uint8Array,Jn=Et(Object.getPrototypeOf,Object),ws=Object.create,es=fn.propertyIsEnumerable,Br=zt.splice,Vn=Object.getOwnPropertySymbols,Ur=kt?kt.isBuffer:void 0,zr=Et(Object.keys,Object),Hn=js(ne,"DataView"),Wr=js(ne,"Map"),yr=js(ne,"Promise"),sa=js(ne,"Set"),ms=js(ne,"WeakMap"),ps=js(Object,"create"),pr=as(Hn),Nr=as(Wr),gs=as(yr),aa=as(sa),Hs=as(ms),ts=on?on.prototype:void 0,Ha=ts?ts.valueOf:void 0;function bn(H){var ae=-1,pe=H?H.length:0;for(this.clear();++ae<pe;){var Be=H[ae];this.set(Be[0],Be[1])}}function Bt(){this.__data__=ps?ps(null):{}}function Ca(H){return this.has(H)&&delete this.__data__[H]}function ii(H){var ae=this.__data__;if(ps){var pe=ae[H];return pe===r?void 0:pe}return We.call(ae,H)?ae[H]:void 0}function Bo(H){var ae=this.__data__;return ps?ae[H]!==void 0:We.call(ae,H)}function no(H,ae){var pe=this.__data__;return pe[H]=ps&&ae===void 0?r:ae,this}bn.prototype.clear=Bt,bn.prototype.delete=Ca,bn.prototype.get=ii,bn.prototype.has=Bo,bn.prototype.set=no;function ee(H){var ae=-1,pe=H?H.length:0;for(this.clear();++ae<pe;){var Be=H[ae];this.set(Be[0],Be[1])}}function de(){this.__data__=[]}function le(H){var ae=this.__data__,pe=xr(ae,H);if(pe<0)return!1;var Be=ae.length-1;return pe==Be?ae.pop():Br.call(ae,pe,1),!0}function ue(H){var ae=this.__data__,pe=xr(ae,H);return pe<0?void 0:ae[pe][1]}function he(H){return xr(this.__data__,H)>-1}function fe(H,ae){var pe=this.__data__,Be=xr(pe,H);return Be<0?pe.push([H,ae]):pe[Be][1]=ae,this}ee.prototype.clear=de,ee.prototype.delete=le,ee.prototype.get=ue,ee.prototype.has=he,ee.prototype.set=fe;function Ce(H){var ae=-1,pe=H?H.length:0;for(this.clear();++ae<pe;){var Be=H[ae];this.set(Be[0],Be[1])}}function Me(){this.__data__={hash:new bn,map:new(Wr||ee),string:new bn}}function Le(H){return Ga(this,H).delete(H)}function Re(H){return Ga(this,H).get(H)}function Oe(H){return Ga(this,H).has(H)}function Qe(H,ae){return Ga(this,H).set(H,ae),this}Ce.prototype.clear=Me,Ce.prototype.delete=Le,Ce.prototype.get=Re,Ce.prototype.has=Oe,Ce.prototype.set=Qe;function nt(H){this.__data__=new ee(H)}function mt(){this.__data__=new ee}function st(H){return this.__data__.delete(H)}function at(H){return this.__data__.get(H)}function Ut(H){return this.__data__.has(H)}function Dn(H,ae){var pe=this.__data__;if(pe instanceof ee){var Be=pe.__data__;if(!Wr||Be.length<n-1)return Be.push([H,ae]),this;pe=this.__data__=new Ce(Be)}return pe.set(H,ae),this}nt.prototype.clear=mt,nt.prototype.delete=st,nt.prototype.get=at,nt.prototype.has=Ut,nt.prototype.set=Dn;function ln(H,ae){var pe=zo(H)||Ta(H)?tt(H.length,String):[],Be=pe.length,Gt=!!Be;for(var Ct in H)We.call(H,Ct)&&!(Gt&&(Ct=="length"||Td(Ct,Be)))&&pe.push(Ct);return pe}function An(H,ae,pe){var Be=H[ae];(!(We.call(H,ae)&&ci(Be,pe))||pe===void 0&&!(ae in H))&&(H[ae]=pe)}function xr(H,ae){for(var pe=H.length;pe--;)if(ci(H[pe][0],ae))return pe;return-1}function _s(H,ae){return H&&Ai(ae,Vo(ae),H)}function ia(H,ae,pe,Be,Gt,Ct,wn){var yn;if(Be&&(yn=Ct?Be(H,Gt,Ct,wn):Be(H)),yn!==void 0)return yn;if(!ks(H))return H;var Qn=zo(H);if(Qn){if(yn=ic(H),!ae)return io(H,yn)}else{var jn=Li(H),ar=jn==f||jn==g;if(ca(H))return rs(H,ae);if(jn==w||jn==i||ar&&!Ct){if(ut(H))return Ct?H:{};if(yn=Wa(ar?{}:H),!ae)return yl(H,_s(yn,H))}else{if(!W[jn])return Ct?H:{};yn=oc(H,jn,ia,ae)}}wn||(wn=new nt);var Os=wn.get(H);if(Os)return Os;if(wn.set(H,yn),!Qn)var Kr=pe?Ln(H):Vo(H);return Ie(Kr||H,function(qr,$r){Kr&&($r=qr,qr=H[$r]),An(yn,$r,ia(qr,ae,pe,Be,$r,H,wn))}),yn}function oa(H){return ks(H)?ws(H):{}}function ro(H,ae,pe){var Be=ae(H);return zo(H)?Be:_e(Be,pe(H))}function ns(H){return xt.call(H)}function so(H){if(!ks(H)||oi(H))return!1;var ae=Ri(H)||ut(H)?Mt:me;return ae.test(as(H))}function Na(H){if(!la(H))return zr(H);var ae=[];for(var pe in Object(H))We.call(H,pe)&&pe!="constructor"&&ae.push(pe);return ae}function rs(H,ae){if(ae)return H.slice();var pe=new H.constructor(H.length);return H.copy(pe),pe}function pl(H){var ae=new H.constructor(H.byteLength);return new Gr(ae).set(new Gr(H)),ae}function Uo(H,ae){var pe=ae?pl(H.buffer):H.buffer;return new H.constructor(pe,H.byteOffset,H.byteLength)}function ao(H,ae,pe){var Be=ae?pe(Ye(H),!0):Ye(H);return Ue(Be,Ne,new H.constructor)}function gl(H){var ae=new H.constructor(H.source,Z.exec(H));return ae.lastIndex=H.lastIndex,ae}function vl(H,ae,pe){var Be=ae?pe(Ze(H),!0):Ze(H);return Ue(Be,Ee,new H.constructor)}function Ti(H){return Ha?Object(Ha.call(H)):{}}function br(H,ae){var pe=ae?pl(H.buffer):H.buffer;return new H.constructor(pe,H.byteOffset,H.length)}function io(H,ae){var pe=-1,Be=H.length;for(ae||(ae=Array(Be));++pe<Be;)ae[pe]=H[pe];return ae}function Ai(H,ae,pe,Be){pe||(pe={});for(var Gt=-1,Ct=ae.length;++Gt<Ct;){var wn=ae[Gt],yn=void 0;An(pe,wn,yn===void 0?H[wn]:yn)}return pe}function yl(H,ae){return Ai(H,ss(H),ae)}function Ln(H){return ro(H,Vo,ss)}function Ga(H,ae){var pe=H.__data__;return Ad(ae)?pe[typeof ae=="string"?"string":"hash"]:pe.map}function js(H,ae){var pe=ct(H,ae);return so(pe)?pe:void 0}var ss=Vn?Et(Vn,Object):di,Li=ns;(Hn&&Li(new Hn(new ArrayBuffer(1)))!=F||Wr&&Li(new Wr)!=p||yr&&Li(yr.resolve())!=E||sa&&Li(new sa)!=C||ms&&Li(new ms)!=D)&&(Li=function(H){var ae=xt.call(H),pe=ae==w?H.constructor:void 0,Be=pe?as(pe):void 0;if(Be)switch(Be){case pr:return F;case Nr:return p;case gs:return E;case aa:return C;case Hs:return D}return ae});function ic(H){var ae=H.length,pe=H.constructor(ae);return ae&&typeof H[0]=="string"&&We.call(H,"index")&&(pe.index=H.index,pe.input=H.input),pe}function Wa(H){return typeof H.constructor=="function"&&!la(H)?oa(Jn(H)):{}}function oc(H,ae,pe,Be){var Gt=H.constructor;switch(ae){case T:return pl(H);case l:case u:return new Gt(+H);case F:return Uo(H,Be);case y:case A:case _:case L:case R:case U:case P:case K:case G:return br(H,Be);case p:return ao(H,Be,pe);case v:case O:return new Gt(H);case S:return gl(H);case C:return vl(H,Be,pe);case I:return Ti(H)}}function Td(H,ae){return ae=ae??s,!!ae&&(typeof H=="number"||ie.test(H))&&H>-1&&H%1==0&&H<ae}function Ad(H){var ae=typeof H;return ae=="string"||ae=="number"||ae=="symbol"||ae=="boolean"?H!=="__proto__":H===null}function oi(H){return!!dr&&dr in H}function la(H){var ae=H&&H.constructor,pe=typeof ae=="function"&&ae.prototype||fn;return H===pe}function as(H){if(H!=null){try{return sr.call(H)}catch{}try{return H+""}catch{}}return""}function li(H){return ia(H,!0,!0)}function ci(H,ae){return H===ae||H!==H&&ae!==ae}function Ta(H){return $o(H)&&We.call(H,"callee")&&(!es.call(H,"callee")||xt.call(H)==i)}var zo=Array.isArray;function qo(H){return H!=null&&Ka(H.length)&&!Ri(H)}function $o(H){return ui(H)&&qo(H)}var ca=Ur||hi;function Ri(H){var ae=ks(H)?xt.call(H):"";return ae==f||ae==g}function Ka(H){return typeof H=="number"&&H>-1&&H%1==0&&H<=s}function ks(H){var ae=typeof H;return!!H&&(ae=="object"||ae=="function")}function ui(H){return!!H&&typeof H=="object"}function Vo(H){return qo(H)?ln(H):Na(H)}function di(){return[]}function hi(){return!1}t.exports=li}(qg,qg.exports)),qg.exports}var $g={exports:{}};$g.exports;var X5;function xH(){return X5||(X5=1,function(t,e){var n=200,r="__lodash_hash_undefined__",s=1,i=2,o=9007199254740991,l="[object Arguments]",u="[object Array]",h="[object AsyncFunction]",f="[object Boolean]",g="[object Date]",p="[object Error]",v="[object Function]",w="[object GeneratorFunction]",E="[object Map]",S="[object Number]",C="[object Null]",O="[object Object]",I="[object Promise]",D="[object Proxy]",T="[object RegExp]",F="[object Set]",y="[object String]",A="[object Symbol]",_="[object Undefined]",L="[object WeakMap]",R="[object ArrayBuffer]",U="[object DataView]",P="[object Float32Array]",K="[object Float64Array]",G="[object Int8Array]",re="[object Int16Array]",Z="[object Int32Array]",me="[object Uint8Array]",ie="[object Uint8ClampedArray]",W="[object Uint16Array]",ve="[object Uint32Array]",Q=/[\\^$.*+?()[\]{}|]/g,ne=/^\[object .+?Constructor\]$/,te=/^(?:0|[1-9]\d*)$/,X={};X[P]=X[K]=X[G]=X[re]=X[Z]=X[me]=X[ie]=X[W]=X[ve]=!0,X[l]=X[u]=X[R]=X[f]=X[U]=X[g]=X[p]=X[v]=X[E]=X[S]=X[O]=X[T]=X[F]=X[y]=X[L]=!1;var be=typeof Co=="object"&&Co&&Co.Object===Object&&Co,Ne=typeof self=="object"&&self&&self.Object===Object&&self,Ee=be||Ne||Function("return this")(),Ie=e&&!e.nodeType&&e,_e=Ie&&!0&&t&&!t.nodeType&&t,Ue=_e&&_e.exports===Ie,tt=Ue&&be.process,ct=function(){try{return tt&&tt.binding&&tt.binding("util")}catch{}}(),ut=ct&&ct.isTypedArray;function Ye(H,ae){for(var pe=-1,Be=H==null?0:H.length,Gt=0,Ct=[];++pe<Be;){var wn=H[pe];ae(wn,pe,H)&&(Ct[Gt++]=wn)}return Ct}function Et(H,ae){for(var pe=-1,Be=ae.length,Gt=H.length;++pe<Be;)H[Gt+pe]=ae[pe];return H}function Ze(H,ae){for(var pe=-1,Be=H==null?0:H.length;++pe<Be;)if(ae(H[pe],pe,H))return!0;return!1}function zt(H,ae){for(var pe=-1,Be=Array(H);++pe<H;)Be[pe]=ae(pe);return Be}function Cn(H){return function(ae){return H(ae)}}function fn(H,ae){return H.has(ae)}function vn(H,ae){return H==null?void 0:H[ae]}function dr(H){var ae=-1,pe=Array(H.size);return H.forEach(function(Be,Gt){pe[++ae]=[Gt,Be]}),pe}function sr(H,ae){return function(pe){return H(ae(pe))}}function We(H){var ae=-1,pe=Array(H.size);return H.forEach(function(Be){pe[++ae]=Be}),pe}var xt=Array.prototype,Mt=Function.prototype,kt=Object.prototype,on=Ee["__core-js_shared__"],Gr=Mt.toString,Jn=kt.hasOwnProperty,ws=function(){var H=/[^.]+$/.exec(on&&on.keys&&on.keys.IE_PROTO||"");return H?"Symbol(src)_1."+H:""}(),es=kt.toString,Br=RegExp("^"+Gr.call(Jn).replace(Q,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Vn=Ue?Ee.Buffer:void 0,Ur=Ee.Symbol,zr=Ee.Uint8Array,Hn=kt.propertyIsEnumerable,Wr=xt.splice,yr=Ur?Ur.toStringTag:void 0,sa=Object.getOwnPropertySymbols,ms=Vn?Vn.isBuffer:void 0,ps=sr(Object.keys,Object),pr=ss(Ee,"DataView"),Nr=ss(Ee,"Map"),gs=ss(Ee,"Promise"),aa=ss(Ee,"Set"),Hs=ss(Ee,"WeakMap"),ts=ss(Object,"create"),Ha=as(pr),bn=as(Nr),Bt=as(gs),Ca=as(aa),ii=as(Hs),Bo=Ur?Ur.prototype:void 0,no=Bo?Bo.valueOf:void 0;function ee(H){var ae=-1,pe=H==null?0:H.length;for(this.clear();++ae<pe;){var Be=H[ae];this.set(Be[0],Be[1])}}function de(){this.__data__=ts?ts(null):{},this.size=0}function le(H){var ae=this.has(H)&&delete this.__data__[H];return this.size-=ae?1:0,ae}function ue(H){var ae=this.__data__;if(ts){var pe=ae[H];return pe===r?void 0:pe}return Jn.call(ae,H)?ae[H]:void 0}function he(H){var ae=this.__data__;return ts?ae[H]!==void 0:Jn.call(ae,H)}function fe(H,ae){var pe=this.__data__;return this.size+=this.has(H)?0:1,pe[H]=ts&&ae===void 0?r:ae,this}ee.prototype.clear=de,ee.prototype.delete=le,ee.prototype.get=ue,ee.prototype.has=he,ee.prototype.set=fe;function Ce(H){var ae=-1,pe=H==null?0:H.length;for(this.clear();++ae<pe;){var Be=H[ae];this.set(Be[0],Be[1])}}function Me(){this.__data__=[],this.size=0}function Le(H){var ae=this.__data__,pe=rs(ae,H);if(pe<0)return!1;var Be=ae.length-1;return pe==Be?ae.pop():Wr.call(ae,pe,1),--this.size,!0}function Re(H){var ae=this.__data__,pe=rs(ae,H);return pe<0?void 0:ae[pe][1]}function Oe(H){return rs(this.__data__,H)>-1}function Qe(H,ae){var pe=this.__data__,Be=rs(pe,H);return Be<0?(++this.size,pe.push([H,ae])):pe[Be][1]=ae,this}Ce.prototype.clear=Me,Ce.prototype.delete=Le,Ce.prototype.get=Re,Ce.prototype.has=Oe,Ce.prototype.set=Qe;function nt(H){var ae=-1,pe=H==null?0:H.length;for(this.clear();++ae<pe;){var Be=H[ae];this.set(Be[0],Be[1])}}function mt(){this.size=0,this.__data__={hash:new ee,map:new(Nr||Ce),string:new ee}}function st(H){var ae=js(this,H).delete(H);return this.size-=ae?1:0,ae}function at(H){return js(this,H).get(H)}function Ut(H){return js(this,H).has(H)}function Dn(H,ae){var pe=js(this,H),Be=pe.size;return pe.set(H,ae),this.size+=pe.size==Be?0:1,this}nt.prototype.clear=mt,nt.prototype.delete=st,nt.prototype.get=at,nt.prototype.has=Ut,nt.prototype.set=Dn;function ln(H){var ae=-1,pe=H==null?0:H.length;for(this.__data__=new nt;++ae<pe;)this.add(H[ae])}function An(H){return this.__data__.set(H,r),this}function xr(H){return this.__data__.has(H)}ln.prototype.add=ln.prototype.push=An,ln.prototype.has=xr;function _s(H){var ae=this.__data__=new Ce(H);this.size=ae.size}function ia(){this.__data__=new Ce,this.size=0}function oa(H){var ae=this.__data__,pe=ae.delete(H);return this.size=ae.size,pe}function ro(H){return this.__data__.get(H)}function ns(H){return this.__data__.has(H)}function so(H,ae){var pe=this.__data__;if(pe instanceof Ce){var Be=pe.__data__;if(!Nr||Be.length<n-1)return Be.push([H,ae]),this.size=++pe.size,this;pe=this.__data__=new nt(Be)}return pe.set(H,ae),this.size=pe.size,this}_s.prototype.clear=ia,_s.prototype.delete=oa,_s.prototype.get=ro,_s.prototype.has=ns,_s.prototype.set=so;function Na(H,ae){var pe=Ta(H),Be=!pe&&ci(H),Gt=!pe&&!Be&&qo(H),Ct=!pe&&!Be&&!Gt&&ui(H),wn=pe||Be||Gt||Ct,yn=wn?zt(H.length,String):[],Qn=yn.length;for(var jn in H)Jn.call(H,jn)&&!(wn&&(jn=="length"||Gt&&(jn=="offset"||jn=="parent")||Ct&&(jn=="buffer"||jn=="byteLength"||jn=="byteOffset")||oc(jn,Qn)))&&yn.push(jn);return yn}function rs(H,ae){for(var pe=H.length;pe--;)if(li(H[pe][0],ae))return pe;return-1}function pl(H,ae,pe){var Be=ae(H);return Ta(H)?Be:Et(Be,pe(H))}function Uo(H){return H==null?H===void 0?_:C:yr&&yr in Object(H)?Li(H):la(H)}function ao(H){return ks(H)&&Uo(H)==l}function gl(H,ae,pe,Be,Gt){return H===ae?!0:H==null||ae==null||!ks(H)&&!ks(ae)?H!==H&&ae!==ae:vl(H,ae,pe,Be,gl,Gt)}function vl(H,ae,pe,Be,Gt,Ct){var wn=Ta(H),yn=Ta(ae),Qn=wn?u:Wa(H),jn=yn?u:Wa(ae);Qn=Qn==l?O:Qn,jn=jn==l?O:jn;var ar=Qn==O,Os=jn==O,Kr=Qn==jn;if(Kr&&qo(H)){if(!qo(ae))return!1;wn=!0,ar=!1}if(Kr&&!ar)return Ct||(Ct=new _s),wn||ui(H)?Ai(H,ae,pe,Be,Gt,Ct):yl(H,ae,Qn,pe,Be,Gt,Ct);if(!(pe&s)){var qr=ar&&Jn.call(H,"__wrapped__"),$r=Os&&Jn.call(ae,"__wrapped__");if(qr||$r){var fi=qr?H.value():H,Aa=$r?ae.value():ae;return Ct||(Ct=new _s),Gt(fi,Aa,pe,Be,Ct)}}return Kr?(Ct||(Ct=new _s),Ln(H,ae,pe,Be,Gt,Ct)):!1}function Ti(H){if(!Ka(H)||Ad(H))return!1;var ae=ca(H)?Br:ne;return ae.test(as(H))}function br(H){return ks(H)&&Ri(H.length)&&!!X[Uo(H)]}function io(H){if(!oi(H))return ps(H);var ae=[];for(var pe in Object(H))Jn.call(H,pe)&&pe!="constructor"&&ae.push(pe);return ae}function Ai(H,ae,pe,Be,Gt,Ct){var wn=pe&s,yn=H.length,Qn=ae.length;if(yn!=Qn&&!(wn&&Qn>yn))return!1;var jn=Ct.get(H);if(jn&&Ct.get(ae))return jn==ae;var ar=-1,Os=!0,Kr=pe&i?new ln:void 0;for(Ct.set(H,ae),Ct.set(ae,H);++ar<yn;){var qr=H[ar],$r=ae[ar];if(Be)var fi=wn?Be($r,qr,ar,ae,H,Ct):Be(qr,$r,ar,H,ae,Ct);if(fi!==void 0){if(fi)continue;Os=!1;break}if(Kr){if(!Ze(ae,function(Aa,oo){if(!fn(Kr,oo)&&(qr===Aa||Gt(qr,Aa,pe,Be,Ct)))return Kr.push(oo)})){Os=!1;break}}else if(!(qr===$r||Gt(qr,$r,pe,Be,Ct))){Os=!1;break}}return Ct.delete(H),Ct.delete(ae),Os}function yl(H,ae,pe,Be,Gt,Ct,wn){switch(pe){case U:if(H.byteLength!=ae.byteLength||H.byteOffset!=ae.byteOffset)return!1;H=H.buffer,ae=ae.buffer;case R:return!(H.byteLength!=ae.byteLength||!Ct(new zr(H),new zr(ae)));case f:case g:case S:return li(+H,+ae);case p:return H.name==ae.name&&H.message==ae.message;case T:case y:return H==ae+"";case E:var yn=dr;case F:var Qn=Be&s;if(yn||(yn=We),H.size!=ae.size&&!Qn)return!1;var jn=wn.get(H);if(jn)return jn==ae;Be|=i,wn.set(H,ae);var ar=Ai(yn(H),yn(ae),Be,Gt,Ct,wn);return wn.delete(H),ar;case A:if(no)return no.call(H)==no.call(ae)}return!1}function Ln(H,ae,pe,Be,Gt,Ct){var wn=pe&s,yn=Ga(H),Qn=yn.length,jn=Ga(ae),ar=jn.length;if(Qn!=ar&&!wn)return!1;for(var Os=Qn;Os--;){var Kr=yn[Os];if(!(wn?Kr in ae:Jn.call(ae,Kr)))return!1}var qr=Ct.get(H);if(qr&&Ct.get(ae))return qr==ae;var $r=!0;Ct.set(H,ae),Ct.set(ae,H);for(var fi=wn;++Os<Qn;){Kr=yn[Os];var Aa=H[Kr],oo=ae[Kr];if(Be)var lc=wn?Be(oo,Aa,Kr,ae,H,Ct):Be(Aa,oo,Kr,H,ae,Ct);if(!(lc===void 0?Aa===oo||Gt(Aa,oo,pe,Be,Ct):lc)){$r=!1;break}fi||(fi=Kr=="constructor")}if($r&&!fi){var du=H.constructor,xl=ae.constructor;du!=xl&&"constructor"in H&&"constructor"in ae&&!(typeof du=="function"&&du instanceof du&&typeof xl=="function"&&xl instanceof xl)&&($r=!1)}return Ct.delete(H),Ct.delete(ae),$r}function Ga(H){return pl(H,Vo,ic)}function js(H,ae){var pe=H.__data__;return Td(ae)?pe[typeof ae=="string"?"string":"hash"]:pe.map}function ss(H,ae){var pe=vn(H,ae);return Ti(pe)?pe:void 0}function Li(H){var ae=Jn.call(H,yr),pe=H[yr];try{H[yr]=void 0;var Be=!0}catch{}var Gt=es.call(H);return Be&&(ae?H[yr]=pe:delete H[yr]),Gt}var ic=sa?function(H){return H==null?[]:(H=Object(H),Ye(sa(H),function(ae){return Hn.call(H,ae)}))}:di,Wa=Uo;(pr&&Wa(new pr(new ArrayBuffer(1)))!=U||Nr&&Wa(new Nr)!=E||gs&&Wa(gs.resolve())!=I||aa&&Wa(new aa)!=F||Hs&&Wa(new Hs)!=L)&&(Wa=function(H){var ae=Uo(H),pe=ae==O?H.constructor:void 0,Be=pe?as(pe):"";if(Be)switch(Be){case Ha:return U;case bn:return E;case Bt:return I;case Ca:return F;case ii:return L}return ae});function oc(H,ae){return ae=ae??o,!!ae&&(typeof H=="number"||te.test(H))&&H>-1&&H%1==0&&H<ae}function Td(H){var ae=typeof H;return ae=="string"||ae=="number"||ae=="symbol"||ae=="boolean"?H!=="__proto__":H===null}function Ad(H){return!!ws&&ws in H}function oi(H){var ae=H&&H.constructor,pe=typeof ae=="function"&&ae.prototype||kt;return H===pe}function la(H){return es.call(H)}function as(H){if(H!=null){try{return Gr.call(H)}catch{}try{return H+""}catch{}}return""}function li(H,ae){return H===ae||H!==H&&ae!==ae}var ci=ao(function(){return arguments}())?ao:function(H){return ks(H)&&Jn.call(H,"callee")&&!Hn.call(H,"callee")},Ta=Array.isArray;function zo(H){return H!=null&&Ri(H.length)&&!ca(H)}var qo=ms||hi;function $o(H,ae){return gl(H,ae)}function ca(H){if(!Ka(H))return!1;var ae=Uo(H);return ae==v||ae==w||ae==h||ae==D}function Ri(H){return typeof H=="number"&&H>-1&&H%1==0&&H<=o}function Ka(H){var ae=typeof H;return H!=null&&(ae=="object"||ae=="function")}function ks(H){return H!=null&&typeof H=="object"}var ui=ut?Cn(ut):br;function Vo(H){return zo(H)?Na(H):io(H)}function di(){return[]}function hi(){return!1}t.exports=$o}($g,$g.exports)),$g.exports}var Sx={},J5;function _2e(){if(J5)return Sx;J5=1,Object.defineProperty(Sx,"__esModule",{value:!0});const t=yH(),e=xH();var n;return function(r){function s(u={},h={},f=!1){typeof u!="object"&&(u={}),typeof h!="object"&&(h={});let g=t(h);f||(g=Object.keys(g).reduce((p,v)=>(g[v]!=null&&(p[v]=g[v]),p),{}));for(const p in u)u[p]!==void 0&&h[p]===void 0&&(g[p]=u[p]);return Object.keys(g).length>0?g:void 0}r.compose=s;function i(u={},h={}){typeof u!="object"&&(u={}),typeof h!="object"&&(h={});const f=Object.keys(u).concat(Object.keys(h)).reduce((g,p)=>(e(u[p],h[p])||(g[p]=h[p]===void 0?null:h[p]),g),{});return Object.keys(f).length>0?f:void 0}r.diff=i;function o(u={},h={}){u=u||{};const f=Object.keys(h).reduce((g,p)=>(h[p]!==u[p]&&u[p]!==void 0&&(g[p]=h[p]),g),{});return Object.keys(u).reduce((g,p)=>(u[p]!==h[p]&&h[p]===void 0&&(g[p]=null),g),f)}r.invert=o;function l(u,h,f=!1){if(typeof u!="object")return h;if(typeof h!="object")return;if(!f)return h;const g=Object.keys(h).reduce((p,v)=>(u[v]===void 0&&(p[v]=h[v]),p),{});return Object.keys(g).length>0?g:void 0}r.transform=l}(n||(n={})),Sx.default=n,Sx}var Cx={},Q5;function bH(){if(Q5)return Cx;Q5=1,Object.defineProperty(Cx,"__esModule",{value:!0});var t;return function(e){function n(r){return typeof r.delete=="number"?r.delete:typeof r.retain=="number"?r.retain:typeof r.retain=="object"&&r.retain!==null?1:typeof r.insert=="string"?r.insert.length:1}e.length=n}(t||(t={})),Cx.default=t,Cx}var Nx={},Z5;function j2e(){if(Z5)return Nx;Z5=1,Object.defineProperty(Nx,"__esModule",{value:!0});const t=bH();class e{constructor(r){this.ops=r,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(r){r||(r=1/0);const s=this.ops[this.index];if(s){const i=this.offset,o=t.default.length(s);if(r>=o-i?(r=o-i,this.index+=1,this.offset=0):this.offset+=r,typeof s.delete=="number")return{delete:r};{const l={};return s.attributes&&(l.attributes=s.attributes),typeof s.retain=="number"?l.retain=r:typeof s.retain=="object"&&s.retain!==null?l.retain=s.retain:typeof s.insert=="string"?l.insert=s.insert.substr(i,r):l.insert=s.insert,l}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?t.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const r=this.ops[this.index];return r?typeof r.delete=="number"?"delete":typeof r.retain=="number"||typeof r.retain=="object"&&r.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const r=this.offset,s=this.index,i=this.next(),o=this.ops.slice(this.index);return this.offset=r,this.index=s,[i].concat(o)}}else return[]}}return Nx.default=e,Nx}var eM;function E2e(){return eM||(eM=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.AttributeMap=e.OpIterator=e.Op=void 0;const n=w2e(),r=yH(),s=xH(),i=_2e();e.AttributeMap=i.default;const o=bH();e.Op=o.default;const l=j2e();e.OpIterator=l.default;const u="\0",h=(g,p)=>{if(typeof g!="object"||g===null)throw new Error(`cannot retain a ${typeof g}`);if(typeof p!="object"||p===null)throw new Error(`cannot retain a ${typeof p}`);const v=Object.keys(g)[0];if(!v||v!==Object.keys(p)[0])throw new Error(`embed types not matched: ${v} != ${Object.keys(p)[0]}`);return[v,g[v],p[v]]};class f{constructor(p){Array.isArray(p)?this.ops=p:p!=null&&Array.isArray(p.ops)?this.ops=p.ops:this.ops=[]}static registerEmbed(p,v){this.handlers[p]=v}static unregisterEmbed(p){delete this.handlers[p]}static getHandler(p){const v=this.handlers[p];if(!v)throw new Error(`no handlers for embed type "${p}"`);return v}insert(p,v){const w={};return typeof p=="string"&&p.length===0?this:(w.insert=p,v!=null&&typeof v=="object"&&Object.keys(v).length>0&&(w.attributes=v),this.push(w))}delete(p){return p<=0?this:this.push({delete:p})}retain(p,v){if(typeof p=="number"&&p<=0)return this;const w={retain:p};return v!=null&&typeof v=="object"&&Object.keys(v).length>0&&(w.attributes=v),this.push(w)}push(p){let v=this.ops.length,w=this.ops[v-1];if(p=r(p),typeof w=="object"){if(typeof p.delete=="number"&&typeof w.delete=="number")return this.ops[v-1]={delete:w.delete+p.delete},this;if(typeof w.delete=="number"&&p.insert!=null&&(v-=1,w=this.ops[v-1],typeof w!="object"))return this.ops.unshift(p),this;if(s(p.attributes,w.attributes)){if(typeof p.insert=="string"&&typeof w.insert=="string")return this.ops[v-1]={insert:w.insert+p.insert},typeof p.attributes=="object"&&(this.ops[v-1].attributes=p.attributes),this;if(typeof p.retain=="number"&&typeof w.retain=="number")return this.ops[v-1]={retain:w.retain+p.retain},typeof p.attributes=="object"&&(this.ops[v-1].attributes=p.attributes),this}}return v===this.ops.length?this.ops.push(p):this.ops.splice(v,0,p),this}chop(){const p=this.ops[this.ops.length-1];return p&&typeof p.retain=="number"&&!p.attributes&&this.ops.pop(),this}filter(p){return this.ops.filter(p)}forEach(p){this.ops.forEach(p)}map(p){return this.ops.map(p)}partition(p){const v=[],w=[];return this.forEach(E=>{(p(E)?v:w).push(E)}),[v,w]}reduce(p,v){return this.ops.reduce(p,v)}changeLength(){return this.reduce((p,v)=>v.insert?p+o.default.length(v):v.delete?p-v.delete:p,0)}length(){return this.reduce((p,v)=>p+o.default.length(v),0)}slice(p=0,v=1/0){const w=[],E=new l.default(this.ops);let S=0;for(;S<v&&E.hasNext();){let C;S<p?C=E.next(p-S):(C=E.next(v-S),w.push(C)),S+=o.default.length(C)}return new f(w)}compose(p){const v=new l.default(this.ops),w=new l.default(p.ops),E=[],S=w.peek();if(S!=null&&typeof S.retain=="number"&&S.attributes==null){let O=S.retain;for(;v.peekType()==="insert"&&v.peekLength()<=O;)O-=v.peekLength(),E.push(v.next());S.retain-O>0&&w.next(S.retain-O)}const C=new f(E);for(;v.hasNext()||w.hasNext();)if(w.peekType()==="insert")C.push(w.next());else if(v.peekType()==="delete")C.push(v.next());else{const O=Math.min(v.peekLength(),w.peekLength()),I=v.next(O),D=w.next(O);if(D.retain){const T={};if(typeof I.retain=="number")T.retain=typeof D.retain=="number"?O:D.retain;else if(typeof D.retain=="number")I.retain==null?T.insert=I.insert:T.retain=I.retain;else{const y=I.retain==null?"insert":"retain",[A,_,L]=h(I[y],D.retain),R=f.getHandler(A);T[y]={[A]:R.compose(_,L,y==="retain")}}const F=i.default.compose(I.attributes,D.attributes,typeof I.retain=="number");if(F&&(T.attributes=F),C.push(T),!w.hasNext()&&s(C.ops[C.ops.length-1],T)){const y=new f(v.rest());return C.concat(y).chop()}}else typeof D.delete=="number"&&(typeof I.retain=="number"||typeof I.retain=="object"&&I.retain!==null)&&C.push(D)}return C.chop()}concat(p){const v=new f(this.ops.slice());return p.ops.length>0&&(v.push(p.ops[0]),v.ops=v.ops.concat(p.ops.slice(1))),v}diff(p,v){if(this.ops===p.ops)return new f;const w=[this,p].map(I=>I.map(D=>{if(D.insert!=null)return typeof D.insert=="string"?D.insert:u;const T=I===p?"on":"with";throw new Error("diff() called "+T+" non-document")}).join("")),E=new f,S=n(w[0],w[1],v,!0),C=new l.default(this.ops),O=new l.default(p.ops);return S.forEach(I=>{let D=I[1].length;for(;D>0;){let T=0;switch(I[0]){case n.INSERT:T=Math.min(O.peekLength(),D),E.push(O.next(T));break;case n.DELETE:T=Math.min(D,C.peekLength()),C.next(T),E.delete(T);break;case n.EQUAL:T=Math.min(C.peekLength(),O.peekLength(),D);const F=C.next(T),y=O.next(T);s(F.insert,y.insert)?E.retain(T,i.default.diff(F.attributes,y.attributes)):E.push(y).delete(T);break}D-=T}}),E.chop()}eachLine(p,v=`
`){const w=new l.default(this.ops);let E=new f,S=0;for(;w.hasNext();){if(w.peekType()!=="insert")return;const C=w.peek(),O=o.default.length(C)-w.peekLength(),I=typeof C.insert=="string"?C.insert.indexOf(v,O)-O:-1;if(I<0)E.push(w.next());else if(I>0)E.push(w.next(I));else{if(p(E,w.next(1).attributes||{},S)===!1)return;S+=1,E=new f}}E.length()>0&&p(E,{},S)}invert(p){const v=new f;return this.reduce((w,E)=>{if(E.insert)v.delete(o.default.length(E));else{if(typeof E.retain=="number"&&E.attributes==null)return v.retain(E.retain),w+E.retain;if(E.delete||typeof E.retain=="number"){const S=E.delete||E.retain;return p.slice(w,w+S).forEach(O=>{E.delete?v.push(O):E.retain&&E.attributes&&v.retain(o.default.length(O),i.default.invert(E.attributes,O.attributes))}),w+S}else if(typeof E.retain=="object"&&E.retain!==null){const S=p.slice(w,w+1),C=new l.default(S.ops).next(),[O,I,D]=h(E.retain,C.insert),T=f.getHandler(O);return v.retain({[O]:T.invert(I,D)},i.default.invert(E.attributes,C.attributes)),w+1}}return w},0),v.chop()}transform(p,v=!1){if(v=!!v,typeof p=="number")return this.transformPosition(p,v);const w=p,E=new l.default(this.ops),S=new l.default(w.ops),C=new f;for(;E.hasNext()||S.hasNext();)if(E.peekType()==="insert"&&(v||S.peekType()!=="insert"))C.retain(o.default.length(E.next()));else if(S.peekType()==="insert")C.push(S.next());else{const O=Math.min(E.peekLength(),S.peekLength()),I=E.next(O),D=S.next(O);if(I.delete)continue;if(D.delete)C.push(D);else{const T=I.retain,F=D.retain;let y=typeof F=="object"&&F!==null?F:O;if(typeof T=="object"&&T!==null&&typeof F=="object"&&F!==null){const A=Object.keys(T)[0];if(A===Object.keys(F)[0]){const _=f.getHandler(A);_&&(y={[A]:_.transform(T[A],F[A],v)})}}C.retain(y,i.default.transform(I.attributes,D.attributes,v))}}return C.chop()}transformPosition(p,v=!1){v=!!v;const w=new l.default(this.ops);let E=0;for(;w.hasNext()&&E<=p;){const S=w.peekLength(),C=w.peekType();if(w.next(),C==="delete"){p-=Math.min(S,p-E);continue}else C==="insert"&&(E<p||!v)&&(p+=S);E+=S}return p}}f.Op=o.default,f.OpIterator=l.default,f.AttributeMap=i.default,f.handlers={},e.default=f,t.exports=f,t.exports.default=f}(Ex,Ex.exports)),Ex.exports}var No=E2e();const Nt=rc(No);class hl extends eo{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}hl.blotName="break";hl.tagName="BR";let ul=class extends ob{};const S2e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Fw(t){return t.replace(/[&<>"']/g,e=>S2e[e])}const kl=class kl extends dL{static compare(e,n){const r=kl.order.indexOf(e),s=kl.order.indexOf(n);return r>=0||s>=0?r-s:e===n?0:e<n?-1:1}formatAt(e,n,r,s){if(kl.compare(this.statics.blotName,r)<0&&this.scroll.query(r,Tt.BLOT)){const i=this.isolate(e,n);s&&i.wrap(r,s)}else super.formatAt(e,n,r,s)}optimize(e){if(super.optimize(e),this.parent instanceof kl&&kl.compare(this.statics.blotName,this.parent.statics.blotName)>0){const n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}};we(kl,"allowedChildren",[kl,hl,eo,ul]),we(kl,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let tc=kl;const tM=1;class wa extends V0{constructor(){super(...arguments);we(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=wH(this)),this.cache.delta}deleteAt(n,r){super.deleteAt(n,r),this.cache={}}formatAt(n,r,s,i){r<=0||(this.scroll.query(s,Tt.BLOCK)?n+r===this.length()&&this.format(s,i):super.formatAt(n,Math.min(r,this.length()-n-1),s,i),this.cache={})}insertAt(n,r,s){if(s!=null){super.insertAt(n,r,s),this.cache={};return}if(r.length===0)return;const i=r.split(`
`),o=i.shift();o.length>0&&(n<this.length()-1||this.children.tail==null?super.insertAt(Math.min(n,this.length()-1),o):this.children.tail.insertAt(this.children.tail.length(),o),this.cache={});let l=this;i.reduce((u,h)=>(l=l.split(u,!0),l.insertAt(0,h),h.length),n+o.length)}insertBefore(n,r){const{head:s}=this.children;super.insertBefore(n,r),s instanceof hl&&s.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+tM),this.cache.length}moveChildren(n,r){super.moveChildren(n,r),this.cache={}}optimize(n){super.optimize(n),this.cache={}}path(n){return super.path(n,!0)}removeChild(n){super.removeChild(n),this.cache={}}split(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(r&&(n===0||n>=this.length()-tM)){const i=this.clone();return n===0?(this.parent.insertBefore(i,this),this):(this.parent.insertBefore(i,this.next),i)}const s=super.split(n,r);return this.cache={},s}}wa.blotName="block";wa.tagName="P";wa.defaultChild=hl;wa.allowedChildren=[hl,tc,eo,ul];class So extends eo{attach(){super.attach(),this.attributes=new Dw(this.domNode)}delta(){return new Nt().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(e,n){const r=this.scroll.query(e,Tt.BLOCK_ATTRIBUTE);r!=null&&this.attributes.attribute(r,n)}formatAt(e,n,r,s){this.format(r,s)}insertAt(e,n,r){if(r!=null){super.insertAt(e,n,r);return}const s=n.split(`
`),i=s.pop(),o=s.map(u=>{const h=this.scroll.create(wa.blotName);return h.insertAt(0,u),h}),l=this.split(e);o.forEach(u=>{this.parent.insertBefore(u,l)}),i&&this.parent.insertBefore(this.scroll.create("text",i),l)}}So.scope=Tt.BLOCK_BLOT;function wH(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.descendants(Da).reduce((n,r)=>r.length()===0?n:n.insert(r.value(),jo(r,{},e)),new Nt).insert(`
`,jo(t))}function jo(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return t==null||("formats"in t&&typeof t.formats=="function"&&(e={...e,...t.formats()},n&&delete e["code-token"]),t.parent==null||t.parent.statics.blotName==="scroll"||t.parent.statics.scope!==t.statics.scope)?e:jo(t.parent,e,n)}const wo=class wo extends eo{static value(){}constructor(e,n,r){super(e,n),this.selection=r,this.textNode=document.createTextNode(wo.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(e,n){if(this.savedLength!==0){super.format(e,n);return}let r=this,s=0;for(;r!=null&&r.statics.scope!==Tt.BLOCK_BLOT;)s+=r.offset(r.parent),r=r.parent;r!=null&&(this.savedLength=wo.CONTENTS.length,r.optimize(),r.formatAt(s,wo.CONTENTS.length,e,n),this.savedLength=0)}index(e,n){return e===this.textNode?0:super.index(e,n)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const e=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const n=this.prev instanceof ul?this.prev:null,r=n?n.length():0,s=this.next instanceof ul?this.next:null,i=s?s.text:"",{textNode:o}=this,l=o.data.split(wo.CONTENTS).join("");o.data=wo.CONTENTS;let u;if(n)u=n,(l||s)&&(n.insertAt(n.length(),l+i),s&&s.remove());else if(s)u=s,s.insertAt(0,l);else{const h=document.createTextNode(l);u=this.scroll.create(h),this.parent.insertBefore(u,this)}if(this.remove(),e){const h=(p,v)=>n&&p===n.domNode?v:p===o?r+v-1:s&&p===s.domNode?r+l.length+v:null,f=h(e.start.node,e.start.offset),g=h(e.end.node,e.end.offset);if(f!==null&&g!==null)return{startNode:u.domNode,startOffset:f,endNode:u.domNode,endOffset:g}}return null}update(e,n){if(e.some(r=>r.type==="characterData"&&r.target===this.textNode)){const r=this.restore();r&&(n.range=r)}}optimize(e){super.optimize(e);let{parent:n}=this;for(;n;){if(n.domNode.tagName==="A"){this.savedLength=wo.CONTENTS.length,n.isolate(this.offset(n),this.length()).unwrap(),this.savedLength=0;break}n=n.parent}}value(){return""}};we(wo,"blotName","cursor"),we(wo,"className","ql-cursor"),we(wo,"tagName","span"),we(wo,"CONTENTS","\uFEFF");let sp=wo;var bS={exports:{}},nM;function C2e(){return nM||(nM=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(u,h,f){this.fn=u,this.context=h,this.once=f||!1}function i(u,h,f,g,p){if(typeof f!="function")throw new TypeError("The listener must be a function");var v=new s(f,g||u,p),w=n?n+h:h;return u._events[w]?u._events[w].fn?u._events[w]=[u._events[w],v]:u._events[w].push(v):(u._events[w]=v,u._eventsCount++),u}function o(u,h){--u._eventsCount===0?u._events=new r:delete u._events[h]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var h=[],f,g;if(this._eventsCount===0)return h;for(g in f=this._events)e.call(f,g)&&h.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(f)):h},l.prototype.listeners=function(h){var f=n?n+h:h,g=this._events[f];if(!g)return[];if(g.fn)return[g.fn];for(var p=0,v=g.length,w=new Array(v);p<v;p++)w[p]=g[p].fn;return w},l.prototype.listenerCount=function(h){var f=n?n+h:h,g=this._events[f];return g?g.fn?1:g.length:0},l.prototype.emit=function(h,f,g,p,v,w){var E=n?n+h:h;if(!this._events[E])return!1;var S=this._events[E],C=arguments.length,O,I;if(S.fn){switch(S.once&&this.removeListener(h,S.fn,void 0,!0),C){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,f),!0;case 3:return S.fn.call(S.context,f,g),!0;case 4:return S.fn.call(S.context,f,g,p),!0;case 5:return S.fn.call(S.context,f,g,p,v),!0;case 6:return S.fn.call(S.context,f,g,p,v,w),!0}for(I=1,O=new Array(C-1);I<C;I++)O[I-1]=arguments[I];S.fn.apply(S.context,O)}else{var D=S.length,T;for(I=0;I<D;I++)switch(S[I].once&&this.removeListener(h,S[I].fn,void 0,!0),C){case 1:S[I].fn.call(S[I].context);break;case 2:S[I].fn.call(S[I].context,f);break;case 3:S[I].fn.call(S[I].context,f,g);break;case 4:S[I].fn.call(S[I].context,f,g,p);break;default:if(!O)for(T=1,O=new Array(C-1);T<C;T++)O[T-1]=arguments[T];S[I].fn.apply(S[I].context,O)}}return!0},l.prototype.on=function(h,f,g){return i(this,h,f,g,!1)},l.prototype.once=function(h,f,g){return i(this,h,f,g,!0)},l.prototype.removeListener=function(h,f,g,p){var v=n?n+h:h;if(!this._events[v])return this;if(!f)return o(this,v),this;var w=this._events[v];if(w.fn)w.fn===f&&(!p||w.once)&&(!g||w.context===g)&&o(this,v);else{for(var E=0,S=[],C=w.length;E<C;E++)(w[E].fn!==f||p&&!w[E].once||g&&w[E].context!==g)&&S.push(w[E]);S.length?this._events[v]=S.length===1?S[0]:S:o(this,v)}return this},l.prototype.removeAllListeners=function(h){var f;return h?(f=n?n+h:h,this._events[f]&&o(this,f)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l}(bS)),bS.exports}var N2e=C2e();const T2e=rc(N2e),tT=new WeakMap,nT=["error","warn","log","info"];let rT="warn";function _H(t){if(rT&&nT.indexOf(t)<=nT.indexOf(rT)){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];console[t](...n)}}function lu(t){return nT.reduce((e,n)=>(e[n]=_H.bind(console,n,t),e),{})}lu.level=t=>{rT=t};_H.level=lu.level;const wS=lu("quill:events"),A2e=["selectionchange","mousedown","mouseup","click"];A2e.forEach(t=>{document.addEventListener(t,function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];Array.from(document.querySelectorAll(".ql-container")).forEach(s=>{const i=tT.get(s);i&&i.emitter&&i.emitter.handleDOM(...n)})})});class _t extends T2e{constructor(){super(),this.domListeners={},this.on("error",wS.error)}emit(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return wS.log.call(wS,...n),super.emit(...n)}handleDOM(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];(this.domListeners[e.type]||[]).forEach(i=>{let{node:o,handler:l}=i;(e.target===o||o.contains(e.target))&&l(e,...r)})}listenDOM(e,n,r){this.domListeners[e]||(this.domListeners[e]=[]),this.domListeners[e].push({node:n,handler:r})}}we(_t,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),we(_t,"sources",{API:"api",SILENT:"silent",USER:"user"});const _S=lu("quill:selection");let Th=class{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=e,this.length=n}},L2e=class{constructor(e,n){this.emitter=n,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new Th(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,_t.sources.USER),1)}),this.emitter.on(_t.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const r=this.getNativeRange();r!=null&&r.start.node!==this.cursor.textNode&&this.emitter.once(_t.events.SCROLL_UPDATE,(s,i)=>{try{this.root.contains(r.start.node)&&this.root.contains(r.end.node)&&this.setNativeRange(r.start.node,r.start.offset,r.end.node,r.end.offset);const o=i.some(l=>l.type==="characterData"||l.type==="childList"||l.type==="attributes"&&l.target===this.root);this.update(o?_t.sources.SILENT:s)}catch{}})}),this.emitter.on(_t.events.SCROLL_OPTIMIZE,(r,s)=>{if(s.range){const{startNode:i,startOffset:o,endNode:l,endOffset:u}=s.range;this.setNativeRange(i,o,l,u),this.update(_t.sources.SILENT)}}),this.update(_t.sources.SILENT)}handleComposition(){this.emitter.on(_t.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(_t.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const e=this.cursor.restore();if(!e)return;setTimeout(()=>{this.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(_t.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(e,n){this.scroll.update();const r=this.getNativeRange();if(!(r==null||!r.native.collapsed||this.scroll.query(e,Tt.BLOCK))){if(r.start.node!==this.cursor.textNode){const s=this.scroll.find(r.start.node,!1);if(s==null)return;if(s instanceof Da){const i=s.split(r.start.offset);s.parent.insertBefore(this.cursor,i)}else s.insertBefore(this.cursor,r.start.node);this.cursor.attach()}this.cursor.format(e,n),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const r=this.scroll.length();e=Math.min(e,r-1),n=Math.min(e+n,r-1)-e;let s,[i,o]=this.scroll.leaf(e);if(i==null)return null;if(n>0&&o===i.length()){const[f]=this.scroll.leaf(e+1);if(f){const[g]=this.scroll.line(e),[p]=this.scroll.line(e+1);g===p&&(i=f,o=0)}}[s,o]=i.position(o,!0);const l=document.createRange();if(n>0)return l.setStart(s,o),[i,o]=this.scroll.leaf(e+n),i==null?null:([s,o]=i.position(o,!0),l.setEnd(s,o),l.getBoundingClientRect());let u="left",h;if(s instanceof Text){if(!s.data.length)return null;o<s.data.length?(l.setStart(s,o),l.setEnd(s,o+1)):(l.setStart(s,o-1),l.setEnd(s,o),u="right"),h=l.getBoundingClientRect()}else{if(!(i.domNode instanceof Element))return null;h=i.domNode.getBoundingClientRect(),o>0&&(u="right")}return{bottom:h.top+h.height,height:h.height,left:h[u],right:h[u],top:h.top,width:0}}getNativeRange(){const e=document.getSelection();if(e==null||e.rangeCount<=0)return null;const n=e.getRangeAt(0);if(n==null)return null;const r=this.normalizeNative(n);return _S.info("getNativeRange",r),r}getRange(){const e=this.scroll.domNode;if("isConnected"in e&&!e.isConnected)return[null,null];const n=this.getNativeRange();return n==null?[null,null]:[this.normalizedToRange(n),n]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&jS(this.root,document.activeElement)}normalizedToRange(e){const n=[[e.start.node,e.start.offset]];e.native.collapsed||n.push([e.end.node,e.end.offset]);const r=n.map(o=>{const[l,u]=o,h=this.scroll.find(l,!0),f=h.offset(this.scroll);return u===0?f:h instanceof Da?f+h.index(l,u):f+h.length()}),s=Math.min(Math.max(...r),this.scroll.length()-1),i=Math.min(s,...r);return new Th(i,s-i)}normalizeNative(e){if(!jS(this.root,e.startContainer)||!e.collapsed&&!jS(this.root,e.endContainer))return null;const n={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[n.start,n.end].forEach(r=>{let{node:s,offset:i}=r;for(;!(s instanceof Text)&&s.childNodes.length>0;)if(s.childNodes.length>i)s=s.childNodes[i],i=0;else if(s.childNodes.length===i)s=s.lastChild,s instanceof Text?i=s.data.length:s.childNodes.length>0?i=s.childNodes.length:i=s.childNodes.length+1;else break;r.node=s,r.offset=i}),n}rangeToNative(e){const n=this.scroll.length(),r=(s,i)=>{s=Math.min(n-1,s);const[o,l]=this.scroll.leaf(s);return o?o.position(l,i):[null,-1]};return[...r(e.index,!1),...r(e.index+e.length,!0)]}setNativeRange(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:n,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(_S.info("setNativeRange",e,n,r,s),e!=null&&(this.root.parentNode==null||e.parentNode==null||r.parentNode==null))return;const o=document.getSelection();if(o!=null)if(e!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:l}=this.getNativeRange()||{};if(l==null||i||e!==l.startContainer||n!==l.startOffset||r!==l.endContainer||s!==l.endOffset){e instanceof Element&&e.tagName==="BR"&&(n=Array.from(e.parentNode.childNodes).indexOf(e),e=e.parentNode),r instanceof Element&&r.tagName==="BR"&&(s=Array.from(r.parentNode.childNodes).indexOf(r),r=r.parentNode);const u=document.createRange();u.setStart(e,n),u.setEnd(r,s),o.removeAllRanges(),o.addRange(u)}}else o.removeAllRanges(),this.root.blur()}setRange(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_t.sources.API;if(typeof n=="string"&&(r=n,n=!1),_S.info("setRange",e),e!=null){const s=this.rangeToNative(e);this.setNativeRange(...s,n)}else this.setNativeRange(null);this.update(r)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_t.sources.USER;const n=this.lastRange,[r,s]=this.getRange();if(this.lastRange=r,this.lastNative=s,this.lastRange!=null&&(this.savedRange=this.lastRange),!$0(n,this.lastRange)){if(!this.composing&&s!=null&&s.native.collapsed&&s.start.node!==this.cursor.textNode){const o=this.cursor.restore();o&&this.setNativeRange(o.startNode,o.startOffset,o.endNode,o.endOffset)}const i=[_t.events.SELECTION_CHANGE,Rm(this.lastRange),Rm(n),e];this.emitter.emit(_t.events.EDITOR_CHANGE,...i),e!==_t.sources.SILENT&&this.emitter.emit(...i)}}};function jS(t,e){try{e.parentNode}catch{return!1}return t.contains(e)}const R2e=/^[ -~]*$/;class k2e{constructor(e){this.scroll=e,this.delta=this.getDelta()}applyDelta(e){this.scroll.update();let n=this.scroll.length();this.scroll.batchStart();const r=rM(e),s=new Nt;return I2e(r.ops.slice()).reduce((o,l)=>{const u=No.Op.length(l);let h=l.attributes||{},f=!1,g=!1;if(l.insert!=null){if(s.retain(u),typeof l.insert=="string"){const w=l.insert;g=!w.endsWith(`
`)&&(n<=o||!!this.scroll.descendant(So,o)[0]),this.scroll.insertAt(o,w);const[E,S]=this.scroll.line(o);let C=sd({},jo(E));if(E instanceof wa){const[O]=E.descendant(Da,S);O&&(C=sd(C,jo(O)))}h=No.AttributeMap.diff(C,h)||{}}else if(typeof l.insert=="object"){const w=Object.keys(l.insert)[0];if(w==null)return o;const E=this.scroll.query(w,Tt.INLINE)!=null;if(E)(n<=o||this.scroll.descendant(So,o)[0])&&(g=!0);else if(o>0){const[S,C]=this.scroll.descendant(Da,o-1);S instanceof ul?S.value()[C]!==`
`&&(f=!0):S instanceof eo&&S.statics.scope===Tt.INLINE_BLOT&&(f=!0)}if(this.scroll.insertAt(o,w,l.insert[w]),E){const[S]=this.scroll.descendant(Da,o);if(S){const C=sd({},jo(S));h=No.AttributeMap.diff(C,h)||{}}}}n+=u}else if(s.push(l),l.retain!==null&&typeof l.retain=="object"){const w=Object.keys(l.retain)[0];if(w==null)return o;this.scroll.updateEmbedAt(o,w,l.retain[w])}Object.keys(h).forEach(w=>{this.scroll.formatAt(o,u,w,h[w])});const p=f?1:0,v=g?1:0;return n+=p+v,s.retain(p),s.delete(v),o+u+p+v},0),s.reduce((o,l)=>typeof l.delete=="number"?(this.scroll.deleteAt(o,l.delete),o):o+No.Op.length(l),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(r)}deleteText(e,n){return this.scroll.deleteAt(e,n),this.update(new Nt().retain(e).delete(n))}formatLine(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(r).forEach(i=>{this.scroll.lines(e,Math.max(n,1)).forEach(o=>{o.format(i,r[i])})}),this.scroll.optimize();const s=new Nt().retain(e).retain(n,Rm(r));return this.update(s)}formatText(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(r).forEach(i=>{this.scroll.formatAt(e,n,i,r[i])});const s=new Nt().retain(e).retain(n,Rm(r));return this.update(s)}getContents(e,n){return this.delta.slice(e,e+n)}getDelta(){return this.scroll.lines().reduce((e,n)=>e.concat(n.delta()),new Nt)}getFormat(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=[],s=[];n===0?this.scroll.path(e).forEach(l=>{const[u]=l;u instanceof wa?r.push(u):u instanceof Da&&s.push(u)}):(r=this.scroll.lines(e,n),s=this.scroll.descendants(Da,e,n));const[i,o]=[r,s].map(l=>{const u=l.shift();if(u==null)return{};let h=jo(u);for(;Object.keys(h).length>0;){const f=l.shift();if(f==null)return h;h=O2e(jo(f),h)}return h});return{...i,...o}}getHTML(e,n){const[r,s]=this.scroll.line(e);if(r){const i=r.length();return r.length()>=s+n&&!(s===0&&n===i)?H0(r,s,n,!0):H0(this.scroll,e,n,!0)}return""}getText(e,n){return this.getContents(e,n).filter(r=>typeof r.insert=="string").map(r=>r.insert).join("")}insertContents(e,n){const r=rM(n),s=new Nt().retain(e).concat(r);return this.scroll.insertContents(e,r),this.update(s)}insertEmbed(e,n,r){return this.scroll.insertAt(e,n,r),this.update(new Nt().retain(e).insert({[n]:r}))}insertText(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return n=n.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(e,n),Object.keys(r).forEach(s=>{this.scroll.formatAt(e,n.length,s,r[s])}),this.update(new Nt().retain(e).insert(n,Rm(r)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const e=this.scroll.children.head;if((e==null?void 0:e.statics.blotName)!==wa.blotName)return!1;const n=e;return n.children.length>1?!1:n.children.head instanceof hl}removeFormat(e,n){const r=this.getText(e,n),[s,i]=this.scroll.line(e+n);let o=0,l=new Nt;s!=null&&(o=s.length()-i,l=s.delta().slice(i,i+o-1).insert(`
`));const h=this.getContents(e,n+o).diff(new Nt().insert(r).concat(l)),f=new Nt().retain(e).concat(h);return this.applyDelta(f)}update(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const s=this.delta;if(n.length===1&&n[0].type==="characterData"&&n[0].target.data.match(R2e)&&this.scroll.find(n[0].target)){const i=this.scroll.find(n[0].target),o=jo(i),l=i.offset(this.scroll),u=n[0].oldValue.replace(sp.CONTENTS,""),h=new Nt().insert(u),f=new Nt().insert(i.value()),g=r&&{oldRange:sM(r.oldRange,-l),newRange:sM(r.newRange,-l)};e=new Nt().retain(l).concat(h.diff(f,g)).reduce((v,w)=>w.insert?v.insert(w.insert,o):v.push(w),new Nt),this.delta=s.compose(e)}else this.delta=this.getDelta(),(!e||!$0(s.compose(e),this.delta))&&(e=s.diff(this.delta,r));return e}}function fm(t,e,n){if(t.length===0){const[v]=ES(n.pop());return e<=0?`</li></${v}>`:`</li></${v}>${fm([],e-1,n)}`}const[{child:r,offset:s,length:i,indent:o,type:l},...u]=t,[h,f]=ES(l);if(o>e)return n.push(l),o===e+1?`<${h}><li${f}>${H0(r,s,i)}${fm(u,o,n)}`:`<${h}><li>${fm(t,e+1,n)}`;const g=n[n.length-1];if(o===e&&l===g)return`</li><li${f}>${H0(r,s,i)}${fm(u,o,n)}`;const[p]=ES(n.pop());return`</li></${p}>${fm(t,e-1,n)}`}function H0(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in t&&typeof t.html=="function")return t.html(e,n);if(t instanceof ul)return Fw(t.value().slice(e,e+n)).replaceAll(" ","&nbsp;");if(t instanceof il){if(t.statics.blotName==="list-container"){const h=[];return t.children.forEachAt(e,n,(f,g,p)=>{const v="formats"in f&&typeof f.formats=="function"?f.formats():{};h.push({child:f,offset:g,length:p,indent:v.indent||0,type:v.list})}),fm(h,-1,[])}const s=[];if(t.children.forEachAt(e,n,(h,f,g)=>{s.push(H0(h,f,g))}),r||t.statics.blotName==="list")return s.join("");const{outerHTML:i,innerHTML:o}=t.domNode,[l,u]=i.split(`>${o}<`);return l==="<table"?`<table style="border: 1px solid #000;">${s.join("")}<${u}`:`${l}>${s.join("")}<${u}`}return t.domNode instanceof Element?t.domNode.outerHTML:""}function O2e(t,e){return Object.keys(e).reduce((n,r)=>{if(t[r]==null)return n;const s=e[r];return s===t[r]?n[r]=s:Array.isArray(s)?s.indexOf(t[r])<0?n[r]=s.concat([t[r]]):n[r]=s:n[r]=[s,t[r]],n},{})}function ES(t){const e=t==="ordered"?"ol":"ul";switch(t){case"checked":return[e,' data-list="checked"'];case"unchecked":return[e,' data-list="unchecked"'];default:return[e,""]}}function rM(t){return t.reduce((e,n)=>{if(typeof n.insert=="string"){const r=n.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return e.insert(r,n.attributes)}return e.push(n)},new Nt)}function sM(t,e){let{index:n,length:r}=t;return new Th(n+e,r)}function I2e(t){const e=[];return t.forEach(n=>{typeof n.insert=="string"?n.insert.split(`
`).forEach((s,i)=>{i&&e.push({insert:`
`,attributes:n.attributes}),s&&e.push({insert:s,attributes:n.attributes})}):e.push(n)}),e}class fl{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=e,this.options=n}}we(fl,"DEFAULTS",{});const Tx="\uFEFF";class fL extends eo{constructor(e,n){super(e,n),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(r=>{this.contentNode.appendChild(r)}),this.leftGuard=document.createTextNode(Tx),this.rightGuard=document.createTextNode(Tx),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(e,n){return e===this.leftGuard?0:e===this.rightGuard?1:super.index(e,n)}restore(e){let n=null,r;const s=e.data.split(Tx).join("");if(e===this.leftGuard)if(this.prev instanceof ul){const i=this.prev.length();this.prev.insertAt(i,s),n={startNode:this.prev.domNode,startOffset:i+s.length}}else r=document.createTextNode(s),this.parent.insertBefore(this.scroll.create(r),this),n={startNode:r,startOffset:s.length};else e===this.rightGuard&&(this.next instanceof ul?(this.next.insertAt(0,s),n={startNode:this.next.domNode,startOffset:s.length}):(r=document.createTextNode(s),this.parent.insertBefore(this.scroll.create(r),this.next),n={startNode:r,startOffset:s.length}));return e.data=Tx,n}update(e,n){e.forEach(r=>{if(r.type==="characterData"&&(r.target===this.leftGuard||r.target===this.rightGuard)){const s=this.restore(r.target);s&&(n.range=s)}})}}class P2e{constructor(e,n){we(this,"isComposing",!1);this.scroll=e,this.emitter=n,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",e=>{this.isComposing||this.handleCompositionStart(e)}),this.scroll.domNode.addEventListener("compositionend",e=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(e)})})}handleCompositionStart(e){const n=e.target instanceof Node?this.scroll.find(e.target,!0):null;n&&!(n instanceof fL)&&(this.emitter.emit(_t.events.COMPOSITION_BEFORE_START,e),this.scroll.batchStart(),this.emitter.emit(_t.events.COMPOSITION_START,e),this.isComposing=!0)}handleCompositionEnd(e){this.emitter.emit(_t.events.COMPOSITION_BEFORE_END,e),this.scroll.batchEnd(),this.emitter.emit(_t.events.COMPOSITION_END,e),this.isComposing=!1}}const b0=class b0{constructor(e,n){we(this,"modules",{});this.quill=e,this.options=n}init(){Object.keys(this.options.modules).forEach(e=>{this.modules[e]==null&&this.addModule(e)})}addModule(e){const n=this.quill.constructor.import(`modules/${e}`);return this.modules[e]=new n(this.quill,this.options.modules[e]||{}),this.modules[e]}};we(b0,"DEFAULTS",{modules:{}}),we(b0,"themes",{default:b0});let ap=b0;const D2e=t=>t.parentElement||t.getRootNode().host||null,M2e=t=>{const e=t.getBoundingClientRect(),n="offsetWidth"in t&&Math.abs(e.width)/t.offsetWidth||1,r="offsetHeight"in t&&Math.abs(e.height)/t.offsetHeight||1;return{top:e.top,right:e.left+t.clientWidth*n,bottom:e.top+t.clientHeight*r,left:e.left}},Ax=t=>{const e=parseInt(t,10);return Number.isNaN(e)?0:e},aM=(t,e,n,r,s,i)=>t<n&&e>r?0:t<n?-(n-t+s):e>r?e-t>r-n?t+s-n:e-r+i:0,F2e=(t,e)=>{var i,o,l;const n=t.ownerDocument;let r=e,s=t;for(;s;){const u=s===n.body,h=u?{top:0,right:((i=window.visualViewport)==null?void 0:i.width)??n.documentElement.clientWidth,bottom:((o=window.visualViewport)==null?void 0:o.height)??n.documentElement.clientHeight,left:0}:M2e(s),f=getComputedStyle(s),g=aM(r.left,r.right,h.left,h.right,Ax(f.scrollPaddingLeft),Ax(f.scrollPaddingRight)),p=aM(r.top,r.bottom,h.top,h.bottom,Ax(f.scrollPaddingTop),Ax(f.scrollPaddingBottom));if(g||p)if(u)(l=n.defaultView)==null||l.scrollBy(g,p);else{const{scrollLeft:v,scrollTop:w}=s;p&&(s.scrollTop+=p),g&&(s.scrollLeft+=g);const E=s.scrollLeft-v,S=s.scrollTop-w;r={left:r.left-E,top:r.top-S,right:r.right-E,bottom:r.bottom-S}}s=u||f.position==="fixed"?null:D2e(s)}},B2e=100,U2e=["block","break","cursor","inline","scroll","text"],z2e=(t,e,n)=>{const r=new rp;return U2e.forEach(s=>{const i=e.query(s);i&&r.register(i)}),t.forEach(s=>{let i=e.query(s);i||n.error(`Cannot register "${s}" specified in "formats" config. Are you sure it was registered?`);let o=0;for(;i;)if(r.register(i),i="blotName"in i?i.requiredContainer??null:null,o+=1,o>B2e){n.error(`Cycle detected in registering blot requiredContainer: "${s}"`);break}}),r},Om=lu("quill"),Lx=new rp;il.uiClass="ql-ui";const Qo=class Qo{static debug(e){e===!0&&(e="log"),lu.level(e)}static find(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return tT.get(e)||Lx.find(e,n)}static import(e){return this.imports[e]==null&&Om.error(`Cannot import ${e}. Are you sure it was registered?`),this.imports[e]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const e=arguments.length<=0?void 0:arguments[0],n=!!(!(arguments.length<=1)&&arguments[1]),r="attrName"in e?e.attrName:e.blotName;typeof r=="string"?this.register(`formats/${r}`,e,n):Object.keys(e).forEach(s=>{this.register(s,e[s],n)})}else{const e=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],r=!!(!(arguments.length<=2)&&arguments[2]);this.imports[e]!=null&&!r&&Om.warn(`Overwriting ${e} with`,n),this.imports[e]=n,(e.startsWith("blots/")||e.startsWith("formats/"))&&n&&typeof n!="boolean"&&n.blotName!=="abstract"&&Lx.register(n),typeof n.register=="function"&&n.register(Lx)}}constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=q2e(e,n),this.container=this.options.container,this.container==null){Om.error("Invalid Quill container",e);return}this.options.debug&&Qo.debug(this.options.debug);const r=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",tT.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new _t;const s=hL.blotName,i=this.options.registry.query(s);if(!i||!("blotName"in i))throw new Error(`Cannot initialize Quill without "${s}" blot`);if(this.scroll=new i(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new k2e(this.scroll),this.selection=new L2e(this.scroll,this.emitter),this.composition=new P2e(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(_t.events.EDITOR_CHANGE,o=>{o===_t.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(_t.events.SCROLL_UPDATE,(o,l)=>{const u=this.selection.lastRange,[h]=this.selection.getRange(),f=u&&h?{oldRange:u,newRange:h}:void 0;Yo.call(this,()=>this.editor.update(null,l,f),o)}),this.emitter.on(_t.events.SCROLL_EMBED_UPDATE,(o,l)=>{const u=this.selection.lastRange,[h]=this.selection.getRange(),f=u&&h?{oldRange:u,newRange:h}:void 0;Yo.call(this,()=>{const g=new Nt().retain(o.offset(this)).retain({[o.statics.blotName]:l});return this.editor.update(g,[],f)},Qo.sources.USER)}),r){const o=this.clipboard.convert({html:`${r}<p><br></p>`,text:`
`});this.setContents(o)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof e=="string"){const r=e;e=document.createElement("div"),e.classList.add(r)}return this.container.insertBefore(e,n),e}blur(){this.selection.setRange(null)}deleteText(e,n,r){return[e,n,,r]=Cc(e,n,r),Yo.call(this,()=>this.editor.deleteText(e,n),r,e,-1*n)}disable(){this.enable(!1)}editReadOnly(e){this.allowReadOnlyEdits=!0;const n=e();return this.allowReadOnlyEdits=!1,n}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}focus(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),e.preventScroll||this.scrollSelectionIntoView()}format(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_t.sources.API;return Yo.call(this,()=>{const s=this.getSelection(!0);let i=new Nt;if(s==null)return i;if(this.scroll.query(e,Tt.BLOCK))i=this.editor.formatLine(s.index,s.length,{[e]:n});else{if(s.length===0)return this.selection.format(e,n),i;i=this.editor.formatText(s.index,s.length,{[e]:n})}return this.setSelection(s,_t.sources.SILENT),i},r)}formatLine(e,n,r,s,i){let o;return[e,n,o,i]=Cc(e,n,r,s,i),Yo.call(this,()=>this.editor.formatLine(e,n,o),i,e,0)}formatText(e,n,r,s,i){let o;return[e,n,o,i]=Cc(e,n,r,s,i),Yo.call(this,()=>this.editor.formatText(e,n,o),i,e,0)}getBounds(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=null;if(typeof e=="number"?r=this.selection.getBounds(e,n):r=this.selection.getBounds(e.index,e.length),!r)return null;const s=this.container.getBoundingClientRect();return{bottom:r.bottom-s.top,height:r.height,left:r.left-s.left,right:r.right-s.left,top:r.top-s.top,width:r.width}}getContents(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-e;return[e,n]=Cc(e,n),this.editor.getContents(e,n)}getFormat(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof e=="number"?this.editor.getFormat(e,n):this.editor.getFormat(e.index,e.length)}getIndex(e){return e.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(e){return this.scroll.leaf(e)}getLine(e){return this.scroll.line(e)}getLines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof e!="number"?this.scroll.lines(e.index,e.length):this.scroll.lines(e,n)}getModule(e){return this.theme.modules[e]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(n=n??this.getLength()-e),[e,n]=Cc(e,n),this.editor.getHTML(e,n)}getText(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(n=n??this.getLength()-e),[e,n]=Cc(e,n),this.editor.getText(e,n)}hasFocus(){return this.selection.hasFocus()}insertEmbed(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Qo.sources.API;return Yo.call(this,()=>this.editor.insertEmbed(e,n,r),s,e)}insertText(e,n,r,s,i){let o;return[e,,o,i]=Cc(e,0,r,s,i),Yo.call(this,()=>this.editor.insertText(e,n,o),i,e,n.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(e,n,r){return[e,n,,r]=Cc(e,n,r),Yo.call(this,()=>this.editor.removeFormat(e,n),r,e)}scrollRectIntoView(e){F2e(this.root,e)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const e=this.selection.lastRange,n=e&&this.selection.getBounds(e.index,e.length);n&&this.scrollRectIntoView(n)}setContents(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_t.sources.API;return Yo.call(this,()=>{e=new Nt(e);const r=this.getLength(),s=this.editor.deleteText(0,r),i=this.editor.insertContents(0,e),o=this.editor.deleteText(this.getLength()-1,1);return s.compose(i).compose(o)},n)}setSelection(e,n,r){e==null?this.selection.setRange(null,n||Qo.sources.API):([e,n,,r]=Cc(e,n,r),this.selection.setRange(new Th(Math.max(0,e),n),r),r!==_t.sources.SILENT&&this.scrollSelectionIntoView())}setText(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_t.sources.API;const r=new Nt().insert(e);return this.setContents(r,n)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_t.sources.USER;const n=this.scroll.update(e);return this.selection.update(e),n}updateContents(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_t.sources.API;return Yo.call(this,()=>(e=new Nt(e),this.editor.applyDelta(e)),n,!0)}};we(Qo,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:Lx,theme:"default"}),we(Qo,"events",_t.events),we(Qo,"sources",_t.sources),we(Qo,"version","2.0.3"),we(Qo,"imports",{delta:Nt,parchment:b2e,"core/module":fl,"core/theme":ap});let Ke=Qo;function iM(t){return typeof t=="string"?document.querySelector(t):t}function SS(t){return Object.entries(t??{}).reduce((e,n)=>{let[r,s]=n;return{...e,[r]:s===!0?{}:s}},{})}function oM(t){return Object.fromEntries(Object.entries(t).filter(e=>e[1]!==void 0))}function q2e(t,e){const n=iM(t);if(!n)throw new Error("Invalid Quill container");const s=!e.theme||e.theme===Ke.DEFAULTS.theme?ap:Ke.import(`themes/${e.theme}`);if(!s)throw new Error(`Invalid theme ${e.theme}. Did you register it?`);const{modules:i,...o}=Ke.DEFAULTS,{modules:l,...u}=s.DEFAULTS;let h=SS(e.modules);h!=null&&h.toolbar&&h.toolbar.constructor!==Object&&(h={...h,toolbar:{container:h.toolbar}});const f=sd({},SS(i),SS(l),h),g={...o,...oM(u),...oM(e)};let p=e.registry;return p?e.formats&&Om.warn('Ignoring "formats" option because "registry" is specified'):p=e.formats?z2e(e.formats,g.registry,Om):g.registry,{...g,registry:p,container:n,theme:s,modules:Object.entries(f).reduce((v,w)=>{let[E,S]=w;if(!S)return v;const C=Ke.import(`modules/${E}`);return C==null?(Om.error(`Cannot load ${E} module. Are you sure you registered it?`),v):{...v,[E]:sd({},C.DEFAULTS||{},S)}},{}),bounds:iM(g.bounds)}}function Yo(t,e,n,r){if(!this.isEnabled()&&e===_t.sources.USER&&!this.allowReadOnlyEdits)return new Nt;let s=n==null?null:this.getSelection();const i=this.editor.delta,o=t();if(s!=null&&(n===!0&&(n=s.index),r==null?s=lM(s,o,e):r!==0&&(s=lM(s,n,r,e)),this.setSelection(s,_t.sources.SILENT)),o.length()>0){const l=[_t.events.TEXT_CHANGE,o,i,e];this.emitter.emit(_t.events.EDITOR_CHANGE,...l),e!==_t.sources.SILENT&&this.emitter.emit(...l)}return o}function Cc(t,e,n,r,s){let i={};return typeof t.index=="number"&&typeof t.length=="number"?typeof e!="number"?(s=r,r=n,n=e,e=t.length,t=t.index):(e=t.length,t=t.index):typeof e!="number"&&(s=r,r=n,n=e,e=0),typeof n=="object"?(i=n,s=r):typeof n=="string"&&(r!=null?i[n]=r:s=n),s=s||_t.sources.API,[t,e,i,s]}function lM(t,e,n,r){const s=typeof n=="number"?n:0;if(t==null)return null;let i,o;return e&&typeof e.transformPosition=="function"?[i,o]=[t.index,t.index+t.length].map(l=>e.transformPosition(l,r!==_t.sources.USER)):[i,o]=[t.index,t.index+t.length].map(l=>l<e||l===e&&r===_t.sources.USER?l:s>=0?l+s:Math.max(e,l+s)),new Th(i,o-i)}class ff extends Mw{}function cM(t){return t instanceof wa||t instanceof So}function uM(t){return typeof t.updateContent=="function"}class mm extends hL{constructor(e,n,r){let{emitter:s}=r;super(e,n),this.emitter=s,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",i=>this.handleDragStart(i))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const e=this.batch;this.batch=!1,this.update(e)}emitMount(e){this.emitter.emit(_t.events.SCROLL_BLOT_MOUNT,e)}emitUnmount(e){this.emitter.emit(_t.events.SCROLL_BLOT_UNMOUNT,e)}emitEmbedUpdate(e,n){this.emitter.emit(_t.events.SCROLL_EMBED_UPDATE,e,n)}deleteAt(e,n){const[r,s]=this.line(e),[i]=this.line(e+n);if(super.deleteAt(e,n),i!=null&&r!==i&&s>0){if(r instanceof So||i instanceof So){this.optimize();return}const o=i.children.head instanceof hl?null:i.children.head;r.moveChildren(i,o),r.remove()}this.optimize()}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",e?"true":"false")}formatAt(e,n,r,s){super.formatAt(e,n,r,s),this.optimize()}insertAt(e,n,r){if(e>=this.length())if(r==null||this.scroll.query(n,Tt.BLOCK)==null){const s=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(s),r==null&&n.endsWith(`
`)?s.insertAt(0,n.slice(0,-1),r):s.insertAt(0,n,r)}else{const s=this.scroll.create(n,r);this.appendChild(s)}else super.insertAt(e,n,r);this.optimize()}insertBefore(e,n){if(e.statics.scope===Tt.INLINE_BLOT){const r=this.scroll.create(this.statics.defaultChild.blotName);r.appendChild(e),super.insertBefore(r,n)}else super.insertBefore(e,n)}insertContents(e,n){const r=this.deltaToRenderBlocks(n.concat(new Nt().insert(`
`))),s=r.pop();if(s==null)return;this.batchStart();const i=r.shift();if(i){const u=i.type==="block"&&(i.delta.length()===0||!this.descendant(So,e)[0]&&e<this.length()),h=i.type==="block"?i.delta:new Nt().insert({[i.key]:i.value});CS(this,e,h);const f=i.type==="block"?1:0,g=e+h.length()+f;u&&this.insertAt(g-1,`
`);const p=jo(this.line(e)[0]),v=No.AttributeMap.diff(p,i.attributes)||{};Object.keys(v).forEach(w=>{this.formatAt(g-1,1,w,v[w])}),e=g}let[o,l]=this.children.find(e);if(r.length&&(o&&(o=o.split(l),l=0),r.forEach(u=>{if(u.type==="block"){const h=this.createBlock(u.attributes,o||void 0);CS(h,0,u.delta)}else{const h=this.create(u.key,u.value);this.insertBefore(h,o||void 0),Object.keys(u.attributes).forEach(f=>{h.format(f,u.attributes[f])})}})),s.type==="block"&&s.delta.length()){const u=o?o.offset(o.scroll)+l:this.length();CS(this,u,s.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(e){const n=this.path(e).pop();if(!n)return[null,-1];const[r,s]=n;return r instanceof Da?[r,s]:[null,-1]}line(e){return e===this.length()?this.line(e-1):this.descendant(cM,e)}lines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const r=(s,i,o)=>{let l=[],u=o;return s.children.forEachAt(i,o,(h,f,g)=>{cM(h)?l.push(h):h instanceof Mw&&(l=l.concat(r(h,f,u))),u-=g}),l};return r(this,e,n)}optimize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(e,n),e.length>0&&this.emitter.emit(_t.events.SCROLL_OPTIMIZE,e,n))}path(e){return super.path(e).slice(1)}remove(){}update(e){if(this.batch){Array.isArray(e)&&(this.batch=this.batch.concat(e));return}let n=_t.sources.USER;typeof e=="string"&&(n=e),Array.isArray(e)||(e=this.observer.takeRecords()),e=e.filter(r=>{let{target:s}=r;const i=this.find(s,!0);return i&&!uM(i)}),e.length>0&&this.emitter.emit(_t.events.SCROLL_BEFORE_UPDATE,n,e),super.update(e.concat([])),e.length>0&&this.emitter.emit(_t.events.SCROLL_UPDATE,n,e)}updateEmbedAt(e,n,r){const[s]=this.descendant(i=>i instanceof So,e);s&&s.statics.blotName===n&&uM(s)&&s.updateContent(r)}handleDragStart(e){e.preventDefault()}deltaToRenderBlocks(e){const n=[];let r=new Nt;return e.forEach(s=>{const i=s==null?void 0:s.insert;if(i)if(typeof i=="string"){const o=i.split(`
`);o.slice(0,-1).forEach(u=>{r.insert(u,s.attributes),n.push({type:"block",delta:r,attributes:s.attributes??{}}),r=new Nt});const l=o[o.length-1];l&&r.insert(l,s.attributes)}else{const o=Object.keys(i)[0];if(!o)return;this.query(o,Tt.INLINE)?r.push(s):(r.length()&&n.push({type:"block",delta:r,attributes:{}}),r=new Nt,n.push({type:"blockEmbed",key:o,value:i[o],attributes:s.attributes??{}}))}}),r.length()&&n.push({type:"block",delta:r,attributes:{}}),n}createBlock(e,n){let r;const s={};Object.entries(e).forEach(l=>{let[u,h]=l;this.query(u,Tt.BLOCK&Tt.BLOT)!=null?r=u:s[u]=h});const i=this.create(r||this.statics.defaultChild.blotName,r?e[r]:void 0);this.insertBefore(i,n||void 0);const o=i.length();return Object.entries(s).forEach(l=>{let[u,h]=l;i.formatAt(0,o,u,h)}),i}}we(mm,"blotName","scroll"),we(mm,"className","ql-editor"),we(mm,"tagName","DIV"),we(mm,"defaultChild",wa),we(mm,"allowedChildren",[wa,So,ff]);function CS(t,e,n){n.reduce((r,s)=>{const i=No.Op.length(s);let o=s.attributes||{};if(s.insert!=null){if(typeof s.insert=="string"){const l=s.insert;t.insertAt(r,l);const[u]=t.descendant(Da,r),h=jo(u);o=No.AttributeMap.diff(h,o)||{}}else if(typeof s.insert=="object"){const l=Object.keys(s.insert)[0];if(l==null)return r;if(t.insertAt(r,l,s.insert[l]),t.scroll.query(l,Tt.INLINE)!=null){const[h]=t.descendant(Da,r),f=jo(h);o=No.AttributeMap.diff(f,o)||{}}}}return Object.keys(o).forEach(l=>{t.formatAt(r,i,l,o[l])}),r+i},e)}const mL={scope:Tt.BLOCK,whitelist:["right","center","justify"]},$2e=new ec("align","align",mL),jH=new dl("align","ql-align",mL),EH=new Sd("align","text-align",mL);class SH extends Sd{value(e){let n=super.value(e);return n.startsWith("rgb(")?(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${n.split(",").map(s=>`00${parseInt(s,10).toString(16)}`.slice(-2)).join("")}`):n}}const V2e=new dl("color","ql-color",{scope:Tt.INLINE}),pL=new SH("color","color",{scope:Tt.INLINE}),H2e=new dl("background","ql-bg",{scope:Tt.INLINE}),gL=new SH("background","background-color",{scope:Tt.INLINE});class mf extends ff{static create(e){const n=super.create(e);return n.setAttribute("spellcheck","false"),n}code(e,n){return this.children.map(r=>r.length()<=1?"":r.domNode.innerText).join(`
`).slice(e,e+n)}html(e,n){return`<pre>
${Fw(this.code(e,n))}
</pre>`}}class Ma extends wa{static register(){Ke.register(mf)}}we(Ma,"TAB","  ");class vL extends tc{}vL.blotName="code";vL.tagName="CODE";Ma.blotName="code-block";Ma.className="ql-code-block";Ma.tagName="DIV";mf.blotName="code-block-container";mf.className="ql-code-block-container";mf.tagName="DIV";mf.allowedChildren=[Ma];Ma.allowedChildren=[ul,hl,sp];Ma.requiredContainer=mf;const yL={scope:Tt.BLOCK,whitelist:["rtl"]},CH=new ec("direction","dir",yL),NH=new dl("direction","ql-direction",yL),TH=new Sd("direction","direction",yL),AH={scope:Tt.INLINE,whitelist:["serif","monospace"]},LH=new dl("font","ql-font",AH);class G2e extends Sd{value(e){return super.value(e).replace(/["']/g,"")}}const RH=new G2e("font","font-family",AH),kH=new dl("size","ql-size",{scope:Tt.INLINE,whitelist:["small","large","huge"]}),OH=new Sd("size","font-size",{scope:Tt.INLINE,whitelist:["10px","18px","32px"]}),W2e=lu("quill:keyboard"),K2e=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class Bw extends fl{static match(e,n){return["altKey","ctrlKey","metaKey","shiftKey"].some(r=>!!n[r]!==e[r]&&n[r]!==null)?!1:n.key===e.key||n.key===e.which}constructor(e,n){super(e,n),this.bindings={},Object.keys(this.options.bindings).forEach(r=>{this.options.bindings[r]&&this.addBinding(this.options.bindings[r])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=X2e(e);if(s==null){W2e.warn("Attempted to add invalid keyboard binding",s);return}typeof n=="function"&&(n={handler:n}),typeof r=="function"&&(r={handler:r}),(Array.isArray(s.key)?s.key:[s.key]).forEach(o=>{const l={...s,key:o,...n,...r};this.bindings[l.key]=this.bindings[l.key]||[],this.bindings[l.key].push(l)})}listen(){this.quill.root.addEventListener("keydown",e=>{if(e.defaultPrevented||e.isComposing||e.keyCode===229&&(e.key==="Enter"||e.key==="Backspace"))return;const s=(this.bindings[e.key]||[]).concat(this.bindings[e.which]||[]).filter(C=>Bw.match(e,C));if(s.length===0)return;const i=Ke.find(e.target,!0);if(i&&i.scroll!==this.quill.scroll)return;const o=this.quill.getSelection();if(o==null||!this.quill.hasFocus())return;const[l,u]=this.quill.getLine(o.index),[h,f]=this.quill.getLeaf(o.index),[g,p]=o.length===0?[h,f]:this.quill.getLeaf(o.index+o.length),v=h instanceof ob?h.value().slice(0,f):"",w=g instanceof ob?g.value().slice(p):"",E={collapsed:o.length===0,empty:o.length===0&&l.length()<=1,format:this.quill.getFormat(o),line:l,offset:u,prefix:v,suffix:w,event:e};s.some(C=>{if(C.collapsed!=null&&C.collapsed!==E.collapsed||C.empty!=null&&C.empty!==E.empty||C.offset!=null&&C.offset!==E.offset)return!1;if(Array.isArray(C.format)){if(C.format.every(O=>E.format[O]==null))return!1}else if(typeof C.format=="object"&&!Object.keys(C.format).every(O=>C.format[O]===!0?E.format[O]!=null:C.format[O]===!1?E.format[O]==null:$0(C.format[O],E.format[O])))return!1;return C.prefix!=null&&!C.prefix.test(E.prefix)||C.suffix!=null&&!C.suffix.test(E.suffix)?!1:C.handler.call(this,o,E,C)!==!0})&&e.preventDefault()})}handleBackspace(e,n){const r=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(n.prefix)?2:1;if(e.index===0||this.quill.getLength()<=1)return;let s={};const[i]=this.quill.getLine(e.index);let o=new Nt().retain(e.index-r).delete(r);if(n.offset===0){const[l]=this.quill.getLine(e.index-1);if(l&&!(l.statics.blotName==="block"&&l.length()<=1)){const h=i.formats(),f=this.quill.getFormat(e.index-1,1);if(s=No.AttributeMap.diff(h,f)||{},Object.keys(s).length>0){const g=new Nt().retain(e.index+i.length()-2).retain(1,s);o=o.compose(g)}}}this.quill.updateContents(o,Ke.sources.USER),this.quill.focus()}handleDelete(e,n){const r=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(n.suffix)?2:1;if(e.index>=this.quill.getLength()-r)return;let s={};const[i]=this.quill.getLine(e.index);let o=new Nt().retain(e.index).delete(r);if(n.offset>=i.length()-1){const[l]=this.quill.getLine(e.index+1);if(l){const u=i.formats(),h=this.quill.getFormat(e.index,1);s=No.AttributeMap.diff(u,h)||{},Object.keys(s).length>0&&(o=o.retain(l.length()-1).retain(1,s))}}this.quill.updateContents(o,Ke.sources.USER),this.quill.focus()}handleDeleteRange(e){xL({range:e,quill:this.quill}),this.quill.focus()}handleEnter(e,n){const r=Object.keys(n.format).reduce((i,o)=>(this.quill.scroll.query(o,Tt.BLOCK)&&!Array.isArray(n.format[o])&&(i[o]=n.format[o]),i),{}),s=new Nt().retain(e.index).delete(e.length).insert(`
`,r);this.quill.updateContents(s,Ke.sources.USER),this.quill.setSelection(e.index+1,Ke.sources.SILENT),this.quill.focus()}}const Y2e={bindings:{bold:NS("bold"),italic:NS("italic"),underline:NS("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(t,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","+1",Ke.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(t,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","-1",Ke.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(t,e){e.format.indent!=null?this.quill.format("indent","-1",Ke.sources.USER):e.format.list!=null&&this.quill.format("list",!1,Ke.sources.USER)}},"indent code-block":dM(!0),"outdent code-block":dM(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(t){this.quill.deleteText(t.index-1,1,Ke.sources.USER)}},tab:{key:"Tab",handler(t,e){if(e.format.table)return!0;this.quill.history.cutoff();const n=new Nt().retain(t.index).delete(t.length).insert("	");return this.quill.updateContents(n,Ke.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index+1,Ke.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,Ke.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(t,e){const n={list:!1};e.format.indent&&(n.indent=!1),this.quill.formatLine(t.index,t.length,n,Ke.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(t){const[e,n]=this.quill.getLine(t.index),r={...e.formats(),list:"checked"},s=new Nt().retain(t.index).insert(`
`,r).retain(e.length()-n-1).retain(1,{list:"unchecked"});this.quill.updateContents(s,Ke.sources.USER),this.quill.setSelection(t.index+1,Ke.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(t,e){const[n,r]=this.quill.getLine(t.index),s=new Nt().retain(t.index).insert(`
`,e.format).retain(n.length()-r-1).retain(1,{header:null});this.quill.updateContents(s,Ke.sources.USER),this.quill.setSelection(t.index+1,Ke.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(t){const e=this.quill.getModule("table");if(e){const[n,r,s,i]=e.getTable(t),o=J2e(n,r,s,i);if(o==null)return;let l=n.offset();if(o<0){const u=new Nt().retain(l).insert(`
`);this.quill.updateContents(u,Ke.sources.USER),this.quill.setSelection(t.index+1,t.length,Ke.sources.SILENT)}else if(o>0){l+=n.length();const u=new Nt().retain(l).insert(`
`);this.quill.updateContents(u,Ke.sources.USER),this.quill.setSelection(l,Ke.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(t,e){const{event:n,line:r}=e,s=r.offset(this.quill.scroll);n.shiftKey?this.quill.setSelection(s-1,Ke.sources.USER):this.quill.setSelection(s+r.length(),Ke.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(t,e){if(this.quill.scroll.query("list")==null)return!0;const{length:n}=e.prefix,[r,s]=this.quill.getLine(t.index);if(s>n)return!0;let i;switch(e.prefix.trim()){case"[]":case"[ ]":i="unchecked";break;case"[x]":i="checked";break;case"-":case"*":i="bullet";break;default:i="ordered"}this.quill.insertText(t.index," ",Ke.sources.USER),this.quill.history.cutoff();const o=new Nt().retain(t.index-s).delete(n+1).retain(r.length()-2-s).retain(1,{list:i});return this.quill.updateContents(o,Ke.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index-n,Ke.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(t){const[e,n]=this.quill.getLine(t.index);let r=2,s=e;for(;s!=null&&s.length()<=1&&s.formats()["code-block"];)if(s=s.prev,r-=1,r<=0){const i=new Nt().retain(t.index+e.length()-n-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(i,Ke.sources.USER),this.quill.setSelection(t.index-1,Ke.sources.SILENT),!1}return!0}},"embed left":Rx("ArrowLeft",!1),"embed left shift":Rx("ArrowLeft",!0),"embed right":Rx("ArrowRight",!1),"embed right shift":Rx("ArrowRight",!0),"table down":hM(!1),"table up":hM(!0)}};Bw.DEFAULTS=Y2e;function dM(t){return{key:"Tab",shiftKey:!t,format:{"code-block":!0},handler(e,n){let{event:r}=n;const s=this.quill.scroll.query("code-block"),{TAB:i}=s;if(e.length===0&&!r.shiftKey){this.quill.insertText(e.index,i,Ke.sources.USER),this.quill.setSelection(e.index+i.length,Ke.sources.SILENT);return}const o=e.length===0?this.quill.getLines(e.index,1):this.quill.getLines(e);let{index:l,length:u}=e;o.forEach((h,f)=>{t?(h.insertAt(0,i),f===0?l+=i.length:u+=i.length):h.domNode.textContent.startsWith(i)&&(h.deleteAt(0,i.length),f===0?l-=i.length:u-=i.length)}),this.quill.update(Ke.sources.USER),this.quill.setSelection(l,u,Ke.sources.SILENT)}}}function Rx(t,e){return{key:t,shiftKey:e,altKey:null,[t==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(r){let{index:s}=r;t==="ArrowRight"&&(s+=r.length+1);const[i]=this.quill.getLeaf(s);return i instanceof eo?(t==="ArrowLeft"?e?this.quill.setSelection(r.index-1,r.length+1,Ke.sources.USER):this.quill.setSelection(r.index-1,Ke.sources.USER):e?this.quill.setSelection(r.index,r.length+1,Ke.sources.USER):this.quill.setSelection(r.index+r.length+1,Ke.sources.USER),!1):!0}}}function NS(t){return{key:t[0],shortKey:!0,handler(e,n){this.quill.format(t,!n.format[t],Ke.sources.USER)}}}function hM(t){return{key:t?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(e,n){const r=t?"prev":"next",s=n.line,i=s.parent[r];if(i!=null){if(i.statics.blotName==="table-row"){let o=i.children.head,l=s;for(;l.prev!=null;)l=l.prev,o=o.next;const u=o.offset(this.quill.scroll)+Math.min(n.offset,o.length()-1);this.quill.setSelection(u,0,Ke.sources.USER)}}else{const o=s.table()[r];o!=null&&(t?this.quill.setSelection(o.offset(this.quill.scroll)+o.length()-1,0,Ke.sources.USER):this.quill.setSelection(o.offset(this.quill.scroll),0,Ke.sources.USER))}return!1}}}function X2e(t){if(typeof t=="string"||typeof t=="number")t={key:t};else if(typeof t=="object")t=Rm(t);else return null;return t.shortKey&&(t[K2e]=t.shortKey,delete t.shortKey),t}function xL(t){let{quill:e,range:n}=t;const r=e.getLines(n);let s={};if(r.length>1){const i=r[0].formats(),o=r[r.length-1].formats();s=No.AttributeMap.diff(o,i)||{}}e.deleteText(n,Ke.sources.USER),Object.keys(s).length>0&&e.formatLine(n.index,1,s,Ke.sources.USER),e.setSelection(n.index,Ke.sources.SILENT)}function J2e(t,e,n,r){return e.prev==null&&e.next==null?n.prev==null&&n.next==null?r===0?-1:1:n.prev==null?-1:1:e.prev==null?-1:e.next==null?1:null}const Q2e=/font-weight:\s*normal/,Z2e=["P","OL","UL"],fM=t=>t&&Z2e.includes(t.tagName),e_e=t=>{Array.from(t.querySelectorAll("br")).filter(e=>fM(e.previousElementSibling)&&fM(e.nextElementSibling)).forEach(e=>{var n;(n=e.parentNode)==null||n.removeChild(e)})},t_e=t=>{Array.from(t.querySelectorAll('b[style*="font-weight"]')).filter(e=>{var n;return(n=e.getAttribute("style"))==null?void 0:n.match(Q2e)}).forEach(e=>{var r;const n=t.createDocumentFragment();n.append(...e.childNodes),(r=e.parentNode)==null||r.replaceChild(n,e)})};function n_e(t){t.querySelector('[id^="docs-internal-guid-"]')&&(t_e(t),e_e(t))}const r_e=/\bmso-list:[^;]*ignore/i,s_e=/\bmso-list:[^;]*\bl(\d+)/i,a_e=/\bmso-list:[^;]*\blevel(\d+)/i,i_e=(t,e)=>{const n=t.getAttribute("style"),r=n==null?void 0:n.match(s_e);if(!r)return null;const s=Number(r[1]),i=n==null?void 0:n.match(a_e),o=i?Number(i[1]):1,l=new RegExp(`@list l${s}:level${o}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),u=e.match(l),h=u&&u[1]==="bullet"?"bullet":"ordered";return{id:s,indent:o,type:h,element:t}},o_e=t=>{var o,l;const e=Array.from(t.querySelectorAll("[style*=mso-list]")),n=[],r=[];e.forEach(u=>{(u.getAttribute("style")||"").match(r_e)?n.push(u):r.push(u)}),n.forEach(u=>{var h;return(h=u.parentNode)==null?void 0:h.removeChild(u)});const s=t.documentElement.innerHTML,i=r.map(u=>i_e(u,s)).filter(u=>u);for(;i.length;){const u=[];let h=i.shift();for(;h;)u.push(h),h=i.length&&((o=i[0])==null?void 0:o.element)===h.element.nextElementSibling&&i[0].id===h.id?i.shift():null;const f=document.createElement("ul");u.forEach(v=>{const w=document.createElement("li");w.setAttribute("data-list",v.type),v.indent>1&&w.setAttribute("class",`ql-indent-${v.indent-1}`),w.innerHTML=v.element.innerHTML,f.appendChild(w)});const g=(l=u[0])==null?void 0:l.element,{parentNode:p}=g??{};g&&(p==null||p.replaceChild(f,g)),u.slice(1).forEach(v=>{let{element:w}=v;p==null||p.removeChild(w)})}};function l_e(t){t.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&o_e(t)}const c_e=[l_e,n_e],u_e=t=>{t.documentElement&&c_e.forEach(e=>{e(t)})},d_e=lu("quill:clipboard"),h_e=[[Node.TEXT_NODE,E_e],[Node.TEXT_NODE,pM],["br",v_e],[Node.ELEMENT_NODE,pM],[Node.ELEMENT_NODE,g_e],[Node.ELEMENT_NODE,p_e],[Node.ELEMENT_NODE,__e],["li",b_e],["ol, ul",w_e],["pre",y_e],["tr",j_e],["b",TS("bold")],["i",TS("italic")],["strike",TS("strike")],["style",x_e]],f_e=[$2e,CH].reduce((t,e)=>(t[e.keyName]=e,t),{}),mM=[EH,gL,pL,TH,RH,OH].reduce((t,e)=>(t[e.keyName]=e,t),{});class IH extends fl{constructor(e,n){super(e,n),this.quill.root.addEventListener("copy",r=>this.onCaptureCopy(r,!1)),this.quill.root.addEventListener("cut",r=>this.onCaptureCopy(r,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],h_e.concat(this.options.matchers??[]).forEach(r=>{let[s,i]=r;this.addMatcher(s,i)})}addMatcher(e,n){this.matchers.push([e,n])}convert(e){let{html:n,text:r}=e,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(s[Ma.blotName])return new Nt().insert(r||"",{[Ma.blotName]:s[Ma.blotName]});if(!n)return new Nt().insert(r||"",s);const i=this.convertHTML(n);return zv(i,`
`)&&(i.ops[i.ops.length-1].attributes==null||s.table)?i.compose(new Nt().retain(i.length()-1).delete(1)):i}normalizeHTML(e){u_e(e)}convertHTML(e){const n=new DOMParser().parseFromString(e,"text/html");this.normalizeHTML(n);const r=n.body,s=new WeakMap,[i,o]=this.prepareMatching(r,s);return bL(this.quill.scroll,r,i,o,s)}dangerouslyPasteHTML(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ke.sources.API;if(typeof e=="string"){const s=this.convert({html:e,text:""});this.quill.setContents(s,n),this.quill.setSelection(0,Ke.sources.SILENT)}else{const s=this.convert({html:n,text:""});this.quill.updateContents(new Nt().retain(e).concat(s),r),this.quill.setSelection(e+s.length(),Ke.sources.SILENT)}}onCaptureCopy(e){var o,l;let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.defaultPrevented)return;e.preventDefault();const[r]=this.quill.selection.getRange();if(r==null)return;const{html:s,text:i}=this.onCopy(r,n);(o=e.clipboardData)==null||o.setData("text/plain",i),(l=e.clipboardData)==null||l.setData("text/html",s),n&&xL({range:r,quill:this.quill})}normalizeURIList(e){return e.split(/\r?\n/).filter(n=>n[0]!=="#").join(`
`)}onCapturePaste(e){var o,l,u,h,f;if(e.defaultPrevented||!this.quill.isEnabled())return;e.preventDefault();const n=this.quill.getSelection(!0);if(n==null)return;const r=(o=e.clipboardData)==null?void 0:o.getData("text/html");let s=(l=e.clipboardData)==null?void 0:l.getData("text/plain");if(!r&&!s){const g=(u=e.clipboardData)==null?void 0:u.getData("text/uri-list");g&&(s=this.normalizeURIList(g))}const i=Array.from(((h=e.clipboardData)==null?void 0:h.files)||[]);if(!r&&i.length>0){this.quill.uploader.upload(n,i);return}if(r&&i.length>0){const g=new DOMParser().parseFromString(r,"text/html");if(g.body.childElementCount===1&&((f=g.body.firstElementChild)==null?void 0:f.tagName)==="IMG"){this.quill.uploader.upload(n,i);return}}this.onPaste(n,{html:r,text:s})}onCopy(e){const n=this.quill.getText(e);return{html:this.quill.getSemanticHTML(e),text:n}}onPaste(e,n){let{text:r,html:s}=n;const i=this.quill.getFormat(e.index),o=this.convert({text:r,html:s},i);d_e.log("onPaste",o,{text:r,html:s});const l=new Nt().retain(e.index).delete(e.length).concat(o);this.quill.updateContents(l,Ke.sources.USER),this.quill.setSelection(l.length()-e.length,Ke.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(e,n){const r=[],s=[];return this.matchers.forEach(i=>{const[o,l]=i;switch(o){case Node.TEXT_NODE:s.push(l);break;case Node.ELEMENT_NODE:r.push(l);break;default:Array.from(e.querySelectorAll(o)).forEach(u=>{if(n.has(u)){const h=n.get(u);h==null||h.push(l)}else n.set(u,[l])});break}}),[r,s]}}we(IH,"DEFAULTS",{matchers:[]});function pf(t,e,n,r){return r.query(e)?t.reduce((s,i)=>{if(!i.insert)return s;if(i.attributes&&i.attributes[e])return s.push(i);const o=n?{[e]:n}:{};return s.insert(i.insert,{...o,...i.attributes})},new Nt):t}function zv(t,e){let n="";for(let r=t.ops.length-1;r>=0&&n.length<e.length;--r){const s=t.ops[r];if(typeof s.insert!="string")break;n=s.insert+n}return n.slice(-1*e.length)===e}function Ku(t,e){if(!(t instanceof Element))return!1;const n=e.query(t);return n&&n.prototype instanceof eo?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(t.tagName.toLowerCase())}function m_e(t,e){return t.previousElementSibling&&t.nextElementSibling&&!Ku(t.previousElementSibling,e)&&!Ku(t.nextElementSibling,e)}const kx=new WeakMap;function PH(t){return t==null?!1:(kx.has(t)||(t.tagName==="PRE"?kx.set(t,!0):kx.set(t,PH(t.parentNode))),kx.get(t))}function bL(t,e,n,r,s){return e.nodeType===e.TEXT_NODE?r.reduce((i,o)=>o(e,i,t),new Nt):e.nodeType===e.ELEMENT_NODE?Array.from(e.childNodes||[]).reduce((i,o)=>{let l=bL(t,o,n,r,s);return o.nodeType===e.ELEMENT_NODE&&(l=n.reduce((u,h)=>h(o,u,t),l),l=(s.get(o)||[]).reduce((u,h)=>h(o,u,t),l)),i.concat(l)},new Nt):new Nt}function TS(t){return(e,n,r)=>pf(n,t,!0,r)}function p_e(t,e,n){const r=ec.keys(t),s=dl.keys(t),i=Sd.keys(t),o={};return r.concat(s).concat(i).forEach(l=>{let u=n.query(l,Tt.ATTRIBUTE);u!=null&&(o[u.attrName]=u.value(t),o[u.attrName])||(u=f_e[l],u!=null&&(u.attrName===l||u.keyName===l)&&(o[u.attrName]=u.value(t)||void 0),u=mM[l],u!=null&&(u.attrName===l||u.keyName===l)&&(u=mM[l],o[u.attrName]=u.value(t)||void 0))}),Object.entries(o).reduce((l,u)=>{let[h,f]=u;return pf(l,h,f,n)},e)}function g_e(t,e,n){const r=n.query(t);if(r==null)return e;if(r.prototype instanceof eo){const s={},i=r.value(t);if(i!=null)return s[r.blotName]=i,new Nt().insert(s,r.formats(t,n))}else if(r.prototype instanceof V0&&!zv(e,`
`)&&e.insert(`
`),"blotName"in r&&"formats"in r&&typeof r.formats=="function")return pf(e,r.blotName,r.formats(t,n),n);return e}function v_e(t,e){return zv(e,`
`)||e.insert(`
`),e}function y_e(t,e,n){const r=n.query("code-block"),s=r&&"formats"in r&&typeof r.formats=="function"?r.formats(t,n):!0;return pf(e,"code-block",s,n)}function x_e(){return new Nt}function b_e(t,e,n){const r=n.query(t);if(r==null||r.blotName!=="list"||!zv(e,`
`))return e;let s=-1,i=t.parentNode;for(;i!=null;)["OL","UL"].includes(i.tagName)&&(s+=1),i=i.parentNode;return s<=0?e:e.reduce((o,l)=>l.insert?l.attributes&&typeof l.attributes.indent=="number"?o.push(l):o.insert(l.insert,{indent:s,...l.attributes||{}}):o,new Nt)}function w_e(t,e,n){const r=t;let s=r.tagName==="OL"?"ordered":"bullet";const i=r.getAttribute("data-checked");return i&&(s=i==="true"?"checked":"unchecked"),pf(e,"list",s,n)}function pM(t,e,n){if(!zv(e,`
`)){if(Ku(t,n)&&(t.childNodes.length>0||t instanceof HTMLParagraphElement))return e.insert(`
`);if(e.length()>0&&t.nextSibling){let r=t.nextSibling;for(;r!=null;){if(Ku(r,n))return e.insert(`
`);const s=n.query(r);if(s&&s.prototype instanceof So)return e.insert(`
`);r=r.firstChild}}}return e}function __e(t,e,n){var i;const r={},s=t.style||{};return s.fontStyle==="italic"&&(r.italic=!0),s.textDecoration==="underline"&&(r.underline=!0),s.textDecoration==="line-through"&&(r.strike=!0),((i=s.fontWeight)!=null&&i.startsWith("bold")||parseInt(s.fontWeight,10)>=700)&&(r.bold=!0),e=Object.entries(r).reduce((o,l)=>{let[u,h]=l;return pf(o,u,h,n)},e),parseFloat(s.textIndent||0)>0?new Nt().insert("	").concat(e):e}function j_e(t,e,n){var s,i;const r=((s=t.parentElement)==null?void 0:s.tagName)==="TABLE"?t.parentElement:(i=t.parentElement)==null?void 0:i.parentElement;if(r!=null){const l=Array.from(r.querySelectorAll("tr")).indexOf(t)+1;return pf(e,"table",l,n)}return e}function E_e(t,e,n){var s;let r=t.data;if(((s=t.parentElement)==null?void 0:s.tagName)==="O:P")return e.insert(r.trim());if(!PH(t)){if(r.trim().length===0&&r.includes(`
`)&&!m_e(t,n))return e;r=r.replace(/[^\S\u00a0]/g," "),r=r.replace(/ {2,}/g," "),(t.previousSibling==null&&t.parentElement!=null&&Ku(t.parentElement,n)||t.previousSibling instanceof Element&&Ku(t.previousSibling,n))&&(r=r.replace(/^ /,"")),(t.nextSibling==null&&t.parentElement!=null&&Ku(t.parentElement,n)||t.nextSibling instanceof Element&&Ku(t.nextSibling,n))&&(r=r.replace(/ $/,"")),r=r.replaceAll(""," ")}return e.insert(r)}class DH extends fl{constructor(n,r){super(n,r);we(this,"lastRecorded",0);we(this,"ignoreChange",!1);we(this,"stack",{undo:[],redo:[]});we(this,"currentRange",null);this.quill.on(Ke.events.EDITOR_CHANGE,(s,i,o,l)=>{s===Ke.events.SELECTION_CHANGE?i&&l!==Ke.sources.SILENT&&(this.currentRange=i):s===Ke.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||l===Ke.sources.USER?this.record(i,o):this.transform(i)),this.currentRange=sT(this.currentRange,i))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",s=>{s.inputType==="historyUndo"?(this.undo(),s.preventDefault()):s.inputType==="historyRedo"&&(this.redo(),s.preventDefault())})}change(n,r){if(this.stack[n].length===0)return;const s=this.stack[n].pop();if(!s)return;const i=this.quill.getContents(),o=s.delta.invert(i);this.stack[r].push({delta:o,range:sT(s.range,o)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(s.delta,Ke.sources.USER),this.ignoreChange=!1,this.restoreSelection(s)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(n,r){if(n.ops.length===0)return;this.stack.redo=[];let s=n.invert(r),i=this.currentRange;const o=Date.now();if(this.lastRecorded+this.options.delay>o&&this.stack.undo.length>0){const l=this.stack.undo.pop();l&&(s=s.compose(l.delta),i=l.range)}else this.lastRecorded=o;s.length()!==0&&(this.stack.undo.push({delta:s,range:i}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(n){gM(this.stack.undo,n),gM(this.stack.redo,n)}undo(){this.change("undo","redo")}restoreSelection(n){if(n.range)this.quill.setSelection(n.range,Ke.sources.USER);else{const r=C_e(this.quill.scroll,n.delta);this.quill.setSelection(r,Ke.sources.USER)}}}we(DH,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function gM(t,e){let n=e;for(let r=t.length-1;r>=0;r-=1){const s=t[r];t[r]={delta:n.transform(s.delta,!0),range:s.range&&sT(s.range,n)},n=s.delta.transform(n),t[r].delta.length()===0&&t.splice(r,1)}}function S_e(t,e){const n=e.ops[e.ops.length-1];return n==null?!1:n.insert!=null?typeof n.insert=="string"&&n.insert.endsWith(`
`):n.attributes!=null?Object.keys(n.attributes).some(r=>t.query(r,Tt.BLOCK)!=null):!1}function C_e(t,e){const n=e.reduce((s,i)=>s+(i.delete||0),0);let r=e.length()-n;return S_e(t,e)&&(r-=1),r}function sT(t,e){if(!t)return t;const n=e.transformPosition(t.index),r=e.transformPosition(t.index+t.length);return{index:n,length:r-n}}class MH extends fl{constructor(e,n){super(e,n),e.root.addEventListener("drop",r=>{var o;r.preventDefault();let s=null;if(document.caretRangeFromPoint)s=document.caretRangeFromPoint(r.clientX,r.clientY);else if(document.caretPositionFromPoint){const l=document.caretPositionFromPoint(r.clientX,r.clientY);s=document.createRange(),s.setStart(l.offsetNode,l.offset),s.setEnd(l.offsetNode,l.offset)}const i=s&&e.selection.normalizeNative(s);if(i){const l=e.selection.normalizedToRange(i);(o=r.dataTransfer)!=null&&o.files&&this.upload(l,r.dataTransfer.files)}})}upload(e,n){const r=[];Array.from(n).forEach(s=>{var i;s&&((i=this.options.mimetypes)!=null&&i.includes(s.type))&&r.push(s)}),r.length>0&&this.options.handler.call(this,e,r)}}MH.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(t,e){if(!this.quill.scroll.query("image"))return;const n=e.map(r=>new Promise(s=>{const i=new FileReader;i.onload=()=>{s(i.result)},i.readAsDataURL(r)}));Promise.all(n).then(r=>{const s=r.reduce((i,o)=>i.insert({image:o}),new Nt().retain(t.index).delete(t.length));this.quill.updateContents(s,_t.sources.USER),this.quill.setSelection(t.index+r.length,_t.sources.SILENT)})}};const N_e=["insertText","insertReplacementText"];class T_e extends fl{constructor(e,n){super(e,n),e.root.addEventListener("beforeinput",r=>{this.handleBeforeInput(r)}),/Android/i.test(navigator.userAgent)||e.on(Ke.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(e){xL({range:e,quill:this.quill})}replaceText(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(e.length===0)return!1;if(n){const r=this.quill.getFormat(e.index,1);this.deleteRange(e),this.quill.updateContents(new Nt().retain(e.index).insert(n,r),Ke.sources.USER)}else this.deleteRange(e);return this.quill.setSelection(e.index+n.length,0,Ke.sources.SILENT),!0}handleBeforeInput(e){if(this.quill.composition.isComposing||e.defaultPrevented||!N_e.includes(e.inputType))return;const n=e.getTargetRanges?e.getTargetRanges()[0]:null;if(!n||n.collapsed===!0)return;const r=A_e(e);if(r==null)return;const s=this.quill.selection.normalizeNative(n),i=s?this.quill.selection.normalizedToRange(s):null;i&&this.replaceText(i,r)&&e.preventDefault()}handleCompositionStart(){const e=this.quill.getSelection();e&&this.replaceText(e)}}function A_e(t){var e;return typeof t.data=="string"?t.data:(e=t.dataTransfer)!=null&&e.types.includes("text/plain")?t.dataTransfer.getData("text/plain"):null}const L_e=/Mac/i.test(navigator.platform),R_e=100,k_e=t=>!!(t.key==="ArrowLeft"||t.key==="ArrowRight"||t.key==="ArrowUp"||t.key==="ArrowDown"||t.key==="Home"||L_e&&t.key==="a"&&t.ctrlKey===!0);class O_e extends fl{constructor(n,r){super(n,r);we(this,"isListening",!1);we(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(n,r){let{line:s,event:i}=r;if(!(s instanceof il)||!s.uiNode)return!0;const o=getComputedStyle(s.domNode).direction==="rtl";return o&&i.key!=="ArrowRight"||!o&&i.key!=="ArrowLeft"?!0:(this.quill.setSelection(n.index-1,n.length+(i.shiftKey?1:0),Ke.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",n=>{!n.defaultPrevented&&k_e(n)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+R_e,this.isListening)return;this.isListening=!0;const n=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",n,{once:!0})}handleSelectionChange(){const n=document.getSelection();if(!n)return;const r=n.getRangeAt(0);if(r.collapsed!==!0||r.startOffset!==0)return;const s=this.quill.scroll.find(r.startContainer);if(!(s instanceof il)||!s.uiNode)return;const i=document.createRange();i.setStartAfter(s.uiNode),i.setEndAfter(s.uiNode),n.removeAllRanges(),n.addRange(i)}}Ke.register({"blots/block":wa,"blots/block/embed":So,"blots/break":hl,"blots/container":ff,"blots/cursor":sp,"blots/embed":fL,"blots/inline":tc,"blots/scroll":mm,"blots/text":ul,"modules/clipboard":IH,"modules/history":DH,"modules/keyboard":Bw,"modules/uploader":MH,"modules/input":T_e,"modules/uiNode":O_e});class I_e extends dl{add(e,n){let r=0;if(n==="+1"||n==="-1"){const s=this.value(e)||0;r=n==="+1"?s+1:s-1}else typeof n=="number"&&(r=n);return r===0?(this.remove(e),!0):super.add(e,r.toString())}canAdd(e,n){return super.canAdd(e,n)||super.canAdd(e,parseInt(n,10))}value(e){return parseInt(super.value(e),10)||void 0}}const P_e=new I_e("indent","ql-indent",{scope:Tt.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class aT extends wa{}we(aT,"blotName","blockquote"),we(aT,"tagName","blockquote");class iT extends wa{static formats(e){return this.tagName.indexOf(e.tagName)+1}}we(iT,"blotName","header"),we(iT,"tagName",["H1","H2","H3","H4","H5","H6"]);class qv extends ff{}qv.blotName="list-container";qv.tagName="OL";class $v extends wa{static create(e){const n=super.create();return n.setAttribute("data-list",e),n}static formats(e){return e.getAttribute("data-list")||void 0}static register(){Ke.register(qv)}constructor(e,n){super(e,n);const r=n.ownerDocument.createElement("span"),s=i=>{if(!e.isEnabled())return;const o=this.statics.formats(n,e);o==="checked"?(this.format("list","unchecked"),i.preventDefault()):o==="unchecked"&&(this.format("list","checked"),i.preventDefault())};r.addEventListener("mousedown",s),r.addEventListener("touchstart",s),this.attachUI(r)}format(e,n){e===this.statics.blotName&&n?this.domNode.setAttribute("data-list",n):super.format(e,n)}}$v.blotName="list";$v.tagName="LI";qv.allowedChildren=[$v];$v.requiredContainer=qv;class G0 extends tc{static create(){return super.create()}static formats(){return!0}optimize(e){super.optimize(e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}we(G0,"blotName","bold"),we(G0,"tagName",["STRONG","B"]);class oT extends G0{}we(oT,"blotName","italic"),we(oT,"tagName",["EM","I"]);class Yu extends tc{static create(e){const n=super.create(e);return n.setAttribute("href",this.sanitize(e)),n.setAttribute("rel","noopener noreferrer"),n.setAttribute("target","_blank"),n}static formats(e){return e.getAttribute("href")}static sanitize(e){return FH(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}format(e,n){e!==this.statics.blotName||!n?super.format(e,n):this.domNode.setAttribute("href",this.constructor.sanitize(n))}}we(Yu,"blotName","link"),we(Yu,"tagName","A"),we(Yu,"SANITIZED_URL","about:blank"),we(Yu,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);function FH(t,e){const n=document.createElement("a");n.href=t;const r=n.href.slice(0,n.href.indexOf(":"));return e.indexOf(r)>-1}class lT extends tc{static create(e){return e==="super"?document.createElement("sup"):e==="sub"?document.createElement("sub"):super.create(e)}static formats(e){if(e.tagName==="SUB")return"sub";if(e.tagName==="SUP")return"super"}}we(lT,"blotName","script"),we(lT,"tagName",["SUB","SUP"]);class cT extends G0{}we(cT,"blotName","strike"),we(cT,"tagName",["S","STRIKE"]);class uT extends tc{}we(uT,"blotName","underline"),we(uT,"tagName","U");class u1 extends fL{static create(e){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const n=super.create(e);return typeof e=="string"&&(window.katex.render(e,n,{throwOnError:!1,errorColor:"#f00"}),n.setAttribute("data-value",e)),n}static value(e){return e.getAttribute("data-value")}html(){const{formula:e}=this.value();return`<span>${e}</span>`}}we(u1,"blotName","formula"),we(u1,"className","ql-formula"),we(u1,"tagName","SPAN");const vM=["alt","height","width"];var Gx;let D_e=(Gx=class extends eo{static create(e){const n=super.create(e);return typeof e=="string"&&n.setAttribute("src",this.sanitize(e)),n}static formats(e){return vM.reduce((n,r)=>(e.hasAttribute(r)&&(n[r]=e.getAttribute(r)),n),{})}static match(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}static sanitize(e){return FH(e,["http","https","data"])?e:"//:0"}static value(e){return e.getAttribute("src")}format(e,n){vM.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):super.format(e,n)}},we(Gx,"blotName","image"),we(Gx,"tagName","IMG"),Gx);const yM=["height","width"];class d1 extends So{static create(e){const n=super.create(e);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen","true"),n.setAttribute("src",this.sanitize(e)),n}static formats(e){return yM.reduce((n,r)=>(e.hasAttribute(r)&&(n[r]=e.getAttribute(r)),n),{})}static sanitize(e){return Yu.sanitize(e)}static value(e){return e.getAttribute("src")}format(e,n){yM.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):super.format(e,n)}html(){const{video:e}=this.value();return`<a href="${e}">${e}</a>`}}we(d1,"blotName","video"),we(d1,"className","ql-video"),we(d1,"tagName","IFRAME");const Vg=new dl("code-token","hljs",{scope:Tt.INLINE});class Qc extends tc{static formats(e,n){for(;e!=null&&e!==n.domNode;){if(e.classList&&e.classList.contains(Ma.className))return super.formats(e,n);e=e.parentNode}}constructor(e,n,r){super(e,n,r),Vg.add(this.domNode,r)}format(e,n){e!==Qc.blotName?super.format(e,n):n?Vg.add(this.domNode,n):(Vg.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),Vg.value(this.domNode)||this.unwrap()}}Qc.blotName="code-token";Qc.className="ql-token";class Eo extends Ma{static create(e){const n=super.create(e);return typeof e=="string"&&n.setAttribute("data-language",e),n}static formats(e){return e.getAttribute("data-language")||"plain"}static register(){}format(e,n){e===this.statics.blotName&&n?this.domNode.setAttribute("data-language",n):super.format(e,n)}replaceWith(e,n){return this.formatAt(0,this.length(),Qc.blotName,!1),super.replaceWith(e,n)}}class o0 extends mf{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(e,n){e===Eo.blotName&&(this.forceNext=!0,this.children.forEach(r=>{r.format(e,n)}))}formatAt(e,n,r,s){r===Eo.blotName&&(this.forceNext=!0),super.formatAt(e,n,r,s)}highlight(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const s=`${Array.from(this.domNode.childNodes).filter(o=>o!==this.uiNode).map(o=>o.textContent).join(`
`)}
`,i=Eo.formats(this.children.head.domNode);if(n||this.forceNext||this.cachedText!==s){if(s.trim().length>0||this.cachedText==null){const o=this.children.reduce((u,h)=>u.concat(wH(h,!1)),new Nt),l=e(s,i);o.diff(l).reduce((u,h)=>{let{retain:f,attributes:g}=h;return f?(g&&Object.keys(g).forEach(p=>{[Eo.blotName,Qc.blotName].includes(p)&&this.formatAt(u,f,p,g[p])}),u+f):u},0)}this.cachedText=s,this.forceNext=!1}}html(e,n){const[r]=this.children.find(e);return`<pre data-language="${r?Eo.formats(r.domNode):"plain"}">
${Fw(this.code(e,n))}
</pre>`}optimize(e){if(super.optimize(e),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const n=Eo.formats(this.children.head.domNode);n!==this.uiNode.value&&(this.uiNode.value=n)}}}o0.allowedChildren=[Eo];Eo.requiredContainer=o0;Eo.allowedChildren=[Qc,sp,ul,hl];const M_e=(t,e,n)=>{if(typeof t.versionString=="string"){const r=t.versionString.split(".")[0];if(parseInt(r,10)>=11)return t.highlight(n,{language:e}).value}return t.highlight(e,n).value};class BH extends fl{static register(){Ke.register(Qc,!0),Ke.register(Eo,!0),Ke.register(o0,!0)}constructor(e,n){if(super(e,n),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((r,s)=>{let{key:i}=s;return r[i]=!0,r},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(Ke.events.SCROLL_BLOT_MOUNT,e=>{if(!(e instanceof o0))return;const n=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(r=>{let{key:s,label:i}=r;const o=n.ownerDocument.createElement("option");o.textContent=i,o.setAttribute("value",s),n.appendChild(o)}),n.addEventListener("change",()=>{e.format(Eo.blotName,n.value),this.quill.root.focus(),this.highlight(e,!0)}),e.uiNode==null&&(e.attachUI(n),e.children.head&&(n.value=Eo.formats(e.children.head.domNode)))})}initTimer(){let e=null;this.quill.on(Ke.events.SCROLL_OPTIMIZE,()=>{e&&clearTimeout(e),e=setTimeout(()=>{this.highlight(),e=null},this.options.interval)})}highlight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(Ke.sources.USER);const r=this.quill.getSelection();(e==null?this.quill.scroll.descendants(o0):[e]).forEach(i=>{i.highlight(this.highlightBlot,n)}),this.quill.update(Ke.sources.SILENT),r!=null&&this.quill.setSelection(r,Ke.sources.SILENT)}highlightBlot(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(n=this.languages[n]?n:"plain",n==="plain")return Fw(e).split(`
`).reduce((s,i,o)=>(o!==0&&s.insert(`
`,{[Ma.blotName]:n}),s.insert(i)),new Nt);const r=this.quill.root.ownerDocument.createElement("div");return r.classList.add(Ma.className),r.innerHTML=M_e(this.options.hljs,n,e),bL(this.quill.scroll,r,[(s,i)=>{const o=Vg.value(s);return o?i.compose(new Nt().retain(i.length(),{[Qc.blotName]:o})):i}],[(s,i)=>s.data.split(`
`).reduce((o,l,u)=>(u!==0&&o.insert(`
`,{[Ma.blotName]:n}),o.insert(l)),i)],new WeakMap)}}BH.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const w0=class w0 extends wa{static create(e){const n=super.create();return e?n.setAttribute("data-row",e):n.setAttribute("data-row",wL()),n}static formats(e){if(e.hasAttribute("data-row"))return e.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(e,n){e===w0.blotName&&n?this.domNode.setAttribute("data-row",n):super.format(e,n)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};we(w0,"blotName","table"),we(w0,"tagName","TD");let nl=w0;class Zc extends ff{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const e=this.children.head.formats(),n=this.children.tail.formats(),r=this.next.children.head.formats(),s=this.next.children.tail.formats();return e.table===n.table&&e.table===r.table&&e.table===s.table}return!1}optimize(e){super.optimize(e),this.children.forEach(n=>{if(n.next==null)return;const r=n.formats(),s=n.next.formats();if(r.table!==s.table){const i=this.splitAfter(n);i&&i.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}we(Zc,"blotName","table-row"),we(Zc,"tagName","TR");class Gl extends ff{}we(Gl,"blotName","table-body"),we(Gl,"tagName","TBODY");class ip extends ff{balanceCells(){const e=this.descendants(Zc),n=e.reduce((r,s)=>Math.max(s.children.length,r),0);e.forEach(r=>{new Array(n-r.children.length).fill(0).forEach(()=>{let s;r.children.head!=null&&(s=nl.formats(r.children.head.domNode));const i=this.scroll.create(nl.blotName,s);r.appendChild(i),i.optimize()})})}cells(e){return this.rows().map(n=>n.children.at(e))}deleteColumn(e){const[n]=this.descendant(Gl);n==null||n.children.head==null||n.children.forEach(r=>{const s=r.children.at(e);s!=null&&s.remove()})}insertColumn(e){const[n]=this.descendant(Gl);n==null||n.children.head==null||n.children.forEach(r=>{const s=r.children.at(e),i=nl.formats(r.children.head.domNode),o=this.scroll.create(nl.blotName,i);r.insertBefore(o,s)})}insertRow(e){const[n]=this.descendant(Gl);if(n==null||n.children.head==null)return;const r=wL(),s=this.scroll.create(Zc.blotName);n.children.head.children.forEach(()=>{const o=this.scroll.create(nl.blotName,r);s.appendChild(o)});const i=n.children.at(e);n.insertBefore(s,i)}rows(){const e=this.children.head;return e==null?[]:e.children.map(n=>n)}}we(ip,"blotName","table-container"),we(ip,"tagName","TABLE");ip.allowedChildren=[Gl];Gl.requiredContainer=ip;Gl.allowedChildren=[Zc];Zc.requiredContainer=Gl;Zc.allowedChildren=[nl];nl.requiredContainer=Zc;function wL(){return`row-${Math.random().toString(36).slice(2,6)}`}class F_e extends fl{static register(){Ke.register(nl),Ke.register(Zc),Ke.register(Gl),Ke.register(ip)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(ip).forEach(e=>{e.balanceCells()})}deleteColumn(){const[e,,n]=this.getTable();n!=null&&(e.deleteColumn(n.cellOffset()),this.quill.update(Ke.sources.USER))}deleteRow(){const[,e]=this.getTable();e!=null&&(e.remove(),this.quill.update(Ke.sources.USER))}deleteTable(){const[e]=this.getTable();if(e==null)return;const n=e.offset();e.remove(),this.quill.update(Ke.sources.USER),this.quill.setSelection(n,Ke.sources.SILENT)}getTable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(e==null)return[null,null,null,-1];const[n,r]=this.quill.getLine(e.index);if(n==null||n.statics.blotName!==nl.blotName)return[null,null,null,-1];const s=n.parent;return[s.parent.parent,s,n,r]}insertColumn(e){const n=this.quill.getSelection();if(!n)return;const[r,s,i]=this.getTable(n);if(i==null)return;const o=i.cellOffset();r.insertColumn(o+e),this.quill.update(Ke.sources.USER);let l=s.rowOffset();e===0&&(l+=1),this.quill.setSelection(n.index+l,n.length,Ke.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(e){const n=this.quill.getSelection();if(!n)return;const[r,s,i]=this.getTable(n);if(i==null)return;const o=s.rowOffset();r.insertRow(o+e),this.quill.update(Ke.sources.USER),e>0?this.quill.setSelection(n,Ke.sources.SILENT):this.quill.setSelection(n.index+s.children.length,n.length,Ke.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(e,n){const r=this.quill.getSelection();if(r==null)return;const s=new Array(e).fill(0).reduce(i=>{const o=new Array(n).fill(`
`).join("");return i.insert(o,{table:wL()})},new Nt().retain(r.index));this.quill.updateContents(s,Ke.sources.USER),this.quill.setSelection(r.index,Ke.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(Ke.events.SCROLL_OPTIMIZE,e=>{e.some(n=>["TD","TR","TBODY","TABLE"].includes(n.target.tagName)?(this.quill.once(Ke.events.TEXT_CHANGE,(r,s,i)=>{i===Ke.sources.USER&&this.balanceTables()}),!0):!1)})}}const xM=lu("quill:toolbar");class _L extends fl{constructor(e,n){var r,s;if(super(e,n),Array.isArray(this.options.container)){const i=document.createElement("div");i.setAttribute("role","toolbar"),B_e(i,this.options.container),(s=(r=e.container)==null?void 0:r.parentNode)==null||s.insertBefore(i,e.container),this.container=i}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){xM.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(i=>{var l;const o=(l=this.options.handlers)==null?void 0:l[i];o&&this.addHandler(i,o)}),Array.from(this.container.querySelectorAll("button, select")).forEach(i=>{this.attach(i)}),this.quill.on(Ke.events.EDITOR_CHANGE,()=>{const[i]=this.quill.selection.getRange();this.update(i)})}addHandler(e,n){this.handlers[e]=n}attach(e){let n=Array.from(e.classList).find(s=>s.indexOf("ql-")===0);if(!n)return;if(n=n.slice(3),e.tagName==="BUTTON"&&e.setAttribute("type","button"),this.handlers[n]==null&&this.quill.scroll.query(n)==null){xM.warn("ignoring attaching to nonexistent format",n,e);return}const r=e.tagName==="SELECT"?"change":"click";e.addEventListener(r,s=>{let i;if(e.tagName==="SELECT"){if(e.selectedIndex<0)return;const l=e.options[e.selectedIndex];l.hasAttribute("selected")?i=!1:i=l.value||!1}else e.classList.contains("ql-active")?i=!1:i=e.value||!e.hasAttribute("value"),s.preventDefault();this.quill.focus();const[o]=this.quill.selection.getRange();if(this.handlers[n]!=null)this.handlers[n].call(this,i);else if(this.quill.scroll.query(n).prototype instanceof eo){if(i=prompt(`Enter ${n}`),!i)return;this.quill.updateContents(new Nt().retain(o.index).delete(o.length).insert({[n]:i}),Ke.sources.USER)}else this.quill.format(n,i,Ke.sources.USER);this.update(o)}),this.controls.push([n,e])}update(e){const n=e==null?{}:this.quill.getFormat(e);this.controls.forEach(r=>{const[s,i]=r;if(i.tagName==="SELECT"){let o=null;if(e==null)o=null;else if(n[s]==null)o=i.querySelector("option[selected]");else if(!Array.isArray(n[s])){let l=n[s];typeof l=="string"&&(l=l.replace(/"/g,'\\"')),o=i.querySelector(`option[value="${l}"]`)}o==null?(i.value="",i.selectedIndex=-1):o.selected=!0}else if(e==null)i.classList.remove("ql-active"),i.setAttribute("aria-pressed","false");else if(i.hasAttribute("value")){const o=n[s],l=o===i.getAttribute("value")||o!=null&&o.toString()===i.getAttribute("value")||o==null&&!i.getAttribute("value");i.classList.toggle("ql-active",l),i.setAttribute("aria-pressed",l.toString())}else{const o=n[s]!=null;i.classList.toggle("ql-active",o),i.setAttribute("aria-pressed",o.toString())}})}}_L.DEFAULTS={};function bM(t,e,n){const r=document.createElement("button");r.setAttribute("type","button"),r.classList.add(`ql-${e}`),r.setAttribute("aria-pressed","false"),n!=null?(r.value=n,r.setAttribute("aria-label",`${e}: ${n}`)):r.setAttribute("aria-label",e),t.appendChild(r)}function B_e(t,e){Array.isArray(e[0])||(e=[e]),e.forEach(n=>{const r=document.createElement("span");r.classList.add("ql-formats"),n.forEach(s=>{if(typeof s=="string")bM(r,s);else{const i=Object.keys(s)[0],o=s[i];Array.isArray(o)?U_e(r,i,o):bM(r,i,o)}}),t.appendChild(r)})}function U_e(t,e,n){const r=document.createElement("select");r.classList.add(`ql-${e}`),n.forEach(s=>{const i=document.createElement("option");s!==!1?i.setAttribute("value",String(s)):i.setAttribute("selected","selected"),r.appendChild(i)}),t.appendChild(r)}_L.DEFAULTS={container:null,handlers:{clean(){const t=this.quill.getSelection();if(t!=null)if(t.length===0){const e=this.quill.getFormat();Object.keys(e).forEach(n=>{this.quill.scroll.query(n,Tt.INLINE)!=null&&this.quill.format(n,!1,Ke.sources.USER)})}else this.quill.removeFormat(t.index,t.length,Ke.sources.USER)},direction(t){const{align:e}=this.quill.getFormat();t==="rtl"&&e==null?this.quill.format("align","right",Ke.sources.USER):!t&&e==="right"&&this.quill.format("align",!1,Ke.sources.USER),this.quill.format("direction",t,Ke.sources.USER)},indent(t){const e=this.quill.getSelection(),n=this.quill.getFormat(e),r=parseInt(n.indent||0,10);if(t==="+1"||t==="-1"){let s=t==="+1"?1:-1;n.direction==="rtl"&&(s*=-1),this.quill.format("indent",r+s,Ke.sources.USER)}},link(t){t===!0&&(t=prompt("Enter link URL:")),this.quill.format("link",t,Ke.sources.USER)},list(t){const e=this.quill.getSelection(),n=this.quill.getFormat(e);t==="check"?n.list==="checked"||n.list==="unchecked"?this.quill.format("list",!1,Ke.sources.USER):this.quill.format("list","unchecked",Ke.sources.USER):this.quill.format("list",t,Ke.sources.USER)}}};const z_e='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',q_e='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',$_e='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',V_e='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',H_e='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',G_e='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',W_e='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',K_e='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',wM='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',Y_e='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',X_e='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',J_e='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',Q_e='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',Z_e='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',eje='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',tje='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',nje='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',rje='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',sje='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',aje='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',ije='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',oje='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',lje='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',cje='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',uje='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',dje='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',hje='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',fje='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',mje='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',pje='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',gje='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',vje='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',yje='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',W0={align:{"":z_e,center:q_e,right:$_e,justify:V_e},background:H_e,blockquote:G_e,bold:W_e,clean:K_e,code:wM,"code-block":wM,color:Y_e,direction:{"":X_e,rtl:J_e},formula:Q_e,header:{1:Z_e,2:eje,3:tje,4:nje,5:rje,6:sje},italic:aje,image:ije,indent:{"+1":oje,"-1":lje},link:cje,list:{bullet:uje,check:dje,ordered:hje},script:{sub:fje,super:mje},strike:pje,table:gje,underline:vje,video:yje},xje='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let _M=0;function jM(t,e){t.setAttribute(e,`${t.getAttribute(e)!=="true"}`)}class Uw{constructor(e){this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",n=>{switch(n.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),n.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),jM(this.label,"aria-expanded"),jM(this.options,"aria-hidden")}buildItem(e){const n=document.createElement("span");n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item");const r=e.getAttribute("value");return r&&n.setAttribute("data-value",r),e.textContent&&n.setAttribute("data-label",e.textContent),n.addEventListener("click",()=>{this.selectItem(n,!0)}),n.addEventListener("keydown",s=>{switch(s.key){case"Enter":this.selectItem(n,!0),s.preventDefault();break;case"Escape":this.escape(),s.preventDefault();break}}),n}buildLabel(){const e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=xje,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}buildOptions(){const e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id=`ql-picker-options-${_M}`,_M+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,Array.from(this.select.options).forEach(n=>{const r=this.buildItem(n);e.appendChild(r),n.selected===!0&&this.selectItem(r)}),this.container.appendChild(e)}buildPicker(){Array.from(this.select.attributes).forEach(e=>{this.container.setAttribute(e.name,e.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.container.querySelector(".ql-selected");e!==r&&(r!=null&&r.classList.remove("ql-selected"),e!=null&&(e.classList.add("ql-selected"),this.select.selectedIndex=Array.from(e.parentNode.children).indexOf(e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),n&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let e;if(this.select.selectedIndex>-1){const r=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(r)}else this.selectItem(null);const n=e!=null&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}class UH extends Uw{constructor(e,n){super(e),this.label.innerHTML=n,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(r=>{r.classList.add("ql-primary")})}buildItem(e){const n=super.buildItem(e);return n.style.backgroundColor=e.getAttribute("value")||"",n}selectItem(e,n){super.selectItem(e,n);const r=this.label.querySelector(".ql-color-label"),s=e&&e.getAttribute("data-value")||"";r&&(r.tagName==="line"?r.style.stroke=s:r.style.fill=s)}}class zH extends Uw{constructor(e,n){super(e),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(r=>{r.innerHTML=n[r.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(e,n){super.selectItem(e,n);const r=e||this.defaultItem;if(r!=null){if(this.label.innerHTML===r.innerHTML)return;this.label.innerHTML=r.innerHTML}}}const bje=t=>{const{overflowY:e}=getComputedStyle(t,null);return e!=="visible"&&e!=="clip"};class qH{constructor(e,n){this.quill=e,this.boundsContainer=n||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,bje(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(e){const n=e.left+e.width/2-this.root.offsetWidth/2,r=e.bottom+this.quill.root.scrollTop;this.root.style.left=`${n}px`,this.root.style.top=`${r}px`,this.root.classList.remove("ql-flip");const s=this.boundsContainer.getBoundingClientRect(),i=this.root.getBoundingClientRect();let o=0;if(i.right>s.right&&(o=s.right-i.right,this.root.style.left=`${n+o}px`),i.left<s.left&&(o=s.left-i.left,this.root.style.left=`${n+o}px`),i.bottom>s.bottom){const l=i.bottom-i.top,u=e.bottom-e.top+l;this.root.style.top=`${r-u}px`,this.root.classList.add("ql-flip")}return o}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const wje=[!1,"center","right","justify"],_je=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],jje=[!1,"serif","monospace"],Eje=["1","2","3",!1],Sje=["small",!1,"large","huge"];class Vv extends ap{constructor(e,n){super(e,n);const r=s=>{if(!document.body.contains(e.root)){document.body.removeEventListener("click",r);return}this.tooltip!=null&&!this.tooltip.root.contains(s.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(i=>{i.container.contains(s.target)||i.close()})};e.emitter.listenDOM("click",document.body,r)}addModule(e){const n=super.addModule(e);return e==="toolbar"&&this.extendToolbar(n),n}buildButtons(e,n){Array.from(e).forEach(r=>{(r.getAttribute("class")||"").split(/\s+/).forEach(i=>{if(i.startsWith("ql-")&&(i=i.slice(3),n[i]!=null))if(i==="direction")r.innerHTML=n[i][""]+n[i].rtl;else if(typeof n[i]=="string")r.innerHTML=n[i];else{const o=r.value||"";o!=null&&n[i][o]&&(r.innerHTML=n[i][o])}})})}buildPickers(e,n){this.pickers=Array.from(e).map(s=>{if(s.classList.contains("ql-align")&&(s.querySelector("option")==null&&Tg(s,wje),typeof n.align=="object"))return new zH(s,n.align);if(s.classList.contains("ql-background")||s.classList.contains("ql-color")){const i=s.classList.contains("ql-background")?"background":"color";return s.querySelector("option")==null&&Tg(s,_je,i==="background"?"#ffffff":"#000000"),new UH(s,n[i])}return s.querySelector("option")==null&&(s.classList.contains("ql-font")?Tg(s,jje):s.classList.contains("ql-header")?Tg(s,Eje):s.classList.contains("ql-size")&&Tg(s,Sje)),new Uw(s)});const r=()=>{this.pickers.forEach(s=>{s.update()})};this.quill.on(_t.events.EDITOR_CHANGE,r)}}Vv.DEFAULTS=sd({},ap.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let t=this.container.querySelector("input.ql-image[type=file]");t==null&&(t=document.createElement("input"),t.setAttribute("type","file"),t.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),t.classList.add("ql-image"),t.addEventListener("change",()=>{const e=this.quill.getSelection(!0);this.quill.uploader.upload(e,t.files),t.value=""}),this.container.appendChild(t)),t.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class $H extends qH{constructor(e,n){super(e,n),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",e=>{e.key==="Enter"?(this.save(),e.preventDefault()):e.key==="Escape"&&(this.cancel(),e.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;n!=null?this.textbox.value=n:e!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const r=this.quill.getBounds(this.quill.selection.savedRange);r!=null&&this.position(r),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${e}`)||""),this.root.setAttribute("data-mode",e)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:e}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:n}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,_t.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,_t.sources.USER)),this.quill.root.scrollTop=n;break}case"video":e=Cje(e);case"formula":{if(!e)break;const n=this.quill.getSelection(!0);if(n!=null){const r=n.index+n.length;this.quill.insertEmbed(r,this.root.getAttribute("data-mode"),e,_t.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(r+1," ",_t.sources.USER),this.quill.setSelection(r+2,_t.sources.USER)}break}}this.textbox.value="",this.hide()}}function Cje(t){let e=t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return e?`${e[1]||"https"}://www.youtube.com/embed/${e[2]}?showinfo=0`:(e=t.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${e[1]||"https"}://player.vimeo.com/video/${e[2]}/`:t}function Tg(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;e.forEach(r=>{const s=document.createElement("option");r===n?s.setAttribute("selected","selected"):s.setAttribute("value",String(r)),t.appendChild(s)})}const Nje=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class VH extends $H{constructor(e,n){super(e,n),this.quill.on(_t.events.EDITOR_CHANGE,(r,s,i,o)=>{if(r===_t.events.SELECTION_CHANGE)if(s!=null&&s.length>0&&o===_t.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const l=this.quill.getLines(s.index,s.length);if(l.length===1){const u=this.quill.getBounds(s);u!=null&&this.position(u)}else{const u=l[l.length-1],h=this.quill.getIndex(u),f=Math.min(u.length()-1,s.index+s.length-h),g=this.quill.getBounds(new Th(h,f));g!=null&&this.position(g)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(_t.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const e=this.quill.getSelection();if(e!=null){const n=this.quill.getBounds(e);n!=null&&this.position(n)}},1)})}cancel(){this.show()}position(e){const n=super.position(e),r=this.root.querySelector(".ql-tooltip-arrow");return r.style.marginLeft="",n!==0&&(r.style.marginLeft=`${-1*n-r.offsetWidth/2}px`),n}}we(VH,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class HH extends Vv{constructor(e,n){n.modules.toolbar!=null&&n.modules.toolbar.container==null&&(n.modules.toolbar.container=Nje),super(e,n),this.quill.container.classList.add("ql-bubble")}extendToolbar(e){this.tooltip=new VH(this.quill,this.options.bounds),e.container!=null&&(this.tooltip.root.appendChild(e.container),this.buildButtons(e.container.querySelectorAll("button"),W0),this.buildPickers(e.container.querySelectorAll("select"),W0))}}HH.DEFAULTS=sd({},Vv.DEFAULTS,{modules:{toolbar:{handlers:{link(t){t?this.quill.theme.tooltip.edit():this.quill.format("link",!1,Ke.sources.USER)}}}}});const Tje=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class GH extends $H{constructor(){super(...arguments);we(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",n=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),n.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",n=>{if(this.linkRange!=null){const r=this.linkRange;this.restoreFocus(),this.quill.formatText(r,"link",!1,_t.sources.USER),delete this.linkRange}n.preventDefault(),this.hide()}),this.quill.on(_t.events.SELECTION_CHANGE,(n,r,s)=>{if(n!=null){if(n.length===0&&s===_t.sources.USER){const[i,o]=this.quill.scroll.descendant(Yu,n.index);if(i!=null){this.linkRange=new Th(n.index-o,i.length());const l=Yu.formats(i.domNode);this.preview.textContent=l,this.preview.setAttribute("href",l),this.show();const u=this.quill.getBounds(this.linkRange);u!=null&&this.position(u);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}we(GH,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class WH extends Vv{constructor(e,n){n.modules.toolbar!=null&&n.modules.toolbar.container==null&&(n.modules.toolbar.container=Tje),super(e,n),this.quill.container.classList.add("ql-snow")}extendToolbar(e){e.container!=null&&(e.container.classList.add("ql-snow"),this.buildButtons(e.container.querySelectorAll("button"),W0),this.buildPickers(e.container.querySelectorAll("select"),W0),this.tooltip=new GH(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(n,r)=>{e.handlers.link.call(e,!r.format.link)}))}}WH.DEFAULTS=sd({},Vv.DEFAULTS,{modules:{toolbar:{handlers:{link(t){if(t){const e=this.quill.getSelection();if(e==null||e.length===0)return;let n=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(n)&&n.indexOf("mailto:")!==0&&(n=`mailto:${n}`);const{tooltip:r}=this.quill.theme;r.edit("link",n)}else this.quill.format("link",!1,Ke.sources.USER)}}}}});Ke.register({"attributors/attribute/direction":CH,"attributors/class/align":jH,"attributors/class/background":H2e,"attributors/class/color":V2e,"attributors/class/direction":NH,"attributors/class/font":LH,"attributors/class/size":kH,"attributors/style/align":EH,"attributors/style/background":gL,"attributors/style/color":pL,"attributors/style/direction":TH,"attributors/style/font":RH,"attributors/style/size":OH},!0);Ke.register({"formats/align":jH,"formats/direction":NH,"formats/indent":P_e,"formats/background":gL,"formats/color":pL,"formats/font":LH,"formats/size":kH,"formats/blockquote":aT,"formats/code-block":Ma,"formats/header":iT,"formats/list":$v,"formats/bold":G0,"formats/code":vL,"formats/italic":oT,"formats/link":Yu,"formats/script":lT,"formats/strike":cT,"formats/underline":uT,"formats/formula":u1,"formats/image":D_e,"formats/video":d1,"modules/syntax":BH,"modules/table":F_e,"modules/toolbar":_L,"themes/bubble":HH,"themes/snow":WH,"ui/icons":W0,"ui/picker":Uw,"ui/icon-picker":zH,"ui/color-picker":UH,"ui/tooltip":qH},!0);class On extends er.Component{constructor(e){super(e),this.editingAreaRef=j.createRef(),this.dirtyProps=["modules","formats","bounds","theme","children"],this.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],this.state={generation:0},this.selection=null,this.onEditorChange=(r,s,i,o)=>{var l,u;r==="text-change"?(l=this.onEditorChangeText)==null||l.call(this,this.editor.root.innerHTML,s,o,this.unprivilegedEditor):r==="selection-change"&&((u=this.onEditorChangeSelection)==null||u.call(this,s,o,this.unprivilegedEditor))};const n=this.isControlled()?e.value:e.defaultValue;this.value=n??""}validateProps(e){if(er.Children.count(e.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(er.Children.count(e.children)){const n=er.Children.only(e.children);if((n==null?void 0:n.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&e.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")}shouldComponentUpdate(e,n){if(this.validateProps(e),!this.editor||this.state.generation!==n.generation)return!0;if("value"in e){const r=this.getEditorContents(),s=e.value??"";this.isEqualValue(s,r)||this.setEditorContents(this.editor,s)}return e.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,e.readOnly),[...this.cleanProps,...this.dirtyProps].some(r=>!Cg(e[r],this.props[r]))}shouldComponentRegenerate(e){return this.dirtyProps.some(n=>!Cg(e[n],this.props[n]))}componentDidMount(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())}componentWillUnmount(){this.destroyEditor()}componentDidUpdate(e,n){if(this.editor&&this.shouldComponentRegenerate(e)){const r=this.editor.getContents(),s=this.editor.getSelection();this.regenerationSnapshot={delta:r,selection:s},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==n.generation){const{delta:r,selection:s}=this.regenerationSnapshot;delete this.regenerationSnapshot,this.instantiateEditor();const i=this.editor;i.setContents(r),EM(()=>this.setEditorSelection(i,s))}}instantiateEditor(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())}destroyEditor(){this.editor&&this.unhookEditor(this.editor)}isControlled(){return"value"in this.props}getEditorConfig(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,tabIndex:this.props.tabIndex,theme:this.props.theme}}getEditor(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor}createEditor(e,n){const r=new Ke(e,n);return n.tabIndex!=null&&this.setEditorTabIndex(r,n.tabIndex),this.hookEditor(r),r}hookEditor(e){this.unprivilegedEditor=this.makeUnprivilegedEditor(e),e.on("editor-change",this.onEditorChange)}unhookEditor(e){e.off("editor-change",this.onEditorChange)}getEditorContents(){return this.value}getEditorSelection(){return this.selection}isDelta(e){return e&&e.ops}isEqualValue(e,n){return this.isDelta(e)&&this.isDelta(n)?Cg(e.ops,n.ops):Cg(e,n)}setEditorContents(e,n){this.value=n;const r=this.getEditorSelection();typeof n=="string"?e.setContents(e.clipboard.convert({html:n})):e.setContents(n),EM(()=>this.setEditorSelection(e,r))}setEditorSelection(e,n){if(this.selection=n,n){const r=e.getLength();n.index=Math.max(0,Math.min(n.index,r-1)),n.length=Math.max(0,Math.min(n.length,r-1-n.index)),e.setSelection(n)}}setEditorTabIndex(e,n){var r;(r=e==null?void 0:e.scroll)!=null&&r.domNode&&(e.scroll.domNode.tabIndex=n)}setEditorReadOnly(e,n){n?e.disable():e.enable()}makeUnprivilegedEditor(e){const n=e;return{getHTML:()=>n.root.innerHTML,getSemanticHTML:n.getSemanticHTML.bind(n),getLength:n.getLength.bind(n),getText:n.getText.bind(n),getContents:n.getContents.bind(n),getSelection:n.getSelection.bind(n),getBounds:n.getBounds.bind(n)}}getEditingArea(){const e=this.editingAreaRef.current;if(!e)throw new Error("Cannot find element for editing area");if(e.nodeType===3)throw new Error("Editing area cannot be a text node");return e}renderEditingArea(){const{children:e,preserveWhitespace:n}=this.props,{generation:r}=this.state,s={key:r,ref:this.editingAreaRef};return er.Children.count(e)?er.cloneElement(er.Children.only(e),s):n?er.createElement("pre",{...s}):er.createElement("div",{...s})}render(){return er.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:`quill ${this.props.className??""}`,onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())}onEditorChangeText(e,n,r,s){var o,l;if(!this.editor)return;const i=this.isDelta(this.value)?s.getContents():s.getHTML();i!==this.getEditorContents()&&(this.lastDeltaChangeSet=n,this.value=i,(l=(o=this.props).onChange)==null||l.call(o,e,n,r,s))}onEditorChangeSelection(e,n,r){var l,u,h,f,g,p;if(!this.editor)return;const s=this.getEditorSelection(),i=!s&&e,o=s&&!e;Cg(e,s)||(this.selection=e,(u=(l=this.props).onChangeSelection)==null||u.call(l,e,n,r),i?(f=(h=this.props).onFocus)==null||f.call(h,e,n,r):o&&((p=(g=this.props).onBlur)==null||p.call(g,s,n,r)))}focus(){this.editor&&this.editor.focus()}blur(){this.editor&&(this.selection=null,this.editor.blur())}}On.displayName="React Quill";On.Quill=Ke;On.defaultProps={theme:"snow",modules:{},readOnly:!1};function EM(t){Promise.resolve().then(t)}const rr=({index:t,section:e,handleBodyChange:n})=>{const[r,s]=j.useState(e.body||"");j.useEffect(()=>{s(e.body||"")},[e.body]);const i=o=>{s(o),n(t,"body",o)};return a.jsx(On,{theme:"snow",value:r,onChange:i,style:{height:"300px"}})},mn=({storyForm:t,setStoryForm:e,editingItem:n,dropzoneName:r="dropzone-container-small",previewName:s="dropzone-uploaded-image-small"})=>{const i=j.useCallback(h=>{const f=h[0];f&&e(g=>({...g,headerImage:f}))},[e]),{getRootProps:o,getInputProps:l}=Ht({onDrop:i,accept:"image/png, image/jpeg, image/jpg"}),u=t.headerImage instanceof File?URL.createObjectURL(t.headerImage):t.headerImage||n||null;return a.jsxs(B,{...o(),className:`${r} text-center w-100 ${u?"border-success":""}`,children:[a.jsx("input",{...l(),accept:"image/*"}),u&&t.headerImage?a.jsx("img",{src:u,alt:"Header Image Preview",className:s}):a.jsxs("p",{className:"text-muted",children:["Drag & Drop Image Here or"," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})},Ve=({onChange:t,label:e="Organizations",caption:n="",resetKey:r,editingItems:s=[]})=>{const[i,o]=j.useState(""),[l,u]=j.useState(s);j.useEffect(()=>{(l.length>0||i!=="")&&(u([]),o(""),t([]))},[r]),j.useEffect(()=>{Array.isArray(s)&&!h(l,s)&&u(s)},[s]);const h=(v,w)=>v.length!==w.length?!1:v.every((E,S)=>E===w[S]),f=v=>{o(v.target.value)},g=v=>{if(v.key==="Enter"){v.preventDefault();const w=i.trim();if(w&&!l.includes(w)){const E=[...l,w];u(E),o(""),t(E)}}},p=v=>{const w=l.filter(E=>E!==v);u(w),t(w)};return a.jsxs(x.Group,{controlId:"textGroupInputField mt-4",children:[a.jsx(x.Label,{className:"label",children:e}),!!n&&a.jsx("p",{className:"subtitle",children:n}),a.jsx(x.Control,{type:"text",placeholder:`Type ${e.toLowerCase()} and press Enter`,value:i,onChange:f,onKeyDown:g}),a.jsx(B,{className:"mt-3 d-flex flex-wrap",style:{overflow:"hidden"},children:l.map((v,w)=>a.jsxs(JT,{bg:"light",className:"me-2 mb-2 text-wrap",style:{color:"#1F89B2",border:"1px solid #1F89B2",borderRadius:"10px",paddingLeft:"10px",paddingRight:"10px",maxWidth:"100%",wordBreak:"break-word"},children:[v,a.jsx(se,{variant:"link",size:"sm",onClick:()=>p(v),style:{color:"#1F89B2",textDecoration:"none",padding:"0 5px"},children:""})]},w))})]})},Aje=({index:t,section:e,onBodyImageDrop:n,dropzoneName:r="dropzone-container-small",previewName:s="dropzone-uploaded-image-small"})=>{const{getRootProps:i,getInputProps:o}=Ht({onDrop:u=>n(u,t),accept:"image/png, image/jpeg, image/jpg, video/mp4, video/webm, video/ogg"}),l=e.image?e.image instanceof File?URL.createObjectURL(e.image):e.image:null;return a.jsxs(B,{...i(),className:`${r} text-center w-100 ${l?"border-success":""}`,children:[a.jsx("input",{...o(),accept:"image/*,video/*"}),l?e.image instanceof File&&e.image.type.startsWith("video/")?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:l,type:e.image.type}),"Your browser does not support the video tag."]}):a.jsx("img",{src:l,alt:"Body Image Preview",className:s}):a.jsxs("p",{className:"text-muted",children:["Drag & Drop Image/Video Here or"," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})};function Lje(){var y;const[t,e]=j.useState(new x$),[n,r]=j.useState([]),[s,i]=j.useState(0),o=()=>{e({id:"",title:"",classification:"",purpose:"",date:"",headerImage:null,body:[{subtitle:"",body:"",image:null,image_source:""}],tags:[],references:[],name:"",email:"",social:""}),i(A=>A+1)},l=(A,_)=>{if(Array.isArray(A))e(L=>({...L,[_]:A}));else if(typeof A=="string")e(L=>({...L,[_]:A}));else{const{name:L,value:R}=A.target;e(U=>({...U,[L]:R}))}},u=(A,_,L)=>{e(R=>{const U=[...R.body];return U[A]={...U[A],[_]:L},{...R,body:U}})},h=(A,_)=>{const L=A[0];L&&e(R=>{const U=[...R.body];return U[_]={...U[_],image:L,imageUrl:URL.createObjectURL(L)},{...R,body:U}})},f=()=>{e(A=>({...A,body:[...A.body,{subtitle:"",body:"",image:null,image_source:""}]}))},g=A=>{e(_=>{const L=_.body.filter((R,U)=>U!==A);return{..._,body:L}})},[p,v]=j.useState(null),[w,E]=j.useState(""),S=j.useCallback(A=>{A.length>0&&v(A[0])},[]),{getRootProps:C,getInputProps:O}=Ht({onDrop:S,accept:"image/*",disabled:!!w}),I=()=>{e(A=>({...A,headerImage:null}))},D=A=>{e(_=>{const L=[..._.body];return L[A]?(L[A]={...L[A],image:null},{..._,body:L}):_})},T=async(A,_)=>{const L=Kt(en,_);return await Qt(L,A),await Zt(L)},F=async A=>{A.preventDefault(),xe.fire({title:"Submitting...",text:"Please wait while we submit your story.",allowOutsideClick:!1,didOpen:()=>{xe.showLoading()}});try{let _=await T(t.headerImage,`stories/${Date.now()}_${t.headerImage}`);const L=await Promise.all(t.body.map(async(K,G)=>K.image?await T(K.image,`stories/${Date.now()}_${K.image.name}`):"")),R={id:"",classification:t.classification,purpose:t.purpose,title:t.title,headerImage:_,date:t.date,body:t.body.map((K,G)=>({subtitle:K.subtitle,body:K.body,image:L[G]||"",image_source:K.image_source})),tags:t.tags,references:t.references,name:t.name,email:t.email,social:t.social},U=await Or(Ft(ze,"stories"),R),P=gt(ze,"stories",U.id);await rn(P,{id:U.id}),xe.fire({title:"Story Submitted",text:"Your story has been submitted successfully!",icon:"success"}),o(),r([]),I()}catch(_){console.error("Error submitting story:",_),xe.fire({title:"Error",text:"There was an issue submitting your story. Please try again.",icon:"error"})}};return j.useRef(null),a.jsxs(x,{className:"custom-form body-container",onSubmit:F,onKeyDown:A=>A.key==="Enter"&&A.preventDefault(),children:[a.jsx("h1",{className:"mb-4",children:"Add Tourism Story Form"}),a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(z,{className:"col me-lg-2 me-md-1",children:a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Classification"}),a.jsxs(x.Control,{as:"select",name:"classification",value:t.classification,onChange:l,required:!0,children:[a.jsx("option",{value:"",children:"Select Classification"}),I3.map(A=>a.jsx("option",{value:A,children:A},A))]})]})}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Purpose"}),a.jsxs(x.Control,{as:"select",name:"purpose",value:t.purpose,onChange:l,required:!0,disabled:!t.classification,placeholder:t.classification?"Select Purpose":"Select Classification First",children:[a.jsx("option",{value:"",children:t.classification?"Select Purpose":"Select Classification First"}),t.classification&&((y=b$[t.classification])==null?void 0:y.map(A=>a.jsx("option",{value:A,children:A},A)))]})]})})]}),a.jsx(B,{className:"empty-container"}),a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(z,{className:"col me-lg-2 me-md-1",children:a.jsx(B,{className:"empty-container"})}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Date"}),a.jsx(x.Control,{type:"date",name:"date",value:t.date,onChange:l,required:!0})]})})]}),a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Title"}),a.jsx(x.Control,{type:"text",name:"title",className:"fw-bold",value:t.title,onChange:l,placeholder:"Enter title",required:!0})]}),a.jsxs(x.Group,{className:"my-2",children:[a.jsx(x.Label,{className:"label",children:"Upload Header Image (800x400)"}),a.jsx(mn,{storyForm:t,setStoryForm:e,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"}),a.jsxs(B,{className:"d-flex justify-content-between mt-2",children:[a.jsx("p",{className:"subtitle",children:"Supported File: PNG, JPEG, and JPG"}),a.jsx("p",{className:"subtitle",children:"Maximum size: 25MB"})]}),a.jsx(B,{className:"d-flex justify-content-end",children:p&&(w?null:a.jsxs(se,{className:"my-2",variant:"outline-danger",onClick:I,children:[a.jsx(ye,{className:"button-icon",icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]}))})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),t.body.map((A,_)=>a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(B,{className:"empty-container"}),a.jsxs(x.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(x.Label,{className:"label",children:"Subtitle (Optional)"}),a.jsx(x.Control,{type:"text",className:"fw-bold",value:A.subtitle,onChange:L=>u(_,"subtitle",L.target.value)})]}),a.jsxs(z,{className:"col me-lg-2 me-md-1",children:[a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Image (Optional)"}),a.jsx(Aje,{index:_,section:A,onBodyImageDrop:h,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"}),A.image&&a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{className:"mt-2 mb-1",variant:"outline-danger",onClick:()=>D(_),children:[a.jsx(ye,{icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]})})]}),a.jsxs(x.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(x.Label,{className:"label",children:"Image Source (Optional)"}),a.jsx(x.Control,{placeholder:"e.g. @boracayphotos or /islanders or #trivago or www.trivago.com",type:"text",value:A.image_source,onChange:L=>u(_,"image_source",L.target.value)})]})]}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(x.Group,{className:"mb-5",children:[a.jsx(x.Label,{className:"label",children:"Body"}),a.jsx(rr,{index:_,section:A,handleBodyChange:u})]})}),t.body.length>1&&a.jsx(B,{className:"mb-4 d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-danger",type:"button",onClick:()=>g(_),className:"mt-3 w-full",children:[a.jsx(ye,{icon:Dt,size:"xs",fixedWidth:!0})," Delete Section"]})})]},_)),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-success",type:"button",onClick:f,className:"mb-3",children:[a.jsx(ye,{icon:nr,size:"xs",fixedWidth:!0})," Add Section"]})}),a.jsx(B,{className:"empty-container"}),a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(z,{className:"col me-lg-2 me-md-1",children:a.jsx(Ve,{onChange:A=>l(A,"references"),label:"References and Links (Type & Enter)",editingItems:t.references,resetKey:s})}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsx(Ve,{onChange:A=>l(A,"tags"),label:"Important Tags (Type & Enter)",editingItems:t.tags,resetKey:s})})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Your Name"}),a.jsx(x.Control,{type:"text",name:"name",value:t.name,onChange:l,placeholder:"Your Name",required:!0})]}),a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(z,{className:"col me-lg-2 me-md-1",children:a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Social Media/References Link"}),a.jsx(x.Control,{type:"social",name:"social",value:t.social,onChange:l,placeholder:"Social Link"})]})}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Email"}),a.jsx(x.Control,{type:"email",name:"email",value:t.email,onChange:l,placeholder:"Email"})]})})]}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"empty-container"}),a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",onClick:o,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full",onClick:F,children:"Submit Article"})]})]})}/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const Rje={prefix:"far",iconName:"comment-dots",icon:[512,512,[128172,62075,"commenting"],"f4ad","M168.2 384.9c-15-5.4-31.7-3.1-44.6 6.4c-8.2 6-22.3 14.8-39.4 22.7c5.6-14.7 9.9-31.3 11.3-49.4c1-12.9-3.3-25.7-11.8-35.5C60.4 302.8 48 272 48 240c0-79.5 83.3-160 208-160s208 80.5 208 160s-83.3 160-208 160c-31.6 0-61.3-5.5-87.8-15.1zM26.3 423.8c-1.6 2.7-3.3 5.4-5.1 8.1l-.3 .5c-1.6 2.3-3.2 4.6-4.8 6.9c-3.5 4.7-7.3 9.3-11.3 13.5c-4.6 4.6-5.9 11.4-3.4 17.4c2.5 6 8.3 9.9 14.8 9.9c5.1 0 10.2-.3 15.3-.8l.7-.1c4.4-.5 8.8-1.1 13.2-1.9c.8-.1 1.6-.3 2.4-.5c17.8-3.5 34.9-9.5 50.1-16.1c22.9-10 42.4-21.9 54.3-30.6c31.8 11.5 67 17.9 104.1 17.9c141.4 0 256-93.1 256-208S397.4 32 256 32S0 125.1 0 240c0 45.1 17.7 86.8 47.7 120.9c-1.9 24.5-11.4 46.3-21.4 62.9zM144 272a32 32 0 1 0 0-64 32 32 0 1 0 0 64zm144-32a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm80 32a32 32 0 1 0 0-64 32 32 0 1 0 0 64z"]},kje=Rje,Oje={prefix:"far",iconName:"calendar-check",icon:[448,512,[],"f274","M128 0c13.3 0 24 10.7 24 24l0 40 144 0 0-40c0-13.3 10.7-24 24-24s24 10.7 24 24l0 40 40 0c35.3 0 64 28.7 64 64l0 16 0 48 0 256c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 192l0-48 0-16C0 92.7 28.7 64 64 64l40 0 0-40c0-13.3 10.7-24 24-24zM400 192L48 192l0 256c0 8.8 7.2 16 16 16l320 0c8.8 0 16-7.2 16-16l0-256zM329 297L217 409c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47 95-95c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"]};var h1={exports:{}},Ije=h1.exports,SM;function Pje(){return SM||(SM=1,function(t,e){(function(n,r){t.exports=r(Rb())})(Ije,n=>(()=>{var r={703:(l,u,h)=>{var f=h(414);function g(){}function p(){}p.resetWarningCache=g,l.exports=function(){function v(S,C,O,I,D,T){if(T!==f){var F=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw F.name="Invariant Violation",F}}function w(){return v}v.isRequired=v;var E={array:v,bigint:v,bool:v,func:v,number:v,object:v,string:v,symbol:v,any:v,arrayOf:w,element:v,elementType:v,instanceOf:w,node:v,objectOf:w,oneOf:w,oneOfType:w,shape:w,exact:w,checkPropTypes:p,resetWarningCache:g};return E.PropTypes=E,E}},697:(l,u,h)=>{l.exports=h(703)()},414:l=>{l.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},98:l=>{l.exports=n}},s={};function i(l){var u=s[l];if(u!==void 0)return u.exports;var h=s[l]={exports:{}};return r[l](h,h.exports,i),h.exports}i.n=l=>{var u=l&&l.__esModule?()=>l.default:()=>l;return i.d(u,{a:u}),u},i.d=(l,u)=>{for(var h in u)i.o(u,h)&&!i.o(l,h)&&Object.defineProperty(l,h,{enumerable:!0,get:u[h]})},i.o=(l,u)=>Object.prototype.hasOwnProperty.call(l,u),i.r=l=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})};var o={};return(()=>{i.r(o),i.d(o,{default:()=>R});var l=i(98),u=i.n(l),h=i(697),f=i.n(h);function g(){return g=Object.assign?Object.assign.bind():function(U){for(var P=1;P<arguments.length;P++){var K=arguments[P];for(var G in K)Object.prototype.hasOwnProperty.call(K,G)&&(U[G]=K[G])}return U},g.apply(this,arguments)}var p=function(U){var P=U.pageClassName,K=U.pageLinkClassName,G=U.page,re=U.selected,Z=U.activeClassName,me=U.activeLinkClassName,ie=U.getEventListener,W=U.pageSelectedHandler,ve=U.href,Q=U.extraAriaContext,ne=U.pageLabelBuilder,te=U.rel,X=U.ariaLabel||"Page "+G+(Q?" "+Q:""),be=null;return re&&(be="page",X=U.ariaLabel||"Page "+G+" is your current page",P=P!==void 0?P+" "+Z:Z,K!==void 0?me!==void 0&&(K=K+" "+me):K=me),u().createElement("li",{className:P},u().createElement("a",g({rel:te,role:ve?void 0:"button",className:K,href:ve,tabIndex:re?"-1":"0","aria-label":X,"aria-current":be,onKeyPress:W},ie(W)),ne(G)))};p.propTypes={pageSelectedHandler:f().func.isRequired,selected:f().bool.isRequired,pageClassName:f().string,pageLinkClassName:f().string,activeClassName:f().string,activeLinkClassName:f().string,extraAriaContext:f().string,href:f().string,ariaLabel:f().string,page:f().number.isRequired,getEventListener:f().func.isRequired,pageLabelBuilder:f().func.isRequired,rel:f().string};const v=p;function w(){return w=Object.assign?Object.assign.bind():function(U){for(var P=1;P<arguments.length;P++){var K=arguments[P];for(var G in K)Object.prototype.hasOwnProperty.call(K,G)&&(U[G]=K[G])}return U},w.apply(this,arguments)}var E=function(U){var P=U.breakLabel,K=U.breakAriaLabel,G=U.breakClassName,re=U.breakLinkClassName,Z=U.breakHandler,me=U.getEventListener,ie=G||"break";return u().createElement("li",{className:ie},u().createElement("a",w({className:re,role:"button",tabIndex:"0","aria-label":K,onKeyPress:Z},me(Z)),P))};E.propTypes={breakLabel:f().oneOfType([f().string,f().node]),breakAriaLabel:f().string,breakClassName:f().string,breakLinkClassName:f().string,breakHandler:f().func.isRequired,getEventListener:f().func.isRequired};const S=E;function C(U){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return U??P}function O(U){return O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},O(U)}function I(){return I=Object.assign?Object.assign.bind():function(U){for(var P=1;P<arguments.length;P++){var K=arguments[P];for(var G in K)Object.prototype.hasOwnProperty.call(K,G)&&(U[G]=K[G])}return U},I.apply(this,arguments)}function D(U,P){for(var K=0;K<P.length;K++){var G=P[K];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(U,G.key,G)}}function T(U,P){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(K,G){return K.__proto__=G,K},T(U,P)}function F(U,P){if(P&&(O(P)==="object"||typeof P=="function"))return P;if(P!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y(U)}function y(U){if(U===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U}function A(U){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(P){return P.__proto__||Object.getPrototypeOf(P)},A(U)}function _(U,P,K){return P in U?Object.defineProperty(U,P,{value:K,enumerable:!0,configurable:!0,writable:!0}):U[P]=K,U}var L=function(U){(function(ie,W){if(typeof W!="function"&&W!==null)throw new TypeError("Super expression must either be null or a function");ie.prototype=Object.create(W&&W.prototype,{constructor:{value:ie,writable:!0,configurable:!0}}),Object.defineProperty(ie,"prototype",{writable:!1}),W&&T(ie,W)})(me,U);var P,K,G,re,Z=(G=me,re=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var ie,W=A(G);if(re){var ve=A(this).constructor;ie=Reflect.construct(W,arguments,ve)}else ie=W.apply(this,arguments);return F(this,ie)});function me(ie){var W,ve;return function(Q,ne){if(!(Q instanceof ne))throw new TypeError("Cannot call a class as a function")}(this,me),_(y(W=Z.call(this,ie)),"handlePreviousPage",function(Q){var ne=W.state.selected;W.handleClick(Q,null,ne>0?ne-1:void 0,{isPrevious:!0})}),_(y(W),"handleNextPage",function(Q){var ne=W.state.selected,te=W.props.pageCount;W.handleClick(Q,null,ne<te-1?ne+1:void 0,{isNext:!0})}),_(y(W),"handlePageSelected",function(Q,ne){if(W.state.selected===Q)return W.callActiveCallback(Q),void W.handleClick(ne,null,void 0,{isActive:!0});W.handleClick(ne,null,Q)}),_(y(W),"handlePageChange",function(Q){W.state.selected!==Q&&(W.setState({selected:Q}),W.callCallback(Q))}),_(y(W),"getEventListener",function(Q){return _({},W.props.eventListener,Q)}),_(y(W),"handleClick",function(Q,ne,te){var X=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},be=X.isPrevious,Ne=be!==void 0&&be,Ee=X.isNext,Ie=Ee!==void 0&&Ee,_e=X.isBreak,Ue=_e!==void 0&&_e,tt=X.isActive,ct=tt!==void 0&&tt;Q.preventDefault?Q.preventDefault():Q.returnValue=!1;var ut=W.state.selected,Ye=W.props.onClick,Et=te;if(Ye){var Ze=Ye({index:ne,selected:ut,nextSelectedPage:te,event:Q,isPrevious:Ne,isNext:Ie,isBreak:Ue,isActive:ct});if(Ze===!1)return;Number.isInteger(Ze)&&(Et=Ze)}Et!==void 0&&W.handlePageChange(Et)}),_(y(W),"handleBreakClick",function(Q,ne){var te=W.state.selected;W.handleClick(ne,Q,te<Q?W.getForwardJump():W.getBackwardJump(),{isBreak:!0})}),_(y(W),"callCallback",function(Q){W.props.onPageChange!==void 0&&typeof W.props.onPageChange=="function"&&W.props.onPageChange({selected:Q})}),_(y(W),"callActiveCallback",function(Q){W.props.onPageActive!==void 0&&typeof W.props.onPageActive=="function"&&W.props.onPageActive({selected:Q})}),_(y(W),"getElementPageRel",function(Q){var ne=W.state.selected,te=W.props,X=te.nextPageRel,be=te.prevPageRel,Ne=te.selectedPageRel;return ne-1===Q?be:ne===Q?Ne:ne+1===Q?X:void 0}),_(y(W),"pagination",function(){var Q=[],ne=W.props,te=ne.pageRangeDisplayed,X=ne.pageCount,be=ne.marginPagesDisplayed,Ne=ne.breakLabel,Ee=ne.breakClassName,Ie=ne.breakLinkClassName,_e=ne.breakAriaLabels,Ue=W.state.selected;if(X<=te)for(var tt=0;tt<X;tt++)Q.push(W.getPageElement(tt));else{var ct=te/2,ut=te-ct;Ue>X-te/2?ct=te-(ut=X-Ue):Ue<te/2&&(ut=te-(ct=Ue));var Ye,Et,Ze=function(vn){return W.getPageElement(vn)},zt=[];for(Ye=0;Ye<X;Ye++){var Cn=Ye+1;if(Cn<=be)zt.push({type:"page",index:Ye,display:Ze(Ye)});else if(Cn>X-be)zt.push({type:"page",index:Ye,display:Ze(Ye)});else if(Ye>=Ue-ct&&Ye<=Ue+(Ue===0&&te>1?ut-1:ut))zt.push({type:"page",index:Ye,display:Ze(Ye)});else if(Ne&&zt.length>0&&zt[zt.length-1].display!==Et&&(te>0||be>0)){var fn=Ye<Ue?_e.backward:_e.forward;Et=u().createElement(S,{key:Ye,breakAriaLabel:fn,breakLabel:Ne,breakClassName:Ee,breakLinkClassName:Ie,breakHandler:W.handleBreakClick.bind(null,Ye),getEventListener:W.getEventListener}),zt.push({type:"break",index:Ye,display:Et})}}zt.forEach(function(vn,dr){var sr=vn;vn.type==="break"&&zt[dr-1]&&zt[dr-1].type==="page"&&zt[dr+1]&&zt[dr+1].type==="page"&&zt[dr+1].index-zt[dr-1].index<=2&&(sr={type:"page",index:vn.index,display:Ze(vn.index)}),Q.push(sr.display)})}return Q}),ie.initialPage!==void 0&&ie.forcePage!==void 0&&console.warn("(react-paginate): Both initialPage (".concat(ie.initialPage,") and forcePage (").concat(ie.forcePage,") props are provided, which is discouraged.")+` Use exclusively forcePage prop for a controlled component.
See https://reactjs.org/docs/forms.html#controlled-components`),ve=ie.initialPage?ie.initialPage:ie.forcePage?ie.forcePage:0,W.state={selected:ve},W}return P=me,(K=[{key:"componentDidMount",value:function(){var ie=this.props,W=ie.initialPage,ve=ie.disableInitialCallback,Q=ie.extraAriaContext,ne=ie.pageCount,te=ie.forcePage;W===void 0||ve||this.callCallback(W),Q&&console.warn("DEPRECATED (react-paginate): The extraAriaContext prop is deprecated. You should now use the ariaLabelBuilder instead."),Number.isInteger(ne)||console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(ne,"). Did you forget a Math.ceil()?")),W!==void 0&&W>ne-1&&console.warn("(react-paginate): The initialPage prop provided is greater than the maximum page index from pageCount prop (".concat(W," > ").concat(ne-1,").")),te!==void 0&&te>ne-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(te," > ").concat(ne-1,")."))}},{key:"componentDidUpdate",value:function(ie){this.props.forcePage!==void 0&&this.props.forcePage!==ie.forcePage&&(this.props.forcePage>this.props.pageCount-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(this.props.forcePage," > ").concat(this.props.pageCount-1,").")),this.setState({selected:this.props.forcePage})),Number.isInteger(ie.pageCount)&&!Number.isInteger(this.props.pageCount)&&console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(this.props.pageCount,"). Did you forget a Math.ceil()?"))}},{key:"getForwardJump",value:function(){var ie=this.state.selected,W=this.props,ve=W.pageCount,Q=ie+W.pageRangeDisplayed;return Q>=ve?ve-1:Q}},{key:"getBackwardJump",value:function(){var ie=this.state.selected-this.props.pageRangeDisplayed;return ie<0?0:ie}},{key:"getElementHref",value:function(ie){var W=this.props,ve=W.hrefBuilder,Q=W.pageCount,ne=W.hrefAllControls;if(ve)return ne||ie>=0&&ie<Q?ve(ie+1,Q,this.state.selected):void 0}},{key:"ariaLabelBuilder",value:function(ie){var W=ie===this.state.selected;if(this.props.ariaLabelBuilder&&ie>=0&&ie<this.props.pageCount){var ve=this.props.ariaLabelBuilder(ie+1,W);return this.props.extraAriaContext&&!W&&(ve=ve+" "+this.props.extraAriaContext),ve}}},{key:"getPageElement",value:function(ie){var W=this.state.selected,ve=this.props,Q=ve.pageClassName,ne=ve.pageLinkClassName,te=ve.activeClassName,X=ve.activeLinkClassName,be=ve.extraAriaContext,Ne=ve.pageLabelBuilder;return u().createElement(v,{key:ie,pageSelectedHandler:this.handlePageSelected.bind(null,ie),selected:W===ie,rel:this.getElementPageRel(ie),pageClassName:Q,pageLinkClassName:ne,activeClassName:te,activeLinkClassName:X,extraAriaContext:be,href:this.getElementHref(ie),ariaLabel:this.ariaLabelBuilder(ie),page:ie+1,pageLabelBuilder:Ne,getEventListener:this.getEventListener})}},{key:"render",value:function(){var ie=this.props.renderOnZeroPageCount;if(this.props.pageCount===0&&ie!==void 0)return ie&&ie(this.props);var W=this.props,ve=W.disabledClassName,Q=W.disabledLinkClassName,ne=W.pageCount,te=W.className,X=W.containerClassName,be=W.previousLabel,Ne=W.previousClassName,Ee=W.previousLinkClassName,Ie=W.previousAriaLabel,_e=W.prevRel,Ue=W.nextLabel,tt=W.nextClassName,ct=W.nextLinkClassName,ut=W.nextAriaLabel,Ye=W.nextRel,Et=this.state.selected,Ze=Et===0,zt=Et===ne-1,Cn="".concat(C(Ne)).concat(Ze?" ".concat(C(ve)):""),fn="".concat(C(tt)).concat(zt?" ".concat(C(ve)):""),vn="".concat(C(Ee)).concat(Ze?" ".concat(C(Q)):""),dr="".concat(C(ct)).concat(zt?" ".concat(C(Q)):""),sr=Ze?"true":"false",We=zt?"true":"false";return u().createElement("ul",{className:te||X,role:"navigation","aria-label":"Pagination"},u().createElement("li",{className:Cn},u().createElement("a",I({className:vn,href:this.getElementHref(Et-1),tabIndex:Ze?"-1":"0",role:"button",onKeyPress:this.handlePreviousPage,"aria-disabled":sr,"aria-label":Ie,rel:_e},this.getEventListener(this.handlePreviousPage)),be)),this.pagination(),u().createElement("li",{className:fn},u().createElement("a",I({className:dr,href:this.getElementHref(Et+1),tabIndex:zt?"-1":"0",role:"button",onKeyPress:this.handleNextPage,"aria-disabled":We,"aria-label":ut,rel:Ye},this.getEventListener(this.handleNextPage)),Ue)))}}])&&D(P.prototype,K),Object.defineProperty(P,"prototype",{writable:!1}),me}(l.Component);_(L,"propTypes",{pageCount:f().number.isRequired,pageRangeDisplayed:f().number,marginPagesDisplayed:f().number,previousLabel:f().node,previousAriaLabel:f().string,prevPageRel:f().string,prevRel:f().string,nextLabel:f().node,nextAriaLabel:f().string,nextPageRel:f().string,nextRel:f().string,breakLabel:f().oneOfType([f().string,f().node]),breakAriaLabels:f().shape({forward:f().string,backward:f().string}),hrefBuilder:f().func,hrefAllControls:f().bool,onPageChange:f().func,onPageActive:f().func,onClick:f().func,initialPage:f().number,forcePage:f().number,disableInitialCallback:f().bool,containerClassName:f().string,className:f().string,pageClassName:f().string,pageLinkClassName:f().string,pageLabelBuilder:f().func,activeClassName:f().string,activeLinkClassName:f().string,previousClassName:f().string,nextClassName:f().string,previousLinkClassName:f().string,nextLinkClassName:f().string,disabledClassName:f().string,disabledLinkClassName:f().string,breakClassName:f().string,breakLinkClassName:f().string,extraAriaContext:f().string,ariaLabelBuilder:f().func,eventListener:f().string,renderOnZeroPageCount:f().func,selectedPageRel:f().string}),_(L,"defaultProps",{pageRangeDisplayed:2,marginPagesDisplayed:3,activeClassName:"selected",previousLabel:"Previous",previousClassName:"previous",previousAriaLabel:"Previous page",prevPageRel:"prev",prevRel:"prev",nextLabel:"Next",nextClassName:"next",nextAriaLabel:"Next page",nextPageRel:"next",nextRel:"next",breakLabel:"...",breakAriaLabels:{forward:"Jump forward",backward:"Jump backward"},disabledClassName:"disabled",disableInitialCallback:!1,pageLabelBuilder:function(U){return U},eventListener:"onClick",renderOnZeroPageCount:void 0,selectedPageRel:"canonical",hrefAllControls:!1});const R=L})(),o})())}(h1)),h1.exports}var Dje=Pje();const Mr=rc(Dje);/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var lb={};lb.version="0.18.5";var KH=1252,Mje=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],YH=function(t){Mje.indexOf(t)!=-1&&(KH=t)};function Fje(){YH(1252)}var K0=function(t){YH(t)};function Bje(){K0(1200),Fje()}var Ox=function(e){return String.fromCharCode(e)},CM=function(e){return String.fromCharCode(e)},NM,Xu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Y0(t){for(var e="",n=0,r=0,s=0,i=0,o=0,l=0,u=0,h=0;h<t.length;)n=t.charCodeAt(h++),i=n>>2,r=t.charCodeAt(h++),o=(n&3)<<4|r>>4,s=t.charCodeAt(h++),l=(r&15)<<2|s>>6,u=s&63,isNaN(r)?l=u=64:isNaN(s)&&(u=64),e+=Xu.charAt(i)+Xu.charAt(o)+Xu.charAt(l)+Xu.charAt(u);return e}function eu(t){var e="",n=0,r=0,s=0,i=0,o=0,l=0,u=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var h=0;h<t.length;)i=Xu.indexOf(t.charAt(h++)),o=Xu.indexOf(t.charAt(h++)),n=i<<2|o>>4,e+=String.fromCharCode(n),l=Xu.indexOf(t.charAt(h++)),r=(o&15)<<4|l>>2,l!==64&&(e+=String.fromCharCode(r)),u=Xu.indexOf(t.charAt(h++)),s=(l&3)<<6|u,u!==64&&(e+=String.fromCharCode(s));return e}var Zn=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),cu=function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,n){return n?new Buffer(e,n):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function Ah(t){return Zn?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function TM(t){return Zn?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var rl=function(e){return Zn?cu(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)&255})};function zw(t){if(typeof ArrayBuffer>"u")return rl(t);for(var e=new ArrayBuffer(t.length),n=new Uint8Array(e),r=0;r!=t.length;++r)n[r]=t.charCodeAt(r)&255;return e}function Hv(t){if(Array.isArray(t))return t.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],n=0;n<t.length;++n)e[n]=String.fromCharCode(t[n]);return e.join("")}function Uje(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var xa=Zn?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:cu(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,n=0;for(e=0;e<t.length;++e)n+=t[e].length;var r=new Uint8Array(n),s=0;for(e=0,n=0;e<t.length;n+=s,++e)if(s=t[e].length,t[e]instanceof Uint8Array)r.set(t[e],n);else{if(typeof t[e]=="string")throw"wtf";r.set(new Uint8Array(t[e]),n)}return r}return[].concat.apply([],t.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function zje(t){for(var e=[],n=0,r=t.length+250,s=Ah(t.length+255),i=0;i<t.length;++i){var o=t.charCodeAt(i);if(o<128)s[n++]=o;else if(o<2048)s[n++]=192|o>>6&31,s[n++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=t.charCodeAt(++i)&1023;s[n++]=240|o>>8&7,s[n++]=128|o>>2&63,s[n++]=128|l>>6&15|(o&3)<<4,s[n++]=128|l&63}else s[n++]=224|o>>12&15,s[n++]=128|o>>6&63,s[n++]=128|o&63;n>r&&(e.push(s.slice(0,n)),n=0,s=Ah(65535),r=65530)}return e.push(s.slice(0,n)),xa(e)}var l0=/\u0000/g,Ix=/[\u0001-\u0006]/g;function Im(t){for(var e="",n=t.length-1;n>=0;)e+=t.charAt(n--);return e}function sl(t,e){var n=""+t;return n.length>=e?n:cs("0",e-n.length)+n}function jL(t,e){var n=""+t;return n.length>=e?n:cs(" ",e-n.length)+n}function cb(t,e){var n=""+t;return n.length>=e?n:n+cs(" ",e-n.length)}function qje(t,e){var n=""+Math.round(t);return n.length>=e?n:cs("0",e-n.length)+n}function $je(t,e){var n=""+t;return n.length>=e?n:cs("0",e-n.length)+n}var AM=Math.pow(2,32);function em(t,e){if(t>AM||t<-AM)return qje(t,e);var n=Math.round(t);return $je(n,e)}function ub(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var LM=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],AS=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Vje(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var us={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},RM={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Hje={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function db(t,e,n){for(var r=t<0?-1:1,s=t*r,i=0,o=1,l=0,u=1,h=0,f=0,g=Math.floor(s);h<e&&(g=Math.floor(s),l=g*o+i,f=g*h+u,!(s-g<5e-8));)s=1/(s-g),i=o,o=l,u=h,h=f;if(f>e&&(h>e?(f=u,l=i):(f=h,l=o)),!n)return[0,r*l,f];var p=Math.floor(r*l/f);return[p,r*l-p*f,f]}function Px(t,e,n){if(t>2958465||t<0)return null;var r=t|0,s=Math.floor(86400*(t-r)),i=0,o=[],l={D:r,T:s,u:86400*(t-r)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),e&&e.date1904&&(r+=1462),l.u>.9999&&(l.u=0,++s==86400&&(l.T=s=0,++r,++l.D)),r===60)o=n?[1317,10,29]:[1900,2,29],i=3;else if(r===0)o=n?[1317,8,29]:[1900,1,0],i=6;else{r>60&&--r;var u=new Date(1900,0,1);u.setDate(u.getDate()+r-1),o=[u.getFullYear(),u.getMonth()+1,u.getDate()],i=u.getDay(),r<60&&(i=(i+6)%7),n&&(i=Qje(u,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=s%60,s=Math.floor(s/60),l.M=s%60,s=Math.floor(s/60),l.H=s,l.q=i,l}var XH=new Date(1899,11,31,0,0,0),Gje=XH.getTime(),Wje=new Date(1900,2,1,0,0,0);function JH(t,e){var n=t.getTime();return e?n-=1461*24*60*60*1e3:t>=Wje&&(n+=24*60*60*1e3),(n-(Gje+(t.getTimezoneOffset()-XH.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function EL(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Kje(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Yje(t){var e=t<0?12:11,n=EL(t.toFixed(12));return n.length<=e||(n=t.toPrecision(10),n.length<=e)?n:t.toExponential(5)}function Xje(t){var e=EL(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function Jje(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),n;return e>=-4&&e<=-1?n=t.toPrecision(10+e):Math.abs(e)<=9?n=Yje(t):e===10?n=t.toFixed(10).substr(0,12):n=Xje(t),EL(Kje(n.toUpperCase()))}function dT(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):Jje(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return yd(14,JH(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function Qje(t,e){e[0]-=581;var n=t.getDay();return t<60&&(n=(n+6)%7),n}function Zje(t,e,n,r){var s="",i=0,o=0,l=n.y,u,h=0;switch(t){case 98:l=n.y+543;case 121:switch(e.length){case 1:case 2:u=l%100,h=2;break;default:u=l%1e4,h=4;break}break;case 109:switch(e.length){case 1:case 2:u=n.m,h=e.length;break;case 3:return AS[n.m-1][1];case 5:return AS[n.m-1][0];default:return AS[n.m-1][2]}break;case 100:switch(e.length){case 1:case 2:u=n.d,h=e.length;break;case 3:return LM[n.q][0];default:return LM[n.q][1]}break;case 104:switch(e.length){case 1:case 2:u=1+(n.H+11)%12,h=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:u=n.H,h=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:u=n.M,h=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return n.u===0&&(e=="s"||e=="ss")?sl(n.S,e.length):(r>=2?o=r===3?1e3:100:o=r===1?10:1,i=Math.round(o*(n.S+n.u)),i>=60*o&&(i=0),e==="s"?i===0?"0":""+i/o:(s=sl(i,2+r),e==="ss"?s.substr(0,2):"."+s.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":u=n.D*24+n.H;break;case"[m]":case"[mm]":u=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":u=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+e}h=e.length===3?1:2;break;case 101:u=l,h=1;break}var f=h>0?sl(u,h):"";return f}function Ju(t){var e=3;if(t.length<=e)return t;for(var n=t.length%e,r=t.substr(0,n);n!=t.length;n+=e)r+=(r.length>0?",":"")+t.substr(n,e);return r}var QH=/%/g;function eEe(t,e,n){var r=e.replace(QH,""),s=e.length-r.length;return Uc(t,r,n*Math.pow(10,2*s))+cs("%",s)}function tEe(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return Uc(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function ZH(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+ZH(t,-e);var s=t.indexOf(".");s===-1&&(s=t.indexOf("E"));var i=Math.floor(Math.log(e)*Math.LOG10E)%s;if(i<0&&(i+=s),n=(e/Math.pow(10,i)).toPrecision(r+1+(s+i)%s),n.indexOf("e")===-1){var o=Math.floor(Math.log(e)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+i):n+="E+"+(o-i);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,s)+"."+n.substr(2+s),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,u,h,f){return u+h+f.substr(0,(s+i)%s)+"."+f.substr(i)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var eG=/# (\?+)( ?)\/( ?)(\d+)/;function nEe(t,e,n){var r=parseInt(t[4],10),s=Math.round(e*r),i=Math.floor(s/r),o=s-i*r,l=r;return n+(i===0?"":""+i)+" "+(o===0?cs(" ",t[1].length+1+t[4].length):jL(o,t[1].length)+t[2]+"/"+t[3]+sl(l,t[4].length))}function rEe(t,e,n){return n+(e===0?"":""+e)+cs(" ",t[1].length+2+t[4].length)}var tG=/^#*0*\.([0#]+)/,nG=/\).*[0#]/,rG=/\(###\) ###\\?-####/;function ei(t){for(var e="",n,r=0;r!=t.length;++r)switch(n=t.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(n)}return e}function kM(t,e){var n=Math.pow(10,e);return""+Math.round(t*n)/n}function OM(t,e){var n=t-Math.floor(t),r=Math.pow(10,e);return e<(""+Math.round(n*r)).length?0:Math.round(n*r)}function sEe(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function aEe(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function xo(t,e,n){if(t.charCodeAt(0)===40&&!e.match(nG)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?xo("n",r,n):"("+xo("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return tEe(t,e,n);if(e.indexOf("%")!==-1)return eEe(t,e,n);if(e.indexOf("E")!==-1)return ZH(e,n);if(e.charCodeAt(0)===36)return"$"+xo(t,e.substr(e.charAt(1)==" "?2:1),n);var s,i,o,l,u=Math.abs(n),h=n<0?"-":"";if(e.match(/^00+$/))return h+em(u,e.length);if(e.match(/^[#?]+$/))return s=em(n,0),s==="0"&&(s=""),s.length>e.length?s:ei(e.substr(0,e.length-s.length))+s;if(i=e.match(eG))return nEe(i,u,h);if(e.match(/^#+0+$/))return h+em(u,e.length-e.indexOf("0"));if(i=e.match(tG))return s=kM(n,i[1].length).replace(/^([^\.]+)$/,"$1."+ei(i[1])).replace(/\.$/,"."+ei(i[1])).replace(/\.(\d*)$/,function(w,E){return"."+E+cs("0",ei(i[1]).length-E.length)}),e.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),i=e.match(/^(0*)\.(#*)$/))return h+kM(u,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=e.match(/^#{1,3},##0(\.?)$/))return h+Ju(em(u,0));if(i=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+xo(t,e,-n):Ju(""+(Math.floor(n)+sEe(n,i[1].length)))+"."+sl(OM(n,i[1].length),i[1].length);if(i=e.match(/^#,#*,#0/))return xo(t,e.replace(/^#,#*,/,""),n);if(i=e.match(/^([0#]+)(\\?-([0#]+))+$/))return s=Im(xo(t,e.replace(/[\\-]/g,""),n)),o=0,Im(Im(e.replace(/\\/g,"")).replace(/[0#]/g,function(w){return o<s.length?s.charAt(o++):w==="0"?"0":""}));if(e.match(rG))return s=xo(t,"##########",n),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var f="";if(i=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=db(u,Math.pow(10,o)-1,!1),s=""+h,f=Uc("n",i[1],l[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),s+=f+i[2]+"/"+i[3],f=cb(l[2],o),f.length<i[4].length&&(f=ei(i[4].substr(i[4].length-f.length))+f),s+=f,s;if(i=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=db(u,Math.pow(10,o)-1,!0),h+(l[0]||(l[1]?"":"0"))+" "+(l[1]?jL(l[1],o)+i[2]+"/"+i[3]+cb(l[2],o):cs(" ",2*o+1+i[2].length+i[3].length));if(i=e.match(/^[#0?]+$/))return s=em(n,0),e.length<=s.length?s:ei(e.substr(0,e.length-s.length))+s;if(i=e.match(/^([#0?]+)\.([#0]+)$/)){s=""+n.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=s.indexOf(".");var g=e.indexOf(".")-o,p=e.length-s.length-g;return ei(e.substr(0,g)+s+e.substr(e.length-p))}if(i=e.match(/^00,000\.([#0]*0)$/))return o=OM(n,i[1].length),n<0?"-"+xo(t,e,-n):Ju(aEe(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(w){return"00,"+(w.length<3?sl(0,3-w.length):"")+w})+"."+sl(o,i[1].length);switch(e){case"###,##0.00":return xo(t,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var v=Ju(em(u,0));return v!=="0"?h+v:"";case"###,###.00":return xo(t,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return xo(t,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function iEe(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return Uc(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function oEe(t,e,n){var r=e.replace(QH,""),s=e.length-r.length;return Uc(t,r,n*Math.pow(10,2*s))+cs("%",s)}function sG(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+sG(t,-e);var s=t.indexOf(".");s===-1&&(s=t.indexOf("E"));var i=Math.floor(Math.log(e)*Math.LOG10E)%s;if(i<0&&(i+=s),n=(e/Math.pow(10,i)).toPrecision(r+1+(s+i)%s),!n.match(/[Ee]/)){var o=Math.floor(Math.log(e)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+i):n+="E+"+(o-i),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,u,h,f){return u+h+f.substr(0,(s+i)%s)+"."+f.substr(i)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function Al(t,e,n){if(t.charCodeAt(0)===40&&!e.match(nG)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Al("n",r,n):"("+Al("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return iEe(t,e,n);if(e.indexOf("%")!==-1)return oEe(t,e,n);if(e.indexOf("E")!==-1)return sG(e,n);if(e.charCodeAt(0)===36)return"$"+Al(t,e.substr(e.charAt(1)==" "?2:1),n);var s,i,o,l,u=Math.abs(n),h=n<0?"-":"";if(e.match(/^00+$/))return h+sl(u,e.length);if(e.match(/^[#?]+$/))return s=""+n,n===0&&(s=""),s.length>e.length?s:ei(e.substr(0,e.length-s.length))+s;if(i=e.match(eG))return rEe(i,u,h);if(e.match(/^#+0+$/))return h+sl(u,e.length-e.indexOf("0"));if(i=e.match(tG))return s=(""+n).replace(/^([^\.]+)$/,"$1."+ei(i[1])).replace(/\.$/,"."+ei(i[1])),s=s.replace(/\.(\d*)$/,function(w,E){return"."+E+cs("0",ei(i[1]).length-E.length)}),e.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),i=e.match(/^(0*)\.(#*)$/))return h+(""+u).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=e.match(/^#{1,3},##0(\.?)$/))return h+Ju(""+u);if(i=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Al(t,e,-n):Ju(""+n)+"."+cs("0",i[1].length);if(i=e.match(/^#,#*,#0/))return Al(t,e.replace(/^#,#*,/,""),n);if(i=e.match(/^([0#]+)(\\?-([0#]+))+$/))return s=Im(Al(t,e.replace(/[\\-]/g,""),n)),o=0,Im(Im(e.replace(/\\/g,"")).replace(/[0#]/g,function(w){return o<s.length?s.charAt(o++):w==="0"?"0":""}));if(e.match(rG))return s=Al(t,"##########",n),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var f="";if(i=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=db(u,Math.pow(10,o)-1,!1),s=""+h,f=Uc("n",i[1],l[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),s+=f+i[2]+"/"+i[3],f=cb(l[2],o),f.length<i[4].length&&(f=ei(i[4].substr(i[4].length-f.length))+f),s+=f,s;if(i=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=db(u,Math.pow(10,o)-1,!0),h+(l[0]||(l[1]?"":"0"))+" "+(l[1]?jL(l[1],o)+i[2]+"/"+i[3]+cb(l[2],o):cs(" ",2*o+1+i[2].length+i[3].length));if(i=e.match(/^[#0?]+$/))return s=""+n,e.length<=s.length?s:ei(e.substr(0,e.length-s.length))+s;if(i=e.match(/^([#0]+)\.([#0]+)$/)){s=""+n.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=s.indexOf(".");var g=e.indexOf(".")-o,p=e.length-s.length-g;return ei(e.substr(0,g)+s+e.substr(e.length-p))}if(i=e.match(/^00,000\.([#0]*0)$/))return n<0?"-"+Al(t,e,-n):Ju(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(w){return"00,"+(w.length<3?sl(0,3-w.length):"")+w})+"."+sl(0,i[1].length);switch(e){case"###,###":case"##,###":case"#,###":var v=Ju(""+u);return v!=="0"?h+v:"";default:if(e.match(/\.[0#?]*$/))return Al(t,e.slice(0,e.lastIndexOf(".")),n)+ei(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Uc(t,e,n){return(n|0)===n?Al(t,e,n):xo(t,e,n)}function lEe(t){for(var e=[],n=!1,r=0,s=0;r<t.length;++r)switch(t.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=t.substr(s,r-s),s=r+1}if(e[e.length]=t.substr(s),n===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var aG=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function iG(t){for(var e=0,n="",r="";e<t.length;)switch(n=t.charAt(e)){case"G":ub(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(r=n;t.charAt(e++)!=="]"&&e<t.length;)r+=t.charAt(e);if(r.match(aG))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(n=t.charAt(++e))>-1||n=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===n;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function cEe(t,e,n,r){for(var s=[],i="",o=0,l="",u="t",h,f,g,p="H";o<t.length;)switch(l=t.charAt(o)){case"G":if(!ub(t,o))throw new Error("unrecognized character "+l+" in "+t);s[s.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(g=t.charCodeAt(++o))!==34&&o<t.length;)i+=String.fromCharCode(g);s[s.length]={t:"t",v:i},++o;break;case"\\":var v=t.charAt(++o),w=v==="("||v===")"?v:"t";s[s.length]={t:w,v},++o;break;case"_":s[s.length]={t:"t",v:" "},o+=2;break;case"@":s[s.length]={t:"T",v:e},++o;break;case"B":case"b":if(t.charAt(o+1)==="1"||t.charAt(o+1)==="2"){if(h==null&&(h=Px(e,n,t.charAt(o+1)==="2"),h==null))return"";s[s.length]={t:"X",v:t.substr(o,2)},u=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||h==null&&(h=Px(e,n),h==null))return"";for(i=l;++o<t.length&&t.charAt(o).toLowerCase()===l;)i+=l;l==="m"&&u.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=p),s[s.length]={t:l,v:i},u=l;break;case"A":case"a":case"":var E={t:l,v:l};if(h==null&&(h=Px(e,n)),t.substr(o,3).toUpperCase()==="A/P"?(h!=null&&(E.v=h.H>=12?"P":"A"),E.t="T",p="h",o+=3):t.substr(o,5).toUpperCase()==="AM/PM"?(h!=null&&(E.v=h.H>=12?"PM":"AM"),E.t="T",o+=5,p="h"):t.substr(o,5).toUpperCase()==="/"?(h!=null&&(E.v=h.H>=12?"":""),E.t="T",o+=5,p="h"):(E.t="t",++o),h==null&&E.t==="T")return"";s[s.length]=E,u=l;break;case"[":for(i=l;t.charAt(o++)!=="]"&&o<t.length;)i+=t.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(aG)){if(h==null&&(h=Px(e,n),h==null))return"";s[s.length]={t:"Z",v:i.toLowerCase()},u=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",iG(t)||(s[s.length]={t:"t",v:i}));break;case".":if(h!=null){for(i=l;++o<t.length&&(l=t.charAt(o))==="0";)i+=l;s[s.length]={t:"s",v:i};break}case"0":case"#":for(i=l;++o<t.length&&"0#?.,E+-%".indexOf(l=t.charAt(o))>-1;)i+=l;s[s.length]={t:"n",v:i};break;case"?":for(i=l;t.charAt(++o)===l;)i+=l;s[s.length]={t:l,v:i},u=l;break;case"*":++o,(t.charAt(o)==" "||t.charAt(o)=="*")&&++o;break;case"(":case")":s[s.length]={t:r===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=l;o<t.length&&"0123456789".indexOf(t.charAt(++o))>-1;)i+=t.charAt(o);s[s.length]={t:"D",v:i};break;case" ":s[s.length]={t:l,v:l},++o;break;case"$":s[s.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+t);s[s.length]={t:"t",v:l},++o;break}var S=0,C=0,O;for(o=s.length-1,u="t";o>=0;--o)switch(s[o].t){case"h":case"H":s[o].t=p,u="h",S<1&&(S=1);break;case"s":(O=s[o].v.match(/\.0+$/))&&(C=Math.max(C,O[0].length-1)),S<3&&(S=3);case"d":case"y":case"M":case"e":u=s[o].t;break;case"m":u==="s"&&(s[o].t="M",S<2&&(S=2));break;case"X":break;case"Z":S<1&&s[o].v.match(/[Hh]/)&&(S=1),S<2&&s[o].v.match(/[Mm]/)&&(S=2),S<3&&s[o].v.match(/[Ss]/)&&(S=3)}switch(S){case 0:break;case 1:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M),h.M>=60&&(h.M=0,++h.H);break;case 2:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M);break}var I="",D;for(o=0;o<s.length;++o)switch(s[o].t){case"t":case"T":case" ":case"D":break;case"X":s[o].v="",s[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[o].v=Zje(s[o].t.charCodeAt(0),s[o].v,h,C),s[o].t="t";break;case"n":case"?":for(D=o+1;s[D]!=null&&((l=s[D].t)==="?"||l==="D"||(l===" "||l==="t")&&s[D+1]!=null&&(s[D+1].t==="?"||s[D+1].t==="t"&&s[D+1].v==="/")||s[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(s[D].v==="/"||s[D].v===" "&&s[D+1]!=null&&s[D+1].t=="?"));)s[o].v+=s[D].v,s[D]={v:"",t:";"},++D;I+=s[o].v,o=D-1;break;case"G":s[o].t="t",s[o].v=dT(e,n);break}var T="",F,y;if(I.length>0){I.charCodeAt(0)==40?(F=e<0&&I.charCodeAt(0)===45?-e:e,y=Uc("n",I,F)):(F=e<0&&r>1?-e:e,y=Uc("n",I,F),F<0&&s[0]&&s[0].t=="t"&&(y=y.substr(1),s[0].v="-"+s[0].v)),D=y.length-1;var A=s.length;for(o=0;o<s.length;++o)if(s[o]!=null&&s[o].t!="t"&&s[o].v.indexOf(".")>-1){A=o;break}var _=s.length;if(A===s.length&&y.indexOf("E")===-1){for(o=s.length-1;o>=0;--o)s[o]==null||"n?".indexOf(s[o].t)===-1||(D>=s[o].v.length-1?(D-=s[o].v.length,s[o].v=y.substr(D+1,s[o].v.length)):D<0?s[o].v="":(s[o].v=y.substr(0,D+1),D=-1),s[o].t="t",_=o);D>=0&&_<s.length&&(s[_].v=y.substr(0,D+1)+s[_].v)}else if(A!==s.length&&y.indexOf("E")===-1){for(D=y.indexOf(".")-1,o=A;o>=0;--o)if(!(s[o]==null||"n?".indexOf(s[o].t)===-1)){for(f=s[o].v.indexOf(".")>-1&&o===A?s[o].v.indexOf(".")-1:s[o].v.length-1,T=s[o].v.substr(f+1);f>=0;--f)D>=0&&(s[o].v.charAt(f)==="0"||s[o].v.charAt(f)==="#")&&(T=y.charAt(D--)+T);s[o].v=T,s[o].t="t",_=o}for(D>=0&&_<s.length&&(s[_].v=y.substr(0,D+1)+s[_].v),D=y.indexOf(".")+1,o=A;o<s.length;++o)if(!(s[o]==null||"n?(".indexOf(s[o].t)===-1&&o!==A)){for(f=s[o].v.indexOf(".")>-1&&o===A?s[o].v.indexOf(".")+1:0,T=s[o].v.substr(0,f);f<s[o].v.length;++f)D<y.length&&(T+=y.charAt(D++));s[o].v=T,s[o].t="t",_=o}}}for(o=0;o<s.length;++o)s[o]!=null&&"n?".indexOf(s[o].t)>-1&&(F=r>1&&e<0&&o>0&&s[o-1].v==="-"?-e:e,s[o].v=Uc(s[o].t,s[o].v,F),s[o].t="t");var L="";for(o=0;o!==s.length;++o)s[o]!=null&&(L+=s[o].v);return L}var IM=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function PM(t,e){if(e==null)return!1;var n=parseFloat(e[2]);switch(e[1]){case"=":if(t==n)return!0;break;case">":if(t>n)return!0;break;case"<":if(t<n)return!0;break;case"<>":if(t!=n)return!0;break;case">=":if(t>=n)return!0;break;case"<=":if(t<=n)return!0;break}return!1}function uEe(t,e){var n=lEe(t),r=n.length,s=n[r-1].indexOf("@");if(r<4&&s>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof e!="number")return[4,n.length===4||s>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=s>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=s>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=s>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var i=e>0?n[0]:e<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,i];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var o=n[0].match(IM),l=n[1].match(IM);return PM(e,o)?[r,n[0]]:PM(e,l)?[r,n[1]]:[r,n[o!=null&&l!=null?2:1]]}return[r,i]}function yd(t,e,n){n==null&&(n={});var r="";switch(typeof t){case"string":t=="m/d/yy"&&n.dateNF?r=n.dateNF:r=t;break;case"number":t==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:us)[t],r==null&&(r=n.table&&n.table[RM[t]]||us[RM[t]]),r==null&&(r=Hje[t]||"General");break}if(ub(r,0))return dT(e,n);e instanceof Date&&(e=JH(e,n.date1904));var s=uEe(r,e);if(ub(s[1]))return dT(e,n);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return cEe(s[1],e,n,s[0])}function oG(t,e){if(typeof e!="number"){e=+e||-1;for(var n=0;n<392;++n){if(us[n]==null){e<0&&(e=n);continue}if(us[n]==t){e=n;break}}e<0&&(e=391)}return us[e]=t,e}function qw(t){for(var e=0;e!=392;++e)t[e]!==void 0&&oG(t[e],e)}function $w(){us=Vje()}var lG=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function dEe(t){var e=typeof t=="number"?us[t]:t;return e=e.replace(lG,"(\\d+)"),new RegExp("^"+e+"$")}function hEe(t,e,n){var r=-1,s=-1,i=-1,o=-1,l=-1,u=-1;(e.match(lG)||[]).forEach(function(g,p){var v=parseInt(n[p+1],10);switch(g.toLowerCase().charAt(0)){case"y":r=v;break;case"d":i=v;break;case"h":o=v;break;case"s":u=v;break;case"m":o>=0?l=v:s=v;break}}),u>=0&&l==-1&&s>=0&&(l=s,s=-1);var h=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);h.length==7&&(h="0"+h),h.length==8&&(h="20"+h);var f=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2);return o==-1&&l==-1&&u==-1?h:r==-1&&s==-1&&i==-1?f:h+"T"+f}var fEe=function(){var t={};t.version="1.2.0";function e(){for(var y=0,A=new Array(256),_=0;_!=256;++_)y=_,y=y&1?-306674912^y>>>1:y>>>1,y=y&1?-306674912^y>>>1:y>>>1,y=y&1?-306674912^y>>>1:y>>>1,y=y&1?-306674912^y>>>1:y>>>1,y=y&1?-306674912^y>>>1:y>>>1,y=y&1?-306674912^y>>>1:y>>>1,y=y&1?-306674912^y>>>1:y>>>1,y=y&1?-306674912^y>>>1:y>>>1,A[_]=y;return typeof Int32Array<"u"?new Int32Array(A):A}var n=e();function r(y){var A=0,_=0,L=0,R=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(L=0;L!=256;++L)R[L]=y[L];for(L=0;L!=256;++L)for(_=y[L],A=256+L;A<4096;A+=256)_=R[A]=_>>>8^y[_&255];var U=[];for(L=1;L!=16;++L)U[L-1]=typeof Int32Array<"u"?R.subarray(L*256,L*256+256):R.slice(L*256,L*256+256);return U}var s=r(n),i=s[0],o=s[1],l=s[2],u=s[3],h=s[4],f=s[5],g=s[6],p=s[7],v=s[8],w=s[9],E=s[10],S=s[11],C=s[12],O=s[13],I=s[14];function D(y,A){for(var _=A^-1,L=0,R=y.length;L<R;)_=_>>>8^n[(_^y.charCodeAt(L++))&255];return~_}function T(y,A){for(var _=A^-1,L=y.length-15,R=0;R<L;)_=I[y[R++]^_&255]^O[y[R++]^_>>8&255]^C[y[R++]^_>>16&255]^S[y[R++]^_>>>24]^E[y[R++]]^w[y[R++]]^v[y[R++]]^p[y[R++]]^g[y[R++]]^f[y[R++]]^h[y[R++]]^u[y[R++]]^l[y[R++]]^o[y[R++]]^i[y[R++]]^n[y[R++]];for(L+=15;R<L;)_=_>>>8^n[(_^y[R++])&255];return~_}function F(y,A){for(var _=A^-1,L=0,R=y.length,U=0,P=0;L<R;)U=y.charCodeAt(L++),U<128?_=_>>>8^n[(_^U)&255]:U<2048?(_=_>>>8^n[(_^(192|U>>6&31))&255],_=_>>>8^n[(_^(128|U&63))&255]):U>=55296&&U<57344?(U=(U&1023)+64,P=y.charCodeAt(L++)&1023,_=_>>>8^n[(_^(240|U>>8&7))&255],_=_>>>8^n[(_^(128|U>>2&63))&255],_=_>>>8^n[(_^(128|P>>6&15|(U&3)<<4))&255],_=_>>>8^n[(_^(128|P&63))&255]):(_=_>>>8^n[(_^(224|U>>12&15))&255],_=_>>>8^n[(_^(128|U>>6&63))&255],_=_>>>8^n[(_^(128|U&63))&255]);return~_}return t.table=n,t.bstr=D,t.buf=T,t.str=F,t}(),mr=function(){var e={};e.version="1.2.1";function n(ee,de){for(var le=ee.split("/"),ue=de.split("/"),he=0,fe=0,Ce=Math.min(le.length,ue.length);he<Ce;++he){if(fe=le[he].length-ue[he].length)return fe;if(le[he]!=ue[he])return le[he]<ue[he]?-1:1}return le.length-ue.length}function r(ee){if(ee.charAt(ee.length-1)=="/")return ee.slice(0,-1).indexOf("/")===-1?ee:r(ee.slice(0,-1));var de=ee.lastIndexOf("/");return de===-1?ee:ee.slice(0,de+1)}function s(ee){if(ee.charAt(ee.length-1)=="/")return s(ee.slice(0,-1));var de=ee.lastIndexOf("/");return de===-1?ee:ee.slice(de+1)}function i(ee,de){typeof de=="string"&&(de=new Date(de));var le=de.getHours();le=le<<6|de.getMinutes(),le=le<<5|de.getSeconds()>>>1,ee.write_shift(2,le);var ue=de.getFullYear()-1980;ue=ue<<4|de.getMonth()+1,ue=ue<<5|de.getDate(),ee.write_shift(2,ue)}function o(ee){var de=ee.read_shift(2)&65535,le=ee.read_shift(2)&65535,ue=new Date,he=le&31;le>>>=5;var fe=le&15;le>>>=4,ue.setMilliseconds(0),ue.setFullYear(le+1980),ue.setMonth(fe-1),ue.setDate(he);var Ce=de&31;de>>>=5;var Me=de&63;return de>>>=6,ue.setHours(de),ue.setMinutes(Me),ue.setSeconds(Ce<<1),ue}function l(ee){Fi(ee,0);for(var de={},le=0;ee.l<=ee.length-4;){var ue=ee.read_shift(2),he=ee.read_shift(2),fe=ee.l+he,Ce={};switch(ue){case 21589:le=ee.read_shift(1),le&1&&(Ce.mtime=ee.read_shift(4)),he>5&&(le&2&&(Ce.atime=ee.read_shift(4)),le&4&&(Ce.ctime=ee.read_shift(4))),Ce.mtime&&(Ce.mt=new Date(Ce.mtime*1e3));break}ee.l=fe,de[ue]=Ce}return de}var u;function h(){return u||(u={})}function f(ee,de){if(ee[0]==80&&ee[1]==75)return sa(ee,de);if((ee[0]|32)==109&&(ee[1]|32)==105)return Ha(ee,de);if(ee.length<512)throw new Error("CFB file size "+ee.length+" < 512");var le=3,ue=512,he=0,fe=0,Ce=0,Me=0,Le=0,Re=[],Oe=ee.slice(0,512);Fi(Oe,0);var Qe=g(Oe);switch(le=Qe[0],le){case 3:ue=512;break;case 4:ue=4096;break;case 0:if(Qe[1]==0)return sa(ee,de);default:throw new Error("Major Version: Expected 3 or 4 saw "+le)}ue!==512&&(Oe=ee.slice(0,ue),Fi(Oe,28));var nt=ee.slice(0,ue);p(Oe,le);var mt=Oe.read_shift(4,"i");if(le===3&&mt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+mt);Oe.l+=4,Ce=Oe.read_shift(4,"i"),Oe.l+=4,Oe.chk("00100000","Mini Stream Cutoff Size: "),Me=Oe.read_shift(4,"i"),he=Oe.read_shift(4,"i"),Le=Oe.read_shift(4,"i"),fe=Oe.read_shift(4,"i");for(var st=-1,at=0;at<109&&(st=Oe.read_shift(4,"i"),!(st<0));++at)Re[at]=st;var Ut=v(ee,ue);S(Le,fe,Ut,ue,Re);var Dn=O(Ut,Ce,Re,ue);Dn[Ce].name="!Directory",he>0&&Me!==P&&(Dn[Me].name="!MiniFAT"),Dn[Re[0]].name="!FAT",Dn.fat_addrs=Re,Dn.ssz=ue;var ln={},An=[],xr=[],_s=[];I(Ce,Dn,Ut,An,he,ln,xr,Me),w(xr,_s,An),An.shift();var ia={FileIndex:xr,FullPaths:_s};return de&&de.raw&&(ia.raw={header:nt,sectors:Ut}),ia}function g(ee){if(ee[ee.l]==80&&ee[ee.l+1]==75)return[0,0];ee.chk(K,"Header Signature: "),ee.l+=16;var de=ee.read_shift(2,"u");return[ee.read_shift(2,"u"),de]}function p(ee,de){var le=9;switch(ee.l+=2,le=ee.read_shift(2)){case 9:if(de!=3)throw new Error("Sector Shift: Expected 9 saw "+le);break;case 12:if(de!=4)throw new Error("Sector Shift: Expected 12 saw "+le);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+le)}ee.chk("0600","Mini Sector Shift: "),ee.chk("000000000000","Reserved: ")}function v(ee,de){for(var le=Math.ceil(ee.length/de)-1,ue=[],he=1;he<le;++he)ue[he-1]=ee.slice(he*de,(he+1)*de);return ue[le-1]=ee.slice(le*de),ue}function w(ee,de,le){for(var ue=0,he=0,fe=0,Ce=0,Me=0,Le=le.length,Re=[],Oe=[];ue<Le;++ue)Re[ue]=Oe[ue]=ue,de[ue]=le[ue];for(;Me<Oe.length;++Me)ue=Oe[Me],he=ee[ue].L,fe=ee[ue].R,Ce=ee[ue].C,Re[ue]===ue&&(he!==-1&&Re[he]!==he&&(Re[ue]=Re[he]),fe!==-1&&Re[fe]!==fe&&(Re[ue]=Re[fe])),Ce!==-1&&(Re[Ce]=ue),he!==-1&&ue!=Re[ue]&&(Re[he]=Re[ue],Oe.lastIndexOf(he)<Me&&Oe.push(he)),fe!==-1&&ue!=Re[ue]&&(Re[fe]=Re[ue],Oe.lastIndexOf(fe)<Me&&Oe.push(fe));for(ue=1;ue<Le;++ue)Re[ue]===ue&&(fe!==-1&&Re[fe]!==fe?Re[ue]=Re[fe]:he!==-1&&Re[he]!==he&&(Re[ue]=Re[he]));for(ue=1;ue<Le;++ue)if(ee[ue].type!==0){if(Me=ue,Me!=Re[Me])do Me=Re[Me],de[ue]=de[Me]+"/"+de[ue];while(Me!==0&&Re[Me]!==-1&&Me!=Re[Me]);Re[ue]=-1}for(de[0]+="/",ue=1;ue<Le;++ue)ee[ue].type!==2&&(de[ue]+="/")}function E(ee,de,le){for(var ue=ee.start,he=ee.size,fe=[],Ce=ue;le&&he>0&&Ce>=0;)fe.push(de.slice(Ce*U,Ce*U+U)),he-=U,Ce=nh(le,Ce*4);return fe.length===0?qe(0):xa(fe).slice(0,ee.size)}function S(ee,de,le,ue,he){var fe=P;if(ee===P){if(de!==0)throw new Error("DIFAT chain shorter than expected")}else if(ee!==-1){var Ce=le[ee],Me=(ue>>>2)-1;if(!Ce)return;for(var Le=0;Le<Me&&(fe=nh(Ce,Le*4))!==P;++Le)he.push(fe);S(nh(Ce,ue-4),de-1,le,ue,he)}}function C(ee,de,le,ue,he){var fe=[],Ce=[];he||(he=[]);var Me=ue-1,Le=0,Re=0;for(Le=de;Le>=0;){he[Le]=!0,fe[fe.length]=Le,Ce.push(ee[Le]);var Oe=le[Math.floor(Le*4/ue)];if(Re=Le*4&Me,ue<4+Re)throw new Error("FAT boundary crossed: "+Le+" 4 "+ue);if(!ee[Oe])break;Le=nh(ee[Oe],Re)}return{nodes:fe,data:$M([Ce])}}function O(ee,de,le,ue){var he=ee.length,fe=[],Ce=[],Me=[],Le=[],Re=ue-1,Oe=0,Qe=0,nt=0,mt=0;for(Oe=0;Oe<he;++Oe)if(Me=[],nt=Oe+de,nt>=he&&(nt-=he),!Ce[nt]){Le=[];var st=[];for(Qe=nt;Qe>=0;){st[Qe]=!0,Ce[Qe]=!0,Me[Me.length]=Qe,Le.push(ee[Qe]);var at=le[Math.floor(Qe*4/ue)];if(mt=Qe*4&Re,ue<4+mt)throw new Error("FAT boundary crossed: "+Qe+" 4 "+ue);if(!ee[at]||(Qe=nh(ee[at],mt),st[Qe]))break}fe[nt]={nodes:Me,data:$M([Le])}}return fe}function I(ee,de,le,ue,he,fe,Ce,Me){for(var Le=0,Re=ue.length?2:0,Oe=de[ee].data,Qe=0,nt=0,mt;Qe<Oe.length;Qe+=128){var st=Oe.slice(Qe,Qe+128);Fi(st,64),nt=st.read_shift(2),mt=AL(st,0,nt-Re),ue.push(mt);var at={name:mt,type:st.read_shift(1),color:st.read_shift(1),L:st.read_shift(4,"i"),R:st.read_shift(4,"i"),C:st.read_shift(4,"i"),clsid:st.read_shift(16),state:st.read_shift(4,"i"),start:0,size:0},Ut=st.read_shift(2)+st.read_shift(2)+st.read_shift(2)+st.read_shift(2);Ut!==0&&(at.ct=D(st,st.l-8));var Dn=st.read_shift(2)+st.read_shift(2)+st.read_shift(2)+st.read_shift(2);Dn!==0&&(at.mt=D(st,st.l-8)),at.start=st.read_shift(4,"i"),at.size=st.read_shift(4,"i"),at.size<0&&at.start<0&&(at.size=at.type=0,at.start=P,at.name=""),at.type===5?(Le=at.start,he>0&&Le!==P&&(de[Le].name="!StreamData")):at.size>=4096?(at.storage="fat",de[at.start]===void 0&&(de[at.start]=C(le,at.start,de.fat_addrs,de.ssz)),de[at.start].name=at.name,at.content=de[at.start].data.slice(0,at.size)):(at.storage="minifat",at.size<0?at.size=0:Le!==P&&at.start!==P&&de[Le]&&(at.content=E(at,de[Le].data,(de[Me]||{}).data))),at.content&&Fi(at.content,0),fe[mt]=at,Ce.push(at)}}function D(ee,de){return new Date((Ui(ee,de+4)/1e7*Math.pow(2,32)+Ui(ee,de)/1e7-11644473600)*1e3)}function T(ee,de){return h(),f(u.readFileSync(ee),de)}function F(ee,de){var le=de&&de.type;switch(le||Zn&&Buffer.isBuffer(ee)&&(le="buffer"),le||"base64"){case"file":return T(ee,de);case"base64":return f(rl(eu(ee)),de);case"binary":return f(rl(ee),de)}return f(ee,de)}function y(ee,de){var le=de||{},ue=le.root||"Root Entry";if(ee.FullPaths||(ee.FullPaths=[]),ee.FileIndex||(ee.FileIndex=[]),ee.FullPaths.length!==ee.FileIndex.length)throw new Error("inconsistent CFB structure");ee.FullPaths.length===0&&(ee.FullPaths[0]=ue+"/",ee.FileIndex[0]={name:ue,type:5}),le.CLSID&&(ee.FileIndex[0].clsid=le.CLSID),A(ee)}function A(ee){var de="Sh33tJ5";if(!mr.find(ee,"/"+de)){var le=qe(4);le[0]=55,le[1]=le[3]=50,le[2]=54,ee.FileIndex.push({name:de,type:2,content:le,size:4,L:69,R:69,C:69}),ee.FullPaths.push(ee.FullPaths[0]+de),_(ee)}}function _(ee,de){y(ee);for(var le=!1,ue=!1,he=ee.FullPaths.length-1;he>=0;--he){var fe=ee.FileIndex[he];switch(fe.type){case 0:ue?le=!0:(ee.FileIndex.pop(),ee.FullPaths.pop());break;case 1:case 2:case 5:ue=!0,isNaN(fe.R*fe.L*fe.C)&&(le=!0),fe.R>-1&&fe.L>-1&&fe.R==fe.L&&(le=!0);break;default:le=!0;break}}if(!(!le&&!de)){var Ce=new Date(1987,1,19),Me=0,Le=Object.create?Object.create(null):{},Re=[];for(he=0;he<ee.FullPaths.length;++he)Le[ee.FullPaths[he]]=!0,ee.FileIndex[he].type!==0&&Re.push([ee.FullPaths[he],ee.FileIndex[he]]);for(he=0;he<Re.length;++he){var Oe=r(Re[he][0]);ue=Le[Oe],ue||(Re.push([Oe,{name:s(Oe).replace("/",""),type:1,clsid:re,ct:Ce,mt:Ce,content:null}]),Le[Oe]=!0)}for(Re.sort(function(mt,st){return n(mt[0],st[0])}),ee.FullPaths=[],ee.FileIndex=[],he=0;he<Re.length;++he)ee.FullPaths[he]=Re[he][0],ee.FileIndex[he]=Re[he][1];for(he=0;he<Re.length;++he){var Qe=ee.FileIndex[he],nt=ee.FullPaths[he];if(Qe.name=s(nt).replace("/",""),Qe.L=Qe.R=Qe.C=-(Qe.color=1),Qe.size=Qe.content?Qe.content.length:0,Qe.start=0,Qe.clsid=Qe.clsid||re,he===0)Qe.C=Re.length>1?1:-1,Qe.size=0,Qe.type=5;else if(nt.slice(-1)=="/"){for(Me=he+1;Me<Re.length&&r(ee.FullPaths[Me])!=nt;++Me);for(Qe.C=Me>=Re.length?-1:Me,Me=he+1;Me<Re.length&&r(ee.FullPaths[Me])!=r(nt);++Me);Qe.R=Me>=Re.length?-1:Me,Qe.type=1}else r(ee.FullPaths[he+1]||"")==r(nt)&&(Qe.R=he+1),Qe.type=2}}}function L(ee,de){var le=de||{};if(le.fileType=="mad")return bn(ee,le);switch(_(ee),le.fileType){case"zip":return ps(ee,le)}var ue=function(mt){for(var st=0,at=0,Ut=0;Ut<mt.FileIndex.length;++Ut){var Dn=mt.FileIndex[Ut];if(Dn.content){var ln=Dn.content.length;ln>0&&(ln<4096?st+=ln+63>>6:at+=ln+511>>9)}}for(var An=mt.FullPaths.length+3>>2,xr=st+7>>3,_s=st+127>>7,ia=xr+at+An+_s,oa=ia+127>>7,ro=oa<=109?0:Math.ceil((oa-109)/127);ia+oa+ro+127>>7>oa;)ro=++oa<=109?0:Math.ceil((oa-109)/127);var ns=[1,ro,oa,_s,An,at,st,0];return mt.FileIndex[0].size=st<<6,ns[7]=(mt.FileIndex[0].start=ns[0]+ns[1]+ns[2]+ns[3]+ns[4]+ns[5])+(ns[6]+7>>3),ns}(ee),he=qe(ue[7]<<9),fe=0,Ce=0;{for(fe=0;fe<8;++fe)he.write_shift(1,G[fe]);for(fe=0;fe<8;++fe)he.write_shift(2,0);for(he.write_shift(2,62),he.write_shift(2,3),he.write_shift(2,65534),he.write_shift(2,9),he.write_shift(2,6),fe=0;fe<3;++fe)he.write_shift(2,0);for(he.write_shift(4,0),he.write_shift(4,ue[2]),he.write_shift(4,ue[0]+ue[1]+ue[2]+ue[3]-1),he.write_shift(4,0),he.write_shift(4,4096),he.write_shift(4,ue[3]?ue[0]+ue[1]+ue[2]-1:P),he.write_shift(4,ue[3]),he.write_shift(-4,ue[1]?ue[0]-1:P),he.write_shift(4,ue[1]),fe=0;fe<109;++fe)he.write_shift(-4,fe<ue[2]?ue[1]+fe:-1)}if(ue[1])for(Ce=0;Ce<ue[1];++Ce){for(;fe<236+Ce*127;++fe)he.write_shift(-4,fe<ue[2]?ue[1]+fe:-1);he.write_shift(-4,Ce===ue[1]-1?P:Ce+1)}var Me=function(mt){for(Ce+=mt;fe<Ce-1;++fe)he.write_shift(-4,fe+1);mt&&(++fe,he.write_shift(-4,P))};for(Ce=fe=0,Ce+=ue[1];fe<Ce;++fe)he.write_shift(-4,Z.DIFSECT);for(Ce+=ue[2];fe<Ce;++fe)he.write_shift(-4,Z.FATSECT);Me(ue[3]),Me(ue[4]);for(var Le=0,Re=0,Oe=ee.FileIndex[0];Le<ee.FileIndex.length;++Le)Oe=ee.FileIndex[Le],Oe.content&&(Re=Oe.content.length,!(Re<4096)&&(Oe.start=Ce,Me(Re+511>>9)));for(Me(ue[6]+7>>3);he.l&511;)he.write_shift(-4,Z.ENDOFCHAIN);for(Ce=fe=0,Le=0;Le<ee.FileIndex.length;++Le)Oe=ee.FileIndex[Le],Oe.content&&(Re=Oe.content.length,!(!Re||Re>=4096)&&(Oe.start=Ce,Me(Re+63>>6)));for(;he.l&511;)he.write_shift(-4,Z.ENDOFCHAIN);for(fe=0;fe<ue[4]<<2;++fe){var Qe=ee.FullPaths[fe];if(!Qe||Qe.length===0){for(Le=0;Le<17;++Le)he.write_shift(4,0);for(Le=0;Le<3;++Le)he.write_shift(4,-1);for(Le=0;Le<12;++Le)he.write_shift(4,0);continue}Oe=ee.FileIndex[fe],fe===0&&(Oe.start=Oe.size?Oe.start-1:P);var nt=fe===0&&le.root||Oe.name;if(Re=2*(nt.length+1),he.write_shift(64,nt,"utf16le"),he.write_shift(2,Re),he.write_shift(1,Oe.type),he.write_shift(1,Oe.color),he.write_shift(-4,Oe.L),he.write_shift(-4,Oe.R),he.write_shift(-4,Oe.C),Oe.clsid)he.write_shift(16,Oe.clsid,"hex");else for(Le=0;Le<4;++Le)he.write_shift(4,0);he.write_shift(4,Oe.state||0),he.write_shift(4,0),he.write_shift(4,0),he.write_shift(4,0),he.write_shift(4,0),he.write_shift(4,Oe.start),he.write_shift(4,Oe.size),he.write_shift(4,0)}for(fe=1;fe<ee.FileIndex.length;++fe)if(Oe=ee.FileIndex[fe],Oe.size>=4096)if(he.l=Oe.start+1<<9,Zn&&Buffer.isBuffer(Oe.content))Oe.content.copy(he,he.l,0,Oe.size),he.l+=Oe.size+511&-512;else{for(Le=0;Le<Oe.size;++Le)he.write_shift(1,Oe.content[Le]);for(;Le&511;++Le)he.write_shift(1,0)}for(fe=1;fe<ee.FileIndex.length;++fe)if(Oe=ee.FileIndex[fe],Oe.size>0&&Oe.size<4096)if(Zn&&Buffer.isBuffer(Oe.content))Oe.content.copy(he,he.l,0,Oe.size),he.l+=Oe.size+63&-64;else{for(Le=0;Le<Oe.size;++Le)he.write_shift(1,Oe.content[Le]);for(;Le&63;++Le)he.write_shift(1,0)}if(Zn)he.l=he.length;else for(;he.l<he.length;)he.write_shift(1,0);return he}function R(ee,de){var le=ee.FullPaths.map(function(Le){return Le.toUpperCase()}),ue=le.map(function(Le){var Re=Le.split("/");return Re[Re.length-(Le.slice(-1)=="/"?2:1)]}),he=!1;de.charCodeAt(0)===47?(he=!0,de=le[0].slice(0,-1)+de):he=de.indexOf("/")!==-1;var fe=de.toUpperCase(),Ce=he===!0?le.indexOf(fe):ue.indexOf(fe);if(Ce!==-1)return ee.FileIndex[Ce];var Me=!fe.match(Ix);for(fe=fe.replace(l0,""),Me&&(fe=fe.replace(Ix,"!")),Ce=0;Ce<le.length;++Ce)if((Me?le[Ce].replace(Ix,"!"):le[Ce]).replace(l0,"")==fe||(Me?ue[Ce].replace(Ix,"!"):ue[Ce]).replace(l0,"")==fe)return ee.FileIndex[Ce];return null}var U=64,P=-2,K="d0cf11e0a1b11ae1",G=[208,207,17,224,161,177,26,225],re="00000000000000000000000000000000",Z={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:P,FREESECT:-1,HEADER_SIGNATURE:K,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:re,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function me(ee,de,le){h();var ue=L(ee,le);u.writeFileSync(de,ue)}function ie(ee){for(var de=new Array(ee.length),le=0;le<ee.length;++le)de[le]=String.fromCharCode(ee[le]);return de.join("")}function W(ee,de){var le=L(ee,de);switch(de&&de.type||"buffer"){case"file":return h(),u.writeFileSync(de.filename,le),le;case"binary":return typeof le=="string"?le:ie(le);case"base64":return Y0(typeof le=="string"?le:ie(le));case"buffer":if(Zn)return Buffer.isBuffer(le)?le:cu(le);case"array":return typeof le=="string"?rl(le):le}return le}var ve;function Q(ee){try{var de=ee.InflateRaw,le=new de;if(le._processChunk(new Uint8Array([3,0]),le._finishFlushFlag),le.bytesRead)ve=ee;else throw new Error("zlib does not expose bytesRead")}catch(ue){console.error("cannot use native zlib: "+(ue.message||ue))}}function ne(ee,de){if(!ve)return Wr(ee,de);var le=ve.InflateRaw,ue=new le,he=ue._processChunk(ee.slice(ee.l),ue._finishFlushFlag);return ee.l+=ue.bytesRead,he}function te(ee){return ve?ve.deflateRawSync(ee):Jn(ee)}var X=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],be=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Ne=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Ee(ee){var de=(ee<<1|ee<<11)&139536|(ee<<5|ee<<15)&558144;return(de>>16|de>>8|de)&255}for(var Ie=typeof Uint8Array<"u",_e=Ie?new Uint8Array(256):[],Ue=0;Ue<256;++Ue)_e[Ue]=Ee(Ue);function tt(ee,de){var le=_e[ee&255];return de<=8?le>>>8-de:(le=le<<8|_e[ee>>8&255],de<=16?le>>>16-de:(le=le<<8|_e[ee>>16&255],le>>>24-de))}function ct(ee,de){var le=de&7,ue=de>>>3;return(ee[ue]|(le<=6?0:ee[ue+1]<<8))>>>le&3}function ut(ee,de){var le=de&7,ue=de>>>3;return(ee[ue]|(le<=5?0:ee[ue+1]<<8))>>>le&7}function Ye(ee,de){var le=de&7,ue=de>>>3;return(ee[ue]|(le<=4?0:ee[ue+1]<<8))>>>le&15}function Et(ee,de){var le=de&7,ue=de>>>3;return(ee[ue]|(le<=3?0:ee[ue+1]<<8))>>>le&31}function Ze(ee,de){var le=de&7,ue=de>>>3;return(ee[ue]|(le<=1?0:ee[ue+1]<<8))>>>le&127}function zt(ee,de,le){var ue=de&7,he=de>>>3,fe=(1<<le)-1,Ce=ee[he]>>>ue;return le<8-ue||(Ce|=ee[he+1]<<8-ue,le<16-ue)||(Ce|=ee[he+2]<<16-ue,le<24-ue)||(Ce|=ee[he+3]<<24-ue),Ce&fe}function Cn(ee,de,le){var ue=de&7,he=de>>>3;return ue<=5?ee[he]|=(le&7)<<ue:(ee[he]|=le<<ue&255,ee[he+1]=(le&7)>>8-ue),de+3}function fn(ee,de,le){var ue=de&7,he=de>>>3;return le=(le&1)<<ue,ee[he]|=le,de+1}function vn(ee,de,le){var ue=de&7,he=de>>>3;return le<<=ue,ee[he]|=le&255,le>>>=8,ee[he+1]=le,de+8}function dr(ee,de,le){var ue=de&7,he=de>>>3;return le<<=ue,ee[he]|=le&255,le>>>=8,ee[he+1]=le&255,ee[he+2]=le>>>8,de+16}function sr(ee,de){var le=ee.length,ue=2*le>de?2*le:de+5,he=0;if(le>=de)return ee;if(Zn){var fe=TM(ue);if(ee.copy)ee.copy(fe);else for(;he<ee.length;++he)fe[he]=ee[he];return fe}else if(Ie){var Ce=new Uint8Array(ue);if(Ce.set)Ce.set(ee);else for(;he<le;++he)Ce[he]=ee[he];return Ce}return ee.length=ue,ee}function We(ee){for(var de=new Array(ee),le=0;le<ee;++le)de[le]=0;return de}function xt(ee,de,le){var ue=1,he=0,fe=0,Ce=0,Me=0,Le=ee.length,Re=Ie?new Uint16Array(32):We(32);for(fe=0;fe<32;++fe)Re[fe]=0;for(fe=Le;fe<le;++fe)ee[fe]=0;Le=ee.length;var Oe=Ie?new Uint16Array(Le):We(Le);for(fe=0;fe<Le;++fe)Re[he=ee[fe]]++,ue<he&&(ue=he),Oe[fe]=0;for(Re[0]=0,fe=1;fe<=ue;++fe)Re[fe+16]=Me=Me+Re[fe-1]<<1;for(fe=0;fe<Le;++fe)Me=ee[fe],Me!=0&&(Oe[fe]=Re[Me+16]++);var Qe=0;for(fe=0;fe<Le;++fe)if(Qe=ee[fe],Qe!=0)for(Me=tt(Oe[fe],ue)>>ue-Qe,Ce=(1<<ue+4-Qe)-1;Ce>=0;--Ce)de[Me|Ce<<Qe]=Qe&15|fe<<4;return ue}var Mt=Ie?new Uint16Array(512):We(512),kt=Ie?new Uint16Array(32):We(32);if(!Ie){for(var on=0;on<512;++on)Mt[on]=0;for(on=0;on<32;++on)kt[on]=0}(function(){for(var ee=[],de=0;de<32;de++)ee.push(5);xt(ee,kt,32);var le=[];for(de=0;de<=143;de++)le.push(8);for(;de<=255;de++)le.push(9);for(;de<=279;de++)le.push(7);for(;de<=287;de++)le.push(8);xt(le,Mt,288)})();var Gr=function(){for(var de=Ie?new Uint8Array(32768):[],le=0,ue=0;le<Ne.length-1;++le)for(;ue<Ne[le+1];++ue)de[ue]=le;for(;ue<32768;++ue)de[ue]=29;var he=Ie?new Uint8Array(259):[];for(le=0,ue=0;le<be.length-1;++le)for(;ue<be[le+1];++ue)he[ue]=le;function fe(Me,Le){for(var Re=0;Re<Me.length;){var Oe=Math.min(65535,Me.length-Re),Qe=Re+Oe==Me.length;for(Le.write_shift(1,+Qe),Le.write_shift(2,Oe),Le.write_shift(2,~Oe&65535);Oe-- >0;)Le[Le.l++]=Me[Re++]}return Le.l}function Ce(Me,Le){for(var Re=0,Oe=0,Qe=Ie?new Uint16Array(32768):[];Oe<Me.length;){var nt=Math.min(65535,Me.length-Oe);if(nt<10){for(Re=Cn(Le,Re,+(Oe+nt==Me.length)),Re&7&&(Re+=8-(Re&7)),Le.l=Re/8|0,Le.write_shift(2,nt),Le.write_shift(2,~nt&65535);nt-- >0;)Le[Le.l++]=Me[Oe++];Re=Le.l*8;continue}Re=Cn(Le,Re,+(Oe+nt==Me.length)+2);for(var mt=0;nt-- >0;){var st=Me[Oe];mt=(mt<<5^st)&32767;var at=-1,Ut=0;if((at=Qe[mt])&&(at|=Oe&-32768,at>Oe&&(at-=32768),at<Oe))for(;Me[at+Ut]==Me[Oe+Ut]&&Ut<250;)++Ut;if(Ut>2){st=he[Ut],st<=22?Re=vn(Le,Re,_e[st+1]>>1)-1:(vn(Le,Re,3),Re+=5,vn(Le,Re,_e[st-23]>>5),Re+=3);var Dn=st<8?0:st-4>>2;Dn>0&&(dr(Le,Re,Ut-be[st]),Re+=Dn),st=de[Oe-at],Re=vn(Le,Re,_e[st]>>3),Re-=3;var ln=st<4?0:st-2>>1;ln>0&&(dr(Le,Re,Oe-at-Ne[st]),Re+=ln);for(var An=0;An<Ut;++An)Qe[mt]=Oe&32767,mt=(mt<<5^Me[Oe])&32767,++Oe;nt-=Ut-1}else st<=143?st=st+48:Re=fn(Le,Re,1),Re=vn(Le,Re,_e[st]),Qe[mt]=Oe&32767,++Oe}Re=vn(Le,Re,0)-1}return Le.l=(Re+7)/8|0,Le.l}return function(Le,Re){return Le.length<8?fe(Le,Re):Ce(Le,Re)}}();function Jn(ee){var de=qe(50+Math.floor(ee.length*1.1)),le=Gr(ee,de);return de.slice(0,le)}var ws=Ie?new Uint16Array(32768):We(32768),es=Ie?new Uint16Array(32768):We(32768),Br=Ie?new Uint16Array(128):We(128),Vn=1,Ur=1;function zr(ee,de){var le=Et(ee,de)+257;de+=5;var ue=Et(ee,de)+1;de+=5;var he=Ye(ee,de)+4;de+=4;for(var fe=0,Ce=Ie?new Uint8Array(19):We(19),Me=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Le=1,Re=Ie?new Uint8Array(8):We(8),Oe=Ie?new Uint8Array(8):We(8),Qe=Ce.length,nt=0;nt<he;++nt)Ce[X[nt]]=fe=ut(ee,de),Le<fe&&(Le=fe),Re[fe]++,de+=3;var mt=0;for(Re[0]=0,nt=1;nt<=Le;++nt)Oe[nt]=mt=mt+Re[nt-1]<<1;for(nt=0;nt<Qe;++nt)(mt=Ce[nt])!=0&&(Me[nt]=Oe[mt]++);var st=0;for(nt=0;nt<Qe;++nt)if(st=Ce[nt],st!=0){mt=_e[Me[nt]]>>8-st;for(var at=(1<<7-st)-1;at>=0;--at)Br[mt|at<<st]=st&7|nt<<3}var Ut=[];for(Le=1;Ut.length<le+ue;)switch(mt=Br[Ze(ee,de)],de+=mt&7,mt>>>=3){case 16:for(fe=3+ct(ee,de),de+=2,mt=Ut[Ut.length-1];fe-- >0;)Ut.push(mt);break;case 17:for(fe=3+ut(ee,de),de+=3;fe-- >0;)Ut.push(0);break;case 18:for(fe=11+Ze(ee,de),de+=7;fe-- >0;)Ut.push(0);break;default:Ut.push(mt),Le<mt&&(Le=mt);break}var Dn=Ut.slice(0,le),ln=Ut.slice(le);for(nt=le;nt<286;++nt)Dn[nt]=0;for(nt=ue;nt<30;++nt)ln[nt]=0;return Vn=xt(Dn,ws,286),Ur=xt(ln,es,30),de}function Hn(ee,de){if(ee[0]==3&&!(ee[1]&3))return[Ah(de),2];for(var le=0,ue=0,he=TM(de||1<<18),fe=0,Ce=he.length>>>0,Me=0,Le=0;!(ue&1);){if(ue=ut(ee,le),le+=3,ue>>>1)ue>>1==1?(Me=9,Le=5):(le=zr(ee,le),Me=Vn,Le=Ur);else{le&7&&(le+=8-(le&7));var Re=ee[le>>>3]|ee[(le>>>3)+1]<<8;if(le+=32,Re>0)for(!de&&Ce<fe+Re&&(he=sr(he,fe+Re),Ce=he.length);Re-- >0;)he[fe++]=ee[le>>>3],le+=8;continue}for(;;){!de&&Ce<fe+32767&&(he=sr(he,fe+32767),Ce=he.length);var Oe=zt(ee,le,Me),Qe=ue>>>1==1?Mt[Oe]:ws[Oe];if(le+=Qe&15,Qe>>>=4,!(Qe>>>8&255))he[fe++]=Qe;else{if(Qe==256)break;Qe-=257;var nt=Qe<8?0:Qe-4>>2;nt>5&&(nt=0);var mt=fe+be[Qe];nt>0&&(mt+=zt(ee,le,nt),le+=nt),Oe=zt(ee,le,Le),Qe=ue>>>1==1?kt[Oe]:es[Oe],le+=Qe&15,Qe>>>=4;var st=Qe<4?0:Qe-2>>1,at=Ne[Qe];for(st>0&&(at+=zt(ee,le,st),le+=st),!de&&Ce<mt&&(he=sr(he,mt+100),Ce=he.length);fe<mt;)he[fe]=he[fe-at],++fe}}}return de?[he,le+7>>>3]:[he.slice(0,fe),le+7>>>3]}function Wr(ee,de){var le=ee.slice(ee.l||0),ue=Hn(le,de);return ee.l+=ue[1],ue[0]}function yr(ee,de){if(ee)typeof console<"u"&&console.error(de);else throw new Error(de)}function sa(ee,de){var le=ee;Fi(le,0);var ue=[],he=[],fe={FileIndex:ue,FullPaths:he};y(fe,{root:de.root});for(var Ce=le.length-4;(le[Ce]!=80||le[Ce+1]!=75||le[Ce+2]!=5||le[Ce+3]!=6)&&Ce>=0;)--Ce;le.l=Ce+4,le.l+=4;var Me=le.read_shift(2);le.l+=6;var Le=le.read_shift(4);for(le.l=Le,Ce=0;Ce<Me;++Ce){le.l+=20;var Re=le.read_shift(4),Oe=le.read_shift(4),Qe=le.read_shift(2),nt=le.read_shift(2),mt=le.read_shift(2);le.l+=8;var st=le.read_shift(4),at=l(le.slice(le.l+Qe,le.l+Qe+nt));le.l+=Qe+nt+mt;var Ut=le.l;le.l=st+4,ms(le,Re,Oe,fe,at),le.l=Ut}return fe}function ms(ee,de,le,ue,he){ee.l+=2;var fe=ee.read_shift(2),Ce=ee.read_shift(2),Me=o(ee);if(fe&8257)throw new Error("Unsupported ZIP encryption");for(var Le=ee.read_shift(4),Re=ee.read_shift(4),Oe=ee.read_shift(4),Qe=ee.read_shift(2),nt=ee.read_shift(2),mt="",st=0;st<Qe;++st)mt+=String.fromCharCode(ee[ee.l++]);if(nt){var at=l(ee.slice(ee.l,ee.l+nt));(at[21589]||{}).mt&&(Me=at[21589].mt),((he||{})[21589]||{}).mt&&(Me=he[21589].mt)}ee.l+=nt;var Ut=ee.slice(ee.l,ee.l+Re);switch(Ce){case 8:Ut=ne(ee,Oe);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ce)}var Dn=!1;fe&8&&(Le=ee.read_shift(4),Le==134695760&&(Le=ee.read_shift(4),Dn=!0),Re=ee.read_shift(4),Oe=ee.read_shift(4)),Re!=de&&yr(Dn,"Bad compressed size: "+de+" != "+Re),Oe!=le&&yr(Dn,"Bad uncompressed size: "+le+" != "+Oe),Ca(ue,mt,Ut,{unsafe:!0,mt:Me})}function ps(ee,de){var le=de||{},ue=[],he=[],fe=qe(1),Ce=le.compression?8:0,Me=0,Le=0,Re=0,Oe=0,Qe=0,nt=ee.FullPaths[0],mt=nt,st=ee.FileIndex[0],at=[],Ut=0;for(Le=1;Le<ee.FullPaths.length;++Le)if(mt=ee.FullPaths[Le].slice(nt.length),st=ee.FileIndex[Le],!(!st.size||!st.content||mt=="Sh33tJ5")){var Dn=Oe,ln=qe(mt.length);for(Re=0;Re<mt.length;++Re)ln.write_shift(1,mt.charCodeAt(Re)&127);ln=ln.slice(0,ln.l),at[Qe]=fEe.buf(st.content,0);var An=st.content;Ce==8&&(An=te(An)),fe=qe(30),fe.write_shift(4,67324752),fe.write_shift(2,20),fe.write_shift(2,Me),fe.write_shift(2,Ce),st.mt?i(fe,st.mt):fe.write_shift(4,0),fe.write_shift(-4,at[Qe]),fe.write_shift(4,An.length),fe.write_shift(4,st.content.length),fe.write_shift(2,ln.length),fe.write_shift(2,0),Oe+=fe.length,ue.push(fe),Oe+=ln.length,ue.push(ln),Oe+=An.length,ue.push(An),fe=qe(46),fe.write_shift(4,33639248),fe.write_shift(2,0),fe.write_shift(2,20),fe.write_shift(2,Me),fe.write_shift(2,Ce),fe.write_shift(4,0),fe.write_shift(-4,at[Qe]),fe.write_shift(4,An.length),fe.write_shift(4,st.content.length),fe.write_shift(2,ln.length),fe.write_shift(2,0),fe.write_shift(2,0),fe.write_shift(2,0),fe.write_shift(2,0),fe.write_shift(4,0),fe.write_shift(4,Dn),Ut+=fe.l,he.push(fe),Ut+=ln.length,he.push(ln),++Qe}return fe=qe(22),fe.write_shift(4,101010256),fe.write_shift(2,0),fe.write_shift(2,0),fe.write_shift(2,Qe),fe.write_shift(2,Qe),fe.write_shift(4,Ut),fe.write_shift(4,Oe),fe.write_shift(2,0),xa([xa(ue),xa(he),fe])}var pr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Nr(ee,de){if(ee.ctype)return ee.ctype;var le=ee.name||"",ue=le.match(/\.([^\.]+)$/);return ue&&pr[ue[1]]||de&&(ue=(le=de).match(/[\.\\]([^\.\\])+$/),ue&&pr[ue[1]])?pr[ue[1]]:"application/octet-stream"}function gs(ee){for(var de=Y0(ee),le=[],ue=0;ue<de.length;ue+=76)le.push(de.slice(ue,ue+76));return le.join(`\r
`)+`\r
`}function aa(ee){var de=ee.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Re){var Oe=Re.charCodeAt(0).toString(16).toUpperCase();return"="+(Oe.length==1?"0"+Oe:Oe)});de=de.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),de.charAt(0)==`
`&&(de="=0D"+de.slice(1)),de=de.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var le=[],ue=de.split(`\r
`),he=0;he<ue.length;++he){var fe=ue[he];if(fe.length==0){le.push("");continue}for(var Ce=0;Ce<fe.length;){var Me=76,Le=fe.slice(Ce,Ce+Me);Le.charAt(Me-1)=="="?Me--:Le.charAt(Me-2)=="="?Me-=2:Le.charAt(Me-3)=="="&&(Me-=3),Le=fe.slice(Ce,Ce+Me),Ce+=Me,Ce<fe.length&&(Le+="="),le.push(Le)}}return le.join(`\r
`)}function Hs(ee){for(var de=[],le=0;le<ee.length;++le){for(var ue=ee[le];le<=ee.length&&ue.charAt(ue.length-1)=="=";)ue=ue.slice(0,ue.length-1)+ee[++le];de.push(ue)}for(var he=0;he<de.length;++he)de[he]=de[he].replace(/[=][0-9A-Fa-f]{2}/g,function(fe){return String.fromCharCode(parseInt(fe.slice(1),16))});return rl(de.join(`\r
`))}function ts(ee,de,le){for(var ue="",he="",fe="",Ce,Me=0;Me<10;++Me){var Le=de[Me];if(!Le||Le.match(/^\s*$/))break;var Re=Le.match(/^(.*?):\s*([^\s].*)$/);if(Re)switch(Re[1].toLowerCase()){case"content-location":ue=Re[2].trim();break;case"content-type":fe=Re[2].trim();break;case"content-transfer-encoding":he=Re[2].trim();break}}switch(++Me,he.toLowerCase()){case"base64":Ce=rl(eu(de.slice(Me).join("")));break;case"quoted-printable":Ce=Hs(de.slice(Me));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+he)}var Oe=Ca(ee,ue.slice(le.length),Ce,{unsafe:!0});fe&&(Oe.ctype=fe)}function Ha(ee,de){if(ie(ee.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var le=de&&de.root||"",ue=(Zn&&Buffer.isBuffer(ee)?ee.toString("binary"):ie(ee)).split(`\r
`),he=0,fe="";for(he=0;he<ue.length;++he)if(fe=ue[he],!!/^Content-Location:/i.test(fe)&&(fe=fe.slice(fe.indexOf("file")),le||(le=fe.slice(0,fe.lastIndexOf("/")+1)),fe.slice(0,le.length)!=le))for(;le.length>0&&(le=le.slice(0,le.length-1),le=le.slice(0,le.lastIndexOf("/")+1),fe.slice(0,le.length)!=le););var Ce=(ue[1]||"").match(/boundary="(.*?)"/);if(!Ce)throw new Error("MAD cannot find boundary");var Me="--"+(Ce[1]||""),Le=[],Re=[],Oe={FileIndex:Le,FullPaths:Re};y(Oe);var Qe,nt=0;for(he=0;he<ue.length;++he){var mt=ue[he];mt!==Me&&mt!==Me+"--"||(nt++&&ts(Oe,ue.slice(Qe,he),le),Qe=he)}return Oe}function bn(ee,de){var le=de||{},ue=le.boundary||"SheetJS";ue="------="+ue;for(var he=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ue.slice(2)+'"',"","",""],fe=ee.FullPaths[0],Ce=fe,Me=ee.FileIndex[0],Le=1;Le<ee.FullPaths.length;++Le)if(Ce=ee.FullPaths[Le].slice(fe.length),Me=ee.FileIndex[Le],!(!Me.size||!Me.content||Ce=="Sh33tJ5")){Ce=Ce.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Ut){return"_x"+Ut.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Ut){return"_u"+Ut.charCodeAt(0).toString(16)+"_"});for(var Re=Me.content,Oe=Zn&&Buffer.isBuffer(Re)?Re.toString("binary"):ie(Re),Qe=0,nt=Math.min(1024,Oe.length),mt=0,st=0;st<=nt;++st)(mt=Oe.charCodeAt(st))>=32&&mt<128&&++Qe;var at=Qe>=nt*4/5;he.push(ue),he.push("Content-Location: "+(le.root||"file:///C:/SheetJS/")+Ce),he.push("Content-Transfer-Encoding: "+(at?"quoted-printable":"base64")),he.push("Content-Type: "+Nr(Me,Ce)),he.push(""),he.push(at?aa(Oe):gs(Oe))}return he.push(ue+`--\r
`),he.join(`\r
`)}function Bt(ee){var de={};return y(de,ee),de}function Ca(ee,de,le,ue){var he=ue&&ue.unsafe;he||y(ee);var fe=!he&&mr.find(ee,de);if(!fe){var Ce=ee.FullPaths[0];de.slice(0,Ce.length)==Ce?Ce=de:(Ce.slice(-1)!="/"&&(Ce+="/"),Ce=(Ce+de).replace("//","/")),fe={name:s(de),type:2},ee.FileIndex.push(fe),ee.FullPaths.push(Ce),he||mr.utils.cfb_gc(ee)}return fe.content=le,fe.size=le?le.length:0,ue&&(ue.CLSID&&(fe.clsid=ue.CLSID),ue.mt&&(fe.mt=ue.mt),ue.ct&&(fe.ct=ue.ct)),fe}function ii(ee,de){y(ee);var le=mr.find(ee,de);if(le){for(var ue=0;ue<ee.FileIndex.length;++ue)if(ee.FileIndex[ue]==le)return ee.FileIndex.splice(ue,1),ee.FullPaths.splice(ue,1),!0}return!1}function Bo(ee,de,le){y(ee);var ue=mr.find(ee,de);if(ue){for(var he=0;he<ee.FileIndex.length;++he)if(ee.FileIndex[he]==ue)return ee.FileIndex[he].name=s(le),ee.FullPaths[he]=le,!0}return!1}function no(ee){_(ee,!0)}return e.find=R,e.read=F,e.parse=f,e.write=W,e.writeFile=me,e.utils={cfb_new:Bt,cfb_add:Ca,cfb_del:ii,cfb_mov:Bo,cfb_gc:no,ReadShift:u0,CheckField:CG,prep_blob:Fi,bconcat:xa,use_zlib:Q,_deflateRaw:Jn,_inflateRaw:Wr,consts:Z},e}();function mEe(t){return typeof t=="string"?zw(t):Array.isArray(t)?Uje(t):t}function Gv(t,e,n){if(typeof Deno<"u"){if(n&&typeof e=="string")switch(n){case"utf8":e=new TextEncoder(n).encode(e);break;case"binary":e=zw(e);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(t,e)}var r=n=="utf8"?J0(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,t);if(typeof Blob<"u"){var s=new Blob([mEe(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(s,t);if(typeof saveAs<"u")return saveAs(s,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(s);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:t,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=t,o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(t);return l.open("w"),l.encoding="binary",Array.isArray(e)&&(e=Hv(e)),l.write(e),l.close(),e}catch(u){if(!u.message||!u.message.match(/onstruct/))throw u}throw new Error("cannot save file "+t)}function Ea(t){for(var e=Object.keys(t),n=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(t,e[r])&&n.push(e[r]);return n}function DM(t,e){for(var n=[],r=Ea(t),s=0;s!==r.length;++s)n[t[r[s]][e]]==null&&(n[t[r[s]][e]]=r[s]);return n}function SL(t){for(var e=[],n=Ea(t),r=0;r!==n.length;++r)e[t[n[r]]]=n[r];return e}function Vw(t){for(var e=[],n=Ea(t),r=0;r!==n.length;++r)e[t[n[r]]]=parseInt(n[r],10);return e}function pEe(t){for(var e=[],n=Ea(t),r=0;r!==n.length;++r)e[t[n[r]]]==null&&(e[t[n[r]]]=[]),e[t[n[r]]].push(n[r]);return e}var hb=new Date(1899,11,30,0,0,0);function ji(t,e){var n=t.getTime(),r=hb.getTime()+(t.getTimezoneOffset()-hb.getTimezoneOffset())*6e4;return(n-r)/(24*60*60*1e3)}var cG=new Date,gEe=hb.getTime()+(cG.getTimezoneOffset()-hb.getTimezoneOffset())*6e4,MM=cG.getTimezoneOffset();function uG(t){var e=new Date;return e.setTime(t*24*60*60*1e3+gEe),e.getTimezoneOffset()!==MM&&e.setTime(e.getTime()+(e.getTimezoneOffset()-MM)*6e4),e}var FM=new Date("2017-02-19T19:06:09.000Z"),dG=isNaN(FM.getFullYear())?new Date("2/19/17"):FM,vEe=dG.getFullYear()==2017;function ri(t,e){var n=new Date(t);if(vEe)return e>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):e<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(t instanceof Date)return t;if(dG.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return t.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var s=t.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return t.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function Hw(t,e){if(Zn&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder<"u")try{var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(i){return n[i]||i})}catch{}for(var r=[],s=0;s!=t.length;++s)r.push(String.fromCharCode(t[s]));return r.join("")}function Ei(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=Ei(t[n]));return e}function cs(t,e){for(var n="";n.length<e;)n+=t;return n}function zc(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var n=1,r=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(s,i){return n=-n,i}),!isNaN(e=Number(r)))?e/n:e}var yEe=["january","february","march","april","may","june","july","august","september","october","november","december"];function X0(t){var e=new Date(t),n=new Date(NaN),r=e.getYear(),s=e.getMonth(),i=e.getDate();if(isNaN(i))return n;var o=t.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&yEe.indexOf(o)==-1)return n}else if(o.match(/[a-z]/))return n;return r<0||r>8099?n:(s>0||i>1)&&r!=101?e:t.match(/[^-0-9:,\/\\]/)?n:e}function xn(t,e,n){if(t.FullPaths){if(typeof n=="string"){var r;return Zn?r=cu(n):r=zje(n),mr.utils.cfb_add(t,e,r)}mr.utils.cfb_add(t,e,n)}else t.file(e,n)}function CL(){return mr.utils.cfb_new()}var Ls=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,xEe={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},NL=SL(xEe),TL=/[&<>'"]/g,bEe=/[\u0000-\u0008\u000b-\u001f]/g;function lr(t){var e=t+"";return e.replace(TL,function(n){return NL[n]}).replace(bEe,function(n){return"_x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+"_"})}function BM(t){return lr(t).replace(/ /g,"_x0020_")}var hG=/[\u0000-\u001f]/g;function wEe(t){var e=t+"";return e.replace(TL,function(n){return NL[n]}).replace(/\n/g,"<br/>").replace(hG,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}function _Ee(t){var e=t+"";return e.replace(TL,function(n){return NL[n]}).replace(hG,function(n){return"&#x"+n.charCodeAt(0).toString(16).toUpperCase()+";"})}function jEe(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function EEe(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function LS(t){for(var e="",n=0,r=0,s=0,i=0,o=0,l=0;n<t.length;){if(r=t.charCodeAt(n++),r<128){e+=String.fromCharCode(r);continue}if(s=t.charCodeAt(n++),r>191&&r<224){o=(r&31)<<6,o|=s&63,e+=String.fromCharCode(o);continue}if(i=t.charCodeAt(n++),r<240){e+=String.fromCharCode((r&15)<<12|(s&63)<<6|i&63);continue}o=t.charCodeAt(n++),l=((r&7)<<18|(s&63)<<12|(i&63)<<6|o&63)-65536,e+=String.fromCharCode(55296+(l>>>10&1023)),e+=String.fromCharCode(56320+(l&1023))}return e}function UM(t){var e=Ah(2*t.length),n,r,s=1,i=0,o=0,l;for(r=0;r<t.length;r+=s)s=1,(l=t.charCodeAt(r))<128?n=l:l<224?(n=(l&31)*64+(t.charCodeAt(r+1)&63),s=2):l<240?(n=(l&15)*4096+(t.charCodeAt(r+1)&63)*64+(t.charCodeAt(r+2)&63),s=3):(s=4,n=(l&7)*262144+(t.charCodeAt(r+1)&63)*4096+(t.charCodeAt(r+2)&63)*64+(t.charCodeAt(r+3)&63),n-=65536,o=55296+(n>>>10&1023),n=56320+(n&1023)),o!==0&&(e[i++]=o&255,e[i++]=o>>>8,o=0),e[i++]=n%256,e[i++]=n>>>8;return e.slice(0,i).toString("ucs2")}function zM(t){return cu(t,"binary").toString("utf8")}var Dx="foo bar baz",c0=Zn&&(zM(Dx)==LS(Dx)&&zM||UM(Dx)==LS(Dx)&&UM)||LS,J0=Zn?function(t){return cu(t,"utf8").toString("binary")}:function(t){for(var e=[],n=0,r=0,s=0;n<t.length;)switch(r=t.charCodeAt(n++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,s=t.charCodeAt(n++)-56320+(r<<10),e.push(String.fromCharCode(240+(s>>18&7))),e.push(String.fromCharCode(144+(s>>12&63))),e.push(String.fromCharCode(128+(s>>6&63))),e.push(String.fromCharCode(128+(s&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},SEe=function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),s=0;s<t.length;++s)r=r.replace(t[s][0],t[s][1]);return r}}(),fG=/(^\s|\s$|\n)/;function ba(t,e){return"<"+t+(e.match(fG)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function Q0(t){return Ea(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function dt(t,e,n){return"<"+t+(n!=null?Q0(n):"")+(e!=null?(e.match(fG)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function hT(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(n){if(e)throw n}return""}function CEe(t,e){switch(typeof t){case"string":var n=dt("vt:lpwstr",lr(t));return n=n.replace(/&quot;/g,"_x0022_"),n;case"number":return dt((t|0)==t?"vt:i4":"vt:r8",lr(String(t)));case"boolean":return dt("vt:bool",t?"true":"false")}if(t instanceof Date)return dt("vt:filetime",hT(t));throw new Error("Unable to serialize "+t)}var Js={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},jp=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Bi={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function NEe(t,e){for(var n=1-2*(t[e+7]>>>7),r=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),s=t[e+6]&15,i=5;i>=0;--i)s=s*256+t[e+i];return r==2047?s==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,s+=Math.pow(2,52)),n*Math.pow(2,r-52)*s)}function TEe(t,e,n){var r=(e<0||1/e==-1/0?1:0)<<7,s=0,i=0,o=r?-e:e;isFinite(o)?o==0?s=i=0:(s=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-s),s<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?s=-1022:(i-=Math.pow(2,52),s+=1023)):(s=2047,i=isNaN(e)?26985:0);for(var l=0;l<=5;++l,i/=256)t[n+l]=i&255;t[n+6]=(s&15)<<4|i&15,t[n+7]=s>>4|r}var qM=function(t){for(var e=[],n=10240,r=0;r<t[0].length;++r)if(t[0][r])for(var s=0,i=t[0][r].length;s<i;s+=n)e.push.apply(e,t[0][r].slice(s,s+n));return e},$M=Zn?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:cu(e)})):qM(t)}:qM,VM=function(t,e,n){for(var r=[],s=e;s<n;s+=2)r.push(String.fromCharCode(Hg(t,s)));return r.join("").replace(l0,"")},AL=Zn?function(t,e,n){return Buffer.isBuffer(t)?t.toString("utf16le",e,n).replace(l0,""):VM(t,e,n)}:VM,HM=function(t,e,n){for(var r=[],s=e;s<e+n;++s)r.push(("0"+t[s].toString(16)).slice(-2));return r.join("")},mG=Zn?function(t,e,n){return Buffer.isBuffer(t)?t.toString("hex",e,e+n):HM(t,e,n)}:HM,GM=function(t,e,n){for(var r=[],s=e;s<n;s++)r.push(String.fromCharCode(pm(t,s)));return r.join("")},Wv=Zn?function(e,n,r){return Buffer.isBuffer(e)?e.toString("utf8",n,r):GM(e,n,r)}:GM,pG=function(t,e){var n=Ui(t,e);return n>0?Wv(t,e+4,e+4+n-1):""},gG=pG,vG=function(t,e){var n=Ui(t,e);return n>0?Wv(t,e+4,e+4+n-1):""},yG=vG,xG=function(t,e){var n=2*Ui(t,e);return n>0?Wv(t,e+4,e+4+n-1):""},bG=xG,wG=function(e,n){var r=Ui(e,n);return r>0?AL(e,n+4,n+4+r):""},_G=wG,jG=function(t,e){var n=Ui(t,e);return n>0?Wv(t,e+4,e+4+n):""},EG=jG,SG=function(t,e){return NEe(t,e)},fb=SG,LL=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Zn&&(gG=function(e,n){if(!Buffer.isBuffer(e))return pG(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},yG=function(e,n){if(!Buffer.isBuffer(e))return vG(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},bG=function(e,n){if(!Buffer.isBuffer(e))return xG(e,n);var r=2*e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r-1)},_G=function(e,n){if(!Buffer.isBuffer(e))return wG(e,n);var r=e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r)},EG=function(e,n){if(!Buffer.isBuffer(e))return jG(e,n);var r=e.readUInt32LE(n);return e.toString("utf8",n+4,n+4+r)},fb=function(e,n){return Buffer.isBuffer(e)?e.readDoubleLE(n):SG(e,n)},LL=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var pm=function(t,e){return t[e]},Hg=function(t,e){return t[e+1]*256+t[e]},AEe=function(t,e){var n=t[e+1]*256+t[e];return n<32768?n:(65535-n+1)*-1},Ui=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},nh=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},LEe=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function u0(t,e){var n="",r,s,i=[],o,l,u,h;switch(e){case"dbcs":if(h=this.l,Zn&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*t).toString("utf16le");else for(u=0;u<t;++u)n+=String.fromCharCode(Hg(this,h)),h+=2;t*=2;break;case"utf8":n=Wv(this,this.l,this.l+t);break;case"utf16le":t*=2,n=AL(this,this.l,this.l+t);break;case"wstr":return u0.call(this,t,"dbcs");case"lpstr-ansi":n=gG(this,this.l),t=4+Ui(this,this.l);break;case"lpstr-cp":n=yG(this,this.l),t=4+Ui(this,this.l);break;case"lpwstr":n=bG(this,this.l),t=4+2*Ui(this,this.l);break;case"lpp4":t=4+Ui(this,this.l),n=_G(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+Ui(this,this.l),n=EG(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,n="";(o=pm(this,this.l+t++))!==0;)i.push(Ox(o));n=i.join("");break;case"_wstr":for(t=0,n="";(o=Hg(this,this.l+t))!==0;)i.push(Ox(o)),t+=2;t+=2,n=i.join("");break;case"dbcs-cont":for(n="",h=this.l,u=0;u<t;++u){if(this.lens&&this.lens.indexOf(h)!==-1)return o=pm(this,h),this.l=h+1,l=u0.call(this,t-u,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(Ox(Hg(this,h))),h+=2}n=i.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(n="",h=this.l,u=0;u!=t;++u){if(this.lens&&this.lens.indexOf(h)!==-1)return o=pm(this,h),this.l=h+1,l=u0.call(this,t-u,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(Ox(pm(this,h))),h+=1}n=i.join("");break;default:switch(t){case 1:return r=pm(this,this.l),this.l++,r;case 2:return r=(e==="i"?AEe:Hg)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||!(this[this.l+3]&128)?(r=(t>0?nh:LEe)(this,this.l),this.l+=4,r):(s=Ui(this,this.l),this.l+=4,s);case 8:case-8:if(e==="f")return t==8?s=fb(this,this.l):s=fb([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;t=8;case 16:n=mG(this,this.l,t);break}}return this.l+=t,n}var REe=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24&255},kEe=function(t,e,n){t[n]=e&255,t[n+1]=e>>8&255,t[n+2]=e>>16&255,t[n+3]=e>>24&255},OEe=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255};function IEe(t,e,n){var r=0,s=0;if(n==="dbcs"){for(s=0;s!=e.length;++s)OEe(this,e.charCodeAt(s),this.l+2*s);r=2*e.length}else if(n==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=e.length;++s)this[this.l+s]=e.charCodeAt(s)&255;r=e.length}else if(n==="hex"){for(;s<t;++s)this[this.l++]=parseInt(e.slice(2*s,2*s+2),16)||0;return this}else if(n==="utf16le"){var i=Math.min(this.l+t,this.length);for(s=0;s<Math.min(e.length,t);++s){var o=e.charCodeAt(s);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(t){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,REe(this,e,this.l);break;case 8:if(r=8,n==="f"){TEe(this,e,this.l);break}case 16:break;case-4:r=4,kEe(this,e,this.l);break}return this.l+=r,this}function CG(t,e){var n=mG(this,this.l,t.length>>1);if(n!==t)throw new Error(e+"Expected "+t+" saw "+n);this.l+=t.length>>1}function Fi(t,e){t.l=e,t.read_shift=u0,t.chk=CG,t.write_shift=IEe}function nc(t,e){t.l+=e}function qe(t){var e=Ah(t);return Fi(e,0),e}function _i(){var t=[],e=Zn?256:2048,n=function(h){var f=qe(h);return Fi(f,0),f},r=n(e),s=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&t.push(r),r=null)},i=function(h){return r&&h<r.length-r.l?r:(s(),r=n(Math.max(h+1,e)))},o=function(){return s(),xa(t)},l=function(h){s(),r=h,r.l==null&&(r.l=r.length),i(e)};return{next:i,push:l,end:o,_bufs:t}}function et(t,e,n,r){var s=+e,i;if(!isNaN(s)){r||(r=N3e[s].p||(n||[]).length||0),i=1+(s>=128?1:0)+1,r>=128&&++i,r>=16384&&++i,r>=2097152&&++i;var o=t.next(i);s<=127?o.write_shift(1,s):(o.write_shift(1,(s&127)+128),o.write_shift(1,s>>7));for(var l=0;l!=4;++l)if(r>=128)o.write_shift(1,(r&127)+128),r>>=7;else{o.write_shift(1,r);break}r>0&&LL(n)&&t.push(n)}}function d0(t,e,n){var r=Ei(t);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function WM(t,e,n){var r=Ei(t);return r.s=d0(r.s,e.s,n),r.e=d0(r.e,e.s,n),r}function h0(t,e){if(t.cRel&&t.c<0)for(t=Ei(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=Ei(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var n=cr(t);return!t.cRel&&t.cRel!=null&&(n=MEe(n)),!t.rRel&&t.rRel!=null&&(n=PEe(n)),n}function RS(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+Fa(t.s.c)+":"+(t.e.cRel?"":"$")+Fa(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+_a(t.s.r)+":"+(t.e.rRel?"":"$")+_a(t.e.r):h0(t.s,e.biff)+":"+h0(t.e,e.biff)}function RL(t){return parseInt(DEe(t),10)-1}function _a(t){return""+(t+1)}function PEe(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function DEe(t){return t.replace(/\$(\d+)$/,"$1")}function kL(t){for(var e=FEe(t),n=0,r=0;r!==e.length;++r)n=26*n+e.charCodeAt(r)-64;return n-1}function Fa(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function MEe(t){return t.replace(/^([A-Z])/,"$$$1")}function FEe(t){return t.replace(/^\$([A-Z])/,"$1")}function BEe(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Qs(t){for(var e=0,n=0,r=0;r<t.length;++r){var s=t.charCodeAt(r);s>=48&&s<=57?e=10*e+(s-48):s>=65&&s<=90&&(n=26*n+(s-64))}return{c:n-1,r:e-1}}function cr(t){for(var e=t.c+1,n="";e;e=(e-1)/26|0)n=String.fromCharCode((e-1)%26+65)+n;return n+(t.r+1)}function Xi(t){var e=t.indexOf(":");return e==-1?{s:Qs(t),e:Qs(t)}:{s:Qs(t.slice(0,e)),e:Qs(t.slice(e+1))}}function As(t,e){return typeof e>"u"||typeof e=="number"?As(t.s,t.e):(typeof t!="string"&&(t=cr(t)),typeof e!="string"&&(e=cr(e)),t==e?t:t+":"+e)}function Lr(t){var e={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,s=0,i=t.length;for(n=0;r<i&&!((s=t.charCodeAt(r)-64)<1||s>26);++r)n=26*n+s;for(e.s.c=--n,n=0;r<i&&!((s=t.charCodeAt(r)-48)<0||s>9);++r)n=10*n+s;if(e.s.r=--n,r===i||s!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,n=0;r!=i&&!((s=t.charCodeAt(r)-64)<1||s>26);++r)n=26*n+s;for(e.e.c=--n,n=0;r!=i&&!((s=t.charCodeAt(r)-48)<0||s>9);++r)n=10*n+s;return e.e.r=--n,e}function KM(t,e){var n=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=yd(t.z,n?ji(e):e)}catch{}try{return t.w=yd((t.XF||{}).numFmtId||(n?14:0),n?ji(e):e)}catch{return""+e}}function tu(t,e,n){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&n&&n.dateNF&&(t.z=n.dateNF),t.t=="e"?Kv[t.v]||t.v:e==null?KM(t,t.v):KM(t,e))}function gf(t,e){var n=e&&e.sheet?e.sheet:"Sheet1",r={};return r[n]=t,{SheetNames:[n],Sheets:r}}function NG(t,e,n){var r=n||{},s=t?Array.isArray(t):r.dense,i=t||(s?[]:{}),o=0,l=0;if(i&&r.origin!=null){if(typeof r.origin=="number")o=r.origin;else{var u=typeof r.origin=="string"?Qs(r.origin):r.origin;o=u.r,l=u.c}i["!ref"]||(i["!ref"]="A1:A1")}var h={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var f=Lr(i["!ref"]);h.s.c=f.s.c,h.s.r=f.s.r,h.e.c=Math.max(h.e.c,f.e.c),h.e.r=Math.max(h.e.r,f.e.r),o==-1&&(h.e.r=o=f.e.r+1)}for(var g=0;g!=e.length;++g)if(e[g]){if(!Array.isArray(e[g]))throw new Error("aoa_to_sheet expects an array of arrays");for(var p=0;p!=e[g].length;++p)if(!(typeof e[g][p]>"u")){var v={v:e[g][p]},w=o+g,E=l+p;if(h.s.r>w&&(h.s.r=w),h.s.c>E&&(h.s.c=E),h.e.r<w&&(h.e.r=w),h.e.c<E&&(h.e.c=E),e[g][p]&&typeof e[g][p]=="object"&&!Array.isArray(e[g][p])&&!(e[g][p]instanceof Date))v=e[g][p];else if(Array.isArray(v.v)&&(v.f=e[g][p][1],v.v=v.v[0]),v.v===null)if(v.f)v.t="n";else if(r.nullError)v.t="e",v.v=0;else if(r.sheetStubs)v.t="z";else continue;else typeof v.v=="number"?v.t="n":typeof v.v=="boolean"?v.t="b":v.v instanceof Date?(v.z=r.dateNF||us[14],r.cellDates?(v.t="d",v.w=yd(v.z,ji(v.v))):(v.t="n",v.v=ji(v.v),v.w=yd(v.z,v.v))):v.t="s";if(s)i[w]||(i[w]=[]),i[w][E]&&i[w][E].z&&(v.z=i[w][E].z),i[w][E]=v;else{var S=cr({c:E,r:w});i[S]&&i[S].z&&(v.z=i[S].z),i[S]=v}}}return h.s.c<1e7&&(i["!ref"]=As(h)),i}function Ep(t,e){return NG(null,t,e)}function UEe(t){return t.read_shift(4,"i")}function ol(t,e){return e||(e=qe(4)),e.write_shift(4,t),e}function Ba(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function Zs(t,e){var n=!1;return e==null&&(n=!0,e=qe(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}function zEe(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function qEe(t,e){return e||(e=qe(4)),e.write_shift(2,0),e.write_shift(2,0),e}function OL(t,e){var n=t.l,r=t.read_shift(1),s=Ba(t),i=[],o={t:s,h:s};if(r&1){for(var l=t.read_shift(4),u=0;u!=l;++u)i.push(zEe(t));o.r=i}else o.r=[{ich:0,ifnt:0}];return t.l=n+e,o}function $Ee(t,e){var n=!1;return e==null&&(n=!0,e=qe(15+4*t.t.length)),e.write_shift(1,0),Zs(t.t,e),n?e.slice(0,e.l):e}var VEe=OL;function HEe(t,e){var n=!1;return e==null&&(n=!0,e=qe(23+4*t.t.length)),e.write_shift(1,1),Zs(t.t,e),e.write_shift(4,1),qEe({},e),n?e.slice(0,e.l):e}function Do(t){var e=t.read_shift(4),n=t.read_shift(2);return n+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:n}}function vf(t,e){return e==null&&(e=qe(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function yf(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function xf(t,e){return e==null&&(e=qe(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var GEe=Ba,TG=Zs;function IL(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function mb(t,e){var n=!1;return e==null&&(n=!0,e=qe(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}var WEe=Ba,fT=IL,PL=mb;function AG(t){var e=t.slice(t.l,t.l+4),n=e[0]&1,r=e[0]&2;t.l+=4;var s=r===0?fb([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):nh(e,0)>>2;return n?s/100:s}function LG(t,e){e==null&&(e=qe(4));var n=0,r=0,s=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?r=1:s==(s|0)&&s>=-536870912&&s<1<<29&&(r=1,n=1),r)e.write_shift(-4,((n?s:t)<<2)+(n+2));else throw new Error("unsupported RkNumber "+t)}function RG(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function KEe(t,e){return e||(e=qe(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var bf=RG,Sp=KEe;function Cp(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function Lh(t,e){return(e||qe(8)).write_shift(8,t,"f")}function YEe(t){var e={},n=t.read_shift(1),r=n>>>1,s=t.read_shift(1),i=t.read_shift(2,"i"),o=t.read_shift(1),l=t.read_shift(1),u=t.read_shift(1);switch(t.l++,r){case 0:e.auto=1;break;case 1:e.index=s;var h=sSe[s];h&&(e.rgb=a8(h));break;case 2:e.rgb=a8([o,l,u]);break;case 3:e.theme=s;break}return i!=0&&(e.tint=i>0?i/32767:i/32768),e}function pb(t,e){if(e||(e=qe(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var n=t.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),e.write_shift(2,n),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var r=t.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),e.write_shift(1,parseInt(r.slice(0,2),16)),e.write_shift(1,parseInt(r.slice(2,4),16)),e.write_shift(1,parseInt(r.slice(4,6),16)),e.write_shift(1,255)}return e}function XEe(t){var e=t.read_shift(1);t.l++;var n={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return n}function JEe(t,e){e||(e=qe(2));var n=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,n),e.write_shift(1,0),e}var kG=2,Mi=3,Mx=11,gb=19,Fx=64,QEe=65,ZEe=71,eSe=4108,tSe=4126,pa=80,YM={1:{n:"CodePage",t:kG},2:{n:"Category",t:pa},3:{n:"PresentationFormat",t:pa},4:{n:"ByteCount",t:Mi},5:{n:"LineCount",t:Mi},6:{n:"ParagraphCount",t:Mi},7:{n:"SlideCount",t:Mi},8:{n:"NoteCount",t:Mi},9:{n:"HiddenCount",t:Mi},10:{n:"MultimediaClipCount",t:Mi},11:{n:"ScaleCrop",t:Mx},12:{n:"HeadingPairs",t:eSe},13:{n:"TitlesOfParts",t:tSe},14:{n:"Manager",t:pa},15:{n:"Company",t:pa},16:{n:"LinksUpToDate",t:Mx},17:{n:"CharacterCount",t:Mi},19:{n:"SharedDoc",t:Mx},22:{n:"HyperlinksChanged",t:Mx},23:{n:"AppVersion",t:Mi,p:"version"},24:{n:"DigSig",t:QEe},26:{n:"ContentType",t:pa},27:{n:"ContentStatus",t:pa},28:{n:"Language",t:pa},29:{n:"Version",t:pa},255:{},2147483648:{n:"Locale",t:gb},2147483651:{n:"Behavior",t:gb},1919054434:{}},XM={1:{n:"CodePage",t:kG},2:{n:"Title",t:pa},3:{n:"Subject",t:pa},4:{n:"Author",t:pa},5:{n:"Keywords",t:pa},6:{n:"Comments",t:pa},7:{n:"Template",t:pa},8:{n:"LastAuthor",t:pa},9:{n:"RevNumber",t:pa},10:{n:"EditTime",t:Fx},11:{n:"LastPrinted",t:Fx},12:{n:"CreatedDate",t:Fx},13:{n:"ModifiedDate",t:Fx},14:{n:"PageCount",t:Mi},15:{n:"WordCount",t:Mi},16:{n:"CharCount",t:Mi},17:{n:"Thumbnail",t:ZEe},18:{n:"Application",t:pa},19:{n:"DocSecurity",t:Mi},255:{},2147483648:{n:"Locale",t:gb},2147483651:{n:"Behavior",t:gb},1919054434:{}};function nSe(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var rSe=nSe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),sSe=Ei(rSe),Kv={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},aSe={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Bx={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function OG(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function IG(t,e){var n=pEe(aSe),r=[],s;r[r.length]=Ls,r[r.length]=dt("Types",null,{xmlns:Js.CT,"xmlns:xsd":Js.xsd,"xmlns:xsi":Js.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(u){return dt("Default",null,{Extension:u[0],ContentType:u[1]})}));var i=function(u){t[u]&&t[u].length>0&&(s=t[u][0],r[r.length]=dt("Override",null,{PartName:(s[0]=="/"?"":"/")+s,ContentType:Bx[u][e.bookType]||Bx[u].xlsx}))},o=function(u){(t[u]||[]).forEach(function(h){r[r.length]=dt("Override",null,{PartName:(h[0]=="/"?"":"/")+h,ContentType:Bx[u][e.bookType]||Bx[u].xlsx})})},l=function(u){(t[u]||[]).forEach(function(h){r[r.length]=dt("Override",null,{PartName:(h[0]=="/"?"":"/")+h,ContentType:n[u][0]})})};return i("workbooks"),o("sheets"),o("charts"),l("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),o("metadata"),l("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var Yn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function PG(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function Pm(t){var e=[Ls,dt("Relationships",null,{xmlns:Js.RELS})];return Ea(t["!id"]).forEach(function(n){e[e.length]=dt("Relationship",null,t["!id"][n])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function or(t,e,n,r,s,i){if(s||(s={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,s.Id="rId"+e,s.Type=r,s.Target=n,[Yn.HLINK,Yn.XPATH,Yn.XMISS].indexOf(s.Type)>-1&&(s.TargetMode="External"),t["!id"][s.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][s.Id]=s,t[("/"+s.Target).replace("//","/")]=s,e}function iSe(t){var e=[Ls];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var n=0;n<t.length;++n)e.push('  <manifest:file-entry manifest:full-path="'+t[n][0]+'" manifest:media-type="'+t[n][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function JM(t,e,n){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function oSe(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function lSe(t){var e=[Ls];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var n=0;n!=t.length;++n)e.push(JM(t[n][0],t[n][1])),e.push(oSe("",t[n][0]));return e.push(JM("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function DG(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+lb.version+"</meta:generator></office:meta></office:document-meta>"}var fh=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function kS(t,e,n,r,s){s[t]!=null||e==null||e===""||(s[t]=e,e=lr(e),r[r.length]=n?dt(t,e,n):ba(t,e))}function MG(t,e){var n=e||{},r=[Ls,dt("cp:coreProperties",null,{"xmlns:cp":Js.CORE_PROPS,"xmlns:dc":Js.dc,"xmlns:dcterms":Js.dcterms,"xmlns:dcmitype":Js.dcmitype,"xmlns:xsi":Js.xsi})],s={};if(!t&&!n.Props)return r.join("");t&&(t.CreatedDate!=null&&kS("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:hT(t.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,s),t.ModifiedDate!=null&&kS("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:hT(t.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,s));for(var i=0;i!=fh.length;++i){var o=fh[i],l=n.Props&&n.Props[o[1]]!=null?n.Props[o[1]]:t?t[o[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&kS(o[0],l,null,r,s)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var Dm=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],FG=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function BG(t){var e=[],n=dt;return t||(t={}),t.Application="SheetJS",e[e.length]=Ls,e[e.length]=dt("Properties",null,{xmlns:Js.EXT_PROPS,"xmlns:vt":Js.vt}),Dm.forEach(function(r){if(t[r[1]]!==void 0){var s;switch(r[2]){case"string":s=lr(String(t[r[1]]));break;case"bool":s=t[r[1]]?"true":"false";break}s!==void 0&&(e[e.length]=n(r[0],s))}}),e[e.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=n("TitlesOfParts",n("vt:vector",t.SheetNames.map(function(r){return"<vt:lpstr>"+lr(r)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function UG(t){var e=[Ls,dt("Properties",null,{xmlns:Js.CUST_PROPS,"xmlns:vt":Js.vt})];if(!t)return e.join("");var n=1;return Ea(t).forEach(function(s){++n,e[e.length]=dt("property",CEe(t[s]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:lr(s)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var QM={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function cSe(t,e){var n=[];return Ea(QM).map(function(r){for(var s=0;s<fh.length;++s)if(fh[s][1]==r)return fh[s];for(s=0;s<Dm.length;++s)if(Dm[s][1]==r)return Dm[s];throw r}).forEach(function(r){if(t[r[1]]!=null){var s=e&&e.Props&&e.Props[r[1]]!=null?e.Props[r[1]]:t[r[1]];switch(r[2]){case"date":s=new Date(s).toISOString().replace(/\.\d*Z/,"Z");break}typeof s=="number"?s=String(s):s===!0||s===!1?s=s?"1":"0":s instanceof Date&&(s=new Date(s).toISOString().replace(/\.\d*Z/,"")),n.push(ba(QM[r[1]]||r[1],s))}}),dt("DocumentProperties",n.join(""),{xmlns:Bi.o})}function uSe(t,e){var n=["Worksheets","SheetNames"],r="CustomDocumentProperties",s=[];return t&&Ea(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)){for(var o=0;o<fh.length;++o)if(i==fh[o][1])return;for(o=0;o<Dm.length;++o)if(i==Dm[o][1])return;for(o=0;o<n.length;++o)if(i==n[o])return;var l=t[i],u="string";typeof l=="number"?(u="float",l=String(l)):l===!0||l===!1?(u="boolean",l=l?"1":"0"):l=String(l),s.push(dt(BM(i),l,{"dt:dt":u}))}}),e&&Ea(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)&&!(t&&Object.prototype.hasOwnProperty.call(t,i))){var o=e[i],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o instanceof Date?(l="dateTime.tz",o=o.toISOString()):o=String(o),s.push(dt(BM(i),o,{"dt:dt":l}))}}),"<"+r+' xmlns="'+Bi.o+'">'+s.join("")+"</"+r+">"}function dSe(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,n=e.getTime()/1e3+11644473600,r=n%Math.pow(2,32),s=(n-r)/Math.pow(2,32);r*=1e7,s*=1e7;var i=r/Math.pow(2,32)|0;i>0&&(r=r%Math.pow(2,32),s+=i);var o=qe(8);return o.write_shift(4,r),o.write_shift(4,s),o}function ZM(t,e){var n=qe(4),r=qe(4);switch(n.write_shift(4,t==80?31:t),t){case 3:r.write_shift(-4,e);break;case 5:r=qe(8),r.write_shift(8,e,"f");break;case 11:r.write_shift(4,e?1:0);break;case 64:r=dSe(e);break;case 31:case 80:for(r=qe(4+2*(e.length+1)+(e.length%2?0:2)),r.write_shift(4,e.length+1),r.write_shift(0,e,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return xa([n,r])}var zG=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function hSe(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function e8(t,e,n){var r=qe(8),s=[],i=[],o=8,l=0,u=qe(8),h=qe(8);if(u.write_shift(4,2),u.write_shift(4,1200),h.write_shift(4,1),i.push(u),s.push(h),o+=8+u.length,!e){h=qe(8),h.write_shift(4,0),s.unshift(h);var f=[qe(4)];for(f[0].write_shift(4,t.length),l=0;l<t.length;++l){var g=t[l][0];for(u=qe(8+2*(g.length+1)+(g.length%2?0:2)),u.write_shift(4,l+2),u.write_shift(4,g.length+1),u.write_shift(0,g,"dbcs");u.l!=u.length;)u.write_shift(1,0);f.push(u)}u=xa(f),i.unshift(u),o+=8+u.length}for(l=0;l<t.length;++l)if(!(e&&!e[t[l][0]])&&!(zG.indexOf(t[l][0])>-1||FG.indexOf(t[l][0])>-1)&&t[l][1]!=null){var p=t[l][1],v=0;if(e){v=+e[t[l][0]];var w=n[v];if(w.p=="version"&&typeof p=="string"){var E=p.split(".");p=(+E[0]<<16)+(+E[1]||0)}u=ZM(w.t,p)}else{var S=hSe(p);S==-1&&(S=31,p=String(p)),u=ZM(S,p)}i.push(u),h=qe(8),h.write_shift(4,e?v:2+l),s.push(h),o+=8+u.length}var C=8*(i.length+1);for(l=0;l<i.length;++l)s[l].write_shift(4,C),C+=i[l].length;return r.write_shift(4,o),r.write_shift(4,i.length),xa([r].concat(s).concat(i))}function t8(t,e,n,r,s,i){var o=qe(s?68:48),l=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,mr.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,s?2:1),o.write_shift(16,e,"hex"),o.write_shift(4,s?68:48);var u=e8(t,n,r);if(l.push(u),s){var h=e8(s,null,null);o.write_shift(16,i,"hex"),o.write_shift(4,68+u.length),l.push(h)}return xa(l)}function fSe(t,e){e||(e=qe(t));for(var n=0;n<t;++n)e.write_shift(1,0);return e}function mSe(t,e){return t.read_shift(e)===1}function ti(t,e){return e||(e=qe(2)),e.write_shift(2,+!!t),e}function qG(t){return t.read_shift(2,"u")}function _o(t,e){return e||(e=qe(2)),e.write_shift(2,t),e}function $G(t,e,n){return n||(n=qe(2)),n.write_shift(1,e=="e"?+t:+!!t),n.write_shift(1,e=="e"?1:0),n}function VG(t,e,n){var r=t.read_shift(n&&n.biff>=12?2:1),s="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var i=t.read_shift(1);i&&(s="dbcs-cont")}else n.biff==12&&(s="wstr");n.biff>=2&&n.biff<=5&&(s="cpstr");var o=r?t.read_shift(r,s):"";return o}function pSe(t){var e=t.t||"",n=qe(3);n.write_shift(2,e.length),n.write_shift(1,1);var r=qe(2*e.length);r.write_shift(2*e.length,e,"utf16le");var s=[n,r];return xa(s)}function gSe(t,e,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return t.read_shift(e,"cpstr");if(n.biff>=12)return t.read_shift(e,"dbcs-cont")}var s=t.read_shift(1);return s===0?r=t.read_shift(e,"sbcs-cont"):r=t.read_shift(e,"dbcs-cont"),r}function vSe(t,e,n){var r=t.read_shift(n&&n.biff==2?1:2);return r===0?(t.l++,""):gSe(t,r,n)}function ySe(t,e,n){if(n.biff>5)return vSe(t,e,n);var r=t.read_shift(1);return r===0?(t.l++,""):t.read_shift(r,n.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function HG(t,e,n){return n||(n=qe(3+2*t.length)),n.write_shift(2,t.length),n.write_shift(1,1),n.write_shift(31,t,"utf16le"),n}function n8(t,e){e||(e=qe(6+t.length*2)),e.write_shift(4,1+t.length);for(var n=0;n<t.length;++n)e.write_shift(2,t.charCodeAt(n));return e.write_shift(2,0),e}function xSe(t){var e=qe(512),n=0,r=t.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var s=r.indexOf("#"),i=s>-1?31:23;switch(r.charAt(0)){case"#":i=28;break;case".":i&=-3;break}e.write_shift(4,2),e.write_shift(4,i);var o=[8,6815827,6619237,4849780,83];for(n=0;n<o.length;++n)e.write_shift(4,o[n]);if(i==28)r=r.slice(1),n8(r,e);else if(i&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<o.length;++n)e.write_shift(1,parseInt(o[n],16));var l=s>-1?r.slice(0,s):r;for(e.write_shift(4,2*(l.length+1)),n=0;n<l.length;++n)e.write_shift(2,l.charCodeAt(n));e.write_shift(2,0),i&8&&n8(s>-1?r.slice(s+1):"",e)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<o.length;++n)e.write_shift(1,parseInt(o[n],16));for(var u=0;r.slice(u*3,u*3+3)=="../"||r.slice(u*3,u*3+3)=="..\\";)++u;for(e.write_shift(2,u),e.write_shift(4,r.length-3*u+1),n=0;n<r.length-3*u;++n)e.write_shift(1,r.charCodeAt(n+3*u)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),n=0;n<6;++n)e.write_shift(4,0)}return e.slice(0,e.l)}function Rh(t,e,n,r){return r||(r=qe(6)),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(2,n||0),r}function bSe(t,e,n){var r=n.biff>8?4:2,s=t.read_shift(r),i=t.read_shift(r,"i"),o=t.read_shift(r,"i");return[s,i,o]}function wSe(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),s=t.read_shift(2);return{s:{c:r,r:e},e:{c:s,r:n}}}function GG(t,e){return e||(e=qe(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function DL(t,e,n){var r=1536,s=16;switch(n.bookType){case"biff8":break;case"biff5":r=1280,s=8;break;case"biff4":r=4,s=6;break;case"biff3":r=3,s=6;break;case"biff2":r=2,s=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=qe(s);return i.write_shift(2,r),i.write_shift(2,e),s>4&&i.write_shift(2,29282),s>6&&i.write_shift(2,1997),s>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function _Se(t,e){var n=!e||e.biff==8,r=qe(n?112:54);for(r.write_shift(e.biff==8?2:1,7),n&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(n?0:536870912));r.l<r.length;)r.write_shift(1,n?0:32);return r}function jSe(t,e){var n=!e||e.biff>=8?2:1,r=qe(8+n*t.name.length);r.write_shift(4,t.pos),r.write_shift(1,t.hs||0),r.write_shift(1,t.dt),r.write_shift(1,t.name.length),e.biff>=8&&r.write_shift(1,1),r.write_shift(n*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var s=r.slice(0,r.l);return s.l=r.l,s}function ESe(t,e){var n=qe(8);n.write_shift(4,t.Count),n.write_shift(4,t.Unique);for(var r=[],s=0;s<t.length;++s)r[s]=pSe(t[s]);var i=xa([n].concat(r));return i.parts=[n.length].concat(r.map(function(o){return o.length})),i}function SSe(){var t=qe(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function CSe(t){var e=qe(18),n=1718;return t&&t.RTL&&(n|=64),e.write_shift(2,n),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function NSe(t,e){var n=t.name||"Arial",r=e&&e.biff==5,s=r?15+n.length:16+2*n.length,i=qe(s);return i.write_shift(2,t.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,n.length),r||i.write_shift(1,1),i.write_shift((r?1:2)*n.length,n,r?"sbcs":"utf16le"),i}function TSe(t,e,n,r){var s=qe(10);return Rh(t,e,r,s),s.write_shift(4,n),s}function ASe(t,e,n,r,s){var i=!s||s.biff==8,o=qe(8+ +i+(1+i)*n.length);return Rh(t,e,r,o),o.write_shift(2,n.length),i&&o.write_shift(1,1),o.write_shift((1+i)*n.length,n,i?"utf16le":"sbcs"),o}function LSe(t,e,n,r){var s=n&&n.biff==5;r||(r=qe(s?3+e.length:5+2*e.length)),r.write_shift(2,t),r.write_shift(s?1:2,e.length),s||r.write_shift(1,1),r.write_shift((s?1:2)*e.length,e,s?"sbcs":"utf16le");var i=r.length>r.l?r.slice(0,r.l):r;return i.l==null&&(i.l=i.length),i}function RSe(t,e){var n=e.biff==8||!e.biff?4:2,r=qe(2*n+6);return r.write_shift(n,t.s.r),r.write_shift(n,t.e.r+1),r.write_shift(2,t.s.c),r.write_shift(2,t.e.c+1),r.write_shift(2,0),r}function r8(t,e,n,r){var s=n&&n.biff==5;r||(r=qe(s?16:20)),r.write_shift(2,0),t.style?(r.write_shift(2,t.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,t.numFmtId||0),r.write_shift(2,e<<4));var i=0;return t.numFmtId>0&&s&&(i|=1024),r.write_shift(4,i),r.write_shift(4,0),s||r.write_shift(4,0),r.write_shift(2,0),r}function kSe(t){var e=qe(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function OSe(t,e,n,r,s,i){var o=qe(8);return Rh(t,e,r,o),$G(n,i,o),o}function ISe(t,e,n,r){var s=qe(14);return Rh(t,e,r,s),Lh(n,s),s}function PSe(t,e,n){if(n.biff<8)return DSe(t,e,n);for(var r=[],s=t.l+e,i=t.read_shift(n.biff>8?4:2);i--!==0;)r.push(bSe(t,n.biff>8?12:6,n));if(t.l!=s)throw new Error("Bad ExternSheet: "+t.l+" != "+s);return r}function DSe(t,e,n){t[t.l+1]==3&&t[t.l]++;var r=VG(t,e,n);return r.charCodeAt(0)==3?r.slice(1):r}function MSe(t){var e=qe(2+t.length*8);e.write_shift(2,t.length);for(var n=0;n<t.length;++n)GG(t[n],e);return e}function FSe(t){var e=qe(24),n=Qs(t[0]);e.write_shift(2,n.r),e.write_shift(2,n.r),e.write_shift(2,n.c),e.write_shift(2,n.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),s=0;s<16;++s)e.write_shift(1,parseInt(r[s],16));return xa([e,xSe(t[1])])}function BSe(t){var e=t[1].Tooltip,n=qe(10+2*(e.length+1));n.write_shift(2,2048);var r=Qs(t[0]);n.write_shift(2,r.r),n.write_shift(2,r.r),n.write_shift(2,r.c),n.write_shift(2,r.c);for(var s=0;s<e.length;++s)n.write_shift(2,e.charCodeAt(s));return n.write_shift(2,0),n}function USe(t){return t||(t=qe(4)),t.write_shift(2,1),t.write_shift(2,1),t}function zSe(t,e,n){if(!n.cellStyles)return nc(t,e);var r=n&&n.biff>=12?4:2,s=t.read_shift(r),i=t.read_shift(r),o=t.read_shift(r),l=t.read_shift(r),u=t.read_shift(2);r==2&&(t.l+=2);var h={s,e:i,w:o,ixfe:l,flags:u};return(n.biff>=5||!n.biff)&&(h.level=u>>8&7),h}function qSe(t,e){var n=qe(12);n.write_shift(2,e),n.write_shift(2,e),n.write_shift(2,t.width*256),n.write_shift(2,0);var r=0;return t.hidden&&(r|=1),n.write_shift(1,r),r=t.level||0,n.write_shift(1,r),n.write_shift(2,0),n}function $Se(t){for(var e=qe(2*t),n=0;n<t;++n)e.write_shift(2,n+1);return e}function VSe(t,e,n){var r=qe(15);return Xv(r,t,e),r.write_shift(8,n,"f"),r}function HSe(t,e,n){var r=qe(9);return Xv(r,t,e),r.write_shift(2,n),r}var GSe=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=SL({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(l,u){var h=[],f=Ah(1);switch(u.type){case"base64":f=rl(eu(l));break;case"binary":f=rl(l);break;case"buffer":case"array":f=l;break}Fi(f,0);var g=f.read_shift(1),p=!!(g&136),v=!1,w=!1;switch(g){case 2:break;case 3:break;case 48:v=!0,p=!0;break;case 49:v=!0,p=!0;break;case 131:break;case 139:break;case 140:w=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+g.toString(16))}var E=0,S=521;g==2&&(E=f.read_shift(2)),f.l+=3,g!=2&&(E=f.read_shift(4)),E>1048576&&(E=1e6),g!=2&&(S=f.read_shift(2));var C=f.read_shift(2),O=u.codepage||1252;g!=2&&(f.l+=16,f.read_shift(1),f[f.l]!==0&&(O=t[f[f.l]]),f.l+=1,f.l+=2),w&&(f.l+=36);for(var I=[],D={},T=Math.min(f.length,g==2?521:S-10-(v?264:0)),F=w?32:11;f.l<T&&f[f.l]!=13;)switch(D={},D.name=NM.utils.decode(O,f.slice(f.l,f.l+F)).replace(/[\u0000\r\n].*$/g,""),f.l+=F,D.type=String.fromCharCode(f.read_shift(1)),g!=2&&!w&&(D.offset=f.read_shift(4)),D.len=f.read_shift(1),g==2&&(D.offset=f.read_shift(2)),D.dec=f.read_shift(1),D.name.length&&I.push(D),g!=2&&(f.l+=w?13:14),D.type){case"B":(!v||D.len!=8)&&u.WTF&&console.log("Skipping "+D.name+":"+D.type);break;case"G":case"P":u.WTF&&console.log("Skipping "+D.name+":"+D.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+D.type)}if(f[f.l]!==13&&(f.l=S-1),f.read_shift(1)!==13)throw new Error("DBF Terminator not found "+f.l+" "+f[f.l]);f.l=S;var y=0,A=0;for(h[0]=[],A=0;A!=I.length;++A)h[0][A]=I[A].name;for(;E-- >0;){if(f[f.l]===42){f.l+=C;continue}for(++f.l,h[++y]=[],A=0,A=0;A!=I.length;++A){var _=f.slice(f.l,f.l+I[A].len);f.l+=I[A].len,Fi(_,0);var L=NM.utils.decode(O,_);switch(I[A].type){case"C":L.trim().length&&(h[y][A]=L.replace(/\s+$/,""));break;case"D":L.length===8?h[y][A]=new Date(+L.slice(0,4),+L.slice(4,6)-1,+L.slice(6,8)):h[y][A]=L;break;case"F":h[y][A]=parseFloat(L.trim());break;case"+":case"I":h[y][A]=w?_.read_shift(-4,"i")^2147483648:_.read_shift(4,"i");break;case"L":switch(L.trim().toUpperCase()){case"Y":case"T":h[y][A]=!0;break;case"N":case"F":h[y][A]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+L+"|")}break;case"M":if(!p)throw new Error("DBF Unexpected MEMO for type "+g.toString(16));h[y][A]="##MEMO##"+(w?parseInt(L.trim(),10):_.read_shift(4));break;case"N":L=L.replace(/\u0000/g,"").trim(),L&&L!="."&&(h[y][A]=+L||0);break;case"@":h[y][A]=new Date(_.read_shift(-8,"f")-621356832e5);break;case"T":h[y][A]=new Date((_.read_shift(4)-2440588)*864e5+_.read_shift(4));break;case"Y":h[y][A]=_.read_shift(4,"i")/1e4+_.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":h[y][A]=-_.read_shift(-8,"f");break;case"B":if(v&&I[A].len==8){h[y][A]=_.read_shift(8,"f");break}case"G":case"P":_.l+=I[A].len;break;case"0":if(I[A].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+I[A].type)}}}if(g!=2&&f.l<f.length&&f[f.l++]!=26)throw new Error("DBF EOF Marker missing "+(f.l-1)+" of "+f.length+" "+f[f.l-1].toString(16));return u&&u.sheetRows&&(h=h.slice(0,u.sheetRows)),u.DBF=I,h}function r(l,u){var h=u||{};h.dateNF||(h.dateNF="yyyymmdd");var f=Ep(n(l,h),h);return f["!cols"]=h.DBF.map(function(g){return{wch:g.len,DBF:g}}),delete h.DBF,f}function s(l,u){try{return gf(r(l,u),u)}catch(h){if(u&&u.WTF)throw h}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,u){var h=u||{};if(+h.codepage>=0&&K0(+h.codepage),h.type=="string")throw new Error("Cannot write DBF to JS string");var f=_i(),g=wb(l,{header:1,raw:!0,cellDates:!0}),p=g[0],v=g.slice(1),w=l["!cols"]||[],E=0,S=0,C=0,O=1;for(E=0;E<p.length;++E){if(((w[E]||{}).DBF||{}).name){p[E]=w[E].DBF.name,++C;continue}if(p[E]!=null){if(++C,typeof p[E]=="number"&&(p[E]=p[E].toString(10)),typeof p[E]!="string")throw new Error("DBF Invalid column name "+p[E]+" |"+typeof p[E]+"|");if(p.indexOf(p[E])!==E){for(S=0;S<1024;++S)if(p.indexOf(p[E]+"_"+S)==-1){p[E]+="_"+S;break}}}}var I=Lr(l["!ref"]),D=[],T=[],F=[];for(E=0;E<=I.e.c-I.s.c;++E){var y="",A="",_=0,L=[];for(S=0;S<v.length;++S)v[S][E]!=null&&L.push(v[S][E]);if(L.length==0||p[E]==null){D[E]="?";continue}for(S=0;S<L.length;++S){switch(typeof L[S]){case"number":A="B";break;case"string":A="C";break;case"boolean":A="L";break;case"object":A=L[S]instanceof Date?"D":"C";break;default:A="C"}_=Math.max(_,String(L[S]).length),y=y&&y!=A?"C":A}_>250&&(_=250),A=((w[E]||{}).DBF||{}).type,A=="C"&&w[E].DBF.len>_&&(_=w[E].DBF.len),y=="B"&&A=="N"&&(y="N",F[E]=w[E].DBF.dec,_=w[E].DBF.len),T[E]=y=="C"||A=="N"?_:i[y]||0,O+=T[E],D[E]=y}var R=f.next(32);for(R.write_shift(4,318902576),R.write_shift(4,v.length),R.write_shift(2,296+32*C),R.write_shift(2,O),E=0;E<4;++E)R.write_shift(4,0);for(R.write_shift(4,0|(+e[KH]||3)<<8),E=0,S=0;E<p.length;++E)if(p[E]!=null){var U=f.next(32),P=(p[E].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);U.write_shift(1,P,"sbcs"),U.write_shift(1,D[E]=="?"?"C":D[E],"sbcs"),U.write_shift(4,S),U.write_shift(1,T[E]||i[D[E]]||0),U.write_shift(1,F[E]||0),U.write_shift(1,2),U.write_shift(4,0),U.write_shift(1,0),U.write_shift(4,0),U.write_shift(4,0),S+=T[E]||i[D[E]]||0}var K=f.next(264);for(K.write_shift(4,13),E=0;E<65;++E)K.write_shift(4,0);for(E=0;E<v.length;++E){var G=f.next(O);for(G.write_shift(1,0),S=0;S<p.length;++S)if(p[S]!=null)switch(D[S]){case"L":G.write_shift(1,v[E][S]==null?63:v[E][S]?84:70);break;case"B":G.write_shift(8,v[E][S]||0,"f");break;case"N":var re="0";for(typeof v[E][S]=="number"&&(re=v[E][S].toFixed(F[S]||0)),C=0;C<T[S]-re.length;++C)G.write_shift(1,32);G.write_shift(1,re,"sbcs");break;case"D":v[E][S]?(G.write_shift(4,("0000"+v[E][S].getFullYear()).slice(-4),"sbcs"),G.write_shift(2,("00"+(v[E][S].getMonth()+1)).slice(-2),"sbcs"),G.write_shift(2,("00"+v[E][S].getDate()).slice(-2),"sbcs")):G.write_shift(8,"00000000","sbcs");break;case"C":var Z=String(v[E][S]!=null?v[E][S]:"").slice(0,T[S]);for(G.write_shift(1,Z,"sbcs"),C=0;C<T[S]-Z.length;++C)G.write_shift(1,32);break}}return f.next(1).write_shift(1,26),f.end()}return{to_workbook:s,to_sheet:r,from_sheet:o}}(),WSe=function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Ea(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(p,v){var w=t[v];return typeof w=="number"?CM(w):w},r=function(p,v,w){var E=v.charCodeAt(0)-32<<4|w.charCodeAt(0)-48;return E==59?p:CM(E)};t["|"]=254;function s(p,v){switch(v.type){case"base64":return i(eu(p),v);case"binary":return i(p,v);case"buffer":return i(Zn&&Buffer.isBuffer(p)?p.toString("binary"):Hv(p),v);case"array":return i(Hw(p),v)}throw new Error("Unrecognized type "+v.type)}function i(p,v){var w=p.split(/[\n\r]+/),E=-1,S=-1,C=0,O=0,I=[],D=[],T=null,F={},y=[],A=[],_=[],L=0,R;for(+v.codepage>=0&&K0(+v.codepage);C!==w.length;++C){L=0;var U=w[C].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,n),P=U.replace(/;;/g,"\0").split(";").map(function(X){return X.replace(/\u0000/g,";")}),K=P[0],G;if(U.length>0)switch(K){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":P[1].charAt(0)=="P"&&D.push(U.slice(3).replace(/;;/g,";"));break;case"C":var re=!1,Z=!1,me=!1,ie=!1,W=-1,ve=-1;for(O=1;O<P.length;++O)switch(P[O].charAt(0)){case"A":break;case"X":S=parseInt(P[O].slice(1))-1,Z=!0;break;case"Y":for(E=parseInt(P[O].slice(1))-1,Z||(S=0),R=I.length;R<=E;++R)I[R]=[];break;case"K":G=P[O].slice(1),G.charAt(0)==='"'?G=G.slice(1,G.length-1):G==="TRUE"?G=!0:G==="FALSE"?G=!1:isNaN(zc(G))?isNaN(X0(G).getDate())||(G=ri(G)):(G=zc(G),T!==null&&iG(T)&&(G=uG(G))),re=!0;break;case"E":ie=!0;var Q=HCe(P[O].slice(1),{r:E,c:S});I[E][S]=[I[E][S],Q];break;case"S":me=!0,I[E][S]=[I[E][S],"S5S"];break;case"G":break;case"R":W=parseInt(P[O].slice(1))-1;break;case"C":ve=parseInt(P[O].slice(1))-1;break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+U)}if(re&&(I[E][S]&&I[E][S].length==2?I[E][S][0]=G:I[E][S]=G,T=null),me){if(ie)throw new Error("SYLK shared formula cannot have own formula");var ne=W>-1&&I[W][ve];if(!ne||!ne[1])throw new Error("SYLK shared formula cannot find base");I[E][S][1]=GCe(ne[1],{r:E-W,c:S-ve})}break;case"F":var te=0;for(O=1;O<P.length;++O)switch(P[O].charAt(0)){case"X":S=parseInt(P[O].slice(1))-1,++te;break;case"Y":for(E=parseInt(P[O].slice(1))-1,R=I.length;R<=E;++R)I[R]=[];break;case"M":L=parseInt(P[O].slice(1))/20;break;case"F":break;case"G":break;case"P":T=D[parseInt(P[O].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(_=P[O].slice(1).split(" "),R=parseInt(_[0],10);R<=parseInt(_[1],10);++R)L=parseInt(_[2],10),A[R-1]=L===0?{hidden:!0}:{wch:L},ML(A[R-1]);break;case"C":S=parseInt(P[O].slice(1))-1,A[S]||(A[S]={});break;case"R":E=parseInt(P[O].slice(1))-1,y[E]||(y[E]={}),L>0?(y[E].hpt=L,y[E].hpx=JG(L)):L===0&&(y[E].hidden=!0);break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+U)}te<1&&(T=null);break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+U)}}return y.length>0&&(F["!rows"]=y),A.length>0&&(F["!cols"]=A),v&&v.sheetRows&&(I=I.slice(0,v.sheetRows)),[I,F]}function o(p,v){var w=s(p,v),E=w[0],S=w[1],C=Ep(E,v);return Ea(S).forEach(function(O){C[O]=S[O]}),C}function l(p,v){return gf(o(p,v),v)}function u(p,v,w,E){var S="C;Y"+(w+1)+";X"+(E+1)+";K";switch(p.t){case"n":S+=p.v||0,p.f&&!p.F&&(S+=";E"+BL(p.f,{r:w,c:E}));break;case"b":S+=p.v?"TRUE":"FALSE";break;case"e":S+=p.w||p.v;break;case"d":S+='"'+(p.w||p.v)+'"';break;case"s":S+='"'+p.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return S}function h(p,v){v.forEach(function(w,E){var S="F;W"+(E+1)+" "+(E+1)+" ";w.hidden?S+="0":(typeof w.width=="number"&&!w.wpx&&(w.wpx=vb(w.width)),typeof w.wpx=="number"&&!w.wch&&(w.wch=yb(w.wpx)),typeof w.wch=="number"&&(S+=Math.round(w.wch))),S.charAt(S.length-1)!=" "&&p.push(S)})}function f(p,v){v.forEach(function(w,E){var S="F;";w.hidden?S+="M0;":w.hpt?S+="M"+20*w.hpt+";":w.hpx&&(S+="M"+20*xb(w.hpx)+";"),S.length>2&&p.push(S+"R"+(E+1))})}function g(p,v){var w=["ID;PWXL;N;E"],E=[],S=Lr(p["!ref"]),C,O=Array.isArray(p),I=`\r
`;w.push("P;PGeneral"),w.push("F;P0;DG0G8;M255"),p["!cols"]&&h(w,p["!cols"]),p["!rows"]&&f(w,p["!rows"]),w.push("B;Y"+(S.e.r-S.s.r+1)+";X"+(S.e.c-S.s.c+1)+";D"+[S.s.c,S.s.r,S.e.c,S.e.r].join(" "));for(var D=S.s.r;D<=S.e.r;++D)for(var T=S.s.c;T<=S.e.c;++T){var F=cr({r:D,c:T});C=O?(p[D]||[])[T]:p[F],!(!C||C.v==null&&(!C.f||C.F))&&E.push(u(C,p,D,T))}return w.join(I)+I+E.join(I)+I+"E"+I}return{to_workbook:l,to_sheet:o,from_sheet:g}}(),KSe=function(){function t(i,o){switch(o.type){case"base64":return e(eu(i),o);case"binary":return e(i,o);case"buffer":return e(Zn&&Buffer.isBuffer(i)?i.toString("binary"):Hv(i),o);case"array":return e(Hw(i),o)}throw new Error("Unrecognized type "+o.type)}function e(i,o){for(var l=i.split(`
`),u=-1,h=-1,f=0,g=[];f!==l.length;++f){if(l[f].trim()==="BOT"){g[++u]=[],h=0;continue}if(!(u<0)){var p=l[f].trim().split(","),v=p[0],w=p[1];++f;for(var E=l[f]||"";(E.match(/["]/g)||[]).length&1&&f<l.length-1;)E+=`
`+l[++f];switch(E=E.trim(),+v){case-1:if(E==="BOT"){g[++u]=[],h=0;continue}else if(E!=="EOD")throw new Error("Unrecognized DIF special command "+E);break;case 0:E==="TRUE"?g[u][h]=!0:E==="FALSE"?g[u][h]=!1:isNaN(zc(w))?isNaN(X0(w).getDate())?g[u][h]=w:g[u][h]=ri(w):g[u][h]=zc(w),++h;break;case 1:E=E.slice(1,E.length-1),E=E.replace(/""/g,'"'),E&&E.match(/^=".*"$/)&&(E=E.slice(2,-1)),g[u][h++]=E!==""?E:null;break}if(E==="EOD")break}}return o&&o.sheetRows&&(g=g.slice(0,o.sheetRows)),g}function n(i,o){return Ep(t(i,o),o)}function r(i,o){return gf(n(i,o),o)}var s=function(){var i=function(u,h,f,g,p){u.push(h),u.push(f+","+g),u.push('"'+p.replace(/"/g,'""')+'"')},o=function(u,h,f,g){u.push(h+","+f),u.push(h==1?'"'+g.replace(/"/g,'""')+'"':g)};return function(u){var h=[],f=Lr(u["!ref"]),g,p=Array.isArray(u);i(h,"TABLE",0,1,"sheetjs"),i(h,"VECTORS",0,f.e.r-f.s.r+1,""),i(h,"TUPLES",0,f.e.c-f.s.c+1,""),i(h,"DATA",0,0,"");for(var v=f.s.r;v<=f.e.r;++v){o(h,-1,0,"BOT");for(var w=f.s.c;w<=f.e.c;++w){var E=cr({r:v,c:w});if(g=p?(u[v]||[])[w]:u[E],!g){o(h,1,0,"");continue}switch(g.t){case"n":var S=g.w;!S&&g.v!=null&&(S=g.v),S==null?g.f&&!g.F?o(h,1,0,"="+g.f):o(h,1,0,""):o(h,0,S,"V");break;case"b":o(h,0,g.v?1:0,g.v?"TRUE":"FALSE");break;case"s":o(h,1,0,isNaN(g.v)?g.v:'="'+g.v+'"');break;case"d":g.w||(g.w=yd(g.z||us[14],ji(ri(g.v)))),o(h,0,g.w,"V");break;default:o(h,1,0,"")}}}o(h,-1,0,"EOD");var C=`\r
`,O=h.join(C);return O}}();return{to_workbook:r,to_sheet:n,from_sheet:s}}(),WG=function(){function t(g){return g.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(g){return g.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(g,p){for(var v=g.split(`
`),w=-1,E=-1,S=0,C=[];S!==v.length;++S){var O=v[S].trim().split(":");if(O[0]==="cell"){var I=Qs(O[1]);if(C.length<=I.r)for(w=C.length;w<=I.r;++w)C[w]||(C[w]=[]);switch(w=I.r,E=I.c,O[2]){case"t":C[w][E]=t(O[3]);break;case"v":C[w][E]=+O[3];break;case"vtf":var D=O[O.length-1];case"vtc":switch(O[3]){case"nl":C[w][E]=!!+O[4];break;default:C[w][E]=+O[4];break}O[2]=="vtf"&&(C[w][E]=[C[w][E],D])}}}return p&&p.sheetRows&&(C=C.slice(0,p.sheetRows)),C}function r(g,p){return Ep(n(g,p),p)}function s(g,p){return gf(r(g,p),p)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),u="--SocialCalcSpreadsheetControlSave--";function h(g){if(!g||!g["!ref"])return"";for(var p=[],v=[],w,E="",S=Xi(g["!ref"]),C=Array.isArray(g),O=S.s.r;O<=S.e.r;++O)for(var I=S.s.c;I<=S.e.c;++I)if(E=cr({r:O,c:I}),w=C?(g[O]||[])[I]:g[E],!(!w||w.v==null||w.t==="z")){switch(v=["cell",E,"t"],w.t){case"s":case"str":v.push(e(w.v));break;case"n":w.f?(v[2]="vtf",v[3]="n",v[4]=w.v,v[5]=e(w.f)):(v[2]="v",v[3]=w.v);break;case"b":v[2]="vt"+(w.f?"f":"c"),v[3]="nl",v[4]=w.v?"1":"0",v[5]=e(w.f||(w.v?"TRUE":"FALSE"));break;case"d":var D=ji(ri(w.v));v[2]="vtc",v[3]="nd",v[4]=""+D,v[5]=w.w||yd(w.z||us[14],D);break;case"e":continue}p.push(v.join(":"))}return p.push("sheet:c:"+(S.e.c-S.s.c+1)+":r:"+(S.e.r-S.s.r+1)+":tvf:1"),p.push("valueformat:1:text-wiki"),p.join(`
`)}function f(g){return[i,o,l,o,h(g),u].join(`
`)}return{to_workbook:s,to_sheet:r,from_sheet:f}}(),YSe=function(){function t(f,g,p,v,w){w.raw?g[p][v]=f:f===""||(f==="TRUE"?g[p][v]=!0:f==="FALSE"?g[p][v]=!1:isNaN(zc(f))?isNaN(X0(f).getDate())?g[p][v]=f:g[p][v]=ri(f):g[p][v]=zc(f))}function e(f,g){var p=g||{},v=[];if(!f||f.length===0)return v;for(var w=f.split(/[\r\n]/),E=w.length-1;E>=0&&w[E].length===0;)--E;for(var S=10,C=0,O=0;O<=E;++O)C=w[O].indexOf(" "),C==-1?C=w[O].length:C++,S=Math.max(S,C);for(O=0;O<=E;++O){v[O]=[];var I=0;for(t(w[O].slice(0,S).trim(),v,O,I,p),I=1;I<=(w[O].length-S)/10+1;++I)t(w[O].slice(S+(I-1)*10,S+I*10).trim(),v,O,I,p)}return p.sheetRows&&(v=v.slice(0,p.sheetRows)),v}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function s(f){for(var g={},p=!1,v=0,w=0;v<f.length;++v)(w=f.charCodeAt(v))==34?p=!p:!p&&w in n&&(g[w]=(g[w]||0)+1);w=[];for(v in g)Object.prototype.hasOwnProperty.call(g,v)&&w.push([g[v],v]);if(!w.length){g=r;for(v in g)Object.prototype.hasOwnProperty.call(g,v)&&w.push([g[v],v])}return w.sort(function(E,S){return E[0]-S[0]||r[E[1]]-r[S[1]]}),n[w.pop()[1]]||44}function i(f,g){var p=g||{},v="",w=p.dense?[]:{},E={s:{c:0,r:0},e:{c:0,r:0}};f.slice(0,4)=="sep="?f.charCodeAt(5)==13&&f.charCodeAt(6)==10?(v=f.charAt(4),f=f.slice(7)):f.charCodeAt(5)==13||f.charCodeAt(5)==10?(v=f.charAt(4),f=f.slice(6)):v=s(f.slice(0,1024)):p&&p.FS?v=p.FS:v=s(f.slice(0,1024));var S=0,C=0,O=0,I=0,D=0,T=v.charCodeAt(0),F=!1,y=0,A=f.charCodeAt(0);f=f.replace(/\r\n/mg,`
`);var _=p.dateNF!=null?dEe(p.dateNF):null;function L(){var R=f.slice(I,D),U={};if(R.charAt(0)=='"'&&R.charAt(R.length-1)=='"'&&(R=R.slice(1,-1).replace(/""/g,'"')),R.length===0)U.t="z";else if(p.raw)U.t="s",U.v=R;else if(R.trim().length===0)U.t="s",U.v=R;else if(R.charCodeAt(0)==61)R.charCodeAt(1)==34&&R.charCodeAt(R.length-1)==34?(U.t="s",U.v=R.slice(2,-1).replace(/""/g,'"')):WCe(R)?(U.t="n",U.f=R.slice(1)):(U.t="s",U.v=R);else if(R=="TRUE")U.t="b",U.v=!0;else if(R=="FALSE")U.t="b",U.v=!1;else if(!isNaN(O=zc(R)))U.t="n",p.cellText!==!1&&(U.w=R),U.v=O;else if(!isNaN(X0(R).getDate())||_&&R.match(_)){U.z=p.dateNF||us[14];var P=0;_&&R.match(_)&&(R=hEe(R,p.dateNF,R.match(_)||[]),P=1),p.cellDates?(U.t="d",U.v=ri(R,P)):(U.t="n",U.v=ji(ri(R,P))),p.cellText!==!1&&(U.w=yd(U.z,U.v instanceof Date?ji(U.v):U.v)),p.cellNF||delete U.z}else U.t="s",U.v=R;if(U.t=="z"||(p.dense?(w[S]||(w[S]=[]),w[S][C]=U):w[cr({c:C,r:S})]=U),I=D+1,A=f.charCodeAt(I),E.e.c<C&&(E.e.c=C),E.e.r<S&&(E.e.r=S),y==T)++C;else if(C=0,++S,p.sheetRows&&p.sheetRows<=S)return!0}e:for(;D<f.length;++D)switch(y=f.charCodeAt(D)){case 34:A===34&&(F=!F);break;case T:case 10:case 13:if(!F&&L())break e;break}return D-I>0&&L(),w["!ref"]=As(E),w}function o(f,g){return!(g&&g.PRN)||g.FS||f.slice(0,4)=="sep="||f.indexOf("	")>=0||f.indexOf(",")>=0||f.indexOf(";")>=0?i(f,g):Ep(e(f,g),g)}function l(f,g){var p="",v=g.type=="string"?[0,0,0,0]:oLe(f,g);switch(g.type){case"base64":p=eu(f);break;case"binary":p=f;break;case"buffer":g.codepage==65001?p=f.toString("utf8"):(g.codepage,p=Zn&&Buffer.isBuffer(f)?f.toString("binary"):Hv(f));break;case"array":p=Hw(f);break;case"string":p=f;break;default:throw new Error("Unrecognized type "+g.type)}return v[0]==239&&v[1]==187&&v[2]==191?p=c0(p.slice(3)):g.type!="string"&&g.type!="buffer"&&g.codepage==65001?p=c0(p):g.type=="binary",p.slice(0,19)=="socialcalc:version:"?WG.to_sheet(g.type=="string"?p:c0(p),g):o(p,g)}function u(f,g){return gf(l(f,g),g)}function h(f){for(var g=[],p=Lr(f["!ref"]),v,w=Array.isArray(f),E=p.s.r;E<=p.e.r;++E){for(var S=[],C=p.s.c;C<=p.e.c;++C){var O=cr({r:E,c:C});if(v=w?(f[E]||[])[C]:f[O],!v||v.v==null){S.push("          ");continue}for(var I=(v.w||(tu(v),v.w)||"").slice(0,10);I.length<10;)I+=" ";S.push(I+(C===0?" ":""))}g.push(S.join(""))}return g.join(`
`)}return{to_workbook:u,to_sheet:l,from_sheet:h}}(),s8=function(){function t(Q,ne,te){if(Q){Fi(Q,Q.l||0);for(var X=te.Enum||W;Q.l<Q.length;){var be=Q.read_shift(2),Ne=X[be]||X[65535],Ee=Q.read_shift(2),Ie=Q.l+Ee,_e=Ne.f&&Ne.f(Q,Ee,te);if(Q.l=Ie,ne(_e,Ne,be))return}}}function e(Q,ne){switch(ne.type){case"base64":return n(rl(eu(Q)),ne);case"binary":return n(rl(Q),ne);case"buffer":case"array":return n(Q,ne)}throw"Unsupported type "+ne.type}function n(Q,ne){if(!Q)return Q;var te=ne||{},X=te.dense?[]:{},be="Sheet1",Ne="",Ee=0,Ie={},_e=[],Ue=[],tt={s:{r:0,c:0},e:{r:0,c:0}},ct=te.sheetRows||0;if(Q[2]==0&&(Q[3]==8||Q[3]==9)&&Q.length>=16&&Q[14]==5&&Q[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(Q[2]==2)te.Enum=W,t(Q,function(Ze,zt,Cn){switch(Cn){case 0:te.vers=Ze,Ze>=4096&&(te.qpro=!0);break;case 6:tt=Ze;break;case 204:Ze&&(Ne=Ze);break;case 222:Ne=Ze;break;case 15:case 51:te.qpro||(Ze[1].v=Ze[1].v.slice(1));case 13:case 14:case 16:Cn==14&&(Ze[2]&112)==112&&(Ze[2]&15)>1&&(Ze[2]&15)<15&&(Ze[1].z=te.dateNF||us[14],te.cellDates&&(Ze[1].t="d",Ze[1].v=uG(Ze[1].v))),te.qpro&&Ze[3]>Ee&&(X["!ref"]=As(tt),Ie[be]=X,_e.push(be),X=te.dense?[]:{},tt={s:{r:0,c:0},e:{r:0,c:0}},Ee=Ze[3],be=Ne||"Sheet"+(Ee+1),Ne="");var fn=te.dense?(X[Ze[0].r]||[])[Ze[0].c]:X[cr(Ze[0])];if(fn){fn.t=Ze[1].t,fn.v=Ze[1].v,Ze[1].z!=null&&(fn.z=Ze[1].z),Ze[1].f!=null&&(fn.f=Ze[1].f);break}te.dense?(X[Ze[0].r]||(X[Ze[0].r]=[]),X[Ze[0].r][Ze[0].c]=Ze[1]):X[cr(Ze[0])]=Ze[1];break}},te);else if(Q[2]==26||Q[2]==14)te.Enum=ve,Q[2]==14&&(te.qpro=!0,Q.l=0),t(Q,function(Ze,zt,Cn){switch(Cn){case 204:be=Ze;break;case 22:Ze[1].v=Ze[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ze[3]>Ee&&(X["!ref"]=As(tt),Ie[be]=X,_e.push(be),X=te.dense?[]:{},tt={s:{r:0,c:0},e:{r:0,c:0}},Ee=Ze[3],be="Sheet"+(Ee+1)),ct>0&&Ze[0].r>=ct)break;te.dense?(X[Ze[0].r]||(X[Ze[0].r]=[]),X[Ze[0].r][Ze[0].c]=Ze[1]):X[cr(Ze[0])]=Ze[1],tt.e.c<Ze[0].c&&(tt.e.c=Ze[0].c),tt.e.r<Ze[0].r&&(tt.e.r=Ze[0].r);break;case 27:Ze[14e3]&&(Ue[Ze[14e3][0]]=Ze[14e3][1]);break;case 1537:Ue[Ze[0]]=Ze[1],Ze[0]==Ee&&(be=Ze[1]);break}},te);else throw new Error("Unrecognized LOTUS BOF "+Q[2]);if(X["!ref"]=As(tt),Ie[Ne||be]=X,_e.push(Ne||be),!Ue.length)return{SheetNames:_e,Sheets:Ie};for(var ut={},Ye=[],Et=0;Et<Ue.length;++Et)Ie[_e[Et]]?(Ye.push(Ue[Et]||_e[Et]),ut[Ue[Et]]=Ie[Ue[Et]]||Ie[_e[Et]]):(Ye.push(Ue[Et]),ut[Ue[Et]]={"!ref":"A1"});return{SheetNames:Ye,Sheets:ut}}function r(Q,ne){var te=ne||{};if(+te.codepage>=0&&K0(+te.codepage),te.type=="string")throw new Error("Cannot write WK1 to JS string");var X=_i(),be=Lr(Q["!ref"]),Ne=Array.isArray(Q),Ee=[];ft(X,0,i(1030)),ft(X,6,u(be));for(var Ie=Math.min(be.e.r,8191),_e=be.s.r;_e<=Ie;++_e)for(var Ue=_a(_e),tt=be.s.c;tt<=be.e.c;++tt){_e===be.s.r&&(Ee[tt]=Fa(tt));var ct=Ee[tt]+Ue,ut=Ne?(Q[_e]||[])[tt]:Q[ct];if(!(!ut||ut.t=="z"))if(ut.t=="n")(ut.v|0)==ut.v&&ut.v>=-32768&&ut.v<=32767?ft(X,13,v(_e,tt,ut.v)):ft(X,14,E(_e,tt,ut.v));else{var Ye=tu(ut);ft(X,15,g(_e,tt,Ye.slice(0,239)))}}return ft(X,1),X.end()}function s(Q,ne){var te=ne||{};if(+te.codepage>=0&&K0(+te.codepage),te.type=="string")throw new Error("Cannot write WK3 to JS string");var X=_i();ft(X,0,o(Q));for(var be=0,Ne=0;be<Q.SheetNames.length;++be)(Q.Sheets[Q.SheetNames[be]]||{})["!ref"]&&ft(X,27,ie(Q.SheetNames[be],Ne++));var Ee=0;for(be=0;be<Q.SheetNames.length;++be){var Ie=Q.Sheets[Q.SheetNames[be]];if(!(!Ie||!Ie["!ref"])){for(var _e=Lr(Ie["!ref"]),Ue=Array.isArray(Ie),tt=[],ct=Math.min(_e.e.r,8191),ut=_e.s.r;ut<=ct;++ut)for(var Ye=_a(ut),Et=_e.s.c;Et<=_e.e.c;++Et){ut===_e.s.r&&(tt[Et]=Fa(Et));var Ze=tt[Et]+Ye,zt=Ue?(Ie[ut]||[])[Et]:Ie[Ze];if(!(!zt||zt.t=="z"))if(zt.t=="n")ft(X,23,L(ut,Et,Ee,zt.v));else{var Cn=tu(zt);ft(X,22,y(ut,Et,Ee,Cn.slice(0,239)))}}++Ee}}return ft(X,1),X.end()}function i(Q){var ne=qe(2);return ne.write_shift(2,Q),ne}function o(Q){var ne=qe(26);ne.write_shift(2,4096),ne.write_shift(2,4),ne.write_shift(4,0);for(var te=0,X=0,be=0,Ne=0;Ne<Q.SheetNames.length;++Ne){var Ee=Q.SheetNames[Ne],Ie=Q.Sheets[Ee];if(!(!Ie||!Ie["!ref"])){++be;var _e=Xi(Ie["!ref"]);te<_e.e.r&&(te=_e.e.r),X<_e.e.c&&(X=_e.e.c)}}return te>8191&&(te=8191),ne.write_shift(2,te),ne.write_shift(1,be),ne.write_shift(1,X),ne.write_shift(2,0),ne.write_shift(2,0),ne.write_shift(1,1),ne.write_shift(1,2),ne.write_shift(4,0),ne.write_shift(4,0),ne}function l(Q,ne,te){var X={s:{c:0,r:0},e:{c:0,r:0}};return ne==8&&te.qpro?(X.s.c=Q.read_shift(1),Q.l++,X.s.r=Q.read_shift(2),X.e.c=Q.read_shift(1),Q.l++,X.e.r=Q.read_shift(2),X):(X.s.c=Q.read_shift(2),X.s.r=Q.read_shift(2),ne==12&&te.qpro&&(Q.l+=2),X.e.c=Q.read_shift(2),X.e.r=Q.read_shift(2),ne==12&&te.qpro&&(Q.l+=2),X.s.c==65535&&(X.s.c=X.e.c=X.s.r=X.e.r=0),X)}function u(Q){var ne=qe(8);return ne.write_shift(2,Q.s.c),ne.write_shift(2,Q.s.r),ne.write_shift(2,Q.e.c),ne.write_shift(2,Q.e.r),ne}function h(Q,ne,te){var X=[{c:0,r:0},{t:"n",v:0},0,0];return te.qpro&&te.vers!=20768?(X[0].c=Q.read_shift(1),X[3]=Q.read_shift(1),X[0].r=Q.read_shift(2),Q.l+=2):(X[2]=Q.read_shift(1),X[0].c=Q.read_shift(2),X[0].r=Q.read_shift(2)),X}function f(Q,ne,te){var X=Q.l+ne,be=h(Q,ne,te);if(be[1].t="s",te.vers==20768){Q.l++;var Ne=Q.read_shift(1);return be[1].v=Q.read_shift(Ne,"utf8"),be}return te.qpro&&Q.l++,be[1].v=Q.read_shift(X-Q.l,"cstr"),be}function g(Q,ne,te){var X=qe(7+te.length);X.write_shift(1,255),X.write_shift(2,ne),X.write_shift(2,Q),X.write_shift(1,39);for(var be=0;be<X.length;++be){var Ne=te.charCodeAt(be);X.write_shift(1,Ne>=128?95:Ne)}return X.write_shift(1,0),X}function p(Q,ne,te){var X=h(Q,ne,te);return X[1].v=Q.read_shift(2,"i"),X}function v(Q,ne,te){var X=qe(7);return X.write_shift(1,255),X.write_shift(2,ne),X.write_shift(2,Q),X.write_shift(2,te,"i"),X}function w(Q,ne,te){var X=h(Q,ne,te);return X[1].v=Q.read_shift(8,"f"),X}function E(Q,ne,te){var X=qe(13);return X.write_shift(1,255),X.write_shift(2,ne),X.write_shift(2,Q),X.write_shift(8,te,"f"),X}function S(Q,ne,te){var X=Q.l+ne,be=h(Q,ne,te);if(be[1].v=Q.read_shift(8,"f"),te.qpro)Q.l=X;else{var Ne=Q.read_shift(2);D(Q.slice(Q.l,Q.l+Ne),be),Q.l+=Ne}return be}function C(Q,ne,te){var X=ne&32768;return ne&=-32769,ne=(X?Q:0)+(ne>=8192?ne-16384:ne),(X?"":"$")+(te?Fa(ne):_a(ne))}var O={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},I=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function D(Q,ne){Fi(Q,0);for(var te=[],X=0,be="",Ne="",Ee="",Ie="";Q.l<Q.length;){var _e=Q[Q.l++];switch(_e){case 0:te.push(Q.read_shift(8,"f"));break;case 1:Ne=C(ne[0].c,Q.read_shift(2),!0),be=C(ne[0].r,Q.read_shift(2),!1),te.push(Ne+be);break;case 2:{var Ue=C(ne[0].c,Q.read_shift(2),!0),tt=C(ne[0].r,Q.read_shift(2),!1);Ne=C(ne[0].c,Q.read_shift(2),!0),be=C(ne[0].r,Q.read_shift(2),!1),te.push(Ue+tt+":"+Ne+be)}break;case 3:if(Q.l<Q.length){console.error("WK1 premature formula end");return}break;case 4:te.push("("+te.pop()+")");break;case 5:te.push(Q.read_shift(2));break;case 6:{for(var ct="";_e=Q[Q.l++];)ct+=String.fromCharCode(_e);te.push('"'+ct.replace(/"/g,'""')+'"')}break;case 8:te.push("-"+te.pop());break;case 23:te.push("+"+te.pop());break;case 22:te.push("NOT("+te.pop()+")");break;case 20:case 21:Ie=te.pop(),Ee=te.pop(),te.push(["AND","OR"][_e-20]+"("+Ee+","+Ie+")");break;default:if(_e<32&&I[_e])Ie=te.pop(),Ee=te.pop(),te.push(Ee+I[_e]+Ie);else if(O[_e]){if(X=O[_e][1],X==69&&(X=Q[Q.l++]),X>te.length){console.error("WK1 bad formula parse 0x"+_e.toString(16)+":|"+te.join("|")+"|");return}var ut=te.slice(-X);te.length-=X,te.push(O[_e][0]+"("+ut.join(",")+")")}else return _e<=7?console.error("WK1 invalid opcode "+_e.toString(16)):_e<=24?console.error("WK1 unsupported op "+_e.toString(16)):_e<=30?console.error("WK1 invalid opcode "+_e.toString(16)):_e<=115?console.error("WK1 unsupported function opcode "+_e.toString(16)):console.error("WK1 unrecognized opcode "+_e.toString(16))}}te.length==1?ne[1].f=""+te[0]:console.error("WK1 bad formula parse |"+te.join("|")+"|")}function T(Q){var ne=[{c:0,r:0},{t:"n",v:0},0];return ne[0].r=Q.read_shift(2),ne[3]=Q[Q.l++],ne[0].c=Q[Q.l++],ne}function F(Q,ne){var te=T(Q);return te[1].t="s",te[1].v=Q.read_shift(ne-4,"cstr"),te}function y(Q,ne,te,X){var be=qe(6+X.length);be.write_shift(2,Q),be.write_shift(1,te),be.write_shift(1,ne),be.write_shift(1,39);for(var Ne=0;Ne<X.length;++Ne){var Ee=X.charCodeAt(Ne);be.write_shift(1,Ee>=128?95:Ee)}return be.write_shift(1,0),be}function A(Q,ne){var te=T(Q);te[1].v=Q.read_shift(2);var X=te[1].v>>1;if(te[1].v&1)switch(X&7){case 0:X=(X>>3)*5e3;break;case 1:X=(X>>3)*500;break;case 2:X=(X>>3)/20;break;case 3:X=(X>>3)/200;break;case 4:X=(X>>3)/2e3;break;case 5:X=(X>>3)/2e4;break;case 6:X=(X>>3)/16;break;case 7:X=(X>>3)/64;break}return te[1].v=X,te}function _(Q,ne){var te=T(Q),X=Q.read_shift(4),be=Q.read_shift(4),Ne=Q.read_shift(2);if(Ne==65535)return X===0&&be===3221225472?(te[1].t="e",te[1].v=15):X===0&&be===3489660928?(te[1].t="e",te[1].v=42):te[1].v=0,te;var Ee=Ne&32768;return Ne=(Ne&32767)-16446,te[1].v=(1-Ee*2)*(be*Math.pow(2,Ne+32)+X*Math.pow(2,Ne)),te}function L(Q,ne,te,X){var be=qe(14);if(be.write_shift(2,Q),be.write_shift(1,te),be.write_shift(1,ne),X==0)return be.write_shift(4,0),be.write_shift(4,0),be.write_shift(2,65535),be;var Ne=0,Ee=0,Ie=0,_e=0;return X<0&&(Ne=1,X=-X),Ee=Math.log2(X)|0,X/=Math.pow(2,Ee-31),_e=X>>>0,_e&2147483648||(X/=2,++Ee,_e=X>>>0),X-=_e,_e|=2147483648,_e>>>=0,X*=Math.pow(2,32),Ie=X>>>0,be.write_shift(4,Ie),be.write_shift(4,_e),Ee+=16383+(Ne?32768:0),be.write_shift(2,Ee),be}function R(Q,ne){var te=_(Q);return Q.l+=ne-14,te}function U(Q,ne){var te=T(Q),X=Q.read_shift(4);return te[1].v=X>>6,te}function P(Q,ne){var te=T(Q),X=Q.read_shift(8,"f");return te[1].v=X,te}function K(Q,ne){var te=P(Q);return Q.l+=ne-10,te}function G(Q,ne){return Q[Q.l+ne-1]==0?Q.read_shift(ne,"cstr"):""}function re(Q,ne){var te=Q[Q.l++];te>ne-1&&(te=ne-1);for(var X="";X.length<te;)X+=String.fromCharCode(Q[Q.l++]);return X}function Z(Q,ne,te){if(!(!te.qpro||ne<21)){var X=Q.read_shift(1);Q.l+=17,Q.l+=1,Q.l+=2;var be=Q.read_shift(ne-21,"cstr");return[X,be]}}function me(Q,ne){for(var te={},X=Q.l+ne;Q.l<X;){var be=Q.read_shift(2);if(be==14e3){for(te[be]=[0,""],te[be][0]=Q.read_shift(2);Q[Q.l];)te[be][1]+=String.fromCharCode(Q[Q.l]),Q.l++;Q.l++}}return te}function ie(Q,ne){var te=qe(5+Q.length);te.write_shift(2,14e3),te.write_shift(2,ne);for(var X=0;X<Q.length;++X){var be=Q.charCodeAt(X);te[te.l++]=be>127?95:be}return te[te.l++]=0,te}var W={0:{n:"BOF",f:qG},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:p},14:{n:"NUMBER",f:w},15:{n:"LABEL",f},16:{n:"FORMULA",f:S},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:G},222:{n:"SHEETNAMELP",f:re},65535:{n:""}},ve={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:F},23:{n:"NUMBER17",f:_},24:{n:"NUMBER18",f:A},25:{n:"FORMULA19",f:R},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:me},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:U},38:{n:"??"},39:{n:"NUMBER27",f:P},40:{n:"FORMULA28",f:K},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:G},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Z},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:s,to_workbook:e}}(),XSe=/^\s|\s$|[\t\n\r]/;function KG(t,e){if(!e.bookSST)return"";var n=[Ls];n[n.length]=dt("sst",null,{xmlns:jp[0],count:t.Count,uniqueCount:t.Unique});for(var r=0;r!=t.length;++r)if(t[r]!=null){var s=t[r],i="<si>";s.r?i+=s.r:(i+="<t",s.t||(s.t=""),s.t.match(XSe)&&(i+=' xml:space="preserve"'),i+=">"+lr(s.t)+"</t>"),i+="</si>",n[n.length]=i}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}function JSe(t){return[t.read_shift(4),t.read_shift(4)]}function QSe(t,e){return e||(e=qe(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var ZSe=$Ee;function eCe(t){var e=_i();et(e,159,QSe(t));for(var n=0;n<t.length;++n)et(e,19,ZSe(t[n]));return et(e,160),e.end()}function tCe(t){for(var e=[],n=t.split(""),r=0;r<n.length;++r)e[r]=n[r].charCodeAt(0);return e}function YG(t){var e=0,n,r=tCe(t),s=r.length+1,i,o,l,u,h;for(n=Ah(s),n[0]=r.length,i=1;i!=s;++i)n[i]=r[i-1];for(i=s-1;i>=0;--i)o=n[i],l=e&16384?1:0,u=e<<1&32767,h=l|u,e=h^o;return e^52811}var nCe=function(){function t(s,i){switch(i.type){case"base64":return e(eu(s),i);case"binary":return e(s,i);case"buffer":return e(Zn&&Buffer.isBuffer(s)?s.toString("binary"):Hv(s),i);case"array":return e(Hw(s),i)}throw new Error("Unrecognized type "+i.type)}function e(s,i){var o=i||{},l=o.dense?[]:{},u=s.match(/\\trowd.*?\\row\b/g);if(!u.length)throw new Error("RTF missing table");var h={s:{c:0,r:0},e:{c:0,r:u.length-1}};return u.forEach(function(f,g){Array.isArray(l)&&(l[g]=[]);for(var p=/\\\w+\b/g,v=0,w,E=-1;w=p.exec(f);){switch(w[0]){case"\\cell":var S=f.slice(v,p.lastIndex-w[0].length);if(S[0]==" "&&(S=S.slice(1)),++E,S.length){var C={v:S,t:"s"};Array.isArray(l)?l[g][E]=C:l[cr({r:g,c:E})]=C}break}v=p.lastIndex}E>h.e.c&&(h.e.c=E)}),l["!ref"]=As(h),l}function n(s,i){return gf(t(s,i),i)}function r(s){for(var i=["{\\rtf1\\ansi"],o=Lr(s["!ref"]),l,u=Array.isArray(s),h=o.s.r;h<=o.e.r;++h){i.push("\\trowd\\trautofit1");for(var f=o.s.c;f<=o.e.c;++f)i.push("\\cellx"+(f+1));for(i.push("\\pard\\intbl"),f=o.s.c;f<=o.e.c;++f){var g=cr({r:h,c:f});l=u?(s[h]||[])[f]:s[g],!(!l||l.v==null&&(!l.f||l.F))&&(i.push(" "+(l.w||(tu(l),l.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:n,to_sheet:t,from_sheet:r}}();function a8(t){for(var e=0,n=1;e!=3;++e)n=n*256+(t[e]>255?255:t[e]<0?0:t[e]);return n.toString(16).toUpperCase().slice(1)}var rCe=6,qc=rCe;function vb(t){return Math.floor((t+Math.round(128/qc)/256)*qc)}function yb(t){return Math.floor((t-5)/qc*100+.5)/100}function mT(t){return Math.round((t*qc+5)/qc*256)/256}function ML(t){t.width?(t.wpx=vb(t.width),t.wch=yb(t.wpx),t.MDW=qc):t.wpx?(t.wch=yb(t.wpx),t.width=mT(t.wch),t.MDW=qc):typeof t.wch=="number"&&(t.width=mT(t.wch),t.wpx=vb(t.width),t.MDW=qc),t.customWidth&&delete t.customWidth}var sCe=96,XG=sCe;function xb(t){return t*96/XG}function JG(t){return t*XG/96}function aCe(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)t[r]!=null&&(e[e.length]=dt("numFmt",null,{numFmtId:r,formatCode:lr(t[r])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=dt("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function iCe(t){var e=[];return e[e.length]=dt("cellXfs",null),t.forEach(function(n){e[e.length]=dt("xf",null,n)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=dt("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function QG(t,e){var n=[Ls,dt("styleSheet",null,{xmlns:jp[0],"xmlns:vt":Js.vt})],r;return t.SSF&&(r=aCe(t.SSF))!=null&&(n[n.length]=r),n[n.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',n[n.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',n[n.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',n[n.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=iCe(e.cellXfs))&&(n[n.length]=r),n[n.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',n[n.length]='<dxfs count="0"/>',n[n.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',n.length>2&&(n[n.length]="</styleSheet>",n[1]=n[1].replace("/>",">")),n.join("")}function oCe(t,e){var n=t.read_shift(2),r=Ba(t);return[n,r]}function lCe(t,e,n){n||(n=qe(6+4*e.length)),n.write_shift(2,t),Zs(e,n);var r=n.length>n.l?n.slice(0,n.l):n;return n.l==null&&(n.l=n.length),r}function cCe(t,e,n){var r={};r.sz=t.read_shift(2)/20;var s=XEe(t);s.fItalic&&(r.italic=1),s.fCondense&&(r.condense=1),s.fExtend&&(r.extend=1),s.fShadow&&(r.shadow=1),s.fOutline&&(r.outline=1),s.fStrikeout&&(r.strike=1);var i=t.read_shift(2);switch(i===700&&(r.bold=1),t.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var o=t.read_shift(1);o!=0&&(r.underline=o);var l=t.read_shift(1);l>0&&(r.family=l);var u=t.read_shift(1);switch(u>0&&(r.charset=u),t.l++,r.color=YEe(t),t.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=Ba(t),r}function uCe(t,e){e||(e=qe(25+4*32)),e.write_shift(2,t.sz*20),JEe(t,e),e.write_shift(2,t.bold?700:400);var n=0;t.vertAlign=="superscript"?n=1:t.vertAlign=="subscript"&&(n=2),e.write_shift(2,n),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),pb(t.color,e);var r=0;return r=2,e.write_shift(1,r),Zs(t.name,e),e.length>e.l?e.slice(0,e.l):e}var dCe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],OS,hCe=nc;function i8(t,e){e||(e=qe(4*3+8*7+16*1)),OS||(OS=SL(dCe));var n=OS[t.patternType];n==null&&(n=40),e.write_shift(4,n);var r=0;if(n!=40)for(pb({auto:1},e),pb({auto:1},e);r<12;++r)e.write_shift(4,0);else{for(;r<4;++r)e.write_shift(4,0);for(;r<12;++r)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function fCe(t,e){var n=t.l+e,r=t.read_shift(2),s=t.read_shift(2);return t.l=n,{ixfe:r,numFmtId:s}}function ZG(t,e,n){n||(n=qe(16)),n.write_shift(2,e||0),n.write_shift(2,t.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);var r=0;return n.write_shift(1,r),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function Ag(t,e){return e||(e=qe(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var mCe=nc;function pCe(t,e){return e||(e=qe(51)),e.write_shift(1,0),Ag(null,e),Ag(null,e),Ag(null,e),Ag(null,e),Ag(null,e),e.length>e.l?e.slice(0,e.l):e}function gCe(t,e){return e||(e=qe(12+4*10)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),mb(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function vCe(t,e,n){var r=qe(2052);return r.write_shift(4,t),mb(e,r),mb(n,r),r.length>r.l?r.slice(0,r.l):r}function yCe(t,e){if(e){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var s=r[0];s<=r[1];++s)e[s]!=null&&++n}),n!=0&&(et(t,615,ol(n)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var s=r[0];s<=r[1];++s)e[s]!=null&&et(t,44,lCe(s,e[s]))}),et(t,616))}}function xCe(t){var e=1;et(t,611,ol(e)),et(t,43,uCe({sz:12,color:{theme:1},name:"Calibri",family:2})),et(t,612)}function bCe(t){var e=2;et(t,603,ol(e)),et(t,45,i8({patternType:"none"})),et(t,45,i8({patternType:"gray125"})),et(t,604)}function wCe(t){var e=1;et(t,613,ol(e)),et(t,46,pCe()),et(t,614)}function _Ce(t){var e=1;et(t,626,ol(e)),et(t,47,ZG({numFmtId:0},65535)),et(t,627)}function jCe(t,e){et(t,617,ol(e.length)),e.forEach(function(n){et(t,47,ZG(n,0))}),et(t,618)}function ECe(t){var e=1;et(t,619,ol(e)),et(t,48,gCe({xfId:0,name:"Normal"})),et(t,620)}function SCe(t){var e=0;et(t,505,ol(e)),et(t,506)}function CCe(t){var e=0;et(t,508,vCe(e,"TableStyleMedium9","PivotStyleMedium4")),et(t,509)}function NCe(t,e){var n=_i();return et(n,278),yCe(n,t.SSF),xCe(n),bCe(n),wCe(n),_Ce(n),jCe(n,e.cellXfs),ECe(n),SCe(n),CCe(n),et(n,279),n.end()}function eW(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var n=[Ls];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function TCe(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:Ba(t)}}function ACe(t){var e=qe(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),Zs(t.name,e),e.slice(0,e.l)}function LCe(t){for(var e=[],n=t.read_shift(4);n-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function RCe(t){var e=qe(4+8*t.length);e.write_shift(4,t.length);for(var n=0;n<t.length;++n)e.write_shift(4,t[n][0]),e.write_shift(4,t[n][1]);return e}function kCe(t,e){var n=qe(8+2*e.length);return n.write_shift(4,t),Zs(e,n),n.slice(0,n.l)}function OCe(t){return t.l+=4,t.read_shift(4)!=0}function ICe(t,e){var n=qe(8);return n.write_shift(4,t),n.write_shift(4,1),n}function PCe(){var t=_i();return et(t,332),et(t,334,ol(1)),et(t,335,ACe({name:"XLDAPR",version:12e4,flags:3496657072})),et(t,336),et(t,339,kCe(1,"XLDAPR")),et(t,52),et(t,35,ol(514)),et(t,4096,ol(0)),et(t,4097,_o(1)),et(t,36),et(t,53),et(t,340),et(t,337,ICe(1)),et(t,51,RCe([[1,0]])),et(t,338),et(t,333),t.end()}function tW(){var t=[Ls];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function DCe(t){var e={};e.i=t.read_shift(4);var n={};n.r=t.read_shift(4),n.c=t.read_shift(4),e.r=cr(n);var r=t.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}var bm=1024;function nW(t,e){for(var n=[21600,21600],r=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),s=[dt("xml",null,{"xmlns:v":Bi.v,"xmlns:o":Bi.o,"xmlns:x":Bi.x,"xmlns:mv":Bi.mv}).replace(/\/>/,">"),dt("o:shapelayout",dt("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),dt("v:shapetype",[dt("v:stroke",null,{joinstyle:"miter"}),dt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:r})];bm<t*1e3;)bm+=1e3;return e.forEach(function(i){var o=Qs(i[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var u=l.type=="gradient"?dt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,h=dt("v:fill",u,l),f={on:"t",obscured:"t"};++bm,s=s.concat(["<v:shape"+Q0({id:"_x0000_s"+bm,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",h,dt("v:shadow",null,f),dt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",ba("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),ba("x:AutoFill","False"),ba("x:Row",String(o.r)),ba("x:Column",String(o.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),s.push("</xml>"),s.join("")}function rW(t){var e=[Ls,dt("comments",null,{xmlns:jp[0]})],n=[];return e.push("<authors>"),t.forEach(function(r){r[1].forEach(function(s){var i=lr(s.a);n.indexOf(i)==-1&&(n.push(i),e.push("<author>"+i+"</author>")),s.T&&s.ID&&n.indexOf("tc="+s.ID)==-1&&(n.push("tc="+s.ID),e.push("<author>tc="+s.ID+"</author>"))})}),n.length==0&&(n.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(r){var s=0,i=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?s=n.indexOf("tc="+r[1][0].ID):r[1].forEach(function(u){u.a&&(s=n.indexOf(lr(u.a))),i.push(u.t||"")}),e.push('<comment ref="'+r[0]+'" authorId="'+s+'"><text>'),i.length<=1)e.push(ba("t",lr(i[0]||"")));else{for(var o=`Comment:
    `+i[0]+`
`,l=1;l<i.length;++l)o+=`Reply:
    `+i[l]+`
`;e.push(ba("t",lr(o)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function MCe(t,e,n){var r=[Ls,dt("ThreadedComments",null,{xmlns:Js.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(s){var i="";(s[1]||[]).forEach(function(o,l){if(!o.T){delete o.ID;return}o.a&&e.indexOf(o.a)==-1&&e.push(o.a);var u={ref:s[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};l==0?i=u.id:u.parentId=i,o.ID=u.id,o.a&&(u.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(o.a)).slice(-12)+"}"),r.push(dt("threadedComment",ba("text",o.t||""),u))})}),r.push("</ThreadedComments>"),r.join("")}function FCe(t){var e=[Ls,dt("personList",null,{xmlns:Js.TCMNT,"xmlns:x":jp[0]}).replace(/[\/]>/,">")];return t.forEach(function(n,r){e.push(dt("person",null,{displayName:n,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:n,providerId:"None"}))}),e.push("</personList>"),e.join("")}function BCe(t){var e={};e.iauthor=t.read_shift(4);var n=bf(t);return e.rfx=n.s,e.ref=cr(n.s),t.l+=16,e}function UCe(t,e){return e==null&&(e=qe(36)),e.write_shift(4,t[1].iauthor),Sp(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var zCe=Ba;function qCe(t){return Zs(t.slice(0,54))}function $Ce(t){var e=_i(),n=[];return et(e,628),et(e,630),t.forEach(function(r){r[1].forEach(function(s){n.indexOf(s.a)>-1||(n.push(s.a.slice(0,54)),et(e,632,qCe(s.a)))})}),et(e,631),et(e,633),t.forEach(function(r){r[1].forEach(function(s){s.iauthor=n.indexOf(s.a);var i={s:Qs(r[0]),e:Qs(r[0])};et(e,635,UCe([i,s])),s.t&&s.t.length>0&&et(e,637,HEe(s)),et(e,636),delete s.iauthor})}),et(e,634),et(e,629),e.end()}function VCe(t,e){e.FullPaths.forEach(function(n,r){if(r!=0){var s=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");s.slice(-1)!=="/"&&mr.utils.cfb_add(t,s,e.FileIndex[r].content)}})}var sW=["xlsb","xlsm","xlam","biff8","xla"],HCe=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function n(r,s,i,o){var l=!1,u=!1;i.length==0?u=!0:i.charAt(0)=="["&&(u=!0,i=i.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var h=i.length>0?parseInt(i,10)|0:0,f=o.length>0?parseInt(o,10)|0:0;return l?f+=e.c:--f,u?h+=e.r:--h,s+(l?"":"$")+Fa(f)+(u?"":"$")+_a(h)}return function(s,i){return e=i,s.replace(t,n)}}(),FL=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,BL=function(){return function(e,n){return e.replace(FL,function(r,s,i,o,l,u){var h=kL(o)-(i?0:n.c),f=RL(u)-(l?0:n.r),g=f==0?"":l?f+1:"["+f+"]",p=h==0?"":i?h+1:"["+h+"]";return s+"R"+g+"C"+p})}}();function GCe(t,e){return t.replace(FL,function(n,r,s,i,o,l){return r+(s=="$"?s+i:Fa(kL(i)+e.c))+(o=="$"?o+l:_a(RL(l)+e.r))})}function WCe(t){return t.length!=1}function Ns(t){t.l+=1}function xd(t,e){var n=t.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function aW(t,e,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return iW(t);n.biff==12&&(r=4)}var s=t.read_shift(r),i=t.read_shift(r),o=xd(t),l=xd(t);return{s:{r:s,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function iW(t){var e=xd(t),n=xd(t),r=t.read_shift(1),s=t.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:n[0],c:s,cRel:n[1],rRel:n[2]}}}function KCe(t,e,n){if(n.biff<8)return iW(t);var r=t.read_shift(n.biff==12?4:2),s=t.read_shift(n.biff==12?4:2),i=xd(t),o=xd(t);return{s:{r,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function oW(t,e,n){if(n&&n.biff>=2&&n.biff<=5)return YCe(t);var r=t.read_shift(n&&n.biff==12?4:2),s=xd(t);return{r,c:s[0],cRel:s[1],rRel:s[2]}}function YCe(t){var e=xd(t),n=t.read_shift(1);return{r:e[0],c:n,cRel:e[1],rRel:e[2]}}function XCe(t){var e=t.read_shift(2),n=t.read_shift(2);return{r:e,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function JCe(t,e,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return QCe(t);var s=t.read_shift(r>=12?4:2),i=t.read_shift(2),o=(i&16384)>>14,l=(i&32768)>>15;if(i&=16383,l==1)for(;s>524287;)s-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:s,c:i,cRel:o,rRel:l}}function QCe(t){var e=t.read_shift(2),n=t.read_shift(1),r=(e&32768)>>15,s=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),s==1&&n>=128&&(n=n-256),{r:e,c:n,cRel:s,rRel:r}}function ZCe(t,e,n){var r=(t[t.l++]&96)>>5,s=aW(t,n.biff>=2&&n.biff<=5?6:8,n);return[r,s]}function eNe(t,e,n){var r=(t[t.l++]&96)>>5,s=t.read_shift(2,"i"),i=8;if(n)switch(n.biff){case 5:t.l+=12,i=6;break;case 12:i=12;break}var o=aW(t,i,n);return[r,s,o]}function tNe(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function nNe(t,e,n){var r=(t[t.l++]&96)>>5,s=t.read_shift(2),i=8;if(n)switch(n.biff){case 5:t.l+=12,i=6;break;case 12:i=12;break}return t.l+=i,[r,s]}function rNe(t,e,n){var r=(t[t.l++]&96)>>5,s=KCe(t,e-1,n);return[r,s]}function sNe(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n.biff==2?6:n.biff==12?14:7,[r]}function o8(t){var e=t[t.l+1]&1,n=1;return t.l+=4,[e,n]}function aNe(t,e,n){t.l+=2;for(var r=t.read_shift(n&&n.biff==2?1:2),s=[],i=0;i<=r;++i)s.push(t.read_shift(n&&n.biff==2?1:2));return s}function iNe(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function oNe(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function lNe(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function cNe(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=n&&n.biff==2?3:4,[r]}function lW(t){var e=t.read_shift(1),n=t.read_shift(1);return[e,n]}function uNe(t){return t.read_shift(2),lW(t)}function dNe(t){return t.read_shift(2),lW(t)}function hNe(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var s=oW(t,0,n);return[r,s]}function fNe(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var s=JCe(t,0,n);return[r,s]}function mNe(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var s=t.read_shift(2);n&&n.biff==5&&(t.l+=12);var i=oW(t,0,n);return[r,s,i]}function pNe(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var s=t.read_shift(n&&n.biff<=3?1:2);return[pTe[s],dW[s],r]}function gNe(t,e,n){var r=t[t.l++],s=t.read_shift(1),i=n&&n.biff<=3?[r==88?-1:0,t.read_shift(1)]:vNe(t);return[s,(i[0]===0?dW:mTe)[i[1]]]}function vNe(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function yNe(t,e,n){t.l+=n&&n.biff==2?3:4}function xNe(t,e,n){if(t.l++,n&&n.biff==12)return[t.read_shift(4,"i"),0];var r=t.read_shift(2),s=t.read_shift(n&&n.biff==2?1:2);return[r,s]}function bNe(t){return t.l++,Kv[t.read_shift(1)]}function wNe(t){return t.l++,t.read_shift(2)}function _Ne(t){return t.l++,t.read_shift(1)!==0}function jNe(t){return t.l++,Cp(t)}function ENe(t,e,n){return t.l++,VG(t,e-1,n)}function SNe(t,e){var n=[t.read_shift(1)];if(e==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=mSe(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:n[1]=Kv[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:n[1]=Cp(t);break;case 2:n[1]=ySe(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function CNe(t,e,n){for(var r=t.read_shift(n.biff==12?4:2),s=[],i=0;i!=r;++i)s.push((n.biff==12?bf:wSe)(t));return s}function NNe(t,e,n){var r=0,s=0;n.biff==12?(r=t.read_shift(4),s=t.read_shift(4)):(s=1+t.read_shift(1),r=1+t.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--s==0&&(s=256));for(var i=0,o=[];i!=r&&(o[i]=[]);++i)for(var l=0;l!=s;++l)o[i][l]=SNe(t,n.biff);return o}function TNe(t,e,n){var r=t.read_shift(1)>>>5&3,s=!n||n.biff>=8?4:2,i=t.read_shift(s);switch(n.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[r,0,i]}function ANe(t,e,n){if(n.biff==5)return LNe(t);var r=t.read_shift(1)>>>5&3,s=t.read_shift(2),i=t.read_shift(4);return[r,s,i]}function LNe(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2,"i");t.l+=8;var r=t.read_shift(2);return t.l+=12,[e,n,r]}function RNe(t,e,n){var r=t.read_shift(1)>>>5&3;t.l+=n&&n.biff==2?3:4;var s=t.read_shift(n&&n.biff==2?1:2);return[r,s]}function kNe(t,e,n){var r=t.read_shift(1)>>>5&3,s=t.read_shift(n&&n.biff==2?1:2);return[r,s]}function ONe(t,e,n){var r=t.read_shift(1)>>>5&3;return t.l+=4,n.biff<8&&t.l--,n.biff==12&&(t.l+=2),[r]}function INe(t,e,n){var r=(t[t.l++]&96)>>5,s=t.read_shift(2),i=4;if(n)switch(n.biff){case 5:i=15;break;case 12:i=6;break}return t.l+=i,[r,s]}var PNe=nc,DNe=nc,MNe=nc;function Yv(t,e,n){return t.l+=2,[XCe(t)]}function UL(t){return t.l+=6,[]}var FNe=Yv,BNe=UL,UNe=UL,zNe=Yv;function cW(t){return t.l+=2,[qG(t),t.read_shift(2)&1]}var qNe=Yv,$Ne=cW,VNe=UL,HNe=Yv,GNe=Yv,WNe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function KNe(t){t.l+=2;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),s=t.read_shift(2),i=t.read_shift(2),o=WNe[n>>2&31];return{ixti:e,coltype:n&3,rt:o,idx:r,c:s,C:i}}function YNe(t){return t.l+=2,[t.read_shift(4)]}function XNe(t,e,n){return t.l+=5,t.l+=2,t.l+=n.biff==2?1:4,["PTGSHEET"]}function JNe(t,e,n){return t.l+=n.biff==2?4:5,["PTGENDSHEET"]}function QNe(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function ZNe(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function eTe(t){return t.l+=4,[0,0]}var l8={1:{n:"PtgExp",f:xNe},2:{n:"PtgTbl",f:MNe},3:{n:"PtgAdd",f:Ns},4:{n:"PtgSub",f:Ns},5:{n:"PtgMul",f:Ns},6:{n:"PtgDiv",f:Ns},7:{n:"PtgPower",f:Ns},8:{n:"PtgConcat",f:Ns},9:{n:"PtgLt",f:Ns},10:{n:"PtgLe",f:Ns},11:{n:"PtgEq",f:Ns},12:{n:"PtgGe",f:Ns},13:{n:"PtgGt",f:Ns},14:{n:"PtgNe",f:Ns},15:{n:"PtgIsect",f:Ns},16:{n:"PtgUnion",f:Ns},17:{n:"PtgRange",f:Ns},18:{n:"PtgUplus",f:Ns},19:{n:"PtgUminus",f:Ns},20:{n:"PtgPercent",f:Ns},21:{n:"PtgParen",f:Ns},22:{n:"PtgMissArg",f:Ns},23:{n:"PtgStr",f:ENe},26:{n:"PtgSheet",f:XNe},27:{n:"PtgEndSheet",f:JNe},28:{n:"PtgErr",f:bNe},29:{n:"PtgBool",f:_Ne},30:{n:"PtgInt",f:wNe},31:{n:"PtgNum",f:jNe},32:{n:"PtgArray",f:sNe},33:{n:"PtgFunc",f:pNe},34:{n:"PtgFuncVar",f:gNe},35:{n:"PtgName",f:TNe},36:{n:"PtgRef",f:hNe},37:{n:"PtgArea",f:ZCe},38:{n:"PtgMemArea",f:RNe},39:{n:"PtgMemErr",f:PNe},40:{n:"PtgMemNoMem",f:DNe},41:{n:"PtgMemFunc",f:kNe},42:{n:"PtgRefErr",f:ONe},43:{n:"PtgAreaErr",f:tNe},44:{n:"PtgRefN",f:fNe},45:{n:"PtgAreaN",f:rNe},46:{n:"PtgMemAreaN",f:QNe},47:{n:"PtgMemNoMemN",f:ZNe},57:{n:"PtgNameX",f:ANe},58:{n:"PtgRef3d",f:mNe},59:{n:"PtgArea3d",f:eNe},60:{n:"PtgRefErr3d",f:INe},61:{n:"PtgAreaErr3d",f:nNe},255:{}},tTe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},nTe={1:{n:"PtgElfLel",f:cW},2:{n:"PtgElfRw",f:HNe},3:{n:"PtgElfCol",f:FNe},6:{n:"PtgElfRwV",f:GNe},7:{n:"PtgElfColV",f:zNe},10:{n:"PtgElfRadical",f:qNe},11:{n:"PtgElfRadicalS",f:VNe},13:{n:"PtgElfColS",f:BNe},15:{n:"PtgElfColSV",f:UNe},16:{n:"PtgElfRadicalLel",f:$Ne},25:{n:"PtgList",f:KNe},29:{n:"PtgSxName",f:YNe},255:{}},rTe={0:{n:"PtgAttrNoop",f:eTe},1:{n:"PtgAttrSemi",f:cNe},2:{n:"PtgAttrIf",f:oNe},4:{n:"PtgAttrChoose",f:aNe},8:{n:"PtgAttrGoto",f:iNe},16:{n:"PtgAttrSum",f:yNe},32:{n:"PtgAttrBaxcel",f:o8},33:{n:"PtgAttrBaxcel",f:o8},64:{n:"PtgAttrSpace",f:uNe},65:{n:"PtgAttrSpaceSemi",f:dNe},128:{n:"PtgAttrIfError",f:lNe},255:{}};function sTe(t,e,n,r){if(r.biff<8)return nc(t,e);for(var s=t.l+e,i=[],o=0;o!==n.length;++o)switch(n[o][0]){case"PtgArray":n[o][1]=NNe(t,0,r),i.push(n[o][1]);break;case"PtgMemArea":n[o][2]=CNe(t,n[o][1],r),i.push(n[o][2]);break;case"PtgExp":r&&r.biff==12&&(n[o][1][1]=t.read_shift(4),i.push(n[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[o][0]}return e=s-t.l,e!==0&&i.push(nc(t,e)),i}function aTe(t,e,n){for(var r=t.l+e,s,i,o=[];r!=t.l;)e=r-t.l,i=t[t.l],s=l8[i]||l8[tTe[i]],(i===24||i===25)&&(s=(i===24?nTe:rTe)[t[t.l+1]]),!s||!s.f?nc(t,e):o.push([s.n,s.f(t,e,n)]);return o}function iTe(t){for(var e=[],n=0;n<t.length;++n){for(var r=t[n],s=[],i=0;i<r.length;++i){var o=r[i];if(o)switch(o[0]){case 2:s.push('"'+o[1].replace(/"/g,'""')+'"');break;default:s.push(o[1])}else s.push("")}e.push(s.join(","))}return e.join(";")}var oTe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function lTe(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function uW(t,e,n){if(!t)return"SH33TJSERR0";if(n.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var r=t.XTI[e];if(n.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!r)return"SH33TJSERR1";var s="";if(n.biff>8)switch(t[r[0]][0]){case 357:return s=r[1]==-1?"#REF":t.SheetNames[r[1]],r[1]==r[2]?s:s+":"+t.SheetNames[r[2]];case 358:return n.SID!=null?t.SheetNames[n.SID]:"SH33TJSSAME"+t[r[0]][0];case 355:default:return"SH33TJSSRC"+t[r[0]][0]}switch(t[r[0]][0][0]){case 1025:return s=r[1]==-1?"#REF":t.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?s:s+":"+t.SheetNames[r[2]];case 14849:return t[r[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return t[r[0]][0][3]?(s=r[1]==-1?"#REF":t[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?s:s+":"+t[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function c8(t,e,n){var r=uW(t,e,n);return r=="#REF"?r:lTe(r,n)}function op(t,e,n,r,s){var i=s&&s.biff||8,o={s:{c:0,r:0}},l=[],u,h,f,g=0,p=0,v,w="";if(!t[0]||!t[0][0])return"";for(var E=-1,S="",C=0,O=t[0].length;C<O;++C){var I=t[0][C];switch(I[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(u=l.pop(),h=l.pop(),E>=0){switch(t[0][E][1][0]){case 0:S=cs(" ",t[0][E][1][1]);break;case 1:S=cs("\r",t[0][E][1][1]);break;default:if(S="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][E][1][0])}h=h+S,E=-1}l.push(h+oTe[I[0]]+u);break;case"PtgIsect":u=l.pop(),h=l.pop(),l.push(h+" "+u);break;case"PtgUnion":u=l.pop(),h=l.pop(),l.push(h+","+u);break;case"PtgRange":u=l.pop(),h=l.pop(),l.push(h+":"+u);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":f=d0(I[1][1],o,s),l.push(h0(f,i));break;case"PtgRefN":f=n?d0(I[1][1],n,s):I[1][1],l.push(h0(f,i));break;case"PtgRef3d":g=I[1][1],f=d0(I[1][2],o,s),w=c8(r,g,s),l.push(w+"!"+h0(f,i));break;case"PtgFunc":case"PtgFuncVar":var D=I[1][0],T=I[1][1];D||(D=0),D&=127;var F=D==0?[]:l.slice(-D);l.length-=D,T==="User"&&(T=F.shift()),l.push(T+"("+F.join(",")+")");break;case"PtgBool":l.push(I[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(I[1]);break;case"PtgNum":l.push(String(I[1]));break;case"PtgStr":l.push('"'+I[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(I[1]);break;case"PtgAreaN":v=WM(I[1][1],n?{s:n}:o,s),l.push(RS(v,s));break;case"PtgArea":v=WM(I[1][1],o,s),l.push(RS(v,s));break;case"PtgArea3d":g=I[1][1],v=I[1][2],w=c8(r,g,s),l.push(w+"!"+RS(v,s));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":p=I[1][2];var y=(r.names||[])[p-1]||(r[0]||[])[p],A=y?y.Name:"SH33TJSNAME"+String(p);A&&A.slice(0,6)=="_xlfn."&&!s.xlfn&&(A=A.slice(6)),l.push(A);break;case"PtgNameX":var _=I[1][1];p=I[1][2];var L;if(s.biff<=5)_<0&&(_=-_),r[_]&&(L=r[_][p]);else{var R="";if(((r[_]||[])[0]||[])[0]==14849||(((r[_]||[])[0]||[])[0]==1025?r[_][p]&&r[_][p].itab>0&&(R=r.SheetNames[r[_][p].itab-1]+"!"):R=r.SheetNames[p-1]+"!"),r[_]&&r[_][p])R+=r[_][p].Name;else if(r[0]&&r[0][p])R+=r[0][p].Name;else{var U=(uW(r,_,s)||"").split(";;");U[p-1]?R=U[p-1]:R+="SH33TJSERRX"}l.push(R);break}L||(L={Name:"SH33TJSERRY"}),l.push(L.Name);break;case"PtgParen":var P="(",K=")";if(E>=0){switch(S="",t[0][E][1][0]){case 2:P=cs(" ",t[0][E][1][1])+P;break;case 3:P=cs("\r",t[0][E][1][1])+P;break;case 4:K=cs(" ",t[0][E][1][1])+K;break;case 5:K=cs("\r",t[0][E][1][1])+K;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][E][1][0])}E=-1}l.push(P+l.pop()+K);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":f={c:I[1][1],r:I[1][0]};var G={c:n.c,r:n.r};if(r.sharedf[cr(f)]){var re=r.sharedf[cr(f)];l.push(op(re,o,G,r,s))}else{var Z=!1;for(u=0;u!=r.arrayf.length;++u)if(h=r.arrayf[u],!(f.c<h[0].s.c||f.c>h[0].e.c)&&!(f.r<h[0].s.r||f.r>h[0].e.r)){l.push(op(h[1],o,G,r,s)),Z=!0;break}Z||l.push(I[1])}break;case"PtgArray":l.push("{"+iTe(I[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":E=C;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+I[1].idx+"[#"+I[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(I));default:throw new Error("Unrecognized Formula Token: "+String(I))}var me=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(s.biff!=3&&E>=0&&me.indexOf(t[0][C][0])==-1){I=t[0][E];var ie=!0;switch(I[1][0]){case 4:ie=!1;case 0:S=cs(" ",I[1][1]);break;case 5:ie=!1;case 1:S=cs("\r",I[1][1]);break;default:if(S="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+I[1][0])}l.push((ie?S:"")+l.pop()+(ie?"":S)),E=-1}}if(l.length>1&&s.WTF)throw new Error("bad formula stack");return l[0]}function cTe(t){if(t==null){var e=qe(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return Lh(t);return Lh(0)}function uTe(t,e,n,r,s){var i=Rh(e,n,s),o=cTe(t.v),l=qe(6),u=33;l.write_shift(2,u),l.write_shift(4,0);for(var h=qe(t.bf.length),f=0;f<t.bf.length;++f)h[f]=t.bf[f];var g=xa([i,o,l,h]);return g}function Gw(t,e,n){var r=t.read_shift(4),s=aTe(t,r,n),i=t.read_shift(4),o=i>0?sTe(t,i,s,n):null;return[s,o]}var dTe=Gw,Ww=Gw,hTe=Gw,fTe=Gw,mTe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},dW={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},pTe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function gTe(t){var e="of:="+t.replace(FL,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function vTe(t){return t.replace(/\./,"!")}var f0=typeof Map<"u";function zL(t,e,n){var r=0,s=t.length;if(n){if(f0?n.has(e):Object.prototype.hasOwnProperty.call(n,e)){for(var i=f0?n.get(e):n[e];r<i.length;++r)if(t[i[r]].t===e)return t.Count++,i[r]}}else for(;r<s;++r)if(t[r].t===e)return t.Count++,r;return t[s]={t:e},t.Count++,t.Unique++,n&&(f0?(n.has(e)||n.set(e,[]),n.get(e).push(s)):(Object.prototype.hasOwnProperty.call(n,e)||(n[e]=[]),n[e].push(s))),s}function Kw(t,e){var n={min:t+1,max:t+1},r=-1;return e.MDW&&(qc=e.MDW),e.width!=null?n.customWidth=1:e.wpx!=null?r=yb(e.wpx):e.wch!=null&&(r=e.wch),r>-1?(n.width=mT(r),n.customWidth=1):e.width!=null&&(n.width=e.width),e.hidden&&(n.hidden=!0),e.level!=null&&(n.outlineLevel=n.level=e.level),n}function hW(t,e){if(t){var n=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=n[0]),t.right==null&&(t.right=n[1]),t.top==null&&(t.top=n[2]),t.bottom==null&&(t.bottom=n[3]),t.header==null&&(t.header=n[4]),t.footer==null&&(t.footer=n[5])}}function Cd(t,e,n){var r=n.revssf[e.z!=null?e.z:"General"],s=60,i=t.length;if(r==null&&n.ssf){for(;s<392;++s)if(n.ssf[s]==null){oG(e.z,s),n.ssf[s]=e.z,n.revssf[e.z]=r=s;break}}for(s=0;s!=i;++s)if(t[s].numFmtId===r)return s;return t[i]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function yTe(t,e,n){if(t&&t["!ref"]){var r=Lr(t["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+n+"): "+t["!ref"])}}function xTe(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',n=0;n!=t.length;++n)e+='<mergeCell ref="'+As(t[n])+'"/>';return e+"</mergeCells>"}function bTe(t,e,n,r,s){var i=!1,o={},l=null;if(r.bookType!=="xlsx"&&e.vbaraw){var u=e.SheetNames[n];try{e.Workbook&&(u=e.Workbook.Sheets[n].CodeName||u)}catch{}i=!0,o.codeName=J0(lr(u))}if(t&&t["!outline"]){var h={summaryBelow:1,summaryRight:1};t["!outline"].above&&(h.summaryBelow=0),t["!outline"].left&&(h.summaryRight=0),l=(l||"")+dt("outlinePr",null,h)}!i&&!l||(s[s.length]=dt("sheetPr",l,o))}var wTe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],_Te=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function jTe(t){var e={sheet:1};return wTe.forEach(function(n){t[n]!=null&&t[n]&&(e[n]="1")}),_Te.forEach(function(n){t[n]!=null&&!t[n]&&(e[n]="0")}),t.password&&(e.password=YG(t.password).toString(16).toUpperCase()),dt("sheetProtection",null,e)}function ETe(t){return hW(t),dt("pageMargins",null,t)}function STe(t,e){for(var n=["<cols>"],r,s=0;s!=e.length;++s)(r=e[s])&&(n[n.length]=dt("col",null,Kw(s,r)));return n[n.length]="</cols>",n.join("")}function CTe(t,e,n,r){var s=typeof t.ref=="string"?t.ref:As(t.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var i=n.Workbook.Names,o=Xi(s);o.s.r==o.e.r&&(o.e.r=Xi(e["!ref"]).e.r,s=As(o));for(var l=0;l<i.length;++l){var u=i[l];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==r){u.Ref="'"+n.SheetNames[r]+"'!"+s;break}}return l==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+s}),dt("autoFilter",null,{ref:s})}function NTe(t,e,n,r){var s={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(s.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),dt("sheetViews",dt("sheetView",null,s),{})}function TTe(t,e,n,r){if(t.c&&n["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var s="",i=t.t,o=t.v;if(t.t!=="z")switch(t.t){case"b":s=t.v?"1":"0";break;case"n":s=""+t.v;break;case"e":s=Kv[t.v];break;case"d":r&&r.cellDates?s=ri(t.v,-1).toISOString():(t=Ei(t),t.t="n",s=""+(t.v=ji(ri(t.v)))),typeof t.z>"u"&&(t.z=us[14]);break;default:s=t.v;break}var l=ba("v",lr(s)),u={r:e},h=Cd(r.cellXfs,t,r);switch(h!==0&&(u.s=h),t.t){case"n":break;case"d":u.t="d";break;case"b":u.t="b";break;case"e":u.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){l=ba("v",""+zL(r.Strings,t.v,r.revStrings)),u.t="s";break}u.t="str";break}if(t.t!=i&&(t.t=i,t.v=o),typeof t.f=="string"&&t.f){var f=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;l=dt("f",lr(t.f),f)+(t.v!=null?l:"")}return t.l&&n["!links"].push([e,t.l]),t.D&&(u.cm=1),dt("c",l,u)}function ATe(t,e,n,r){var s=[],i=[],o=Lr(t["!ref"]),l="",u,h="",f=[],g=0,p=0,v=t["!rows"],w=Array.isArray(t),E={r:h},S,C=-1;for(p=o.s.c;p<=o.e.c;++p)f[p]=Fa(p);for(g=o.s.r;g<=o.e.r;++g){for(i=[],h=_a(g),p=o.s.c;p<=o.e.c;++p){u=f[p]+h;var O=w?(t[g]||[])[p]:t[u];O!==void 0&&(l=TTe(O,u,t,e))!=null&&i.push(l)}(i.length>0||v&&v[g])&&(E={r:h},v&&v[g]&&(S=v[g],S.hidden&&(E.hidden=1),C=-1,S.hpx?C=xb(S.hpx):S.hpt&&(C=S.hpt),C>-1&&(E.ht=C,E.customHeight=1),S.level&&(E.outlineLevel=S.level)),s[s.length]=dt("row",i.join(""),E))}if(v)for(;g<v.length;++g)v&&v[g]&&(E={r:g+1},S=v[g],S.hidden&&(E.hidden=1),C=-1,S.hpx?C=xb(S.hpx):S.hpt&&(C=S.hpt),C>-1&&(E.ht=C,E.customHeight=1),S.level&&(E.outlineLevel=S.level),s[s.length]=dt("row","",E));return s.join("")}function fW(t,e,n,r){var s=[Ls,dt("worksheet",null,{xmlns:jp[0],"xmlns:r":Js.r})],i=n.SheetNames[t],o=0,l="",u=n.Sheets[i];u==null&&(u={});var h=u["!ref"]||"A1",f=Lr(h);if(f.e.c>16383||f.e.r>1048575){if(e.WTF)throw new Error("Range "+h+" exceeds format limit A1:XFD1048576");f.e.c=Math.min(f.e.c,16383),f.e.r=Math.min(f.e.c,1048575),h=As(f)}r||(r={}),u["!comments"]=[];var g=[];bTe(u,n,t,e,s),s[s.length]=dt("dimension",null,{ref:h}),s[s.length]=NTe(u,e,t,n),e.sheetFormat&&(s[s.length]=dt("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),u["!cols"]!=null&&u["!cols"].length>0&&(s[s.length]=STe(u,u["!cols"])),s[o=s.length]="<sheetData/>",u["!links"]=[],u["!ref"]!=null&&(l=ATe(u,e),l.length>0&&(s[s.length]=l)),s.length>o+1&&(s[s.length]="</sheetData>",s[o]=s[o].replace("/>",">")),u["!protect"]&&(s[s.length]=jTe(u["!protect"])),u["!autofilter"]!=null&&(s[s.length]=CTe(u["!autofilter"],u,n,t)),u["!merges"]!=null&&u["!merges"].length>0&&(s[s.length]=xTe(u["!merges"]));var p=-1,v,w=-1;return u["!links"].length>0&&(s[s.length]="<hyperlinks>",u["!links"].forEach(function(E){E[1].Target&&(v={ref:E[0]},E[1].Target.charAt(0)!="#"&&(w=or(r,-1,lr(E[1].Target).replace(/#.*$/,""),Yn.HLINK),v["r:id"]="rId"+w),(p=E[1].Target.indexOf("#"))>-1&&(v.location=lr(E[1].Target.slice(p+1))),E[1].Tooltip&&(v.tooltip=lr(E[1].Tooltip)),s[s.length]=dt("hyperlink",null,v))}),s[s.length]="</hyperlinks>"),delete u["!links"],u["!margins"]!=null&&(s[s.length]=ETe(u["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(s[s.length]=ba("ignoredErrors",dt("ignoredError",null,{numberStoredAsText:1,sqref:h}))),g.length>0&&(w=or(r,-1,"../drawings/drawing"+(t+1)+".xml",Yn.DRAW),s[s.length]=dt("drawing",null,{"r:id":"rId"+w}),u["!drawing"]=g),u["!comments"].length>0&&(w=or(r,-1,"../drawings/vmlDrawing"+(t+1)+".vml",Yn.VML),s[s.length]=dt("legacyDrawing",null,{"r:id":"rId"+w}),u["!legacy"]=w),s.length>1&&(s[s.length]="</worksheet>",s[1]=s[1].replace("/>",">")),s.join("")}function LTe(t,e){var n={},r=t.l+e;n.r=t.read_shift(4),t.l+=4;var s=t.read_shift(2);t.l+=1;var i=t.read_shift(1);return t.l=r,i&7&&(n.level=i&7),i&16&&(n.hidden=!0),i&32&&(n.hpt=s/20),n}function RTe(t,e,n){var r=qe(145),s=(n["!rows"]||[])[t]||{};r.write_shift(4,t),r.write_shift(4,0);var i=320;s.hpx?i=xb(s.hpx)*20:s.hpt&&(i=s.hpt*20),r.write_shift(2,i),r.write_shift(1,0);var o=0;s.level&&(o|=s.level),s.hidden&&(o|=16),(s.hpx||s.hpt)&&(o|=32),r.write_shift(1,o),r.write_shift(1,0);var l=0,u=r.l;r.l+=4;for(var h={r:t,c:0},f=0;f<16;++f)if(!(e.s.c>f+1<<10||e.e.c<f<<10)){for(var g=-1,p=-1,v=f<<10;v<f+1<<10;++v){h.c=v;var w=Array.isArray(n)?(n[h.r]||[])[h.c]:n[cr(h)];w&&(g<0&&(g=v),p=v)}g<0||(++l,r.write_shift(4,g),r.write_shift(4,p))}var E=r.l;return r.l=u,r.write_shift(4,l),r.l=E,r.length>r.l?r.slice(0,r.l):r}function kTe(t,e,n,r){var s=RTe(r,n,e);(s.length>17||(e["!rows"]||[])[r])&&et(t,0,s)}var OTe=bf,ITe=Sp;function PTe(){}function DTe(t,e){var n={},r=t[t.l];return++t.l,n.above=!(r&64),n.left=!(r&128),t.l+=18,n.name=GEe(t),n}function MTe(t,e,n){n==null&&(n=qe(84+4*t.length));var r=192;e&&(e.above&&(r&=-65),e.left&&(r&=-129)),n.write_shift(1,r);for(var s=1;s<3;++s)n.write_shift(1,0);return pb({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),TG(t,n),n.slice(0,n.l)}function FTe(t){var e=Do(t);return[e]}function BTe(t,e,n){return n==null&&(n=qe(8)),vf(e,n)}function UTe(t){var e=yf(t);return[e]}function zTe(t,e,n){return n==null&&(n=qe(4)),xf(e,n)}function qTe(t){var e=Do(t),n=t.read_shift(1);return[e,n,"b"]}function $Te(t,e,n){return n==null&&(n=qe(9)),vf(e,n),n.write_shift(1,t.v?1:0),n}function VTe(t){var e=yf(t),n=t.read_shift(1);return[e,n,"b"]}function HTe(t,e,n){return n==null&&(n=qe(5)),xf(e,n),n.write_shift(1,t.v?1:0),n}function GTe(t){var e=Do(t),n=t.read_shift(1);return[e,n,"e"]}function WTe(t,e,n){return n==null&&(n=qe(9)),vf(e,n),n.write_shift(1,t.v),n}function KTe(t){var e=yf(t),n=t.read_shift(1);return[e,n,"e"]}function YTe(t,e,n){return n==null&&(n=qe(8)),xf(e,n),n.write_shift(1,t.v),n.write_shift(2,0),n.write_shift(1,0),n}function XTe(t){var e=Do(t),n=t.read_shift(4);return[e,n,"s"]}function JTe(t,e,n){return n==null&&(n=qe(12)),vf(e,n),n.write_shift(4,e.v),n}function QTe(t){var e=yf(t),n=t.read_shift(4);return[e,n,"s"]}function ZTe(t,e,n){return n==null&&(n=qe(8)),xf(e,n),n.write_shift(4,e.v),n}function eAe(t){var e=Do(t),n=Cp(t);return[e,n,"n"]}function tAe(t,e,n){return n==null&&(n=qe(16)),vf(e,n),Lh(t.v,n),n}function nAe(t){var e=yf(t),n=Cp(t);return[e,n,"n"]}function rAe(t,e,n){return n==null&&(n=qe(12)),xf(e,n),Lh(t.v,n),n}function sAe(t){var e=Do(t),n=AG(t);return[e,n,"n"]}function aAe(t,e,n){return n==null&&(n=qe(12)),vf(e,n),LG(t.v,n),n}function iAe(t){var e=yf(t),n=AG(t);return[e,n,"n"]}function oAe(t,e,n){return n==null&&(n=qe(8)),xf(e,n),LG(t.v,n),n}function lAe(t){var e=Do(t),n=OL(t);return[e,n,"is"]}function cAe(t){var e=Do(t),n=Ba(t);return[e,n,"str"]}function uAe(t,e,n){return n==null&&(n=qe(12+4*t.v.length)),vf(e,n),Zs(t.v,n),n.length>n.l?n.slice(0,n.l):n}function dAe(t){var e=yf(t),n=Ba(t);return[e,n,"str"]}function hAe(t,e,n){return n==null&&(n=qe(8+4*t.v.length)),xf(e,n),Zs(t.v,n),n.length>n.l?n.slice(0,n.l):n}function fAe(t,e,n){var r=t.l+e,s=Do(t);s.r=n["!row"];var i=t.read_shift(1),o=[s,i,"b"];if(n.cellFormula){t.l+=2;var l=Ww(t,r-t.l,n);o[3]=op(l,null,s,n.supbooks,n)}else t.l=r;return o}function mAe(t,e,n){var r=t.l+e,s=Do(t);s.r=n["!row"];var i=t.read_shift(1),o=[s,i,"e"];if(n.cellFormula){t.l+=2;var l=Ww(t,r-t.l,n);o[3]=op(l,null,s,n.supbooks,n)}else t.l=r;return o}function pAe(t,e,n){var r=t.l+e,s=Do(t);s.r=n["!row"];var i=Cp(t),o=[s,i,"n"];if(n.cellFormula){t.l+=2;var l=Ww(t,r-t.l,n);o[3]=op(l,null,s,n.supbooks,n)}else t.l=r;return o}function gAe(t,e,n){var r=t.l+e,s=Do(t);s.r=n["!row"];var i=Ba(t),o=[s,i,"str"];if(n.cellFormula){t.l+=2;var l=Ww(t,r-t.l,n);o[3]=op(l,null,s,n.supbooks,n)}else t.l=r;return o}var vAe=bf,yAe=Sp;function xAe(t,e){return e==null&&(e=qe(4)),e.write_shift(4,t),e}function bAe(t,e){var n=t.l+e,r=bf(t),s=IL(t),i=Ba(t),o=Ba(t),l=Ba(t);t.l=n;var u={rfx:r,relId:s,loc:i,display:l};return o&&(u.Tooltip=o),u}function wAe(t,e){var n=qe(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));Sp({s:Qs(t[0]),e:Qs(t[0])},n),PL("rId"+e,n);var r=t[1].Target.indexOf("#"),s=r==-1?"":t[1].Target.slice(r+1);return Zs(s||"",n),Zs(t[1].Tooltip||"",n),Zs("",n),n.slice(0,n.l)}function _Ae(){}function jAe(t,e,n){var r=t.l+e,s=RG(t),i=t.read_shift(1),o=[s];if(o[2]=i,n.cellFormula){var l=dTe(t,r-t.l,n);o[1]=l}else t.l=r;return o}function EAe(t,e,n){var r=t.l+e,s=bf(t),i=[s];if(n.cellFormula){var o=fTe(t,r-t.l,n);i[1]=o,t.l=r}else t.l=r;return i}function SAe(t,e,n){n==null&&(n=qe(18));var r=Kw(t,e);n.write_shift(-4,t),n.write_shift(-4,t),n.write_shift(4,(r.width||10)*256),n.write_shift(4,0);var s=0;return e.hidden&&(s|=1),typeof r.width=="number"&&(s|=2),e.level&&(s|=e.level<<8),n.write_shift(2,s),n}var mW=["left","right","top","bottom","header","footer"];function CAe(t){var e={};return mW.forEach(function(n){e[n]=Cp(t)}),e}function NAe(t,e){return e==null&&(e=qe(6*8)),hW(t),mW.forEach(function(n){Lh(t[n],e)}),e}function TAe(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function AAe(t,e,n){n==null&&(n=qe(30));var r=924;return(((e||{}).Views||[])[0]||{}).RTL&&(r|=32),n.write_shift(2,r),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}function LAe(t){var e=qe(24);return e.write_shift(4,4),e.write_shift(4,1),Sp(t,e),e}function RAe(t,e){return e==null&&(e=qe(16*4+2)),e.write_shift(2,t.password?YG(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(n){n[1]?e.write_shift(4,t[n[0]]!=null&&!t[n[0]]?1:0):e.write_shift(4,t[n[0]]!=null&&t[n[0]]?0:1)}),e}function kAe(){}function OAe(){}function IAe(t,e,n,r,s,i,o){if(e.v===void 0)return!1;var l="";switch(e.t){case"b":l=e.v?"1":"0";break;case"d":e=Ei(e),e.z=e.z||us[14],e.v=ji(ri(e.v)),e.t="n";break;case"n":case"e":l=""+e.v;break;default:l=e.v;break}var u={r:n,c:r};switch(u.s=Cd(s.cellXfs,e,s),e.l&&i["!links"].push([cr(u),e.l]),e.c&&i["!comments"].push([cr(u),e.c]),e.t){case"s":case"str":return s.bookSST?(l=zL(s.Strings,e.v,s.revStrings),u.t="s",u.v=l,o?et(t,18,ZTe(e,u)):et(t,7,JTe(e,u))):(u.t="str",o?et(t,17,hAe(e,u)):et(t,6,uAe(e,u))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?o?et(t,13,oAe(e,u)):et(t,2,aAe(e,u)):o?et(t,16,rAe(e,u)):et(t,5,tAe(e,u)),!0;case"b":return u.t="b",o?et(t,15,HTe(e,u)):et(t,4,$Te(e,u)),!0;case"e":return u.t="e",o?et(t,14,YTe(e,u)):et(t,3,WTe(e,u)),!0}return o?et(t,12,zTe(e,u)):et(t,1,BTe(e,u)),!0}function PAe(t,e,n,r){var s=Lr(e["!ref"]||"A1"),i,o="",l=[];et(t,145);var u=Array.isArray(e),h=s.e.r;e["!rows"]&&(h=Math.max(s.e.r,e["!rows"].length-1));for(var f=s.s.r;f<=h;++f){o=_a(f),kTe(t,e,s,f);var g=!1;if(f<=s.e.r)for(var p=s.s.c;p<=s.e.c;++p){f===s.s.r&&(l[p]=Fa(p)),i=l[p]+o;var v=u?(e[f]||[])[p]:e[i];if(!v){g=!1;continue}g=IAe(t,v,f,p,r,e,g)}}et(t,146)}function DAe(t,e){!e||!e["!merges"]||(et(t,177,xAe(e["!merges"].length)),e["!merges"].forEach(function(n){et(t,176,yAe(n))}),et(t,178))}function MAe(t,e){!e||!e["!cols"]||(et(t,390),e["!cols"].forEach(function(n,r){n&&et(t,60,SAe(r,n))}),et(t,391))}function FAe(t,e){!e||!e["!ref"]||(et(t,648),et(t,649,LAe(Lr(e["!ref"]))),et(t,650))}function BAe(t,e,n){e["!links"].forEach(function(r){if(r[1].Target){var s=or(n,-1,r[1].Target.replace(/#.*$/,""),Yn.HLINK);et(t,494,wAe(r,s))}}),delete e["!links"]}function UAe(t,e,n,r){if(e["!comments"].length>0){var s=or(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",Yn.VML);et(t,551,PL("rId"+s)),e["!legacy"]=s}}function zAe(t,e,n,r){if(e["!autofilter"]){var s=e["!autofilter"],i=typeof s.ref=="string"?s.ref:As(s.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var o=n.Workbook.Names,l=Xi(i);l.s.r==l.e.r&&(l.e.r=Xi(e["!ref"]).e.r,i=As(l));for(var u=0;u<o.length;++u){var h=o[u];if(h.Name=="_xlnm._FilterDatabase"&&h.Sheet==r){h.Ref="'"+n.SheetNames[r]+"'!"+i;break}}u==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+i}),et(t,161,Sp(Lr(i))),et(t,162)}}function qAe(t,e,n){et(t,133),et(t,137,AAe(e,n)),et(t,138),et(t,134)}function $Ae(t,e){e["!protect"]&&et(t,535,RAe(e["!protect"]))}function VAe(t,e,n,r){var s=_i(),i=n.SheetNames[t],o=n.Sheets[i]||{},l=i;try{n&&n.Workbook&&(l=n.Workbook.Sheets[t].CodeName||l)}catch{}var u=Lr(o["!ref"]||"A1");if(u.e.c>16383||u.e.r>1048575){if(e.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],et(s,129),(n.vbaraw||o["!outline"])&&et(s,147,MTe(l,o["!outline"])),et(s,148,ITe(u)),qAe(s,o,n.Workbook),MAe(s,o),PAe(s,o,t,e),$Ae(s,o),zAe(s,o,n,t),DAe(s,o),BAe(s,o,r),o["!margins"]&&et(s,476,NAe(o["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&FAe(s,o),UAe(s,o,t,r),et(s,130),s.end()}function HAe(t,e){t.l+=10;var n=Ba(t);return{name:n}}var GAe=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function WAe(t){return!t.Workbook||!t.Workbook.WBProps?"false":EEe(t.Workbook.WBProps.date1904)?"true":"false"}var KAe="][*?/\\".split("");function pW(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return KAe.forEach(function(r){if(t.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}function YAe(t,e,n){t.forEach(function(r,s){pW(r);for(var i=0;i<s;++i)if(r==t[i])throw new Error("Duplicate Sheet Name: "+r);if(n){var o=e&&e[s]&&e[s].CodeName||r;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function XAe(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];YAe(t.SheetNames,e,!!t.vbaraw);for(var n=0;n<t.SheetNames.length;++n)yTe(t.Sheets[t.SheetNames[n]],t.SheetNames[n],n)}function gW(t){var e=[Ls];e[e.length]=dt("workbook",null,{xmlns:jp[0],"xmlns:r":Js.r});var n=t.Workbook&&(t.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(GAe.forEach(function(l){t.Workbook.WBProps[l[0]]!=null&&t.Workbook.WBProps[l[0]]!=l[1]&&(r[l[0]]=t.Workbook.WBProps[l[0]])}),t.Workbook.WBProps.CodeName&&(r.codeName=t.Workbook.WBProps.CodeName,delete r.CodeName)),e[e.length]=dt("workbookPr",null,r);var s=t.Workbook&&t.Workbook.Sheets||[],i=0;if(s&&s[0]&&s[0].Hidden){for(e[e.length]="<bookViews>",i=0;i!=t.SheetNames.length&&!(!s[i]||!s[i].Hidden);++i);i==t.SheetNames.length&&(i=0),e[e.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",i=0;i!=t.SheetNames.length;++i){var o={name:lr(t.SheetNames[i].slice(0,31))};if(o.sheetId=""+(i+1),o["r:id"]="rId"+(i+1),s[i])switch(s[i].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}e[e.length]=dt("sheet",null,o)}return e[e.length]="</sheets>",n&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(l){var u={name:l.Name};l.Comment&&(u.comment=l.Comment),l.Sheet!=null&&(u.localSheetId=""+l.Sheet),l.Hidden&&(u.hidden="1"),l.Ref&&(e[e.length]=dt("definedName",lr(l.Ref),u))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function JAe(t,e){var n={};return n.Hidden=t.read_shift(4),n.iTabID=t.read_shift(4),n.strRelID=fT(t),n.name=Ba(t),n}function QAe(t,e){return e||(e=qe(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),PL(t.strRelID,e),Zs(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function ZAe(t,e){var n={},r=t.read_shift(4);n.defaultThemeVersion=t.read_shift(4);var s=e>8?Ba(t):"";return s.length>0&&(n.CodeName=s),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function e3e(t,e){e||(e=qe(72));var n=0;return t&&t.filterPrivacy&&(n|=8),e.write_shift(4,n),e.write_shift(4,0),TG(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function t3e(t,e,n){var r=t.l+e;t.l+=4,t.l+=1;var s=t.read_shift(4),i=WEe(t),o=hTe(t,0,n),l=IL(t);t.l=r;var u={Name:i,Ptg:o};return s<268435455&&(u.Sheet=s),l&&(u.Comment=l),u}function n3e(t,e){et(t,143);for(var n=0;n!=e.SheetNames.length;++n){var r=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[n]&&e.Workbook.Sheets[n].Hidden||0,s={Hidden:r,iTabID:n+1,strRelID:"rId"+(n+1),name:e.SheetNames[n]};et(t,156,QAe(s))}et(t,144)}function r3e(t,e){e||(e=qe(127));for(var n=0;n!=4;++n)e.write_shift(4,0);return Zs("SheetJS",e),Zs(lb.version,e),Zs(lb.version,e),Zs("7262",e),e.length>e.l?e.slice(0,e.l):e}function s3e(t,e){e||(e=qe(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var n=120;return e.write_shift(1,n),e.length>e.l?e.slice(0,e.l):e}function a3e(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var n=e.Workbook.Sheets,r=0,s=-1,i=-1;r<n.length;++r)!n[r]||!n[r].Hidden&&s==-1?s=r:n[r].Hidden==1&&i==-1&&(i=r);i>s||(et(t,135),et(t,158,s3e(s)),et(t,136))}}function i3e(t,e){var n=_i();return et(n,131),et(n,128,r3e()),et(n,153,e3e(t.Workbook&&t.Workbook.WBProps||null)),a3e(n,t),n3e(n,t),et(n,132),n.end()}function o3e(t,e,n){return(e.slice(-4)===".bin"?i3e:gW)(t)}function l3e(t,e,n,r,s){return(e.slice(-4)===".bin"?VAe:fW)(t,n,r,s)}function c3e(t,e,n){return(e.slice(-4)===".bin"?NCe:QG)(t,n)}function u3e(t,e,n){return(e.slice(-4)===".bin"?eCe:KG)(t,n)}function d3e(t,e,n){return(e.slice(-4)===".bin"?$Ce:rW)(t)}function h3e(t){return(t.slice(-4)===".bin"?PCe:tW)()}function f3e(t,e){var n=[];return t.Props&&n.push(cSe(t.Props,e)),t.Custprops&&n.push(uSe(t.Props,t.Custprops)),n.join("")}function m3e(){return""}function p3e(t,e){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(r,s){var i=[];i.push(dt("NumberFormat",null,{"ss:Format":lr(us[r.numFmtId])}));var o={"ss:ID":"s"+(21+s)};n.push(dt("Style",i.join(""),o))}),dt("Styles",n.join(""))}function vW(t){return dt("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+BL(t.Ref,{r:0,c:0})})}function g3e(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,n=[],r=0;r<e.length;++r){var s=e[r];s.Sheet==null&&(s.Name.match(/^_xlfn\./)||n.push(vW(s)))}return dt("Names",n.join(""))}function v3e(t,e,n,r){if(!t||!((r||{}).Workbook||{}).Names)return"";for(var s=r.Workbook.Names,i=[],o=0;o<s.length;++o){var l=s[o];l.Sheet==n&&(l.Name.match(/^_xlfn\./)||i.push(vW(l)))}return i.join("")}function y3e(t,e,n,r){if(!t)return"";var s=[];if(t["!margins"]&&(s.push("<PageSetup>"),t["!margins"].header&&s.push(dt("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&s.push(dt("Footer",null,{"x:Margin":t["!margins"].footer})),s.push(dt("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),s.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[n])if(r.Workbook.Sheets[n].Hidden)s.push(dt("Visible",r.Workbook.Sheets[n].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<n&&!(r.Workbook.Sheets[i]&&!r.Workbook.Sheets[i].Hidden);++i);i==n&&s.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&s.push("<DisplayRightToLeft/>"),t["!protect"]&&(s.push(ba("ProtectContents","True")),t["!protect"].objects&&s.push(ba("ProtectObjects","True")),t["!protect"].scenarios&&s.push(ba("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?s.push(ba("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&s.push(ba("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){t["!protect"][o[0]]&&s.push("<"+o[1]+"/>")})),s.length==0?"":dt("WorksheetOptions",s.join(""),{xmlns:Bi.x})}function x3e(t){return t.map(function(e){var n=jEe(e.t||""),r=dt("ss:Data",n,{xmlns:"http://www.w3.org/TR/REC-html40"});return dt("Comment",r,{"ss:Author":e.a})}).join("")}function b3e(t,e,n,r,s,i,o){if(!t||t.v==null&&t.f==null)return"";var l={};if(t.f&&(l["ss:Formula"]="="+lr(BL(t.f,o))),t.F&&t.F.slice(0,e.length)==e){var u=Qs(t.F.slice(e.length+1));l["ss:ArrayRange"]="RC:R"+(u.r==o.r?"":"["+(u.r-o.r)+"]")+"C"+(u.c==o.c?"":"["+(u.c-o.c)+"]")}if(t.l&&t.l.Target&&(l["ss:HRef"]=lr(t.l.Target),t.l.Tooltip&&(l["x:HRefScreenTip"]=lr(t.l.Tooltip))),n["!merges"])for(var h=n["!merges"],f=0;f!=h.length;++f)h[f].s.c!=o.c||h[f].s.r!=o.r||(h[f].e.c>h[f].s.c&&(l["ss:MergeAcross"]=h[f].e.c-h[f].s.c),h[f].e.r>h[f].s.r&&(l["ss:MergeDown"]=h[f].e.r-h[f].s.r));var g="",p="";switch(t.t){case"z":if(!r.sheetStubs)return"";break;case"n":g="Number",p=String(t.v);break;case"b":g="Boolean",p=t.v?"1":"0";break;case"e":g="Error",p=Kv[t.v];break;case"d":g="DateTime",p=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||us[14]);break;case"s":g="String",p=_Ee(t.v||"");break}var v=Cd(r.cellXfs,t,r);l["ss:StyleID"]="s"+(21+v),l["ss:Index"]=o.c+1;var w=t.v!=null?p:"",E=t.t=="z"?"":'<Data ss:Type="'+g+'">'+w+"</Data>";return(t.c||[]).length>0&&(E+=x3e(t.c)),dt("Cell",E,l)}function w3e(t,e){var n='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=JG(e.hpt)),e.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(n+=' ss:Hidden="1"')),n+">"}function _3e(t,e,n,r){if(!t["!ref"])return"";var s=Lr(t["!ref"]),i=t["!merges"]||[],o=0,l=[];t["!cols"]&&t["!cols"].forEach(function(S,C){ML(S);var O=!!S.width,I=Kw(C,S),D={"ss:Index":C+1};O&&(D["ss:Width"]=vb(I.width)),S.hidden&&(D["ss:Hidden"]="1"),l.push(dt("Column",null,D))});for(var u=Array.isArray(t),h=s.s.r;h<=s.e.r;++h){for(var f=[w3e(h,(t["!rows"]||[])[h])],g=s.s.c;g<=s.e.c;++g){var p=!1;for(o=0;o!=i.length;++o)if(!(i[o].s.c>g)&&!(i[o].s.r>h)&&!(i[o].e.c<g)&&!(i[o].e.r<h)){(i[o].s.c!=g||i[o].s.r!=h)&&(p=!0);break}if(!p){var v={r:h,c:g},w=cr(v),E=u?(t[h]||[])[g]:t[w];f.push(b3e(E,w,t,e,n,r,v))}}f.push("</Row>"),f.length>2&&l.push(f.join(""))}return l.join("")}function j3e(t,e,n){var r=[],s=n.SheetNames[t],i=n.Sheets[s],o=i?v3e(i,e,t,n):"";return o.length>0&&r.push("<Names>"+o+"</Names>"),o=i?_3e(i,e,t,n):"",o.length>0&&r.push("<Table>"+o+"</Table>"),r.push(y3e(i,e,t,n)),r.join("")}function E3e(t,e){e||(e={}),t.SSF||(t.SSF=Ei(us)),t.SSF&&($w(),qw(t.SSF),e.revssf=Vw(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],Cd(e.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(f3e(t,e)),n.push(m3e()),n.push(""),n.push("");for(var r=0;r<t.SheetNames.length;++r)n.push(dt("Worksheet",j3e(r,e,t),{"ss:Name":lr(t.SheetNames[r])}));return n[2]=p3e(t,e),n[3]=g3e(t),Ls+dt("Workbook",n.join(""),{xmlns:Bi.ss,"xmlns:o":Bi.o,"xmlns:x":Bi.x,"xmlns:ss":Bi.ss,"xmlns:dt":Bi.dt,"xmlns:html":Bi.html})}var IS={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function S3e(t,e){var n=[],r=[],s=[],i=0,o,l=DM(YM,"n"),u=DM(XM,"n");if(t.Props)for(o=Ea(t.Props),i=0;i<o.length;++i)(Object.prototype.hasOwnProperty.call(l,o[i])?n:Object.prototype.hasOwnProperty.call(u,o[i])?r:s).push([o[i],t.Props[o[i]]]);if(t.Custprops)for(o=Ea(t.Custprops),i=0;i<o.length;++i)Object.prototype.hasOwnProperty.call(t.Props||{},o[i])||(Object.prototype.hasOwnProperty.call(l,o[i])?n:Object.prototype.hasOwnProperty.call(u,o[i])?r:s).push([o[i],t.Custprops[o[i]]]);var h=[];for(i=0;i<s.length;++i)zG.indexOf(s[i][0])>-1||FG.indexOf(s[i][0])>-1||s[i][1]!=null&&h.push(s[i]);r.length&&mr.utils.cfb_add(e,"/SummaryInformation",t8(r,IS.SI,u,XM)),(n.length||h.length)&&mr.utils.cfb_add(e,"/DocumentSummaryInformation",t8(n,IS.DSI,l,YM,h.length?h:null,IS.UDI))}function C3e(t,e){var n=e||{},r=mr.utils.cfb_new({root:"R"}),s="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":s="/Workbook",n.biff=8;break;case"biff5":s="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return mr.utils.cfb_add(r,s,yW(t,n)),n.biff==8&&(t.Props||t.Custprops)&&S3e(t,r),n.biff==8&&t.vbaraw&&VCe(r,mr.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),r}var N3e={0:{f:LTe},1:{f:FTe},2:{f:sAe},3:{f:GTe},4:{f:qTe},5:{f:eAe},6:{f:cAe},7:{f:XTe},8:{f:gAe},9:{f:pAe},10:{f:fAe},11:{f:mAe},12:{f:UTe},13:{f:iAe},14:{f:KTe},15:{f:VTe},16:{f:nAe},17:{f:dAe},18:{f:QTe},19:{f:OL},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:t3e},40:{},42:{},43:{f:cCe},44:{f:oCe},45:{f:hCe},46:{f:mCe},47:{f:fCe},48:{},49:{f:UEe},50:{},51:{f:LCe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:zSe},62:{f:lAe},63:{f:DCe},64:{f:kAe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:nc,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:TAe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:DTe},148:{f:OTe,p:16},151:{f:_Ae},152:{},153:{f:ZAe},154:{},155:{},156:{f:JAe},157:{},158:{},159:{T:1,f:JSe},160:{T:-1},161:{T:1,f:bf},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:vAe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:TCe},336:{T:-1},337:{f:OCe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:fT},357:{},358:{},359:{},360:{T:1},361:{},362:{f:PSe},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:jAe},427:{f:EAe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:CAe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:PTe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:bAe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:fT},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:zCe},633:{T:1},634:{T:-1},635:{T:1,f:BCe},636:{T:-1},637:{f:VEe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:HAe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:OAe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function ft(t,e,n,r){var s=e;if(!isNaN(s)){var i=r||(n||[]).length||0,o=t.next(4);o.write_shift(2,s),o.write_shift(2,i),i>0&&LL(n)&&t.push(n)}}function T3e(t,e,n,r){var s=(n||[]).length||0;if(s<=8224)return ft(t,e,n,s);var i=e;if(!isNaN(i)){for(var o=n.parts||[],l=0,u=0,h=0;h+(o[l]||8224)<=8224;)h+=o[l]||8224,l++;var f=t.next(4);for(f.write_shift(2,i),f.write_shift(2,h),t.push(n.slice(u,u+h)),u+=h;u<s;){for(f=t.next(4),f.write_shift(2,60),h=0;h+(o[l]||8224)<=8224;)h+=o[l]||8224,l++;f.write_shift(2,h),t.push(n.slice(u,u+h)),u+=h}}}function Xv(t,e,n){return t||(t=qe(7)),t.write_shift(2,e),t.write_shift(2,n),t.write_shift(2,0),t.write_shift(1,0),t}function A3e(t,e,n,r){var s=qe(9);return Xv(s,t,e),$G(n,r||"b",s),s}function L3e(t,e,n){var r=qe(8+2*n.length);return Xv(r,t,e),r.write_shift(1,n.length),r.write_shift(n.length,n,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function R3e(t,e,n,r){if(e.v!=null)switch(e.t){case"d":case"n":var s=e.t=="d"?ji(ri(e.v)):e.v;s==(s|0)&&s>=0&&s<65536?ft(t,2,HSe(n,r,s)):ft(t,3,VSe(n,r,s));return;case"b":case"e":ft(t,5,A3e(n,r,e.v,e.t));return;case"s":case"str":ft(t,4,L3e(n,r,(e.v||"").slice(0,255)));return}ft(t,1,Xv(null,n,r))}function k3e(t,e,n,r){var s=Array.isArray(e),i=Lr(e["!ref"]||"A1"),o,l="",u=[];if(i.e.c>255||i.e.r>16383){if(r.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),o=As(i)}for(var h=i.s.r;h<=i.e.r;++h){l=_a(h);for(var f=i.s.c;f<=i.e.c;++f){h===i.s.r&&(u[f]=Fa(f)),o=u[f]+l;var g=s?(e[h]||[])[f]:e[o];g&&R3e(t,g,h,f)}}}function O3e(t,e){for(var n=e||{},r=_i(),s=0,i=0;i<t.SheetNames.length;++i)t.SheetNames[i]==n.sheet&&(s=i);if(s==0&&n.sheet&&t.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return ft(r,n.biff==4?1033:n.biff==3?521:9,DL(t,16,n)),k3e(r,t.Sheets[t.SheetNames[s]],s,n),ft(r,10),r.end()}function I3e(t,e,n){ft(t,49,NSe({sz:12,name:"Arial"},n))}function P3e(t,e,n){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var s=r[0];s<=r[1];++s)e[s]!=null&&ft(t,1054,LSe(s,e[s],n))})}function D3e(t,e){var n=qe(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),ft(t,2151,n),n=qe(39),n.write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),GG(Lr(e["!ref"]||"A1"),n),n.write_shift(4,4),ft(t,2152,n)}function M3e(t,e){for(var n=0;n<16;++n)ft(t,224,r8({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(r){ft(t,224,r8(r,0,e))})}function F3e(t,e){for(var n=0;n<e["!links"].length;++n){var r=e["!links"][n];ft(t,440,FSe(r)),r[1].Tooltip&&ft(t,2048,BSe(r))}delete e["!links"]}function B3e(t,e){if(e){var n=0;e.forEach(function(r,s){++n<=256&&r&&ft(t,125,qSe(Kw(s,r),s))})}}function U3e(t,e,n,r,s){var i=16+Cd(s.cellXfs,e,s);if(e.v==null&&!e.bf){ft(t,513,Rh(n,r,i));return}if(e.bf)ft(t,6,uTe(e,n,r,s,i));else switch(e.t){case"d":case"n":var o=e.t=="d"?ji(ri(e.v)):e.v;ft(t,515,ISe(n,r,o,i));break;case"b":case"e":ft(t,517,OSe(n,r,e.v,i,s,e.t));break;case"s":case"str":if(s.bookSST){var l=zL(s.Strings,e.v,s.revStrings);ft(t,253,TSe(n,r,l,i))}else ft(t,516,ASe(n,r,(e.v||"").slice(0,255),i,s));break;default:ft(t,513,Rh(n,r,i))}}function z3e(t,e,n){var r=_i(),s=n.SheetNames[t],i=n.Sheets[s]||{},o=(n||{}).Workbook||{},l=(o.Sheets||[])[t]||{},u=Array.isArray(i),h=e.biff==8,f,g="",p=[],v=Lr(i["!ref"]||"A1"),w=h?65536:16384;if(v.e.c>255||v.e.r>=w){if(e.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");v.e.c=Math.min(v.e.c,255),v.e.r=Math.min(v.e.c,w-1)}ft(r,2057,DL(n,16,e)),ft(r,13,_o(1)),ft(r,12,_o(100)),ft(r,15,ti(!0)),ft(r,17,ti(!1)),ft(r,16,Lh(.001)),ft(r,95,ti(!0)),ft(r,42,ti(!1)),ft(r,43,ti(!1)),ft(r,130,_o(1)),ft(r,128,kSe()),ft(r,131,ti(!1)),ft(r,132,ti(!1)),h&&B3e(r,i["!cols"]),ft(r,512,RSe(v,e)),h&&(i["!links"]=[]);for(var E=v.s.r;E<=v.e.r;++E){g=_a(E);for(var S=v.s.c;S<=v.e.c;++S){E===v.s.r&&(p[S]=Fa(S)),f=p[S]+g;var C=u?(i[E]||[])[S]:i[f];C&&(U3e(r,C,E,S,e),h&&C.l&&i["!links"].push([f,C.l]))}}var O=l.CodeName||l.name||s;return h&&ft(r,574,CSe((o.Views||[])[0])),h&&(i["!merges"]||[]).length&&ft(r,229,MSe(i["!merges"])),h&&F3e(r,i),ft(r,442,HG(O)),h&&D3e(r,i),ft(r,10),r.end()}function q3e(t,e,n){var r=_i(),s=(t||{}).Workbook||{},i=s.Sheets||[],o=s.WBProps||{},l=n.biff==8,u=n.biff==5;if(ft(r,2057,DL(t,5,n)),n.bookType=="xla"&&ft(r,135),ft(r,225,l?_o(1200):null),ft(r,193,fSe(2)),u&&ft(r,191),u&&ft(r,192),ft(r,226),ft(r,92,_Se("SheetJS",n)),ft(r,66,_o(l?1200:1252)),l&&ft(r,353,_o(0)),l&&ft(r,448),ft(r,317,$Se(t.SheetNames.length)),l&&t.vbaraw&&ft(r,211),l&&t.vbaraw){var h=o.CodeName||"ThisWorkbook";ft(r,442,HG(h))}ft(r,156,_o(17)),ft(r,25,ti(!1)),ft(r,18,ti(!1)),ft(r,19,_o(0)),l&&ft(r,431,ti(!1)),l&&ft(r,444,_o(0)),ft(r,61,SSe()),ft(r,64,ti(!1)),ft(r,141,_o(0)),ft(r,34,ti(WAe(t)=="true")),ft(r,14,ti(!0)),l&&ft(r,439,ti(!1)),ft(r,218,_o(0)),I3e(r,t,n),P3e(r,t.SSF,n),M3e(r,n),l&&ft(r,352,ti(!1));var f=r.end(),g=_i();l&&ft(g,140,USe()),l&&n.Strings&&T3e(g,252,ESe(n.Strings)),ft(g,10);var p=g.end(),v=_i(),w=0,E=0;for(E=0;E<t.SheetNames.length;++E)w+=(l?12:11)+(l?2:1)*t.SheetNames[E].length;var S=f.length+w+p.length;for(E=0;E<t.SheetNames.length;++E){var C=i[E]||{};ft(v,133,jSe({pos:S,hs:C.Hidden||0,dt:0,name:t.SheetNames[E]},n)),S+=e[E].length}var O=v.end();if(w!=O.length)throw new Error("BS8 "+w+" != "+O.length);var I=[];return f.length&&I.push(f),O.length&&I.push(O),p.length&&I.push(p),xa(I)}function $3e(t,e){var n=e||{},r=[];t&&!t.SSF&&(t.SSF=Ei(us)),t&&t.SSF&&($w(),qw(t.SSF),n.revssf=Vw(t.SSF),n.revssf[t.SSF[65535]]=0,n.ssf=t.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,qL(n),n.cellXfs=[],Cd(n.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var s=0;s<t.SheetNames.length;++s)r[r.length]=z3e(s,n,t);return r.unshift(q3e(t,r,n)),xa(r)}function yW(t,e){for(var n=0;n<=t.SheetNames.length;++n){var r=t.Sheets[t.SheetNames[n]];if(!(!r||!r["!ref"])){var s=Xi(r["!ref"]);s.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[n]+"' extends beyond column IV (255).  Data may be lost.")}}var i=e||{};switch(i.biff||2){case 8:case 5:return $3e(t,e);case 4:case 3:case 2:return O3e(t,e)}throw new Error("invalid type "+i.bookType+" for BIFF")}function V3e(t,e,n,r){for(var s=t["!merges"]||[],i=[],o=e.s.c;o<=e.e.c;++o){for(var l=0,u=0,h=0;h<s.length;++h)if(!(s[h].s.r>n||s[h].s.c>o)&&!(s[h].e.r<n||s[h].e.c<o)){if(s[h].s.r<n||s[h].s.c<o){l=-1;break}l=s[h].e.r-s[h].s.r+1,u=s[h].e.c-s[h].s.c+1;break}if(!(l<0)){var f=cr({r:n,c:o}),g=r.dense?(t[n]||[])[o]:t[f],p=g&&g.v!=null&&(g.h||wEe(g.w||(tu(g),g.w)||""))||"",v={};l>1&&(v.rowspan=l),u>1&&(v.colspan=u),r.editable?p='<span contenteditable="true">'+p+"</span>":g&&(v["data-t"]=g&&g.t||"z",g.v!=null&&(v["data-v"]=g.v),g.z!=null&&(v["data-z"]=g.z),g.l&&(g.l.Target||"#").charAt(0)!="#"&&(p='<a href="'+g.l.Target+'">'+p+"</a>")),v.id=(r.id||"sjs")+"-"+f,i.push(dt("td",p,v))}}var w="<tr>";return w+i.join("")+"</tr>"}var H3e='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',G3e="</body></html>";function W3e(t,e,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function xW(t,e){var n=e||{},r=n.header!=null?n.header:H3e,s=n.footer!=null?n.footer:G3e,i=[r],o=Xi(t["!ref"]);n.dense=Array.isArray(t),i.push(W3e(t,o,n));for(var l=o.s.r;l<=o.e.r;++l)i.push(V3e(t,o,l,n));return i.push("</table>"+s),i.join("")}function bW(t,e,n){var r=n||{},s=0,i=0;if(r.origin!=null)if(typeof r.origin=="number")s=r.origin;else{var o=typeof r.origin=="string"?Qs(r.origin):r.origin;s=o.r,i=o.c}var l=e.getElementsByTagName("tr"),u=Math.min(r.sheetRows||1e7,l.length),h={s:{r:0,c:0},e:{r:s,c:i}};if(t["!ref"]){var f=Xi(t["!ref"]);h.s.r=Math.min(h.s.r,f.s.r),h.s.c=Math.min(h.s.c,f.s.c),h.e.r=Math.max(h.e.r,f.e.r),h.e.c=Math.max(h.e.c,f.e.c),s==-1&&(h.e.r=s=f.e.r+1)}var g=[],p=0,v=t["!rows"]||(t["!rows"]=[]),w=0,E=0,S=0,C=0,O=0,I=0;for(t["!cols"]||(t["!cols"]=[]);w<l.length&&E<u;++w){var D=l[w];if(u8(D)){if(r.display)continue;v[E]={hidden:!0}}var T=D.children;for(S=C=0;S<T.length;++S){var F=T[S];if(!(r.display&&u8(F))){var y=F.hasAttribute("data-v")?F.getAttribute("data-v"):F.hasAttribute("v")?F.getAttribute("v"):SEe(F.innerHTML),A=F.getAttribute("data-z")||F.getAttribute("z");for(p=0;p<g.length;++p){var _=g[p];_.s.c==C+i&&_.s.r<E+s&&E+s<=_.e.r&&(C=_.e.c+1-i,p=-1)}I=+F.getAttribute("colspan")||1,((O=+F.getAttribute("rowspan")||1)>1||I>1)&&g.push({s:{r:E+s,c:C+i},e:{r:E+s+(O||1)-1,c:C+i+(I||1)-1}});var L={t:"s",v:y},R=F.getAttribute("data-t")||F.getAttribute("t")||"";y!=null&&(y.length==0?L.t=R||"z":r.raw||y.trim().length==0||R=="s"||(y==="TRUE"?L={t:"b",v:!0}:y==="FALSE"?L={t:"b",v:!1}:isNaN(zc(y))?isNaN(X0(y).getDate())||(L={t:"d",v:ri(y)},r.cellDates||(L={t:"n",v:ji(L.v)}),L.z=r.dateNF||us[14]):L={t:"n",v:zc(y)})),L.z===void 0&&A!=null&&(L.z=A);var U="",P=F.getElementsByTagName("A");if(P&&P.length)for(var K=0;K<P.length&&!(P[K].hasAttribute("href")&&(U=P[K].getAttribute("href"),U.charAt(0)!="#"));++K);U&&U.charAt(0)!="#"&&(L.l={Target:U}),r.dense?(t[E+s]||(t[E+s]=[]),t[E+s][C+i]=L):t[cr({c:C+i,r:E+s})]=L,h.e.c<C+i&&(h.e.c=C+i),C+=I}}++E}return g.length&&(t["!merges"]=(t["!merges"]||[]).concat(g)),h.e.r=Math.max(h.e.r,E-1+s),t["!ref"]=As(h),E>=u&&(t["!fullref"]=As((h.e.r=l.length-w+E-1+s,h))),t}function wW(t,e){var n=e||{},r=n.dense?[]:{};return bW(r,t,e)}function K3e(t,e){return gf(wW(t,e),e)}function u8(t){var e="",n=Y3e(t);return n&&(e=n(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function Y3e(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var X3e=function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+Q0({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return Ls+e}}(),d8=function(){var t=function(i){return lr(i).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,n=`          <table:covered-table-cell/>
`,r=function(i,o,l){var u=[];u.push('      <table:table table:name="'+lr(o.SheetNames[l])+`" table:style-name="ta1">
`);var h=0,f=0,g=Xi(i["!ref"]||"A1"),p=i["!merges"]||[],v=0,w=Array.isArray(i);if(i["!cols"])for(f=0;f<=g.e.c;++f)u.push("        <table:table-column"+(i["!cols"][f]?' table:style-name="co'+i["!cols"][f].ods+'"':"")+`></table:table-column>
`);var E="",S=i["!rows"]||[];for(h=0;h<g.s.r;++h)E=S[h]?' table:style-name="ro'+S[h].ods+'"':"",u.push("        <table:table-row"+E+`></table:table-row>
`);for(;h<=g.e.r;++h){for(E=S[h]?' table:style-name="ro'+S[h].ods+'"':"",u.push("        <table:table-row"+E+`>
`),f=0;f<g.s.c;++f)u.push(e);for(;f<=g.e.c;++f){var C=!1,O={},I="";for(v=0;v!=p.length;++v)if(!(p[v].s.c>f)&&!(p[v].s.r>h)&&!(p[v].e.c<f)&&!(p[v].e.r<h)){(p[v].s.c!=f||p[v].s.r!=h)&&(C=!0),O["table:number-columns-spanned"]=p[v].e.c-p[v].s.c+1,O["table:number-rows-spanned"]=p[v].e.r-p[v].s.r+1;break}if(C){u.push(n);continue}var D=cr({r:h,c:f}),T=w?(i[h]||[])[f]:i[D];if(T&&T.f&&(O["table:formula"]=lr(gTe(T.f)),T.F&&T.F.slice(0,D.length)==D)){var F=Xi(T.F);O["table:number-matrix-columns-spanned"]=F.e.c-F.s.c+1,O["table:number-matrix-rows-spanned"]=F.e.r-F.s.r+1}if(!T){u.push(e);continue}switch(T.t){case"b":I=T.v?"TRUE":"FALSE",O["office:value-type"]="boolean",O["office:boolean-value"]=T.v?"true":"false";break;case"n":I=T.w||String(T.v||0),O["office:value-type"]="float",O["office:value"]=T.v||0;break;case"s":case"str":I=T.v==null?"":T.v,O["office:value-type"]="string";break;case"d":I=T.w||ri(T.v).toISOString(),O["office:value-type"]="date",O["office:date-value"]=ri(T.v).toISOString(),O["table:style-name"]="ce1";break;default:u.push(e);continue}var y=t(I);if(T.l&&T.l.Target){var A=T.l.Target;A=A.charAt(0)=="#"?"#"+vTe(A.slice(1)):A,A.charAt(0)!="#"&&!A.match(/^\w+:/)&&(A="../"+A),y=dt("text:a",y,{"xlink:href":A.replace(/&/g,"&amp;")})}u.push("          "+dt("table:table-cell",dt("text:p",y,{}),O)+`
`)}u.push(`        </table:table-row>
`)}return u.push(`      </table:table>
`),u.join("")},s=function(i,o){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var l=0;o.SheetNames.map(function(h){return o.Sheets[h]}).forEach(function(h){if(h&&h["!cols"]){for(var f=0;f<h["!cols"].length;++f)if(h["!cols"][f]){var g=h["!cols"][f];if(g.width==null&&g.wpx==null&&g.wch==null)continue;ML(g),g.ods=l;var p=h["!cols"][f].wpx+"px";i.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+p+`"/>
`),i.push(`  </style:style>
`),++l}}});var u=0;o.SheetNames.map(function(h){return o.Sheets[h]}).forEach(function(h){if(h&&h["!rows"]){for(var f=0;f<h["!rows"].length;++f)if(h["!rows"][f]){h["!rows"][f].ods=u;var g=h["!rows"][f].hpx+"px";i.push('  <style:style style:name="ro'+u+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+g+`"/>
`),i.push(`  </style:style>
`),++u}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(o,l){var u=[Ls],h=Q0({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),f=Q0({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(u.push("<office:document"+h+f+`>
`),u.push(DG().replace(/office:document-meta/g,"office:meta"))):u.push("<office:document-content"+h+`>
`),s(u,o),u.push(`  <office:body>
`),u.push(`    <office:spreadsheet>
`);for(var g=0;g!=o.SheetNames.length;++g)u.push(r(o.Sheets[o.SheetNames[g]],o,g));return u.push(`    </office:spreadsheet>
`),u.push(`  </office:body>
`),l.bookType=="fods"?u.push("</office:document>"):u.push("</office:document-content>"),u.join("")}}();function _W(t,e){if(e.bookType=="fods")return d8(t,e);var n=CL(),r="",s=[],i=[];return r="mimetype",xn(n,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",xn(n,r,d8(t,e)),s.push([r,"text/xml"]),i.push([r,"ContentFile"]),r="styles.xml",xn(n,r,X3e(t,e)),s.push([r,"text/xml"]),i.push([r,"StylesFile"]),r="meta.xml",xn(n,r,Ls+DG()),s.push([r,"text/xml"]),i.push([r,"MetadataFile"]),r="manifest.rdf",xn(n,r,lSe(i)),s.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",xn(n,r,iSe(s)),n}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function bb(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function J3e(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):rl(J0(t))}function Q3e(t,e){e:for(var n=0;n<=t.length-e.length;++n){for(var r=0;r<e.length;++r)if(t[n+r]!=e[r])continue e;return!0}return!1}function bd(t){var e=t.reduce(function(s,i){return s+i.length},0),n=new Uint8Array(e),r=0;return t.forEach(function(s){n.set(s,r),r+=s.length}),n}function Z3e(t,e,n){var r=Math.floor(n==0?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,s=n/Math.pow(10,r-6176);t[e+15]|=r>>7,t[e+14]|=(r&127)<<1;for(var i=0;s>=1;++i,s/=256)t[e+i]=s&255;t[e+15]|=n>=0?0:128}function Z0(t,e){var n=e?e[0]:0,r=t[n]&127;e:if(t[n++]>=128&&(r|=(t[n]&127)<<7,t[n++]<128||(r|=(t[n]&127)<<14,t[n++]<128)||(r|=(t[n]&127)<<21,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,28),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,35),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,42),++n,t[n++]<128)))break e;return e&&(e[0]=n),r}function ir(t){var e=new Uint8Array(7);e[0]=t&127;var n=1;e:if(t>127){if(e[n-1]|=128,e[n]=t>>7&127,++n,t<=16383||(e[n-1]|=128,e[n]=t>>14&127,++n,t<=2097151)||(e[n-1]|=128,e[n]=t>>21&127,++n,t<=268435455)||(e[n-1]|=128,e[n]=t/256>>>21&127,++n,t<=34359738367)||(e[n-1]|=128,e[n]=t/65536>>>21&127,++n,t<=4398046511103))break e;e[n-1]|=128,e[n]=t/16777216>>>21&127,++n}return e.slice(0,n)}function Mm(t){var e=0,n=t[e]&127;e:if(t[e++]>=128){if(n|=(t[e]&127)<<7,t[e++]<128||(n|=(t[e]&127)<<14,t[e++]<128)||(n|=(t[e]&127)<<21,t[e++]<128))break e;n|=(t[e]&127)<<28}return n}function Fs(t){for(var e=[],n=[0];n[0]<t.length;){var r=n[0],s=Z0(t,n),i=s&7;s=Math.floor(s/8);var o=0,l;if(s==0)break;switch(i){case 0:{for(var u=n[0];t[n[0]++]>=128;);l=t.slice(u,n[0])}break;case 5:o=4,l=t.slice(n[0],n[0]+o),n[0]+=o;break;case 1:o=8,l=t.slice(n[0],n[0]+o),n[0]+=o;break;case 2:o=Z0(t,n),l=t.slice(n[0],n[0]+o),n[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(s," at offset ").concat(r))}var h={data:l,type:i};e[s]==null?e[s]=[h]:e[s].push(h)}return e}function ma(t){var e=[];return t.forEach(function(n,r){n.forEach(function(s){s.data&&(e.push(ir(r*8+s.type)),s.type==2&&e.push(ir(s.data.length)),e.push(s.data))})}),bd(e)}function Xo(t){for(var e,n=[],r=[0];r[0]<t.length;){var s=Z0(t,r),i=Fs(t.slice(r[0],r[0]+s));r[0]+=s;var o={id:Mm(i[1][0].data),messages:[]};i[2].forEach(function(l){var u=Fs(l.data),h=Mm(u[3][0].data);o.messages.push({meta:u,data:t.slice(r[0],r[0]+h)}),r[0]+=h}),(e=i[3])!=null&&e[0]&&(o.merge=Mm(i[3][0].data)>>>0>0),n.push(o)}return n}function tm(t){var e=[];return t.forEach(function(n){var r=[];r[1]=[{data:ir(n.id),type:0}],r[2]=[],n.merge!=null&&(r[3]=[{data:ir(+!!n.merge),type:0}]);var s=[];n.messages.forEach(function(o){s.push(o.data),o.meta[3]=[{type:0,data:ir(o.data.length)}],r[2].push({data:ma(o.meta),type:2})});var i=ma(r);e.push(ir(i.length)),e.push(i),s.forEach(function(o){return e.push(o)})}),bd(e)}function eLe(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var n=[0],r=Z0(e,n),s=[];n[0]<e.length;){var i=e[n[0]]&3;if(i==0){var o=e[n[0]++]>>2;if(o<60)++o;else{var l=o-59;o=e[n[0]],l>1&&(o|=e[n[0]+1]<<8),l>2&&(o|=e[n[0]+2]<<16),l>3&&(o|=e[n[0]+3]<<24),o>>>=0,o++,n[0]+=l}s.push(e.slice(n[0],n[0]+o)),n[0]+=o;continue}else{var u=0,h=0;if(i==1?(h=(e[n[0]]>>2&7)+4,u=(e[n[0]++]&224)<<3,u|=e[n[0]++]):(h=(e[n[0]++]>>2)+1,i==2?(u=e[n[0]]|e[n[0]+1]<<8,n[0]+=2):(u=(e[n[0]]|e[n[0]+1]<<8|e[n[0]+2]<<16|e[n[0]+3]<<24)>>>0,n[0]+=4)),s=[bd(s)],u==0)throw new Error("Invalid offset 0");if(u>s[0].length)throw new Error("Invalid offset beyond length");if(h>=u)for(s.push(s[0].slice(-u)),h-=u;h>=s[s.length-1].length;)s.push(s[s.length-1]),h-=s[s.length-1].length;s.push(s[0].slice(-u,-u+h))}}var f=bd(s);if(f.length!=r)throw new Error("Unexpected length: ".concat(f.length," != ").concat(r));return f}function Jo(t){for(var e=[],n=0;n<t.length;){var r=t[n++],s=t[n]|t[n+1]<<8|t[n+2]<<16;n+=3,e.push(eLe(r,t.slice(n,n+s))),n+=s}if(n!==t.length)throw new Error("data is not a valid framed stream!");return bd(e)}function nm(t){for(var e=[],n=0;n<t.length;){var r=Math.min(t.length-n,268435455),s=new Uint8Array(4);e.push(s);var i=ir(r),o=i.length;e.push(i),r<=60?(o++,e.push(new Uint8Array([r-1<<2]))):r<=256?(o+=2,e.push(new Uint8Array([240,r-1&255]))):r<=65536?(o+=3,e.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(o+=4,e.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(o+=5,e.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),e.push(t.slice(n,n+r)),o+=r,s[0]=0,s[1]=o&255,s[2]=o>>8&255,s[3]=o>>16&255,n+=r}return bd(e)}function PS(t,e){var n=new Uint8Array(32),r=bb(n),s=12,i=0;switch(n[0]=5,t.t){case"n":n[1]=2,Z3e(n,s,t.v),i|=1,s+=16;break;case"b":n[1]=6,r.setFloat64(s,t.v?1:0,!0),i|=2,s+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[1]=3,r.setUint32(s,e.indexOf(t.v),!0),i|=8,s+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(8,i,!0),n.slice(0,s)}function DS(t,e){var n=new Uint8Array(32),r=bb(n),s=12,i=0;switch(n[0]=3,t.t){case"n":n[2]=2,r.setFloat64(s,t.v,!0),i|=32,s+=8;break;case"b":n[2]=6,r.setFloat64(s,t.v?1:0,!0),i|=32,s+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[2]=3,r.setUint32(s,e.indexOf(t.v),!0),i|=16,s+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(4,i,!0),n.slice(0,s)}function Iu(t){var e=Fs(t);return Z0(e[1][0].data)}function tLe(t,e,n){var r,s,i,o;if(!((r=t[6])!=null&&r[0])||!((s=t[7])!=null&&s[0]))throw"Mutation only works on post-BNC storages!";var l=((o=(i=t[8])==null?void 0:i[0])==null?void 0:o.data)&&Mm(t[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var u=0,h=bb(t[7][0].data),f=0,g=[],p=bb(t[4][0].data),v=0,w=[],E=0;E<e.length;++E){if(e[E]==null){h.setUint16(E*2,65535,!0),p.setUint16(E*2,65535);continue}h.setUint16(E*2,f,!0),p.setUint16(E*2,v,!0);var S,C;switch(typeof e[E]){case"string":S=PS({t:"s",v:e[E]},n),C=DS({t:"s",v:e[E]},n);break;case"number":S=PS({t:"n",v:e[E]},n),C=DS({t:"n",v:e[E]},n);break;case"boolean":S=PS({t:"b",v:e[E]},n),C=DS({t:"b",v:e[E]},n);break;default:throw new Error("Unsupported value "+e[E])}g.push(S),f+=S.length,w.push(C),v+=C.length,++u}for(t[2][0].data=ir(u);E<t[7][0].data.length/2;++E)h.setUint16(E*2,65535,!0),p.setUint16(E*2,65535,!0);return t[6][0].data=bd(g),t[3][0].data=bd(w),u}function nLe(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=Xi(n["!ref"]);r.s.r=r.s.c=0;var s=!1;r.e.c>9&&(s=!0,r.e.c=9),r.e.r>49&&(s=!0,r.e.r=49),s&&console.error("The Numbers writer is currently limited to ".concat(As(r)));var i=wb(n,{range:r,header:1}),o=["~Sh33tJ5~"];i.forEach(function(ne){return ne.forEach(function(te){typeof te=="string"&&o.push(te)})});var l={},u=[],h=mr.read(e.numbers,{type:"base64"});h.FileIndex.map(function(ne,te){return[ne,h.FullPaths[te]]}).forEach(function(ne){var te=ne[0],X=ne[1];if(te.type==2&&te.name.match(/\.iwa/)){var be=te.content,Ne=Jo(be),Ee=Xo(Ne);Ee.forEach(function(Ie){u.push(Ie.id),l[Ie.id]={deps:[],location:X,type:Mm(Ie.messages[0].meta[1][0].data)}})}}),u.sort(function(ne,te){return ne-te});var f=u.filter(function(ne){return ne>1}).map(function(ne){return[ne,ir(ne)]});h.FileIndex.map(function(ne,te){return[ne,h.FullPaths[te]]}).forEach(function(ne){var te=ne[0];if(ne[1],!!te.name.match(/\.iwa/)){var X=Xo(Jo(te.content));X.forEach(function(be){be.messages.forEach(function(Ne){f.forEach(function(Ee){be.messages.some(function(Ie){return Mm(Ie.meta[1][0].data)!=11006&&Q3e(Ie.data,Ee[1])})&&l[Ee[0]].deps.push(be.id)})})})}});for(var g=mr.find(h,l[1].location),p=Xo(Jo(g.content)),v,w=0;w<p.length;++w){var E=p[w];E.id==1&&(v=E)}var S=Iu(Fs(v.messages[0].data)[1][0].data);for(g=mr.find(h,l[S].location),p=Xo(Jo(g.content)),w=0;w<p.length;++w)E=p[w],E.id==S&&(v=E);for(S=Iu(Fs(v.messages[0].data)[2][0].data),g=mr.find(h,l[S].location),p=Xo(Jo(g.content)),w=0;w<p.length;++w)E=p[w],E.id==S&&(v=E);for(S=Iu(Fs(v.messages[0].data)[2][0].data),g=mr.find(h,l[S].location),p=Xo(Jo(g.content)),w=0;w<p.length;++w)E=p[w],E.id==S&&(v=E);var C=Fs(v.messages[0].data);{C[6][0].data=ir(r.e.r+1),C[7][0].data=ir(r.e.c+1);var O=Iu(C[46][0].data),I=mr.find(h,l[O].location),D=Xo(Jo(I.content));{for(var T=0;T<D.length&&D[T].id!=O;++T);if(D[T].id!=O)throw"Bad ColumnRowUIDMapArchive";var F=Fs(D[T].messages[0].data);F[1]=[],F[2]=[],F[3]=[];for(var y=0;y<=r.e.c;++y){var A=[];A[1]=A[2]=[{type:0,data:ir(y+420690)}],F[1].push({type:2,data:ma(A)}),F[2].push({type:0,data:ir(y)}),F[3].push({type:0,data:ir(y)})}F[4]=[],F[5]=[],F[6]=[];for(var _=0;_<=r.e.r;++_)A=[],A[1]=A[2]=[{type:0,data:ir(_+726270)}],F[4].push({type:2,data:ma(A)}),F[5].push({type:0,data:ir(_)}),F[6].push({type:0,data:ir(_)});D[T].messages[0].data=ma(F)}I.content=nm(tm(D)),I.size=I.content.length,delete C[46];var L=Fs(C[4][0].data);{L[7][0].data=ir(r.e.r+1);var R=Fs(L[1][0].data),U=Iu(R[2][0].data);I=mr.find(h,l[U].location),D=Xo(Jo(I.content));{if(D[0].id!=U)throw"Bad HeaderStorageBucket";var P=Fs(D[0].messages[0].data);for(_=0;_<i.length;++_){var K=Fs(P[2][0].data);K[1][0].data=ir(_),K[4][0].data=ir(i[_].length),P[2][_]={type:P[2][0].type,data:ma(K)}}D[0].messages[0].data=ma(P)}I.content=nm(tm(D)),I.size=I.content.length;var G=Iu(L[2][0].data);I=mr.find(h,l[G].location),D=Xo(Jo(I.content));{if(D[0].id!=G)throw"Bad HeaderStorageBucket";for(P=Fs(D[0].messages[0].data),y=0;y<=r.e.c;++y)K=Fs(P[2][0].data),K[1][0].data=ir(y),K[4][0].data=ir(r.e.r+1),P[2][y]={type:P[2][0].type,data:ma(K)};D[0].messages[0].data=ma(P)}I.content=nm(tm(D)),I.size=I.content.length;var re=Iu(L[4][0].data);(function(){for(var ne=mr.find(h,l[re].location),te=Xo(Jo(ne.content)),X,be=0;be<te.length;++be){var Ne=te[be];Ne.id==re&&(X=Ne)}var Ee=Fs(X.messages[0].data);{Ee[3]=[];var Ie=[];o.forEach(function(tt,ct){Ie[1]=[{type:0,data:ir(ct)}],Ie[2]=[{type:0,data:ir(1)}],Ie[3]=[{type:2,data:J3e(tt)}],Ee[3].push({type:2,data:ma(Ie)})})}X.messages[0].data=ma(Ee);var _e=tm(te),Ue=nm(_e);ne.content=Ue,ne.size=ne.content.length})();var Z=Fs(L[3][0].data);{var me=Z[1][0];delete Z[2];var ie=Fs(me.data);{var W=Iu(ie[2][0].data);(function(){for(var ne=mr.find(h,l[W].location),te=Xo(Jo(ne.content)),X,be=0;be<te.length;++be){var Ne=te[be];Ne.id==W&&(X=Ne)}var Ee=Fs(X.messages[0].data);{delete Ee[6],delete Z[7];var Ie=new Uint8Array(Ee[5][0].data);Ee[5]=[];for(var _e=0,Ue=0;Ue<=r.e.r;++Ue){var tt=Fs(Ie);_e+=tLe(tt,i[Ue],o),tt[1][0].data=ir(Ue),Ee[5].push({data:ma(tt),type:2})}Ee[1]=[{type:0,data:ir(r.e.c+1)}],Ee[2]=[{type:0,data:ir(r.e.r+1)}],Ee[3]=[{type:0,data:ir(_e)}],Ee[4]=[{type:0,data:ir(r.e.r+1)}]}X.messages[0].data=ma(Ee);var ct=tm(te),ut=nm(ct);ne.content=ut,ne.size=ne.content.length})()}me.data=ma(ie)}L[3][0].data=ma(Z)}C[4][0].data=ma(L)}v.messages[0].data=ma(C);var ve=tm(p),Q=nm(ve);return g.content=Q,g.size=g.content.length,h}function rLe(t){return function(n){for(var r=0;r!=t.length;++r){var s=t[r];n[s[0]]===void 0&&(n[s[0]]=s[1]),s[2]==="n"&&(n[s[0]]=Number(n[s[0]]))}}}function qL(t){rLe([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function sLe(t,e){return e.bookType=="ods"?_W(t,e):e.bookType=="numbers"?nLe(t,e):e.bookType=="xlsb"?aLe(t,e):iLe(t,e)}function aLe(t,e){bm=1024,t&&!t.SSF&&(t.SSF=Ei(us)),t&&t.SSF&&($w(),qw(t.SSF),e.revssf=Vw(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,f0?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n=e.bookType=="xlsb"?"bin":"xml",r=sW.indexOf(e.bookType)>-1,s=OG();qL(e=e||{});var i=CL(),o="",l=0;if(e.cellXfs=[],Cd(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),o="docProps/core.xml",xn(i,o,MG(t.Props,e)),s.coreprops.push(o),or(e.rels,2,o,Yn.CORE_PROPS),o="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var u=[],h=0;h<t.SheetNames.length;++h)(t.Workbook.Sheets[h]||{}).Hidden!=2&&u.push(t.SheetNames[h]);t.Props.SheetNames=u}for(t.Props.Worksheets=t.Props.SheetNames.length,xn(i,o,BG(t.Props)),s.extprops.push(o),or(e.rels,3,o,Yn.EXT_PROPS),t.Custprops!==t.Props&&Ea(t.Custprops||{}).length>0&&(o="docProps/custom.xml",xn(i,o,UG(t.Custprops)),s.custprops.push(o),or(e.rels,4,o,Yn.CUST_PROPS)),l=1;l<=t.SheetNames.length;++l){var f={"!id":{}},g=t.Sheets[t.SheetNames[l-1]],p=(g||{})["!type"]||"sheet";switch(p){case"chart":default:o="xl/worksheets/sheet"+l+"."+n,xn(i,o,l3e(l-1,o,e,t,f)),s.sheets.push(o),or(e.wbrels,-1,"worksheets/sheet"+l+"."+n,Yn.WS[0])}if(g){var v=g["!comments"],w=!1,E="";v&&v.length>0&&(E="xl/comments"+l+"."+n,xn(i,E,d3e(v,E)),s.comments.push(E),or(f,-1,"../comments"+l+"."+n,Yn.CMNT),w=!0),g["!legacy"]&&w&&xn(i,"xl/drawings/vmlDrawing"+l+".vml",nW(l,g["!comments"])),delete g["!comments"],delete g["!legacy"]}f["!id"].rId1&&xn(i,PG(o),Pm(f))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+n,xn(i,o,u3e(e.Strings,o,e)),s.strs.push(o),or(e.wbrels,-1,"sharedStrings."+n,Yn.SST)),o="xl/workbook."+n,xn(i,o,o3e(t,o)),s.workbooks.push(o),or(e.rels,1,o,Yn.WB),o="xl/theme/theme1.xml",xn(i,o,eW(t.Themes,e)),s.themes.push(o),or(e.wbrels,-1,"theme/theme1.xml",Yn.THEME),o="xl/styles."+n,xn(i,o,c3e(t,o,e)),s.styles.push(o),or(e.wbrels,-1,"styles."+n,Yn.STY),t.vbaraw&&r&&(o="xl/vbaProject.bin",xn(i,o,t.vbaraw),s.vba.push(o),or(e.wbrels,-1,"vbaProject.bin",Yn.VBA)),o="xl/metadata."+n,xn(i,o,h3e(o)),s.metadata.push(o),or(e.wbrels,-1,"metadata."+n,Yn.XLMETA),xn(i,"[Content_Types].xml",IG(s,e)),xn(i,"_rels/.rels",Pm(e.rels)),xn(i,"xl/_rels/workbook."+n+".rels",Pm(e.wbrels)),delete e.revssf,delete e.ssf,i}function iLe(t,e){bm=1024,t&&!t.SSF&&(t.SSF=Ei(us)),t&&t.SSF&&($w(),qw(t.SSF),e.revssf=Vw(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,f0?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n="xml",r=sW.indexOf(e.bookType)>-1,s=OG();qL(e=e||{});var i=CL(),o="",l=0;if(e.cellXfs=[],Cd(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),o="docProps/core.xml",xn(i,o,MG(t.Props,e)),s.coreprops.push(o),or(e.rels,2,o,Yn.CORE_PROPS),o="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var u=[],h=0;h<t.SheetNames.length;++h)(t.Workbook.Sheets[h]||{}).Hidden!=2&&u.push(t.SheetNames[h]);t.Props.SheetNames=u}t.Props.Worksheets=t.Props.SheetNames.length,xn(i,o,BG(t.Props)),s.extprops.push(o),or(e.rels,3,o,Yn.EXT_PROPS),t.Custprops!==t.Props&&Ea(t.Custprops||{}).length>0&&(o="docProps/custom.xml",xn(i,o,UG(t.Custprops)),s.custprops.push(o),or(e.rels,4,o,Yn.CUST_PROPS));var f=["SheetJ5"];for(e.tcid=0,l=1;l<=t.SheetNames.length;++l){var g={"!id":{}},p=t.Sheets[t.SheetNames[l-1]],v=(p||{})["!type"]||"sheet";switch(v){case"chart":default:o="xl/worksheets/sheet"+l+"."+n,xn(i,o,fW(l-1,e,t,g)),s.sheets.push(o),or(e.wbrels,-1,"worksheets/sheet"+l+"."+n,Yn.WS[0])}if(p){var w=p["!comments"],E=!1,S="";if(w&&w.length>0){var C=!1;w.forEach(function(O){O[1].forEach(function(I){I.T==!0&&(C=!0)})}),C&&(S="xl/threadedComments/threadedComment"+l+"."+n,xn(i,S,MCe(w,f,e)),s.threadedcomments.push(S),or(g,-1,"../threadedComments/threadedComment"+l+"."+n,Yn.TCMNT)),S="xl/comments"+l+"."+n,xn(i,S,rW(w)),s.comments.push(S),or(g,-1,"../comments"+l+"."+n,Yn.CMNT),E=!0}p["!legacy"]&&E&&xn(i,"xl/drawings/vmlDrawing"+l+".vml",nW(l,p["!comments"])),delete p["!comments"],delete p["!legacy"]}g["!id"].rId1&&xn(i,PG(o),Pm(g))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+n,xn(i,o,KG(e.Strings,e)),s.strs.push(o),or(e.wbrels,-1,"sharedStrings."+n,Yn.SST)),o="xl/workbook."+n,xn(i,o,gW(t)),s.workbooks.push(o),or(e.rels,1,o,Yn.WB),o="xl/theme/theme1.xml",xn(i,o,eW(t.Themes,e)),s.themes.push(o),or(e.wbrels,-1,"theme/theme1.xml",Yn.THEME),o="xl/styles."+n,xn(i,o,QG(t,e)),s.styles.push(o),or(e.wbrels,-1,"styles."+n,Yn.STY),t.vbaraw&&r&&(o="xl/vbaProject.bin",xn(i,o,t.vbaraw),s.vba.push(o),or(e.wbrels,-1,"vbaProject.bin",Yn.VBA)),o="xl/metadata."+n,xn(i,o,tW()),s.metadata.push(o),or(e.wbrels,-1,"metadata."+n,Yn.XLMETA),f.length>1&&(o="xl/persons/person.xml",xn(i,o,FCe(f)),s.people.push(o),or(e.wbrels,-1,"persons/person.xml",Yn.PEOPLE)),xn(i,"[Content_Types].xml",IG(s,e)),xn(i,"_rels/.rels",Pm(e.rels)),xn(i,"xl/_rels/workbook."+n+".rels",Pm(e.wbrels)),delete e.revssf,delete e.ssf,i}function oLe(t,e){var n="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":n=eu(t.slice(0,12));break;case"binary":n=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function jW(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return Gv(e.file,mr.write(t,{type:Zn?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return mr.write(t,e)}function lLe(t,e){var n=Ei(e||{}),r=sLe(t,n);return cLe(r,n)}function cLe(t,e){var n={},r=Zn?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(n.compression="DEFLATE"),e.password)n.type=r;else switch(e.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":n.type=r;break;default:throw new Error("Unrecognized type "+e.type)}var s=t.FullPaths?mr.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!e.compression}):t.generate(n);if(typeof Deno<"u"&&typeof s=="string"){if(e.type=="binary"||e.type=="base64")return s;s=new Uint8Array(zw(s))}return e.password&&typeof encrypt_agile<"u"?jW(encrypt_agile(s,e.password),e):e.type==="file"?Gv(e.file,s):e.type=="string"?c0(s):s}function uLe(t,e){var n=e||{},r=C3e(t,n);return jW(r,n)}function Ll(t,e,n){n||(n="");var r=n+t;switch(e.type){case"base64":return Y0(J0(r));case"binary":return J0(r);case"string":return t;case"file":return Gv(e.file,r,"utf8");case"buffer":return Zn?cu(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):Ll(r,{type:"binary"}).split("").map(function(s){return s.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function dLe(t,e){switch(e.type){case"base64":return Y0(t);case"binary":return t;case"string":return t;case"file":return Gv(e.file,t,"binary");case"buffer":return Zn?cu(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Ux(t,e){switch(e.type){case"string":case"base64":case"binary":for(var n="",r=0;r<t.length;++r)n+=String.fromCharCode(t[r]);return e.type=="base64"?Y0(n):e.type=="string"?c0(n):n;case"file":return Gv(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function EW(t,e){Bje(),XAe(t);var n=Ei(e||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),n.type=="array"){n.type="binary";var r=EW(t,n);return n.type="array",zw(r)}var s=0;if(n.sheet&&(typeof n.sheet=="number"?s=n.sheet:s=t.SheetNames.indexOf(n.sheet),!t.SheetNames[s]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return Ll(E3e(t,n),n);case"slk":case"sylk":return Ll(WSe.from_sheet(t.Sheets[t.SheetNames[s]],n),n);case"htm":case"html":return Ll(xW(t.Sheets[t.SheetNames[s]],n),n);case"txt":return dLe(SW(t.Sheets[t.SheetNames[s]],n),n);case"csv":return Ll($L(t.Sheets[t.SheetNames[s]],n),n,"\uFEFF");case"dif":return Ll(KSe.from_sheet(t.Sheets[t.SheetNames[s]],n),n);case"dbf":return Ux(GSe.from_sheet(t.Sheets[t.SheetNames[s]],n),n);case"prn":return Ll(YSe.from_sheet(t.Sheets[t.SheetNames[s]],n),n);case"rtf":return Ll(nCe.from_sheet(t.Sheets[t.SheetNames[s]],n),n);case"eth":return Ll(WG.from_sheet(t.Sheets[t.SheetNames[s]],n),n);case"fods":return Ll(_W(t,n),n);case"wk1":return Ux(s8.sheet_to_wk1(t.Sheets[t.SheetNames[s]],n),n);case"wk3":return Ux(s8.book_to_wk3(t,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),Ux(yW(t,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),uLe(t,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return lLe(t,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function hLe(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},n=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();n.match(/^\.[a-z]+$/)&&(t.bookType=n.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function Fr(t,e,n){var r={};return r.type="file",r.file=e,hLe(r),EW(t,r)}function fLe(t,e,n,r,s,i,o,l){var u=_a(n),h=l.defval,f=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),g=!0,p=s===1?[]:{};if(s!==1)if(Object.defineProperty)try{Object.defineProperty(p,"__rowNum__",{value:n,enumerable:!1})}catch{p.__rowNum__=n}else p.__rowNum__=n;if(!o||t[n])for(var v=e.s.c;v<=e.e.c;++v){var w=o?t[n][v]:t[r[v]+u];if(w===void 0||w.t===void 0){if(h===void 0)continue;i[v]!=null&&(p[i[v]]=h);continue}var E=w.v;switch(w.t){case"z":if(E==null)break;continue;case"e":E=E==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+w.t)}if(i[v]!=null){if(E==null)if(w.t=="e"&&E===null)p[i[v]]=null;else if(h!==void 0)p[i[v]]=h;else if(f&&E===null)p[i[v]]=null;else continue;else p[i[v]]=f&&(w.t!=="n"||w.t==="n"&&l.rawNumbers!==!1)?E:tu(w,E,l);E!=null&&(g=!1)}}return{row:p,isempty:g}}function wb(t,e){if(t==null||t["!ref"]==null)return[];var n={t:"n",v:0},r=0,s=1,i=[],o=0,l="",u={s:{r:0,c:0},e:{r:0,c:0}},h=e||{},f=h.range!=null?h.range:t["!ref"];switch(h.header===1?r=1:h.header==="A"?r=2:Array.isArray(h.header)?r=3:h.header==null&&(r=0),typeof f){case"string":u=Lr(f);break;case"number":u=Lr(t["!ref"]),u.s.r=f;break;default:u=f}r>0&&(s=0);var g=_a(u.s.r),p=[],v=[],w=0,E=0,S=Array.isArray(t),C=u.s.r,O=0,I={};S&&!t[C]&&(t[C]=[]);var D=h.skipHidden&&t["!cols"]||[],T=h.skipHidden&&t["!rows"]||[];for(O=u.s.c;O<=u.e.c;++O)if(!(D[O]||{}).hidden)switch(p[O]=Fa(O),n=S?t[C][O]:t[p[O]+g],r){case 1:i[O]=O-u.s.c;break;case 2:i[O]=p[O];break;case 3:i[O]=h.header[O-u.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),l=o=tu(n,null,h),E=I[o]||0,!E)I[o]=1;else{do l=o+"_"+E++;while(I[l]);I[o]=E,I[l]=1}i[O]=l}for(C=u.s.r+s;C<=u.e.r;++C)if(!(T[C]||{}).hidden){var F=fLe(t,u,C,p,r,i,S,h);(F.isempty===!1||(r===1?h.blankrows!==!1:h.blankrows))&&(v[w++]=F.row)}return v.length=w,v}var h8=/"/g;function mLe(t,e,n,r,s,i,o,l){for(var u=!0,h=[],f="",g=_a(n),p=e.s.c;p<=e.e.c;++p)if(r[p]){var v=l.dense?(t[n]||[])[p]:t[r[p]+g];if(v==null)f="";else if(v.v!=null){u=!1,f=""+(l.rawNumbers&&v.t=="n"?v.v:tu(v,null,l));for(var w=0,E=0;w!==f.length;++w)if((E=f.charCodeAt(w))===s||E===i||E===34||l.forceQuotes){f='"'+f.replace(h8,'""')+'"';break}f=="ID"&&(f='"ID"')}else v.f!=null&&!v.F?(u=!1,f="="+v.f,f.indexOf(",")>=0&&(f='"'+f.replace(h8,'""')+'"')):f="";h.push(f)}return l.blankrows===!1&&u?null:h.join(o)}function $L(t,e){var n=[],r=e??{};if(t==null||t["!ref"]==null)return"";var s=Lr(t["!ref"]),i=r.FS!==void 0?r.FS:",",o=i.charCodeAt(0),l=r.RS!==void 0?r.RS:`
`,u=l.charCodeAt(0),h=new RegExp((i=="|"?"\\|":i)+"+$"),f="",g=[];r.dense=Array.isArray(t);for(var p=r.skipHidden&&t["!cols"]||[],v=r.skipHidden&&t["!rows"]||[],w=s.s.c;w<=s.e.c;++w)(p[w]||{}).hidden||(g[w]=Fa(w));for(var E=0,S=s.s.r;S<=s.e.r;++S)(v[S]||{}).hidden||(f=mLe(t,s,S,g,o,u,i,r),f!=null&&(r.strip&&(f=f.replace(h,"")),(f||r.blankrows!==!1)&&n.push((E++?l:"")+f)));return delete r.dense,n.join("")}function SW(t,e){e||(e={}),e.FS="	",e.RS=`
`;var n=$L(t,e);return n}function pLe(t){var e="",n,r="";if(t==null||t["!ref"]==null)return[];var s=Lr(t["!ref"]),i="",o=[],l,u=[],h=Array.isArray(t);for(l=s.s.c;l<=s.e.c;++l)o[l]=Fa(l);for(var f=s.s.r;f<=s.e.r;++f)for(i=_a(f),l=s.s.c;l<=s.e.c;++l)if(e=o[l]+i,n=h?(t[f]||[])[l]:t[e],r="",n!==void 0){if(n.F!=null){if(e=n.F,!n.f)continue;r=n.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}u[u.length]=e+"="+r}return u}function CW(t,e,n){var r=n||{},s=+!r.skipHeader,i=t||{},o=0,l=0;if(i&&r.origin!=null)if(typeof r.origin=="number")o=r.origin;else{var u=typeof r.origin=="string"?Qs(r.origin):r.origin;o=u.r,l=u.c}var h,f={s:{c:0,r:0},e:{c:l,r:o+e.length-1+s}};if(i["!ref"]){var g=Lr(i["!ref"]);f.e.c=Math.max(f.e.c,g.e.c),f.e.r=Math.max(f.e.r,g.e.r),o==-1&&(o=g.e.r+1,f.e.r=o+e.length-1+s)}else o==-1&&(o=0,f.e.r=e.length-1+s);var p=r.header||[],v=0;e.forEach(function(E,S){Ea(E).forEach(function(C){(v=p.indexOf(C))==-1&&(p[v=p.length]=C);var O=E[C],I="z",D="",T=cr({c:l+v,r:o+S+s});h=ev(i,T),O&&typeof O=="object"&&!(O instanceof Date)?i[T]=O:(typeof O=="number"?I="n":typeof O=="boolean"?I="b":typeof O=="string"?I="s":O instanceof Date?(I="d",r.cellDates||(I="n",O=ji(O)),D=r.dateNF||us[14]):O===null&&r.nullError&&(I="e",O=0),h?(h.t=I,h.v=O,delete h.w,delete h.R,D&&(h.z=D)):i[T]=h={t:I,v:O},D&&(h.z=D))})}),f.e.c=Math.max(f.e.c,l+p.length-1);var w=_a(o);if(s)for(v=0;v<p.length;++v)i[Fa(v+l)+w]={t:"s",v:p[v]};return i["!ref"]=As(f),i}function gLe(t,e){return CW(null,t,e)}function ev(t,e,n){if(typeof e=="string"){if(Array.isArray(t)){var r=Qs(e);return t[r.r]||(t[r.r]=[]),t[r.r][r.c]||(t[r.r][r.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?ev(t,cr(e)):ev(t,cr({r:e,c:n||0}))}function vLe(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var n=t.SheetNames.indexOf(e);if(n>-1)return n;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function yLe(){return{SheetNames:[],Sheets:{}}}function xLe(t,e,n,r){var s=1;if(!n)for(;s<=65535&&t.SheetNames.indexOf(n="Sheet"+s)!=-1;++s,n=void 0);if(!n||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&t.SheetNames.indexOf(n)>=0){var i=n.match(/(^.*?)(\d+)$/);s=i&&+i[2]||0;var o=i&&i[1]||n;for(++s;s<=65535&&t.SheetNames.indexOf(n=o+s)!=-1;++s);}if(pW(n),t.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return t.SheetNames.push(n),t.Sheets[n]=e,n}function bLe(t,e,n){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var r=vLe(t,e);switch(t.Workbook.Sheets[r]||(t.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}t.Workbook.Sheets[r].Hidden=n}function wLe(t,e){return t.z=e,t}function NW(t,e,n){return e?(t.l={Target:e},n&&(t.l.Tooltip=n)):delete t.l,t}function _Le(t,e,n){return NW(t,"#"+e,n)}function jLe(t,e,n){t.c||(t.c=[]),t.c.push({t:e,a:n||"SheetJS"})}function ELe(t,e,n,r){for(var s=typeof e!="string"?e:Lr(e),i=typeof e=="string"?e:As(e),o=s.s.r;o<=s.e.r;++o)for(var l=s.s.c;l<=s.e.c;++l){var u=ev(t,o,l);u.t="n",u.F=i,delete u.v,o==s.s.r&&l==s.s.c&&(u.f=n,r&&(u.D=!0))}return t}var yt={encode_col:Fa,encode_row:_a,encode_cell:cr,encode_range:As,decode_col:kL,decode_row:RL,split_cell:BEe,decode_cell:Qs,decode_range:Xi,format_cell:tu,sheet_add_aoa:NG,sheet_add_json:CW,sheet_add_dom:bW,aoa_to_sheet:Ep,json_to_sheet:gLe,table_to_sheet:wW,table_to_book:K3e,sheet_to_csv:$L,sheet_to_txt:SW,sheet_to_json:wb,sheet_to_html:xW,sheet_to_formulae:pLe,sheet_to_row_object_array:wb,sheet_get_cell:ev,book_new:yLe,book_append_sheet:xLe,book_set_sheet_visibility:bLe,cell_set_number_format:wLe,cell_set_hyperlink:NW,cell_set_internal_link:_Le,cell_add_comment:jLe,sheet_set_array_formula:ELe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const SLe=jq(),Vt=async t=>{if(!t)return;const e=Kt(SLe,t);try{await Due(e),console.log("Image deleted successfully.")}catch(n){console.error("Error deleting image:",n)}},CLe=({index:t,section:e,onBodyImageDrop:n,dropzoneName:r="dropzone-container-small",previewName:s="dropzone-uploaded-image-small"})=>{const{getRootProps:i,getInputProps:o}=Ht({onDrop:u=>n(u,t),accept:"image/png, image/jpeg, image/jpg, video/mp4, video/webm, video/ogg"}),l=e.image?e.image instanceof File?URL.createObjectURL(e.image):e.image:null;return a.jsxs(B,{...i(),className:`${r} text-center w-100 ${l?"border-success":""}`,children:[a.jsx("input",{...o(),accept:"image/*,video/*"}),l?e.image instanceof File&&e.image.type.startsWith("video/")?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:l,type:e.image.type}),"Your browser does not support the video tag."]}):a.jsx("img",{src:l,alt:"Body Image Preview",className:s}):a.jsxs("p",{className:"text-muted",children:["Drag & Drop Image/Video Here or"," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})};function NLe({editingItem:t,toAddForm:e}){var U;const[n,r]=j.useState(new x$),[s,i]=j.useState(""),[o,l]=j.useState("");j.useEffect(()=>{t?(r({id:t.id||"",title:t.title||"",classification:t.classification||"",purpose:t.purpose||"",date:t.date||"",headerImage:t.headerImage||null,body:t.body.map(P=>({...P,image:P.image||null})),tags:t.tags||[],references:t.references||[],name:t.name||"",email:t.email||"",social:t.social||""}),t.category&&(i(t.classification||""),l(t.purpose||""))):r({id:"",title:"",classification:"",purpose:"",date:"",headerImage:null,body:[{subtitle:"",body:"",image:null,image_source:""}],tags:[],references:[],name:"",email:"",social:""})},[t]);const[u,h]=j.useState([]),[f,g]=j.useState(0),p=(P,K)=>{if(Array.isArray(P))r(G=>({...G,[K]:P}));else if(typeof P=="string")r(G=>({...G,[K]:P}));else{const{name:G,value:re}=P.target;r(Z=>({...Z,[G]:re}))}},v=(P,K,G)=>{r(re=>{const Z=[...re.body];return Z[P]={...Z[P],[K]:G},{...re,body:Z}})},w=(P,K)=>{const G=P[0];G&&r(re=>{const Z=[...re.body];return Z[K]={...Z[K],image:G,imageUrl:URL.createObjectURL(G)},{...re,body:Z}})},E=()=>{r(P=>({...P,body:[...P.body,{subtitle:"",body:"",image:null,image_source:""}]}))},S=P=>{r(K=>{const G=K.body.filter((re,Z)=>Z!==P);return{...K,body:G}})},[C,O]=j.useState(null),[I,D]=j.useState(""),T=j.useCallback(P=>{P.length>0&&O(P[0])},[]),{getRootProps:F,getInputProps:y}=Ht({onDrop:T,accept:"image/*",disabled:!!I}),A=()=>{r(P=>({...P,headerImage:null}))},_=P=>{r(K=>{const G=[...K.body];return G[P]?(G[P]={...G[P],image:null},{...K,body:G}):K})},L=async(P,K)=>{const G=Kt(en,K);return await Qt(G,P),await Zt(G)},R=async P=>{P.preventDefault(),xe.fire({title:"Updating...",text:"Please wait while we update your story.",allowOutsideClick:!1,didOpen:()=>{xe.showLoading()}});try{let K;n.headerImage instanceof File?(t&&t.headerImage&&await Vt(t.headerImage),K=await L(n.headerImage,`stories/${Date.now()}_${n.headerImage.name}`)):K=n.headerImage;const G=await Promise.all(n.body.map(async(me,ie)=>me.image instanceof File?(t&&t.body&&t.body[ie]&&t.body[ie].image&&await Vt(t.body[ie].image),await L(me.image,`stories/${Date.now()}_${me.image.name}`)):me.image)),re={classification:n.classification,purpose:n.purpose,title:n.title,headerImage:K,date:n.date,body:n.body.map((me,ie)=>({subtitle:me.subtitle,body:me.body,image:G[ie]||"",image_source:me.image_source})),tags:n.tags,references:n.references,name:n.name,email:n.email,social:n.social},Z=gt(ze,"stories",n.id);await rn(Z,re),xe.fire({title:"Story Updated",text:"Your story has been updated successfully!",icon:"success"}),h([]),A(),e()}catch(K){console.error("Error updating story:",K),xe.fire({title:"Error",text:"There was an issue updating your story. Please try again.",icon:"error"})}};return j.useRef(null),a.jsxs(x,{className:"custom-form body-container",onSubmit:R,onKeyDown:P=>P.key==="Enter"&&P.preventDefault(),children:[a.jsx("h1",{className:"mb-4",children:"Edit Tourism Story Form"}),a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(z,{className:"col me-lg-2 me-md-1",children:a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Classification"}),a.jsxs(x.Control,{as:"select",name:"classification",value:n.classification,onChange:p,required:!0,children:[a.jsx("option",{value:"",children:"Select Classification"}),I3.map(P=>a.jsx("option",{value:P,children:P},P))]})]})}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Purpose"}),a.jsxs(x.Control,{as:"select",name:"purpose",value:n.purpose,onChange:p,required:!0,disabled:!n.classification,placeholder:n.classification?"Select Purpose":"Select Classification First",children:[a.jsx("option",{value:"",children:n.classification?"Select Purpose":"Select Classification First"}),n.classification&&((U=b$[n.classification])==null?void 0:U.map(P=>a.jsx("option",{value:P,children:P},P)))]})]})})]}),a.jsx(B,{className:"empty-container"}),a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(z,{className:"col me-lg-2 me-md-1",children:a.jsx(B,{className:"empty-container"})}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Date"}),a.jsx(x.Control,{type:"date",name:"date",value:n.date,onChange:p,required:!0})]})})]}),a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Title"}),a.jsx(x.Control,{type:"text",name:"title",className:"fw-bold",value:n.title,onChange:p,placeholder:"Enter title",required:!0})]}),a.jsxs(x.Group,{className:"my-2",children:[a.jsx(x.Label,{className:"label",children:"Upload Header Image (800x400)"}),a.jsx(mn,{storyForm:n,setStoryForm:r,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"}),a.jsxs(B,{className:"d-flex justify-content-between mt-2",children:[a.jsx("p",{className:"subtitle",children:"Supported File: PNG, JPEG, and JPG"}),a.jsx("p",{className:"subtitle",children:"Maximum size: 25MB"})]}),a.jsx(B,{className:"d-flex justify-content-end",children:C&&(I?null:a.jsxs(se,{className:"my-2",variant:"outline-danger",onClick:A,children:[a.jsx(ye,{className:"button-icon",icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]}))})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),n.body.map((P,K)=>a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(B,{className:"empty-container"}),a.jsxs(x.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(x.Label,{className:"label",children:"Subtitle (Optional)"}),a.jsx(x.Control,{type:"text",className:"fw-bold",value:P.subtitle,onChange:G=>v(K,"subtitle",G.target.value)})]}),a.jsxs(z,{className:"col me-lg-2 me-md-1",children:[a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Image (Optional)"}),a.jsx(CLe,{index:K,section:P,editingItem:t,onBodyImageDrop:w,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"}),P.image&&a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{className:"mt-2 mb-1",variant:"outline-danger",onClick:()=>_(K),children:[a.jsx(ye,{icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]})})]}),a.jsxs(x.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(x.Label,{className:"label",children:"Image Source (Optional)"}),a.jsx(x.Control,{placeholder:"e.g. @boracayphotos or /islanders or #trivago or www.trivago.com",type:"text",value:P.image_source,onChange:G=>v(K,"image_source",G.target.value)})]})]}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(x.Group,{className:"mb-5",children:[a.jsx(x.Label,{className:"label",children:"Body"}),a.jsx(rr,{index:K,section:P,handleBodyChange:v})]})}),n.body.length>1&&a.jsx(B,{className:"mb-4 d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-danger",type:"button",onClick:()=>S(K),className:"mt-3 w-full",children:[a.jsx(ye,{icon:Dt,size:"xs",fixedWidth:!0})," Delete Section"]})})]},K)),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-success",type:"button",onClick:E,className:"mb-3",children:[a.jsx(ye,{icon:nr,size:"xs",fixedWidth:!0})," Add Section"]})}),a.jsx(B,{className:"empty-container"}),a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(z,{className:"col me-lg-2 me-md-1",children:a.jsx(Ve,{onChange:P=>p(P,"references"),label:"References and Links (Type & Enter)",editingItems:n.references,resetKey:f})}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsx(Ve,{onChange:P=>p(P,"tags"),label:"Important Tags (Type & Enter)",editingItems:n.tags,resetKey:f})})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Your Name"}),a.jsx(x.Control,{type:"text",name:"name",value:n.name,onChange:p,placeholder:"Your Name",required:!0})]}),a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(z,{className:"col me-lg-2 me-md-1",children:a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Social Media Link"}),a.jsx(x.Control,{type:"social",name:"social",value:n.social,onChange:p,placeholder:"Social Link"})]})}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Email"}),a.jsx(x.Control,{type:"email",name:"email",value:n.email,onChange:p,placeholder:"Email"})]})})]}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"d-flex justify-content-end",children:a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full",onClick:R,children:"Submit Update"})})]})}const TLe=()=>{const[t,e]=j.useState([]),[n,r]=j.useState(""),[s,i]=j.useState(""),[o,l]=j.useState(""),[u,h]=j.useState("asc"),[f,g]=j.useState(0),[p,v]=j.useState(null),w=10;j.useEffect(()=>{C()},[]);const[E,S]=j.useState(!0),C=async()=>{try{const K=(await ur(Ft(ze,"stories"))).docs.map(G=>({id:G.id,...G.data()}));e(K)}catch(P){console.error("Error fetching data:",P)}finally{S(!1)}},O=()=>{const P=[...t].sort((K,G)=>u==="asc"?new Date(K.date)-new Date(G.date):new Date(G.date)-new Date(K.date));e(P),h(u==="asc"?"desc":"asc")},I=P=>{v(P)},D=async()=>{if(p){const P=gt(ze,"stories",p.id);await rn(P,{title:p.title,classification:p.classification,purpose:p.purpose,name:p.name,email:p.email,social:p.social,date:p.date}),C(),v(null)}},T=async P=>{window.confirm("Are you sure you want to delete this entry?")&&(await kr(gt(ze,"stories",P)),C())},F=t.filter(P=>(s===""||P.classification===s)&&(o===""||P.purpose===o)&&(P.title.toLowerCase().includes(n.toLowerCase())||P.classification.toLowerCase().includes(n.toLowerCase())||P.purpose.toLowerCase().includes(n.toLowerCase())||P.date.toLowerCase().includes(n.toLowerCase())||P.name.toLowerCase().includes(n.toLowerCase())||P.email.toLowerCase().includes(n.toLowerCase())||P.social.toLowerCase().includes(n.toLowerCase()))),y=()=>new Date().toISOString().split("T")[0],A=()=>{const P=yt.json_to_sheet(t.map(({id:G,body:re,tags:Z,references:me,headerImage:ie,...W})=>W)),K=yt.book_new();yt.book_append_sheet(K,P,"Data"),Fr(K,`tourism_stories_infoguide_${y()}.xlsx`)},_=Math.ceil(F.length/w),L=F.slice(f*w,(f+1)*w),R=({selected:P})=>{g(P)},U=()=>{v(null)};return a.jsxs(B,{children:[a.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Tourism Stories"}),a.jsx("p",{children:"List of Tourism-related Articles."}),a.jsxs(V,{className:"mb-4 mt-4",children:[a.jsx(z,{md:4,className:"mb-2 me-2 col",children:a.jsx(x.Control,{type:"text",placeholder:`Search up to over ${t.length} articles`,value:n,onChange:P=>r(P.target.value)})}),a.jsx(z,{md:2,className:"mb-2 me-2 col",children:a.jsxs(x.Select,{value:s,onChange:P=>i(P.target.value),children:[a.jsx("option",{value:"",children:"All Classifications"}),[...new Set(t.map(P=>P.classification))].map((P,K)=>a.jsx("option",{value:P,children:P},K))]})}),a.jsx(z,{md:2,className:"mb-2 me-2 col",children:a.jsxs(x.Select,{value:o,onChange:P=>l(P.target.value),children:[a.jsx("option",{value:"",children:"All Purposes"}),[...new Set(t.map(P=>P.purpose))].map((P,K)=>a.jsx("option",{value:P,children:P},K))]})}),a.jsxs(B,{className:"d-flex justify-content-end align-items-center mt-2",children:[a.jsxs(se,{variant:"outline-secondary",className:"me-2",onClick:C,children:[a.jsx(ye,{icon:Pr,size:"xs",fixedWidth:!0})," Refresh List"]}),a.jsxs(se,{variant:"outline-success",onClick:U,children:[a.jsx(ye,{icon:Dr,size:"xs",fixedWidth:!0})," Add New"]})]})]}),E?a.jsx("div",{className:"d-flex justify-content-center align-items-center my-5",children:a.jsx(Cr,{animation:"border",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):L.length===0?a.jsx("div",{className:"text-center my-5",children:a.jsx("h5",{children:"No Data Available"})}):a.jsxs(Rr,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsxs("th",{onClick:O,style:{cursor:"pointer"},children:["Date ",u==="asc"?"":""]}),a.jsx("th",{children:"Classification"}),a.jsx("th",{children:"Purpose"}),a.jsx("th",{children:"Title"}),a.jsx("th",{children:"Name"}),a.jsx("th",{children:"Email"}),a.jsx("th",{children:"Social"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:L.map(P=>a.jsxs("tr",{children:[a.jsx("td",{children:new Date(P.date).toLocaleDateString()}),a.jsx("td",{children:P.classification}),a.jsx("td",{children:P.purpose}),a.jsx("td",{children:P.title}),a.jsx("td",{children:P.name}),a.jsx("td",{children:P.email}),a.jsx("td",{children:P.social}),a.jsx("td",{children:a.jsxs(B,{className:"d-flex justify-content-center align-items-center",children:[a.jsx(Jt,{placement:"top",overlay:a.jsx(Wt,{children:"Edit"}),children:a.jsx(se,{variant:"outline-secondary",size:"sm",className:"me-2",onClick:()=>I(P),children:a.jsx(ye,{icon:Ir,size:"xs",fixedWidth:!0})})}),a.jsx(Jt,{placement:"top",overlay:a.jsx(Wt,{children:"Delete"}),children:a.jsx(se,{variant:"outline-danger",size:"sm",onClick:()=>T(P.id),children:a.jsx(ye,{icon:Dt,size:"xs",fixedWidth:!0})})})]})})]},P.id))})]}),a.jsxs(B,{className:"d-flex justify-content-between align-items-center mb-4 mt-2",children:[a.jsx(se,{onClick:A,variant:"outline-success",children:"Download Excel"}),a.jsx(Mr,{previousLabel:"",nextLabel:"",pageCount:_,onPageChange:R,containerClassName:"pagination mb-0",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})]}),p?a.jsx(NLe,{editingItem:p,setEditingItem:v,handleSaveEdit:D,toAddForm:()=>v(null)}):a.jsx(Lje,{})]})};var zx={exports:{}},MS,f8;function TW(){return f8||(f8=1,MS=function(e,n){return function(){for(var s=new Array(arguments.length),i=0;i<s.length;i++)s[i]=arguments[i];return e.apply(n,s)}}),MS}var FS,m8;function to(){if(m8)return FS;m8=1;var t=TW(),e=Object.prototype.toString;function n(A){return e.call(A)==="[object Array]"}function r(A){return typeof A>"u"}function s(A){return A!==null&&!r(A)&&A.constructor!==null&&!r(A.constructor)&&typeof A.constructor.isBuffer=="function"&&A.constructor.isBuffer(A)}function i(A){return e.call(A)==="[object ArrayBuffer]"}function o(A){return typeof FormData<"u"&&A instanceof FormData}function l(A){var _;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?_=ArrayBuffer.isView(A):_=A&&A.buffer&&A.buffer instanceof ArrayBuffer,_}function u(A){return typeof A=="string"}function h(A){return typeof A=="number"}function f(A){return A!==null&&typeof A=="object"}function g(A){if(e.call(A)!=="[object Object]")return!1;var _=Object.getPrototypeOf(A);return _===null||_===Object.prototype}function p(A){return e.call(A)==="[object Date]"}function v(A){return e.call(A)==="[object File]"}function w(A){return e.call(A)==="[object Blob]"}function E(A){return e.call(A)==="[object Function]"}function S(A){return f(A)&&E(A.pipe)}function C(A){return typeof URLSearchParams<"u"&&A instanceof URLSearchParams}function O(A){return A.trim?A.trim():A.replace(/^\s+|\s+$/g,"")}function I(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function D(A,_){if(!(A===null||typeof A>"u"))if(typeof A!="object"&&(A=[A]),n(A))for(var L=0,R=A.length;L<R;L++)_.call(null,A[L],L,A);else for(var U in A)Object.prototype.hasOwnProperty.call(A,U)&&_.call(null,A[U],U,A)}function T(){var A={};function _(U,P){g(A[P])&&g(U)?A[P]=T(A[P],U):g(U)?A[P]=T({},U):n(U)?A[P]=U.slice():A[P]=U}for(var L=0,R=arguments.length;L<R;L++)D(arguments[L],_);return A}function F(A,_,L){return D(_,function(U,P){L&&typeof U=="function"?A[P]=t(U,L):A[P]=U}),A}function y(A){return A.charCodeAt(0)===65279&&(A=A.slice(1)),A}return FS={isArray:n,isArrayBuffer:i,isBuffer:s,isFormData:o,isArrayBufferView:l,isString:u,isNumber:h,isObject:f,isPlainObject:g,isUndefined:r,isDate:p,isFile:v,isBlob:w,isFunction:E,isStream:S,isURLSearchParams:C,isStandardBrowserEnv:I,forEach:D,merge:T,extend:F,trim:O,stripBOM:y},FS}var BS,p8;function AW(){if(p8)return BS;p8=1;var t=to();function e(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}return BS=function(r,s,i){if(!s)return r;var o;if(i)o=i(s);else if(t.isURLSearchParams(s))o=s.toString();else{var l=[];t.forEach(s,function(f,g){f===null||typeof f>"u"||(t.isArray(f)?g=g+"[]":f=[f],t.forEach(f,function(v){t.isDate(v)?v=v.toISOString():t.isObject(v)&&(v=JSON.stringify(v)),l.push(e(g)+"="+e(v))}))}),o=l.join("&")}if(o){var u=r.indexOf("#");u!==-1&&(r=r.slice(0,u)),r+=(r.indexOf("?")===-1?"?":"&")+o}return r},BS}var US,g8;function ALe(){if(g8)return US;g8=1;var t=to();function e(){this.handlers=[]}return e.prototype.use=function(r,s,i){return this.handlers.push({fulfilled:r,rejected:s,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1},e.prototype.eject=function(r){this.handlers[r]&&(this.handlers[r]=null)},e.prototype.forEach=function(r){t.forEach(this.handlers,function(i){i!==null&&r(i)})},US=e,US}var zS,v8;function LLe(){if(v8)return zS;v8=1;var t=to();return zS=function(n,r){t.forEach(n,function(i,o){o!==r&&o.toUpperCase()===r.toUpperCase()&&(n[r]=i,delete n[o])})},zS}var qS,y8;function LW(){return y8||(y8=1,qS=function(e,n,r,s,i){return e.config=n,r&&(e.code=r),e.request=s,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}),qS}var $S,x8;function RW(){if(x8)return $S;x8=1;var t=LW();return $S=function(n,r,s,i,o){var l=new Error(n);return t(l,r,s,i,o)},$S}var VS,b8;function RLe(){if(b8)return VS;b8=1;var t=RW();return VS=function(n,r,s){var i=s.config.validateStatus;!s.status||!i||i(s.status)?n(s):r(t("Request failed with status code "+s.status,s.config,null,s.request,s))},VS}var HS,w8;function kLe(){if(w8)return HS;w8=1;var t=to();return HS=t.isStandardBrowserEnv()?function(){return{write:function(r,s,i,o,l,u){var h=[];h.push(r+"="+encodeURIComponent(s)),t.isNumber(i)&&h.push("expires="+new Date(i).toGMTString()),t.isString(o)&&h.push("path="+o),t.isString(l)&&h.push("domain="+l),u===!0&&h.push("secure"),document.cookie=h.join("; ")},read:function(r){var s=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),HS}var GS,_8;function OLe(){return _8||(_8=1,GS=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}),GS}var WS,j8;function ILe(){return j8||(j8=1,WS=function(e,n){return n?e.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):e}),WS}var KS,E8;function PLe(){if(E8)return KS;E8=1;var t=OLe(),e=ILe();return KS=function(r,s){return r&&!t(s)?e(r,s):s},KS}var YS,S8;function DLe(){if(S8)return YS;S8=1;var t=to(),e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return YS=function(r){var s={},i,o,l;return r&&t.forEach(r.split(`
`),function(h){if(l=h.indexOf(":"),i=t.trim(h.substr(0,l)).toLowerCase(),o=t.trim(h.substr(l+1)),i){if(s[i]&&e.indexOf(i)>=0)return;i==="set-cookie"?s[i]=(s[i]?s[i]:[]).concat([o]):s[i]=s[i]?s[i]+", "+o:o}}),s},YS}var XS,C8;function MLe(){if(C8)return XS;C8=1;var t=to();return XS=t.isStandardBrowserEnv()?function(){var n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),s;function i(o){var l=o;return n&&(r.setAttribute("href",l),l=r.href),r.setAttribute("href",l),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return s=i(window.location.href),function(l){var u=t.isString(l)?i(l):l;return u.protocol===s.protocol&&u.host===s.host}}():function(){return function(){return!0}}(),XS}var JS,N8;function T8(){if(N8)return JS;N8=1;var t=to(),e=RLe(),n=kLe(),r=AW(),s=PLe(),i=DLe(),o=MLe(),l=RW();return JS=function(h){return new Promise(function(g,p){var v=h.data,w=h.headers,E=h.responseType;t.isFormData(v)&&delete w["Content-Type"];var S=new XMLHttpRequest;if(h.auth){var C=h.auth.username||"",O=h.auth.password?unescape(encodeURIComponent(h.auth.password)):"";w.Authorization="Basic "+btoa(C+":"+O)}var I=s(h.baseURL,h.url);S.open(h.method.toUpperCase(),r(I,h.params,h.paramsSerializer),!0),S.timeout=h.timeout;function D(){if(S){var F="getAllResponseHeaders"in S?i(S.getAllResponseHeaders()):null,y=!E||E==="text"||E==="json"?S.responseText:S.response,A={data:y,status:S.status,statusText:S.statusText,headers:F,config:h,request:S};e(g,p,A),S=null}}if("onloadend"in S?S.onloadend=D:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(D)},S.onabort=function(){S&&(p(l("Request aborted",h,"ECONNABORTED",S)),S=null)},S.onerror=function(){p(l("Network Error",h,null,S)),S=null},S.ontimeout=function(){var y="timeout of "+h.timeout+"ms exceeded";h.timeoutErrorMessage&&(y=h.timeoutErrorMessage),p(l(y,h,h.transitional&&h.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",S)),S=null},t.isStandardBrowserEnv()){var T=(h.withCredentials||o(I))&&h.xsrfCookieName?n.read(h.xsrfCookieName):void 0;T&&(w[h.xsrfHeaderName]=T)}"setRequestHeader"in S&&t.forEach(w,function(y,A){typeof v>"u"&&A.toLowerCase()==="content-type"?delete w[A]:S.setRequestHeader(A,y)}),t.isUndefined(h.withCredentials)||(S.withCredentials=!!h.withCredentials),E&&E!=="json"&&(S.responseType=h.responseType),typeof h.onDownloadProgress=="function"&&S.addEventListener("progress",h.onDownloadProgress),typeof h.onUploadProgress=="function"&&S.upload&&S.upload.addEventListener("progress",h.onUploadProgress),h.cancelToken&&h.cancelToken.promise.then(function(y){S&&(S.abort(),p(y),S=null)}),v||(v=null),S.send(v)})},JS}var QS,A8;function VL(){if(A8)return QS;A8=1;var t=to(),e=LLe(),n=LW(),r={"Content-Type":"application/x-www-form-urlencoded"};function s(u,h){!t.isUndefined(u)&&t.isUndefined(u["Content-Type"])&&(u["Content-Type"]=h)}function i(){var u;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(u=T8()),u}function o(u,h,f){if(t.isString(u))try{return(h||JSON.parse)(u),t.trim(u)}catch(g){if(g.name!=="SyntaxError")throw g}return(f||JSON.stringify)(u)}var l={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:i(),transformRequest:[function(h,f){return e(f,"Accept"),e(f,"Content-Type"),t.isFormData(h)||t.isArrayBuffer(h)||t.isBuffer(h)||t.isStream(h)||t.isFile(h)||t.isBlob(h)?h:t.isArrayBufferView(h)?h.buffer:t.isURLSearchParams(h)?(s(f,"application/x-www-form-urlencoded;charset=utf-8"),h.toString()):t.isObject(h)||f&&f["Content-Type"]==="application/json"?(s(f,"application/json"),o(h)):h}],transformResponse:[function(h){var f=this.transitional,g=f&&f.silentJSONParsing,p=f&&f.forcedJSONParsing,v=!g&&this.responseType==="json";if(v||p&&t.isString(h)&&h.length)try{return JSON.parse(h)}catch(w){if(v)throw w.name==="SyntaxError"?n(w,this,"E_JSON_PARSE"):w}return h}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(h){return h>=200&&h<300}};return l.headers={common:{Accept:"application/json, text/plain, */*"}},t.forEach(["delete","get","head"],function(h){l.headers[h]={}}),t.forEach(["post","put","patch"],function(h){l.headers[h]=t.merge(r)}),QS=l,QS}var ZS,L8;function FLe(){if(L8)return ZS;L8=1;var t=to(),e=VL();return ZS=function(r,s,i){var o=this||e;return t.forEach(i,function(u){r=u.call(o,r,s)}),r},ZS}var eC,R8;function kW(){return R8||(R8=1,eC=function(e){return!!(e&&e.__CANCEL__)}),eC}var tC,k8;function BLe(){if(k8)return tC;k8=1;var t=to(),e=FLe(),n=kW(),r=VL();function s(i){i.cancelToken&&i.cancelToken.throwIfRequested()}return tC=function(o){s(o),o.headers=o.headers||{},o.data=e.call(o,o.data,o.headers,o.transformRequest),o.headers=t.merge(o.headers.common||{},o.headers[o.method]||{},o.headers),t.forEach(["delete","get","head","post","put","patch","common"],function(h){delete o.headers[h]});var l=o.adapter||r.adapter;return l(o).then(function(h){return s(o),h.data=e.call(o,h.data,h.headers,o.transformResponse),h},function(h){return n(h)||(s(o),h&&h.response&&(h.response.data=e.call(o,h.response.data,h.response.headers,o.transformResponse))),Promise.reject(h)})},tC}var nC,O8;function OW(){if(O8)return nC;O8=1;var t=to();return nC=function(n,r){r=r||{};var s={},i=["url","method","data"],o=["headers","auth","proxy","params"],l=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],u=["validateStatus"];function h(v,w){return t.isPlainObject(v)&&t.isPlainObject(w)?t.merge(v,w):t.isPlainObject(w)?t.merge({},w):t.isArray(w)?w.slice():w}function f(v){t.isUndefined(r[v])?t.isUndefined(n[v])||(s[v]=h(void 0,n[v])):s[v]=h(n[v],r[v])}t.forEach(i,function(w){t.isUndefined(r[w])||(s[w]=h(void 0,r[w]))}),t.forEach(o,f),t.forEach(l,function(w){t.isUndefined(r[w])?t.isUndefined(n[w])||(s[w]=h(void 0,n[w])):s[w]=h(void 0,r[w])}),t.forEach(u,function(w){w in r?s[w]=h(n[w],r[w]):w in n&&(s[w]=h(void 0,n[w]))});var g=i.concat(o).concat(l).concat(u),p=Object.keys(n).concat(Object.keys(r)).filter(function(w){return g.indexOf(w)===-1});return t.forEach(p,f),s},nC}const ULe="0.21.4",zLe={version:ULe};var rC,I8;function qLe(){if(I8)return rC;I8=1;var t=zLe,e={};["object","boolean","number","function","string","symbol"].forEach(function(o,l){e[o]=function(h){return typeof h===o||"a"+(l<1?"n ":" ")+o}});var n={},r=t.version.split(".");function s(o,l){for(var u=l?l.split("."):r,h=o.split("."),f=0;f<3;f++){if(u[f]>h[f])return!0;if(u[f]<h[f])return!1}return!1}e.transitional=function(l,u,h){var f=u&&s(u);function g(p,v){return"[Axios v"+t.version+"] Transitional option '"+p+"'"+v+(h?". "+h:"")}return function(p,v,w){if(l===!1)throw new Error(g(v," has been removed in "+u));return f&&!n[v]&&(n[v]=!0,console.warn(g(v," has been deprecated since v"+u+" and will be removed in the near future"))),l?l(p,v,w):!0}};function i(o,l,u){if(typeof o!="object")throw new TypeError("options must be an object");for(var h=Object.keys(o),f=h.length;f-- >0;){var g=h[f],p=l[g];if(p){var v=o[g],w=v===void 0||p(v,g,o);if(w!==!0)throw new TypeError("option "+g+" must be "+w);continue}if(u!==!0)throw Error("Unknown option "+g)}}return rC={isOlderVersion:s,assertOptions:i,validators:e},rC}var sC,P8;function $Le(){if(P8)return sC;P8=1;var t=to(),e=AW(),n=ALe(),r=BLe(),s=OW(),i=qLe(),o=i.validators;function l(u){this.defaults=u,this.interceptors={request:new n,response:new n}}return l.prototype.request=function(h){typeof h=="string"?(h=arguments[1]||{},h.url=arguments[0]):h=h||{},h=s(this.defaults,h),h.method?h.method=h.method.toLowerCase():this.defaults.method?h.method=this.defaults.method.toLowerCase():h.method="get";var f=h.transitional;f!==void 0&&i.assertOptions(f,{silentJSONParsing:o.transitional(o.boolean,"1.0.0"),forcedJSONParsing:o.transitional(o.boolean,"1.0.0"),clarifyTimeoutError:o.transitional(o.boolean,"1.0.0")},!1);var g=[],p=!0;this.interceptors.request.forEach(function(D){typeof D.runWhen=="function"&&D.runWhen(h)===!1||(p=p&&D.synchronous,g.unshift(D.fulfilled,D.rejected))});var v=[];this.interceptors.response.forEach(function(D){v.push(D.fulfilled,D.rejected)});var w;if(!p){var E=[r,void 0];for(Array.prototype.unshift.apply(E,g),E=E.concat(v),w=Promise.resolve(h);E.length;)w=w.then(E.shift(),E.shift());return w}for(var S=h;g.length;){var C=g.shift(),O=g.shift();try{S=C(S)}catch(I){O(I);break}}try{w=r(S)}catch(I){return Promise.reject(I)}for(;v.length;)w=w.then(v.shift(),v.shift());return w},l.prototype.getUri=function(h){return h=s(this.defaults,h),e(h.url,h.params,h.paramsSerializer).replace(/^\?/,"")},t.forEach(["delete","get","head","options"],function(h){l.prototype[h]=function(f,g){return this.request(s(g||{},{method:h,url:f,data:(g||{}).data}))}}),t.forEach(["post","put","patch"],function(h){l.prototype[h]=function(f,g,p){return this.request(s(p||{},{method:h,url:f,data:g}))}}),sC=l,sC}var aC,D8;function IW(){if(D8)return aC;D8=1;function t(e){this.message=e}return t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,aC=t,aC}var iC,M8;function VLe(){if(M8)return iC;M8=1;var t=IW();function e(n){if(typeof n!="function")throw new TypeError("executor must be a function.");var r;this.promise=new Promise(function(o){r=o});var s=this;n(function(o){s.reason||(s.reason=new t(o),r(s.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.source=function(){var r,s=new e(function(o){r=o});return{token:s,cancel:r}},iC=e,iC}var oC,F8;function HLe(){return F8||(F8=1,oC=function(e){return function(r){return e.apply(null,r)}}),oC}var lC,B8;function GLe(){return B8||(B8=1,lC=function(e){return typeof e=="object"&&e.isAxiosError===!0}),lC}var U8;function WLe(){if(U8)return zx.exports;U8=1;var t=to(),e=TW(),n=$Le(),r=OW(),s=VL();function i(l){var u=new n(l),h=e(n.prototype.request,u);return t.extend(h,n.prototype,u),t.extend(h,u),h}var o=i(s);return o.Axios=n,o.create=function(u){return i(r(o.defaults,u))},o.Cancel=IW(),o.CancelToken=VLe(),o.isCancel=kW(),o.all=function(u){return Promise.all(u)},o.spread=HLe(),o.isAxiosError=GLe(),zx.exports=o,zx.exports.default=o,zx.exports}var cC,z8;function KLe(){return z8||(z8=1,cC=WLe()),cC}var uC,q8;function YLe(){if(q8)return uC;q8=1;const t=KLe(),e=h=>t.get(`https://isaacdarcilla.github.io/philippine-addresses/${h}.json`);return uC={regions:async()=>{try{return(await e("region")).data.map(f=>({id:f.id,psgc_code:f.psgc_code,region_name:f.region_name,region_code:f.region_code}))}catch(h){return h.message}},regionByCode:async h=>{try{return(await e("region")).data.find(({region_code:g})=>g===h)}catch(f){return f.message}},provinces:async h=>{try{return(await e("province")).data.filter(g=>g.region_code===h).map(g=>({psgc_code:g.psgc_code,province_name:g.province_name,province_code:g.province_code,region_code:g.region_code}))}catch(f){return f.message}},provincesByCode:async h=>{try{return(await e("province")).data.filter(g=>g.region_code===h).map(g=>({psgc_code:g.psgc_code,province_name:g.province_name,province_code:g.province_code,region_code:g.region_code}))}catch(f){return f.message}},provinceByName:async h=>{try{return(await e("province")).data.find(({province_name:g})=>g===h)}catch(f){return f.message}},cities:async h=>{try{return(await e("city")).data.filter(g=>g.province_code===h).map(g=>({city_name:g.city_name,city_code:g.city_code,province_code:g.province_code,region_desc:g.region_desc}))}catch(f){return f.message}},barangays:async h=>{try{return(await e("barangay")).data.filter(g=>g.city_code===h).map(g=>({brgy_name:g.brgy_name,brgy_code:g.brgy_code,province_code:g.province_code,region_code:g.region_code}))}catch(f){return f.message}}},uC}var qx=YLe();const Si=({groupData:t,setGroupData:e})=>{const[n,r]=j.useState([]),[s,i]=j.useState([]),[o,l]=j.useState([]),[u,h]=j.useState([]),[f,g]=j.useState({name:"",code:""}),[p,v]=j.useState({name:"",code:""}),[w,E]=j.useState({name:"",code:""}),[S,C]=j.useState(""),[O,I]=j.useState(""),[D,T]=j.useState("Philippines");j.useEffect(()=>{T("Philippines"),qx.regions().then(r)},[]),j.useEffect(()=>{f.code?qx.provinces(f.code).then(i):i([]),T("Philippines"),v({name:"",code:""}),E({name:"",code:""}),C(""),l([]),h([])},[f]),j.useEffect(()=>{p.code?qx.cities(p.code).then(l):l([]),T("Philippines"),E({name:"",code:""}),C(""),h([])},[p]),j.useEffect(()=>{w.code?qx.barangays(w.code).then(h):h([]),T("Philippines"),C("")},[w]);const F=U=>{const P=n.find(K=>K.region_code===U.target.value);g({name:P.region_name,code:P.region_code}),T("Philippines"),e(K=>({...K,address:{...K.address,region:P.region_name,province:"",town:"",barangay:"",street:O}}))},y=U=>{const P=s.find(K=>K.province_code===U.target.value);v({name:P.province_name,code:P.province_code}),T("Philippines"),e(K=>({...K,address:{...K.address,province:P.province_name,town:"",barangay:"",street:O}}))},A=U=>{const P=o.find(K=>K.city_code===U.target.value);E({name:P.city_name,code:P.city_code}),T("Philippines"),e(K=>({...K,address:{...K.address,town:P.city_name,barangay:"",street:O}}))},_=U=>{C(U.target.value),T("Philippines"),e(P=>({...P,address:{...P.address,barangay:U.target.value,street:O}}))},L=U=>{I(U.target.value),T("Philippines"),e(P=>({...P,address:{...P.address,street:U.target.value}}))},R=()=>{T("Philippines"),e(U=>({...U,address:{...U.address,country:"Philippines"}}))};return a.jsxs(x.Group,{className:"mt-3 mb-3",children:[a.jsx(x.Label,{className:"label",children:"Local Business Address"}),a.jsx(x.Control,{className:"mb-3",type:"text",name:"address.country",placeholder:"Country",onChange:R,value:D,readOnly:!0}),a.jsxs(x.Select,{className:"my-3",value:f.code,onChange:F,children:[a.jsx("option",{value:"",children:"Select Region"}),n.map(U=>a.jsx("option",{value:U.region_code,children:U.region_name},U.region_code))]}),a.jsxs(x.Select,{className:"my-3",value:p.code,onChange:y,disabled:!f.code,children:[a.jsx("option",{value:"",children:"Select Province"}),s.map(U=>a.jsx("option",{value:U.province_code,children:U.province_name},U.province_code))]}),a.jsxs(x.Select,{className:"my-3",value:w.code,onChange:A,disabled:!p.code,children:[a.jsx("option",{value:"",children:"Select City/Municipality/Town"}),o.map(U=>a.jsx("option",{value:U.city_code,children:U.city_name},U.city_code))]}),a.jsxs(x.Select,{className:"my-3",value:S.code,onChange:_,disabled:!w.code,children:[a.jsx("option",{value:"",children:"Select Barangay"}),u.map(U=>a.jsx("option",{value:U.brgy_name,children:U.brgy_name},U.brgy_code))]}),a.jsx(x.Control,{className:"my-3",type:"text",name:"address.street",placeholder:"Street Name / Zone (Optional)",value:O,onChange:L})]})};function tv(t){"@babel/helpers - typeof";return tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tv(t)}function XLe(t,e){if(tv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JLe(t){var e=XLe(t,"string");return tv(e)=="symbol"?e:e+""}function $e(t,e,n){return(e=JLe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PW(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var dC,$8;function QLe(){if($8)return dC;$8=1;var t=function(n,r,s,i,o,l,u,h){if(!n){var f;if(r===void 0)f=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var g=[s,i,o,l,u,h],p=0;f=new Error(r.replace(/%s/g,function(){return g[p++]})),f.name="Invariant Violation"}throw f.framesToPop=1,f}};return dC=t,dC}var ZLe=QLe(),Vs=PW(ZLe),gn=j.createContext(null);function e4e(){Vs(!!j.useContext,"useGoogleMap is React hook and requires React version 16.8+");var t=j.useContext(gn);return Vs(!!t,"useGoogleMap needs a GoogleMap available up in the tree"),t}function t4e(t,e,n){return Object.keys(t).reduce(function(s,i){return e(s,t[i],i)},n)}function n4e(t,e){Object.keys(t).forEach(n=>e(t[n],n))}function r4e(t,e,n,r){var s={},i=(o,l)=>{var u=n[l];u!==e[l]&&(s[l]=u,o(r,u))};return n4e(t,i),s}function s4e(t,e,n){var r=t4e(n,function(i,o,l){return typeof t[l]=="function"&&i.push(google.maps.event.addListener(e,o,t[l])),i},[]);return r}function a4e(t){google.maps.event.removeListener(t)}function Tn(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];t.forEach(a4e)}function Sn(t){var{updaterMap:e,eventMap:n,prevProps:r,nextProps:s,instance:i}=t,o=s4e(s,i,n);return r4e(e,r,s,i),o}var V8={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},H8={extraMapTypes(t,e){e.forEach(function(r,s){t.mapTypes.set(String(s),r)})},center(t,e){t.setCenter(e)},clickableIcons(t,e){t.setClickableIcons(e)},heading(t,e){t.setHeading(e)},mapTypeId(t,e){t.setMapTypeId(e)},options(t,e){t.setOptions(e)},streetView(t,e){t.setStreetView(e)},tilt(t,e){t.setTilt(e)},zoom(t,e){t.setZoom(e)}};function i4e(t){var{children:e,options:n,id:r,mapContainerStyle:s,mapContainerClassName:i,center:o,onClick:l,onDblClick:u,onDrag:h,onDragEnd:f,onDragStart:g,onMouseMove:p,onMouseOut:v,onMouseOver:w,onMouseDown:E,onMouseUp:S,onRightClick:C,onCenterChanged:O,onLoad:I,onUnmount:D}=t,[T,F]=j.useState(null),y=j.useRef(null),[A,_]=j.useState(null),[L,R]=j.useState(null),[U,P]=j.useState(null),[K,G]=j.useState(null),[re,Z]=j.useState(null),[me,ie]=j.useState(null),[W,ve]=j.useState(null),[Q,ne]=j.useState(null),[te,X]=j.useState(null),[be,Ne]=j.useState(null),[Ee,Ie]=j.useState(null),[_e,Ue]=j.useState(null);return j.useEffect(()=>{n&&T!==null&&T.setOptions(n)},[T,n]),j.useEffect(()=>{T!==null&&typeof o<"u"&&T.setCenter(o)},[T,o]),j.useEffect(()=>{T&&u&&(L!==null&&google.maps.event.removeListener(L),R(google.maps.event.addListener(T,"dblclick",u)))},[u]),j.useEffect(()=>{T&&f&&(U!==null&&google.maps.event.removeListener(U),P(google.maps.event.addListener(T,"dragend",f)))},[f]),j.useEffect(()=>{T&&g&&(K!==null&&google.maps.event.removeListener(K),G(google.maps.event.addListener(T,"dragstart",g)))},[g]),j.useEffect(()=>{T&&E&&(re!==null&&google.maps.event.removeListener(re),Z(google.maps.event.addListener(T,"mousedown",E)))},[E]),j.useEffect(()=>{T&&p&&(me!==null&&google.maps.event.removeListener(me),ie(google.maps.event.addListener(T,"mousemove",p)))},[p]),j.useEffect(()=>{T&&v&&(W!==null&&google.maps.event.removeListener(W),ve(google.maps.event.addListener(T,"mouseout",v)))},[v]),j.useEffect(()=>{T&&w&&(Q!==null&&google.maps.event.removeListener(Q),ne(google.maps.event.addListener(T,"mouseover",w)))},[w]),j.useEffect(()=>{T&&S&&(te!==null&&google.maps.event.removeListener(te),X(google.maps.event.addListener(T,"mouseup",S)))},[S]),j.useEffect(()=>{T&&C&&(be!==null&&google.maps.event.removeListener(be),Ne(google.maps.event.addListener(T,"rightclick",C)))},[C]),j.useEffect(()=>{T&&l&&(Ee!==null&&google.maps.event.removeListener(Ee),Ie(google.maps.event.addListener(T,"click",l)))},[l]),j.useEffect(()=>{T&&h&&(_e!==null&&google.maps.event.removeListener(_e),Ue(google.maps.event.addListener(T,"drag",h)))},[h]),j.useEffect(()=>{T&&O&&(A!==null&&google.maps.event.removeListener(A),_(google.maps.event.addListener(T,"center_changed",O)))},[l]),j.useEffect(()=>{var tt=y.current===null?null:new google.maps.Map(y.current,n);return F(tt),tt!==null&&I&&I(tt),()=>{tt!==null&&D&&D(tt)}},[]),a.jsx("div",{id:r,ref:y,style:s,className:i,children:a.jsx(gn.Provider,{value:T,children:T!==null?e:null})})}j.memo(i4e);class DW extends j.PureComponent{constructor(){super(...arguments),$e(this,"state",{map:null}),$e(this,"registeredEvents",[]),$e(this,"mapRef",null),$e(this,"getInstance",()=>this.mapRef===null?null:new google.maps.Map(this.mapRef,this.props.options)),$e(this,"panTo",e=>{var n=this.getInstance();n&&n.panTo(e)}),$e(this,"setMapCallback",()=>{this.state.map!==null&&this.props.onLoad&&this.props.onLoad(this.state.map)}),$e(this,"getRef",e=>{this.mapRef=e})}componentDidMount(){var e=this.getInstance();this.registeredEvents=Sn({updaterMap:H8,eventMap:V8,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{map:e}},this.setMapCallback)}componentDidUpdate(e){this.state.map!==null&&(Tn(this.registeredEvents),this.registeredEvents=Sn({updaterMap:H8,eventMap:V8,prevProps:e,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),Tn(this.registeredEvents))}render(){return a.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:a.jsx(gn.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})}}function G8(t,e,n,r,s,i,o){try{var l=t[i](o),u=l.value}catch(h){return void n(h)}l.done?e(u):Promise.resolve(u).then(r,s)}function MW(t){return function(){var e=this,n=arguments;return new Promise(function(r,s){var i=t.apply(e,n);function o(u){G8(i,r,s,o,l,"next",u)}function l(u){G8(i,r,s,o,l,"throw",u)}o(void 0)})}}function FW(t){var{googleMapsApiKey:e,googleMapsClientId:n,version:r="weekly",language:s,region:i,libraries:o,channel:l,mapIds:u,authReferrerPolicy:h}=t,f=[];return Vs(e&&n||!(e&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),e?f.push("key=".concat(e)):n&&f.push("client=".concat(n)),r&&f.push("v=".concat(r)),s&&f.push("language=".concat(s)),i&&f.push("region=".concat(i)),o&&o.length&&f.push("libraries=".concat(o.sort().join(","))),l&&f.push("channel=".concat(l)),u&&u.length&&f.push("map_ids=".concat(u.join(","))),h&&f.push("auth_referrer_policy=".concat(h)),f.push("loading=async"),f.push("callback=initMap"),"https://maps.googleapis.com/maps/api/js?".concat(f.join("&"))}var Qu=typeof document<"u";function BW(t){var{url:e,id:n,nonce:r}=t;return Qu?new Promise(function(i,o){var l=document.getElementById(n),u=window;if(l){var h=l.getAttribute("data-state");if(l.src===e&&h!=="error"){if(h==="ready")return i(n);var f=u.initMap,g=l.onerror;u.initMap=function(){f&&f(),i(n)},l.onerror=function(v){g&&g(v),o(v)};return}else l.remove()}var p=document.createElement("script");p.type="text/javascript",p.src=e,p.id=n,p.async=!0,p.nonce=r||"",p.onerror=function(w){p.setAttribute("data-state","error"),o(w)},u.initMap=function(){p.setAttribute("data-state","ready"),i(n)},document.head.appendChild(p)}).catch(s=>{throw console.error("injectScript error: ",s),s}):Promise.reject(new Error("document is undefined"))}function W8(t){var e=t.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:t.tagName.toLowerCase()==="style"&&t.styleSheet&&t.styleSheet.cssText&&t.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(t.styleSheet.cssText="",!0):t.tagName.toLowerCase()==="style"&&t.innerHTML&&t.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(t.innerHTML="",!0):t.tagName.toLowerCase()==="style"&&!t.styleSheet&&!t.innerHTML}function HL(){var t=document.getElementsByTagName("head")[0];if(t){var e=t.insertBefore.bind(t);t.insertBefore=function(s,i){return W8(s)||Reflect.apply(e,t,[s,i]),s};var n=t.appendChild.bind(t);t.appendChild=function(s){return W8(s)||Reflect.apply(n,t,[s]),s}}}var Lg=!1;function UW(){return a.jsx("div",{children:"Loading..."})}var nv={id:"script-loader",version:"weekly"};class o4e extends j.PureComponent{constructor(){super(...arguments),$e(this,"check",null),$e(this,"state",{loaded:!1}),$e(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),$e(this,"isCleaningUp",MW(function*(){function e(n){if(!Lg)n();else if(Qu)var r=window.setInterval(function(){Lg||(window.clearInterval(r),n())},1)}return new Promise(e)})),$e(this,"cleanup",()=>{Lg=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(r){return typeof r.src=="string"&&r.src.includes("maps.googleapis")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(r){return r.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(r){return r.innerText!==void 0&&r.innerText.length>0&&r.innerText.includes(".gm-")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)})}),$e(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&HL(),Vs(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var e={id:this.props.id,nonce:this.props.nonce,url:FW(this.props)};BW(e).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(n=>{this.props.onError&&this.props.onError(n),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})}),$e(this,"getRef",e=>{this.check=e})}componentDidMount(){if(Qu){if(window.google&&window.google.maps&&!Lg){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(n){console.error("Error at injecting script after cleaning up: ",n)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),Qu&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(Qu){this.cleanup();var e=()=>{this.check||(delete window.google,Lg=!1)};window.setTimeout(e,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return a.jsxs(a.Fragment,{children:[a.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||a.jsx(UW,{})]})}}$e(o4e,"defaultProps",nv);function l4e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function GL(t,e){if(t==null)return{};var n,r,s=l4e(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}var K8;function c4e(t){var{id:e=nv.id,version:n=nv.version,nonce:r,googleMapsApiKey:s,googleMapsClientId:i,language:o,region:l,libraries:u,preventGoogleFontsLoading:h,channel:f,mapIds:g,authReferrerPolicy:p}=t,v=j.useRef(!1),[w,E]=j.useState(!1),[S,C]=j.useState(void 0);j.useEffect(function(){return v.current=!0,()=>{v.current=!1}},[]),j.useEffect(function(){Qu&&h&&HL()},[h]),j.useEffect(function(){w&&Vs(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[w]);var O=FW({version:n,googleMapsApiKey:s,googleMapsClientId:i,language:o,region:l,libraries:u,channel:f,mapIds:g,authReferrerPolicy:p});j.useEffect(function(){if(!Qu)return;function T(){v.current&&(E(!0),K8=O)}if(window.google&&window.google.maps&&K8===O){T();return}BW({id:e,url:O,nonce:r}).then(T).catch(function(y){v.current&&C(y),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(s||"-",") or Client ID (").concat(i||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(y)})},[e,O,r]);var I=j.useRef(void 0);return j.useEffect(function(){I.current&&u!==I.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),I.current=u},[u]),{isLoaded:w,loadError:S,url:O}}var u4e=["loadingElement","onLoad","onError","onUnmount","children"],d4e=a.jsx(UW,{});function h4e(t){var{loadingElement:e,onLoad:n,onError:r,onUnmount:s,children:i}=t,o=GL(t,u4e),{isLoaded:l,loadError:u}=c4e(o);return j.useEffect(function(){l&&typeof n=="function"&&n()},[l,n]),j.useEffect(function(){u&&typeof r=="function"&&r(u)},[u,r]),j.useEffect(function(){return()=>{s&&s()}},[s]),l?i:e||d4e}j.memo(h4e);function f4e(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(f){try{h(r.next(f))}catch(g){o(g)}}function u(f){try{h(r.throw(f))}catch(g){o(g)}}function h(f){f.done?i(f.value):s(f.value).then(l,u)}h((r=r.apply(t,[])).next())})}function m4e(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var p4e=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,s,i;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!t(e[s],n[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[s]))return!1;for(s=r;s--!==0;){var o=i[s];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n},g4e=m4e(p4e),Y8="__googleMapsScriptId",wm;(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(wm||(wm={}));class rh{constructor(e){var{apiKey:n,authReferrerPolicy:r,channel:s,client:i,id:o=Y8,language:l,libraries:u=[],mapIds:h,nonce:f,region:g,retries:p=3,url:v="https://maps.googleapis.com/maps/api/js",version:w}=e;if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=n,this.authReferrerPolicy=r,this.channel=s,this.client=i,this.id=o||Y8,this.language=l,this.libraries=u,this.mapIds=h,this.nonce=f,this.region=g,this.retries=p,this.url=v,this.version=w,rh.instance){if(!g4e(this.options,rh.instance.options))throw new Error("Loader must not be called again with different options. ".concat(JSON.stringify(this.options)," !== ").concat(JSON.stringify(rh.instance.options)));return rh.instance}rh.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?wm.FAILURE:this.done?wm.SUCCESS:this.loading?wm.LOADING:wm.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){var e=this.url;return e+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(e+="&key=".concat(this.apiKey)),this.channel&&(e+="&channel=".concat(this.channel)),this.client&&(e+="&client=".concat(this.client)),this.libraries.length>0&&(e+="&libraries=".concat(this.libraries.join(","))),this.language&&(e+="&language=".concat(this.language)),this.region&&(e+="&region=".concat(this.region)),this.version&&(e+="&v=".concat(this.version)),this.mapIds&&(e+="&map_ids=".concat(this.mapIds.join(","))),this.authReferrerPolicy&&(e+="&auth_referrer_policy=".concat(this.authReferrerPolicy)),e}deleteScript(){var e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,n)=>{this.loadCallback(r=>{r?n(r.error):e(window.google)})})}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,n;if(document.getElementById(this.id)){this.callback();return}var r={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(r).forEach(i=>!r[i]&&delete r[i]),!((n=(e=window==null?void 0:window.google)===null||e===void 0?void 0:e.maps)===null||n===void 0)&&n.importLibrary||(i=>{var o,l,u,h="The Google Maps JavaScript API",f="google",g="importLibrary",p="__ib__",v=document,w=window;w=w[f]||(w[f]={});var E=w.maps||(w.maps={}),S=new Set,C=new URLSearchParams,O=()=>o||(o=new Promise((I,D)=>f4e(this,void 0,void 0,function*(){var T;yield l=v.createElement("script"),l.id=this.id,C.set("libraries",[...S]+"");for(u in i)C.set(u.replace(/[A-Z]/g,F=>"_"+F[0].toLowerCase()),i[u]);C.set("callback",f+".maps."+p),l.src=this.url+"?"+C,E[p]=I,l.onerror=()=>o=D(Error(h+" could not load.")),l.nonce=this.nonce||((T=v.querySelector("script[nonce]"))===null||T===void 0?void 0:T.nonce)||"",v.head.append(l)})));E[g]?console.warn(h+" only loads once. Ignoring:",i):E[g]=function(I){for(var D=arguments.length,T=new Array(D>1?D-1:0),F=1;F<D;F++)T[F-1]=arguments[F];return S.add(I)&&O().then(()=>E[g](I,...T))}})(r);var s=this.libraries.map(i=>this.importLibrary(i));s.length||s.push(this.importLibrary("core")),Promise.all(s).then(()=>this.callback(),i=>{var o=new ErrorEvent("error",{error:i});this.loadErrorCallback(o)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){var n=this.errors.length*Math.pow(2,this.errors.length);console.error("Failed to load Google Maps script, retrying in ".concat(n," ms.")),setTimeout(()=>{this.deleteScript(),this.setScript()},n)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}var v4e=["maps"];function zW(t){var{id:e=nv.id,version:n=nv.version,nonce:r,googleMapsApiKey:s,language:i,region:o,libraries:l=v4e,preventGoogleFontsLoading:u,mapIds:h,authReferrerPolicy:f}=t,g=j.useRef(!1),[p,v]=j.useState(!1),[w,E]=j.useState(void 0);j.useEffect(function(){return g.current=!0,()=>{g.current=!1}},[]);var S=j.useMemo(()=>new rh({id:e,apiKey:s,version:n,libraries:l,language:i||"en",region:o||"US",mapIds:h||[],nonce:r||"",authReferrerPolicy:f||"origin"}),[e,s,n,l,i,o,h,r,f]);j.useEffect(function(){p||S.load().then(()=>{g.current&&v(!0)}).catch(I=>{E(I)})},[]),j.useEffect(()=>{Qu&&u&&HL()},[u]);var C=j.useRef();return j.useEffect(()=>{C.current&&l!==C.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),C.current=l},[l]),{isLoaded:p,loadError:w}}function X8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function _b(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X8(Object(n),!0).forEach(function(r){$e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var J8={},Q8={options(t,e){t.setOptions(e)}};function y4e(t){var{options:e,onLoad:n,onUnmount:r}=t,s=j.useContext(gn),[i,o]=j.useState(null);return j.useEffect(()=>{i!==null&&i.setMap(s)},[s]),j.useEffect(()=>{e&&i!==null&&i.setOptions(e)},[i,e]),j.useEffect(()=>{var l=new google.maps.TrafficLayer(_b(_b({},e),{},{map:s}));return o(l),n&&n(l),()=>{i!==null&&(r&&r(i),i.setMap(null))}},[]),null}j.memo(y4e);class x4e extends j.PureComponent{constructor(){super(...arguments),$e(this,"state",{trafficLayer:null}),$e(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),$e(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(_b(_b({},this.props.options),{},{map:this.context}));this.registeredEvents=Sn({updaterMap:Q8,eventMap:J8,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){this.state.trafficLayer!==null&&(Tn(this.registeredEvents),this.registeredEvents=Sn({updaterMap:Q8,eventMap:J8,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),Tn(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}$e(x4e,"contextType",gn);function b4e(t){var{onLoad:e,onUnmount:n}=t,r=j.useContext(gn),[s,i]=j.useState(null);return j.useEffect(()=>{s!==null&&s.setMap(r)},[r]),j.useEffect(()=>{var o=new google.maps.BicyclingLayer;return i(o),o.setMap(r),e&&e(o),()=>{o!==null&&(n&&n(o),o.setMap(null))}},[]),null}j.memo(b4e);class w4e extends j.PureComponent{constructor(){super(...arguments),$e(this,"state",{bicyclingLayer:null}),$e(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}$e(w4e,"contextType",gn);function _4e(t){var{onLoad:e,onUnmount:n}=t,r=j.useContext(gn),[s,i]=j.useState(null);return j.useEffect(()=>{s!==null&&s.setMap(r)},[r]),j.useEffect(()=>{var o=new google.maps.TransitLayer;return i(o),o.setMap(r),e&&e(o),()=>{s!==null&&(n&&n(s),s.setMap(null))}},[]),null}j.memo(_4e);class j4e extends j.PureComponent{constructor(){super(...arguments),$e(this,"state",{transitLayer:null}),$e(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}$e(j4e,"contextType",gn);function Z8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function jb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z8(Object(n),!0).forEach(function(r){$e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var eF={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},tF={drawingMode(t,e){t.setDrawingMode(e)},options(t,e){t.setOptions(e)}};function E4e(t){var{options:e,drawingMode:n,onCircleComplete:r,onMarkerComplete:s,onOverlayComplete:i,onPolygonComplete:o,onPolylineComplete:l,onRectangleComplete:u,onLoad:h,onUnmount:f}=t,g=j.useContext(gn),[p,v]=j.useState(null),[w,E]=j.useState(null),[S,C]=j.useState(null),[O,I]=j.useState(null),[D,T]=j.useState(null),[F,y]=j.useState(null),[A,_]=j.useState(null);return j.useEffect(()=>{p!==null&&p.setMap(g)},[g]),j.useEffect(()=>{e&&p!==null&&p.setOptions(e)},[p,e]),j.useEffect(()=>{p!==null&&p.setDrawingMode(n??null)},[p,n]),j.useEffect(()=>{p&&r&&(w!==null&&google.maps.event.removeListener(w),E(google.maps.event.addListener(p,"circlecomplete",r)))},[p,r]),j.useEffect(()=>{p&&s&&(S!==null&&google.maps.event.removeListener(S),C(google.maps.event.addListener(p,"markercomplete",s)))},[p,s]),j.useEffect(()=>{p&&i&&(O!==null&&google.maps.event.removeListener(O),I(google.maps.event.addListener(p,"overlaycomplete",i)))},[p,i]),j.useEffect(()=>{p&&o&&(D!==null&&google.maps.event.removeListener(D),T(google.maps.event.addListener(p,"polygoncomplete",o)))},[p,o]),j.useEffect(()=>{p&&l&&(F!==null&&google.maps.event.removeListener(F),y(google.maps.event.addListener(p,"polylinecomplete",l)))},[p,l]),j.useEffect(()=>{p&&u&&(A!==null&&google.maps.event.removeListener(A),_(google.maps.event.addListener(p,"rectanglecomplete",u)))},[p,u]),j.useEffect(()=>{Vs(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var L=new google.maps.drawing.DrawingManager(jb(jb({},e),{},{map:g}));return n&&L.setDrawingMode(n),r&&E(google.maps.event.addListener(L,"circlecomplete",r)),s&&C(google.maps.event.addListener(L,"markercomplete",s)),i&&I(google.maps.event.addListener(L,"overlaycomplete",i)),o&&T(google.maps.event.addListener(L,"polygoncomplete",o)),l&&y(google.maps.event.addListener(L,"polylinecomplete",l)),u&&_(google.maps.event.addListener(L,"rectanglecomplete",u)),v(L),h&&h(L),()=>{p!==null&&(w&&google.maps.event.removeListener(w),S&&google.maps.event.removeListener(S),O&&google.maps.event.removeListener(O),D&&google.maps.event.removeListener(D),F&&google.maps.event.removeListener(F),A&&google.maps.event.removeListener(A),f&&f(p),p.setMap(null))}},[]),null}j.memo(E4e);class S4e extends j.PureComponent{constructor(e){super(e),$e(this,"registeredEvents",[]),$e(this,"state",{drawingManager:null}),$e(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),Vs(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(jb(jb({},this.props.options),{},{map:this.context}));this.registeredEvents=Sn({updaterMap:tF,eventMap:eF,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){this.state.drawingManager!==null&&(Tn(this.registeredEvents),this.registeredEvents=Sn({updaterMap:tF,eventMap:eF,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),Tn(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}$e(S4e,"contextType",gn);function nF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Fm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nF(Object(n),!0).forEach(function(r){$e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var rF={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},sF={animation(t,e){t.setAnimation(e)},clickable(t,e){t.setClickable(e)},cursor(t,e){t.setCursor(e)},draggable(t,e){t.setDraggable(e)},icon(t,e){t.setIcon(e)},label(t,e){t.setLabel(e)},map(t,e){t.setMap(e)},opacity(t,e){t.setOpacity(e)},options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},shape(t,e){t.setShape(e)},title(t,e){t.setTitle(e)},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},Eb={};function C4e(t){var{position:e,options:n,clusterer:r,noClustererRedraw:s,children:i,draggable:o,visible:l,animation:u,clickable:h,cursor:f,icon:g,label:p,opacity:v,shape:w,title:E,zIndex:S,onClick:C,onDblClick:O,onDrag:I,onDragEnd:D,onDragStart:T,onMouseOut:F,onMouseOver:y,onMouseUp:A,onMouseDown:_,onRightClick:L,onClickableChanged:R,onCursorChanged:U,onAnimationChanged:P,onDraggableChanged:K,onFlatChanged:G,onIconChanged:re,onPositionChanged:Z,onShapeChanged:me,onTitleChanged:ie,onVisibleChanged:W,onZindexChanged:ve,onLoad:Q,onUnmount:ne}=t,te=j.useContext(gn),[X,be]=j.useState(null),[Ne,Ee]=j.useState(null),[Ie,_e]=j.useState(null),[Ue,tt]=j.useState(null),[ct,ut]=j.useState(null),[Ye,Et]=j.useState(null),[Ze,zt]=j.useState(null),[Cn,fn]=j.useState(null),[vn,dr]=j.useState(null),[sr,We]=j.useState(null),[xt,Mt]=j.useState(null),[kt,on]=j.useState(null),[Gr,Jn]=j.useState(null),[ws,es]=j.useState(null),[Br,Vn]=j.useState(null),[Ur,zr]=j.useState(null),[Hn,Wr]=j.useState(null),[yr,sa]=j.useState(null),[ms,ps]=j.useState(null),[pr,Nr]=j.useState(null),[gs,aa]=j.useState(null),[Hs,ts]=j.useState(null);j.useEffect(()=>{X!==null&&X.setMap(te)},[te]),j.useEffect(()=>{typeof n<"u"&&X!==null&&X.setOptions(n)},[X,n]),j.useEffect(()=>{typeof o<"u"&&X!==null&&X.setDraggable(o)},[X,o]),j.useEffect(()=>{e&&X!==null&&X.setPosition(e)},[X,e]),j.useEffect(()=>{typeof l<"u"&&X!==null&&X.setVisible(l)},[X,l]),j.useEffect(()=>{X==null||X.setAnimation(u)},[X,u]),j.useEffect(()=>{X&&h!==void 0&&X.setClickable(h)},[X,h]),j.useEffect(()=>{X&&f!==void 0&&X.setCursor(f)},[X,f]),j.useEffect(()=>{X&&g!==void 0&&X.setIcon(g)},[X,g]),j.useEffect(()=>{X&&p!==void 0&&X.setLabel(p)},[X,p]),j.useEffect(()=>{X&&v!==void 0&&X.setOpacity(v)},[X,v]),j.useEffect(()=>{X&&w!==void 0&&X.setShape(w)},[X,w]),j.useEffect(()=>{X&&E!==void 0&&X.setTitle(E)},[X,E]),j.useEffect(()=>{X&&S!==void 0&&X.setZIndex(S)},[X,S]),j.useEffect(()=>{X&&O&&(Ne!==null&&google.maps.event.removeListener(Ne),Ee(google.maps.event.addListener(X,"dblclick",O)))},[O]),j.useEffect(()=>{X&&D&&(Ie!==null&&google.maps.event.removeListener(Ie),_e(google.maps.event.addListener(X,"dragend",D)))},[D]),j.useEffect(()=>{X&&T&&(Ue!==null&&google.maps.event.removeListener(Ue),tt(google.maps.event.addListener(X,"dragstart",T)))},[T]),j.useEffect(()=>{X&&_&&(ct!==null&&google.maps.event.removeListener(ct),ut(google.maps.event.addListener(X,"mousedown",_)))},[_]),j.useEffect(()=>{X&&F&&(Ye!==null&&google.maps.event.removeListener(Ye),Et(google.maps.event.addListener(X,"mouseout",F)))},[F]),j.useEffect(()=>{X&&y&&(Ze!==null&&google.maps.event.removeListener(Ze),zt(google.maps.event.addListener(X,"mouseover",y)))},[y]),j.useEffect(()=>{X&&A&&(Cn!==null&&google.maps.event.removeListener(Cn),fn(google.maps.event.addListener(X,"mouseup",A)))},[A]),j.useEffect(()=>{X&&L&&(vn!==null&&google.maps.event.removeListener(vn),dr(google.maps.event.addListener(X,"rightclick",L)))},[L]),j.useEffect(()=>{X&&C&&(sr!==null&&google.maps.event.removeListener(sr),We(google.maps.event.addListener(X,"click",C)))},[C]),j.useEffect(()=>{X&&I&&(xt!==null&&google.maps.event.removeListener(xt),Mt(google.maps.event.addListener(X,"drag",I)))},[I]),j.useEffect(()=>{X&&R&&(kt!==null&&google.maps.event.removeListener(kt),on(google.maps.event.addListener(X,"clickable_changed",R)))},[R]),j.useEffect(()=>{X&&U&&(Gr!==null&&google.maps.event.removeListener(Gr),Jn(google.maps.event.addListener(X,"cursor_changed",U)))},[U]),j.useEffect(()=>{X&&P&&(ws!==null&&google.maps.event.removeListener(ws),es(google.maps.event.addListener(X,"animation_changed",P)))},[P]),j.useEffect(()=>{X&&K&&(Br!==null&&google.maps.event.removeListener(Br),Vn(google.maps.event.addListener(X,"draggable_changed",K)))},[K]),j.useEffect(()=>{X&&G&&(Ur!==null&&google.maps.event.removeListener(Ur),zr(google.maps.event.addListener(X,"flat_changed",G)))},[G]),j.useEffect(()=>{X&&re&&(Hn!==null&&google.maps.event.removeListener(Hn),Wr(google.maps.event.addListener(X,"icon_changed",re)))},[re]),j.useEffect(()=>{X&&Z&&(yr!==null&&google.maps.event.removeListener(yr),sa(google.maps.event.addListener(X,"position_changed",Z)))},[Z]),j.useEffect(()=>{X&&me&&(ms!==null&&google.maps.event.removeListener(ms),ps(google.maps.event.addListener(X,"shape_changed",me)))},[me]),j.useEffect(()=>{X&&ie&&(pr!==null&&google.maps.event.removeListener(pr),Nr(google.maps.event.addListener(X,"title_changed",ie)))},[ie]),j.useEffect(()=>{X&&W&&(gs!==null&&google.maps.event.removeListener(gs),aa(google.maps.event.addListener(X,"visible_changed",W)))},[W]),j.useEffect(()=>{X&&ve&&(Hs!==null&&google.maps.event.removeListener(Hs),ts(google.maps.event.addListener(X,"zindex_changed",ve)))},[ve]),j.useEffect(()=>{var bn=Fm(Fm(Fm({},n||Eb),r?Eb:{map:te}),{},{position:e}),Bt=new google.maps.Marker(bn);return r?r.addMarker(Bt,!!s):Bt.setMap(te),e&&Bt.setPosition(e),typeof l<"u"&&Bt.setVisible(l),typeof o<"u"&&Bt.setDraggable(o),typeof h<"u"&&Bt.setClickable(h),typeof f=="string"&&Bt.setCursor(f),g&&Bt.setIcon(g),typeof p<"u"&&Bt.setLabel(p),typeof v<"u"&&Bt.setOpacity(v),w&&Bt.setShape(w),typeof E=="string"&&Bt.setTitle(E),typeof S=="number"&&Bt.setZIndex(S),O&&Ee(google.maps.event.addListener(Bt,"dblclick",O)),D&&_e(google.maps.event.addListener(Bt,"dragend",D)),T&&tt(google.maps.event.addListener(Bt,"dragstart",T)),_&&ut(google.maps.event.addListener(Bt,"mousedown",_)),F&&Et(google.maps.event.addListener(Bt,"mouseout",F)),y&&zt(google.maps.event.addListener(Bt,"mouseover",y)),A&&fn(google.maps.event.addListener(Bt,"mouseup",A)),L&&dr(google.maps.event.addListener(Bt,"rightclick",L)),C&&We(google.maps.event.addListener(Bt,"click",C)),I&&Mt(google.maps.event.addListener(Bt,"drag",I)),R&&on(google.maps.event.addListener(Bt,"clickable_changed",R)),U&&Jn(google.maps.event.addListener(Bt,"cursor_changed",U)),P&&es(google.maps.event.addListener(Bt,"animation_changed",P)),K&&Vn(google.maps.event.addListener(Bt,"draggable_changed",K)),G&&zr(google.maps.event.addListener(Bt,"flat_changed",G)),re&&Wr(google.maps.event.addListener(Bt,"icon_changed",re)),Z&&sa(google.maps.event.addListener(Bt,"position_changed",Z)),me&&ps(google.maps.event.addListener(Bt,"shape_changed",me)),ie&&Nr(google.maps.event.addListener(Bt,"title_changed",ie)),W&&aa(google.maps.event.addListener(Bt,"visible_changed",W)),ve&&ts(google.maps.event.addListener(Bt,"zindex_changed",ve)),be(Bt),Q&&Q(Bt),()=>{Ne!==null&&google.maps.event.removeListener(Ne),Ie!==null&&google.maps.event.removeListener(Ie),Ue!==null&&google.maps.event.removeListener(Ue),ct!==null&&google.maps.event.removeListener(ct),Ye!==null&&google.maps.event.removeListener(Ye),Ze!==null&&google.maps.event.removeListener(Ze),Cn!==null&&google.maps.event.removeListener(Cn),vn!==null&&google.maps.event.removeListener(vn),sr!==null&&google.maps.event.removeListener(sr),kt!==null&&google.maps.event.removeListener(kt),Gr!==null&&google.maps.event.removeListener(Gr),ws!==null&&google.maps.event.removeListener(ws),Br!==null&&google.maps.event.removeListener(Br),Ur!==null&&google.maps.event.removeListener(Ur),Hn!==null&&google.maps.event.removeListener(Hn),yr!==null&&google.maps.event.removeListener(yr),pr!==null&&google.maps.event.removeListener(pr),gs!==null&&google.maps.event.removeListener(gs),Hs!==null&&google.maps.event.removeListener(Hs),ne&&ne(Bt),r?r.removeMarker(Bt,!!s):Bt&&Bt.setMap(null)}},[]);var Ha=j.useMemo(()=>i?j.Children.map(i,bn=>{if(!j.isValidElement(bn))return bn;var Bt=bn;return j.cloneElement(Bt,{anchor:X})}):null,[i,X]);return a.jsx(a.Fragment,{children:Ha})||null}j.memo(C4e);let WL=class extends j.PureComponent{constructor(){super(...arguments),$e(this,"registeredEvents",[])}componentDidMount(){var e=this;return MW(function*(){var n=Fm(Fm(Fm({},e.props.options||Eb),e.props.clusterer?Eb:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(n),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=Sn({updaterMap:sF,eventMap:rF,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)})()}componentDidUpdate(e){this.marker&&(Tn(this.registeredEvents),this.registeredEvents=Sn({updaterMap:sF,eventMap:rF,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),Tn(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var e=this.props.children?j.Children.map(this.props.children,n=>{if(!j.isValidElement(n))return n;var r=n;return j.cloneElement(r,{anchor:this.marker})}):null;return e||null}};$e(WL,"contextType",gn);var N4e=function(){function t(e,n){e.getClusterer().extend(t,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return t.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},t.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},t.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var n=this.cluster.getClusterer();if(google.maps.event.trigger(n,"click",this.cluster),google.maps.event.trigger(n,"clusterclick",this.cluster),n.getZoomOnClick()){var r=n.getMaxZoom(),s=this.cluster.getBounds(),i=n.getMap();i!==null&&"fitBounds"in i&&i.fitBounds(s),this.timeOut=window.setTimeout(function(){var o=n.getMap();if(o!==null){"fitBounds"in o&&o.fitBounds(s);var l=o.getZoom()||0;r!==null&&l>r&&o.setZoom(r+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},t.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},t.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},t.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var n=this.getMap();n!==null&&(this.boundsChangedListener=google.maps.event.addListener(n,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},t.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},t.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},t.prototype.show=function(){var e,n,r,s,i,o;if(this.div&&this.center){var l=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,u=this.backgroundPosition.split(" "),h=parseInt(((e=u[0])===null||e===void 0?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),f=parseInt(((n=u[1])===null||n===void 0?void 0:n.replace(/^\s+|\s+$/g,""))||"0",10),g=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(g!==null?"".concat(g.y,"px"):"0","; left: ").concat(g!==null?"".concat(g.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var p=document.createElement("img");p.alt=l,p.src=this.url,p.width=this.width,p.height=this.height,p.setAttribute("style","position: absolute; top: ".concat(f,"px; left: ").concat(h,"px")),this.cluster.getClusterer().enableRetinaIcons||(p.style.clip="rect(-".concat(f,"px, -").concat(h+this.width,"px, -").concat(f+this.height,", -").concat(h,")"));var v=document.createElement("div");v.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((r=this.sums)===null||r===void 0)&&r.text&&(v.innerText="".concat((s=this.sums)===null||s===void 0?void 0:s.text)),!((i=this.sums)===null||i===void 0)&&i.html&&(v.innerHTML="".concat((o=this.sums)===null||o===void 0?void 0:o.html)),this.div.innerHTML="",this.div.appendChild(p),this.div.appendChild(v),this.div.title=l,this.div.style.display=""}this.visible=!0},t.prototype.useStyle=function(e){this.sums=e;var n=this.cluster.getClusterer().getStyles(),r=n[Math.min(n.length-1,Math.max(0,e.index-1))];r&&(this.url=r.url,this.height=r.height,this.width=r.width,r.className&&(this.className="".concat(this.clusterClassName," ").concat(r.className)),this.anchorText=r.anchorText||[0,0],this.anchorIcon=r.anchorIcon||[this.height/2,this.width/2],this.textColor=r.textColor||"black",this.textSize=r.textSize||11,this.textDecoration=r.textDecoration||"none",this.fontWeight=r.fontWeight||"bold",this.fontStyle=r.fontStyle||"normal",this.fontFamily=r.fontFamily||"Arial,sans-serif",this.backgroundPosition=r.backgroundPosition||"0 0")},t.prototype.setCenter=function(e){this.center=e},t.prototype.getPosFromLatLng=function(e){var n=this.getProjection().fromLatLngToDivPixel(e);return n!==null&&(n.x-=this.anchorIcon[1],n.y-=this.anchorIcon[0]),n},t}(),T4e=function(){function t(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new N4e(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return t.prototype.getSize=function(){return this.markers.length},t.prototype.getMarkers=function(){return this.markers},t.prototype.getCenter=function(){return this.center},t.prototype.getMap=function(){return this.map},t.prototype.getClusterer=function(){return this.markerClusterer},t.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),n=this.getMarkers(),r=0,s=n;r<s.length;r++){var i=s[r],o=i.getPosition();o&&e.extend(o)}return e},t.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},t.prototype.addMarker=function(e){var n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var r=e.getPosition();if(r){var s=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(s-1)+r.lat())/s,(this.center.lng()*(s-1)+r.lng())/s),this.calculateBounds()}}}else{var r=e.getPosition();r&&(this.center=r,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var i=this.markers.length,o=this.markerClusterer.getMaxZoom(),l=(n=this.map)===null||n===void 0?void 0:n.getZoom();if(o!==null&&typeof l<"u"&&l>o)e.getMap()!==this.map&&e.setMap(this.map);else if(i<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(i===this.minClusterSize)for(var u=0,h=this.markers;u<h.length;u++){var f=h[u];f.setMap(null)}else e.setMap(null);return!0},t.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var n=e.getPosition();if(n)return this.bounds.contains(n)}return!1},t.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},t.prototype.updateIcon=function(){var e,n=this.markers.length,r=this.markerClusterer.getMaxZoom(),s=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(r!==null&&typeof s<"u"&&s>r){this.clusterIcon.hide();return}if(n<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},t.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var n=0;n<this.markers.length;n++)if(e===this.markers[n])return!0;return!1},t}();function A4e(t,e){var n=t.length,r=n.toString().length,s=Math.min(r,e);return{text:n.toString(),index:s,title:""}}var L4e=2e3,R4e=500,k4e="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",O4e="png",I4e=[53,56,66,78,90],P4e="cluster",qW=function(){function t(e,n,r){n===void 0&&(n=[]),r===void 0&&(r={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(t,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=r.gridSize||60,this.minClusterSize=r.minimumClusterSize||2,this.maxZoom=r.maxZoom||null,this.styles=r.styles||[],this.title=r.title||"",this.zoomOnClick=!0,r.zoomOnClick!==void 0&&(this.zoomOnClick=r.zoomOnClick),this.averageCenter=!1,r.averageCenter!==void 0&&(this.averageCenter=r.averageCenter),this.ignoreHidden=!1,r.ignoreHidden!==void 0&&(this.ignoreHidden=r.ignoreHidden),this.enableRetinaIcons=!1,r.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=r.enableRetinaIcons),this.imagePath=r.imagePath||k4e,this.imageExtension=r.imageExtension||O4e,this.imageSizes=r.imageSizes||I4e,this.calculator=r.calculator||A4e,this.batchSize=r.batchSize||L4e,this.batchSizeIE=r.batchSizeIE||R4e,this.clusterClass=r.clusterClass||P4e,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(e)}return t.prototype.onZoomChanged=function(){var e,n;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((n=this.getMap())===null||n===void 0?void 0:n.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},t.prototype.onIdle=function(){this.redraw()},t.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},t.prototype.onRemove=function(){for(var e=0,n=this.markers;e<n.length;e++){var r=n[e];r.getMap()!==this.activeMap&&r.setMap(this.activeMap)}for(var s=0,i=this.clusters;s<i.length;s++){var o=i[s];o.remove()}this.clusters=[];for(var l=0,u=this.listeners;l<u.length;l++){var h=u[l];google.maps.event.removeListener(h)}this.listeners=[],this.activeMap=null,this.ready=!1},t.prototype.draw=function(){},t.prototype.getMap=function(){return null},t.prototype.getPanes=function(){return null},t.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},t.prototype.setMap=function(){},t.prototype.addListener=function(){return{remove:function(){}}},t.prototype.bindTo=function(){},t.prototype.get=function(){},t.prototype.notify=function(){},t.prototype.set=function(){},t.prototype.setValues=function(){},t.prototype.unbind=function(){},t.prototype.unbindAll=function(){},t.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},t.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),n=new google.maps.LatLngBounds,r=0,s=e;r<s.length;r++){var i=s[r],o=i.getPosition();o&&n.extend(o)}var l=this.getMap();l!==null&&"fitBounds"in l&&l.fitBounds(n)},t.prototype.getGridSize=function(){return this.gridSize},t.prototype.setGridSize=function(e){this.gridSize=e},t.prototype.getMinimumClusterSize=function(){return this.minClusterSize},t.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.setMaxZoom=function(e){this.maxZoom=e},t.prototype.getStyles=function(){return this.styles},t.prototype.setStyles=function(e){this.styles=e},t.prototype.getTitle=function(){return this.title},t.prototype.setTitle=function(e){this.title=e},t.prototype.getZoomOnClick=function(){return this.zoomOnClick},t.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},t.prototype.getAverageCenter=function(){return this.averageCenter},t.prototype.setAverageCenter=function(e){this.averageCenter=e},t.prototype.getIgnoreHidden=function(){return this.ignoreHidden},t.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},t.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},t.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},t.prototype.getImageExtension=function(){return this.imageExtension},t.prototype.setImageExtension=function(e){this.imageExtension=e},t.prototype.getImagePath=function(){return this.imagePath},t.prototype.setImagePath=function(e){this.imagePath=e},t.prototype.getImageSizes=function(){return this.imageSizes},t.prototype.setImageSizes=function(e){this.imageSizes=e},t.prototype.getCalculator=function(){return this.calculator},t.prototype.setCalculator=function(e){this.calculator=e},t.prototype.getBatchSizeIE=function(){return this.batchSizeIE},t.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},t.prototype.getClusterClass=function(){return this.clusterClass},t.prototype.setClusterClass=function(e){this.clusterClass=e},t.prototype.getMarkers=function(){return this.markers},t.prototype.getTotalMarkers=function(){return this.markers.length},t.prototype.getClusters=function(){return this.clusters},t.prototype.getTotalClusters=function(){return this.clusters.length},t.prototype.addMarker=function(e,n){this.pushMarkerTo(e),n||this.redraw()},t.prototype.addMarkers=function(e,n){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var s=e[r];s&&this.pushMarkerTo(s)}n||this.redraw()},t.prototype.pushMarkerTo=function(e){var n=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){n.ready&&(e.isAdded=!1,n.repaint())}),e.isAdded=!1,this.markers.push(e)},t.prototype.removeMarker_=function(e){var n=-1;if(this.markers.indexOf)n=this.markers.indexOf(e);else for(var r=0;r<this.markers.length;r++)if(e===this.markers[r]){n=r;break}return n===-1?!1:(e.setMap(null),this.markers.splice(n,1),!0)},t.prototype.removeMarker=function(e,n){var r=this.removeMarker_(e);return!n&&r&&this.repaint(),r},t.prototype.removeMarkers=function(e,n){for(var r=!1,s=0,i=e;s<i.length;s++){var o=i[s];r=r||this.removeMarker_(o)}return!n&&r&&this.repaint(),r},t.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},t.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var r=0,s=e;r<s.length;r++){var i=s[r];i.remove()}},0)},t.prototype.getExtendedBounds=function(e){var n=this.getProjection(),r=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));r!==null&&(r.x+=this.gridSize,r.y-=this.gridSize);var s=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(s!==null&&(s.x-=this.gridSize,s.y+=this.gridSize),r!==null){var i=n.fromDivPixelToLatLng(r);i!==null&&e.extend(i)}if(s!==null){var o=n.fromDivPixelToLatLng(s);o!==null&&e.extend(o)}return e},t.prototype.redraw=function(){this.createClusters(0)},t.prototype.resetViewport=function(e){for(var n=0,r=this.clusters;n<r.length;n++){var s=r[n];s.remove()}this.clusters=[];for(var i=0,o=this.markers;i<o.length;i++){var l=o[i];l.isAdded=!1,e&&l.setMap(null)}},t.prototype.distanceBetweenPoints=function(e,n){var r=6371,s=(n.lat()-e.lat())*Math.PI/180,i=(n.lng()-e.lng())*Math.PI/180,o=Math.sin(s/2)*Math.sin(s/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(n.lat()*Math.PI/180)*Math.sin(i/2)*Math.sin(i/2);return r*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},t.prototype.isMarkerInBounds=function(e,n){var r=e.getPosition();return r?n.contains(r):!1},t.prototype.addToClosestCluster=function(e){for(var n,r=4e4,s=null,i=0,o=this.clusters;i<o.length;i++){var l=o[i];n=l;var u=n.getCenter(),h=e.getPosition();if(u&&h){var f=this.distanceBetweenPoints(u,h);f<r&&(r=f,s=n)}}s&&s.isMarkerInClusterBounds(e)?s.addMarker(e):(n=new T4e(this),n.addMarker(e),this.clusters.push(n))},t.prototype.createClusters=function(e){var n=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var r=this.getMap(),s=r!==null&&("getBounds"in r)?r.getBounds():null,i=(r==null?void 0:r.getZoom())||0,o=i>3?new google.maps.LatLngBounds(s==null?void 0:s.getSouthWest(),s==null?void 0:s.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),l=this.getExtendedBounds(o),u=Math.min(e+this.batchSize,this.markers.length),h=e;h<u;h++){var f=this.markers[h];f&&!f.isAdded&&this.isMarkerInBounds(f,l)&&(!this.ignoreHidden||this.ignoreHidden&&f.getVisible())&&this.addToClosestCluster(f)}if(u<this.markers.length)this.timerRefStatic=window.setTimeout(function(){n.createClusters(u)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var g=0,p=this.clusters;g<p.length;g++){var v=p[g];v.updateIcon()}}}},t.prototype.extend=function(e,n){return(function(s){for(var i in s.prototype){var o=i;this.prototype[o]=s.prototype[o]}return this}).apply(e,[n])},t}();function aF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function D4e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aF(Object(n),!0).forEach(function(r){$e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var bo={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},Kn={averageCenter(t,e){t.setAverageCenter(e)},batchSizeIE(t,e){t.setBatchSizeIE(e)},calculator(t,e){t.setCalculator(e)},clusterClass(t,e){t.setClusterClass(e)},enableRetinaIcons(t,e){t.setEnableRetinaIcons(e)},gridSize(t,e){t.setGridSize(e)},ignoreHidden(t,e){t.setIgnoreHidden(e)},imageExtension(t,e){t.setImageExtension(e)},imagePath(t,e){t.setImagePath(e)},imageSizes(t,e){t.setImageSizes(e)},maxZoom(t,e){t.setMaxZoom(e)},minimumClusterSize(t,e){t.setMinimumClusterSize(e)},styles(t,e){t.setStyles(e)},title(t,e){t.setTitle(e)},zoomOnClick(t,e){t.setZoomOnClick(e)}},M4e={};function F4e(t){var{children:e,options:n,averageCenter:r,batchSizeIE:s,calculator:i,clusterClass:o,enableRetinaIcons:l,gridSize:u,ignoreHidden:h,imageExtension:f,imagePath:g,imageSizes:p,maxZoom:v,minimumClusterSize:w,styles:E,title:S,zoomOnClick:C,onClick:O,onClusteringBegin:I,onClusteringEnd:D,onMouseOver:T,onMouseOut:F,onLoad:y,onUnmount:A}=t,[_,L]=j.useState(null),R=j.useContext(gn),[U,P]=j.useState(null),[K,G]=j.useState(null),[re,Z]=j.useState(null),[me,ie]=j.useState(null),[W,ve]=j.useState(null);return j.useEffect(()=>{_&&F&&(me!==null&&google.maps.event.removeListener(me),ie(google.maps.event.addListener(_,bo.onMouseOut,F)))},[F]),j.useEffect(()=>{_&&T&&(W!==null&&google.maps.event.removeListener(W),ve(google.maps.event.addListener(_,bo.onMouseOver,T)))},[T]),j.useEffect(()=>{_&&O&&(U!==null&&google.maps.event.removeListener(U),P(google.maps.event.addListener(_,bo.onClick,O)))},[O]),j.useEffect(()=>{_&&I&&(K!==null&&google.maps.event.removeListener(K),G(google.maps.event.addListener(_,bo.onClusteringBegin,I)))},[I]),j.useEffect(()=>{_&&D&&(re!==null&&google.maps.event.removeListener(re),G(google.maps.event.addListener(_,bo.onClusteringEnd,D)))},[D]),j.useEffect(()=>{typeof r<"u"&&_!==null&&Kn.averageCenter(_,r)},[_,r]),j.useEffect(()=>{typeof s<"u"&&_!==null&&Kn.batchSizeIE(_,s)},[_,s]),j.useEffect(()=>{typeof i<"u"&&_!==null&&Kn.calculator(_,i)},[_,i]),j.useEffect(()=>{typeof o<"u"&&_!==null&&Kn.clusterClass(_,o)},[_,o]),j.useEffect(()=>{typeof l<"u"&&_!==null&&Kn.enableRetinaIcons(_,l)},[_,l]),j.useEffect(()=>{typeof u<"u"&&_!==null&&Kn.gridSize(_,u)},[_,u]),j.useEffect(()=>{typeof h<"u"&&_!==null&&Kn.ignoreHidden(_,h)},[_,h]),j.useEffect(()=>{typeof f<"u"&&_!==null&&Kn.imageExtension(_,f)},[_,f]),j.useEffect(()=>{typeof g<"u"&&_!==null&&Kn.imagePath(_,g)},[_,g]),j.useEffect(()=>{typeof p<"u"&&_!==null&&Kn.imageSizes(_,p)},[_,p]),j.useEffect(()=>{typeof v<"u"&&_!==null&&Kn.maxZoom(_,v)},[_,v]),j.useEffect(()=>{typeof w<"u"&&_!==null&&Kn.minimumClusterSize(_,w)},[_,w]),j.useEffect(()=>{typeof E<"u"&&_!==null&&Kn.styles(_,E)},[_,E]),j.useEffect(()=>{typeof S<"u"&&_!==null&&Kn.title(_,S)},[_,S]),j.useEffect(()=>{typeof C<"u"&&_!==null&&Kn.zoomOnClick(_,C)},[_,C]),j.useEffect(()=>{if(R){var Q=D4e({},n||M4e),ne=new qW(R,[],Q);return r&&Kn.averageCenter(ne,r),s&&Kn.batchSizeIE(ne,s),i&&Kn.calculator(ne,i),o&&Kn.clusterClass(ne,o),l&&Kn.enableRetinaIcons(ne,l),u&&Kn.gridSize(ne,u),h&&Kn.ignoreHidden(ne,h),f&&Kn.imageExtension(ne,f),g&&Kn.imagePath(ne,g),p&&Kn.imageSizes(ne,p),v&&Kn.maxZoom(ne,v),w&&Kn.minimumClusterSize(ne,w),E&&Kn.styles(ne,E),S&&Kn.title(ne,S),C&&Kn.zoomOnClick(ne,C),F&&ie(google.maps.event.addListener(ne,bo.onMouseOut,F)),T&&ve(google.maps.event.addListener(ne,bo.onMouseOver,T)),O&&P(google.maps.event.addListener(ne,bo.onClick,O)),I&&G(google.maps.event.addListener(ne,bo.onClusteringBegin,I)),D&&Z(google.maps.event.addListener(ne,bo.onClusteringEnd,D)),L(ne),y&&y(ne),()=>{me!==null&&google.maps.event.removeListener(me),W!==null&&google.maps.event.removeListener(W),U!==null&&google.maps.event.removeListener(U),K!==null&&google.maps.event.removeListener(K),re!==null&&google.maps.event.removeListener(re),A&&A(ne)}}},[]),_!==null&&e(_)||null}j.memo(F4e);class B4e extends j.PureComponent{constructor(){super(...arguments),$e(this,"registeredEvents",[]),$e(this,"state",{markerClusterer:null}),$e(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var e=new qW(this.context,[],this.props.options);this.registeredEvents=Sn({updaterMap:Kn,eventMap:bo,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(Tn(this.registeredEvents),this.registeredEvents=Sn({updaterMap:Kn,eventMap:bo,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),Tn(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}$e(B4e,"contextType",gn);function iF(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}var $W=function(){function t(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(t,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return t.prototype.createInfoBoxDiv=function(){var e=this,n=function(f){f.returnValue=!1,f.preventDefault&&f.preventDefault(),e.enableEventPropagation||iF(f)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var r=this.getPanes();if(r!==null&&r[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var s=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-s.left-s.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var i=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],o=0,l=i;o<l.length;o++){var u=l[o];this.eventListeners.push(google.maps.event.addListener(this.div,u,iF))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",n),google.maps.event.trigger(this,"domready")}},t.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},t.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},t.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},t.prototype.getCloseClickHandler=function(){return this.closeClickHandler},t.prototype.panBox=function(e){if(this.div&&!e){var n=this.getMap();if(n instanceof google.maps.Map){var r=0,s=0,i=n.getBounds();i&&!i.contains(this.position)&&n.setCenter(this.position);var o=n.getDiv(),l=o.offsetWidth,u=o.offsetHeight,h=this.pixelOffset.width,f=this.pixelOffset.height,g=this.div.offsetWidth,p=this.div.offsetHeight,v=this.infoBoxClearance.width,w=this.infoBoxClearance.height,E=this.getProjection(),S=E.fromLatLngToContainerPixel(this.position);S!==null&&(S.x<-h+v?r=S.x+h-v:S.x+g+h+v>l&&(r=S.x+g+h+v-l),this.alignBottom?S.y<-f+w+p?s=S.y+f-w-p:S.y+f+w>u&&(s=S.y+f+w-u):S.y<-f+w?s=S.y+f-w:S.y+p+f+w>u&&(s=S.y+p+f+w-u)),r===0&&s===0||n.panBy(r,s)}}},t.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this.div.style[n]=e[n]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var r=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+r*100+')"',this.div.style.filter="alpha(opacity="+r*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},t.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var n=this.div.ownerDocument,r=n&&n.defaultView?n.defaultView.getComputedStyle(this.div,""):null;r&&(e.top=parseInt(r.borderTopWidth||"",10)||0,e.bottom=parseInt(r.borderBottomWidth||"",10)||0,e.left=parseInt(r.borderLeftWidth||"",10)||0,e.right=parseInt(r.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var s=this.div.currentStyle;s&&(e.top=parseInt(s.borderTopWidth||"",10)||0,e.bottom=parseInt(s.borderBottomWidth||"",10)||0,e.left=parseInt(s.borderLeftWidth||"",10)||0,e.right=parseInt(s.borderRightWidth||"",10)||0)}return e},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},t.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),n=e.fromLatLngToDivPixel(this.position);n!==null&&(this.div.style.left=n.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(n.y+this.pixelOffset.height)+"px":this.div.style.top=n.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},t.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},t.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},t.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},t.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},t.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},t.prototype.getContent=function(){return this.content},t.prototype.getPosition=function(){return this.position},t.prototype.getZIndex=function(){return this.zIndex},t.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},t.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},t.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},t.prototype.open=function(e,n){var r=this;n&&(this.position=n.getPosition(),this.moveListener=google.maps.event.addListener(n,"position_changed",function(){var s=n.getPosition();r.setPosition(s)}),this.mapListener=google.maps.event.addListener(n,"map_changed",function(){r.setMap(n.map)})),this.setMap(e),this.div&&this.panBox()},t.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,n=this.eventListeners;e<n.length;e++){var r=n[e];google.maps.event.removeListener(r)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},t.prototype.extend=function(e,n){return(function(s){for(var i in s.prototype)Object.prototype.hasOwnProperty.call(this,i)||(this.prototype[i]=s.prototype[i]);return this}).apply(e,[n])},t}(),U4e=["position"],z4e=["position"];function oF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Sb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oF(Object(n),!0).forEach(function(r){$e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var lF={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},cF={options(t,e){t.setOptions(e)},position(t,e){e instanceof google.maps.LatLng?t.setPosition(e):t.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},q4e={};function $4e(t){var{children:e,anchor:n,options:r,position:s,zIndex:i,onCloseClick:o,onDomReady:l,onContentChanged:u,onPositionChanged:h,onZindexChanged:f,onLoad:g,onUnmount:p}=t,v=j.useContext(gn),[w,E]=j.useState(null),[S,C]=j.useState(null),[O,I]=j.useState(null),[D,T]=j.useState(null),[F,y]=j.useState(null),[A,_]=j.useState(null),L=j.useRef(null);return j.useEffect(()=>{v&&w!==null&&(w.close(),n?w.open(v,n):w.getPosition()&&w.open(v))},[v,w,n]),j.useEffect(()=>{r&&w!==null&&w.setOptions(r)},[w,r]),j.useEffect(()=>{if(s&&w!==null){var R=s instanceof google.maps.LatLng?s:new google.maps.LatLng(s.lat,s.lng);w.setPosition(R)}},[s]),j.useEffect(()=>{typeof i=="number"&&w!==null&&w.setZIndex(i)},[i]),j.useEffect(()=>{w&&o&&(S!==null&&google.maps.event.removeListener(S),C(google.maps.event.addListener(w,"closeclick",o)))},[o]),j.useEffect(()=>{w&&l&&(O!==null&&google.maps.event.removeListener(O),I(google.maps.event.addListener(w,"domready",l)))},[l]),j.useEffect(()=>{w&&u&&(D!==null&&google.maps.event.removeListener(D),T(google.maps.event.addListener(w,"content_changed",u)))},[u]),j.useEffect(()=>{w&&h&&(F!==null&&google.maps.event.removeListener(F),y(google.maps.event.addListener(w,"position_changed",h)))},[h]),j.useEffect(()=>{w&&f&&(A!==null&&google.maps.event.removeListener(A),_(google.maps.event.addListener(w,"zindex_changed",f)))},[f]),j.useEffect(()=>{if(v){var R=r||q4e,{position:U}=R,P=GL(R,U4e),K;U&&!(U instanceof google.maps.LatLng)&&(K=new google.maps.LatLng(U.lat,U.lng));var G=new $W(Sb(Sb({},P),K?{position:K}:{}));L.current=document.createElement("div"),E(G),o&&C(google.maps.event.addListener(G,"closeclick",o)),l&&I(google.maps.event.addListener(G,"domready",l)),u&&T(google.maps.event.addListener(G,"content_changed",u)),h&&y(google.maps.event.addListener(G,"position_changed",h)),f&&_(google.maps.event.addListener(G,"zindex_changed",f)),G.setContent(L.current),n?G.open(v,n):G.getPosition()?G.open(v):Vs(!1,"You must provide either an anchor or a position prop for <InfoBox>."),g&&g(G)}return()=>{w!==null&&(S&&google.maps.event.removeListener(S),D&&google.maps.event.removeListener(D),O&&google.maps.event.removeListener(O),F&&google.maps.event.removeListener(F),A&&google.maps.event.removeListener(A),p&&p(w),w.close())}},[]),L.current?Oh.createPortal(j.Children.only(e),L.current):null}j.memo($4e);class V4e extends j.PureComponent{constructor(){super(...arguments),$e(this,"registeredEvents",[]),$e(this,"containerElement",null),$e(this,"state",{infoBox:null}),$e(this,"open",(e,n)=>{n?this.context!==null&&e.open(this.context,n):e.getPosition()?this.context!==null&&e.open(this.context):Vs(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),$e(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var e=this.props.options||{},{position:n}=e,r=GL(e,z4e),s;n&&!(n instanceof google.maps.LatLng)&&(s=new google.maps.LatLng(n.lat,n.lng));var i=new $W(Sb(Sb({},r),s?{position:s}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=Sn({updaterMap:cF,eventMap:lF,prevProps:{},nextProps:this.props,instance:i}),this.setState({infoBox:i},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:n}=this.state;n!==null&&(Tn(this.registeredEvents),this.registeredEvents=Sn({updaterMap:cF,eventMap:lF,prevProps:e,nextProps:this.props,instance:n}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:n}=this.state;n!==null&&(e&&e(n),Tn(this.registeredEvents),n.close())}render(){return this.containerElement?Oh.createPortal(j.Children.only(this.props.children),this.containerElement):null}}$e(V4e,"contextType",gn);var hC,uF;function H4e(){return uF||(uF=1,hC=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,s,i;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!t(e[s],n[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[s]))return!1;for(s=r;s--!==0;){var o=i[s];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n}),hC}var G4e=H4e(),dF=PW(G4e),hF=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],fC=1,Rg=8;class KL{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[n,r]=new Uint8Array(e,0,2);if(n!==219)throw new Error("Data does not appear to be in a KDBush format.");var s=r>>4;if(s!==fC)throw new Error("Got v".concat(s," data when expected v").concat(fC,"."));var i=hF[r&15];if(!i)throw new Error("Unrecognized array type.");var[o]=new Uint16Array(e,2,1),[l]=new Uint32Array(e,4,1);return new KL(l,o,i,e)}constructor(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,s=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=r,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var i=hF.indexOf(this.ArrayType),o=e*2*this.ArrayType.BYTES_PER_ELEMENT,l=e*this.IndexArrayType.BYTES_PER_ELEMENT,u=(8-l%8)%8;if(i<0)throw new Error("Unexpected typed array class: ".concat(r,"."));s&&s instanceof ArrayBuffer?(this.data=s,this.ids=new this.IndexArrayType(this.data,Rg,e),this.coords=new this.ArrayType(this.data,Rg+l+u,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(Rg+o+l+u),this.ids=new this.IndexArrayType(this.data,Rg,e),this.coords=new this.ArrayType(this.data,Rg+l+u,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(fC<<4)+i]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=e)}add(e,n){var r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=e,this.coords[this._pos++]=n,r}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return pT(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,n,r,s){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:i,coords:o,nodeSize:l}=this,u=[0,i.length-1,0],h=[];u.length;){var f=u.pop()||0,g=u.pop()||0,p=u.pop()||0;if(g-p<=l){for(var v=p;v<=g;v++){var w=o[2*v],E=o[2*v+1];w>=e&&w<=r&&E>=n&&E<=s&&h.push(i[v])}continue}var S=p+g>>1,C=o[2*S],O=o[2*S+1];C>=e&&C<=r&&O>=n&&O<=s&&h.push(i[S]),(f===0?e<=C:n<=O)&&(u.push(p),u.push(S-1),u.push(1-f)),(f===0?r>=C:s>=O)&&(u.push(S+1),u.push(g),u.push(1-f))}return h}within(e,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:s,coords:i,nodeSize:o}=this,l=[0,s.length-1,0],u=[],h=r*r;l.length;){var f=l.pop()||0,g=l.pop()||0,p=l.pop()||0;if(g-p<=o){for(var v=p;v<=g;v++)fF(i[2*v],i[2*v+1],e,n)<=h&&u.push(s[v]);continue}var w=p+g>>1,E=i[2*w],S=i[2*w+1];fF(E,S,e,n)<=h&&u.push(s[w]),(f===0?e-r<=E:n-r<=S)&&(l.push(p),l.push(w-1),l.push(1-f)),(f===0?e+r>=E:n+r>=S)&&(l.push(w+1),l.push(g),l.push(1-f))}return u}}function pT(t,e,n,r,s,i){if(!(s-r<=n)){var o=r+s>>1;VW(t,e,o,r,s,i),pT(t,e,n,r,o-1,1-i),pT(t,e,n,o+1,s,1-i)}}function VW(t,e,n,r,s,i){for(;s>r;){if(s-r>600){var o=s-r+1,l=n-r+1,u=Math.log(o),h=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*h*(o-h)/o)*(l-o/2<0?-1:1),g=Math.max(r,Math.floor(n-l*h/o+f)),p=Math.min(s,Math.floor(n+(o-l)*h/o+f));VW(t,e,n,g,p,i)}var v=e[2*n+i],w=r,E=s;for(kg(t,e,r,n),e[2*s+i]>v&&kg(t,e,r,s);w<E;){for(kg(t,e,w,E),w++,E--;e[2*w+i]<v;)w++;for(;e[2*E+i]>v;)E--}e[2*r+i]===v?kg(t,e,r,E):(E++,kg(t,e,E,s)),E<=n&&(r=E+1),n<=E&&(s=E-1)}}function kg(t,e,n,r){mC(t,n,r),mC(e,2*n,2*r),mC(e,2*n+1,2*r+1)}function mC(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function fF(t,e,n,r){var s=t-n,i=e-r;return s*s+i*i}var W4e={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},mF=Math.fround||(t=>e=>(t[0]=+e,t[0]))(new Float32Array(1)),Jd=2,Bu=3,pC=4,Du=5,HW=6;class K4e{constructor(e){this.options=Object.assign(Object.create(W4e),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:n,minZoom:r,maxZoom:s}=this.options;n&&console.time("total time");var i="prepare ".concat(e.length," points");n&&console.time(i),this.points=e;for(var o=[],l=0;l<e.length;l++){var u=e[l];if(u.geometry){var[h,f]=u.geometry.coordinates,g=mF($x(h)),p=mF(Vx(f));o.push(g,p,1/0,l,-1,1),this.options.reduce&&o.push(0)}}var v=this.trees[s+1]=this._createTree(o);n&&console.timeEnd(i);for(var w=s;w>=r;w--){var E=+Date.now();v=this.trees[w]=this._createTree(this._cluster(v,w)),n&&console.log("z%d: %d clusters in %dms",w,v.numItems,+Date.now()-E)}return n&&console.timeEnd("total time"),this}getClusters(e,n){var r=((e[0]+180)%360+360)%360-180,s=Math.max(-90,Math.min(90,e[1])),i=e[2]===180?180:((e[2]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,i=180;else if(r>i){var l=this.getClusters([r,s,180,o],n),u=this.getClusters([-180,s,i,o],n);return l.concat(u)}var h=this.trees[this._limitZoom(n)],f=h.range($x(r),Vx(o),$x(i),Vx(s)),g=h.data,p=[];for(var v of f){var w=this.stride*v;p.push(g[w+Du]>1?pF(g,w,this.clusterProps):this.points[g[w+Bu]])}return p}getChildren(e){var n=this._getOriginId(e),r=this._getOriginZoom(e),s="No cluster with the specified id.",i=this.trees[r];if(!i)throw new Error(s);var o=i.data;if(n*this.stride>=o.length)throw new Error(s);var l=this.options.radius/(this.options.extent*Math.pow(2,r-1)),u=o[n*this.stride],h=o[n*this.stride+1],f=i.within(u,h,l),g=[];for(var p of f){var v=p*this.stride;o[v+pC]===e&&g.push(o[v+Du]>1?pF(o,v,this.clusterProps):this.points[o[v+Bu]])}if(g.length===0)throw new Error(s);return g}getLeaves(e,n,r){n=n||10,r=r||0;var s=[];return this._appendLeaves(s,e,n,r,0),s}getTile(e,n,r){var s=this.trees[this._limitZoom(e)],i=Math.pow(2,e),{extent:o,radius:l}=this.options,u=l/o,h=(r-u)/i,f=(r+1+u)/i,g={features:[]};return this._addTileFeatures(s.range((n-u)/i,h,(n+1+u)/i,f),s.data,n,r,i,g),n===0&&this._addTileFeatures(s.range(1-u/i,h,1,f),s.data,i,r,i,g),n===i-1&&this._addTileFeatures(s.range(0,h,u/i,f),s.data,-1,r,i,g),g.features.length?g:null}getClusterExpansionZoom(e){for(var n=this._getOriginZoom(e)-1;n<=this.options.maxZoom;){var r=this.getChildren(e);if(n++,r.length!==1)break;e=r[0].properties.cluster_id}return n}_appendLeaves(e,n,r,s,i){var o=this.getChildren(n);for(var l of o){var u=l.properties;if(u&&u.cluster?i+u.point_count<=s?i+=u.point_count:i=this._appendLeaves(e,u.cluster_id,r,s,i):i<s?i++:e.push(l),e.length===r)break}return i}_createTree(e){for(var n=new KL(e.length/this.stride|0,this.options.nodeSize,Float32Array),r=0;r<e.length;r+=this.stride)n.add(e[r],e[r+1]);return n.finish(),n.data=e,n}_addTileFeatures(e,n,r,s,i,o){for(var l of e){var u=l*this.stride,h=n[u+Du]>1,f=void 0,g=void 0,p=void 0;if(h)f=GW(n,u,this.clusterProps),g=n[u],p=n[u+1];else{var v=this.points[n[u+Bu]];f=v.properties;var[w,E]=v.geometry.coordinates;g=$x(w),p=Vx(E)}var S={type:1,geometry:[[Math.round(this.options.extent*(g*i-r)),Math.round(this.options.extent*(p*i-s))]],tags:f},C=void 0;h||this.options.generateId?C=n[u+Bu]:C=this.points[n[u+Bu]].id,C!==void 0&&(S.id=C),o.features.push(S)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,n){for(var{radius:r,extent:s,reduce:i,minPoints:o}=this.options,l=r/(s*Math.pow(2,n)),u=e.data,h=[],f=this.stride,g=0;g<u.length;g+=f)if(!(u[g+Jd]<=n)){u[g+Jd]=n;var p=u[g],v=u[g+1],w=e.within(u[g],u[g+1],l),E=u[g+Du],S=E;for(var C of w){var O=C*f;u[O+Jd]>n&&(S+=u[O+Du])}if(S>E&&S>=o){var I=p*E,D=v*E,T=void 0,F=-1,y=((g/f|0)<<5)+(n+1)+this.points.length;for(var A of w){var _=A*f;if(!(u[_+Jd]<=n)){u[_+Jd]=n;var L=u[_+Du];I+=u[_]*L,D+=u[_+1]*L,u[_+pC]=y,i&&(T||(T=this._map(u,g,!0),F=this.clusterProps.length,this.clusterProps.push(T)),i(T,this._map(u,_)))}}u[g+pC]=y,h.push(I/S,D/S,1/0,y,-1,S),i&&h.push(F)}else{for(var R=0;R<f;R++)h.push(u[g+R]);if(S>1)for(var U of w){var P=U*f;if(!(u[P+Jd]<=n)){u[P+Jd]=n;for(var K=0;K<f;K++)h.push(u[P+K])}}}}return h}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,n,r){if(e[n+Du]>1){var s=this.clusterProps[e[n+HW]];return r?Object.assign({},s):s}var i=this.points[e[n+Bu]].properties,o=this.options.map(i);return r&&o===i?Object.assign({},o):o}}function pF(t,e,n){return{type:"Feature",id:t[e+Bu],properties:GW(t,e,n),geometry:{type:"Point",coordinates:[Y4e(t[e]),X4e(t[e+1])]}}}function GW(t,e,n){var r=t[e+Du],s=r>=1e4?"".concat(Math.round(r/1e3),"k"):r>=1e3?"".concat(Math.round(r/100)/10,"k"):r,i=t[e+HW],o=i===-1?{}:Object.assign({},n[i]);return Object.assign(o,{cluster:!0,cluster_id:t[e+Bu],point_count:r,point_count_abbreviated:s})}function $x(t){return t/360+.5}function Vx(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function Y4e(t){return(t-.5)*360}function X4e(t){var e=(180-t*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function J4e(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}class zi{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,n){this.isAdvancedMarker(e)?e.map=n:e.setMap(n)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class gT{constructor(e){var{markers:n,position:r}=e;this.markers=n,r&&(r instanceof google.maps.LatLng?this._position=r:this._position=new google.maps.LatLng(r))}get bounds(){if(!(this.markers.length===0&&!this._position)){var e=new google.maps.LatLngBounds(this._position,this._position);for(var n of this.markers)e.extend(zi.getPosition(n));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>zi.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(zi.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class Q4e{constructor(e){var{maxZoom:n=16}=e;this.maxZoom=n}noop(e){var{markers:n}=e;return Z4e(n)}}var Z4e=t=>{var e=t.map(n=>new gT({position:zi.getPosition(n),markers:[n]}));return e};class eRe extends Q4e{constructor(e){var{maxZoom:n,radius:r=60}=e,s=J4e(e,["maxZoom","radius"]);super({maxZoom:n}),this.state={zoom:-1},this.superCluster=new K4e(Object.assign({maxZoom:this.maxZoom,radius:r},s))}calculate(e){var n=!1,r={zoom:e.map.getZoom()};if(!dF(e.markers,this.markers)){n=!0,this.markers=[...e.markers];var s=this.markers.map(i=>{var o=zi.getPosition(i),l=[o.lng(),o.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:l},properties:{marker:i}}});this.superCluster.load(s)}return n||(this.state.zoom<=this.maxZoom||r.zoom<=this.maxZoom)&&(n=!dF(this.state,r)),this.state=r,n&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:n}}cluster(e){var{map:n}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(n.getZoom())).map(r=>this.transformCluster(r))}transformCluster(e){var{geometry:{coordinates:[n,r]},properties:s}=e;if(s.cluster)return new gT({markers:this.superCluster.getLeaves(s.cluster_id,1/0).map(o=>o.properties.marker),position:{lat:r,lng:n}});var i=s.marker;return new gT({markers:[i],position:zi.getPosition(i)})}}class tRe{constructor(e,n){this.markers={sum:e.length};var r=n.map(i=>i.count),s=r.reduce((i,o)=>i+o,0);this.clusters={count:n.length,markers:{mean:s/n.length,sum:s,min:Math.min(...r),max:Math.max(...r)}}}}class nRe{render(e,n,r){var{count:s,position:i}=e,o=s>Math.max(10,n.clusters.markers.mean)?"#ff0000":"#0000ff",l='<svg fill="'.concat(o,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(s,`</text>
</svg>`),u="Cluster of ".concat(s," markers"),h=Number(google.maps.Marker.MAX_ZINDEX)+s;if(zi.isAdvancedMarkerAvailable(r)){var f=new DOMParser,g=f.parseFromString(l,"image/svg+xml").documentElement;g.setAttribute("transform","translate(0 25)");var p={map:r,position:i,zIndex:h,title:u,content:g};return new google.maps.marker.AdvancedMarkerElement(p)}var v={position:i,zIndex:h,title:u,icon:{url:"data:image/svg+xml;base64,".concat(btoa(l)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(v)}}function rRe(t,e){for(var n in e.prototype)t.prototype[n]=e.prototype[n]}class YL{constructor(){rRe(YL,google.maps.OverlayView)}}var m0;(function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click"})(m0||(m0={}));var sRe=(t,e,n)=>{n.fitBounds(e.bounds)};class aRe extends YL{constructor(e){var{map:n,markers:r=[],algorithmOptions:s={},algorithm:i=new eRe(s),renderer:o=new nRe,onClusterClick:l=sRe}=e;super(),this.markers=[...r],this.clusters=[],this.algorithm=i,this.renderer=o,this.onClusterClick=l,n&&this.setMap(n)}addMarker(e,n){this.markers.includes(e)||(this.markers.push(e),n||this.render())}addMarkers(e,n){e.forEach(r=>{this.addMarker(r,!0)}),n||this.render()}removeMarker(e,n){var r=this.markers.indexOf(e);return r===-1?!1:(zi.setMap(e,null),this.markers.splice(r,1),n||this.render(),!0)}removeMarkers(e,n){var r=!1;return e.forEach(s=>{r=this.removeMarker(s,!0)||r}),r&&!n&&this.render(),r}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,m0.CLUSTERING_BEGIN,this);var{clusters:n,changed:r}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(r||r==null){var s=new Set;for(var i of n)i.markers.length==1&&s.add(i.markers[0]);var o=[];for(var l of this.clusters)l.marker!=null&&(l.markers.length==1?s.has(l.marker)||zi.setMap(l.marker,null):o.push(l.marker));this.clusters=n,this.renderClusters(),requestAnimationFrame(()=>o.forEach(u=>zi.setMap(u,null)))}google.maps.event.trigger(this,m0.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>zi.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){var e=new tRe(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(r=>{r.markers.length===1?r.marker=r.markers[0]:(r.marker=this.renderer.render(r,e,n),r.markers.forEach(s=>zi.setMap(s,null)),this.onClusterClick&&r.marker.addListener("click",s=>{google.maps.event.trigger(this,m0.CLUSTER_CLICK,r),this.onClusterClick(s,r,n)})),zi.setMap(r.marker,n)})}}function gF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function vF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gF(Object(n),!0).forEach(function(r){$e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iRe(t){var e=e4e(),[n,r]=j.useState(null);return j.useEffect(()=>{if(e&&n===null){var s=new aRe(vF(vF({},t),{},{map:e}));r(s)}},[e]),n}function oRe(t){var{children:e,options:n}=t,r=iRe(n);return r!==null?e(r):null}j.memo(oRe);var yF={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},xF={options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},zIndex(t,e){t.setZIndex(e)}};function lRe(t){var{children:e,anchor:n,options:r,position:s,zIndex:i,onCloseClick:o,onDomReady:l,onContentChanged:u,onPositionChanged:h,onZindexChanged:f,onLoad:g,onUnmount:p}=t,v=j.useContext(gn),[w,E]=j.useState(null),[S,C]=j.useState(null),[O,I]=j.useState(null),[D,T]=j.useState(null),[F,y]=j.useState(null),[A,_]=j.useState(null),L=j.useRef(null);return j.useEffect(()=>{w!==null&&(w.close(),n?w.open(v,n):w.getPosition()&&w.open(v))},[v,w,n]),j.useEffect(()=>{r&&w!==null&&w.setOptions(r)},[w,r]),j.useEffect(()=>{s&&w!==null&&w.setPosition(s)},[s]),j.useEffect(()=>{typeof i=="number"&&w!==null&&w.setZIndex(i)},[i]),j.useEffect(()=>{w&&o&&(S!==null&&google.maps.event.removeListener(S),C(google.maps.event.addListener(w,"closeclick",o)))},[o]),j.useEffect(()=>{w&&l&&(O!==null&&google.maps.event.removeListener(O),I(google.maps.event.addListener(w,"domready",l)))},[l]),j.useEffect(()=>{w&&u&&(D!==null&&google.maps.event.removeListener(D),T(google.maps.event.addListener(w,"content_changed",u)))},[u]),j.useEffect(()=>{w&&h&&(F!==null&&google.maps.event.removeListener(F),y(google.maps.event.addListener(w,"position_changed",h)))},[h]),j.useEffect(()=>{w&&f&&(A!==null&&google.maps.event.removeListener(A),_(google.maps.event.addListener(w,"zindex_changed",f)))},[f]),j.useEffect(()=>{var R=new google.maps.InfoWindow(r);return E(R),L.current=document.createElement("div"),o&&C(google.maps.event.addListener(R,"closeclick",o)),l&&I(google.maps.event.addListener(R,"domready",l)),u&&T(google.maps.event.addListener(R,"content_changed",u)),h&&y(google.maps.event.addListener(R,"position_changed",h)),f&&_(google.maps.event.addListener(R,"zindex_changed",f)),R.setContent(L.current),s&&R.setPosition(s),i&&R.setZIndex(i),n?R.open(v,n):R.getPosition()?R.open(v):Vs(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),g&&g(R),()=>{S&&google.maps.event.removeListener(S),D&&google.maps.event.removeListener(D),O&&google.maps.event.removeListener(O),F&&google.maps.event.removeListener(F),A&&google.maps.event.removeListener(A),p&&p(R),R.close()}},[]),L.current?Oh.createPortal(j.Children.only(e),L.current):null}j.memo(lRe);class cRe extends j.PureComponent{constructor(){super(...arguments),$e(this,"registeredEvents",[]),$e(this,"containerElement",null),$e(this,"state",{infoWindow:null}),$e(this,"open",(e,n)=>{n?e.open(this.context,n):e.getPosition()?e.open(this.context):Vs(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),$e(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=Sn({updaterMap:xF,eventMap:yF,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){this.state.infoWindow!==null&&(Tn(this.registeredEvents),this.registeredEvents=Sn({updaterMap:xF,eventMap:yF,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(Tn(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?Oh.createPortal(j.Children.only(this.props.children),this.containerElement):null}}$e(cRe,"contextType",gn);function bF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Cb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bF(Object(n),!0).forEach(function(r){$e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var wF={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},_F={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},visible(t,e){t.setVisible(e)}},uRe={};function dRe(t){var{options:e,draggable:n,editable:r,visible:s,path:i,onDblClick:o,onDragEnd:l,onDragStart:u,onMouseDown:h,onMouseMove:f,onMouseOut:g,onMouseOver:p,onMouseUp:v,onRightClick:w,onClick:E,onDrag:S,onLoad:C,onUnmount:O}=t,I=j.useContext(gn),[D,T]=j.useState(null),[F,y]=j.useState(null),[A,_]=j.useState(null),[L,R]=j.useState(null),[U,P]=j.useState(null),[K,G]=j.useState(null),[re,Z]=j.useState(null),[me,ie]=j.useState(null),[W,ve]=j.useState(null),[Q,ne]=j.useState(null),[te,X]=j.useState(null),[be,Ne]=j.useState(null);return j.useEffect(()=>{D!==null&&D.setMap(I)},[I]),j.useEffect(()=>{typeof e<"u"&&D!==null&&D.setOptions(e)},[D,e]),j.useEffect(()=>{typeof n<"u"&&D!==null&&D.setDraggable(n)},[D,n]),j.useEffect(()=>{typeof r<"u"&&D!==null&&D.setEditable(r)},[D,r]),j.useEffect(()=>{typeof s<"u"&&D!==null&&D.setVisible(s)},[D,s]),j.useEffect(()=>{typeof i<"u"&&D!==null&&D.setPath(i)},[D,i]),j.useEffect(()=>{D&&o&&(F!==null&&google.maps.event.removeListener(F),y(google.maps.event.addListener(D,"dblclick",o)))},[o]),j.useEffect(()=>{D&&l&&(A!==null&&google.maps.event.removeListener(A),_(google.maps.event.addListener(D,"dragend",l)))},[l]),j.useEffect(()=>{D&&u&&(L!==null&&google.maps.event.removeListener(L),R(google.maps.event.addListener(D,"dragstart",u)))},[u]),j.useEffect(()=>{D&&h&&(U!==null&&google.maps.event.removeListener(U),P(google.maps.event.addListener(D,"mousedown",h)))},[h]),j.useEffect(()=>{D&&f&&(K!==null&&google.maps.event.removeListener(K),G(google.maps.event.addListener(D,"mousemove",f)))},[f]),j.useEffect(()=>{D&&g&&(re!==null&&google.maps.event.removeListener(re),Z(google.maps.event.addListener(D,"mouseout",g)))},[g]),j.useEffect(()=>{D&&p&&(me!==null&&google.maps.event.removeListener(me),ie(google.maps.event.addListener(D,"mouseover",p)))},[p]),j.useEffect(()=>{D&&v&&(W!==null&&google.maps.event.removeListener(W),ve(google.maps.event.addListener(D,"mouseup",v)))},[v]),j.useEffect(()=>{D&&w&&(Q!==null&&google.maps.event.removeListener(Q),ne(google.maps.event.addListener(D,"rightclick",w)))},[w]),j.useEffect(()=>{D&&E&&(te!==null&&google.maps.event.removeListener(te),X(google.maps.event.addListener(D,"click",E)))},[E]),j.useEffect(()=>{D&&S&&(be!==null&&google.maps.event.removeListener(be),Ne(google.maps.event.addListener(D,"drag",S)))},[S]),j.useEffect(()=>{var Ee=new google.maps.Polyline(Cb(Cb({},e||uRe),{},{map:I}));return i&&Ee.setPath(i),typeof s<"u"&&Ee.setVisible(s),typeof r<"u"&&Ee.setEditable(r),typeof n<"u"&&Ee.setDraggable(n),o&&y(google.maps.event.addListener(Ee,"dblclick",o)),l&&_(google.maps.event.addListener(Ee,"dragend",l)),u&&R(google.maps.event.addListener(Ee,"dragstart",u)),h&&P(google.maps.event.addListener(Ee,"mousedown",h)),f&&G(google.maps.event.addListener(Ee,"mousemove",f)),g&&Z(google.maps.event.addListener(Ee,"mouseout",g)),p&&ie(google.maps.event.addListener(Ee,"mouseover",p)),v&&ve(google.maps.event.addListener(Ee,"mouseup",v)),w&&ne(google.maps.event.addListener(Ee,"rightclick",w)),E&&X(google.maps.event.addListener(Ee,"click",E)),S&&Ne(google.maps.event.addListener(Ee,"drag",S)),T(Ee),C&&C(Ee),()=>{F!==null&&google.maps.event.removeListener(F),A!==null&&google.maps.event.removeListener(A),L!==null&&google.maps.event.removeListener(L),U!==null&&google.maps.event.removeListener(U),K!==null&&google.maps.event.removeListener(K),re!==null&&google.maps.event.removeListener(re),me!==null&&google.maps.event.removeListener(me),W!==null&&google.maps.event.removeListener(W),Q!==null&&google.maps.event.removeListener(Q),te!==null&&google.maps.event.removeListener(te),O&&O(Ee),Ee.setMap(null)}},[]),null}j.memo(dRe);class hRe extends j.PureComponent{constructor(){super(...arguments),$e(this,"registeredEvents",[]),$e(this,"state",{polyline:null}),$e(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var e=new google.maps.Polyline(Cb(Cb({},this.props.options),{},{map:this.context}));this.registeredEvents=Sn({updaterMap:_F,eventMap:wF,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){this.state.polyline!==null&&(Tn(this.registeredEvents),this.registeredEvents=Sn({updaterMap:_F,eventMap:wF,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),Tn(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}$e(hRe,"contextType",gn);function jF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function EF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jF(Object(n),!0).forEach(function(r){$e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var SF={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},CF={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},paths(t,e){t.setPaths(e)},visible(t,e){t.setVisible(e)}};function fRe(t){var{options:e,draggable:n,editable:r,visible:s,path:i,paths:o,onDblClick:l,onDragEnd:u,onDragStart:h,onMouseDown:f,onMouseMove:g,onMouseOut:p,onMouseOver:v,onMouseUp:w,onRightClick:E,onClick:S,onDrag:C,onLoad:O,onUnmount:I,onEdit:D}=t,T=j.useContext(gn),[F,y]=j.useState(null),[A,_]=j.useState(null),[L,R]=j.useState(null),[U,P]=j.useState(null),[K,G]=j.useState(null),[re,Z]=j.useState(null),[me,ie]=j.useState(null),[W,ve]=j.useState(null),[Q,ne]=j.useState(null),[te,X]=j.useState(null),[be,Ne]=j.useState(null),[Ee,Ie]=j.useState(null);return j.useEffect(()=>{F!==null&&F.setMap(T)},[T]),j.useEffect(()=>{typeof e<"u"&&F!==null&&F.setOptions(e)},[F,e]),j.useEffect(()=>{typeof n<"u"&&F!==null&&F.setDraggable(n)},[F,n]),j.useEffect(()=>{typeof r<"u"&&F!==null&&F.setEditable(r)},[F,r]),j.useEffect(()=>{typeof s<"u"&&F!==null&&F.setVisible(s)},[F,s]),j.useEffect(()=>{typeof i<"u"&&F!==null&&F.setPath(i)},[F,i]),j.useEffect(()=>{typeof o<"u"&&F!==null&&F.setPaths(o)},[F,o]),j.useEffect(()=>{F&&typeof l=="function"&&(A!==null&&google.maps.event.removeListener(A),_(google.maps.event.addListener(F,"dblclick",l)))},[l]),j.useEffect(()=>{F&&(google.maps.event.addListener(F.getPath(),"insert_at",()=>{D==null||D(F)}),google.maps.event.addListener(F.getPath(),"set_at",()=>{D==null||D(F)}),google.maps.event.addListener(F.getPath(),"remove_at",()=>{D==null||D(F)}))},[F,D]),j.useEffect(()=>{F&&typeof u=="function"&&(L!==null&&google.maps.event.removeListener(L),R(google.maps.event.addListener(F,"dragend",u)))},[u]),j.useEffect(()=>{F&&typeof h=="function"&&(U!==null&&google.maps.event.removeListener(U),P(google.maps.event.addListener(F,"dragstart",h)))},[h]),j.useEffect(()=>{F&&typeof f=="function"&&(K!==null&&google.maps.event.removeListener(K),G(google.maps.event.addListener(F,"mousedown",f)))},[f]),j.useEffect(()=>{F&&typeof g=="function"&&(re!==null&&google.maps.event.removeListener(re),Z(google.maps.event.addListener(F,"mousemove",g)))},[g]),j.useEffect(()=>{F&&typeof p=="function"&&(me!==null&&google.maps.event.removeListener(me),ie(google.maps.event.addListener(F,"mouseout",p)))},[p]),j.useEffect(()=>{F&&typeof v=="function"&&(W!==null&&google.maps.event.removeListener(W),ve(google.maps.event.addListener(F,"mouseover",v)))},[v]),j.useEffect(()=>{F&&typeof w=="function"&&(Q!==null&&google.maps.event.removeListener(Q),ne(google.maps.event.addListener(F,"mouseup",w)))},[w]),j.useEffect(()=>{F&&typeof E=="function"&&(te!==null&&google.maps.event.removeListener(te),X(google.maps.event.addListener(F,"rightclick",E)))},[E]),j.useEffect(()=>{F&&typeof S=="function"&&(be!==null&&google.maps.event.removeListener(be),Ne(google.maps.event.addListener(F,"click",S)))},[S]),j.useEffect(()=>{F&&typeof C=="function"&&(Ee!==null&&google.maps.event.removeListener(Ee),Ie(google.maps.event.addListener(F,"drag",C)))},[C]),j.useEffect(()=>{var _e=new google.maps.Polygon(EF(EF({},e),{},{map:T}));return i&&_e.setPath(i),o&&_e.setPaths(o),typeof s<"u"&&_e.setVisible(s),typeof r<"u"&&_e.setEditable(r),typeof n<"u"&&_e.setDraggable(n),l&&_(google.maps.event.addListener(_e,"dblclick",l)),u&&R(google.maps.event.addListener(_e,"dragend",u)),h&&P(google.maps.event.addListener(_e,"dragstart",h)),f&&G(google.maps.event.addListener(_e,"mousedown",f)),g&&Z(google.maps.event.addListener(_e,"mousemove",g)),p&&ie(google.maps.event.addListener(_e,"mouseout",p)),v&&ve(google.maps.event.addListener(_e,"mouseover",v)),w&&ne(google.maps.event.addListener(_e,"mouseup",w)),E&&X(google.maps.event.addListener(_e,"rightclick",E)),S&&Ne(google.maps.event.addListener(_e,"click",S)),C&&Ie(google.maps.event.addListener(_e,"drag",C)),y(_e),O&&O(_e),()=>{A!==null&&google.maps.event.removeListener(A),L!==null&&google.maps.event.removeListener(L),U!==null&&google.maps.event.removeListener(U),K!==null&&google.maps.event.removeListener(K),re!==null&&google.maps.event.removeListener(re),me!==null&&google.maps.event.removeListener(me),W!==null&&google.maps.event.removeListener(W),Q!==null&&google.maps.event.removeListener(Q),te!==null&&google.maps.event.removeListener(te),be!==null&&google.maps.event.removeListener(be),I&&I(_e),_e.setMap(null)}},[]),null}j.memo(fRe);class mRe extends j.PureComponent{constructor(){super(...arguments),$e(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=Sn({updaterMap:CF,eventMap:SF,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&(Tn(this.registeredEvents),this.registeredEvents=Sn({updaterMap:CF,eventMap:SF,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),Tn(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}$e(mRe,"contextType",gn);function NF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Nb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NF(Object(n),!0).forEach(function(r){$e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var TF={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},AF={bounds(t,e){t.setBounds(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},visible(t,e){t.setVisible(e)}};function pRe(t){var{options:e,bounds:n,draggable:r,editable:s,visible:i,onDblClick:o,onDragEnd:l,onDragStart:u,onMouseDown:h,onMouseMove:f,onMouseOut:g,onMouseOver:p,onMouseUp:v,onRightClick:w,onClick:E,onDrag:S,onBoundsChanged:C,onLoad:O,onUnmount:I}=t,D=j.useContext(gn),[T,F]=j.useState(null),[y,A]=j.useState(null),[_,L]=j.useState(null),[R,U]=j.useState(null),[P,K]=j.useState(null),[G,re]=j.useState(null),[Z,me]=j.useState(null),[ie,W]=j.useState(null),[ve,Q]=j.useState(null),[ne,te]=j.useState(null),[X,be]=j.useState(null),[Ne,Ee]=j.useState(null),[Ie,_e]=j.useState(null);return j.useEffect(()=>{T!==null&&T.setMap(D)},[D]),j.useEffect(()=>{typeof e<"u"&&T!==null&&T.setOptions(e)},[T,e]),j.useEffect(()=>{typeof r<"u"&&T!==null&&T.setDraggable(r)},[T,r]),j.useEffect(()=>{typeof s<"u"&&T!==null&&T.setEditable(s)},[T,s]),j.useEffect(()=>{typeof i<"u"&&T!==null&&T.setVisible(i)},[T,i]),j.useEffect(()=>{typeof n<"u"&&T!==null&&T.setBounds(n)},[T,n]),j.useEffect(()=>{T&&o&&(y!==null&&google.maps.event.removeListener(y),A(google.maps.event.addListener(T,"dblclick",o)))},[o]),j.useEffect(()=>{T&&l&&(_!==null&&google.maps.event.removeListener(_),L(google.maps.event.addListener(T,"dragend",l)))},[l]),j.useEffect(()=>{T&&u&&(R!==null&&google.maps.event.removeListener(R),U(google.maps.event.addListener(T,"dragstart",u)))},[u]),j.useEffect(()=>{T&&h&&(P!==null&&google.maps.event.removeListener(P),K(google.maps.event.addListener(T,"mousedown",h)))},[h]),j.useEffect(()=>{T&&f&&(G!==null&&google.maps.event.removeListener(G),re(google.maps.event.addListener(T,"mousemove",f)))},[f]),j.useEffect(()=>{T&&g&&(Z!==null&&google.maps.event.removeListener(Z),me(google.maps.event.addListener(T,"mouseout",g)))},[g]),j.useEffect(()=>{T&&p&&(ie!==null&&google.maps.event.removeListener(ie),W(google.maps.event.addListener(T,"mouseover",p)))},[p]),j.useEffect(()=>{T&&v&&(ve!==null&&google.maps.event.removeListener(ve),Q(google.maps.event.addListener(T,"mouseup",v)))},[v]),j.useEffect(()=>{T&&w&&(ne!==null&&google.maps.event.removeListener(ne),te(google.maps.event.addListener(T,"rightclick",w)))},[w]),j.useEffect(()=>{T&&E&&(X!==null&&google.maps.event.removeListener(X),be(google.maps.event.addListener(T,"click",E)))},[E]),j.useEffect(()=>{T&&S&&(Ne!==null&&google.maps.event.removeListener(Ne),Ee(google.maps.event.addListener(T,"drag",S)))},[S]),j.useEffect(()=>{T&&C&&(Ie!==null&&google.maps.event.removeListener(Ie),_e(google.maps.event.addListener(T,"bounds_changed",C)))},[C]),j.useEffect(()=>{var Ue=new google.maps.Rectangle(Nb(Nb({},e),{},{map:D}));return typeof i<"u"&&Ue.setVisible(i),typeof s<"u"&&Ue.setEditable(s),typeof r<"u"&&Ue.setDraggable(r),typeof n<"u"&&Ue.setBounds(n),o&&A(google.maps.event.addListener(Ue,"dblclick",o)),l&&L(google.maps.event.addListener(Ue,"dragend",l)),u&&U(google.maps.event.addListener(Ue,"dragstart",u)),h&&K(google.maps.event.addListener(Ue,"mousedown",h)),f&&re(google.maps.event.addListener(Ue,"mousemove",f)),g&&me(google.maps.event.addListener(Ue,"mouseout",g)),p&&W(google.maps.event.addListener(Ue,"mouseover",p)),v&&Q(google.maps.event.addListener(Ue,"mouseup",v)),w&&te(google.maps.event.addListener(Ue,"rightclick",w)),E&&be(google.maps.event.addListener(Ue,"click",E)),S&&Ee(google.maps.event.addListener(Ue,"drag",S)),C&&_e(google.maps.event.addListener(Ue,"bounds_changed",C)),F(Ue),O&&O(Ue),()=>{y!==null&&google.maps.event.removeListener(y),_!==null&&google.maps.event.removeListener(_),R!==null&&google.maps.event.removeListener(R),P!==null&&google.maps.event.removeListener(P),G!==null&&google.maps.event.removeListener(G),Z!==null&&google.maps.event.removeListener(Z),ie!==null&&google.maps.event.removeListener(ie),ve!==null&&google.maps.event.removeListener(ve),ne!==null&&google.maps.event.removeListener(ne),X!==null&&google.maps.event.removeListener(X),Ne!==null&&google.maps.event.removeListener(Ne),Ie!==null&&google.maps.event.removeListener(Ie),I&&I(Ue),Ue.setMap(null)}},[]),null}j.memo(pRe);class gRe extends j.PureComponent{constructor(){super(...arguments),$e(this,"registeredEvents",[]),$e(this,"state",{rectangle:null}),$e(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var e=new google.maps.Rectangle(Nb(Nb({},this.props.options),{},{map:this.context}));this.registeredEvents=Sn({updaterMap:AF,eventMap:TF,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){this.state.rectangle!==null&&(Tn(this.registeredEvents),this.registeredEvents=Sn({updaterMap:AF,eventMap:TF,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),Tn(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}$e(gRe,"contextType",gn);function LF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Tb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LF(Object(n),!0).forEach(function(r){$e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var RF={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},kF={center(t,e){t.setCenter(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},radius(t,e){t.setRadius(e)},visible(t,e){t.setVisible(e)}},vRe={};function yRe(t){var{options:e,center:n,radius:r,draggable:s,editable:i,visible:o,onDblClick:l,onDragEnd:u,onDragStart:h,onMouseDown:f,onMouseMove:g,onMouseOut:p,onMouseOver:v,onMouseUp:w,onRightClick:E,onClick:S,onDrag:C,onCenterChanged:O,onRadiusChanged:I,onLoad:D,onUnmount:T}=t,F=j.useContext(gn),[y,A]=j.useState(null),[_,L]=j.useState(null),[R,U]=j.useState(null),[P,K]=j.useState(null),[G,re]=j.useState(null),[Z,me]=j.useState(null),[ie,W]=j.useState(null),[ve,Q]=j.useState(null),[ne,te]=j.useState(null),[X,be]=j.useState(null),[Ne,Ee]=j.useState(null),[Ie,_e]=j.useState(null),[Ue,tt]=j.useState(null),[ct,ut]=j.useState(null);return j.useEffect(()=>{y!==null&&y.setMap(F)},[F]),j.useEffect(()=>{typeof e<"u"&&y!==null&&y.setOptions(e)},[y,e]),j.useEffect(()=>{typeof s<"u"&&y!==null&&y.setDraggable(s)},[y,s]),j.useEffect(()=>{typeof i<"u"&&y!==null&&y.setEditable(i)},[y,i]),j.useEffect(()=>{typeof o<"u"&&y!==null&&y.setVisible(o)},[y,o]),j.useEffect(()=>{typeof r=="number"&&y!==null&&y.setRadius(r)},[y,r]),j.useEffect(()=>{typeof n<"u"&&y!==null&&y.setCenter(n)},[y,n]),j.useEffect(()=>{y&&l&&(_!==null&&google.maps.event.removeListener(_),L(google.maps.event.addListener(y,"dblclick",l)))},[l]),j.useEffect(()=>{y&&u&&(R!==null&&google.maps.event.removeListener(R),U(google.maps.event.addListener(y,"dragend",u)))},[u]),j.useEffect(()=>{y&&h&&(P!==null&&google.maps.event.removeListener(P),K(google.maps.event.addListener(y,"dragstart",h)))},[h]),j.useEffect(()=>{y&&f&&(G!==null&&google.maps.event.removeListener(G),re(google.maps.event.addListener(y,"mousedown",f)))},[f]),j.useEffect(()=>{y&&g&&(Z!==null&&google.maps.event.removeListener(Z),me(google.maps.event.addListener(y,"mousemove",g)))},[g]),j.useEffect(()=>{y&&p&&(ie!==null&&google.maps.event.removeListener(ie),W(google.maps.event.addListener(y,"mouseout",p)))},[p]),j.useEffect(()=>{y&&v&&(ve!==null&&google.maps.event.removeListener(ve),Q(google.maps.event.addListener(y,"mouseover",v)))},[v]),j.useEffect(()=>{y&&w&&(ne!==null&&google.maps.event.removeListener(ne),te(google.maps.event.addListener(y,"mouseup",w)))},[w]),j.useEffect(()=>{y&&E&&(X!==null&&google.maps.event.removeListener(X),be(google.maps.event.addListener(y,"rightclick",E)))},[E]),j.useEffect(()=>{y&&S&&(Ne!==null&&google.maps.event.removeListener(Ne),Ee(google.maps.event.addListener(y,"click",S)))},[S]),j.useEffect(()=>{y&&C&&(Ie!==null&&google.maps.event.removeListener(Ie),_e(google.maps.event.addListener(y,"drag",C)))},[C]),j.useEffect(()=>{y&&O&&(Ue!==null&&google.maps.event.removeListener(Ue),tt(google.maps.event.addListener(y,"center_changed",O)))},[S]),j.useEffect(()=>{y&&I&&(ct!==null&&google.maps.event.removeListener(ct),ut(google.maps.event.addListener(y,"radius_changed",I)))},[I]),j.useEffect(()=>{var Ye=new google.maps.Circle(Tb(Tb({},e||vRe),{},{map:F}));return typeof r=="number"&&Ye.setRadius(r),typeof n<"u"&&Ye.setCenter(n),typeof r=="number"&&Ye.setRadius(r),typeof o<"u"&&Ye.setVisible(o),typeof i<"u"&&Ye.setEditable(i),typeof s<"u"&&Ye.setDraggable(s),l&&L(google.maps.event.addListener(Ye,"dblclick",l)),u&&U(google.maps.event.addListener(Ye,"dragend",u)),h&&K(google.maps.event.addListener(Ye,"dragstart",h)),f&&re(google.maps.event.addListener(Ye,"mousedown",f)),g&&me(google.maps.event.addListener(Ye,"mousemove",g)),p&&W(google.maps.event.addListener(Ye,"mouseout",p)),v&&Q(google.maps.event.addListener(Ye,"mouseover",v)),w&&te(google.maps.event.addListener(Ye,"mouseup",w)),E&&be(google.maps.event.addListener(Ye,"rightclick",E)),S&&Ee(google.maps.event.addListener(Ye,"click",S)),C&&_e(google.maps.event.addListener(Ye,"drag",C)),O&&tt(google.maps.event.addListener(Ye,"center_changed",O)),I&&ut(google.maps.event.addListener(Ye,"radius_changed",I)),A(Ye),D&&D(Ye),()=>{_!==null&&google.maps.event.removeListener(_),R!==null&&google.maps.event.removeListener(R),P!==null&&google.maps.event.removeListener(P),G!==null&&google.maps.event.removeListener(G),Z!==null&&google.maps.event.removeListener(Z),ie!==null&&google.maps.event.removeListener(ie),ve!==null&&google.maps.event.removeListener(ve),ne!==null&&google.maps.event.removeListener(ne),X!==null&&google.maps.event.removeListener(X),Ne!==null&&google.maps.event.removeListener(Ne),Ue!==null&&google.maps.event.removeListener(Ue),ct!==null&&google.maps.event.removeListener(ct),T&&T(Ye),Ye.setMap(null)}},[]),null}j.memo(yRe);class xRe extends j.PureComponent{constructor(){super(...arguments),$e(this,"registeredEvents",[]),$e(this,"state",{circle:null}),$e(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var e=new google.maps.Circle(Tb(Tb({},this.props.options),{},{map:this.context}));this.registeredEvents=Sn({updaterMap:kF,eventMap:RF,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){this.state.circle!==null&&(Tn(this.registeredEvents),this.registeredEvents=Sn({updaterMap:kF,eventMap:RF,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var e;this.props.onUnmount&&this.props.onUnmount(this.state.circle),Tn(this.registeredEvents),(e=this.state.circle)===null||e===void 0||e.setMap(null)}}render(){return null}}$e(xRe,"contextType",gn);function OF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Ab(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OF(Object(n),!0).forEach(function(r){$e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var IF={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},PF={add(t,e){t.add(e)},addgeojson(t,e,n){t.addGeoJson(e,n)},contains(t,e){t.contains(e)},foreach(t,e){t.forEach(e)},loadgeojson(t,e,n,r){t.loadGeoJson(e,n,r)},overridestyle(t,e,n){t.overrideStyle(e,n)},remove(t,e){t.remove(e)},revertstyle(t,e){t.revertStyle(e)},controlposition(t,e){t.setControlPosition(e)},controls(t,e){t.setControls(e)},drawingmode(t,e){t.setDrawingMode(e)},map(t,e){t.setMap(e)},style(t,e){t.setStyle(e)},togeojson(t,e){t.toGeoJson(e)}};function bRe(t){var{options:e,onClick:n,onDblClick:r,onMouseDown:s,onMouseMove:i,onMouseOut:o,onMouseOver:l,onMouseUp:u,onRightClick:h,onAddFeature:f,onRemoveFeature:g,onRemoveProperty:p,onSetGeometry:v,onSetProperty:w,onLoad:E,onUnmount:S}=t,C=j.useContext(gn),[O,I]=j.useState(null),[D,T]=j.useState(null),[F,y]=j.useState(null),[A,_]=j.useState(null),[L,R]=j.useState(null),[U,P]=j.useState(null),[K,G]=j.useState(null),[re,Z]=j.useState(null),[me,ie]=j.useState(null),[W,ve]=j.useState(null),[Q,ne]=j.useState(null),[te,X]=j.useState(null),[be,Ne]=j.useState(null),[Ee,Ie]=j.useState(null);return j.useEffect(()=>{O!==null&&O.setMap(C)},[C]),j.useEffect(()=>{O&&r&&(D!==null&&google.maps.event.removeListener(D),T(google.maps.event.addListener(O,"dblclick",r)))},[r]),j.useEffect(()=>{O&&s&&(F!==null&&google.maps.event.removeListener(F),y(google.maps.event.addListener(O,"mousedown",s)))},[s]),j.useEffect(()=>{O&&i&&(A!==null&&google.maps.event.removeListener(A),_(google.maps.event.addListener(O,"mousemove",i)))},[i]),j.useEffect(()=>{O&&o&&(L!==null&&google.maps.event.removeListener(L),R(google.maps.event.addListener(O,"mouseout",o)))},[o]),j.useEffect(()=>{O&&l&&(U!==null&&google.maps.event.removeListener(U),P(google.maps.event.addListener(O,"mouseover",l)))},[l]),j.useEffect(()=>{O&&u&&(K!==null&&google.maps.event.removeListener(K),G(google.maps.event.addListener(O,"mouseup",u)))},[u]),j.useEffect(()=>{O&&h&&(re!==null&&google.maps.event.removeListener(re),Z(google.maps.event.addListener(O,"rightclick",h)))},[h]),j.useEffect(()=>{O&&n&&(me!==null&&google.maps.event.removeListener(me),ie(google.maps.event.addListener(O,"click",n)))},[n]),j.useEffect(()=>{O&&f&&(W!==null&&google.maps.event.removeListener(W),ve(google.maps.event.addListener(O,"addfeature",f)))},[f]),j.useEffect(()=>{O&&g&&(Q!==null&&google.maps.event.removeListener(Q),ne(google.maps.event.addListener(O,"removefeature",g)))},[g]),j.useEffect(()=>{O&&p&&(te!==null&&google.maps.event.removeListener(te),X(google.maps.event.addListener(O,"removeproperty",p)))},[p]),j.useEffect(()=>{O&&v&&(be!==null&&google.maps.event.removeListener(be),Ne(google.maps.event.addListener(O,"setgeometry",v)))},[v]),j.useEffect(()=>{O&&w&&(Ee!==null&&google.maps.event.removeListener(Ee),Ie(google.maps.event.addListener(O,"setproperty",w)))},[w]),j.useEffect(()=>{if(C!==null){var _e=new google.maps.Data(Ab(Ab({},e),{},{map:C}));r&&T(google.maps.event.addListener(_e,"dblclick",r)),s&&y(google.maps.event.addListener(_e,"mousedown",s)),i&&_(google.maps.event.addListener(_e,"mousemove",i)),o&&R(google.maps.event.addListener(_e,"mouseout",o)),l&&P(google.maps.event.addListener(_e,"mouseover",l)),u&&G(google.maps.event.addListener(_e,"mouseup",u)),h&&Z(google.maps.event.addListener(_e,"rightclick",h)),n&&ie(google.maps.event.addListener(_e,"click",n)),f&&ve(google.maps.event.addListener(_e,"addfeature",f)),g&&ne(google.maps.event.addListener(_e,"removefeature",g)),p&&X(google.maps.event.addListener(_e,"removeproperty",p)),v&&Ne(google.maps.event.addListener(_e,"setgeometry",v)),w&&Ie(google.maps.event.addListener(_e,"setproperty",w)),I(_e),E&&E(_e)}return()=>{O&&(D!==null&&google.maps.event.removeListener(D),F!==null&&google.maps.event.removeListener(F),A!==null&&google.maps.event.removeListener(A),L!==null&&google.maps.event.removeListener(L),U!==null&&google.maps.event.removeListener(U),K!==null&&google.maps.event.removeListener(K),re!==null&&google.maps.event.removeListener(re),me!==null&&google.maps.event.removeListener(me),W!==null&&google.maps.event.removeListener(W),Q!==null&&google.maps.event.removeListener(Q),te!==null&&google.maps.event.removeListener(te),be!==null&&google.maps.event.removeListener(be),Ee!==null&&google.maps.event.removeListener(Ee),S&&S(O),O.setMap(null))}},[]),null}j.memo(bRe);class wRe extends j.PureComponent{constructor(){super(...arguments),$e(this,"registeredEvents",[]),$e(this,"state",{data:null}),$e(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var e=new google.maps.Data(Ab(Ab({},this.props.options),{},{map:this.context}));this.registeredEvents=Sn({updaterMap:PF,eventMap:IF,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){this.state.data!==null&&(Tn(this.registeredEvents),this.registeredEvents=Sn({updaterMap:PF,eventMap:IF,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),Tn(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}$e(wRe,"contextType",gn);function DF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function MF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DF(Object(n),!0).forEach(function(r){$e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var FF={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},BF={options(t,e){t.setOptions(e)},url(t,e){t.setUrl(e)},zIndex(t,e){t.setZIndex(e)}};class _Re extends j.PureComponent{constructor(){super(...arguments),$e(this,"registeredEvents",[]),$e(this,"state",{kmlLayer:null}),$e(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var e=new google.maps.KmlLayer(MF(MF({},this.props.options),{},{map:this.context}));this.registeredEvents=Sn({updaterMap:BF,eventMap:FF,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){this.state.kmlLayer!==null&&(Tn(this.registeredEvents),this.registeredEvents=Sn({updaterMap:BF,eventMap:FF,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),Tn(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}$e(_Re,"contextType",gn);function WW(t,e){return typeof e=="function"?e(t.offsetWidth,t.offsetHeight):{x:0,y:0}}function jRe(t,e){return new e(t.lat,t.lng)}function ERe(t,e){return new e(new google.maps.LatLng(t.ne.lat,t.ne.lng),new google.maps.LatLng(t.sw.lat,t.sw.lng))}function SRe(t,e,n){return t instanceof e?t:n(t,e)}function CRe(t,e,n){return t instanceof e?t:n(t,e)}function NRe(t,e,n){var r=t&&t.fromLatLngToDivPixel(n.getNorthEast()),s=t&&t.fromLatLngToDivPixel(n.getSouthWest());return r&&s?{left:"".concat(s.x+e.x,"px"),top:"".concat(r.y+e.y,"px"),width:"".concat(r.x-s.x-e.x,"px"),height:"".concat(s.y-r.y-e.y,"px")}:{left:"-9999px",top:"-9999px"}}function TRe(t,e,n){var r=t&&t.fromLatLngToDivPixel(n);if(r){var{x:s,y:i}=r;return{left:"".concat(s+e.x,"px"),top:"".concat(i+e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function KW(t,e,n,r){return n!==void 0?NRe(t,e,CRe(n,google.maps.LatLngBounds,ERe)):TRe(t,e,SRe(r,google.maps.LatLng,jRe))}function ARe(t,e){return t.left===e.left&&t.top===e.top&&t.width===e.height&&t.height===e.height}function UF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function LRe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UF(Object(n),!0).forEach(function(r){$e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RRe(t,e,n,r,s){class i extends google.maps.OverlayView{constructor(l,u,h,f){super(),this.container=l,this.pane=u,this.position=h,this.bounds=f}onAdd(){var l,u=(l=this.getPanes())===null||l===void 0?void 0:l[this.pane];u==null||u.appendChild(this.container)}draw(){var l=this.getProjection(),u=LRe({},this.container?WW(this.container,s):{x:0,y:0}),h=KW(l,u,this.bounds,this.position);for(var[f,g]of Object.entries(h))this.container.style[f]=g}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new i(t,e,n,r)}function zF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function kRe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zF(Object(n),!0).forEach(function(r){$e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qF(t){if(!t)return"";var e=t instanceof google.maps.LatLng?t:new google.maps.LatLng(t.lat,t.lng);return e+""}function $F(t){if(!t)return"";var e=t instanceof google.maps.LatLngBounds?t:new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.east),new google.maps.LatLng(t.north,t.west));return e+""}function ORe(t){var{position:e,bounds:n,mapPaneName:r,zIndex:s,onLoad:i,onUnmount:o,getPixelPositionOffset:l,children:u}=t,h=j.useContext(gn),f=j.useMemo(()=>{var p=document.createElement("div");return p.style.position="absolute",p},[]),g=j.useMemo(()=>RRe(f,r,e,n,l),[f,r,e,n]);return j.useEffect(()=>(i==null||i(g),g==null||g.setMap(h),()=>{o==null||o(g),g==null||g.setMap(null)}),[h,g]),j.useEffect(()=>{f.style.zIndex="".concat(s)},[s,f]),Oh.createPortal(u,f)}j.memo(ORe);class Np extends j.PureComponent{constructor(e){super(e),$e(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),$e(this,"updatePane",()=>{var r=this.props.mapPaneName,s=this.overlayView.getPanes();Vs(!!r,"OverlayView requires props.mapPaneName but got %s",r),s?this.setState({paneEl:s[r]}):this.setState({paneEl:null})}),$e(this,"onAdd",()=>{var r,s;this.updatePane(),(r=(s=this.props).onLoad)===null||r===void 0||r.call(s,this.overlayView)}),$e(this,"onPositionElement",()=>{var r=this.overlayView.getProjection(),s=kRe({x:0,y:0},this.containerRef.current?WW(this.containerRef.current,this.props.getPixelPositionOffset):{}),i=KW(r,s,this.props.bounds,this.props.position);if(!ARe(i,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var o,l,u,h;this.setState({containerStyle:{top:(o=i.top)!==null&&o!==void 0?o:0,left:(l=i.left)!==null&&l!==void 0?l:0,width:(u=i.width)!==null&&u!==void 0?u:0,height:(h=i.height)!==null&&h!==void 0?h:0,position:"absolute"}})}}),$e(this,"draw",()=>{this.onPositionElement()}),$e(this,"onRemove",()=>{var r,s;this.setState(()=>({paneEl:null})),(r=(s=this.props).onUnmount)===null||r===void 0||r.call(s,this.overlayView)}),this.containerRef=j.createRef();var n=new google.maps.OverlayView;n.onAdd=this.onAdd,n.draw=this.draw,n.onRemove=this.onRemove,this.overlayView=n}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var n=qF(e.position),r=qF(this.props.position),s=$F(e.bounds),i=$F(this.props.bounds);(n!==r||s!==i)&&this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?Oh.createPortal(a.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:j.Children.only(this.props.children)}),e):null}}$e(Np,"FLOAT_PANE","floatPane");$e(Np,"MAP_PANE","mapPane");$e(Np,"MARKER_LAYER","markerLayer");$e(Np,"OVERLAY_LAYER","overlayLayer");$e(Np,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");$e(Np,"contextType",gn);function IRe(){}function VF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function HF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VF(Object(n),!0).forEach(function(r){$e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var GF={onDblClick:"dblclick",onClick:"click"},WF={opacity(t,e){t.setOpacity(e)}};function PRe(t){var{url:e,bounds:n,options:r,visible:s}=t,i=j.useContext(gn),o=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east)),l=j.useMemo(()=>new google.maps.GroundOverlay(e,o,r),[]);return j.useEffect(()=>{l!==null&&l.setMap(i)},[i]),j.useEffect(()=>{typeof e<"u"&&l!==null&&(l.set("url",e),l.setMap(i))},[l,e]),j.useEffect(()=>{typeof s<"u"&&l!==null&&l.setOpacity(s?1:0)},[l,s]),j.useEffect(()=>{var u=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east));typeof n<"u"&&l!==null&&(l.set("bounds",u),l.setMap(i))},[l,n]),null}j.memo(PRe);class YW extends j.PureComponent{constructor(){super(...arguments),$e(this,"registeredEvents",[]),$e(this,"state",{groundOverlay:null}),$e(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){Vs(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,HF(HF({},this.props.options),{},{map:this.context}));this.registeredEvents=Sn({updaterMap:WF,eventMap:GF,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){this.state.groundOverlay!==null&&(Tn(this.registeredEvents),this.registeredEvents=Sn({updaterMap:WF,eventMap:GF,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}$e(YW,"defaultProps",{onLoad:IRe});$e(YW,"contextType",gn);function KF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Lb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KF(Object(n),!0).forEach(function(r){$e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var YF={},XF={data(t,e){t.setData(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)}};function DRe(t){var{data:e,onLoad:n,onUnmount:r,options:s}=t,i=j.useContext(gn),[o,l]=j.useState(null);return j.useEffect(()=>{google.maps.visualization||Vs(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),j.useEffect(()=>{Vs(!!e,"data property is required in HeatmapLayer %s",e)},[e]),j.useEffect(()=>{o!==null&&o.setMap(i)},[i]),j.useEffect(()=>{s&&o!==null&&o.setOptions(s)},[o,s]),j.useEffect(()=>{var u=new google.maps.visualization.HeatmapLayer(Lb(Lb({},s),{},{data:e,map:i}));return l(u),n&&n(u),()=>{o!==null&&(r&&r(o),o.setMap(null))}},[]),null}j.memo(DRe);class MRe extends j.PureComponent{constructor(){super(...arguments),$e(this,"registeredEvents",[]),$e(this,"state",{heatmapLayer:null}),$e(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){Vs(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),Vs(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(Lb(Lb({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=Sn({updaterMap:XF,eventMap:YF,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){Tn(this.registeredEvents),this.registeredEvents=Sn({updaterMap:XF,eventMap:YF,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),Tn(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}$e(MRe,"contextType",gn);var JF={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},QF={register(t,e,n){t.registerPanoProvider(e,n)},links(t,e){t.setLinks(e)},motionTracking(t,e){t.setMotionTracking(e)},options(t,e){t.setOptions(e)},pano(t,e){t.setPano(e)},position(t,e){t.setPosition(e)},pov(t,e){t.setPov(e)},visible(t,e){t.setVisible(e)},zoom(t,e){t.setZoom(e)}};class FRe extends j.PureComponent{constructor(){super(...arguments),$e(this,"registeredEvents",[]),$e(this,"state",{streetViewPanorama:null}),$e(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var e,n,r=(e=(n=this.context)===null||n===void 0?void 0:n.getStreetView())!==null&&e!==void 0?e:null;this.registeredEvents=Sn({updaterMap:QF,eventMap:JF,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({streetViewPanorama:r}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){this.state.streetViewPanorama!==null&&(Tn(this.registeredEvents),this.registeredEvents=Sn({updaterMap:QF,eventMap:JF,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),Tn(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}$e(FRe,"contextType",gn);class BRe extends j.PureComponent{constructor(){super(...arguments),$e(this,"state",{streetViewService:null}),$e(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}$e(BRe,"contextType",gn);var ZF={onDirectionsChanged:"directions_changed"},e7={directions(t,e){t.setDirections(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},panel(t,e){t.setPanel(e)},routeIndex(t,e){t.setRouteIndex(e)}};class URe extends j.PureComponent{constructor(){super(...arguments),$e(this,"registeredEvents",[]),$e(this,"state",{directionsRenderer:null}),$e(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=Sn({updaterMap:e7,eventMap:ZF,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){this.state.directionsRenderer!==null&&(Tn(this.registeredEvents),this.registeredEvents=Sn({updaterMap:e7,eventMap:ZF,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),Tn(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}$e(URe,"contextType",gn);var t7={onPlacesChanged:"places_changed"},n7={bounds(t,e){t.setBounds(e)}};class zRe extends j.PureComponent{constructor(){super(...arguments),$e(this,"registeredEvents",[]),$e(this,"containerElement",j.createRef()),$e(this,"state",{searchBox:null}),$e(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(Vs(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var e=this.containerElement.current.querySelector("input");if(e!==null){var n=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=Sn({updaterMap:n7,eventMap:t7,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{searchBox:n}},this.setSearchBoxCallback)}}}componentDidUpdate(e){this.state.searchBox!==null&&(Tn(this.registeredEvents),this.registeredEvents=Sn({updaterMap:n7,eventMap:t7,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),Tn(this.registeredEvents))}render(){return a.jsx("div",{ref:this.containerElement,children:j.Children.only(this.props.children)})}}$e(zRe,"contextType",gn);var r7={onPlaceChanged:"place_changed"},s7={bounds(t,e){t.setBounds(e)},restrictions(t,e){t.setComponentRestrictions(e)},fields(t,e){t.setFields(e)},options(t,e){t.setOptions(e)},types(t,e){t.setTypes(e)}};class XW extends j.PureComponent{constructor(){super(...arguments),$e(this,"registeredEvents",[]),$e(this,"containerElement",j.createRef()),$e(this,"state",{autocomplete:null}),$e(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var e;Vs(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var n=(e=this.containerElement.current)===null||e===void 0?void 0:e.querySelector("input");if(n){var r=new google.maps.places.Autocomplete(n,this.props.options);this.registeredEvents=Sn({updaterMap:s7,eventMap:r7,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({autocomplete:r}),this.setAutocompleteCallback)}}componentDidUpdate(e){Tn(this.registeredEvents),this.registeredEvents=Sn({updaterMap:s7,eventMap:r7,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&Tn(this.registeredEvents)}render(){return a.jsx("div",{ref:this.containerElement,className:this.props.className,children:j.Children.only(this.props.children)})}}$e(XW,"defaultProps",{className:""});$e(XW,"contextType",gn);const qRe={width:"100%",height:"400px"},$Re={lat:11.967,lng:121.924};function Ci({onLocationSelect:t,name:e,resetKey:n}){const{isLoaded:r}=zW({googleMapsApiKey:"AIzaSyB12zV70G4pEPERWnWPiC69_BZhw_5Af9k"}),[s,i]=j.useState(null);j.useEffect(()=>{i(null),t&&t({lat:"11.967",lng:"121.924"},"")},[n]);const o=l=>{const u=l.latLng.lat(),h=l.latLng.lng(),f={lat:u,lng:h};i(f);const g=e?`http://maps.google.com/?q=${encodeURIComponent(e)}&sll=${u},${h}`:`https://www.google.com/maps/search/?api=1&query=${u},${h}`;t&&t(f,g)};return a.jsxs(x.Group,{controlId:"formMapLocation",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Select Location"}),r?a.jsx(DW,{mapContainerStyle:qRe,center:s||$Re,zoom:15,onClick:o,children:s&&a.jsx(WL,{position:s})}):a.jsx("div",{children:"Loading Map..."})]})}const Mo=({storyForm:t,setStoryForm:e,caption:n,editingItem:r,dropzoneName:s,previewName:i})=>{const o=j.useCallback(f=>{const g=f[0];g&&e(p=>({...p,logo:g}))},[e]),{getRootProps:l,getInputProps:u}=Ht({onDrop:o,accept:"image/png, image/jpeg, image/jpg"}),h=t.logo instanceof File?URL.createObjectURL(t.logo):t.logo||r||null;return a.jsxs(B,{...l(),className:`${s} text-center w-100 ${h?"border-success":""}`,children:[a.jsx("input",{...u(),accept:"image/*"}),h&&t.logo?a.jsx("img",{src:h,alt:"Header Image Preview",className:i,style:{objectFit:"contain"}}):a.jsxs("p",{className:"text-muted",children:[n," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})},qn=({onChange:t,label:e="Select Option",options:n=[],resetKey:r,editingItems:s=[]})=>{const[i,o]=j.useState(s),[l,u]=j.useState(""),[h,f]=j.useState(n),[g,p]=j.useState(!1);j.useEffect(()=>{(o.length>0||o!=="")&&(o([]),u(""),t([]))},[r]),j.useEffect(()=>{Array.isArray(s)&&!v(i,s)&&o(s)},[s]);const v=(C,O)=>C.length!==O.length?!1:C.every((I,D)=>I===O[D]),w=C=>{const O=C.target.value;u(O),f(O?n.filter(I=>I.toLowerCase().includes(O.toLowerCase())):n)},E=C=>{if(C&&!i.includes(C)){const O=[...i,C];o(O),t(O)}u(""),p(!1)},S=C=>{const O=i.filter(I=>I!==C);o(O),t(O)};return a.jsxs(x.Group,{controlId:"selectionFieldWidget",children:[a.jsx(x.Label,{className:"label",children:e}),a.jsxs("div",{style:{position:"relative"},children:[a.jsx(x.Control,{type:"text",placeholder:`Search ${e} and click the selected option`,value:l,onChange:w,onFocus:()=>{f(n),p(!0)},onBlur:()=>setTimeout(()=>p(!1),200)}),g&&a.jsx(nj,{className:"position-absolute w-100 shadow bg-white",style:{zIndex:10,maxHeight:"200px",overflowY:"auto"},children:h.length>0?h.map((C,O)=>a.jsx(nj.Item,{action:!0,onMouseDown:()=>E(C),style:{cursor:"pointer"},children:C},O)):a.jsx(nj.Item,{disabled:!0,children:"No matching options"})})]}),a.jsx("div",{className:"mt-3 mb-3",children:i.map((C,O)=>a.jsxs(JT,{bg:"light",className:"me-2 mb-2",style:{color:"#1F89B2",border:"1px solid #1F89B2",borderRadius:"10px",paddingLeft:"10px",paddingRight:"10px"},children:[C,a.jsx(se,{variant:"link",size:"sm",onClick:()=>S(C),style:{color:"#1F89B2",textDecoration:"none",padding:"0 5px"},children:""})]},O))})]})},Rs=({dataForm:t,setDataForm:e,caption:n,dropzoneName:r,previewName:s,maxImages:i=10})=>{var f,g,p,v,w;const o=j.useCallback(E=>{E.length>0&&e(S=>{const C=[...S.images||[],...E];return C.length>i?(xe.fire({icon:"error",title:"Upload Limit Exceeded",text:`You can only upload up to ${i} images.`,confirmButtonColor:"#d33"}),{...S,images:C.slice(0,i)}):{...S,images:C}})},[e,i]),{getRootProps:l,getInputProps:u}=Ht({onDrop:o,accept:"image/png, image/jpeg, image/jpg",multiple:!0,maxFiles:i-(((f=t.images)==null?void 0:f.length)||0)}),h=()=>{e(E=>({...E,images:[]}))};return a.jsxs(B,{className:"text-center w-100",children:[a.jsxs(V,{className:"d-md-flex flex-md-column flex-lg-row align-items-center",children:[a.jsx(z,{md:12,lg:4,className:"order-lg-1 order-md-2 col",children:a.jsxs("div",{...l(),className:`${r} p-3 border rounded ${(g=t.images)!=null&&g.length?"border-success":""}`,style:{cursor:"pointer"},children:[a.jsx("input",{...u(),accept:"image/*"}),a.jsxs("p",{className:"text-muted",children:[n," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose Files"}),a.jsx("br",{}),a.jsx("strong",{children:i-(((p=t.images)==null?void 0:p.length)||0)})," images left to upload"]})]})}),a.jsx(z,{md:12,lg:8,className:"order-lg-2 order-md-1  col",children:a.jsx("div",{className:"d-flex flex-wrap justify-content-center align-items-center gap-2 border border-secondary rounded p-2",style:{borderWidth:"1px",minHeight:"200px",flexDirection:t.images.length>0?"row":"column"},children:(v=t.images)==null?void 0:v.map((E,S)=>{const C=E instanceof File?URL.createObjectURL(E):E;return a.jsxs("div",{className:"position-relative",style:{width:"85px",height:"85px",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",border:"1px solid gray",borderRadius:"10px"},children:[a.jsx("img",{src:C,alt:`Preview ${S+1}`,className:`${s} rounded m-2`,style:{width:"85px",height:"85px",objectFit:"contain",borderRadius:"10px"}}),a.jsx(se,{variant:"danger",size:"sm",className:"position-absolute top-0 end-0 m-1 d-flex align-items-center justify-content-center",onClick:()=>{e(O=>({...O,images:O.images.filter((I,D)=>D!==S)}))},style:{width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center",padding:0,fontSize:"14px",lineHeight:"14px",borderRadius:"50%"},children:""})]},S)})})})]}),((w=t.images)==null?void 0:w.length)>0&&a.jsx(B,{className:"d-flex justify-content-end mb-4",children:a.jsx(se,{variant:"outline-danger",className:"mt-3",onClick:h,children:"Reset Images"})})]})};class vT{constructor(){this.id="",this.name="",this.category="",this.subcategory="",this.classification="",this.accreditation="",this.ratings="",this.established="",this.lowest="",this.slogan="",this.description="",this.facilities=[],this.amenities=[],this.awards=[],this.images=[],this.roomtypes=[],this.operatinghours=[],this.inclusivity=[],this.accessibility="",this.logo=null,this.headerImage=null,this.website="",this.address={street:"",barangay:"",town:"",region:"",province:"",country:"",lat:"",long:""},this.link="",this.geo="",this.socials=[],this.memberships=[],this.note=""}toJSON(){return{...this}}}const $a={accommodations:["Resort","Hotel","Mabuhay Accommodation","Apartment Hotel/Apartel"],mainlandMalayHotels:["Resort","Hotel","Mabuhay Accommodation","Apartment Hotel/Apartel"],resorts:["Mainland Activity Resort"],restaurants:["Fine Dining","Buffet","Casual Dining","Pop-up","Fast Foood","Bistro","Pub"],barsAndPartyClubs:["Cocktail Bar","Live Music Bar","Lounges","Sports Bar","Entertainment Bars","Dance Clubs","Rooftop Clubs"],cafeAndCoworking:["Classic Caf","Breakfast Caf","Coworking Caf","Brunch Caf","Pub Caf","Open Coworking Space"],tourguides:["Local Tour Guide","Regional Tour Guide","Community Guide","Eco Guide"],travelAndTourOperators:["Local","Foreign"],touristActivityProviders:["Water Activity Provider","Aqua Sports Provider","Land Activity Provider","Aerial Activity Provider","Food & Beverage Provider","Transport Provider"],MICEFacilities:["Convention Center","Conference Rooms","Meeting Rooms","Ballrooms, Exhibition Halls"],eventsPlanningCompanies:["Wedding Planner","Corporate Event Planner","Conference Planner"],touristAndSpecialtyShops:["Souvenir Shop","Gift Shop","Local Market","Wet Market","Tattoo Shop"],spaAndWellnessCentres:["Spa Treatments","Massage Salon"],gymnsAndFitnessClubs:["Commercial Gymn","Boxing Club","Ballet Club","Dance Studio","Yoga Studio"],touristLandTransportOperators:["Shuttle Service","Car/Van Rental","Tour Bus Company","Airport Transfer Service","Taxi Operator"],touristAirTransportOperators:["Airline Service","Helicopter Service"],passengerShipLines:["Ferry Service","Ocean Liner"],parkingSpaces:["Parkling Lot"],hospitalsAndClinics:["General Hospital","Heath-care Center","General Veterinaryc Care","General Dentistry"]},Ni=["Boracay Island","Mainland Malay","Caticlan Area (Near Airport and Jetty)","Nearby Town","Capital Town, Kalibo","Municipality of Malay","Aklan Province"],Tp=["PWD-friendly","Pet-friendly","Senior Citizen Friendly","Kid-friendly","Muslim-friendly","Gender-friendly","Budget-friendly","Vegan-friendly","Allergen-friendly"],Fo=["Beachfront","Beside Main/Commercial Road","Beside Access Road","Private Road","Coastal Area","Riverside","Hillside (With Road Access)","Forest Area (Trail Walk)","Forest Area (With Community Guide)"],Yw=["Single","Standard Double","Standard Twin Room","Deluxe Double Room","Deluxe Triple Room","Deluxe Family Room","Studio Room or Apartment","Junior Suite","Executive Suite","Presidential Suite","Bunk Bed","Villa","Triple Room","Quad Room","Connecting Room","Cabana"],Ap=["Reception & Concierge Desk","Parking Area","CCTV Protected","Indoor Dining","Basic Fitness Center","Spa & Wellness Center","Swimming Pool","Pool Bar","Rooftop Bar / Lounge","Game Room & Entertainment Areas","Playgrounds & Kids Areas","Private Beach Access","Banquet & Event Halls","Business & Conference Rooms","Indoor Cafe"],Xw=["Housekeeping Service","Wi-Fi Internet Access","Toiletries","Smart TV & Entertainment","Air Conditioning","Minibar & Coffee Maker","Bathrobe & Slippers","In-Room Safe","Airport Transfers","Shuttle Services","Pet-Friendly Services","IT Assistance","Complimentary Breakfast","Laundry Services","24/7 Security Guard","Golf Course Access"];/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 *//**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */let yT;try{yT={window,document}}catch{/* istanbul ignore next -- @preserve */yT={window:{},document:{}}}var rv=yT;/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function a7(){return function t(){t.called=!0}}class lp{constructor(e,n){we(this,"source");we(this,"name");we(this,"path");we(this,"stop");we(this,"off");we(this,"return");this.source=e,this.name=n,this.path=[],this.stop=a7(),this.off=a7()}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const Oa=new Array(256).fill("").map((t,e)=>("0"+e.toString(16)).slice(-2));function Jw(){const[t,e,n,r]=crypto.getRandomValues(new Uint32Array(4));return"e"+Oa[t>>0&255]+Oa[t>>8&255]+Oa[t>>16&255]+Oa[t>>24&255]+Oa[e>>0&255]+Oa[e>>8&255]+Oa[e>>16&255]+Oa[e>>24&255]+Oa[n>>0&255]+Oa[n>>8&255]+Oa[n>>16&255]+Oa[n>>24&255]+Oa[r>>0&255]+Oa[r>>8&255]+Oa[r>>16&255]+Oa[r>>24&255]}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const xT={get(t="normal"){return typeof t!="number"?this[t]||this.normal:t},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function VRe(t,e){const n=xT.get(e.priority);let r=0,s=t.length;for(;r<s;){const i=r+s>>1;xT.get(t[i].priority)<n?s=i:r=i+1}t.splice(r,0,e)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const HRe="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class lt extends Error{constructor(n,r,s){super(GRe(n,s));we(this,"context");we(this,"data");this.name="CKEditorError",this.context=r,this.data=s}is(n){return n==="CKEditorError"}static rethrowUnexpectedError(n,r){if(n.is&&n.is("CKEditorError"))throw n;const s=new lt(n.message,r);throw s.stack=n.stack,s}}function bT(t,e){console.warn(...WRe(t,e))}function JW(t){return`
Read more: ${HRe}#error-${t}`}function GRe(t,e){const n=new WeakSet,s=e?` ${JSON.stringify(e,(o,l)=>{if(typeof l=="object"&&l!==null){if(n.has(l))return`[object ${l.constructor.name}]`;n.add(l)}return l})}`:"",i=JW(t);return t+s+i}function WRe(t,e){const n=JW(t);return e?[t,e,n]:[t,n]}const KRe="44.2.1";/* istanbul ignore next -- @preserve */if(globalThis.CKEDITOR_VERSION)throw new lt("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=KRe;const gm=Symbol("listeningTo"),wT=Symbol("emitterId"),Nc=Symbol("delegations"),QW=ea(Object);function ea(t){if(!t)return QW;class e extends t{on(r,s,i){this.listenTo(this,r,s,i)}once(r,s,i){let o=!1;const l=(u,...h)=>{o||(o=!0,u.off(),s.call(this,u,...h))};this.listenTo(this,r,l,i)}off(r,s){this.stopListening(this,r,s)}listenTo(r,s,i,o={}){let l,u;this[gm]||(this[gm]={});const h=this[gm];gC(r)||ZW(r);const f=gC(r);(l=h[f])||(l=h[f]={emitter:r,callbacks:{}}),(u=l.callbacks[s])||(u=l.callbacks[s]=[]),u.push(i),ZRe(this,r,s,i,o)}stopListening(r,s,i){const o=this[gm];let l=r&&gC(r);const u=o&&l?o[l]:void 0,h=u&&s?u.callbacks[s]:void 0;if(!(!o||r&&!u||s&&!h))if(i)vC(this,r,s,i),h.indexOf(i)!==-1&&(h.length===1?delete u.callbacks[s]:vC(this,r,s,i));else if(h){for(;i=h.pop();)vC(this,r,s,i);delete u.callbacks[s]}else if(u){for(s in u.callbacks)this.stopListening(r,s);delete o[l]}else{for(l in o)this.stopListening(o[l].emitter);delete this[gm]}}fire(r,...s){try{const i=r instanceof lp?r:new lp(this,r),o=i.name;let l=QRe(this,o);if(i.path.push(this),l){l=l.slice();for(let h=0;h<l.length;h++){const f=l[h].callback;if(f.call(this,i,...s),i.off.called&&(delete i.off.called,this._removeEventListener(o,f)),i.stop.called)break}}const u=this[Nc];if(u){const h=u.get(o),f=u.get("*");h&&i7(h,i,s),f&&i7(f,i,s)}return i.return}catch(i){/* istanbul ignore next -- @preserve */lt.rethrowUnexpectedError(i,this)}}delegate(...r){return{to:(s,i)=>{this[Nc]||(this[Nc]=new Map),r.forEach(o=>{const l=this[Nc].get(o);l?l.set(s,i):this[Nc].set(o,new Map([[s,i]]))})}}}stopDelegating(r,s){if(this[Nc])if(!r)this[Nc].clear();else if(!s)this[Nc].delete(r);else{const i=this[Nc].get(r);i&&i.delete(s)}}_addEventListener(r,s,i){JRe(this,r);const o=_T(this,r),l=xT.get(i.priority),u={callback:s,priority:l};for(const h of o)VRe(h,u)}_removeEventListener(r,s){const i=_T(this,r);for(const o of i)for(let l=0;l<o.length;l++)o[l].callback==s&&(o.splice(l,1),l--)}}return e}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(t=>{ea[t]=QW.prototype[t]});function YRe(t,e){const n=t[gm];return n&&n[e]?n[e].emitter:null}function ZW(t,e){t[wT]||(t[wT]=e||Jw())}function gC(t){return t[wT]}function eK(t){return t._events||Object.defineProperty(t,"_events",{value:{}}),t._events}function XRe(){return{callbacks:[],childEvents:[]}}function JRe(t,e){const n=eK(t);if(n[e])return;let r=e,s=null;const i=[];for(;r!==""&&!n[r];)n[r]=XRe(),i.push(n[r]),s&&n[r].childEvents.push(s),s=r,r=r.substr(0,r.lastIndexOf(":"));if(r!==""){for(const o of i)o.callbacks=n[r].callbacks.slice();n[r].childEvents.push(s)}}function _T(t,e){const n=eK(t)[e];if(!n)return[];let r=[n.callbacks];for(let s=0;s<n.childEvents.length;s++){const i=_T(t,n.childEvents[s]);r=r.concat(i)}return r}function QRe(t,e){if(!t._events)return null;let n=e;do{const r=t._events[n];if(r&&r.callbacks&&r.callbacks.length)return r.callbacks;const s=n.lastIndexOf(":");n=s>-1?n.substring(0,s):""}while(n);return null}function i7(t,e,n){for(let[r,s]of t){s?typeof s=="function"&&(s=s(e.name)):s=e.name;const i=new lp(e.source,s);i.path=[...e.path],r.fire(i,...n)}}function ZRe(t,e,n,r,s){e._addEventListener?e._addEventListener(n,r,s):t._addEventListener.call(e,n,r,s)}function vC(t,e,n,r){e._removeEventListener?e._removeEventListener(n,r):t._removeEventListener.call(e,n,r)}const p0=Symbol("observableProperties"),sv=Symbol("boundObservables"),g0=Symbol("boundProperties"),Qd=Symbol("decoratedMethods"),o7=Symbol("decoratedOriginal"),tK=XL(ea());function XL(t){var n,r,s,i,o;if(!t)return tK;class e extends(o=t,i=p0,s=Qd,r=g0,n=sv,o){constructor(){super(...arguments);we(this,i);we(this,s);we(this,r);we(this,n)}set(h,f){if(cl(h)){Object.keys(h).forEach(p=>{this.set(p,h[p])},this);return}yC(this);const g=this[p0];if(h in this&&!g.has(h))throw new lt("observable-set-cannot-override",this);Object.defineProperty(this,h,{enumerable:!0,configurable:!0,get(){return g.get(h)},set(p){const v=g.get(h);let w=this.fire(`set:${h}`,h,p,v);w===void 0&&(w=p),(v!==w||!g.has(h))&&(g.set(h,w),this.fire(`change:${h}`,h,w,v))}}),this[h]=f}bind(...h){if(!h.length||!l7(h))throw new lt("observable-bind-wrong-properties",this);if(new Set(h).size!==h.length)throw new lt("observable-bind-duplicate-properties",this);yC(this);const f=this[g0];h.forEach(p=>{if(f.has(p))throw new lt("observable-bind-rebind",this)});const g=new Map;return h.forEach(p=>{const v={property:p,to:[]};f.set(p,v),g.set(p,v)}),{to:eke,toMany:tke,_observable:this,_bindProperties:h,_to:[],_bindings:g}}unbind(...h){if(!this[p0])return;const f=this[g0],g=this[sv];if(h.length){if(!l7(h))throw new lt("observable-unbind-wrong-properties",this);h.forEach(p=>{const v=f.get(p);v&&(v.to.forEach(([w,E])=>{const S=g.get(w),C=S[E];C.delete(v),C.size||delete S[E],Object.keys(S).length||(g.delete(w),this.stopListening(w,"change"))}),f.delete(p))})}else g.forEach((p,v)=>{this.stopListening(v,"change")}),g.clear(),f.clear()}decorate(h){yC(this);const f=this[h];if(!f)throw new lt("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:h});this.on(h,(g,p)=>{g.return=f.apply(this,p)}),this[h]=function(...g){return this.fire(h,g)},this[h][o7]=f,this[Qd]||(this[Qd]=[]),this[Qd].push(h)}stopListening(h,f,g){if(!h&&this[Qd]){for(const p of this[Qd])this[p]=this[p][o7];delete this[Qd]}super.stopListening(h,f,g)}}return e}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(t=>{XL[t]=tK.prototype[t]});function yC(t){t[p0]||(Object.defineProperty(t,p0,{value:new Map}),Object.defineProperty(t,sv,{value:new Map}),Object.defineProperty(t,g0,{value:new Map}))}function eke(...t){const e=rke(...t),n=Array.from(this._bindings.keys()),r=n.length;if(!e.callback&&e.to.length>1)throw new lt("observable-bind-to-no-callback",this);if(r>1&&e.callback)throw new lt("observable-bind-to-extra-callback",this);e.to.forEach(s=>{if(s.properties.length&&s.properties.length!==r)throw new lt("observable-bind-to-properties-length",this);s.properties.length||(s.properties=this._bindProperties)}),this._to=e.to,e.callback&&(this._bindings.get(n[0]).callback=e.callback),ike(this._observable,this._to),ake(this),this._bindProperties.forEach(s=>{nK(this._observable,s)})}function tke(t,e,n){if(this._bindings.size>1)throw new lt("observable-bind-to-many-not-one-binding",this);this.to(...nke(t,e),n)}function nke(t,e){const n=t.map(r=>[r,e]);return Array.prototype.concat.apply([],n)}function l7(t){return t.every(e=>typeof e=="string")}function rke(...t){if(!t.length)throw new lt("observable-bind-to-parse-error",null);const e={to:[]};let n;return typeof t[t.length-1]=="function"&&(e.callback=t.pop()),t.forEach(r=>{if(typeof r=="string")n.properties.push(r);else if(typeof r=="object")n={observable:r,properties:[]},e.to.push(n);else throw new lt("observable-bind-to-parse-error",null)}),e}function ske(t,e,n,r){const s=t[sv],i=s.get(n),o=i||{};o[r]||(o[r]=new Set),o[r].add(e),i||s.set(n,o)}function ake(t){let e;t._bindings.forEach((n,r)=>{t._to.forEach(s=>{e=s.properties[n.callback?0:t._bindProperties.indexOf(r)],n.to.push([s.observable,e]),ske(t._observable,n,s.observable,e)})})}function nK(t,e){const r=t[g0].get(e);let s;r.callback?s=r.callback.apply(t,r.to.map(i=>i[0][i[1]])):(s=r.to[0],s=s[0][s[1]]),Object.prototype.hasOwnProperty.call(t,e)?t[e]=s:t.set(e,s)}function ike(t,e){e.forEach(n=>{const r=t[sv];let s;r.get(n.observable)||t.listenTo(n.observable,"change",(i,o)=>{s=r.get(n.observable)[o],s&&s.forEach(l=>{nK(t,l.property)})})})}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function c7(t){let e=0;for(const n of t)e++;return e}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function ni(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++)if(t[r]!=e[r])return r;return t.length==e.length?"same":t.length<e.length?"prefix":"extension"}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function uu(t){return!!(t&&t[Symbol.iterator])}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function u7(t){if(t){if(t.defaultView)return t instanceof t.defaultView.Document;if(t.ownerDocument&&t.ownerDocument.defaultView)return t instanceof t.ownerDocument.defaultView.Node}return!1}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function d7(t){const e=Object.prototype.toString.apply(t);return e=="[object Window]"||e=="[object global]"}const rK=sK(ea());function sK(t){if(!t)return rK;class e extends t{listenTo(r,s,i,o={}){if(u7(r)||d7(r)){const l={capture:!!o.useCapture,passive:!!o.usePassive},u=this._getProxyEmitter(r,l)||new oke(r,l);this.listenTo(u,s,i,o)}else super.listenTo(r,s,i,o)}stopListening(r,s,i){if(u7(r)||d7(r)){const o=this._getAllProxyEmitters(r);for(const l of o)this.stopListening(l,s,i)}else super.stopListening(r,s,i)}_getProxyEmitter(r,s){return YRe(this,aK(r,s))}_getAllProxyEmitters(r){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(s=>this._getProxyEmitter(r,s)).filter(s=>!!s)}}return e}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(t=>{sK[t]=rK.prototype[t]});class oke extends ea(){constructor(n,r){super();we(this,"_domNode");we(this,"_options");we(this,"_domListeners");ZW(this,aK(n,r)),this._domNode=n,this._options=r}attach(n){if(this._domListeners&&this._domListeners[n])return;const r=this._createDomListener(n);this._domNode.addEventListener(n,r,this._options),this._domListeners||(this._domListeners={}),this._domListeners[n]=r}detach(n){let r;this._domListeners[n]&&(!(r=this._events[n])||!r.callbacks.length)&&this._domListeners[n].removeListener()}_addEventListener(n,r,s){this.attach(n),ea().prototype._addEventListener.call(this,n,r,s)}_removeEventListener(n,r){ea().prototype._removeEventListener.call(this,n,r),this.detach(n)}_createDomListener(n){const r=s=>{this.fire(n,s)};return r.removeListener=()=>{this._domNode.removeEventListener(n,r,this._options),delete this._domListeners[n]},r}}function lke(t){return t["data-ck-expando"]||(t["data-ck-expando"]=Jw())}function aK(t,e){let n=lke(t);for(const r of Object.keys(e).sort())e[r]&&(n+="-"+r);return n}const v0=cke();function cke(){const t={pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let e=65;e<=90;e++){const n=String.fromCharCode(e);t[n.toLowerCase()]=e}for(let e=48;e<=57;e++)t[e-48]=e;for(let e=112;e<=123;e++)t["f"+(e-111)]=e;return Object.assign(t,{"'":222,",":108,"-":109,".":110,"/":111,";":186,"=":187,"[":219,"\\":220,"]":221,"`":223}),t}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function f1(t){return Array.isArray(t)?t:[t]}/* istanbul ignore else -- @preserve */rv.window.CKEDITOR_TRANSLATIONS||(rv.window.CKEDITOR_TRANSLATIONS={});class uke extends ea(){constructor(n={},r={}){super();we(this,"_items");we(this,"_itemMap");we(this,"_idProperty");we(this,"_bindToCollection");we(this,"_bindToExternalToInternalMap");we(this,"_bindToInternalToExternalMap");we(this,"_skippedIndexesFromExternal");const s=uu(n);if(s||(r=n),this._items=[],this._itemMap=new Map,this._idProperty=r.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],s)for(const i of n)this._items.push(i),this._itemMap.set(this._getItemIdBeforeAdding(i),i)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(n,r){return this.addMany([n],r)}addMany(n,r){if(r===void 0)r=this._items.length;else if(r>this._items.length||r<0)throw new lt("collection-add-item-invalid-index",this);let s=0;for(const i of n){const o=this._getItemIdBeforeAdding(i),l=r+s;this._items.splice(l,0,i),this._itemMap.set(o,i),this.fire("add",i,l),s++}return this.fire("change",{added:n,removed:[],index:r}),this}get(n){let r;if(typeof n=="string")r=this._itemMap.get(n);else if(typeof n=="number")r=this._items[n];else throw new lt("collection-get-invalid-arg",this);return r||null}has(n){if(typeof n=="string")return this._itemMap.has(n);{const r=this._idProperty,s=n[r];return s&&this._itemMap.has(s)}}getIndex(n){let r;return typeof n=="string"?r=this._itemMap.get(n):r=n,r?this._items.indexOf(r):-1}remove(n){const[r,s]=this._remove(n);return this.fire("change",{added:[],removed:[r],index:s}),r}map(n,r){return this._items.map(n,r)}forEach(n,r){this._items.forEach(n,r)}find(n,r){return this._items.find(n,r)}filter(n,r){return this._items.filter(n,r)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const n=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:n,index:0})}bindTo(n){if(this._bindToCollection)throw new lt("collection-bind-to-rebind",this);return this._bindToCollection=n,{as:r=>{this._setUpBindToBinding(s=>new r(s))},using:r=>{typeof r=="function"?this._setUpBindToBinding(r):this._setUpBindToBinding(s=>s[r])}}}_setUpBindToBinding(n){const r=this._bindToCollection,s=(i,o,l)=>{const u=r._bindToCollection==this,h=r._bindToInternalToExternalMap.get(o);if(u&&h)this._bindToExternalToInternalMap.set(o,h),this._bindToInternalToExternalMap.set(h,o);else{const f=n(o);if(!f){this._skippedIndexesFromExternal.push(l);return}let g=l;for(const p of this._skippedIndexesFromExternal)l>p&&g--;for(const p of r._skippedIndexesFromExternal)g>=p&&g++;this._bindToExternalToInternalMap.set(o,f),this._bindToInternalToExternalMap.set(f,o),this.add(f,g);for(let p=0;p<r._skippedIndexesFromExternal.length;p++)g<=r._skippedIndexesFromExternal[p]&&r._skippedIndexesFromExternal[p]++}};for(const i of r)s(null,i,r.getIndex(i));this.listenTo(r,"add",s),this.listenTo(r,"remove",(i,o,l)=>{const u=this._bindToExternalToInternalMap.get(o);u&&this.remove(u),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((h,f)=>(l<f&&h.push(f-1),l>f&&h.push(f),h),[])})}_getItemIdBeforeAdding(n){const r=this._idProperty;let s;if(r in n){if(s=n[r],typeof s!="string")throw new lt("collection-add-invalid-id",this);if(this.get(s))throw new lt("collection-add-item-already-exists",this)}else n[r]=s=Jw();return s}_remove(n){let r,s,i,o=!1;const l=this._idProperty;if(typeof n=="string"?(s=n,i=this._itemMap.get(s),o=!i,i&&(r=this._items.indexOf(i))):typeof n=="number"?(r=n,i=this._items[r],o=!i,i&&(s=i[l])):(i=n,s=i[l],r=this._items.indexOf(i),o=r==-1||!this._itemMap.get(s)),o)throw new lt("collection-remove-404",this);this._items.splice(r,1),this._itemMap.delete(s);const u=this._bindToInternalToExternalMap.get(i);return this._bindToInternalToExternalMap.delete(i),this._bindToExternalToInternalMap.delete(u),this.fire("remove",i,r),[i,r]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function dke(t){const e=new Map;for(const n in t)e.set(n,t[n]);return e}function av(t){return uu(t)?new Map(t):dke(t)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function h7(t,e,n){const r=t.length,s=e.length;for(let i=r-1;i>=n;i--)t[i+s]=t[i];for(let i=0;i<s;i++)t[n+i]=e[i]}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 *//**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */let wf=class{is(){throw new Error("is() method is abstract")}},_f=class extends ea(wf){constructor(n){super();we(this,"document");we(this,"parent");this.document=n,this.parent=null}get index(){let n;if(!this.parent)return null;if((n=this.parent.getChildIndex(this))==-1)throw new lt("view-node-not-found-in-parent",this);return n}get nextSibling(){const n=this.index;return n!==null&&this.parent.getChild(n+1)||null}get previousSibling(){const n=this.index;return n!==null&&this.parent.getChild(n-1)||null}get root(){let n=this;for(;n.parent;)n=n.parent;return n}isAttached(){return this.root.is("rootElement")}getPath(){const n=[];let r=this;for(;r.parent;)n.unshift(r.index),r=r.parent;return n}getAncestors(n={}){const r=[];let s=n.includeSelf?this:this.parent;for(;s;)r[n.parentFirst?"push":"unshift"](s),s=s.parent;return r}getCommonAncestor(n,r={}){const s=this.getAncestors(r),i=n.getAncestors(r);let o=0;for(;s[o]==i[o]&&s[o];)o++;return o===0?null:s[o-1]}isBefore(n){if(this==n||this.root!==n.root)return!1;const r=this.getPath(),s=n.getPath(),i=ni(r,s);switch(i){case"prefix":return!0;case"extension":return!1;default:return r[i]<s[i]}}isAfter(n){return this==n||this.root!==n.root?!1:!this.isBefore(n)}_remove(){this.parent._removeChildren(this.index)}_fireChange(n,r,s){this.fire(`change:${n}`,r,s),this.parent&&this.parent._fireChange(n,r,s)}toJSON(){const n=vwe(this);return delete n.parent,n}};_f.prototype.is=function(t){return t==="node"||t==="view:node"};let mh=class jT extends _f{constructor(n,r){super(n);we(this,"_textData");this._textData=r}get data(){return this._textData}get _data(){return this.data}set _data(n){this._fireChange("text",this),this._textData=n}isSimilar(n){return n instanceof jT?this===n||this.data===n.data:!1}_clone(){return new jT(this.document,this.data)}};mh.prototype.is=function(t){return t==="$text"||t==="view:$text"||t==="text"||t==="view:text"||t==="node"||t==="view:node"};let Lc=class extends wf{constructor(n,r,s){super();we(this,"textNode");we(this,"data");we(this,"offsetInText");if(this.textNode=n,r<0||r>n.data.length)throw new lt("view-textproxy-wrong-offsetintext",this);if(s<0||r+s>n.data.length)throw new lt("view-textproxy-wrong-length",this);this.data=n.data.substring(r,r+s),this.offsetInText=r}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(n={}){const r=[];let s=n.includeSelf?this.textNode:this.parent;for(;s!==null;)r[n.parentFirst?"push":"unshift"](s),s=s.parent;return r}};Lc.prototype.is=function(t){return t==="$textProxy"||t==="view:$textProxy"||t==="textProxy"||t==="view:textProxy"};class hke{constructor(...e){we(this,"_patterns",[]);this.add(...e)}add(...e){for(let n of e)(typeof n=="string"||n instanceof RegExp)&&(n={name:n}),this._patterns.push(n)}match(...e){for(const n of e)for(const r of this._patterns){const s=f7(n,r);if(s)return{element:n,pattern:r,match:s}}return null}matchAll(...e){const n=[];for(const r of e)for(const s of this._patterns){const i=f7(r,s);i&&n.push({element:r,pattern:s,match:i})}return n.length>0?n:null}getElementName(){if(this._patterns.length!==1)return null;const e=this._patterns[0],n=e.name;return typeof e!="function"&&n&&!(n instanceof RegExp)?n:null}}function f7(t,e){if(typeof e=="function")return e(t);const n={};return e.name&&(n.name=fke(e.name,t.name),!n.name)||e.attributes&&(n.attributes=vke(e.attributes,t),!n.attributes)||e.classes&&(n.classes=yke(e.classes,t),!n.classes)||e.styles&&(n.styles=xke(e.styles,t),!n.styles)?null:n}function fke(t,e){return t instanceof RegExp?!!e.match(t):t===e}function JL(t,e,n){const r=mke(t),s=Array.from(e),i=[];if(r.forEach(([o,l])=>{s.forEach(u=>{pke(o,u)&&gke(l,u,n)&&i.push(u)})}),!(!r.length||i.length<r.length))return i}function mke(t){if(Array.isArray(t))return t.map(n=>typeof n!="object"||n instanceof RegExp?[n,!0]:((n.key===void 0||n.value===void 0)&&bT("matcher-pattern-missing-key-or-value",n),[n.key,n.value]));if(typeof t!="object"||t instanceof RegExp)return[[t,!0]];const e=[];for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push([n,t[n]]);return e}function pke(t,e){return t===!0||t===e||t instanceof RegExp&&e.match(t)}function gke(t,e,n){if(t===!0)return!0;const r=n(e);return t===r||t instanceof RegExp&&!!String(r).match(t)}function vke(t,e){const n=new Set(e.getAttributeKeys());return typeof t=="object"&&!(t instanceof RegExp)&&!Array.isArray(t)?(t.style!==void 0&&bT("matcher-pattern-deprecated-attributes-style-key",t),t.class!==void 0&&bT("matcher-pattern-deprecated-attributes-class-key",t)):(n.delete("style"),n.delete("class")),JL(t,n,r=>e.getAttribute(r))}function yke(t,e){return JL(t,e.getClassNames(),()=>{})}function xke(t,e){return JL(t,e.getStyleNames(!0),n=>e.getStyle(n))}class bke{constructor(e){we(this,"_styles");we(this,"_cachedStyleNames",null);we(this,"_cachedExpandedStyleNames",null);we(this,"_styleProcessor");this._styles={},this._styleProcessor=e}get isEmpty(){return!Object.entries(this._styles).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(e){this.clear();const n=wke(e);for(const[r,s]of n)this._styleProcessor.toNormalizedForm(r,s,this._styles)}has(e){if(this.isEmpty)return!1;const r=this._styleProcessor.getReducedForm(e,this._styles).find(([s])=>s===e);return Array.isArray(r)}set(e,n){if(this._cachedStyleNames=null,this._cachedExpandedStyleNames=null,cl(e))for(const[r,s]of Object.entries(e))this._styleProcessor.toNormalizedForm(r,s,this._styles);else this._styleProcessor.toNormalizedForm(e,n,this._styles)}remove(e){this._cachedStyleNames=null,this._cachedExpandedStyleNames=null;const n=_ke(e);s2e(this._styles,n),delete this._styles[e],this._cleanEmptyObjectsOnPath(n)}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){return this.isEmpty?"":this.getStylesEntries().map(e=>e.join(":")).sort().join(";")+";"}getAsString(e){if(this.isEmpty)return;if(this._styles[e]&&!cl(this._styles[e]))return this._styles[e];const r=this._styleProcessor.getReducedForm(e,this._styles).find(([s])=>s===e);if(Array.isArray(r))return r[1]}getStyleNames(e=!1){return this.isEmpty?[]:e?(this._cachedExpandedStyleNames=this._cachedExpandedStyleNames||this._styleProcessor.getStyleNames(this._styles),this._cachedExpandedStyleNames):(this._cachedStyleNames=this._cachedStyleNames||this.getStylesEntries().map(([n])=>n),this._cachedStyleNames)}clear(){this._styles={},this._cachedStyleNames=null,this._cachedExpandedStyleNames=null}getStylesEntries(){const e=[],n=Object.keys(this._styles);for(const r of n)e.push(...this._styleProcessor.getReducedForm(r,this._styles));return e}_cleanEmptyObjectsOnPath(e){const n=e.split(".");if(!(n.length>1))return;const s=n.splice(0,n.length-1).join("."),i=P1e(this._styles,s);if(!i)return;!Object.keys(i).length&&this.remove(s)}}function wke(t){let e=null,n=0,r=0,s=null;const i=new Map;if(t==="")return i;t.charAt(t.length-1)!=";"&&(t=t+";");for(let o=0;o<t.length;o++){const l=t.charAt(o);if(e===null)switch(l){case":":s||(s=t.substr(n,o-n),r=o+1);break;case'"':case"'":e=l;break;case";":{const u=t.substr(r,o-r);s&&i.set(s.trim(),u.trim()),s=null,n=o+1;break}}else l===e&&(e=null)}return i}function _ke(t){return t.replace("-",".")}let Lp=class iK extends _f{constructor(n,r,s,i){super(n);we(this,"name");we(this,"_unsafeAttributesToRender",[]);we(this,"_attrs");we(this,"_children");we(this,"_classes");we(this,"_styles");we(this,"_customProperties",new Map);if(this.name=r,this._attrs=jke(s),this._children=[],i&&this._insertChild(0,i),this._classes=new Set,this._attrs.has("class")){const o=this._attrs.get("class");m7(this._classes,o),this._attrs.delete("class")}this._styles=new bke(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(n){return this._children[n]}getChildIndex(n){return this._children.indexOf(n)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(n){if(n=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(n=="style"){const r=this._styles.toString();return r==""?void 0:r}return this._attrs.get(n)}hasAttribute(n){return n=="class"?this._classes.size>0:n=="style"?!this._styles.isEmpty:this._attrs.has(n)}isSimilar(n){if(!(n instanceof iK))return!1;if(this===n)return!0;if(this.name!=n.name||this._attrs.size!==n._attrs.size||this._classes.size!==n._classes.size||this._styles.size!==n._styles.size)return!1;for(const[r,s]of this._attrs)if(!n._attrs.has(r)||n._attrs.get(r)!==s)return!1;for(const r of this._classes)if(!n._classes.has(r))return!1;for(const r of this._styles.getStyleNames())if(!n._styles.has(r)||n._styles.getAsString(r)!==this._styles.getAsString(r))return!1;return!0}hasClass(...n){for(const r of n)if(!this._classes.has(r))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(n){return this._styles.getAsString(n)}getNormalizedStyle(n){return this._styles.getNormalized(n)}getStyleNames(n){return this._styles.getStyleNames(n)}hasStyle(...n){for(const r of n)if(!this._styles.has(r))return!1;return!0}findAncestor(...n){const r=new hke(...n);let s=this.parent;for(;s&&!s.is("documentFragment");){if(r.match(s))return s;s=s.parent}return null}getCustomProperty(n){return this._customProperties.get(n)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const n=Array.from(this._classes).sort().join(","),r=this._styles.toString(),s=Array.from(this._attrs).map(i=>`${i[0]}="${i[1]}"`).sort().join(" ");return this.name+(n==""?"":` class="${n}"`)+(r?` style="${r}"`:"")+(s==""?"":` ${s}`)}shouldRenderUnsafeAttribute(n){return this._unsafeAttributesToRender.includes(n)}_clone(n=!1){const r=[];if(n)for(const i of this.getChildren())r.push(i._clone(n));const s=new this.constructor(this.document,this.name,this._attrs,r);return s._classes=new Set(this._classes),s._styles.set(this._styles.getNormalized()),s._customProperties=new Map(this._customProperties),s.getFillerOffset=this.getFillerOffset,s._unsafeAttributesToRender=this._unsafeAttributesToRender,s}_appendChild(n){return this._insertChild(this.childCount,n)}_insertChild(n,r){this._fireChange("children",this,{index:n});let s=0;const i=Eke(this.document,r);for(const o of i)o.parent!==null&&o._remove(),o.parent=this,o.document=this.document,this._children.splice(n,0,o),n++,s++;return s}_removeChildren(n,r=1){this._fireChange("children",this,{index:n});for(let s=n;s<n+r;s++)this._children[s].parent=null;return this._children.splice(n,r)}_setAttribute(n,r){const s=String(r);this._fireChange("attributes",this),n=="class"?m7(this._classes,s):n=="style"?this._styles.setTo(s):this._attrs.set(n,s)}_removeAttribute(n){return this._fireChange("attributes",this),n=="class"?this._classes.size>0?(this._classes.clear(),!0):!1:n=="style"?this._styles.isEmpty?!1:(this._styles.clear(),!0):this._attrs.delete(n)}_addClass(n){this._fireChange("attributes",this);for(const r of f1(n))this._classes.add(r)}_removeClass(n){this._fireChange("attributes",this);for(const r of f1(n))this._classes.delete(r)}_setStyle(n,r){this._fireChange("attributes",this),typeof n!="string"?this._styles.set(n):this._styles.set(n,r)}_removeStyle(n){this._fireChange("attributes",this);for(const r of f1(n))this._styles.remove(r)}_setCustomProperty(n,r){this._customProperties.set(n,r)}_removeCustomProperty(n){return this._customProperties.delete(n)}};Lp.prototype.is=function(t,e){return e?e===this.name&&(t==="element"||t==="view:element"):t==="element"||t==="view:element"||t==="node"||t==="view:node"};function jke(t){const e=av(t);for(const[n,r]of e)r===null?e.delete(n):typeof r!="string"&&e.set(n,String(r));return e}function m7(t,e){const n=e.split(/\s+/);t.clear(),n.forEach(r=>t.add(r))}function Eke(t,e){if(typeof e=="string")return[new mh(t,e)];uu(e)||(e=[e]);const n=[];for(const r of e)typeof r=="string"?n.push(new mh(t,r)):r instanceof Lc?n.push(new mh(t,r.data)):n.push(r);return n}class oK extends Lp{constructor(e,n,r,s){super(e,n,r,s),this.getFillerOffset=Ske}}oK.prototype.is=function(t,e){return e?e===this.name&&(t==="containerElement"||t==="view:containerElement"||t==="element"||t==="view:element"):t==="containerElement"||t==="view:containerElement"||t==="element"||t==="view:element"||t==="node"||t==="view:node"};function Ske(){const t=[...this.getChildren()],e=t[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const n of t)if(!n.is("uiElement"))return null;return this.childCount}class QL extends XL(oK){constructor(e,n,r,s){super(e,n,r,s),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(e),this.bind("isFocused").to(e,"isFocused",i=>i&&e.selection.editableElement==this),this.listenTo(e.selection,"change",()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this})}destroy(){this.stopListening()}}QL.prototype.is=function(t,e){return e?e===this.name&&(t==="editableElement"||t==="view:editableElement"||t==="containerElement"||t==="view:containerElement"||t==="element"||t==="view:element"):t==="editableElement"||t==="view:editableElement"||t==="containerElement"||t==="view:containerElement"||t==="element"||t==="view:element"||t==="node"||t==="view:node"};const p7=Symbol("rootName");class Cke extends QL{constructor(e,n){super(e,n),this.rootName="main"}get rootName(){return this.getCustomProperty(p7)}set rootName(e){this._setCustomProperty(p7,e)}set _name(e){this.name=e}}Cke.prototype.is=function(t,e){return e?e===this.name&&(t==="rootElement"||t==="view:rootElement"||t==="editableElement"||t==="view:editableElement"||t==="containerElement"||t==="view:containerElement"||t==="element"||t==="view:element"):t==="rootElement"||t==="view:rootElement"||t==="editableElement"||t==="view:editableElement"||t==="containerElement"||t==="view:containerElement"||t==="element"||t==="view:element"||t==="node"||t==="view:node"};let _m=class{constructor(e={}){we(this,"direction");we(this,"boundaries");we(this,"singleCharacters");we(this,"shallow");we(this,"ignoreElementEnd");we(this,"_position");we(this,"_boundaryStartParent");we(this,"_boundaryEndParent");if(!e.boundaries&&!e.startPosition)throw new lt("view-tree-walker-no-start-position",null);if(e.direction&&e.direction!="forward"&&e.direction!="backward")throw new lt("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,e.startPosition?this._position=vr._createAt(e.startPosition):this._position=vr._createAt(e.boundaries[e.direction=="backward"?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let n,r;do r=this.position,n=this.next();while(!n.done&&e(n.value));n.done||(this._position=r)}jumpTo(e){this._boundaryStartParent&&e.isBefore(this.boundaries.start)?e=this.boundaries.start:this._boundaryEndParent&&e.isAfter(this.boundaries.end)&&(e=this.boundaries.end),this._position=e.clone()}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let e=this.position.clone();const n=this.position,r=e.parent;if(r.parent===null&&e.offset===r.childCount)return{done:!0,value:void 0};if(r===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let s;if(r&&r.is("view:$text")){if(e.isAtEnd)return this._position=vr._createAfter(r),this._next();s=r.data[e.offset]}else s=r.getChild(e.offset);if(typeof s=="string"){let i;this.singleCharacters?i=1:i=(r===this._boundaryEndParent?this.boundaries.end.offset:r.data.length)-e.offset;const o=new Lc(r,e.offset,i);return e.offset+=i,this._position=e,this._formatReturnValue("text",o,n,e,i)}if(s&&s.is("view:element")){if(!this.shallow)e=new vr(s,0);else{if(this.boundaries&&this.boundaries.end.isBefore(e))return{done:!0,value:void 0};e.offset++}return this._position=e,this._formatReturnValue("elementStart",s,n,e,1)}if(s&&s.is("view:$text")){if(this.singleCharacters)return e=new vr(s,0),this._position=e,this._next();let i=s.data.length,o;return s==this._boundaryEndParent?(i=this.boundaries.end.offset,o=new Lc(s,0,i),e=vr._createAfter(o)):(o=new Lc(s,0,s.data.length),e.offset++),this._position=e,this._formatReturnValue("text",o,n,e,i)}return e=vr._createAfter(r),this._position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",r,n,e)}_previous(){let e=this.position.clone();const n=this.position,r=e.parent;if(r.parent===null&&e.offset===0)return{done:!0,value:void 0};if(r==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let s;if(r.is("view:$text")){if(e.isAtStart)return this._position=vr._createBefore(r),this._previous();s=r.data[e.offset-1]}else s=r.getChild(e.offset-1);if(typeof s=="string"){let i;if(this.singleCharacters)i=1;else{const l=r===this._boundaryStartParent?this.boundaries.start.offset:0;i=e.offset-l}e.offset-=i;const o=new Lc(r,e.offset,i);return this._position=e,this._formatReturnValue("text",o,n,e,i)}if(s&&s.is("view:element"))return this.shallow?(e.offset--,this._position=e,this._formatReturnValue("elementStart",s,n,e,1)):(e=new vr(s,s.childCount),this._position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",s,n,e));if(s&&s.is("view:$text")){if(this.singleCharacters)return e=new vr(s,s.data.length),this._position=e,this._previous();let i=s.data.length,o;if(s==this._boundaryStartParent){const l=this.boundaries.start.offset;o=new Lc(s,l,s.data.length-l),i=o.data.length,e=vr._createBefore(o)}else o=new Lc(s,0,s.data.length),e.offset--;return this._position=e,this._formatReturnValue("text",o,n,e,i)}return e=vr._createBefore(r),this._position=e,this._formatReturnValue("elementStart",r,n,e,1)}_formatReturnValue(e,n,r,s,i){return n.is("view:$textProxy")&&(n.offsetInText+n.data.length==n.textNode.data.length&&(this.direction=="forward"&&!(this.boundaries&&this.boundaries.end.isEqual(this.position))?(s=vr._createAfter(n.textNode),this._position=s):r=vr._createAfter(n.textNode)),n.offsetInText===0&&(this.direction=="backward"&&!(this.boundaries&&this.boundaries.start.isEqual(this.position))?(s=vr._createBefore(n.textNode),this._position=s):r=vr._createBefore(n.textNode))),{done:!1,value:{type:e,item:n,previousPosition:r,nextPosition:s,length:i}}}},vr=class Tc extends wf{constructor(n,r){super();we(this,"parent");we(this,"offset");this.parent=n,this.offset=r}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const n=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===n}get root(){return this.parent.root}get editableElement(){let n=this.parent;for(;!(n instanceof QL);)if(n.parent)n=n.parent;else return null;return n}getShiftedBy(n){const r=Tc._createAt(this),s=r.offset+n;return r.offset=s<0?0:s,r}getLastMatchingPosition(n,r={}){r.startPosition=this;const s=new _m(r);return s.skip(n),s.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(n){const r=this.getAncestors(),s=n.getAncestors();let i=0;for(;r[i]==s[i]&&r[i];)i++;return i===0?null:r[i-1]}isEqual(n){return this.parent==n.parent&&this.offset==n.offset}isBefore(n){return this.compareWith(n)=="before"}isAfter(n){return this.compareWith(n)=="after"}compareWith(n){if(this.root!==n.root)return"different";if(this.isEqual(n))return"same";const r=this.parent.is("node")?this.parent.getPath():[],s=n.parent.is("node")?n.parent.getPath():[];r.push(this.offset),s.push(n.offset);const i=ni(r,s);switch(i){case"prefix":return"before";case"extension":return"after";default:return r[i]<s[i]?"before":"after"}}getWalker(n={}){return n.startPosition=this,new _m(n)}clone(){return new Tc(this.parent,this.offset)}static _createAt(n,r){if(n instanceof Tc)return new this(n.parent,n.offset);{const s=n;if(r=="end")r=s.is("$text")?s.data.length:s.childCount;else{if(r=="before")return this._createBefore(s);if(r=="after")return this._createAfter(s);if(r!==0&&!r)throw new lt("view-createpositionat-offset-required",s)}return new Tc(s,r)}}static _createAfter(n){if(n.is("$textProxy"))return new Tc(n.textNode,n.offsetInText+n.data.length);if(!n.parent)throw new lt("view-position-after-root",n,{root:n});return new Tc(n.parent,n.index+1)}static _createBefore(n){if(n.is("$textProxy"))return new Tc(n.textNode,n.offsetInText);if(!n.parent)throw new lt("view-position-before-root",n,{root:n});return new Tc(n.parent,n.index)}};vr.prototype.is=function(t){return t==="position"||t==="view:position"};let Rl=class Mu extends wf{constructor(n,r=null){super();we(this,"start");we(this,"end");this.start=n.clone(),this.end=r?r.clone():n.clone()}*[Symbol.iterator](){yield*new _m({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let n=this.start.getLastMatchingPosition(Hx,{direction:"backward"}),r=this.end.getLastMatchingPosition(Hx);return n.parent.is("$text")&&n.isAtStart&&(n=vr._createBefore(n.parent)),r.parent.is("$text")&&r.isAtEnd&&(r=vr._createAfter(r.parent)),new Mu(n,r)}getTrimmed(){let n=this.start.getLastMatchingPosition(Hx);if(n.isAfter(this.end)||n.isEqual(this.end))return new Mu(n,n);let r=this.end.getLastMatchingPosition(Hx,{direction:"backward"});const s=n.nodeAfter,i=r.nodeBefore;return s&&s.is("$text")&&(n=new vr(s,0)),i&&i.is("$text")&&(r=new vr(i,i.data.length)),new Mu(n,r)}isEqual(n){return this==n||this.start.isEqual(n.start)&&this.end.isEqual(n.end)}containsPosition(n){return n.isAfter(this.start)&&n.isBefore(this.end)}containsRange(n,r=!1){n.isCollapsed&&(r=!1);const s=this.containsPosition(n.start)||r&&this.start.isEqual(n.start),i=this.containsPosition(n.end)||r&&this.end.isEqual(n.end);return s&&i}getDifference(n){const r=[];return this.isIntersecting(n)?(this.containsPosition(n.start)&&r.push(new Mu(this.start,n.start)),this.containsPosition(n.end)&&r.push(new Mu(n.end,this.end))):r.push(this.clone()),r}getIntersection(n){if(this.isIntersecting(n)){let r=this.start,s=this.end;return this.containsPosition(n.start)&&(r=n.start),this.containsPosition(n.end)&&(s=n.end),new Mu(r,s)}return null}getWalker(n={}){return n.boundaries=this,new _m(n)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let n=this.start.nodeAfter,r=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(n=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(r=this.end.parent.previousSibling),n&&n.is("element")&&n===r?n:null}clone(){return new Mu(this.start,this.end)}*getItems(n={}){n.boundaries=this,n.ignoreElementEnd=!0;const r=new _m(n);for(const s of r)yield s.item}*getPositions(n={}){n.boundaries=this;const r=new _m(n);yield r.position;for(const s of r)yield s.nextPosition}isIntersecting(n){return this.start.isBefore(n.end)&&this.end.isAfter(n.start)}static _createFromParentsAndOffsets(n,r,s,i){return new this(new vr(n,r),new vr(s,i))}static _createFromPositionAndShift(n,r){const s=n,i=n.getShiftedBy(r);return r>0?new this(s,i):new this(i,s)}static _createIn(n){return this._createFromParentsAndOffsets(n,0,n,n.childCount)}static _createOn(n){const r=n.is("$textProxy")?n.offsetSize:1;return this._createFromPositionAndShift(vr._createBefore(n),r)}};Rl.prototype.is=function(t){return t==="range"||t==="view:range"};function Hx(t){return!!(t.item.is("attributeElement")||t.item.is("uiElement"))}let lK=class cK extends ea(wf){constructor(...n){super();we(this,"_ranges");we(this,"_lastRangeBackward");we(this,"_isFake");we(this,"_fakeSelectionLabel");this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",n.length&&this.setTo(...n)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const n=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?n.end:n.start).clone()}get focus(){if(!this._ranges.length)return null;const n=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?n.start:n.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const n of this._ranges)yield n.clone()}getFirstRange(){let n=null;for(const r of this._ranges)(!n||r.start.isBefore(n.start))&&(n=r);return n?n.clone():null}getLastRange(){let n=null;for(const r of this._ranges)(!n||r.end.isAfter(n.end))&&(n=r);return n?n.clone():null}getFirstPosition(){const n=this.getFirstRange();return n?n.start.clone():null}getLastPosition(){const n=this.getLastRange();return n?n.end.clone():null}isEqual(n){if(this.isFake!=n.isFake||this.isFake&&this.fakeSelectionLabel!=n.fakeSelectionLabel||this.rangeCount!=n.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(n.anchor)||!this.focus.isEqual(n.focus))return!1;for(const r of this._ranges){let s=!1;for(const i of n._ranges)if(r.isEqual(i)){s=!0;break}if(!s)return!1}return!0}isSimilar(n){if(this.isBackward!=n.isBackward)return!1;const r=c7(this.getRanges()),s=c7(n.getRanges());if(r!=s)return!1;if(r==0)return!0;for(let i of this.getRanges()){i=i.getTrimmed();let o=!1;for(let l of n.getRanges())if(l=l.getTrimmed(),i.start.isEqual(l.start)&&i.end.isEqual(l.end)){o=!0;break}if(!o)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...n){let[r,s,i]=n;if(typeof s=="object"&&(i=s,s=void 0),r===null)this._setRanges([]),this._setFakeOptions(i);else if(r instanceof cK||r instanceof uK)this._setRanges(r.getRanges(),r.isBackward),this._setFakeOptions({fake:r.isFake,label:r.fakeSelectionLabel});else if(r instanceof Rl)this._setRanges([r],i&&i.backward),this._setFakeOptions(i);else if(r instanceof vr)this._setRanges([new Rl(r)]),this._setFakeOptions(i);else if(r instanceof _f){const o=!!i&&!!i.backward;let l;if(s===void 0)throw new lt("view-selection-setto-required-second-parameter",this);s=="in"?l=Rl._createIn(r):s=="on"?l=Rl._createOn(r):l=new Rl(vr._createAt(r,s)),this._setRanges([l],o),this._setFakeOptions(i)}else if(uu(r))this._setRanges(r,i&&i.backward),this._setFakeOptions(i);else throw new lt("view-selection-setto-not-selectable",this);this.fire("change")}setFocus(n,r){if(this.anchor===null)throw new lt("view-selection-setfocus-no-ranges",this);const s=vr._createAt(n,r);if(s.compareWith(this.focus)=="same")return;const i=this.anchor;this._ranges.pop(),s.compareWith(i)=="before"?this._addRange(new Rl(s,i),!0):this._addRange(new Rl(i,s)),this.fire("change")}_setRanges(n,r=!1){n=Array.from(n),this._ranges=[];for(const s of n)this._addRange(s);this._lastRangeBackward=!!r}_setFakeOptions(n={}){this._isFake=!!n.fake,this._fakeSelectionLabel=n.fake&&n.label||""}_addRange(n,r=!1){if(!(n instanceof Rl))throw new lt("view-selection-add-range-not-range",this);this._pushRange(n),this._lastRangeBackward=!!r}_pushRange(n){for(const r of this._ranges)if(n.isIntersecting(r))throw new lt("view-selection-range-intersects",this,{addedRange:n,intersectingRange:r});this._ranges.push(new Rl(n.start,n.end))}};lK.prototype.is=function(t){return t==="selection"||t==="view:selection"};let uK=class extends ea(wf){constructor(...n){super();we(this,"_selection");this._selection=new lK,this._selection.delegate("change").to(this),n.length&&this._selection.setTo(...n)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(n){return this._selection.isEqual(n)}isSimilar(n){return this._selection.isSimilar(n)}_setTo(...n){this._selection.setTo(...n)}_setFocus(n,r){this._selection.setFocus(n,r)}};uK.prototype.is=function(t){return t==="selection"||t=="documentSelection"||t=="view:selection"||t=="view:documentSelection"};class Nke extends lp{constructor(n,r,s){super(n,r);we(this,"startRange");we(this,"_eventPhase");we(this,"_currentTarget");this.startRange=s,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const xC=Symbol("bubbling contexts");function g7(t){class e extends t{fire(r,...s){try{const i=r instanceof lp?r:new lp(this,r),o=bC(this);if(!o.size)return;if(Og(i,"capturing",this),rm(o,"$capture",i,...s))return i.return;const l=i.startRange||this.selection.getFirstRange(),u=l?l.getContainedElement():null,h=u?!!dK(o,u):!1;let f=u||Tke(l);if(Og(i,"atTarget",f),!h){if(rm(o,"$text",i,...s))return i.return;Og(i,"bubbling",f)}for(;f;){if(f.is("rootElement")){if(rm(o,"$root",i,...s))return i.return}else if(f.is("element")&&rm(o,f.name,i,...s))return i.return;if(rm(o,f,i,...s))return i.return;f=f.parent,Og(i,"bubbling",f)}return Og(i,"bubbling",this),rm(o,"$document",i,...s),i.return}catch(i){/* istanbul ignore next -- @preserve */lt.rethrowUnexpectedError(i,this)}}_addEventListener(r,s,i){const o=f1(i.context||"$document"),l=bC(this);for(const u of o){let h=l.get(u);h||(h=new(ea()),l.set(u,h)),this.listenTo(h,r,s,i)}}_removeEventListener(r,s){const i=bC(this);for(const o of i.values())this.stopListening(o,r,s)}}return e}{const t=g7(Object);["fire","_addEventListener","_removeEventListener"].forEach(e=>{g7[e]=t.prototype[e]})}function Og(t,e,n){t instanceof Nke&&(t._eventPhase=e,t._currentTarget=n)}function rm(t,e,n,...r){const s=typeof e=="string"?t.get(e):dK(t,e);return s?(s.fire(n,...r),n.stop.called):!1}function dK(t,e){for(const[n,r]of t)if(typeof n=="function"&&n(e))return r;return null}function bC(t){return t[xC]||(t[xC]=new Map),t[xC]}function Tke(t){if(!t)return null;const e=t.start.parent,n=t.end.parent,r=e.getPath(),s=n.getPath();return r.length>s.length?e:n}const v7=10;class hK extends Lp{constructor(n,r,s,i){super(n,r,s,i);we(this,"_priority",v7);we(this,"_id",null);we(this,"_clonesGroup",null);this.getFillerOffset=Ake}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new lt("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(n){return this.id!==null||n.id!==null?this.id===n.id:super.isSimilar(n)&&this.priority==n.priority}_clone(n=!1){const r=super._clone(n);return r._priority=this._priority,r._id=this._id,r}}we(hK,"DEFAULT_PRIORITY",v7);hK.prototype.is=function(t,e){return e?e===this.name&&(t==="attributeElement"||t==="view:attributeElement"||t==="element"||t==="view:element"):t==="attributeElement"||t==="view:attributeElement"||t==="element"||t==="view:element"||t==="node"||t==="view:node"};function Ake(){if(wC(this))return null;let t=this.parent;for(;t&&t.is("attributeElement");){if(wC(t)>1)return null;t=t.parent}return!t||wC(t)>1?null:this.childCount}function wC(t){return Array.from(t.getChildren()).filter(e=>!e.is("uiElement")).length}class Lke extends Lp{constructor(e,n,r,s){super(e,n,r,s),this.getFillerOffset=Rke}_insertChild(e,n){if(n&&(n instanceof _f||Array.from(n).length>0))throw new lt("view-emptyelement-cannot-add",[this,n]);return 0}}Lke.prototype.is=function(t,e){return e?e===this.name&&(t==="emptyElement"||t==="view:emptyElement"||t==="element"||t==="view:element"):t==="emptyElement"||t==="view:emptyElement"||t==="element"||t==="view:element"||t==="node"||t==="view:node"};function Rke(){return null}class kke extends Lp{constructor(e,n,r,s){super(e,n,r,s),this.getFillerOffset=Oke}_insertChild(e,n){if(n&&(n instanceof _f||Array.from(n).length>0))throw new lt("view-uielement-cannot-add",[this,n]);return 0}render(e,n){return this.toDomElement(e)}toDomElement(e){const n=e.createElement(this.name);for(const r of this.getAttributeKeys())n.setAttribute(r,this.getAttribute(r));return n}}kke.prototype.is=function(t,e){return e?e===this.name&&(t==="uiElement"||t==="view:uiElement"||t==="element"||t==="view:element"):t==="uiElement"||t==="view:uiElement"||t==="element"||t==="view:element"||t==="node"||t==="view:node"};function Oke(){return null}class Ike extends Lp{constructor(e,n,r,s){super(e,n,r,s),this.getFillerOffset=Pke}_insertChild(e,n){if(n&&(n instanceof _f||Array.from(n).length>0))throw new lt("view-rawelement-cannot-add",[this,n]);return 0}render(e,n){}}Ike.prototype.is=function(t,e){return e?e===this.name&&(t==="rawElement"||t==="view:rawElement"||t==="element"||t==="view:element"):t==="rawElement"||t==="view:rawElement"||t===this.name||t==="view:"+this.name||t==="element"||t==="view:element"||t==="node"||t==="view:node"};function Pke(){return null}let Dke=class extends ea(wf){constructor(n,r){super();we(this,"document");we(this,"_children",[]);we(this,"_customProperties",new Map);this.document=n,r&&this._insertChild(0,r)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}get getFillerOffset(){}getCustomProperty(n){return this._customProperties.get(n)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(n){return this._insertChild(this.childCount,n)}getChild(n){return this._children[n]}getChildIndex(n){return this._children.indexOf(n)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(n,r){this._fireChange("children",this,{index:n});let s=0;const i=Mke(this.document,r);for(const o of i)o.parent!==null&&o._remove(),o.parent=this,this._children.splice(n,0,o),n++,s++;return s}_removeChildren(n,r=1){this._fireChange("children",this,{index:n});for(let s=n;s<n+r;s++)this._children[s].parent=null;return this._children.splice(n,r)}_fireChange(n,r,s){this.fire(`change:${n}`,r,s)}_setCustomProperty(n,r){this._customProperties.set(n,r)}_removeCustomProperty(n){return this._customProperties.delete(n)}};Dke.prototype.is=function(t){return t==="documentFragment"||t==="view:documentFragment"};function Mke(t,e){return typeof e=="string"?[new mh(t,e)]:(uu(e)||(e=[e]),Array.from(e).map(n=>typeof n=="string"?new mh(t,n):n instanceof Lc?new mh(t,n.data):n))}const Fke=t=>t.createTextNode(""),Bke=t=>{const e=t.createElement("span");return e.dataset.ckeFiller="true",e.innerText="",e},Uke=t=>{const e=t.createElement("br");return e.dataset.ckeFiller="true",e};Uke(rv.document);Fke(rv.document);Bke(rv.document);/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class Nd{is(){throw new Error("is() method is abstract")}}class kh extends Nd{constructor(n,r,s){super();we(this,"textNode");we(this,"data");we(this,"offsetInText");if(this.textNode=n,r<0||r>n.offsetSize)throw new lt("model-textproxy-wrong-offsetintext",this);if(s<0||r+s>n.offsetSize)throw new lt("model-textproxy-wrong-length",this);this.data=n.data.substring(r,r+s),this.offsetInText=r}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const n=this.textNode.getPath();return n.length>0&&(n[n.length-1]+=this.offsetInText),n}getAncestors(n={}){const r=[];let s=n.includeSelf?this:this.parent;for(;s;)r[n.parentFirst?"push":"unshift"](s),s=s.parent;return r}hasAttribute(n){return this.textNode.hasAttribute(n)}getAttribute(n){return this.textNode.getAttribute(n)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}kh.prototype.is=function(t){return t==="$textProxy"||t==="model:$textProxy"||t==="textProxy"||t==="model:textProxy"};class Gg{constructor(e){we(this,"direction");we(this,"boundaries");we(this,"singleCharacters");we(this,"shallow");we(this,"ignoreElementEnd");we(this,"_position");we(this,"_boundaryStartParent");we(this,"_boundaryEndParent");we(this,"_visitedParent");if(!e||!e.boundaries&&!e.startPosition)throw new lt("model-tree-walker-no-start-position",null);const n=e.direction||"forward";if(n!="forward"&&n!="backward")throw new lt("model-tree-walker-unknown-direction",e,{direction:n});this.direction=n,this.boundaries=e.boundaries||null,e.startPosition?this._position=e.startPosition.clone():this._position=St._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let n,r,s,i;do s=this.position,i=this._visitedParent,{done:n,value:r}=this.next();while(!n&&e(r));n||(this._position=s,this._visitedParent=i)}jumpTo(e){this._boundaryStartParent&&e.isBefore(this.boundaries.start)?e=this.boundaries.start:this._boundaryEndParent&&e.isAfter(this.boundaries.end)&&(e=this.boundaries.end),this._position=e.clone(),this._visitedParent=e.parent}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const e=this.position,n=this.position.clone(),r=this._visitedParent;if(r.parent===null&&n.offset===r.maxOffset)return{done:!0,value:void 0};if(r===this._boundaryEndParent&&n.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const s=y0(n,r),i=s||fK(n,r,s);if(i&&i.is("model:element")){if(!this.shallow)n.path.push(0),this._visitedParent=i;else{if(this.boundaries&&this.boundaries.end.isBefore(n))return{done:!0,value:void 0};n.offset++}return this._position=n,Zd("elementStart",i,e,n,1)}if(i&&i.is("model:$text")){let o;if(this.singleCharacters)o=1;else{let h=i.endOffset;this._boundaryEndParent==r&&this.boundaries.end.offset<h&&(h=this.boundaries.end.offset),o=h-n.offset}const l=n.offset-i.startOffset,u=new kh(i,l,o);return n.offset+=o,this._position=n,Zd("text",u,e,n,o)}return n.path.pop(),n.offset++,this._position=n,this._visitedParent=r.parent,this.ignoreElementEnd?this._next():Zd("elementEnd",r,e,n)}_previous(){const e=this.position,n=this.position.clone(),r=this._visitedParent;if(r.parent===null&&n.offset===0)return{done:!0,value:void 0};if(r==this._boundaryStartParent&&n.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const s=n.parent,i=y0(n,s),o=i||mK(n,s,i);if(o&&o.is("model:element"))return n.offset--,this.shallow?(this._position=n,Zd("elementStart",o,e,n,1)):(n.path.push(o.maxOffset),this._position=n,this._visitedParent=o,this.ignoreElementEnd?this._previous():Zd("elementEnd",o,e,n));if(o&&o.is("model:$text")){let l;if(this.singleCharacters)l=1;else{let f=o.startOffset;this._boundaryStartParent==r&&this.boundaries.start.offset>f&&(f=this.boundaries.start.offset),l=n.offset-f}const u=n.offset-o.startOffset,h=new kh(o,u-l,l);return n.offset-=l,this._position=n,Zd("text",h,e,n,l)}return n.path.pop(),this._position=n,this._visitedParent=r.parent,Zd("elementStart",r,e,n,1)}}function Zd(t,e,n,r,s){return{done:!1,value:{type:t,item:e,previousPosition:n,nextPosition:r,length:s}}}class St extends Nd{constructor(n,r,s="toNone"){super();we(this,"root");we(this,"path");we(this,"stickiness");if(!n.is("element")&&!n.is("documentFragment"))throw new lt("model-position-root-invalid",n);if(!Array.isArray(r)||r.length===0)throw new lt("model-position-path-incorrect-format",n,{path:r});n.is("rootElement")?r=r.slice():(r=[...n.getPath(),...r],n=n.root),this.root=n,this.path=r,this.stickiness=s}get offset(){return this.path[this.path.length-1]}set offset(n){this.path[this.path.length-1]=n}get parent(){let n=this.root;for(let r=0;r<this.path.length-1;r++)if(n=n.getChildAtOffset(this.path[r]),!n)throw new lt("model-position-path-incorrect",this,{position:this});if(n.is("$text"))throw new lt("model-position-path-incorrect",this,{position:this});return n}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return y0(this,this.parent)}get nodeAfter(){const n=this.parent;return fK(this,n,y0(this,n))}get nodeBefore(){const n=this.parent;return mK(this,n,y0(this,n))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}isValid(){if(this.offset<0)return!1;let n=this.root;for(let r=0;r<this.path.length-1;r++)if(n=n.getChildAtOffset(this.path[r]),!n)return!1;return this.offset<=n.maxOffset}compareWith(n){if(this.root!=n.root)return"different";const r=ni(this.path,n.path);switch(r){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[r]<n.path[r]?"before":"after"}}getLastMatchingPosition(n,r={}){r.startPosition=this;const s=new Gg(r);return s.skip(n),s.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const n=this.parent;return n.is("documentFragment")?[n]:n.getAncestors({includeSelf:!0})}findAncestor(n){const r=this.parent;return r.is("element")?r.findAncestor(n,{includeSelf:!0}):null}getCommonPath(n){if(this.root!=n.root)return[];const r=ni(this.path,n.path),s=typeof r=="string"?Math.min(this.path.length,n.path.length):r;return this.path.slice(0,s)}getCommonAncestor(n){const r=this.getAncestors(),s=n.getAncestors();let i=0;for(;r[i]==s[i]&&r[i];)i++;return i===0?null:r[i-1]}getShiftedBy(n){const r=this.clone(),s=r.offset+n;return r.offset=s<0?0:s,r}isAfter(n){return this.compareWith(n)=="after"}isBefore(n){return this.compareWith(n)=="before"}isEqual(n){return this.compareWith(n)=="same"}isTouching(n){if(this.root!==n.root)return!1;const r=Math.min(this.path.length,n.path.length);for(let s=0;s<r;s++){const i=this.path[s]-n.path[s];if(i<-1||i>1)return!1;if(i===1)return y7(n,this,s);if(i===-1)return y7(this,n,s)}return this.path.length===n.path.length?!0:this.path.length>n.path.length?ET(this.path,r):ET(n.path,r)}hasSameParentAs(n){if(this.root!==n.root)return!1;const r=this.getParentPath(),s=n.getParentPath();return ni(r,s)=="same"}getTransformedByOperation(n){let r;switch(n.type){case"insert":r=this._getTransformedByInsertOperation(n);break;case"move":case"remove":case"reinsert":r=this._getTransformedByMoveOperation(n);break;case"split":r=this._getTransformedBySplitOperation(n);break;case"merge":r=this._getTransformedByMergeOperation(n);break;default:r=St._createAt(this);break}return r}_getTransformedByInsertOperation(n){return this._getTransformedByInsertion(n.position,n.howMany)}_getTransformedByMoveOperation(n){return this._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany)}_getTransformedBySplitOperation(n){const r=n.movedRange;return r.containsPosition(this)||r.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(n.splitPosition,n.moveTargetPosition):n.graveyardPosition?this._getTransformedByMove(n.graveyardPosition,n.insertionPosition,1):this._getTransformedByInsertion(n.insertionPosition,1)}_getTransformedByMergeOperation(n){const r=n.movedRange,s=r.containsPosition(this)||r.start.isEqual(this);let i;return s?(i=this._getCombined(n.sourcePosition,n.targetPosition),n.sourcePosition.isBefore(n.targetPosition)&&(i=i._getTransformedByDeletion(n.deletionPosition,1))):this.isEqual(n.deletionPosition)?i=St._createAt(n.deletionPosition):i=this._getTransformedByMove(n.deletionPosition,n.graveyardPosition,1),i}_getTransformedByDeletion(n,r){const s=St._createAt(this);if(this.root!=n.root)return s;if(ni(n.getParentPath(),this.getParentPath())=="same"){if(n.offset<this.offset){if(n.offset+r>this.offset)return null;s.offset-=r}}else if(ni(n.getParentPath(),this.getParentPath())=="prefix"){const i=n.path.length-1;if(n.offset<=this.path[i]){if(n.offset+r>this.path[i])return null;s.path[i]-=r}}return s}_getTransformedByInsertion(n,r){const s=St._createAt(this);if(this.root!=n.root)return s;if(ni(n.getParentPath(),this.getParentPath())=="same")(n.offset<this.offset||n.offset==this.offset&&this.stickiness!="toPrevious")&&(s.offset+=r);else if(ni(n.getParentPath(),this.getParentPath())=="prefix"){const i=n.path.length-1;n.offset<=this.path[i]&&(s.path[i]+=r)}return s}_getTransformedByMove(n,r,s){if(r=r._getTransformedByDeletion(n,s),n.isEqual(r))return St._createAt(this);const i=this._getTransformedByDeletion(n,s);return i===null||n.isEqual(this)&&this.stickiness=="toNext"||n.getShiftedBy(s).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(n,r):i._getTransformedByInsertion(r,s)}_getCombined(n,r){const s=n.path.length-1,i=St._createAt(r);return i.stickiness=this.stickiness,i.offset=i.offset+this.path[s]-n.offset,i.path=[...i.path,...this.path.slice(s+1)],i}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(n,r,s="toNone"){if(n.is("model:position"))return new St(n.root,n.path,n.stickiness);{const i=n;if(r=="end")r=i.maxOffset;else{if(r=="before")return this._createBefore(i,s);if(r=="after")return this._createAfter(i,s);if(r!==0&&!r)throw new lt("model-createpositionat-offset-required",[this,n])}if(!i.is("element")&&!i.is("documentFragment"))throw new lt("model-position-parent-incorrect",[this,n]);const o=i.getPath();return o.push(r),new this(i.root,o,s)}}static _createAfter(n,r){if(!n.parent)throw new lt("model-position-after-root",[this,n],{root:n});return this._createAt(n.parent,n.endOffset,r)}static _createBefore(n,r){if(!n.parent)throw new lt("model-position-before-root",n,{root:n});return this._createAt(n.parent,n.startOffset,r)}static fromJSON(n,r){if(n.root==="$graveyard"){const s=new St(r.graveyard,n.path);return s.stickiness=n.stickiness,s}if(!r.getRoot(n.root))throw new lt("model-position-fromjson-no-root",r,{rootName:n.root});return new St(r.getRoot(n.root),n.path,n.stickiness)}}St.prototype.is=function(t){return t==="position"||t==="model:position"};function y0(t,e){const n=e.getChildAtOffset(t.offset);return n&&n.is("$text")&&n.startOffset<t.offset?n:null}function fK(t,e,n){return n!==null?null:e.getChildAtOffset(t.offset)}function mK(t,e,n){return n!==null?null:e.getChild(e.offsetToIndex(t.offset)-1)}function y7(t,e,n){return!(n+1===t.path.length||!ET(e.path,n+1)||!zke(t,n+1))}function ET(t,e){for(;e<t.length;){if(t[e]!==0)return!1;e++}return!0}function zke(t,e){let n=t.parent,r=t.path.length-1,s=0;for(;r>=e;){if(t.path[r]+s!==n.maxOffset)return!1;s=1,r--,n=n.parent}return!0}class vt extends Nd{constructor(n,r){super();we(this,"start");we(this,"end");this.start=St._createAt(n),this.end=r?St._createAt(r):St._createAt(n),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new Gg({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){const n=this.start.getParentPath(),r=this.end.getParentPath();return ni(n,r)=="same"}get root(){return this.start.root}containsPosition(n){return n.isAfter(this.start)&&n.isBefore(this.end)}containsRange(n,r=!1){n.isCollapsed&&(r=!1);const s=this.containsPosition(n.start)||r&&this.start.isEqual(n.start),i=this.containsPosition(n.end)||r&&this.end.isEqual(n.end);return s&&i}containsItem(n){const r=St._createBefore(n);return this.containsPosition(r)||this.start.isEqual(r)}isEqual(n){return this.start.isEqual(n.start)&&this.end.isEqual(n.end)}isIntersecting(n){return this.start.isBefore(n.end)&&this.end.isAfter(n.start)}getDifference(n){const r=[];return this.isIntersecting(n)?(this.containsPosition(n.start)&&r.push(new vt(this.start,n.start)),this.containsPosition(n.end)&&r.push(new vt(n.end,this.end))):r.push(new vt(this.start,this.end)),r}getIntersection(n){if(this.isIntersecting(n)){let r=this.start,s=this.end;return this.containsPosition(n.start)&&(r=n.start),this.containsPosition(n.end)&&(s=n.end),new vt(r,s)}return null}getJoined(n,r=!1){let s=this.isIntersecting(n);if(s||(this.start.isBefore(n.start)?s=r?this.end.isTouching(n.start):this.end.isEqual(n.start):s=r?n.end.isTouching(this.start):n.end.isEqual(this.start)),!s)return null;let i=this.start,o=this.end;return n.start.isBefore(i)&&(i=n.start),n.end.isAfter(o)&&(o=n.end),new vt(i,o)}getMinimalFlatRanges(){const n=[],r=this.start.getCommonPath(this.end).length,s=St._createAt(this.start);let i=s.parent;for(;s.path.length>r+1;){const o=i.maxOffset-s.offset;o!==0&&n.push(new vt(s,s.getShiftedBy(o))),s.path=s.path.slice(0,-1),s.offset++,i=i.parent}for(;s.path.length<=this.end.path.length;){const o=this.end.path[s.path.length-1],l=o-s.offset;l!==0&&n.push(new vt(s,s.getShiftedBy(l))),s.offset=o,s.path.push(0)}return n}getWalker(n={}){return n.boundaries=this,new Gg(n)}*getItems(n={}){n.boundaries=this,n.ignoreElementEnd=!0;const r=new Gg(n);for(const s of r)yield s.item}*getPositions(n={}){n.boundaries=this;const r=new Gg(n);yield r.position;for(const s of r)yield s.nextPosition}getTransformedByOperation(n){switch(n.type){case"insert":return this._getTransformedByInsertOperation(n);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(n);case"split":return[this._getTransformedBySplitOperation(n)];case"merge":return[this._getTransformedByMergeOperation(n)]}return[new vt(this.start,this.end)]}getTransformedByOperations(n){const r=[new vt(this.start,this.end)];for(const s of n)for(let i=0;i<r.length;i++){const o=r[i].getTransformedByOperation(s);r.splice(i,1,...o),i+=o.length-1}for(let s=0;s<r.length;s++){const i=r[s];for(let o=s+1;o<r.length;o++){const l=r[o];(i.containsRange(l)||l.containsRange(i)||i.isEqual(l))&&r.splice(o,1)}}return r}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const n=this.start.nodeAfter,r=this.end.nodeBefore;return n&&n.is("element")&&n===r?n:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(n,r=!1){return this._getTransformedByInsertion(n.position,n.howMany,r)}_getTransformedByMoveOperation(n,r=!1){const s=n.sourcePosition,i=n.howMany,o=n.targetPosition;return this._getTransformedByMove(s,o,i,r)}_getTransformedBySplitOperation(n){const r=this.start._getTransformedBySplitOperation(n);let s=this.end._getTransformedBySplitOperation(n);return this.end.isEqual(n.insertionPosition)&&(s=this.end.getShiftedBy(1)),r.root!=s.root&&(s=this.end.getShiftedBy(-1)),new vt(r,s)}_getTransformedByMergeOperation(n){if(this.start.isEqual(n.targetPosition)&&this.end.isEqual(n.deletionPosition))return new vt(this.start);let r=this.start._getTransformedByMergeOperation(n),s=this.end._getTransformedByMergeOperation(n);return r.root!=s.root&&(s=this.end.getShiftedBy(-1)),r.isAfter(s)?(n.sourcePosition.isBefore(n.targetPosition)?(r=St._createAt(s),r.offset=0):(n.deletionPosition.isEqual(r)||(s=n.deletionPosition),r=n.targetPosition),new vt(r,s)):new vt(r,s)}_getTransformedByInsertion(n,r,s=!1){if(s&&this.containsPosition(n))return[new vt(this.start,n),new vt(n.getShiftedBy(r),this.end._getTransformedByInsertion(n,r))];{const i=new vt(this.start,this.end);return i.start=i.start._getTransformedByInsertion(n,r),i.end=i.end._getTransformedByInsertion(n,r),[i]}}_getTransformedByMove(n,r,s,i=!1){if(this.isCollapsed){const p=this.start._getTransformedByMove(n,r,s);return[new vt(p)]}const o=vt._createFromPositionAndShift(n,s),l=r._getTransformedByDeletion(n,s);if(this.containsPosition(r)&&!i&&(o.containsPosition(this.start)||o.containsPosition(this.end))){const p=this.start._getTransformedByMove(n,r,s),v=this.end._getTransformedByMove(n,r,s);return[new vt(p,v)]}let u;const h=this.getDifference(o);let f=null;const g=this.getIntersection(o);if(h.length==1?f=new vt(h[0].start._getTransformedByDeletion(n,s),h[0].end._getTransformedByDeletion(n,s)):h.length==2&&(f=new vt(this.start,this.end._getTransformedByDeletion(n,s))),f?u=f._getTransformedByInsertion(l,s,g!==null||i):u=[],g){const p=new vt(g.start._getCombined(o.start,l),g.end._getCombined(o.start,l));u.length==2?u.splice(1,0,p):u.push(p)}return u}_getTransformedByDeletion(n,r){let s=this.start._getTransformedByDeletion(n,r),i=this.end._getTransformedByDeletion(n,r);return s==null&&i==null?null:(s==null&&(s=n),i==null&&(i=n),new vt(s,i))}static _createFromPositionAndShift(n,r){const s=n,i=n.getShiftedBy(r);return r>0?new this(s,i):new this(i,s)}static _createIn(n){return new this(St._createAt(n,0),St._createAt(n,n.maxOffset))}static _createOn(n){return this._createFromPositionAndShift(St._createBefore(n),n.offsetSize)}static _createFromRanges(n){if(n.length===0)throw new lt("range-create-from-ranges-empty-array",null);if(n.length==1)return n[0].clone();const r=n[0];n.sort((o,l)=>o.start.isAfter(l.start)?1:-1);const s=n.indexOf(r),i=new this(r.start,r.end);for(let o=s-1;o>=0&&n[o].end.isEqual(i.start);o--)i.start=St._createAt(n[o].start);for(let o=s+1;o<n.length&&n[o].start.isEqual(i.end);o++)i.end=St._createAt(n[o].end);return i}static fromJSON(n,r){return new this(St.fromJSON(n.start,r),St.fromJSON(n.end,r))}}vt.prototype.is=function(t){return t==="range"||t==="model:range"};let Rp=class extends Nd{constructor(n){super();we(this,"parent",null);we(this,"_attrs");we(this,"_index",null);we(this,"_startOffset",null);this._attrs=av(n)}get document(){return null}get index(){return this._index}get startOffset(){return this._startOffset}get offsetSize(){return 1}get endOffset(){return this.startOffset===null?null:this.startOffset+this.offsetSize}get nextSibling(){const n=this.index;return n!==null&&this.parent.getChild(n+1)||null}get previousSibling(){const n=this.index;return n!==null&&this.parent.getChild(n-1)||null}get root(){let n=this;for(;n.parent;)n=n.parent;return n}isAttached(){return this.parent===null?!1:this.root.isAttached()}getPath(){const n=[];let r=this;for(;r.parent;)n.unshift(r.startOffset),r=r.parent;return n}getAncestors(n={}){const r=[];let s=n.includeSelf?this:this.parent;for(;s;)r[n.parentFirst?"push":"unshift"](s),s=s.parent;return r}getCommonAncestor(n,r={}){const s=this.getAncestors(r),i=n.getAncestors(r);let o=0;for(;s[o]==i[o]&&s[o];)o++;return o===0?null:s[o-1]}isBefore(n){if(this==n||this.root!==n.root)return!1;const r=this.getPath(),s=n.getPath(),i=ni(r,s);switch(i){case"prefix":return!0;case"extension":return!1;default:return r[i]<s[i]}}isAfter(n){return this==n||this.root!==n.root?!1:!this.isBefore(n)}hasAttribute(n){return this._attrs.has(n)}getAttribute(n){return this._attrs.get(n)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const n={};return this._attrs.size&&(n.attributes=Array.from(this._attrs).reduce((r,s)=>(r[s[0]]=s[1],r),{})),n}_clone(n){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(n,r){this._attrs.set(n,r)}_setAttributesTo(n){this._attrs=av(n)}_removeAttribute(n){return this._attrs.delete(n)}_clearAttributes(){this._attrs.clear()}};Rp.prototype.is=function(t){return t==="node"||t==="model:node"};class Qw extends ea(Nd){constructor(...n){super();we(this,"_lastRangeBackward",!1);we(this,"_attrs",new Map);we(this,"_ranges",[]);n.length&&this.setTo(...n)}get anchor(){if(this._ranges.length>0){const n=this._ranges[this._ranges.length-1];return this._lastRangeBackward?n.end:n.start}return null}get focus(){if(this._ranges.length>0){const n=this._ranges[this._ranges.length-1];return this._lastRangeBackward?n.start:n.end}return null}get isCollapsed(){return this._ranges.length===1?this._ranges[0].isCollapsed:!1}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(n){if(this.rangeCount!=n.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(n.anchor)||!this.focus.isEqual(n.focus))return!1;for(const r of this._ranges){let s=!1;for(const i of n._ranges)if(r.isEqual(i)){s=!0;break}if(!s)return!1}return!0}*getRanges(){for(const n of this._ranges)yield new vt(n.start,n.end)}getFirstRange(){let n=null;for(const r of this._ranges)(!n||r.start.isBefore(n.start))&&(n=r);return n?new vt(n.start,n.end):null}getLastRange(){let n=null;for(const r of this._ranges)(!n||r.end.isAfter(n.end))&&(n=r);return n?new vt(n.start,n.end):null}getFirstPosition(){const n=this.getFirstRange();return n?n.start.clone():null}getLastPosition(){const n=this.getLastRange();return n?n.end.clone():null}setTo(...n){let[r,s,i]=n;if(typeof s=="object"&&(i=s,s=void 0),r===null)this._setRanges([]);else if(r instanceof Qw)this._setRanges(r.getRanges(),r.isBackward);else if(r&&typeof r.getRanges=="function")this._setRanges(r.getRanges(),r.isBackward);else if(r instanceof vt)this._setRanges([r],!!i&&!!i.backward);else if(r instanceof St)this._setRanges([new vt(r)]);else if(r instanceof Rp){const o=!!i&&!!i.backward;let l;if(s=="in")l=vt._createIn(r);else if(s=="on")l=vt._createOn(r);else if(s!==void 0)l=new vt(St._createAt(r,s));else throw new lt("model-selection-setto-required-second-parameter",[this,r]);this._setRanges([l],o)}else if(uu(r))this._setRanges(r,i&&!!i.backward);else throw new lt("model-selection-setto-not-selectable",[this,r])}_setRanges(n,r=!1){const s=Array.from(n),i=s.some(o=>{if(!(o instanceof vt))throw new lt("model-selection-set-ranges-not-range",[this,n]);return this._ranges.every(l=>!l.isEqual(o))});s.length===this._ranges.length&&!i||(this._replaceAllRanges(s),this._lastRangeBackward=!!r,this.fire("change:range",{directChange:!0}))}setFocus(n,r){if(this.anchor===null)throw new lt("model-selection-setfocus-no-ranges",[this,n]);const s=St._createAt(n,r);if(s.compareWith(this.focus)=="same")return;const i=this.anchor;this._ranges.length&&this._popRange(),s.compareWith(i)=="before"?(this._pushRange(new vt(s,i)),this._lastRangeBackward=!0):(this._pushRange(new vt(i,s)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(n){return this._attrs.get(n)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(n){return this._attrs.has(n)}removeAttribute(n){this.hasAttribute(n)&&(this._attrs.delete(n),this.fire("change:attribute",{attributeKeys:[n],directChange:!0}))}setAttribute(n,r){this.getAttribute(n)!==r&&(this._attrs.set(n,r),this.fire("change:attribute",{attributeKeys:[n],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const n=new WeakSet;for(const r of this.getRanges()){const s=x7(r.start,n);$ke(s,r)&&(yield s);const i=r.getWalker();for(const l of i){const u=l.item;l.type=="elementEnd"&&qke(u,n,r)?yield u:l.type=="elementStart"&&u.is("model:element")&&u.root.document.model.schema.isBlock(u)&&i.jumpTo(St._createAt(u,"end"))}const o=x7(r.end,n);Vke(o,r)&&(yield o)}}containsEntireContent(n=this.anchor.root){const r=St._createAt(n,0),s=St._createAt(n,"end");return r.isTouching(this.getFirstPosition())&&s.isTouching(this.getLastPosition())}_pushRange(n){this._checkRange(n),this._ranges.push(new vt(n.start,n.end))}_checkRange(n){for(let r=0;r<this._ranges.length;r++)if(n.isIntersecting(this._ranges[r]))throw new lt("model-selection-range-intersects",[this,n],{addedRange:n,intersectingRange:this._ranges[r]})}_replaceAllRanges(n){this._removeAllRanges();for(const r of n)this._pushRange(r)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}Qw.prototype.is=function(t){return t==="selection"||t==="model:selection"};function pK(t,e){return e.has(t)?!1:(e.add(t),t.root.document.model.schema.isBlock(t)&&!!t.parent)}function qke(t,e,n){return pK(t,e)&&ZL(t,n)}function x7(t,e){const r=t.parent.root.document.model.schema,s=t.parent.getAncestors({parentFirst:!0,includeSelf:!0});let i=!1;const o=s.find(l=>i?!1:(i=r.isLimit(l),!i&&pK(l,e)));return s.forEach(l=>e.add(l)),o}function ZL(t,e){const n=Hke(t);return n?!e.containsRange(vt._createOn(n),!0):!0}function $ke(t,e){return t?e.isCollapsed||t.isEmpty?!0:e.start.isTouching(St._createAt(t,t.maxOffset))?!1:ZL(t,e):!1}function Vke(t,e){return t?e.isCollapsed||t.isEmpty?!0:e.end.isTouching(St._createAt(t,0))?!1:ZL(t,e):!1}function Hke(t){const e=t.root.document.model.schema;let n=t.parent;for(;n;){if(e.isBlock(n))return n;n=n.parent}}class Zw extends ea(vt){constructor(e,n){super(e,n),Gke.call(this)}detach(){this.stopListening()}toRange(){return new vt(this.start,this.end)}static fromRange(e){return new Zw(e.start,e.end)}}Zw.prototype.is=function(t){return t==="liveRange"||t==="model:liveRange"||t=="range"||t==="model:range"};function Gke(){this.listenTo(this.root.document.model,"applyOperation",(t,e)=>{const n=e[0];n.isDocumentOperation&&Wke.call(this,n)},{priority:"low"})}function Wke(t){const e=this.getTransformedByOperation(t),n=vt._createFromRanges(e),r=!n.isEqual(this),s=Kke(this,t);let i=null;if(r){n.root.rootName=="$graveyard"&&(t.type=="remove"?i=t.sourcePosition:i=t.deletionPosition);const o=this.toRange();this.start=n.start,this.end=n.end,this.fire("change:range",o,{deletionPosition:i})}else s&&this.fire("change:content",this.toRange(),{deletionPosition:i})}function Kke(t,e){switch(e.type){case"insert":return t.containsPosition(e.position);case"move":case"remove":case"reinsert":case"merge":return t.containsPosition(e.sourcePosition)||t.start.isEqual(e.sourcePosition)||t.containsPosition(e.targetPosition);case"split":return t.containsPosition(e.splitPosition)||t.containsPosition(e.insertionPosition)}return!1}let Us=class ST extends Rp{constructor(n,r){super(r);we(this,"_data");this._data=n||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const n=super.toJSON();return n.data=this.data,n}_clone(){return new ST(this.data,this.getAttributes())}static fromJSON(n){return new ST(n.data,n.attributes)}};Us.prototype.is=function(t){return t==="$text"||t==="model:$text"||t==="text"||t==="model:text"||t==="node"||t==="model:node"};const iv="selection:";class Yke extends ea(Nd){constructor(n){super();we(this,"_selection");this._selection=new Xke(n),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(n){return this._selection.containsEntireContent(n)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(n){return this._selection.getAttribute(n)}hasAttribute(n){return this._selection.hasAttribute(n)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(n){this._selection.observeMarkers(n)}_setFocus(n,r){this._selection.setFocus(n,r)}_setTo(...n){this._selection.setTo(...n)}_setAttribute(n,r){this._selection.setAttribute(n,r)}_removeAttribute(n){this._selection.removeAttribute(n)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(n){this._selection.restoreGravity(n)}static _getStoreAttributeKey(n){return iv+n}static _isStoreAttributeKey(n){return n.startsWith(iv)}}Yke.prototype.is=function(t){return t==="selection"||t=="model:selection"||t=="documentSelection"||t=="model:documentSelection"};class Xke extends Qw{constructor(n){super();we(this,"markers",new uke({idProperty:"name"}));we(this,"_model");we(this,"_document");we(this,"_attributePriority",new Map);we(this,"_selectionRestorePosition",null);we(this,"_hasChangedRange",!1);we(this,"_overriddenGravityRegister",new Set);we(this,"_observedMarkers",new Set);this._model=n.model,this._document=n,this.listenTo(this._model,"applyOperation",(r,s)=>{const i=s[0];!i.isDocumentOperation||i.type=="marker"||i.type=="rename"||i.type=="noop"||(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(r,s,i,o)=>{this._updateMarker(s,o)}),this.listenTo(this._document,"change",(r,s)=>{Jke(this._model,s)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let n=0;n<this._ranges.length;n++)this._ranges[n].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...n){super.setTo(...n),this._updateAttributes(!0),this.updateMarkers()}setFocus(n,r){super.setFocus(n,r),this._updateAttributes(!0),this.updateMarkers()}setAttribute(n,r){if(this._setAttribute(n,r)){const s=[n];this.fire("change:attribute",{attributeKeys:s,directChange:!0})}}removeAttribute(n){if(this._removeAttribute(n)){const r=[n];this.fire("change:attribute",{attributeKeys:r,directChange:!0})}}overrideGravity(){const n=Jw();return this._overriddenGravityRegister.add(n),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),n}restoreGravity(n){if(!this._overriddenGravityRegister.has(n))throw new lt("document-selection-gravity-wrong-restore",this,{uid:n});this._overriddenGravityRegister.delete(n),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(n){this._observedMarkers.add(n),this.updateMarkers()}_replaceAllRanges(n){this._validateSelectionRanges(n),super._replaceAllRanges(n)}_popRange(){this._ranges.pop().detach()}_pushRange(n){const r=this._prepareRange(n);r&&this._ranges.push(r)}_validateSelectionRanges(n){for(const r of n)if(!this._document._validateSelectionRange(r))throw new lt("document-selection-wrong-position",this,{range:r})}_prepareRange(n){if(this._checkRange(n),n.root==this._document.graveyard)return;const r=Zw.fromRange(n);return r.on("change:range",(s,i,o)=>{if(this._hasChangedRange=!0,r.root==this._document.graveyard){this._selectionRestorePosition=o.deletionPosition;const l=this._ranges.indexOf(r);this._ranges.splice(l,1),r.detach()}}),r}updateMarkers(){if(!this._observedMarkers.size)return;const n=[];let r=!1;for(const i of this._model.markers){const o=i.name.split(":",1)[0];if(!this._observedMarkers.has(o))continue;const l=i.getRange();for(const u of this.getRanges())l.containsRange(u,!u.isCollapsed)&&n.push(i)}const s=Array.from(this.markers);for(const i of n)this.markers.has(i)||(this.markers.add(i),r=!0);for(const i of Array.from(this.markers))n.includes(i)||(this.markers.remove(i),r=!0);r&&this.fire("change:marker",{oldMarkers:s,directChange:!1})}_updateMarker(n,r){const s=n.name.split(":",1)[0];if(!this._observedMarkers.has(s))return;let i=!1;const o=Array.from(this.markers),l=this.markers.has(n);if(!r)l&&(this.markers.remove(n),i=!0);else{let u=!1;for(const h of this.getRanges())if(r.containsRange(h,!h.isCollapsed)){u=!0;break}u&&!l?(this.markers.add(n),i=!0):!u&&l&&(this.markers.remove(n),i=!0)}i&&this.fire("change:marker",{oldMarkers:o,directChange:!1})}_updateAttributes(n){const r=av(this._getSurroundingAttributes()),s=av(this.getAttributes());if(n)this._attributePriority=new Map,this._attrs=new Map;else for(const[o,l]of this._attributePriority)l=="low"&&(this._attrs.delete(o),this._attributePriority.delete(o));this._setAttributesTo(r);const i=[];for(const[o,l]of this.getAttributes())(!s.has(o)||s.get(o)!==l)&&i.push(o);for(const[o]of s)this.hasAttribute(o)||i.push(o);i.length>0&&this.fire("change:attribute",{attributeKeys:i,directChange:!1})}_setAttribute(n,r,s=!0){const i=s?"normal":"low";return i=="low"&&this._attributePriority.get(n)=="normal"||super.getAttribute(n)===r?!1:(this._attrs.set(n,r),this._attributePriority.set(n,i),!0)}_removeAttribute(n,r=!0){const s=r?"normal":"low";return s=="low"&&this._attributePriority.get(n)=="normal"||(this._attributePriority.set(n,s),!super.hasAttribute(n))?!1:(this._attrs.delete(n),!0)}_setAttributesTo(n){const r=new Set;for(const[s,i]of this.getAttributes())n.get(s)!==i&&this._removeAttribute(s,!1);for(const[s,i]of n)this._setAttribute(s,i,!1)&&r.add(s);return r}*getStoredAttributes(){const n=this.getFirstPosition().parent;if(this.isCollapsed&&n.isEmpty)for(const r of n.getAttributeKeys())r.startsWith(iv)&&(yield[r.substr(iv.length),n.getAttribute(r)])}_getSurroundingAttributes(){const n=this.getFirstPosition(),r=this._model.schema;if(n.root.rootName=="$graveyard")return null;let s=null;if(this.isCollapsed){const i=n.textNode?n.textNode:n.nodeBefore,o=n.textNode?n.textNode:n.nodeAfter;if(this.isGravityOverridden||(s=Ig(i,r)),s||(s=Ig(o,r)),!this.isGravityOverridden&&!s){let l=i;for(;l&&!s;)l=l.previousSibling,s=Ig(l,r)}if(!s){let l=o;for(;l&&!s;)l=l.nextSibling,s=Ig(l,r)}s||(s=this.getStoredAttributes())}else{const i=this.getFirstRange();for(const o of i){if(o.item.is("element")&&r.isObject(o.item)){s=Ig(o.item,r);break}if(o.type=="text"){s=o.item.getAttributes();break}}}return s}_fixGraveyardSelection(n){const r=this._model.schema.getNearestSelectionRange(n);r&&this._pushRange(r)}}function Ig(t,e){if(!t)return null;if(t instanceof kh||t instanceof Us)return t.getAttributes();if(!e.isInline(t))return null;if(!e.isObject(t))return[];const n=[];for(const[r,s]of t.getAttributes())e.checkAttribute("$text",r)&&e.getAttributeProperties(r).copyFromObject!==!1&&n.push([r,s]);return n}function Jke(t,e){const n=t.document.differ;for(const r of n.getChanges()){if(r.type!="insert")continue;const s=r.position.parent;r.length===s.maxOffset&&t.enqueueChange(e,o=>{const l=Array.from(s.getAttributeKeys()).filter(u=>u.startsWith(iv));for(const u of l)o.removeAttribute(u,s)})}}class x0{constructor(e){we(this,"_nodes",[]);we(this,"_offsetToNode",[]);e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._offsetToNode.length}getNode(e){return this._nodes[e]||null}getNodeAtOffset(e){return this._offsetToNode[e]||null}getNodeIndex(e){return e.index}getNodeStartOffset(e){return e.startOffset}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;const n=this._nodes[e];if(!n)throw new lt("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(n)}offsetToIndex(e){if(e==this._offsetToNode.length)return this._nodes.length;const n=this._offsetToNode[e];if(!n)throw new lt("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.getNodeIndex(n)}_insertNodes(e,n){const r=[];for(const i of n){if(!(i instanceof Rp))throw new lt("model-nodelist-insertnodes-not-node",this);r.push(i)}let s=this.indexToOffset(e);h7(this._nodes,r,e),h7(this._offsetToNode,Qke(r),s);for(let i=e;i<this._nodes.length;i++)this._nodes[i]._index=i,this._nodes[i]._startOffset=s,s+=this._nodes[i].offsetSize}_removeNodes(e,n=1){if(n==0)return[];let r=this.indexToOffset(e);const s=this._nodes.splice(e,n),i=s[s.length-1],o=i.startOffset+i.offsetSize-r;this._offsetToNode.splice(r,o);for(const l of s)l._index=null,l._startOffset=null;for(let l=e;l<this._nodes.length;l++)this._nodes[l]._index=l,this._nodes[l]._startOffset=r,r+=this._nodes[l].offsetSize;return s}_removeNodesArray(e){if(e.length==0)return;for(const r of e)r._index=null,r._startOffset=null;this._nodes=this._nodes.filter(r=>r.index!==null),this._offsetToNode=this._offsetToNode.filter(r=>r.index!==null);let n=0;for(let r=0;r<this._nodes.length;r++)this._nodes[r]._index=r,this._nodes[r]._startOffset=n,n+=this._nodes[r].offsetSize}toJSON(){return this._nodes.map(e=>e.toJSON())}}function Qke(t){const e=[];let n=0;for(const r of t)for(let s=0;s<r.offsetSize;s++)e[n++]=r;return e}let Jv=class m1 extends Rp{constructor(n,r,s){super(r);we(this,"name");we(this,"_children",new x0);this.name=n,s&&this._insertChild(0,s)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(n){return this._children.getNode(n)}getChildAtOffset(n){return this._children.getNodeAtOffset(n)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(n){return this._children.getNodeIndex(n)}getChildStartOffset(n){return this._children.getNodeStartOffset(n)}offsetToIndex(n){return this._children.offsetToIndex(n)}getNodeByPath(n){let r=this;for(const s of n)r=r.getChildAtOffset(s);return r}findAncestor(n,r={}){let s=r.includeSelf?this:this.parent;for(;s;){if(s.name===n)return s;s=s.parent}return null}toJSON(){const n=super.toJSON();if(n.name=this.name,this._children.length>0){n.children=[];for(const r of this._children)n.children.push(r.toJSON())}return n}_clone(n=!1){const r=n?eOe(this._children):void 0;return new m1(this.name,this.getAttributes(),r)}_appendChild(n){this._insertChild(this.childCount,n)}_insertChild(n,r){const s=Zke(r);for(const i of s)i.parent!==null&&i._remove(),i.parent=this;this._children._insertNodes(n,s)}_removeChildren(n,r=1){const s=this._children._removeNodes(n,r);for(const i of s)i.parent=null;return s}_removeChildrenArray(n){this._children._removeNodesArray(n);for(const r of n)r.parent=null}static fromJSON(n){let r;if(n.children){r=[];for(const s of n.children)s.name?r.push(m1.fromJSON(s)):r.push(Us.fromJSON(s))}return new m1(n.name,n.attributes,r)}};Jv.prototype.is=function(t,e){return e?e===this.name&&(t==="element"||t==="model:element"):t==="element"||t==="model:element"||t==="node"||t==="model:node"};function Zke(t){if(typeof t=="string")return[new Us(t)];uu(t)||(t=[t]);const e=[];for(const n of t)typeof n=="string"?e.push(new Us(n)):n instanceof kh?e.push(new Us(n.data,n.getAttributes())):e.push(n);return e}function eOe(t){const e=[];for(const n of t)e.push(n._clone(!0));return e}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class Io{constructor(e){we(this,"baseVersion");we(this,"isDocumentOperation");we(this,"batch");this.baseVersion=e,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}static get className(){return"Operation"}static fromJSON(e,n){return new this(e.baseVersion)}}function e4(t,e){const n=gK(e),r=n.reduce((o,l)=>o+l.offsetSize,0),s=t.parent;cv(t);const i=t.index;return s._insertChild(i,n),lv(s,i+n.length),lv(s,i),new vt(t,t.getShiftedBy(r))}function tOe(t){if(!t.isFlat)throw new lt("operation-utils-remove-range-not-flat",this);const e=t.start.parent;cv(t.start),cv(t.end);const n=e._removeChildren(t.start.index,t.end.index-t.start.index);return lv(e,t.start.index),n}function ov(t,e){if(!t.isFlat)throw new lt("operation-utils-move-range-not-flat",this);const n=tOe(t);return e=e._getTransformedByDeletion(t.start,t.end.offset-t.start.offset),e4(e,n)}function nOe(t,e,n){cv(t.start),cv(t.end);for(const r of t.getItems({shallow:!0})){const s=r.is("$textProxy")?r.textNode:r;n!==null?s._setAttribute(e,n):s._removeAttribute(e),lv(s.parent,s.index)}lv(t.end.parent,t.end.index)}function gK(t){const e=[];function n(r){if(typeof r=="string")e.push(new Us(r));else if(r instanceof kh)e.push(new Us(r.data,r.getAttributes()));else if(r instanceof Rp)e.push(r);else if(uu(r))for(const s of r)n(s)}n(t);for(let r=1;r<e.length;r++){const s=e[r],i=e[r-1];s instanceof Us&&i instanceof Us&&vK(s,i)&&(e.splice(r-1,2,new Us(i.data+s.data,i.getAttributes())),r--)}return e}function lv(t,e){const n=t.getChild(e-1),r=t.getChild(e);if(n&&r&&n.is("$text")&&r.is("$text")&&vK(n,r)){const s=new Us(n.data+r.data,n.getAttributes());t._removeChildren(e-1,2),t._insertChild(e-1,s)}}function cv(t){const e=t.textNode,n=t.parent;if(e){const r=t.offset-e.startOffset,s=e.index;n._removeChildren(s,1);const i=new Us(e.data.substr(0,r),e.getAttributes()),o=new Us(e.data.substr(r),e.getAttributes());n._insertChild(s,[i,o])}}function vK(t,e){const n=t.getAttributes(),r=e.getAttributes();for(const s of n){if(s[1]!==e.getAttribute(s[0]))return!1;r.next()}return r.next().done}class Er extends Io{constructor(n,r,s,i){super(i);we(this,"sourcePosition");we(this,"howMany");we(this,"targetPosition");this.sourcePosition=n.clone(),this.sourcePosition.stickiness="toNext",this.howMany=r,this.targetPosition=s.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[vt._createFromPositionAndShift(this.sourcePosition,this.howMany),vt._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new Er(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const n=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new Er(this.getMovedRangeStart(),this.howMany,n,this.baseVersion+1)}_validate(){const n=this.sourcePosition.parent,r=this.targetPosition.parent,s=this.sourcePosition.offset,i=this.targetPosition.offset;if(s+this.howMany>n.maxOffset)throw new lt("move-operation-nodes-do-not-exist",this);if(n===r&&s<i&&i<s+this.howMany)throw new lt("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&ni(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const o=this.sourcePosition.path.length-1;if(this.targetPosition.path[o]>=s&&this.targetPosition.path[o]<s+this.howMany)throw new lt("move-operation-node-into-itself",this)}}_execute(){ov(vt._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const n=super.toJSON();return n.sourcePosition=this.sourcePosition.toJSON(),n.targetPosition=this.targetPosition.toJSON(),n}static get className(){return"MoveOperation"}static fromJSON(n,r){const s=St.fromJSON(n.sourcePosition,r),i=St.fromJSON(n.targetPosition,r);return new this(s,n.howMany,i,n.baseVersion)}}class Sa extends Io{constructor(n,r,s){super(s);we(this,"position");we(this,"nodes");we(this,"shouldReceiveAttributes");this.position=n.clone(),this.position.stickiness="toNone",this.nodes=new x0(gK(r)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const n=new x0([...this.nodes].map(s=>s._clone(!0))),r=new Sa(this.position,n,this.baseVersion);return r.shouldReceiveAttributes=this.shouldReceiveAttributes,r}getReversed(){const n=this.position.root.document.graveyard,r=new St(n,[0]);return new Er(this.position,this.nodes.maxOffset,r,this.baseVersion+1)}_validate(){const n=this.position.parent;if(!n||n.maxOffset<this.position.offset)throw new lt("insert-operation-position-invalid",this)}_execute(){const n=this.nodes;this.nodes=new x0([...n].map(r=>r._clone(!0))),e4(this.position,n)}toJSON(){const n=super.toJSON();return n.position=this.position.toJSON(),n.nodes=this.nodes.toJSON(),n}static get className(){return"InsertOperation"}static fromJSON(n,r){const s=[];for(const o of n.nodes)o.name?s.push(Jv.fromJSON(o)):s.push(Us.fromJSON(o));const i=new Sa(St.fromJSON(n.position,r),s,n.baseVersion);return i.shouldReceiveAttributes=n.shouldReceiveAttributes,i}}class Hr extends Io{constructor(n,r,s,i,o){super(o);we(this,"splitPosition");we(this,"howMany");we(this,"insertionPosition");we(this,"graveyardPosition");this.splitPosition=n.clone(),this.splitPosition.stickiness="toNext",this.howMany=r,this.insertionPosition=s,this.graveyardPosition=i?i.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const n=this.insertionPosition.path.slice();return n.push(0),new St(this.insertionPosition.root,n)}get movedRange(){const n=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new vt(this.splitPosition,n)}get affectedSelectable(){const n=[vt._createFromPositionAndShift(this.splitPosition,0),vt._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&n.push(vt._createFromPositionAndShift(this.graveyardPosition,0)),n}clone(){return new Hr(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const n=this.splitPosition.root.document.graveyard,r=new St(n,[0]);return new Va(this.moveTargetPosition,this.howMany,this.splitPosition,r,this.baseVersion+1)}_validate(){const n=this.splitPosition.parent,r=this.splitPosition.offset;if(!n||n.maxOffset<r)throw new lt("split-operation-position-invalid",this);if(n.parent){if(this.howMany!=n.maxOffset-this.splitPosition.offset)throw new lt("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new lt("split-operation-graveyard-position-invalid",this)}else throw new lt("split-operation-split-in-root",this)}_execute(){const n=this.splitPosition.parent;if(this.graveyardPosition)ov(vt._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const s=n._clone();e4(this.insertionPosition,s)}const r=new vt(St._createAt(n,this.splitPosition.offset),St._createAt(n,n.maxOffset));ov(r,this.moveTargetPosition)}toJSON(){const n=super.toJSON();return n.splitPosition=this.splitPosition.toJSON(),n.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(n.graveyardPosition=this.graveyardPosition.toJSON()),n}static get className(){return"SplitOperation"}static getInsertionPosition(n){const r=n.path.slice(0,-1);return r[r.length-1]++,new St(n.root,r,"toPrevious")}static fromJSON(n,r){const s=St.fromJSON(n.splitPosition,r),i=St.fromJSON(n.insertionPosition,r),o=n.graveyardPosition?St.fromJSON(n.graveyardPosition,r):null;return new this(s,n.howMany,i,o,n.baseVersion)}}class Va extends Io{constructor(n,r,s,i,o){super(o);we(this,"sourcePosition");we(this,"howMany");we(this,"targetPosition");we(this,"graveyardPosition");this.sourcePosition=n.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=r,this.targetPosition=s.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=i.clone()}get type(){return"merge"}get deletionPosition(){return new St(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const n=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new vt(this.sourcePosition,n)}get affectedSelectable(){const n=this.sourcePosition.parent;return[vt._createOn(n),vt._createFromPositionAndShift(this.targetPosition,0),vt._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new Va(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const n=this.targetPosition._getTransformedByMergeOperation(this),r=this.sourcePosition.path.slice(0,-1),s=new St(this.sourcePosition.root,r)._getTransformedByMergeOperation(this);return new Hr(n,this.howMany,s,this.graveyardPosition,this.baseVersion+1)}_validate(){const n=this.sourcePosition.parent,r=this.targetPosition.parent;if(n.parent)if(r.parent){if(this.howMany!=n.maxOffset)throw new lt("merge-operation-how-many-invalid",this)}else throw new lt("merge-operation-target-position-invalid",this);else throw new lt("merge-operation-source-position-invalid",this)}_execute(){const n=this.sourcePosition.parent,r=vt._createIn(n);ov(r,this.targetPosition),ov(vt._createOn(n),this.graveyardPosition)}toJSON(){const n=super.toJSON();return n.sourcePosition=n.sourcePosition.toJSON(),n.targetPosition=n.targetPosition.toJSON(),n.graveyardPosition=n.graveyardPosition.toJSON(),n}static get className(){return"MergeOperation"}static fromJSON(n,r){const s=St.fromJSON(n.sourcePosition,r),i=St.fromJSON(n.targetPosition,r),o=St.fromJSON(n.graveyardPosition,r);return new this(s,n.howMany,i,o,n.baseVersion)}}class Ao extends Io{constructor(n,r,s,i,o,l){super(l);we(this,"name");we(this,"oldRange");we(this,"newRange");we(this,"affectsData");we(this,"_markers");this.name=n,this.oldRange=r?r.clone():null,this.newRange=s?s.clone():null,this.affectsData=o,this._markers=i}get type(){return"marker"}get affectedSelectable(){const n=[];return this.oldRange&&n.push(this.oldRange.clone()),this.newRange&&(this.oldRange?n.push(...this.newRange.getDifference(this.oldRange)):n.push(this.newRange.clone())),n}clone(){return new Ao(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new Ao(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const n=super.toJSON();return this.oldRange&&(n.oldRange=this.oldRange.toJSON()),this.newRange&&(n.newRange=this.newRange.toJSON()),delete n._markers,n}static get className(){return"MarkerOperation"}static fromJSON(n,r){return new Ao(n.name,n.oldRange?vt.fromJSON(n.oldRange,r):null,n.newRange?vt.fromJSON(n.newRange,r):null,r.model.markers,n.affectsData,n.baseVersion)}}class zs extends Io{constructor(n,r,s,i,o){super(o);we(this,"range");we(this,"key");we(this,"oldValue");we(this,"newValue");this.range=n.clone(),this.key=r,this.oldValue=s===void 0?null:s,this.newValue=i===void 0?null:i}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new zs(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new zs(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const n=super.toJSON();return n.range=this.range.toJSON(),n}_validate(){if(!this.range.isFlat)throw new lt("attribute-operation-range-not-flat",this);for(const n of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!$0(n.getAttribute(this.key),this.oldValue))throw new lt("attribute-operation-wrong-old-value",this,{item:n,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&n.hasAttribute(this.key))throw new lt("attribute-operation-attribute-exists",this,{node:n,key:this.key})}}_execute(){$0(this.oldValue,this.newValue)||nOe(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(n,r){return new zs(vt.fromJSON(n.range,r),n.key,n.oldValue,n.newValue,n.baseVersion)}}class ta extends Io{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new ta(this.baseVersion)}getReversed(){return new ta(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class Wi extends Io{constructor(n,r,s,i){super(i);we(this,"position");we(this,"oldName");we(this,"newName");this.position=n,this.position.stickiness="toNext",this.oldName=r,this.newName=s}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new Wi(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new Wi(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const n=this.position.nodeAfter;if(n instanceof Jv){if(n.name!==this.oldName)throw new lt("rename-operation-wrong-name",this)}else throw new lt("rename-operation-wrong-position",this)}_execute(){const n=this.position.nodeAfter;n.name=this.newName}toJSON(){const n=super.toJSON();return n.position=this.position.toJSON(),n}static get className(){return"RenameOperation"}static fromJSON(n,r){return new Wi(St.fromJSON(n.position,r),n.oldName,n.newName,n.baseVersion)}}class ad extends Io{constructor(n,r,s,i,o){super(o);we(this,"root");we(this,"key");we(this,"oldValue");we(this,"newValue");this.root=n,this.key=r,this.oldValue=s===void 0?null:s,this.newValue=i===void 0?null:i}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new ad(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new ad(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new lt("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new lt("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new lt("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const n=super.toJSON();return n.root=this.root.toJSON(),n}static get className(){return"RootAttributeOperation"}static fromJSON(n,r){if(!r.getRoot(n.root))throw new lt("rootattribute-operation-fromjson-no-root",this,{rootName:n.root});return new ad(r.getRoot(n.root),n.key,n.oldValue,n.newValue,n.baseVersion)}}class id extends Io{constructor(n,r,s,i,o){super(o);we(this,"rootName");we(this,"elementName");we(this,"isAdd");we(this,"_document");if(this.rootName=n,this.elementName=r,this.isAdd=s,this._document=i,!this._document.getRoot(this.rootName)){const l=this._document.createRoot(this.elementName,this.rootName);l._isAttached=!1}}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new id(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new id(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const n=super.toJSON();return delete n._document,n}static get className(){return"RootOperation"}static fromJSON(n,r){return new id(n.rootName,n.elementName,n.isAdd,r,n.baseVersion)}}const ml={};ml[zs.className]=zs;ml[Sa.className]=Sa;ml[Ao.className]=Ao;ml[Er.className]=Er;ml[ta.className]=ta;ml[Io.className]=Io;ml[Wi.className]=Wi;ml[ad.className]=ad;ml[id.className]=id;ml[Hr.className]=Hr;ml[Va.className]=Va;const b7=new Map;function $n(t,e,n){let r=b7.get(t);r||(r=new Map,b7.set(t,r)),r.set(e,n)}$n(zs,zs,(t,e,n)=>{if(t.key===e.key&&t.range.start.hasSameParentAs(e.range.start)){const r=t.range.getDifference(e.range).map(i=>new zs(i,t.key,t.oldValue,t.newValue,0)),s=t.range.getIntersection(e.range);return s&&n.aIsStrong&&r.push(new zs(s,e.key,e.newValue,t.newValue,0)),r.length==0?[new ta(0)]:r}else return[t]});$n(zs,Sa,(t,e)=>{if(t.range.start.hasSameParentAs(e.position)&&t.range.containsPosition(e.position)){const r=t.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(s=>new zs(s,t.key,t.oldValue,t.newValue,t.baseVersion));if(e.shouldReceiveAttributes){const s=yK(e,t.key,t.oldValue);s&&r.unshift(s)}return r}return t.range=t.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[t]});function yK(t,e,n){const s=t.nodes.getNode(0).getAttribute(e);if(s==n)return null;const i=new vt(t.position,t.position.getShiftedBy(t.howMany));return new zs(i,e,s,n,0)}$n(zs,Va,(t,e)=>{const n=[];t.range.start.hasSameParentAs(e.deletionPosition)&&(t.range.containsPosition(e.deletionPosition)||t.range.start.isEqual(e.deletionPosition))&&n.push(vt._createFromPositionAndShift(e.graveyardPosition,1));const r=t.range._getTransformedByMergeOperation(e);return r.isCollapsed||n.push(r),n.map(s=>new zs(s,t.key,t.oldValue,t.newValue,t.baseVersion))});$n(zs,Er,(t,e)=>rOe(t.range,e).map(r=>new zs(r,t.key,t.oldValue,t.newValue,t.baseVersion)));function rOe(t,e){const n=vt._createFromPositionAndShift(e.sourcePosition,e.howMany);let r=null,s=[];n.containsRange(t,!0)?r=t:t.start.hasSameParentAs(n.start)?(s=t.getDifference(n),r=t.getIntersection(n)):s=[t];const i=[];for(let o of s){o=o._getTransformedByDeletion(e.sourcePosition,e.howMany);const l=e.getMovedRangeStart(),u=o.start.hasSameParentAs(l),h=o._getTransformedByInsertion(l,e.howMany,u);i.push(...h)}return r&&i.push(r._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany,!1)[0]),i}$n(zs,Hr,(t,e)=>{if(t.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||t.range.end.offset++,[t];if(t.range.start.hasSameParentAs(e.splitPosition)&&t.range.containsPosition(e.splitPosition)){const n=t.clone();return n.range=new vt(e.moveTargetPosition.clone(),t.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),t.range.end=e.splitPosition.clone(),t.range.end.stickiness="toPrevious",[t,n]}return t.range=t.range._getTransformedBySplitOperation(e),[t]});$n(Sa,zs,(t,e)=>{const n=[t];if(t.shouldReceiveAttributes&&t.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(t.position)){const r=yK(t,e.key,e.newValue);r&&n.push(r)}return n});$n(Sa,Sa,(t,e,n)=>t.position.isEqual(e.position)&&n.aIsStrong?[t]:(t.position=t.position._getTransformedByInsertOperation(e),[t]));$n(Sa,Er,(t,e)=>(t.position=t.position._getTransformedByMoveOperation(e),[t]));$n(Sa,Hr,(t,e)=>(t.position=t.position._getTransformedBySplitOperation(e),[t]));$n(Sa,Va,(t,e)=>(t.position=t.position._getTransformedByMergeOperation(e),[t]));$n(Ao,Sa,(t,e)=>(t.oldRange&&(t.oldRange=t.oldRange._getTransformedByInsertOperation(e)[0]),t.newRange&&(t.newRange=t.newRange._getTransformedByInsertOperation(e)[0]),[t]));$n(Ao,Ao,(t,e,n)=>{if(t.name==e.name)if(n.aIsStrong)t.oldRange=e.newRange?e.newRange.clone():null;else return[new ta(0)];return[t]});$n(Ao,Va,(t,e)=>(t.oldRange&&(t.oldRange=t.oldRange._getTransformedByMergeOperation(e)),t.newRange&&(t.newRange=t.newRange._getTransformedByMergeOperation(e)),[t]));$n(Ao,Er,(t,e)=>{const n=[t];if(t.oldRange&&(t.oldRange=vt._createFromRanges(t.oldRange._getTransformedByMoveOperation(e))),t.newRange){const r=t.newRange._getTransformedByMoveOperation(e);t.newRange=r[0];for(let s=1;s<r.length;s++){const i=t.clone();i.oldRange=null,i.newRange=r[s],i.baseVersion=-1,n.push(i)}}return n});$n(Ao,Hr,(t,e,n)=>{if(t.oldRange&&(t.oldRange=t.oldRange._getTransformedBySplitOperation(e)),t.newRange){if(n.abRelation){const r=t.newRange._getTransformedBySplitOperation(e);return t.newRange.start.isEqual(e.splitPosition)&&n.abRelation.wasStartBeforeMergedElement?t.newRange.start=St._createAt(e.insertionPosition):t.newRange.start.isEqual(e.splitPosition)&&!n.abRelation.wasInLeftElement?t.newRange.start=St._createAt(e.moveTargetPosition):t.newRange.start=r.start,t.newRange.end.isEqual(e.splitPosition)&&n.abRelation.wasInRightElement?t.newRange.end=St._createAt(e.moveTargetPosition):t.newRange.end.isEqual(e.splitPosition)&&n.abRelation.wasEndBeforeMergedElement?t.newRange.end=St._createAt(e.insertionPosition):t.newRange.end=r.end,[t]}t.newRange=t.newRange._getTransformedBySplitOperation(e)}return[t]});$n(Va,Sa,(t,e)=>(t.sourcePosition.hasSameParentAs(e.position)&&(t.howMany+=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByInsertOperation(e),t.targetPosition=t.targetPosition._getTransformedByInsertOperation(e),[t]));$n(Va,Va,(t,e,n)=>{if(t.sourcePosition.isEqual(e.sourcePosition)&&t.targetPosition.isEqual(e.targetPosition))if(n.bWasUndone){const r=e.graveyardPosition.path.slice();return r.push(0),t.sourcePosition=new St(e.graveyardPosition.root,r),t.howMany=0,[t]}else return[new ta(0)];if(t.sourcePosition.isEqual(e.sourcePosition)&&!t.targetPosition.isEqual(e.targetPosition)&&!n.bWasUndone&&n.abRelation!="splitAtSource"){const r=t.targetPosition.root.rootName=="$graveyard",s=e.targetPosition.root.rootName=="$graveyard";if(s&&!r||!(r&&!s)&&n.aIsStrong){const u=e.targetPosition._getTransformedByMergeOperation(e),h=t.targetPosition._getTransformedByMergeOperation(e);return[new Er(u,t.howMany,h,0)]}else return[new ta(0)]}return t.sourcePosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByMergeOperation(e),t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),(!t.graveyardPosition.isEqual(e.graveyardPosition)||!n.aIsStrong)&&(t.graveyardPosition=t.graveyardPosition._getTransformedByMergeOperation(e)),[t]});$n(Va,Er,(t,e,n)=>{const r=vt._createFromPositionAndShift(e.sourcePosition,e.howMany);return e.type=="remove"&&!n.bWasUndone&&t.deletionPosition.hasSameParentAs(e.sourcePosition)&&r.containsPosition(t.sourcePosition)?[new ta(0)]:(e.sourcePosition.getShiftedBy(e.howMany).isEqual(t.sourcePosition)?t.sourcePosition.stickiness="toNone":e.targetPosition.isEqual(t.sourcePosition)&&n.abRelation=="mergeSourceAffected"?t.sourcePosition.stickiness="toNext":e.sourcePosition.isEqual(t.targetPosition)?(t.targetPosition.stickiness="toNone",t.howMany-=e.howMany):e.targetPosition.isEqual(t.targetPosition)&&n.abRelation=="mergeTargetWasBefore"?(t.targetPosition.stickiness="toPrevious",t.howMany+=e.howMany):(t.sourcePosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.sourcePosition.hasSameParentAs(e.sourcePosition)&&(t.howMany-=e.howMany)),t.sourcePosition=t.sourcePosition._getTransformedByMoveOperation(e),t.targetPosition=t.targetPosition._getTransformedByMoveOperation(e),t.sourcePosition.stickiness="toPrevious",t.targetPosition.stickiness="toNext",t.graveyardPosition.isEqual(e.targetPosition)||(t.graveyardPosition=t.graveyardPosition._getTransformedByMoveOperation(e)),[t])});$n(Va,Hr,(t,e,n)=>{if(e.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),t.deletionPosition.isEqual(e.graveyardPosition)&&(t.howMany=e.howMany)),t.targetPosition.isEqual(e.splitPosition)&&(e.graveyardPosition&&t.deletionPosition.isEqual(e.graveyardPosition)||n.abRelation=="mergeTargetNotMoved"))return t.sourcePosition=t.sourcePosition._getTransformedBySplitOperation(e),[t];if(t.sourcePosition.isEqual(e.splitPosition)){if(n.abRelation=="mergeSourceNotMoved")return t.howMany=0,t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t];if(n.abRelation=="mergeSameElement"||t.sourcePosition.offset>0)return t.sourcePosition=e.moveTargetPosition.clone(),t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t]}return t.sourcePosition.hasSameParentAs(e.splitPosition)&&(t.howMany=e.splitPosition.offset),t.sourcePosition=t.sourcePosition._getTransformedBySplitOperation(e),t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t]});$n(Er,Sa,(t,e)=>{const r=vt._createFromPositionAndShift(t.sourcePosition,t.howMany)._getTransformedByInsertOperation(e,!1)[0];return t.sourcePosition=r.start,t.howMany=r.end.offset-r.start.offset,t.targetPosition.isEqual(e.position)||(t.targetPosition=t.targetPosition._getTransformedByInsertOperation(e)),[t]});$n(Er,Er,(t,e,n)=>{const r=vt._createFromPositionAndShift(t.sourcePosition,t.howMany),s=vt._createFromPositionAndShift(e.sourcePosition,e.howMany);let i=n.aIsStrong,o=!n.aIsStrong;n.abRelation=="insertBefore"||n.baRelation=="insertAfter"?o=!0:(n.abRelation=="insertAfter"||n.baRelation=="insertBefore")&&(o=!1);let l;if(t.targetPosition.isEqual(e.targetPosition)&&o?l=t.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):l=t.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),w7(t,e)&&w7(e,t))return[e.getReversed()];if(r.containsPosition(e.targetPosition)&&r.containsRange(s,!0))return r.start=r.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),r.end=r.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),jm([r],l);if(s.containsPosition(t.targetPosition)&&s.containsRange(r,!0))return r.start=r.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),r.end=r.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),jm([r],l);const f=ni(t.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if(f=="prefix"||f=="extension")return r.start=r.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),r.end=r.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),jm([r],l);t.type=="remove"&&e.type!="remove"&&!n.aWasUndone&&!n.forceWeakRemove?i=!0:t.type!="remove"&&e.type=="remove"&&!n.bWasUndone&&!n.forceWeakRemove&&(i=!1);const g=[],p=r.getDifference(s);for(const w of p){w.start=w.start._getTransformedByDeletion(e.sourcePosition,e.howMany),w.end=w.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const E=ni(w.start.getParentPath(),e.getMovedRangeStart().getParentPath())=="same",S=w._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,E);g.push(...S)}const v=r.getIntersection(s);return v!==null&&i&&(v.start=v.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),v.end=v.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),g.length===0?g.push(v):g.length==1?s.start.isBefore(r.start)||s.start.isEqual(r.start)?g.unshift(v):g.push(v):g.splice(1,0,v)),g.length===0?[new ta(t.baseVersion)]:jm(g,l)});$n(Er,Hr,(t,e,n)=>{let r=t.targetPosition.clone();(!t.targetPosition.isEqual(e.insertionPosition)||!e.graveyardPosition||n.abRelation=="moveTargetAfter")&&(r=t.targetPosition._getTransformedBySplitOperation(e));const s=vt._createFromPositionAndShift(t.sourcePosition,t.howMany);if(s.end.isEqual(e.insertionPosition))return e.graveyardPosition||t.howMany++,t.targetPosition=r,[t];if(s.start.hasSameParentAs(e.splitPosition)&&s.containsPosition(e.splitPosition)){let l=new vt(e.splitPosition,s.end);l=l._getTransformedBySplitOperation(e);const u=[new vt(s.start,e.splitPosition),l];return jm(u,r)}t.targetPosition.isEqual(e.splitPosition)&&n.abRelation=="insertAtSource"&&(r=e.moveTargetPosition),t.targetPosition.isEqual(e.insertionPosition)&&n.abRelation=="insertBetween"&&(r=t.targetPosition);const o=[s._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const l=s.start.isEqual(e.graveyardPosition)||s.containsPosition(e.graveyardPosition);t.howMany>1&&l&&!n.aWasUndone&&o.push(vt._createFromPositionAndShift(e.insertionPosition,1))}return jm(o,r)});$n(Er,Va,(t,e,n)=>{const r=vt._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.deletionPosition.hasSameParentAs(t.sourcePosition)&&r.containsPosition(e.sourcePosition)){if(t.type=="remove"&&!n.forceWeakRemove){if(!n.aWasUndone){const o=[];let l=e.graveyardPosition.clone(),u=e.targetPosition._getTransformedByMergeOperation(e);const h=t.targetPosition.getTransformedByOperation(e);t.howMany>1&&(o.push(new Er(t.sourcePosition,t.howMany-1,h,0)),l=l._getTransformedByMove(t.sourcePosition,h,t.howMany-1),u=u._getTransformedByMove(t.sourcePosition,h,t.howMany-1));const f=e.deletionPosition._getCombined(t.sourcePosition,h),g=new Er(l,1,f,0),p=g.getMovedRangeStart().path.slice();p.push(0);const v=new St(g.targetPosition.root,p);u=u._getTransformedByMove(l,f,1);const w=new Er(u,e.howMany,v,0);return o.push(g),o.push(w),o}}else if(t.howMany==1)return n.bWasUndone?(t.sourcePosition=e.graveyardPosition.clone(),t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),[t]):[new ta(0)]}const i=vt._createFromPositionAndShift(t.sourcePosition,t.howMany)._getTransformedByMergeOperation(e);return t.sourcePosition=i.start,t.howMany=i.end.offset-i.start.offset,t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),[t]});$n(Wi,Sa,(t,e)=>(t.position=t.position._getTransformedByInsertOperation(e),[t]));$n(Wi,Va,(t,e)=>t.position.isEqual(e.deletionPosition)?(t.position=e.graveyardPosition.clone(),t.position.stickiness="toNext",[t]):(t.position=t.position._getTransformedByMergeOperation(e),[t]));$n(Wi,Er,(t,e)=>(t.position=t.position._getTransformedByMoveOperation(e),[t]));$n(Wi,Wi,(t,e,n)=>{if(t.position.isEqual(e.position))if(n.aIsStrong)t.oldName=e.newName;else return[new ta(0)];return[t]});$n(Wi,Hr,(t,e)=>{const n=t.position.path,r=e.splitPosition.getParentPath();if(ni(n,r)=="same"&&!e.graveyardPosition){const s=new Wi(t.position.getShiftedBy(1),t.oldName,t.newName,0);return[t,s]}return t.position=t.position._getTransformedBySplitOperation(e),[t]});$n(ad,ad,(t,e,n)=>{if(t.root===e.root&&t.key===e.key){if(!n.aIsStrong||t.newValue===e.newValue)return[new ta(0)];t.oldValue=e.newValue}return[t]});$n(id,id,(t,e)=>t.rootName===e.rootName&&t.isAdd===e.isAdd?[new ta(0)]:[t]);$n(Hr,Sa,(t,e)=>(t.splitPosition.hasSameParentAs(e.position)&&t.splitPosition.offset<e.position.offset&&(t.howMany+=e.howMany),t.splitPosition=t.splitPosition._getTransformedByInsertOperation(e),t.insertionPosition=t.insertionPosition._getTransformedByInsertOperation(e),[t]));$n(Hr,Va,(t,e,n)=>{if(!t.graveyardPosition&&!n.bWasUndone&&t.splitPosition.hasSameParentAs(e.sourcePosition)){const r=e.graveyardPosition.path.slice();r.push(0);const s=new St(e.graveyardPosition.root,r),i=Hr.getInsertionPosition(new St(e.graveyardPosition.root,r)),o=new Hr(s,0,i,null,0);return t.splitPosition=t.splitPosition._getTransformedByMergeOperation(e),t.insertionPosition=Hr.getInsertionPosition(t.splitPosition),t.graveyardPosition=o.insertionPosition.clone(),t.graveyardPosition.stickiness="toNext",[o,t]}return t.splitPosition.hasSameParentAs(e.deletionPosition)&&!t.splitPosition.isAfter(e.deletionPosition)&&t.howMany--,t.splitPosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.splitPosition=t.splitPosition._getTransformedByMergeOperation(e),t.insertionPosition=Hr.getInsertionPosition(t.splitPosition),t.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedByMergeOperation(e)),[t]});$n(Hr,Er,(t,e,n)=>{const r=vt._createFromPositionAndShift(e.sourcePosition,e.howMany);if(t.graveyardPosition){const i=r.start.isEqual(t.graveyardPosition)||r.containsPosition(t.graveyardPosition);if(!n.bWasUndone&&i){const o=t.splitPosition._getTransformedByMoveOperation(e),l=t.graveyardPosition._getTransformedByMoveOperation(e),u=l.path.slice();u.push(0);const h=new St(l.root,u);return[new Er(o,t.howMany,h,0)]}t.graveyardPosition=t.graveyardPosition._getTransformedByMoveOperation(e)}const s=t.splitPosition.isEqual(e.targetPosition);if(s&&(n.baRelation=="insertAtSource"||n.abRelation=="splitBefore"))return t.howMany+=e.howMany,t.splitPosition=t.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),t.insertionPosition=Hr.getInsertionPosition(t.splitPosition),[t];if(s&&n.abRelation&&n.abRelation.howMany){const{howMany:i,offset:o}=n.abRelation;return t.howMany+=i,t.splitPosition=t.splitPosition.getShiftedBy(o),[t]}if(t.splitPosition.hasSameParentAs(e.sourcePosition)&&r.containsPosition(t.splitPosition)){const i=e.howMany-(t.splitPosition.offset-e.sourcePosition.offset);return t.howMany-=i,t.splitPosition.hasSameParentAs(e.targetPosition)&&t.splitPosition.offset<e.targetPosition.offset&&(t.howMany+=e.howMany),t.splitPosition=e.sourcePosition.clone(),t.insertionPosition=Hr.getInsertionPosition(t.splitPosition),[t]}return e.sourcePosition.isEqual(e.targetPosition)||(t.splitPosition.hasSameParentAs(e.sourcePosition)&&t.splitPosition.offset<=e.sourcePosition.offset&&(t.howMany-=e.howMany),t.splitPosition.hasSameParentAs(e.targetPosition)&&t.splitPosition.offset<e.targetPosition.offset&&(t.howMany+=e.howMany)),t.splitPosition.stickiness="toNone",t.splitPosition=t.splitPosition._getTransformedByMoveOperation(e),t.splitPosition.stickiness="toNext",t.graveyardPosition?t.insertionPosition=t.insertionPosition._getTransformedByMoveOperation(e):t.insertionPosition=Hr.getInsertionPosition(t.splitPosition),[t]});$n(Hr,Hr,(t,e,n)=>{if(t.splitPosition.isEqual(e.splitPosition)){if(!t.graveyardPosition&&!e.graveyardPosition)return[new ta(0)];if(t.graveyardPosition&&e.graveyardPosition&&t.graveyardPosition.isEqual(e.graveyardPosition))return[new ta(0)];if(n.abRelation=="splitBefore")return t.howMany=0,t.graveyardPosition=t.graveyardPosition._getTransformedBySplitOperation(e),[t]}if(t.graveyardPosition&&e.graveyardPosition&&t.graveyardPosition.isEqual(e.graveyardPosition)){const r=t.splitPosition.root.rootName=="$graveyard",s=e.splitPosition.root.rootName=="$graveyard";if(s&&!r||!(r&&!s)&&n.aIsStrong){const u=[];return e.howMany&&u.push(new Er(e.moveTargetPosition,e.howMany,e.splitPosition,0)),t.howMany&&u.push(new Er(t.splitPosition,t.howMany,t.moveTargetPosition,0)),u}else return[new ta(0)]}if(t.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedBySplitOperation(e)),t.splitPosition.isEqual(e.insertionPosition)&&n.abRelation=="splitBefore")return t.howMany++,[t];if(e.splitPosition.isEqual(t.insertionPosition)&&n.baRelation=="splitBefore"){const r=e.insertionPosition.path.slice();r.push(0);const s=new St(e.insertionPosition.root,r),i=new Er(t.insertionPosition,1,s,0);return[t,i]}return t.splitPosition.hasSameParentAs(e.splitPosition)&&t.splitPosition.offset<e.splitPosition.offset&&(t.howMany-=e.howMany),t.splitPosition=t.splitPosition._getTransformedBySplitOperation(e),t.insertionPosition=Hr.getInsertionPosition(t.splitPosition),[t]});function w7(t,e){return t.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)===null}function jm(t,e){const n=[];for(let r=0;r<t.length;r++){const s=t[r],i=new Er(s.start,s.end.offset-s.start.offset,e,0);n.push(i);for(let o=r+1;o<t.length;o++)t[o]=t[o]._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany)[0];e=e._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany)}return n}class sOe extends ea(St){constructor(e,n,r="toNone"){if(super(e,n,r),!this.root.is("rootElement"))throw new lt("model-liveposition-root-not-rootelement",e);aOe.call(this)}detach(){this.stopListening()}toPosition(){return new St(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,n){return new this(e.root,e.path.slice(),n||e.stickiness)}}sOe.prototype.is=function(t){return t==="livePosition"||t==="model:livePosition"||t=="position"||t==="model:position"};function aOe(){this.listenTo(this.root.document.model,"applyOperation",(t,e)=>{const n=e[0];n.isDocumentOperation&&iOe.call(this,n)},{priority:"low"})}function iOe(t){const e=this.getTransformedByOperation(t);if(!this.isEqual(e)){const n=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",n)}}class oOe extends Jv{constructor(n,r,s="main"){super(r);we(this,"rootName");we(this,"_document");we(this,"_isAttached",!0);we(this,"_isLoaded",!0);this._document=n,this.rootName=s}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}oOe.prototype.is=function(t,e){return e?e===this.name&&(t==="rootElement"||t==="model:rootElement"||t==="element"||t==="model:element"):t==="rootElement"||t==="model:rootElement"||t==="element"||t==="model:element"||t==="node"||t==="model:node"};class lOe extends ea(Nd){constructor(n,r,s,i){super();we(this,"name");we(this,"_managedUsingOperations");we(this,"_affectsData");we(this,"_liveRange");this.name=n,this._liveRange=this._attachLiveRange(r),this._managedUsingOperations=s,this._affectsData=i}get managedUsingOperations(){if(!this._liveRange)throw new lt("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new lt("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new lt("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new lt("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new lt("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(n){return this._liveRange&&this._detachLiveRange(),n.delegate("change:range").to(this),n.delegate("change:content").to(this),this._liveRange=n,n}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}lOe.prototype.is=function(t){return t==="marker"||t==="model:marker"};class t4 extends Nd{constructor(n){super();we(this,"markers",new Map);we(this,"_children",new x0);n&&this._insertChild(0,n)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(n){return this._children.getNode(n)}getChildAtOffset(n){return this._children.getNodeAtOffset(n)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(n){return this._children.getNodeIndex(n)}getChildStartOffset(n){return this._children.getNodeStartOffset(n)}getPath(){return[]}getNodeByPath(n){let r=this;for(const s of n)r=r.getChildAtOffset(s);return r}offsetToIndex(n){return this._children.offsetToIndex(n)}toJSON(){const n=[];for(const r of this._children)n.push(r.toJSON());return n}static fromJSON(n){const r=[];for(const s of n)s.name?r.push(Jv.fromJSON(s)):r.push(Us.fromJSON(s));return new t4(r)}_appendChild(n){this._insertChild(this.childCount,n)}_insertChild(n,r){const s=cOe(r);for(const i of s)i.parent!==null&&i._remove(),i.parent=this;this._children._insertNodes(n,s)}_removeChildren(n,r=1){const s=this._children._removeNodes(n,r);for(const i of s)i.parent=null;return s}_removeChildrenArray(n){this._children._removeNodesArray(n);for(const r of n)r.parent=null}}t4.prototype.is=function(t){return t==="documentFragment"||t==="model:documentFragment"};function cOe(t){return typeof t=="string"?[new Us(t)]:(uu(t)||(t=[t]),Array.from(t).map(e=>typeof e=="string"?new Us(e):e instanceof kh?new Us(e.data,e.getAttributes()):e))}var _C,_7;function xK(){return _7||(_7=1,_C={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}),_C}xK();var jC,j7;function bK(){if(j7)return jC;j7=1;const t=xK(),e={};for(const s of Object.keys(t))e[t[s]]=s;const n={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};jC=n;for(const s of Object.keys(n)){if(!("channels"in n[s]))throw new Error("missing channels property: "+s);if(!("labels"in n[s]))throw new Error("missing channel labels property: "+s);if(n[s].labels.length!==n[s].channels)throw new Error("channel and label counts mismatch: "+s);const{channels:i,labels:o}=n[s];delete n[s].channels,delete n[s].labels,Object.defineProperty(n[s],"channels",{value:i}),Object.defineProperty(n[s],"labels",{value:o})}n.rgb.hsl=function(s){const i=s[0]/255,o=s[1]/255,l=s[2]/255,u=Math.min(i,o,l),h=Math.max(i,o,l),f=h-u;let g,p;h===u?g=0:i===h?g=(o-l)/f:o===h?g=2+(l-i)/f:l===h&&(g=4+(i-o)/f),g=Math.min(g*60,360),g<0&&(g+=360);const v=(u+h)/2;return h===u?p=0:v<=.5?p=f/(h+u):p=f/(2-h-u),[g,p*100,v*100]},n.rgb.hsv=function(s){let i,o,l,u,h;const f=s[0]/255,g=s[1]/255,p=s[2]/255,v=Math.max(f,g,p),w=v-Math.min(f,g,p),E=function(S){return(v-S)/6/w+1/2};return w===0?(u=0,h=0):(h=w/v,i=E(f),o=E(g),l=E(p),f===v?u=l-o:g===v?u=1/3+i-l:p===v&&(u=2/3+o-i),u<0?u+=1:u>1&&(u-=1)),[u*360,h*100,v*100]},n.rgb.hwb=function(s){const i=s[0],o=s[1];let l=s[2];const u=n.rgb.hsl(s)[0],h=1/255*Math.min(i,Math.min(o,l));return l=1-1/255*Math.max(i,Math.max(o,l)),[u,h*100,l*100]},n.rgb.cmyk=function(s){const i=s[0]/255,o=s[1]/255,l=s[2]/255,u=Math.min(1-i,1-o,1-l),h=(1-i-u)/(1-u)||0,f=(1-o-u)/(1-u)||0,g=(1-l-u)/(1-u)||0;return[h*100,f*100,g*100,u*100]};function r(s,i){return(s[0]-i[0])**2+(s[1]-i[1])**2+(s[2]-i[2])**2}return n.rgb.keyword=function(s){const i=e[s];if(i)return i;let o=1/0,l;for(const u of Object.keys(t)){const h=t[u],f=r(s,h);f<o&&(o=f,l=u)}return l},n.keyword.rgb=function(s){return t[s]},n.rgb.xyz=function(s){let i=s[0]/255,o=s[1]/255,l=s[2]/255;i=i>.04045?((i+.055)/1.055)**2.4:i/12.92,o=o>.04045?((o+.055)/1.055)**2.4:o/12.92,l=l>.04045?((l+.055)/1.055)**2.4:l/12.92;const u=i*.4124+o*.3576+l*.1805,h=i*.2126+o*.7152+l*.0722,f=i*.0193+o*.1192+l*.9505;return[u*100,h*100,f*100]},n.rgb.lab=function(s){const i=n.rgb.xyz(s);let o=i[0],l=i[1],u=i[2];o/=95.047,l/=100,u/=108.883,o=o>.008856?o**(1/3):7.787*o+16/116,l=l>.008856?l**(1/3):7.787*l+16/116,u=u>.008856?u**(1/3):7.787*u+16/116;const h=116*l-16,f=500*(o-l),g=200*(l-u);return[h,f,g]},n.hsl.rgb=function(s){const i=s[0]/360,o=s[1]/100,l=s[2]/100;let u,h,f;if(o===0)return f=l*255,[f,f,f];l<.5?u=l*(1+o):u=l+o-l*o;const g=2*l-u,p=[0,0,0];for(let v=0;v<3;v++)h=i+1/3*-(v-1),h<0&&h++,h>1&&h--,6*h<1?f=g+(u-g)*6*h:2*h<1?f=u:3*h<2?f=g+(u-g)*(2/3-h)*6:f=g,p[v]=f*255;return p},n.hsl.hsv=function(s){const i=s[0];let o=s[1]/100,l=s[2]/100,u=o;const h=Math.max(l,.01);l*=2,o*=l<=1?l:2-l,u*=h<=1?h:2-h;const f=(l+o)/2,g=l===0?2*u/(h+u):2*o/(l+o);return[i,g*100,f*100]},n.hsv.rgb=function(s){const i=s[0]/60,o=s[1]/100;let l=s[2]/100;const u=Math.floor(i)%6,h=i-Math.floor(i),f=255*l*(1-o),g=255*l*(1-o*h),p=255*l*(1-o*(1-h));switch(l*=255,u){case 0:return[l,p,f];case 1:return[g,l,f];case 2:return[f,l,p];case 3:return[f,g,l];case 4:return[p,f,l];case 5:return[l,f,g]}},n.hsv.hsl=function(s){const i=s[0],o=s[1]/100,l=s[2]/100,u=Math.max(l,.01);let h,f;f=(2-o)*l;const g=(2-o)*u;return h=o*u,h/=g<=1?g:2-g,h=h||0,f/=2,[i,h*100,f*100]},n.hwb.rgb=function(s){const i=s[0]/360;let o=s[1]/100,l=s[2]/100;const u=o+l;let h;u>1&&(o/=u,l/=u);const f=Math.floor(6*i),g=1-l;h=6*i-f,f&1&&(h=1-h);const p=o+h*(g-o);let v,w,E;switch(f){default:case 6:case 0:v=g,w=p,E=o;break;case 1:v=p,w=g,E=o;break;case 2:v=o,w=g,E=p;break;case 3:v=o,w=p,E=g;break;case 4:v=p,w=o,E=g;break;case 5:v=g,w=o,E=p;break}return[v*255,w*255,E*255]},n.cmyk.rgb=function(s){const i=s[0]/100,o=s[1]/100,l=s[2]/100,u=s[3]/100,h=1-Math.min(1,i*(1-u)+u),f=1-Math.min(1,o*(1-u)+u),g=1-Math.min(1,l*(1-u)+u);return[h*255,f*255,g*255]},n.xyz.rgb=function(s){const i=s[0]/100,o=s[1]/100,l=s[2]/100;let u,h,f;return u=i*3.2406+o*-1.5372+l*-.4986,h=i*-.9689+o*1.8758+l*.0415,f=i*.0557+o*-.204+l*1.057,u=u>.0031308?1.055*u**(1/2.4)-.055:u*12.92,h=h>.0031308?1.055*h**(1/2.4)-.055:h*12.92,f=f>.0031308?1.055*f**(1/2.4)-.055:f*12.92,u=Math.min(Math.max(0,u),1),h=Math.min(Math.max(0,h),1),f=Math.min(Math.max(0,f),1),[u*255,h*255,f*255]},n.xyz.lab=function(s){let i=s[0],o=s[1],l=s[2];i/=95.047,o/=100,l/=108.883,i=i>.008856?i**(1/3):7.787*i+16/116,o=o>.008856?o**(1/3):7.787*o+16/116,l=l>.008856?l**(1/3):7.787*l+16/116;const u=116*o-16,h=500*(i-o),f=200*(o-l);return[u,h,f]},n.lab.xyz=function(s){const i=s[0],o=s[1],l=s[2];let u,h,f;h=(i+16)/116,u=o/500+h,f=h-l/200;const g=h**3,p=u**3,v=f**3;return h=g>.008856?g:(h-16/116)/7.787,u=p>.008856?p:(u-16/116)/7.787,f=v>.008856?v:(f-16/116)/7.787,u*=95.047,h*=100,f*=108.883,[u,h,f]},n.lab.lch=function(s){const i=s[0],o=s[1],l=s[2];let u;u=Math.atan2(l,o)*360/2/Math.PI,u<0&&(u+=360);const f=Math.sqrt(o*o+l*l);return[i,f,u]},n.lch.lab=function(s){const i=s[0],o=s[1],u=s[2]/360*2*Math.PI,h=o*Math.cos(u),f=o*Math.sin(u);return[i,h,f]},n.rgb.ansi16=function(s,i=null){const[o,l,u]=s;let h=i===null?n.rgb.hsv(s)[2]:i;if(h=Math.round(h/50),h===0)return 30;let f=30+(Math.round(u/255)<<2|Math.round(l/255)<<1|Math.round(o/255));return h===2&&(f+=60),f},n.hsv.ansi16=function(s){return n.rgb.ansi16(n.hsv.rgb(s),s[2])},n.rgb.ansi256=function(s){const i=s[0],o=s[1],l=s[2];return i===o&&o===l?i<8?16:i>248?231:Math.round((i-8)/247*24)+232:16+36*Math.round(i/255*5)+6*Math.round(o/255*5)+Math.round(l/255*5)},n.ansi16.rgb=function(s){let i=s%10;if(i===0||i===7)return s>50&&(i+=3.5),i=i/10.5*255,[i,i,i];const o=(~~(s>50)+1)*.5,l=(i&1)*o*255,u=(i>>1&1)*o*255,h=(i>>2&1)*o*255;return[l,u,h]},n.ansi256.rgb=function(s){if(s>=232){const h=(s-232)*10+8;return[h,h,h]}s-=16;let i;const o=Math.floor(s/36)/5*255,l=Math.floor((i=s%36)/6)/5*255,u=i%6/5*255;return[o,l,u]},n.rgb.hex=function(s){const o=(((Math.round(s[0])&255)<<16)+((Math.round(s[1])&255)<<8)+(Math.round(s[2])&255)).toString(16).toUpperCase();return"000000".substring(o.length)+o},n.hex.rgb=function(s){const i=s.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!i)return[0,0,0];let o=i[0];i[0].length===3&&(o=o.split("").map(g=>g+g).join(""));const l=parseInt(o,16),u=l>>16&255,h=l>>8&255,f=l&255;return[u,h,f]},n.rgb.hcg=function(s){const i=s[0]/255,o=s[1]/255,l=s[2]/255,u=Math.max(Math.max(i,o),l),h=Math.min(Math.min(i,o),l),f=u-h;let g,p;return f<1?g=h/(1-f):g=0,f<=0?p=0:u===i?p=(o-l)/f%6:u===o?p=2+(l-i)/f:p=4+(i-o)/f,p/=6,p%=1,[p*360,f*100,g*100]},n.hsl.hcg=function(s){const i=s[1]/100,o=s[2]/100,l=o<.5?2*i*o:2*i*(1-o);let u=0;return l<1&&(u=(o-.5*l)/(1-l)),[s[0],l*100,u*100]},n.hsv.hcg=function(s){const i=s[1]/100,o=s[2]/100,l=i*o;let u=0;return l<1&&(u=(o-l)/(1-l)),[s[0],l*100,u*100]},n.hcg.rgb=function(s){const i=s[0]/360,o=s[1]/100,l=s[2]/100;if(o===0)return[l*255,l*255,l*255];const u=[0,0,0],h=i%1*6,f=h%1,g=1-f;let p=0;switch(Math.floor(h)){case 0:u[0]=1,u[1]=f,u[2]=0;break;case 1:u[0]=g,u[1]=1,u[2]=0;break;case 2:u[0]=0,u[1]=1,u[2]=f;break;case 3:u[0]=0,u[1]=g,u[2]=1;break;case 4:u[0]=f,u[1]=0,u[2]=1;break;default:u[0]=1,u[1]=0,u[2]=g}return p=(1-o)*l,[(o*u[0]+p)*255,(o*u[1]+p)*255,(o*u[2]+p)*255]},n.hcg.hsv=function(s){const i=s[1]/100,o=s[2]/100,l=i+o*(1-i);let u=0;return l>0&&(u=i/l),[s[0],u*100,l*100]},n.hcg.hsl=function(s){const i=s[1]/100,l=s[2]/100*(1-i)+.5*i;let u=0;return l>0&&l<.5?u=i/(2*l):l>=.5&&l<1&&(u=i/(2*(1-l))),[s[0],u*100,l*100]},n.hcg.hwb=function(s){const i=s[1]/100,o=s[2]/100,l=i+o*(1-i);return[s[0],(l-i)*100,(1-l)*100]},n.hwb.hcg=function(s){const i=s[1]/100,l=1-s[2]/100,u=l-i;let h=0;return u<1&&(h=(l-u)/(1-u)),[s[0],u*100,h*100]},n.apple.rgb=function(s){return[s[0]/65535*255,s[1]/65535*255,s[2]/65535*255]},n.rgb.apple=function(s){return[s[0]/255*65535,s[1]/255*65535,s[2]/255*65535]},n.gray.rgb=function(s){return[s[0]/100*255,s[0]/100*255,s[0]/100*255]},n.gray.hsl=function(s){return[0,0,s[0]]},n.gray.hsv=n.gray.hsl,n.gray.hwb=function(s){return[0,100,s[0]]},n.gray.cmyk=function(s){return[0,0,0,s[0]]},n.gray.lab=function(s){return[s[0],0,0]},n.gray.hex=function(s){const i=Math.round(s[0]/100*255)&255,l=((i<<16)+(i<<8)+i).toString(16).toUpperCase();return"000000".substring(l.length)+l},n.rgb.gray=function(s){return[(s[0]+s[1]+s[2])/3/255*100]},jC}var EC,E7;function uOe(){if(E7)return EC;E7=1;const t=bK();function e(){const i={},o=Object.keys(t);for(let l=o.length,u=0;u<l;u++)i[o[u]]={distance:-1,parent:null};return i}function n(i){const o=e(),l=[i];for(o[i].distance=0;l.length;){const u=l.pop(),h=Object.keys(t[u]);for(let f=h.length,g=0;g<f;g++){const p=h[g],v=o[p];v.distance===-1&&(v.distance=o[u].distance+1,v.parent=u,l.unshift(p))}}return o}function r(i,o){return function(l){return o(i(l))}}function s(i,o){const l=[o[i].parent,i];let u=t[o[i].parent][i],h=o[i].parent;for(;o[h].parent;)l.unshift(o[h].parent),u=r(t[o[h].parent][h],u),h=o[h].parent;return u.conversion=l,u}return EC=function(i){const o=n(i),l={},u=Object.keys(o);for(let h=u.length,f=0;f<h;f++){const g=u[f];o[g].parent!==null&&(l[g]=s(g,o))}return l},EC}var SC,S7;function dOe(){if(S7)return SC;S7=1;const t=bK(),e=uOe(),n={},r=Object.keys(t);function s(o){const l=function(...u){const h=u[0];return h==null?h:(h.length>1&&(u=h),o(u))};return"conversion"in o&&(l.conversion=o.conversion),l}function i(o){const l=function(...u){const h=u[0];if(h==null)return h;h.length>1&&(u=h);const f=o(u);if(typeof f=="object")for(let g=f.length,p=0;p<g;p++)f[p]=Math.round(f[p]);return f};return"conversion"in o&&(l.conversion=o.conversion),l}return r.forEach(o=>{n[o]={},Object.defineProperty(n[o],"channels",{value:t[o].channels}),Object.defineProperty(n[o],"labels",{value:t[o].labels});const l=e(o);Object.keys(l).forEach(h=>{const f=l[h];n[o][h]=i(f),n[o][h].raw=s(f)})}),SC=n,SC}dOe();/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */var hOe='<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>';new DOMParser().parseFromString(hOe,"image/svg+xml").firstChild;/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const fOe=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:t,typeAttribute:e,listType:n}of fOe);/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */v0.arrowup,v0.arrowdown,v0.esc;v0.enter,v0.tab;function mOe({}){var S;const[t,e]=j.useState(0),[n,r]=j.useState(new vT),[s,i]=j.useState(""),[o,l]=j.useState(""),[u,h]=j.useState(""),f=(C,O)=>{if(Array.isArray(C))r(I=>({...I,[O]:C}));else if(typeof C=="string")r(I=>({...I,[O]:C}));else{const{name:I,value:D}=C.target;r(T=>({...T,[I]:D}))}},g=(C,O)=>{if(!C){console.warn("handleLocationSelect received null position.");return}r(I=>({...I,address:{...I.address,lat:C.lat||"",long:C.lng||""},link:O||""}))};j.useEffect(()=>{n.accreditation||(r(C=>({...C,category:"Hospitality & Lodging",subcategory:"Accommodation Establishments"})),i("Hospitality & Lodging"),l("Accommodation Establishments"))},[r,n.category,n.subcategory]);const p=async(C,O)=>{const I=Kt(en,O);return await Qt(I,C),await Zt(I)},v=async C=>{C.preventDefault(),xe.fire({title:"Submitting...",text:"Please wait while we submit your accommodation data.",allowOutsideClick:!1,didOpen:()=>{xe.showLoading()}});try{let O=n.headerImage?await p(n.headerImage,`accommodations/${Date.now()}_${n.headerImage.name}`):null,I=n.logo?await p(n.logo,`accommodations/${Date.now()}_${n.logo.name}`):null;const D=await Promise.all(n.images.map(async A=>A?await p(A,`accommodations/${Date.now()}_${A.name}`):"")),T=new vT;T.id="",T.name=n.name,T.category=n.category||s,T.subcategory=n.subcategory||o,T.classification=n.classification||u,T.accreditation=n.accreditation,T.ratings=n.ratings,T.established=n.established,T.lowest=n.lowest,T.slogan=n.slogan,T.description=n.description,T.facilities=n.facilities||[],T.amenities=n.amenities||[],T.awards=n.awards||[],T.images=D,T.roomtypes=n.roomtypes||[],T.operatinghours=n.operatinghours||[],T.inclusivity=n.inclusivity||[],T.accessibility=n.accessibility||[],T.logo=I,T.headerImage=O,T.website=n.website,T.address={...n.address},T.link=n.link,T.geo=n.geo,T.socials=n.socials||[],T.memberships=n.memberships||[],T.note=n.note;const F=await Or(Ft(ze,"accommodations"),T.toJSON()),y=gt(ze,"accommodations",F.id);await rn(y,{id:F.id}),xe.fire({title:"Accommodation Submitted",text:"Your accommodation has been submitted successfully!",icon:"success"}),E(),w()}catch(O){console.error("Error submitting accommodation:",O),xe.fire({title:"Error",text:"There was an issue submitting your accommodation. Please try again.",icon:"error"})}},w=()=>{r(C=>({...C,headerImage:null}))},E=()=>{r({id:"",name:"",category:"",subcategory:"",classification:"",accreditation:"",ratings:"",established:"",lowest:"",slogan:"",description:"",facilities:[],amenities:[],awards:[],images:[],roomtypes:[],operatinghours:[],inclusivity:[],accessibility:[],logo:null,headerImage:null,website:"",address:{street:"",barangay:"",town:"",region:"",province:"",country:"",lat:"",long:""},link:"",geo:"",socials:[],memberships:[],note:[]}),e(C=>C+1),i(""),h(""),l("")};return a.jsxs(x,{className:"custom-form body-container",onSubmit:v,onKeyDown:C=>C.key==="Enter"&&C.preventDefault(),children:[a.jsxs(V,{className:"row mb-4",children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"category",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Category"}),a.jsx(x.Control,{type:"text",placeholder:"Enter Category",name:"category",value:n.category||"Hospitality & Lodging",onChange:f,readOnly:!0})]})}),a.jsxs(z,{md:6,children:[a.jsxs(x.Group,{controlId:"subcategory",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Category"}),a.jsx(x.Control,{type:"text",placeholder:"Enter Subcategory",name:"subcategory",value:n.subcategory||"Accommodation Establishments",onChange:f,readOnly:!0})]}),o&&$a[o]&&a.jsxs(x.Group,{controlId:"formClassification",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Classification"}),a.jsxs(x.Select,{value:n.classification||"",onChange:C=>{const O=C.target.value;h(O),r(I=>({...I,classification:O}))},children:[a.jsx("option",{value:"",children:"Select Classification"}),(S=$a[o])==null?void 0:S.map((C,O)=>a.jsx("option",{value:C,children:C},O))]})]})]})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"logo",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Business Logo"}),a.jsx(Mo,{storyForm:n,setStoryForm:r,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small",caption:"Drag & Drop Logo here",required:!0})]})}),a.jsx(z,{md:6,children:a.jsx(B,{})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Business Name"}),a.jsx(x.Control,{type:"text",placeholder:"Enter business name",name:"name",value:n.name,onChange:f,required:!0})]})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:9,children:a.jsxs(x.Group,{controlId:"slogan",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Business Slogan/Phrase/Tagline"}),a.jsx(x.Control,{type:"text",placeholder:"Enter business slogan/phrase/tagline",name:"slogan",value:n.slogan,onChange:f})]})}),a.jsx(z,{md:3,children:a.jsxs(x.Group,{controlId:"established",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Year Established"}),a.jsx(x.Control,{type:"text",placeholder:"e.g.: 2000",name:"established",required:!0,value:n.established,onChange:C=>{const O=C.target.value;/^\d*\.?\d*$/.test(O)&&f(C)}})]})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"description",className:"mb-5 mt-2",children:[a.jsx(x.Label,{className:"label",children:"Brief Description"}),a.jsx(On,{theme:"snow",value:n.description||"",onChange:C=>f(C,"description"),required:!0,style:{height:"300px"}})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Si,{groupData:n,setGroupData:r,resetKey:t})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Ci,{onLocationSelect:g,name:n.name||"",resetKey:t})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"link",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Google Map Link"}),a.jsx(x.Control,{type:"text",placeholder:"Select Location First",name:"link",value:n.link,onChange:f,readOnly:!0})]})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"lat",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Lattitude"}),a.jsx(x.Control,{type:"text",placeholder:"Select Location First",name:"lat",value:n.address.lat,onChange:f,readOnly:!0})]})}),a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"long",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Longitude"}),a.jsx(x.Control,{type:"text",placeholder:"Select Location First",name:"long",value:n.address.long,onChange:f,readOnly:!0})]})})]}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"accessibility",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Geographical Location"}),a.jsxs(x.Select,{name:"geo",value:n.geo,onChange:f,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Geo Location"}),Ni.map((C,O)=>a.jsx("option",{value:C,children:C},O))]})]})}),a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"accessibility",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Accessibility"}),a.jsxs(x.Select,{name:"accessibility",value:n.accessibility,onChange:f,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Accessibility"}),Fo.map((C,O)=>a.jsx("option",{value:C,children:C},O))]})]})})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Cover Photo"}),a.jsx(mn,{storyForm:n,setStoryForm:r,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",children:[a.jsx(x.Label,{className:"label me-2",children:"Promotional & Marketing Photos"}),a.jsx(Rs,{dataForm:n,setDataForm:r,caption:"Drag & drop images or click to select (Max: 10)",dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"})]})})}),a.jsxs(V,{className:"mt-4",children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"accreditation",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"DOT Accreditation No."}),a.jsx(x.Control,{type:"text",placeholder:"Enter accreditation (Optional)",name:"accreditation",value:n.accreditation,onChange:f})]})}),a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"ratings",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"DOT Rating"}),a.jsx(x.Control,{type:"text",placeholder:"Enter ratings (Optional)",name:"ratings",value:n.ratings,onChange:f})]})})]}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"website",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Official Website Link"}),a.jsx(x.Control,{type:"text",placeholder:"Enter website link",name:"website",value:n.website,onChange:f})]})}),a.jsx(z,{md:6,children:a.jsx(Ve,{onChange:C=>f(C,"socials"),label:"Social Media Links (Type & Enter)",editingItems:n.socials,resetKey:t})})]}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsx(Ve,{onChange:C=>f(C,"operatinghours"),label:"Operating Hours (Type & Enter)",editingItems:n.operatinghours,resetKey:t,caption:"format: hh:mm A  | e.g. 08:00 AM"})}),a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"lowest",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Lowest Price"}),a.jsx("p",{className:"subtitle",children:"format: 00000.00 | e.g. 12000.00"}),a.jsx(x.Control,{type:"text",placeholder:"Enter Lowest Price",name:"lowest",value:n.lowest,onChange:C=>{const O=C.target.value;/^\d*\.?\d*$/.test(O)&&f(C)}})]})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(qn,{onChange:C=>f(C,"roomtypes"),options:Yw,resetKey:t,editingItems:n.roomtypes,label:"Room Types (Search, Select & Enter)"})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(qn,{onChange:C=>f(C,"inclusivity"),options:Tp,resetKey:t,editingItems:n.inclusivity,label:"Inclusivity (Search, Select & Enter)"})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(qn,{onChange:C=>f(C,"facilities"),label:"Facilities (Search, Select & Enter)",resetKey:t,editingItems:n.facilities,options:Ap,required:!0})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(qn,{onChange:C=>f(C,"amenities"),label:"Amenities (Search, Select & Enter)",resetKey:t,options:Xw,editingItems:n.amenities,required:!0})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Ve,{label:"Organizational Memberships (Type & Enter)",onChange:C=>f(C,"memberships"),editingItems:n.memberships,resetKey:t})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:C=>f(C,"awards"),editingItems:n.awards,resetKey:t,label:"Awards, Recognitions, Seals and Certifications (Type & Enter)"})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"note",className:"mb-5 mt-2",children:[a.jsx(x.Label,{className:"label",children:"Notes, Reminders, Remarks, and Other Details"}),a.jsx(On,{theme:"snow",value:n.note||"",onChange:C=>f(C,"note"),required:!0,style:{height:"300px"}})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:E,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:v,children:"Submit Accommodation"})]})}),a.jsx(B,{className:"empty-container"})]})}const pOe={width:"100%",height:"400px"};function jf({latitude:t,longitude:e}){const{isLoaded:n}=zW({googleMapsApiKey:"AIzaSyB12zV70G4pEPERWnWPiC69_BZhw_5Af9k"}),r={lat:t,lng:e};return a.jsx("div",{children:n?a.jsx(DW,{mapContainerStyle:pOe,center:r,zoom:15,children:a.jsx(WL,{position:r})}):a.jsx("div",{children:"Loading Map..."})})}function gOe({editingItem:t,toAddForm:e}){var A;const[n,r]=j.useState(0),[s,i]=j.useState(new vT),[o,l]=j.useState(""),[u,h]=j.useState(""),[f,g]=j.useState(""),p=(_,L)=>{if(Array.isArray(_))i(R=>({...R,[L]:_}));else if(typeof _=="string")i(R=>({...R,[L]:_}));else{const{name:R,value:U}=_.target;i(P=>({...P,[R]:U}))}},v=(_,L)=>{if(!_){console.warn("handleLocationSelect received null position.");return}i(R=>({...R,address:{...R.address,lat:_.lat||"",long:_.lng||""},link:L||""}))};j.useEffect(()=>{t&&(i(_=>({..._,id:t.id||"",name:t.name||"",category:t.category||"",subcategory:t.subcategory||"",classification:t.classification||"",accreditation:t.accreditation||"",ratings:t.ratings||"",established:t.established||"",lowest:t.lowest||"",slogan:t.slogan||"",description:t.description||"",facilities:t.facilities||[],amenities:t.amenities||[],awards:t.awards||[],images:t.images||[],roomtypes:t.roomtypes||[],operatinghours:t.operatinghours||[],inclusivity:t.inclusivity||[],accessibility:t.accessibility||"",logo:t.logo||"",headerImage:t.headerImage||"",website:t.website||"",address:{street:t.address.street||"",barangay:t.address.barangay||"",town:t.address.town||"",region:t.address.region||"",province:t.address.province||"",country:t.address.country||"",lat:t.address.lat||"",long:t.address.long||""},link:t.link||"",geo:t.geo||"",socials:t.socials||[],memberships:t.memberships||[],note:t.note||""})),t.category?(l(t.category||""),h(t.subcategory||""),g(t.classification||"")):(l("Hospitality & Lodging"),h("Accommodation Establishments")))},[t]);const w=async(_,L)=>{const R=Kt(en,L);return await Qt(R,_),await Zt(R)},E=async _=>{_.preventDefault(),xe.fire({title:"Submitting...",text:"Please wait while we submit your accommodation data.",allowOutsideClick:!1,didOpen:()=>{xe.showLoading()}});try{let L=s.logo,R=s.headerImage;s.headerImage instanceof File&&(t&&t.headerImage&&await Vt(t.headerImage),R=await w(s.headerImage,`accommodations/${Date.now()}_${s.headerImage.name}`)),s.logo instanceof File&&(t&&t.logo&&await Vt(t.logo),L=await w(s.logo,`accommodations/${Date.now()}_${s.logo.name}`));const U=await Promise.all(s.images.map(async(G,re)=>G instanceof File?(t&&t.images&&t.images[re]&&await Vt(t.images[re]),await w(G,`accommodations/${Date.now()}_${G.name}`)):G)),P={id:t?t.id:"",name:s.name,category:s.category||o,subcategory:s.subcategory||u,classification:s.classification||f,accreditation:s.accreditation,ratings:s.ratings,established:s.established,lowest:s.lowest,slogan:s.slogan,description:s.description,facilities:s.facilities||[],amenities:s.amenities||[],awards:s.awards||[],images:U,roomtypes:s.roomtypes||[],operatinghours:s.operatinghours||[],inclusivity:s.inclusivity||[],accessibility:s.accessibility||[],logo:L,headerImage:R,website:s.website,address:{...s.address},link:s.link,geo:s.geo,socials:s.socials||[],memberships:s.memberships||[],note:s.note},K=gt(ze,"accommodations",s.id);try{await rn(K,P),xe.fire({title:"Accommodation Updated",text:"Your accommodation has been updated successfully!",icon:"success"}),C(),S(),e()}catch(G){console.error("Error updating accommodation:",G),xe.fire({title:"Update Failed",text:"There was an error updating the accommodation.",icon:"error"})}}catch(L){console.error("Error submitting accommodation:",L),xe.fire({title:"Error",text:"There was an issue submitting your accommodation. Please try again.",icon:"error"})}},S=()=>{i(_=>({..._,headerImage:null}))},C=()=>{i({id:"",name:"",category:"",subcategory:"",classification:"",accreditation:"",ratings:"",established:"",lowest:"",slogan:"",description:"",facilities:[],amenities:[],awards:[],images:[],roomtypes:[],operatinghours:[],inclusivity:[],accessibility:[],logo:null,headerImage:null,website:"",address:{street:"",barangay:"",town:"",region:"",province:"",country:"",lat:"",long:""},link:"",geo:"",socials:[],memberships:[],note:[]}),r(_=>_+1),l(""),g(""),h("")},[O,I]=j.useState(!1),D=()=>{I(!O)},[T,F]=j.useState(!1),y=()=>{F(!T)};return a.jsxs(x,{className:"custom-form body-container",onSubmit:E,onKeyDown:_=>_.key==="Enter"&&_.preventDefault(),children:[a.jsxs(V,{className:"row mb-4",children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"category",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Category"}),a.jsx(x.Control,{type:"text",placeholder:"Enter accreditation (Optional)",name:"accreditation",value:s.category||"Hospitality & Lodging",onChange:p,readOnly:!0})]})}),a.jsxs(z,{md:6,children:[a.jsxs(x.Group,{controlId:"subcategory",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Category"}),a.jsx(x.Control,{type:"text",placeholder:"Enter Subcategory",name:"subcategory",value:s.subcategory||"Accommodation Establishments",onChange:p,readOnly:!0})]}),u&&$a[u]&&a.jsxs(x.Group,{controlId:"formClassification",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Classification"}),a.jsxs(x.Select,{value:s.classification||"",onChange:_=>{const L=_.target.value;g(L),i(R=>({...R,classification:L}))},children:[a.jsx("option",{value:"",children:"Select Classification"}),(A=$a[u])==null?void 0:A.map((_,L)=>a.jsx("option",{value:_,children:_},L))]})]})]})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"name",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Business Logo"}),a.jsx(Mo,{storyForm:s,setStoryForm:i,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small",caption:"Drag & Drop Logo here",required:!0})]})}),a.jsx(z,{md:6,children:a.jsx(B,{})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Business Name"}),a.jsx(x.Control,{type:"text",placeholder:"Enter business name",name:"name",value:s.name,onChange:p,required:!0})]})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:9,children:a.jsxs(x.Group,{controlId:"slogan",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Business Slogan/Phrase/Tagline"}),a.jsx(x.Control,{type:"text",placeholder:"Enter business slogan/phrase/tagline",name:"slogan",value:s.slogan,onChange:p})]})}),a.jsx(z,{md:3,children:a.jsxs(x.Group,{controlId:"established",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Year Established"}),a.jsx(x.Control,{type:"text",placeholder:"e.g.: 2000",name:"established",required:!0,value:s.established,onChange:_=>{const L=_.target.value;/^\d*\.?\d*$/.test(L)&&p(_)}})]})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"description",className:"mb-5 mt-2",children:[a.jsx(x.Label,{className:"label",children:"Brief Description"}),a.jsx(On,{theme:"snow",value:s.description||"",onChange:_=>p(_,"description"),required:!0,style:{height:"300px"}})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:O?a.jsx(Si,{groupData:s,setGroupData:i,resetKey:n}):a.jsxs(x.Group,{className:"mt-3 mb-3",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[a.jsx(x.Label,{className:"label mb-2",children:"Local Business Address"}),a.jsx(se,{variant:"outline-danger",className:"mb-2",onClick:D,children:O?"Cancel":"Edit Address"})]}),a.jsxs(a.Fragment,{children:[a.jsx(x.Control,{className:"mb-3",type:"text",name:"address.country",placeholder:"Country",value:s.address.country,readOnly:!0}),a.jsx(x.Control,{className:"my-3",type:"text",name:"address.region",placeholder:"Region",value:s.address.region,readOnly:!0}),a.jsx(x.Control,{className:"my-3",type:"text",name:"address.province",placeholder:"Province",value:s.address.province,readOnly:!0}),a.jsx(x.Control,{className:"my-3",type:"text",name:"address.city",placeholder:"City/Municipality/Town",value:s.address.town,readOnly:!0}),a.jsx(x.Control,{className:"my-3",type:"text",name:"address.barangay",placeholder:"Barangay",value:s.address.barangay,readOnly:!0}),a.jsx(x.Control,{className:"my-3",type:"text",name:"address.street",placeholder:"Street Name / Zone (Optional)",value:s.address.street,readOnly:!0})]})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:T?a.jsx(Ci,{onLocationSelect:v,name:s.name||"",resetKey:n,editingItems:s.address}):a.jsxs(x.Group,{className:"mt-3 mb-3",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[a.jsx(x.Label,{className:"label mb-2",children:"Local Business Address"}),a.jsx(se,{variant:"outline-danger",className:"mb-2",onClick:y,children:T?"Cancel":"Edit Map Location"})]}),a.jsx(jf,{latitude:s.address.lat,longitude:s.address.long})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"link",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Google Map Link"}),a.jsx(x.Control,{type:"text",placeholder:"Select Location First",name:"link",value:s.link,onChange:p,readOnly:!0})]})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"lat",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Lattitude"}),a.jsx(x.Control,{type:"text",placeholder:"Select Location First",name:"lat",value:s.address.lat,onChange:p,readOnly:!0})]})}),a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"long",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Longitude"}),a.jsx(x.Control,{type:"text",placeholder:"Select Location First",name:"long",value:s.address.long,onChange:p,readOnly:!0})]})})]}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"accessibility",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Geographical Location"}),a.jsxs(x.Select,{name:"geo",value:s.geo,onChange:p,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Geo Location"}),Ni.map((_,L)=>a.jsx("option",{value:_,children:_},L))]})]})}),a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"accessibility",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Accessibility"}),a.jsxs(x.Select,{name:"accessibility",value:s.accessibility,onChange:p,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Accessibility"}),Fo.map((_,L)=>a.jsx("option",{value:_,children:_},L))]})]})})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Cover Photo"}),a.jsx(mn,{storyForm:s,setStoryForm:i,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"})]})})}),a.jsx(V,{className:"mt-2 ",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",children:[a.jsx(x.Label,{className:"label",children:"Promotional & Marketing Photos"}),a.jsx(Rs,{dataForm:s,setDataForm:i,caption:"Drag & drop images or click to select (Max: 10)",dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"})]})})}),a.jsxs(V,{className:"mt-4",children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"accreditation",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"DOT Accreditation No."}),a.jsx(x.Control,{type:"text",placeholder:"Enter accreditation (Optional)",name:"accreditation",value:s.accreditation,onChange:p})]})}),a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"ratings",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"DOT Rating"}),a.jsx(x.Control,{type:"text",placeholder:"Enter ratings (Optional)",name:"ratings",value:s.ratings,onChange:p})]})})]}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"website",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Official Website Link"}),a.jsx(x.Control,{type:"text",placeholder:"Enter website link",name:"website",value:s.website,onChange:p})]})}),a.jsx(z,{md:6,children:a.jsx(Ve,{onChange:_=>p(_,"socials"),label:"Social Media Links (Type & Enter)",editingItems:s.socials,resetKey:n})})]}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsx(Ve,{onChange:_=>p(_,"operatinghours"),label:"Operating Hours (Type & Enter)",editingItems:s.operatinghours,resetKey:n,caption:"format: hh:mm A  | e.g. 08:00 AM"})}),a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"lowest",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Lowest Price"}),a.jsx("p",{className:"subtitle",children:"format: 00000.00 | e.g. 12000.00"}),a.jsx(x.Control,{type:"text",placeholder:"Enter Lowest Price",name:"lowest",value:s.lowest,onChange:_=>{const L=_.target.value;/^\d*\.?\d*$/.test(L)&&p(_)}})]})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(qn,{onChange:_=>p(_,"roomtypes"),options:Yw,resetKey:n,label:"Room Types (Search, Select & Enter)",editingItems:s.roomtypes})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(qn,{onChange:_=>p(_,"inclusivity"),options:Tp,resetKey:n,label:"Inclusivity (Search, Select & Enter)",editingItems:s.inclusivity})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(qn,{onChange:_=>p(_,"facilities"),label:"Facilities (Search, Select & Enter)",resetKey:n,options:Ap,editingItems:s.facilities,required:!0})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(qn,{onChange:_=>p(_,"amenities"),label:"Amenities (Search, Select & Enter)",resetKey:n,options:Xw,editingItems:s.amenities,required:!0})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Ve,{label:"Organizational Memberships (Type & Enter)",onChange:_=>p(_,"memberships"),editingItems:s.memberships,resetKey:n})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:_=>p(_,"awards"),editingItems:s.awards,resetKey:n,label:"Awards, Recognitions, Seals and Certifications (Type & Enter)"})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"note",className:"mb-5 mt-2",children:[a.jsx(x.Label,{className:"label",children:"Notes, Reminders, Remarks, and Other Details"}),a.jsx(On,{theme:"snow",value:s.note||"",onChange:_=>p(_,"note"),required:!0,style:{height:"300px"}})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(B,{className:"d-flex justify-content-end",children:a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:E,children:"Submit Update"})})}),a.jsx(B,{className:"empty-container"})]})}const vOe=()=>{const[t,e]=j.useState([]),[n,r]=j.useState(""),[s,i]=j.useState(""),[o,l]=j.useState(""),[u,h]=j.useState(""),[f,g]=j.useState(""),[p,v]=j.useState(""),[w,E]=j.useState("asc"),[S,C]=j.useState(0),[O,I]=j.useState(null),D=10;j.useEffect(()=>{y()},[]);const[T,F]=j.useState(!0),y=async()=>{try{const me=(await ur(Ft(ze,"accommodations"))).docs.map(ie=>({id:ie.id,...ie.data()}));e(me)}catch(Z){console.error("Error fetching data:",Z)}finally{F(!1)}},A=Z=>{I(Z)},_=async Z=>{xe.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then(async me=>{me.isConfirmed&&(await kr(gt(ze,"accommodations",Z)),y(),xe.fire("Deleted!","Your entry has been deleted.","success"))})},L=t.filter(Z=>{const me=o===""||Z.subcategory===o,ie=s===""||Z.classification===s,W=u===""||Z.geo===u,ve=f===""||Z.address.barangay===f,Q=n.toLowerCase(),ne=Z.name.toLowerCase().includes(Q)||Z.established.toLowerCase().includes(Q)||Z.category.toLowerCase().includes(Q)||Z.subcategory.toLowerCase().includes(Q)||Z.classification.toLowerCase().includes(Q)||Z.geo.toLowerCase().includes(Q)||Z.address.barangay.toLowerCase().includes(Q)||Z.address.street.toLowerCase().includes(Q)||Z.accreditation.toLowerCase().includes(Q)||Z.ratings.toLowerCase().includes(Q),te=Z.accreditation&&Z.accreditation.trim()!=="";return me&&ie&&W&&ve&&ne&&(p===""||p==="DOT Accredited"&&te||p==="Not Accredited"&&!te)}),R=()=>new Date().toISOString().split("T")[0],U=()=>{const Z=t.map(({name:W,established:ve,category:Q,subcategory:ne,classification:te,...X})=>({...X,facilities:Array.isArray(X.facilities)?X.facilities.join(", "):"",amenities:Array.isArray(X.amenities)?X.amenities.join(", "):"",awards:Array.isArray(X.awards)?X.awards.join(", "):"",images:Array.isArray(X.images)?X.images.join(", "):"",roomtypes:Array.isArray(X.roomtypes)?X.roomtypes.join(", "):"",operatinghours:Array.isArray(X.operatinghours)?X.operatinghours.join(", "):"",inclusivity:Array.isArray(X.inclusivity)?X.inclusivity.join(", "):"",socials:Array.isArray(X.socials)?X.socials.join(", "):"",memberships:Array.isArray(X.memberships)?X.memberships.join(", "):"",address:X.address?JSON.stringify(X.address):""})),me=yt.json_to_sheet(Z),ie=yt.book_new();yt.book_append_sheet(ie,me,"Data"),Fr(ie,`tourism_stories_infoguide_${R()}.xlsx`)},P=Math.ceil(L.length/D),K=L.slice(S*D,(S+1)*D),G=({selected:Z})=>{C(Z)},re=()=>{I(null)};return a.jsxs(B,{children:[a.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Accommodation Establishment"}),a.jsx("p",{children:"List of Department of Tourism (DOT) Accredited and LGU-Recognized Accommodation Establishment"}),a.jsxs(V,{children:[a.jsx(z,{md:6,className:"mb-1 me-2 col",children:a.jsx(x.Control,{type:"text",placeholder:`Search up to over ${t.length} accommodations`,value:n,onChange:Z=>r(Z.target.value)})}),a.jsx(z,{md:2,className:"mb-1 me-2 col",children:a.jsxs(x.Select,{value:o,onChange:Z=>l(Z.target.value),children:[a.jsx("option",{value:"",children:"All Subcategories"}),[...new Set(t.map(Z=>Z.subcategory))].map((Z,me)=>a.jsx("option",{value:Z,children:Z},me))]})}),a.jsx(z,{md:2,className:"mb-1 me-2 col",children:a.jsxs(x.Select,{value:s,onChange:Z=>i(Z.target.value),children:[a.jsx("option",{value:"",children:"All Classifications"}),[...new Set(t.map(Z=>Z.classification))].map((Z,me)=>a.jsx("option",{value:Z,children:Z},me))]})})]}),a.jsxs(V,{children:[a.jsx(z,{md:2,className:"mb-1 me-2 col",children:a.jsxs(x.Select,{value:u,onChange:Z=>l(Z.target.value),children:[a.jsx("option",{value:"",children:"All Geographical Location"}),[...new Set(t.map(Z=>Z.geo))].map((Z,me)=>a.jsx("option",{value:Z,children:Z},me))]})}),a.jsx(z,{md:2,className:"mb-1 me-2 col",children:a.jsxs(x.Select,{value:f,onChange:Z=>g(Z.target.value),children:[a.jsx("option",{value:"",children:"All Barangays"}),[...new Set(t.map(Z=>Z.address.barangay))].map((Z,me)=>a.jsx("option",{value:Z,children:Z},me))]})}),a.jsx(z,{md:2,className:"mb-1 me-2 col",children:a.jsxs(x.Select,{value:p,onChange:Z=>v(Z.target.value),children:[a.jsx("option",{value:"",children:"All Accreditations"}),a.jsx("option",{value:"DOT Accredited",children:"DOT Accredited"}),a.jsx("option",{value:"Not Accredited",children:"Not Accredited"})]})}),a.jsxs(B,{className:"d-flex justify-content-end align-items-center mt-2 mb-4",children:[a.jsxs(se,{variant:"outline-secondary",className:"me-2",onClick:y,children:[a.jsx(ye,{icon:Pr,size:"xs",fixedWidth:!0})," Refresh List"]}),a.jsxs(se,{variant:"outline-success",onClick:re,children:[a.jsx(ye,{icon:Dr,size:"xs",fixedWidth:!0})," Add New"]})]})]}),T?a.jsx("div",{className:"d-flex justify-content-center align-items-center my-5",children:a.jsx(Cr,{animation:"border",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):K.length===0?a.jsx("div",{className:"text-center my-5",children:a.jsx("h5",{children:"No Data Available"})}):a.jsxs(Rr,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Business Name"}),a.jsx("th",{children:"Established"}),a.jsx("th",{children:"Category"}),a.jsx("th",{children:"SubCategory"}),a.jsx("th",{children:"Classification"}),a.jsx("th",{children:"Geo Location"}),a.jsx("th",{children:"Barangay"}),a.jsx("th",{children:"Street"}),a.jsx("th",{children:"Accreditation"}),a.jsx("th",{children:"Rating"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:K.map(Z=>a.jsxs("tr",{children:[a.jsx("td",{children:Z.name}),a.jsx("td",{children:Z.established}),a.jsx("td",{children:Z.category}),a.jsx("td",{children:Z.subcategory}),a.jsx("td",{children:Z.classification}),a.jsx("td",{children:Z.geo}),a.jsx("td",{children:Z.address.barangay}),a.jsx("td",{children:Z.address.street}),a.jsx("td",{children:Z.accreditation}),a.jsx("td",{children:Z.ratings}),a.jsx("td",{children:a.jsxs(B,{className:"d-flex justify-content-center align-items-center",children:[a.jsx(Jt,{placement:"top",overlay:a.jsx(Wt,{children:"Edit"}),children:a.jsx(se,{variant:"outline-secondary",size:"sm",className:"me-2",onClick:()=>A(Z),children:a.jsx(ye,{icon:Ir,size:"xs",fixedWidth:!0})})}),a.jsx(Jt,{placement:"top",overlay:a.jsx(Wt,{children:"Delete"}),children:a.jsx(se,{variant:"outline-danger",size:"sm",onClick:()=>_(Z.id),children:a.jsx(ye,{icon:Dt,size:"xs",fixedWidth:!0})})})]})})]},Z.id))})]}),a.jsxs(B,{className:"d-flex justify-content-between align-items-center mb-4 mt-2",children:[a.jsx(se,{onClick:U,variant:"outline-success",children:"Download Excel"}),a.jsx(Mr,{previousLabel:"",nextLabel:"",pageCount:P,onPageChange:G,containerClassName:"pagination mb-0",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})]}),a.jsx(B,{className:"empty-container"}),O?a.jsx(gOe,{editingItem:O,toAddForm:()=>I(null)}):a.jsx(mOe,{})]})};class CT{constructor(){this.id="",this.name="",this.category="",this.subcategory="",this.classification="",this.established="",this.lowest="",this.slogan="",this.description="",this.facilities=[],this.activities=[],this.images=[],this.operatinghours=[],this.accessibility="",this.logo=null,this.headerImage=null,this.website="",this.address={street:"",barangay:"",town:"",region:"",province:"",country:"",lat:"",long:""},this.link="",this.geo="",this.socials=[],this.note=""}toJSON(){return{...this}}}const wK=["Reception Desk","Parking Area","CCTV Protected","Restaurant","Security Guard/House","WiFi Connection","Storage or Locker","Accommodation","Swimming Pool","Common Bathroom or Changing Room","Cafe","Bar","Obstacle Course","Kubo House","Conference/Events Room","Lights and Sounds","LED Wall","Photography Boot/Station","Shuttle","Entertainment Area","Live Music","Lounge"],_K=["Swimming","ATV Ride","Buggy Car Ride","Splash Slide","Cliff Diving","Floating Matt","Crystal Kayaking","River Kayaking","Stand-up Paddle Board","Kawa Bath","Superman Zipline","Sky Bike","Monkey Zipline","Team-building","Conferences and Meetings","Dine","Platter Dine","Buffet Lunch Dining","Try Local Delicacies","Boodle Fight Dining","Camping","Glamping","Overnight Stay","Bonfire"];function yOe({}){var S;const[t,e]=j.useState(0),[n,r]=j.useState(new CT),[s,i]=j.useState(""),[o,l]=j.useState(""),[u,h]=j.useState(""),f=(C,O)=>{if(Array.isArray(C))r(I=>({...I,[O]:C}));else if(typeof C=="string")r(I=>({...I,[O]:C}));else{const{name:I,value:D}=C.target;r(T=>({...T,[I]:D}))}},g=(C,O)=>{if(!C){console.warn("handleLocationSelect received null position.");return}r(I=>({...I,address:{...I.address,lat:C.lat||"",long:C.lng||""},link:O||""}))};j.useEffect(()=>{n.accreditation||(r(C=>({...C,category:"Hospitality & Lodging",subcategory:"Recreational Resorts"})),i("Hospitality & Lodging"),l("Recreational Resorts"))},[r,n.category,n.subcategory]);const p=async(C,O)=>{const I=Kt(en,O);return await Qt(I,C),await Zt(I)},v=async C=>{C.preventDefault(),xe.fire({title:"Submitting...",text:"Please wait while we submit your resorts data.",allowOutsideClick:!1,didOpen:()=>{xe.showLoading()}});try{let O=n.headerImage?await p(n.headerImage,`resorts/${Date.now()}_${n.headerImage.name}`):null,I=n.logo?await p(n.logo,`resorts/${Date.now()}_${n.logo.name}`):null;const D=await Promise.all(n.images.map(async A=>A?await p(A,`resorts/${Date.now()}_${A.name}`):"")),T=new CT;T.id="",T.name=n.name,T.category=n.category||s,T.subcategory=n.subcategory||o,T.classification=n.classification||u,T.established=n.established,T.lowest=n.lowest,T.slogan=n.slogan,T.description=n.description,T.facilities=n.facilities||[],T.activities=n.activities||[],T.images=D,T.operatinghours=n.operatinghours||[],T.accessibility=n.accessibility||[],T.logo=I,T.headerImage=O,T.website=n.website,T.address={...n.address},T.link=n.link,T.geo=n.geo,T.socials=n.socials||[],T.note=n.note;const F=await Or(Ft(ze,"resorts"),T.toJSON()),y=gt(ze,"resorts",F.id);await rn(y,{id:F.id}),xe.fire({title:"Recreational Resort Submitted",text:"Your resort has been submitted successfully!",icon:"success"}),E(),w()}catch(O){console.error("Error submitting resort:",O),xe.fire({title:"Error",text:"There was an issue submitting your resort. Please try again.",icon:"error"})}},w=()=>{r(C=>({...C,headerImage:null}))},E=()=>{r({id:"",name:"",category:"",subcategory:"",classification:"",established:"",lowest:"",slogan:"",description:"",facilities:[],activities:[],images:[],operatinghours:[],accessibility:[],logo:null,headerImage:null,website:"",address:{street:"",barangay:"",town:"",region:"",province:"",country:"",lat:"",long:""},link:"",geo:"",socials:[],note:[]}),e(C=>C+1),i(""),h(""),l("")};return a.jsxs(x,{className:"custom-form body-container",onSubmit:v,onKeyDown:C=>C.key==="Enter"&&C.preventDefault(),children:[a.jsxs(V,{className:"row mb-4",children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"category",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Category"}),a.jsx(x.Control,{type:"text",placeholder:"Enter Category",name:"category",value:n.category||"Hospitality & Lodging",onChange:f,readOnly:!0})]})}),a.jsxs(z,{md:6,children:[a.jsxs(x.Group,{controlId:"subcategory",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Category"}),a.jsx(x.Control,{type:"text",placeholder:"Enter Subcategory",name:"subcategory",value:n.subcategory||"Accommodation Establishments",onChange:f,readOnly:!0})]}),o&&$a[o]&&a.jsxs(x.Group,{controlId:"formClassification",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Classification"}),a.jsxs(x.Select,{value:n.classification||"",onChange:C=>{const O=C.target.value;h(O),r(I=>({...I,classification:O}))},children:[a.jsx("option",{value:"",children:"Select Classification"}),(S=$a[o])==null?void 0:S.map((C,O)=>a.jsx("option",{value:C,children:C},O))]})]})]})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"name",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Business Logo"}),a.jsx(Mo,{storyForm:n,setStoryForm:r,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small",caption:"Drag & Drop Logo here",required:!0})]})}),a.jsx(z,{md:6,children:a.jsx(B,{})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Business Name"}),a.jsx(x.Control,{type:"text",placeholder:"Enter business name",name:"name",value:n.name,onChange:f,required:!0})]})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:9,children:a.jsxs(x.Group,{controlId:"slogan",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Business Slogan/Phrase/Tagline"}),a.jsx(x.Control,{type:"text",placeholder:"Enter business slogan/phrase/tagline",name:"slogan",value:n.slogan,onChange:f})]})}),a.jsx(z,{md:3,children:a.jsxs(x.Group,{controlId:"established",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Year Established"}),a.jsx(x.Control,{type:"text",placeholder:"e.g.: 2000",name:"established",required:!0,value:n.established,onChange:C=>{const O=C.target.value;/^\d*\.?\d*$/.test(O)&&f(C)}})]})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"description",className:"mb-5 mt-2",children:[a.jsx(x.Label,{className:"label",children:"Brief Description"}),a.jsx(On,{theme:"snow",value:n.description||"",onChange:C=>f(C,"description"),required:!0,style:{height:"300px"}})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Si,{groupData:n,setGroupData:r,resetKey:t})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Ci,{onLocationSelect:g,name:n.name||"",resetKey:t})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"link",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Google Map Link"}),a.jsx(x.Control,{type:"text",placeholder:"Select Location First",name:"link",value:n.link,onChange:f,readOnly:!0})]})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"lat",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Lattitude"}),a.jsx(x.Control,{type:"text",placeholder:"Select Location First",name:"lat",value:n.address.lat,onChange:f,readOnly:!0})]})}),a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"long",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Longitude"}),a.jsx(x.Control,{type:"text",placeholder:"Select Location First",name:"long",value:n.address.long,onChange:f,readOnly:!0})]})})]}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"accessibility",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Geographical Location"}),a.jsxs(x.Select,{name:"geo",value:n.geo,onChange:f,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Geo Location"}),Ni.map((C,O)=>a.jsx("option",{value:C,children:C},O))]})]})}),a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"accessibility",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Accessibility"}),a.jsxs(x.Select,{name:"accessibility",value:n.accessibility,onChange:f,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Accessibility"}),Fo.map((C,O)=>a.jsx("option",{value:C,children:C},O))]})]})})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Cover Photo"}),a.jsx(mn,{storyForm:n,setStoryForm:r,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",children:[a.jsx(x.Label,{className:"label me-2",children:"Promotional & Marketing Photos"}),a.jsx(Rs,{dataForm:n,setDataForm:r,caption:"Drag & drop images or click to select (Max: 10)",dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"})]})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"website",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Official Website Link"}),a.jsx(x.Control,{type:"text",placeholder:"Enter website link",name:"website",value:n.website,onChange:f})]})}),a.jsx(z,{md:6,children:a.jsx(Ve,{onChange:C=>f(C,"socials"),label:"Social Media Links (Type & Enter)",editingItems:n.socials,resetKey:t})})]}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsx(Ve,{onChange:C=>f(C,"operatinghours"),label:"Operating Hours (Type & Enter)",editingItems:n.operatinghours,resetKey:t,caption:"format: hh:mm A  | e.g. 08:00 AM"})}),a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"lowest",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Lowest Price"}),a.jsx("p",{className:"subtitle",children:"format: 00000.00 | e.g. 12000.00"}),a.jsx(x.Control,{type:"text",placeholder:"Enter Lowest Price",name:"lowest",value:n.lowest,onChange:C=>{const O=C.target.value;/^\d*\.?\d*$/.test(O)&&f(C)}})]})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(qn,{onChange:C=>f(C,"facilities"),label:"Facilities (Search, Select & Enter)",resetKey:t,options:wK,editingItems:n.facilities,required:!0})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(qn,{onChange:C=>f(C,"activities"),label:"Activities To do (Search, Select & Enter)",resetKey:t,options:_K,editingItems:n.activities,required:!0})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"note",className:"mb-5 mt-2",children:[a.jsx(x.Label,{className:"label",children:"Notes, Reminders, Remarks, and Other Details"}),a.jsx(On,{theme:"snow",value:n.note||"",onChange:C=>f(C,"note"),required:!0,style:{height:"300px"}})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:E,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:v,children:"Submit Resort"})]})}),a.jsx(B,{className:"empty-container"})]})}function xOe({editingItem:t,toAddForm:e}){var A;const[n,r]=j.useState(0),[s,i]=j.useState(new CT),[o,l]=j.useState(""),[u,h]=j.useState(""),[f,g]=j.useState(""),p=(_,L)=>{if(Array.isArray(_))i(R=>({...R,[L]:_}));else if(typeof _=="string")i(R=>({...R,[L]:_}));else{const{name:R,value:U}=_.target;i(P=>({...P,[R]:U}))}},v=(_,L)=>{if(!_){console.warn("handleLocationSelect received null position.");return}i(R=>({...R,address:{...R.address,lat:_.lat||"",long:_.lng||""},link:L||""}))};j.useEffect(()=>{t&&(i(_=>({..._,id:t.id||"",name:t.name||"",category:t.category||"",subcategory:t.subcategory||"",classification:t.classification||"",established:t.established||"",lowest:t.lowest||"",slogan:t.slogan||"",description:t.description||"",facilities:t.facilities||[],activities:t.activities||[],images:t.images||[],operatinghours:t.operatinghours||[],accessibility:t.accessibility||"",logo:t.logo||"",headerImage:t.headerImage||"",website:t.website||"",address:{street:t.address.street||"",barangay:t.address.barangay||"",town:t.address.town||"",region:t.address.region||"",province:t.address.province||"",country:t.address.country||"",lat:t.address.lat||"",long:t.address.long||""},link:t.link||"",geo:t.geo||"",socials:t.socials||[],note:t.note||""})),t.category?(l(t.category||""),h(t.subcategory||""),g(t.classification||"")):(l("Hospitality & Lodging"),h("Recreational Resorts")))},[t]);const w=async(_,L)=>{const R=Kt(en,L);return await Qt(R,_),await Zt(R)},E=async _=>{_.preventDefault(),xe.fire({title:"Submitting...",text:"Please wait while we submit your accommodation data.",allowOutsideClick:!1,didOpen:()=>{xe.showLoading()}});try{let L=s.headerImage,R=s.logo;s.headerImage instanceof File&&(t&&t.headerImage&&await Vt(t.headerImage),L=await w(s.headerImage,`resorts/${Date.now()}_${s.headerImage.name}`)),s.logo instanceof File&&(t&&t.logo&&await Vt(t.logo),R=await w(s.logo,`resorts/${Date.now()}_${s.logo.name}`));const U=await Promise.all(s.images.map(async(G,re)=>G instanceof File?(t&&t.images&&t.images[re]&&await Vt(t.images[re]),await w(G,`resorts/${Date.now()}_${G.name}`)):G)),P={id:t?t.id:"",name:s.name,category:s.category||o,subcategory:s.subcategory||u,classification:s.classification||f,established:s.established,lowest:s.lowest,slogan:s.slogan,description:s.description,facilities:s.facilities||[],activities:s.activities||[],images:U,operatinghours:s.operatinghours||[],inclusivity:s.inclusivity||[],accessibility:s.accessibility||[],logo:R,headerImage:L,website:s.website,address:{...s.address},link:s.link,geo:s.geo,socials:s.socials||[],note:s.note},K=gt(ze,"resorts",s.id);try{await rn(K,P),xe.fire({title:"Resorts Updated",text:"Your resort has been updated successfully!",icon:"success"})}catch(G){console.error("Error updating resort:",G),xe.fire({title:"Update Failed",text:"There was an error updating the resort.",icon:"error"})}C(),S(),e()}catch(L){console.error("Error submitting resort:",L),xe.fire({title:"Error",text:"There was an issue submitting your resort. Please try again.",icon:"error"})}},S=()=>{i(_=>({..._,headerImage:null}))},C=()=>{i({id:"",name:"",category:"",subcategory:"",classification:"",established:"",lowest:"",slogan:"",description:"",facilities:[],activities:[],images:[],operatinghours:[],accessibility:[],logo:null,headerImage:null,website:"",address:{street:"",barangay:"",town:"",region:"",province:"",country:"",lat:"",long:""},link:"",geo:"",socials:[],note:[]}),r(_=>_+1),l(""),g(""),h("")},[O,I]=j.useState(!1),D=()=>{I(!O)},[T,F]=j.useState(!1),y=()=>{F(!T)};return a.jsxs(x,{className:"custom-form body-container",onSubmit:E,onKeyDown:_=>_.key==="Enter"&&_.preventDefault(),children:[a.jsxs(V,{className:"row mb-4",children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"category",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Category"}),a.jsx(x.Control,{type:"text",placeholder:"Enter Category",name:"category",value:s.category||"Hospitality & Lodging",onChange:p,readOnly:!0})]})}),a.jsxs(z,{md:6,children:[a.jsxs(x.Group,{controlId:"subcategory",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Category"}),a.jsx(x.Control,{type:"text",placeholder:"Enter Subcategory",name:"subcategory",value:s.subcategory||"Accommodation Establishments",onChange:p,readOnly:!0})]}),u&&$a[u]&&a.jsxs(x.Group,{controlId:"formClassification",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Classification"}),a.jsxs(x.Select,{value:s.classification||"",onChange:_=>{const L=_.target.value;g(L),i(R=>({...R,classification:L}))},children:[a.jsx("option",{value:"",children:"Select Classification"}),(A=$a[u])==null?void 0:A.map((_,L)=>a.jsx("option",{value:_,children:_},L))]})]})]})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"name",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Business Logo"}),a.jsx(Mo,{storyForm:s,setStoryForm:i,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small",caption:"Drag & Drop Logo here",required:!0})]})}),a.jsx(z,{md:6,children:a.jsx(B,{})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Business Name"}),a.jsx(x.Control,{type:"text",placeholder:"Enter business name",name:"name",value:s.name,onChange:p,required:!0})]})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:9,children:a.jsxs(x.Group,{controlId:"slogan",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Business Slogan/Phrase/Tagline"}),a.jsx(x.Control,{type:"text",placeholder:"Enter business slogan/phrase/tagline",name:"slogan",value:s.slogan,onChange:p})]})}),a.jsx(z,{md:3,children:a.jsxs(x.Group,{controlId:"established",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Year Established"}),a.jsx(x.Control,{type:"text",placeholder:"e.g.: 2000",name:"established",required:!0,value:s.established,onChange:_=>{const L=_.target.value;/^\d*\.?\d*$/.test(L)&&p(_)}})]})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"description",className:"mb-5 mt-2",children:[a.jsx(x.Label,{className:"label",children:"Brief Description"}),a.jsx(On,{theme:"snow",value:s.description||"",onChange:_=>p(_,"description"),required:!0,style:{height:"300px"}})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:O?a.jsx(Si,{groupData:s,setGroupData:i,resetKey:n}):a.jsxs(x.Group,{className:"mt-3 mb-3",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[a.jsx(x.Label,{className:"label mb-2",children:"Local Business Address"}),a.jsx(se,{variant:"outline-danger",className:"mb-2",onClick:D,children:O?"Cancel":"Edit Address"})]}),a.jsxs(a.Fragment,{children:[a.jsx(x.Control,{className:"mb-3",type:"text",name:"address.country",placeholder:"Country",value:s.address.country,readOnly:!0}),a.jsx(x.Control,{className:"my-3",type:"text",name:"address.region",placeholder:"Region",value:s.address.region,readOnly:!0}),a.jsx(x.Control,{className:"my-3",type:"text",name:"address.province",placeholder:"Province",value:s.address.province,readOnly:!0}),a.jsx(x.Control,{className:"my-3",type:"text",name:"address.city",placeholder:"City/Municipality/Town",value:s.address.town,readOnly:!0}),a.jsx(x.Control,{className:"my-3",type:"text",name:"address.barangay",placeholder:"Barangay",value:s.address.barangay,readOnly:!0}),a.jsx(x.Control,{className:"my-3",type:"text",name:"address.street",placeholder:"Street Name / Zone (Optional)",value:s.address.street,readOnly:!0})]})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:T?a.jsx(Ci,{onLocationSelect:v,name:s.name||"",resetKey:n,editingItems:s.address}):a.jsxs(x.Group,{className:"mt-3 mb-3",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[a.jsx(x.Label,{className:"label mb-2",children:"Local Business Address"}),a.jsx(se,{variant:"outline-danger",className:"mb-2",onClick:y,children:T?"Cancel":"Edit Map Location"})]}),a.jsx(jf,{latitude:s.address.lat,longitude:s.address.long})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"link",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Google Map Link"}),a.jsx(x.Control,{type:"text",placeholder:"Select Location First",name:"link",value:s.link,onChange:p,readOnly:!0})]})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"lat",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Lattitude"}),a.jsx(x.Control,{type:"text",placeholder:"Select Location First",name:"lat",value:s.address.lat,onChange:p,readOnly:!0})]})}),a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"long",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Longitude"}),a.jsx(x.Control,{type:"text",placeholder:"Select Location First",name:"long",value:s.address.long,onChange:p,readOnly:!0})]})})]}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"accessibility",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Geographical Location"}),a.jsxs(x.Select,{name:"geo",value:s.geo,onChange:p,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Geo Location"}),Ni.map((_,L)=>a.jsx("option",{value:_,children:_},L))]})]})}),a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"accessibility",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Accessibility"}),a.jsxs(x.Select,{name:"accessibility",value:s.accessibility,onChange:p,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Accessibility"}),Fo.map((_,L)=>a.jsx("option",{value:_,children:_},L))]})]})})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Cover Photo"}),a.jsx(mn,{storyForm:s,setStoryForm:i,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",children:[a.jsx(x.Label,{className:"label me-2",children:"Promotional & Marketing Photos"}),a.jsx(Rs,{dataForm:s,setDataForm:i,caption:"Drag & drop images or click to select (Max: 10)",dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"})]})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"website",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Official Website Link"}),a.jsx(x.Control,{type:"text",placeholder:"Enter website link",name:"website",value:s.website,onChange:p})]})}),a.jsx(z,{md:6,children:a.jsx(Ve,{onChange:_=>p(_,"socials"),label:"Social Media Links (Type & Enter)",editingItems:s.socials,resetKey:n})})]}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsx(Ve,{onChange:_=>p(_,"operatinghours"),label:"Operating Hours (Type & Enter)",editingItems:s.operatinghours,resetKey:n,caption:"format: hh:mm A  | e.g. 08:00 AM"})}),a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"lowest",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Lowest Price"}),a.jsx("p",{className:"subtitle",children:"format: 00000.00 | e.g. 12000.00"}),a.jsx(x.Control,{type:"text",placeholder:"Enter Lowest Price",name:"lowest",value:s.lowest,onChange:_=>{const L=_.target.value;/^\d*\.?\d*$/.test(L)&&p(_)}})]})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(qn,{onChange:_=>p(_,"facilities"),label:"Facilities (Search, Select & Enter)",resetKey:n,options:wK,editingItems:s.facilities,required:!0})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(qn,{onChange:_=>p(_,"activities"),label:"Activities To do (Search, Select & Enter)",resetKey:n,options:_K,editingItems:s.activities,required:!0})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"note",className:"mb-5 mt-2",children:[a.jsx(x.Label,{className:"label",children:"Notes, Reminders, Remarks, and Other Details"}),a.jsx(On,{theme:"snow",value:s.note||"",onChange:_=>p(_,"note"),required:!0,style:{height:"300px"}})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:C,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:E,children:"Submit Update"})]})}),a.jsx(B,{className:"empty-container"})]})}const bOe=()=>{const[t,e]=j.useState([]),[n,r]=j.useState(""),[s,i]=j.useState(""),[o,l]=j.useState(""),[u,h]=j.useState(""),[f,g]=j.useState(""),[p,v]=j.useState("asc"),[w,E]=j.useState(0),[S,C]=j.useState(null),O=10;j.useEffect(()=>{T()},[]);const[I,D]=j.useState(!0),T=async()=>{try{const re=(await ur(Ft(ze,"resorts"))).docs.map(Z=>({id:Z.id,...Z.data()}));e(re)}catch(G){console.error("Error fetching data:",G)}finally{D(!1)}},F=G=>{C(G)},y=async G=>{xe.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then(async re=>{re.isConfirmed&&(await kr(gt(ze,"resorts",G)),T(),xe.fire("Deleted!","Your entry has been deleted.","success"))})},A=t.filter(G=>{const re=o===""||G.subcategory===o,Z=s===""||G.classification===s,me=u===""||G.geo===u,ie=f===""||G.address.barangay===f,W=n.toLowerCase(),ve=G.name.toLowerCase().includes(W)||G.established.toLowerCase().includes(W)||G.category.toLowerCase().includes(W)||G.subcategory.toLowerCase().includes(W)||G.classification.toLowerCase().includes(W)||G.geo.toLowerCase().includes(W)||G.address.barangay.toLowerCase().includes(W)||G.address.street.toLowerCase().includes(W);return re&&Z&&me&&ie&&ve}),_=()=>new Date().toISOString().split("T")[0],L=()=>{const G=t.map(({name:me,established:ie,category:W,subcategory:ve,classification:Q,...ne})=>({...ne,facilities:Array.isArray(ne.facilities)?ne.facilities.join(", "):"",activities:Array.isArray(ne.activities)?ne.activities.join(", "):"",images:Array.isArray(ne.images)?ne.images.join(", "):"",operatinghours:Array.isArray(ne.operatinghours)?ne.operatinghours.join(", "):"",socials:Array.isArray(ne.socials)?ne.socials.join(", "):"",address:ne.address?JSON.stringify(ne.address):""})),re=yt.json_to_sheet(G),Z=yt.book_new();yt.book_append_sheet(Z,re,"Data"),Fr(Z,`tourism_stories_infoguide_${_()}.xlsx`)},R=Math.ceil(A.length/O),U=A.slice(w*O,(w+1)*O),P=({selected:G})=>{E(G)},K=()=>{C(null)};return a.jsxs(B,{children:[a.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Recreational Resorts"}),a.jsx("p",{children:"List of LGU-Recognized Recreational Resorts in Mainland Malay"}),a.jsxs(V,{children:[a.jsx(z,{md:6,className:"mb-1 me-2 col",children:a.jsx(x.Control,{type:"text",placeholder:`Search up to over ${t.length} recreational resorts`,value:n,onChange:G=>r(G.target.value)})}),a.jsx(z,{md:2,className:"mb-1 me-2 col",children:a.jsxs(x.Select,{value:o,onChange:G=>l(G.target.value),children:[a.jsx("option",{value:"",children:"All Subcategories"}),[...new Set(t.map(G=>G.subcategory))].map((G,re)=>a.jsx("option",{value:G,children:G},re))]})}),a.jsx(z,{md:2,className:"mb-1 me-2 col",children:a.jsxs(x.Select,{value:s,onChange:G=>i(G.target.value),children:[a.jsx("option",{value:"",children:"All Classifications"}),[...new Set(t.map(G=>G.classification))].map((G,re)=>a.jsx("option",{value:G,children:G},re))]})})]}),a.jsxs(V,{children:[a.jsx(z,{md:2,className:"mb-1 me-2 col",children:a.jsxs(x.Select,{value:u,onChange:G=>l(G.target.value),children:[a.jsx("option",{value:"",children:"All Geographical Location"}),[...new Set(t.map(G=>G.geo))].map((G,re)=>a.jsx("option",{value:G,children:G},re))]})}),a.jsx(z,{md:2,className:"mb-1 me-2 col",children:a.jsxs(x.Select,{value:f,onChange:G=>g(G.target.value),children:[a.jsx("option",{value:"",children:"All Barangays"}),[...new Set(t.map(G=>G.address.barangay))].map((G,re)=>a.jsx("option",{value:G,children:G},re))]})}),a.jsxs(B,{className:"d-flex justify-content-end align-items-center mt-2 mb-4",children:[a.jsxs(se,{variant:"outline-secondary",className:"me-2",onClick:T,children:[a.jsx(ye,{icon:Pr,size:"xs",fixedWidth:!0})," Refresh List"]}),a.jsxs(se,{variant:"outline-success",onClick:K,children:[a.jsx(ye,{icon:Dr,size:"xs",fixedWidth:!0})," Add New"]})]})]}),I?a.jsx("div",{className:"d-flex justify-content-center align-items-center my-5",children:a.jsx(Cr,{animation:"border",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):U.length===0?a.jsx("div",{className:"text-center my-5",children:a.jsx("h5",{children:"No Data Available"})}):a.jsxs(Rr,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Business Name"}),a.jsx("th",{children:"Established"}),a.jsx("th",{children:"Category"}),a.jsx("th",{children:"SubCategory"}),a.jsx("th",{children:"Classification"}),a.jsx("th",{children:"Geo Location"}),a.jsx("th",{children:"Barangay"}),a.jsx("th",{children:"Street"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:U.map(G=>a.jsxs("tr",{children:[a.jsx("td",{children:G.name}),a.jsx("td",{children:G.established}),a.jsx("td",{children:G.category}),a.jsx("td",{children:G.subcategory}),a.jsx("td",{children:G.classification}),a.jsx("td",{children:G.geo}),a.jsx("td",{children:G.address.barangay}),a.jsx("td",{children:G.address.street}),a.jsx("td",{children:a.jsxs(B,{className:"d-flex justify-content-center align-items-center",children:[a.jsx(Jt,{placement:"top",overlay:a.jsx(Wt,{children:"Edit"}),children:a.jsx(se,{variant:"outline-secondary",size:"sm",className:"me-2",onClick:()=>F(G),children:a.jsx(ye,{icon:Ir,size:"xs",fixedWidth:!0})})}),a.jsx(Jt,{placement:"top",overlay:a.jsx(Wt,{children:"Delete"}),children:a.jsx(se,{variant:"outline-danger",size:"sm",onClick:()=>y(G.id),children:a.jsx(ye,{icon:Dt,size:"xs",fixedWidth:!0})})})]})})]},G.id))})]}),a.jsxs(B,{className:"d-flex justify-content-between align-items-center mb-4 mt-2",children:[a.jsx(se,{onClick:L,variant:"outline-success",children:"Download Excel"}),a.jsx(Mr,{previousLabel:"",nextLabel:"",pageCount:R,onPageChange:P,containerClassName:"pagination mb-0",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})]}),a.jsx(B,{className:"empty-container"}),S?a.jsx(xOe,{editingItem:S,toAddForm:()=>C(null)}):a.jsx(yOe,{})]})};class NT{constructor(){this.id="",this.name="",this.category="",this.subcategory="",this.classification="",this.accreditation="",this.established="",this.lowest="",this.slogan="",this.description="",this.facilities=[],this.activities=[],this.awards=[],this.images=[],this.operatinghours=[],this.inclusivity=[],this.accessibility="",this.logo=null,this.headerImage=null,this.website="",this.address={street:"",barangay:"",town:"",region:"",province:"",country:"",lat:"",long:""},this.link="",this.geo="",this.socials=[],this.memberships=[],this.note=""}toJSON(){return{...this}}}function wOe({category:t,subcategory:e}){var D;const[n,r]=j.useState(0),[s,i]=j.useState(new NT),[o,l]=j.useState(""),[u,h]=j.useState(""),[f,g]=j.useState(""),p=(T,F)=>{if(Array.isArray(T))i(y=>({...y,[F]:T}));else if(typeof T=="string")i(y=>({...y,[F]:T}));else{const{name:y,value:A}=T.target;i(_=>({..._,[y]:A}))}},v=(T,F)=>{if(!T){console.warn("handleLocationSelect received null position.");return}i(y=>({...y,address:{...y.address,lat:T.lat||"",long:T.lng||""},link:F||""}))};j.useEffect(()=>{s.accreditation||(i(T=>({...T,category:t,subcategory:e})),l(t),h(e))},[i,t,e]);const[w,E]=j.useState("");j.useEffect(()=>{if(e){const T=e.replace(/([A-Z])/g," $1").replace(/^./,F=>F.toUpperCase()).trim();E(T)}},[e]);const S=async(T,F)=>{const y=Kt(en,F);return await Qt(y,T),await Zt(y)},C=async T=>{T.preventDefault(),xe.fire({title:"Submitting...",text:`Please wait while we submit your ${e} data.`,allowOutsideClick:!1,didOpen:()=>{xe.showLoading()}});try{let F=s.headerImage?await S(s.headerImage,`${e}/${Date.now()}_${s.headerImage.name}`):null,y=s.logo?await S(s.logo,`${e}/${Date.now()}_${s.logo.name}`):null;const A=await Promise.all(s.images.map(async U=>U?await S(U,`${e}/${Date.now()}_${U.name}`):"")),_=new NT;_.id="",_.name=s.name,_.category=s.category||o,_.subcategory=s.subcategory||u,_.classification=s.classification||f,_.accreditation=s.accreditation,_.established=s.established,_.lowest=s.lowest,_.slogan=s.slogan,_.description=s.description,_.facilities=s.facilities||[],_.activities=s.activities||[],_.awards=s.awards||[],_.images=A,_.operatinghours=s.operatinghours||[],_.inclusivity=s.inclusivity||[],_.accessibility=s.accessibility||[],_.logo=y,_.headerImage=F,_.website=s.website,_.address={...s.address},_.link=s.link,_.geo=s.geo,_.socials=s.socials||[],_.memberships=s.memberships||[],_.note=s.note;const L=await Or(Ft(ze,`${e}`),_.toJSON()),R=gt(ze,`${e}`,L.id);await rn(R,{id:L.id}),xe.fire({title:`${e} Submitted`,text:"Your data has been submitted successfully!",icon:"success"}),I(),O()}catch(F){console.error("Error submitting data:",F),xe.fire({title:"Error",text:"There was an issue submitting your data. Please try again.",icon:"error"})}},O=()=>{i(T=>({...T,headerImage:null}))},I=()=>{i({id:"",name:"",category:"",subcategory:"",classification:"",accreditation:"",established:"",lowest:"",slogan:"",description:"",facilities:[],activities:[],awards:[],images:[],operatinghours:[],inclusivity:[],accessibility:[],logo:null,headerImage:null,website:"",address:{street:"",barangay:"",town:"",region:"",province:"",country:"",lat:"",long:""},link:"",geo:"",socials:[],memberships:[],note:[]}),r(T=>T+1),l(""),g(""),h("")};return a.jsxs(x,{className:"custom-form body-container",onSubmit:C,onKeyDown:T=>T.key==="Enter"&&T.preventDefault(),children:[a.jsxs(V,{className:"row mb-4",children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"category",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Category"}),a.jsx(x.Control,{type:"text",placeholder:"Enter Category",name:"category",value:s.category||"Hospitality & Lodging",onChange:p,readOnly:!0})]})}),a.jsxs(z,{md:6,children:[a.jsxs(x.Group,{controlId:"subcategory",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Category"}),a.jsx(x.Control,{type:"text",placeholder:"Enter Subcategory",name:"subcategory",value:s.subcategory,onChange:p,readOnly:!0})]}),u&&$a[u]&&a.jsxs(x.Group,{controlId:"formClassification",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Classification"}),a.jsxs(x.Select,{value:s.classification||"",onChange:T=>{const F=T.target.value;g(F),i(y=>({...y,classification:F}))},children:[a.jsx("option",{value:"",children:"Select Classification"}),(D=$a[u])==null?void 0:D.map((T,F)=>a.jsx("option",{value:T,children:T},F))]})]})]})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"name",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Business Logo"}),a.jsx(Mo,{storyForm:s,setStoryForm:i,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small",caption:"Drag & Drop Logo here",required:!0})]})}),a.jsx(z,{md:6,children:a.jsx(B,{})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Business Name"}),a.jsx(x.Control,{type:"text",placeholder:"Enter business name",name:"name",value:s.name,onChange:p,required:!0})]})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:9,children:a.jsxs(x.Group,{controlId:"slogan",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Business Slogan/Phrase/Tagline"}),a.jsx(x.Control,{type:"text",placeholder:"Enter business slogan/phrase/tagline",name:"slogan",value:s.slogan,onChange:p})]})}),a.jsx(z,{md:3,children:a.jsxs(x.Group,{controlId:"established",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Year Established"}),a.jsx(x.Control,{type:"text",placeholder:"e.g.: 2000",name:"established",required:!0,value:s.established,onChange:T=>{const F=T.target.value;/^\d*\.?\d*$/.test(F)&&p(T)}})]})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"description",className:"mb-5 mt-2",children:[a.jsx(x.Label,{className:"label",children:"Brief Description"}),a.jsx(On,{theme:"snow",value:s.description||"",onChange:T=>p(T,"description"),required:!0,style:{height:"300px"}})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Si,{groupData:s,setGroupData:i,resetKey:n})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Ci,{onLocationSelect:v,name:s.name||"",resetKey:n})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"link",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Google Map Link"}),a.jsx(x.Control,{type:"text",placeholder:"Select Location First",name:"link",value:s.link,onChange:p,readOnly:!0})]})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"lat",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Lattitude"}),a.jsx(x.Control,{type:"text",placeholder:"Select Location First",name:"lat",value:s.address.lat,onChange:p,readOnly:!0})]})}),a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"long",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Longitude"}),a.jsx(x.Control,{type:"text",placeholder:"Select Location First",name:"long",value:s.address.long,onChange:p,readOnly:!0})]})})]}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"accessibility",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Geographical Location"}),a.jsxs(x.Select,{name:"geo",value:s.geo,onChange:p,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Geo Location"}),Ni.map((T,F)=>a.jsx("option",{value:T,children:T},F))]})]})}),a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"accessibility",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Accessibility"}),a.jsxs(x.Select,{name:"accessibility",value:s.accessibility,onChange:p,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Accessibility"}),Fo.map((T,F)=>a.jsx("option",{value:T,children:T},F))]})]})})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Cover Photo"}),a.jsx(mn,{storyForm:s,setStoryForm:i,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",children:[a.jsx(x.Label,{className:"label me-2",children:"Promotional & Marketing Photos"}),a.jsx(Rs,{dataForm:s,setDataForm:i,caption:"Drag & drop images or click to select (Max: 10)",dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"})]})})}),a.jsxs(V,{className:"mt-4",children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"accreditation",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"DOT Accreditation No."}),a.jsx(x.Control,{type:"text",placeholder:"Enter accreditation (Optional)",name:"accreditation",value:s.accreditation,onChange:p})]})}),a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"ratings",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"DOT Rating"}),a.jsx(x.Control,{type:"text",placeholder:"Enter ratings (Optional)",name:"ratings",value:s.ratings,onChange:p})]})})]}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"website",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Official Website Link"}),a.jsx(x.Control,{type:"text",placeholder:"Enter website link",name:"website",value:s.website,onChange:p})]})}),a.jsx(z,{md:6,children:a.jsx(Ve,{onChange:T=>p(T,"socials"),label:"Social Media Links (Type & Enter)",editingItems:s.socials,resetKey:n})})]}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsx(Ve,{onChange:T=>p(T,"operatinghours"),label:"Operating Hours (Type & Enter)",editingItems:s.operatinghours,resetKey:n,caption:"format: hh:mm A  | e.g. 08:00 AM"})}),a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"lowest",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Lowest Price"}),a.jsx("p",{className:"subtitle",children:"format: 00000.00 | e.g. 12000.00"}),a.jsx(x.Control,{type:"text",placeholder:"Enter Lowest Price",name:"lowest",value:s.lowest,onChange:T=>{const F=T.target.value;/^\d*\.?\d*$/.test(F)&&p(T)}})]})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(qn,{onChange:T=>p(T,"inclusivity"),options:Tp,resetKey:n,editingItems:s.inclusivity,label:"Inclusivity (Search, Select & Enter)"})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(qn,{onChange:T=>p(T,"facilities"),label:"Facilities (Search, Select & Enter)",resetKey:n,editingItems:s.facilities,options:Ap,required:!0})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:T=>p(T,"activities"),editingItems:s.activities,resetKey:n,label:"Activities to do (Search, Select & Enter)"})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Ve,{label:"Organizational Memberships (Type & Enter)",onChange:T=>p(T,"memberships"),editingItems:s.memberships,resetKey:n})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:T=>p(T,"awards"),editingItems:s.awards,resetKey:n,label:"Awards, Recognitions, Seals and Certifications (Type & Enter)"})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"note",className:"mb-5 mt-2",children:[a.jsx(x.Label,{className:"label",children:"Notes, Reminders, Remarks, and Other Details"}),a.jsx(On,{theme:"snow",value:s.note||"",onChange:T=>p(T,"note"),required:!0,style:{height:"300px"}})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:I,children:"Reset Form"}),a.jsxs(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:C,children:["Submit ",w]})]})}),a.jsx(B,{className:"empty-container"})]})}function _Oe({editingItem:t,toAddForm:e,category:n,subcategory:r}){var U;const[s,i]=j.useState(0),[o,l]=j.useState(new NT),[u,h]=j.useState(""),[f,g]=j.useState(""),[p,v]=j.useState(""),w=(P,K)=>{if(Array.isArray(P))l(G=>({...G,[K]:P}));else if(typeof P=="string")l(G=>({...G,[K]:P}));else{const{name:G,value:re}=P.target;l(Z=>({...Z,[G]:re}))}},E=(P,K)=>{if(!P){console.warn("handleLocationSelect received null position.");return}l(G=>({...G,address:{...G.address,lat:P.lat||"",long:P.lng||""},link:K||""}))};j.useEffect(()=>{t&&(l(P=>({...P,id:t.id||"",name:t.name||"",category:t.category||"",subcategory:t.subcategory||"",classification:t.classification||"",accreditation:t.accreditation||"",established:t.established||"",lowest:t.lowest||"",slogan:t.slogan||"",description:t.description||"",facilities:t.facilities||[],amenities:t.amenities||[],awards:t.awards||[],images:t.images||[],operatinghours:t.operatinghours||[],inclusivity:t.inclusivity||[],accessibility:t.accessibility||"",logo:t.logo||"",headerImage:t.headerImage||"",website:t.website||"",address:{street:t.address.street||"",barangay:t.address.barangay||"",town:t.address.town||"",region:t.address.region||"",province:t.address.province||"",country:t.address.country||"",lat:t.address.lat||"",long:t.address.long||""},link:t.link||"",geo:t.geo||"",socials:t.socials||[],memberships:t.memberships||[],note:t.note||""})),t.category?(h(t.category||""),g(t.subcategory||""),v(t.classification||"")):(h(n),g(r)))},[t]);const[S,C]=j.useState("");j.useEffect(()=>{if(r){const P=r.replace(/([A-Z])/g," $1").replace(/^./,K=>K.toUpperCase()).trim();C(P)}},[r]);const O=async(P,K)=>{const G=Kt(en,K);return await Qt(G,P),await Zt(G)},I=async P=>{P.preventDefault(),xe.fire({title:"Submitting...",text:`Please wait while we submit your ${r} data.`,allowOutsideClick:!1,didOpen:()=>{xe.showLoading()}});try{let K=o.headerImage,G=o.logo;o.headerImage instanceof File&&(t&&t.headerImage&&await Vt(t.headerImage),K=await O(o.headerImage,`${r}/${Date.now()}_${o.headerImage.name}`)),o.logo instanceof File&&(t&&t.logo&&await Vt(t.logo),G=await O(o.logo,`${r}/${Date.now()}_${o.logo.name}`));const re=await Promise.all(o.images.map(async(ie,W)=>ie instanceof File?(t&&t.images&&t.images[W]&&await Vt(t.images[W]),await O(ie,`${r}/${Date.now()}_${ie.name}`)):ie)),Z={id:t?t.id:"",name:o.name,category:o.category||u,subcategory:o.subcategory||f,classification:o.classification||p,accreditation:o.accreditation,established:o.established,lowest:o.lowest,slogan:o.slogan,description:o.description,facilities:o.facilities||[],activities:o.activities||[],awards:o.awards||[],images:re,operatinghours:o.operatinghours||[],inclusivity:o.inclusivity||[],accessibility:o.accessibility||[],logo:G,headerImage:K,website:o.website,address:{...o.address},link:o.link,geo:o.geo,socials:o.socials||[],memberships:o.memberships||[],note:o.note},me=gt(ze,`${r}`,o.id);try{await rn(me,Z),xe.fire({title:`${r} Updated`,text:"Your data has been updated successfully!",icon:"success"})}catch(ie){console.error("Error updating data:",ie),xe.fire({title:"Update Failed",text:"There was an error updating the data.",icon:"error"})}T(),D(),e()}catch(K){console.error("Error submitting data:",K),xe.fire({title:"Error",text:"There was an issue submitting your data. Please try again.",icon:"error"})}},D=()=>{l(P=>({...P,headerImage:null}))},T=()=>{l({id:"",name:"",category:"",subcategory:"",classification:"",accreditation:"",established:"",lowest:"",slogan:"",description:"",facilities:[],activities:[],awards:[],images:[],operatinghours:[],inclusivity:[],accessibility:[],logo:null,headerImage:null,website:"",address:{street:"",barangay:"",town:"",region:"",province:"",country:"",lat:"",long:""},link:"",geo:"",socials:[],memberships:[],note:[]}),i(P=>P+1),h(""),v(""),g("")},[F,y]=j.useState(!1),A=()=>{y(!F)},[_,L]=j.useState(!1),R=()=>{L(!_)};return a.jsxs(x,{className:"custom-form body-container",onSubmit:I,onKeyDown:P=>P.key==="Enter"&&P.preventDefault(),children:[a.jsxs(V,{className:"row mb-4",children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"category",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Category"}),a.jsx(x.Control,{type:"text",placeholder:"Enter accreditation (Optional)",name:"accreditation",value:o.category||"Hospitality & Lodging",onChange:w,readOnly:!0})]})}),a.jsxs(z,{md:6,children:[a.jsxs(x.Group,{controlId:"subcategory",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Category"}),a.jsx(x.Control,{type:"text",placeholder:"Enter Subcategory",name:"subcategory",value:o.subcategory||"Accommodation Establishments",onChange:w,readOnly:!0})]}),f&&$a[f]&&a.jsxs(x.Group,{controlId:"formClassification",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Classification"}),a.jsxs(x.Select,{value:o.classification||"",onChange:P=>{const K=P.target.value;v(K),l(G=>({...G,classification:K}))},children:[a.jsx("option",{value:"",children:"Select Classification"}),(U=$a[f])==null?void 0:U.map((P,K)=>a.jsx("option",{value:P,children:P},K))]})]})]})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"name",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Business Logo"}),a.jsx(Mo,{storyForm:o,setStoryForm:l,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small",caption:"Drag & Drop Logo here",required:!0})]})}),a.jsx(z,{md:6,children:a.jsx(B,{})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Business Name"}),a.jsx(x.Control,{type:"text",placeholder:"Enter business name",name:"name",value:o.name,onChange:w,required:!0})]})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:9,children:a.jsxs(x.Group,{controlId:"slogan",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Business Slogan/Phrase/Tagline"}),a.jsx(x.Control,{type:"text",placeholder:"Enter business slogan/phrase/tagline",name:"slogan",value:o.slogan,onChange:w})]})}),a.jsx(z,{md:3,children:a.jsxs(x.Group,{controlId:"established",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Year Established"}),a.jsx(x.Control,{type:"text",placeholder:"e.g.: 2000",name:"established",required:!0,value:o.established,onChange:P=>{const K=P.target.value;/^\d*\.?\d*$/.test(K)&&w(P)}})]})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"description",className:"mb-5 mt-2",children:[a.jsx(x.Label,{className:"label",children:"Brief Description"}),a.jsx(On,{theme:"snow",value:o.description||"",onChange:P=>w(P,"description"),required:!0,style:{height:"300px"}})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:F?a.jsx(Si,{groupData:o,setGroupData:l,resetKey:s}):a.jsxs(x.Group,{className:"mt-3 mb-3",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[a.jsx(x.Label,{className:"label mb-2",children:"Local Business Address"}),a.jsx(se,{variant:"outline-danger",className:"mb-2",onClick:A,children:F?"Cancel":"Edit Address"})]}),a.jsxs(a.Fragment,{children:[a.jsx(x.Control,{className:"mb-3",type:"text",name:"address.country",placeholder:"Country",value:o.address.country,readOnly:!0}),a.jsx(x.Control,{className:"my-3",type:"text",name:"address.region",placeholder:"Region",value:o.address.region,readOnly:!0}),a.jsx(x.Control,{className:"my-3",type:"text",name:"address.province",placeholder:"Province",value:o.address.province,readOnly:!0}),a.jsx(x.Control,{className:"my-3",type:"text",name:"address.city",placeholder:"City/Municipality/Town",value:o.address.town,readOnly:!0}),a.jsx(x.Control,{className:"my-3",type:"text",name:"address.barangay",placeholder:"Barangay",value:o.address.barangay,readOnly:!0}),a.jsx(x.Control,{className:"my-3",type:"text",name:"address.street",placeholder:"Street Name / Zone (Optional)",value:o.address.street,readOnly:!0})]})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:_?a.jsx(Ci,{onLocationSelect:E,name:o.name||"",resetKey:s,editingItems:o.address}):a.jsxs(x.Group,{className:"mt-3 mb-3",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[a.jsx(x.Label,{className:"label mb-2",children:"Local Business Address"}),a.jsx(se,{variant:"outline-danger",className:"mb-2",onClick:R,children:_?"Cancel":"Edit Map Location"})]}),a.jsx(jf,{latitude:o.address.lat,longitude:o.address.long})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"link",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Google Map Link"}),a.jsx(x.Control,{type:"text",placeholder:"Select Location First",name:"link",value:o.link,onChange:w,readOnly:!0})]})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"lat",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Lattitude"}),a.jsx(x.Control,{type:"text",placeholder:"Select Location First",name:"lat",value:o.address.lat,onChange:w,readOnly:!0})]})}),a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"long",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Longitude"}),a.jsx(x.Control,{type:"text",placeholder:"Select Location First",name:"long",value:o.address.long,onChange:w,readOnly:!0})]})})]}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"accessibility",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Geographical Location"}),a.jsxs(x.Select,{name:"geo",value:o.geo,onChange:w,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Geo Location"}),Ni.map((P,K)=>a.jsx("option",{value:P,children:P},K))]})]})}),a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"accessibility",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Accessibility"}),a.jsxs(x.Select,{name:"accessibility",value:o.accessibility,onChange:w,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Accessibility"}),Fo.map((P,K)=>a.jsx("option",{value:P,children:P},K))]})]})})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Cover Photo"}),a.jsx(mn,{storyForm:o,setStoryForm:l,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"})]})})}),a.jsx(V,{className:"mt-2 ",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",children:[a.jsx(x.Label,{className:"label",children:"Promotional & Marketing Photos"}),a.jsx(Rs,{dataForm:o,setDataForm:l,caption:"Drag & drop images or click to select (Max: 10)",dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"})]})})}),a.jsx(V,{className:"mt-4",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"accreditation",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"DOT Accreditation No."}),a.jsx(x.Control,{type:"text",placeholder:"Enter accreditation (Optional)",name:"accreditation",value:o.accreditation,onChange:w})]})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"website",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Official Website Link"}),a.jsx(x.Control,{type:"text",placeholder:"Enter website link",name:"website",value:o.website,onChange:w})]})}),a.jsx(z,{md:6,children:a.jsx(Ve,{onChange:P=>w(P,"socials"),label:"Social Media Links (Type & Enter)",editingItems:o.socials,resetKey:s})})]}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsx(Ve,{onChange:P=>w(P,"operatinghours"),label:"Operating Hours (Type & Enter)",editingItems:o.operatinghours,resetKey:s,caption:"format: hh:mm A  | e.g. 08:00 AM"})}),a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"lowest",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Lowest Price"}),a.jsx("p",{className:"subtitle",children:"format: 00000.00 | e.g. 12000.00"}),a.jsx(x.Control,{type:"text",placeholder:"Enter Lowest Price",name:"lowest",value:o.lowest,onChange:P=>{const K=P.target.value;/^\d*\.?\d*$/.test(K)&&w(P)}})]})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(qn,{onChange:P=>w(P,"inclusivity"),options:Tp,resetKey:s,label:"Inclusivity (Search, Select & Enter)",editingItems:o.inclusivity})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(qn,{onChange:P=>w(P,"facilities"),label:"Facilities (Search, Select & Enter)",resetKey:s,options:Ap,editingItems:o.facilities,required:!0})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:P=>w(P,"activities"),editingItems:o.activities,resetKey:s,label:"Activities to do (Search, Select & Enter)"})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Ve,{label:"Organizational Memberships (Type & Enter)",onChange:P=>w(P,"memberships"),editingItems:o.memberships,resetKey:s})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:P=>w(P,"awards"),editingItems:o.awards,resetKey:s,label:"Awards, Recognitions, Seals and Certifications (Type & Enter)"})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"note",className:"mb-5 mt-2",children:[a.jsx(x.Label,{className:"label",children:"Notes, Reminders, Remarks, and Other Details"}),a.jsx(On,{theme:"snow",value:o.note||"",onChange:P=>w(P,"note"),required:!0,style:{height:"300px"}})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:I,children:["Submit ",r]})})}),a.jsx(B,{className:"empty-container"})]})}const Za=({category:t,subcategory:e})=>{const[n,r]=j.useState([]),[s,i]=j.useState(""),[o,l]=j.useState(""),[u,h]=j.useState(""),[f,g]=j.useState(""),[p,v]=j.useState(""),[w,E]=j.useState("asc"),[S,C]=j.useState(0),[O,I]=j.useState(null),D=10;j.useEffect(()=>{_()},[]);const[T,F]=j.useState("");j.useEffect(()=>{if(e){const ie=e.replace(/([A-Z])/g," $1").replace(/^./,W=>W.toUpperCase()).trim();F(ie)}},[e]);const[y,A]=j.useState(!0),_=async()=>{try{const W=(await ur(Ft(ze,`${e}`))).docs.map(ve=>({id:ve.id,...ve.data()}));r(W)}catch(ie){console.error("Error fetching data:",ie)}finally{A(!1)}},L=ie=>{I(ie)},R=async ie=>{xe.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then(async W=>{W.isConfirmed&&(await kr(gt(ze,`${e}`,ie)),_(),xe.fire("Deleted!","Your entry has been deleted.","success"))})},U=n.filter(ie=>{const W=u===""||ie.subcategory===u,ve=o===""||ie.classification===o,Q=f===""||ie.geo===f,ne=p===""||ie.address.barangay===p,te=s.toLowerCase(),X=ie.name.toLowerCase().includes(te)||ie.established.toLowerCase().includes(te)||ie.category.toLowerCase().includes(te)||ie.subcategory.toLowerCase().includes(te)||ie.classification.toLowerCase().includes(te)||ie.geo.toLowerCase().includes(te)||ie.address.barangay.toLowerCase().includes(te)||ie.address.street.toLowerCase().includes(te);return W&&ve&&Q&&ne&&X}),P=()=>new Date().toISOString().split("T")[0],K=()=>{const ie=n.map(({name:Q,established:ne,category:te,subcategory:X,classification:be,...Ne})=>({...Ne,facilities:Array.isArray(Ne.facilities)?Ne.facilities.join(", "):"",activities:Array.isArray(Ne.activities)?Ne.activities.join(", "):"",awards:Array.isArray(Ne.awards)?Ne.awards.join(", "):"",images:Array.isArray(Ne.images)?Ne.images.join(", "):"",roomtypes:Array.isArray(Ne.roomtypes)?Ne.roomtypes.join(", "):"",operatinghours:Array.isArray(Ne.operatinghours)?Ne.operatinghours.join(", "):"",inclusivity:Array.isArray(Ne.inclusivity)?Ne.inclusivity.join(", "):"",socials:Array.isArray(Ne.socials)?Ne.socials.join(", "):"",memberships:Array.isArray(Ne.memberships)?Ne.memberships.join(", "):"",address:Ne.address?JSON.stringify(Ne.address):""})),W=yt.json_to_sheet(ie),ve=yt.book_new();yt.book_append_sheet(ve,W,"Data"),Fr(ve,`tourism_stories_infoguide_${P()}.xlsx`)},G=Math.ceil(U.length/D),re=U.slice(S*D,(S+1)*D),Z=({selected:ie})=>{C(ie)},me=()=>{I(null)};return a.jsxs(B,{children:[a.jsx("h1",{className:"text-2xl font-bold mb-1",children:T}),a.jsxs("p",{children:["List of DOT Accredited / LGU-Recognized ",T]}),a.jsxs(V,{children:[a.jsx(z,{md:6,className:"mb-1 me-2 col",children:a.jsx(x.Control,{type:"text",placeholder:`Search up to over ${n.length} ${T}`,value:s,onChange:ie=>i(ie.target.value)})}),a.jsx(z,{md:2,className:"mb-1 me-2 col",children:a.jsxs(x.Select,{value:u,onChange:ie=>h(ie.target.value),children:[a.jsx("option",{value:"",children:"All Subcategories"}),[...new Set(n.map(ie=>ie.subcategory))].map((ie,W)=>a.jsx("option",{value:ie,children:ie},W))]})}),a.jsx(z,{md:2,className:"mb-1 me-2 col",children:a.jsxs(x.Select,{value:o,onChange:ie=>l(ie.target.value),children:[a.jsx("option",{value:"",children:"All Classifications"}),[...new Set(n.map(ie=>ie.classification))].map((ie,W)=>a.jsx("option",{value:ie,children:ie},W))]})})]}),a.jsxs(V,{children:[a.jsx(z,{md:2,className:"mb-1 me-2 col",children:a.jsxs(x.Select,{value:f,onChange:ie=>h(ie.target.value),children:[a.jsx("option",{value:"",children:"All Geographical Location"}),[...new Set(n.map(ie=>ie.geo))].map((ie,W)=>a.jsx("option",{value:ie,children:ie},W))]})}),a.jsx(z,{md:2,className:"mb-1 me-2 col",children:a.jsxs(x.Select,{value:p,onChange:ie=>v(ie.target.value),children:[a.jsx("option",{value:"",children:"All Barangays"}),[...new Set(n.map(ie=>ie.address.barangay))].map((ie,W)=>a.jsx("option",{value:ie,children:ie},W))]})}),a.jsxs(B,{className:"d-flex justify-content-end align-items-center mt-2 mb-4",children:[a.jsxs(se,{variant:"outline-secondary",className:"me-2",onClick:_,children:[a.jsx(ye,{icon:Pr,size:"xs",fixedWidth:!0})," Refresh List"]}),a.jsxs(se,{variant:"outline-success",onClick:me,children:[a.jsx(ye,{icon:Dr,size:"xs",fixedWidth:!0})," Add New"]})]})]}),y?a.jsx("div",{className:"d-flex justify-content-center align-items-center my-5",children:a.jsx(Cr,{animation:"border",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):re.length===0?a.jsx("div",{className:"text-center my-5",children:a.jsx("h5",{children:"No Data Available"})}):a.jsxs(Rr,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Business Name"}),a.jsx("th",{children:"Established"}),a.jsx("th",{children:"Category"}),a.jsx("th",{children:"SubCategory"}),a.jsx("th",{children:"Classification"}),a.jsx("th",{children:"Geo Location"}),a.jsx("th",{children:"Barangay"}),a.jsx("th",{children:"Street"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:re.map(ie=>a.jsxs("tr",{children:[a.jsx("td",{children:ie.name}),a.jsx("td",{children:ie.established}),a.jsx("td",{children:ie.category}),a.jsx("td",{children:ie.subcategory}),a.jsx("td",{children:ie.classification}),a.jsx("td",{children:ie.geo}),a.jsx("td",{children:ie.address.barangay}),a.jsx("td",{children:ie.address.street}),a.jsx("td",{children:a.jsxs(B,{className:"d-flex justify-content-center align-items-center",children:[a.jsx(Jt,{placement:"top",overlay:a.jsx(Wt,{children:"Edit"}),children:a.jsx(se,{variant:"outline-secondary",size:"sm",className:"me-2",onClick:()=>L(ie),children:a.jsx(ye,{icon:Ir,size:"xs",fixedWidth:!0})})}),a.jsx(Jt,{placement:"top",overlay:a.jsx(Wt,{children:"Delete"}),children:a.jsx(se,{variant:"outline-danger",size:"sm",onClick:()=>R(ie.id),children:a.jsx(ye,{icon:Dt,size:"xs",fixedWidth:!0})})})]})})]},ie.id))})]}),a.jsxs(B,{className:"d-flex justify-content-between align-items-center mb-4 mt-2",children:[a.jsx(se,{onClick:K,variant:"outline-success",children:"Download Excel"}),a.jsx(Mr,{previousLabel:"",nextLabel:"",pageCount:G,onPageChange:Z,containerClassName:"pagination mb-0",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})]}),a.jsx(B,{className:"empty-container"}),O?a.jsx(_Oe,{editingItem:O,toAddForm:()=>I(null),category:t,subcategory:e}):a.jsx(wOe,{category:t,subcategory:e})]})},jOe=({index:t,section:e,onBodyImageDrop:n,dropzoneName:r="dropzone-container-small",previewName:s="dropzone-uploaded-image-small"})=>{const{getRootProps:i,getInputProps:o}=Ht({onDrop:u=>n(u,t),accept:"image/png, image/jpeg, image/jpg, video/mp4, video/webm, video/ogg"}),l=e.image?e.image instanceof File?URL.createObjectURL(e.image):e.image:null;return a.jsxs(B,{...i(),className:`${r} text-center w-100 ${l?"border-success":""}`,children:[a.jsx("input",{...o(),accept:"image/*,video/*"}),l?e.image instanceof File&&e.image.type.startsWith("video/")?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:l,type:e.image.type}),"Your browser does not support the video tag."]}):a.jsx("img",{src:l,alt:"Body Image Preview",className:s}):a.jsxs("p",{className:"text-muted",children:["Drag & Drop Image/Video Here or"," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})};function EOe(){const[t,e]=j.useState(new y$),[n,r]=j.useState(0);j.useEffect(()=>{},[]);const s=()=>{e({id:"",dateTimeStart:"",dateTimeEnd:"",category:"",title:"",headerImage:null,headerImageSource:[],body:[{subtitle:"",body:"",image:null,image_source:""}],tags:[],references:[],socials:[],origin:[]}),r(T=>T+1)},i=(T,F)=>{if(Array.isArray(T))e(y=>({...y,[F]:T}));else if(typeof T=="string")e(y=>({...y,[F]:T}));else{const{name:y,value:A}=T.target;e(_=>({..._,[y]:A}))}},o=(T,F,y)=>{e(A=>{const _=[...A.body];return _[T]={..._[T],[F]:y},{...A,body:_}})},l=(T,F)=>{const y=T[0];y&&e(A=>{const _=[...A.body];return _[F]={..._[F],image:y,imageUrl:URL.createObjectURL(y)},{...A,body:_}})},u=()=>{e(T=>({...T,body:[...T.body,{subtitle:"",body:"",image:null,image_source:""}]}))},h=T=>{e(F=>{const y=F.body.filter((A,_)=>_!==T);return{...F,body:y}})},[f,g]=j.useState(null),[p,v]=j.useState(""),w=j.useCallback(T=>{T.length>0&&g(T[0])},[]),{getRootProps:E,getInputProps:S}=Ht({onDrop:w,accept:"image/*",disabled:!!p}),C=()=>{e(T=>({...T,headerImage:null}))},O=T=>{e(F=>{const y=[...F.body];return y[T]?(y[T]={...y[T],image:null},{...F,body:y}):F})},I=async(T,F)=>{const y=Kt(en,F);return await Qt(y,T),await Zt(y)},D=async T=>{T.preventDefault(),xe.fire({title:"Submitting...",text:"Please wait while we submit your update.",allowOutsideClick:!1,didOpen:()=>{xe.showLoading()}});try{let F=await I(t.headerImage,`updates/${Date.now()}_${t.headerImage}`);const y=await Promise.all(t.body.map(async(R,U)=>R.image?await I(R.image,`updates/${Date.now()}_${R.image.name}`):"")),A={id:"",dateTimeStart:t.dateTimeStart,dateTimeEnd:t.dateTimeEnd,category:t.category,title:t.title,headerImage:F,headerImageSource:t.headerImageSource,body:t.body.map((R,U)=>({subtitle:R.subtitle,body:R.body,image:y[U]||"",image_source:R.image_source})),tags:t.tags,references:t.references,socials:t.socials,origin:t.origin},_=await Or(Ft(ze,"updates"),A),L=gt(ze,"updates",_.id);await rn(L,{id:_.id}),xe.fire({title:"Update Submitted",text:"Your update has been submitted successfully!",icon:"success"}),s(),C()}catch(F){console.error("Error submitting update:",F),xe.fire({title:"Error",text:"There was an issue submitting your update. Please try again.",icon:"error"})}};return j.useRef(null),a.jsxs(x,{className:"custom-form body-container",onSubmit:D,onKeyDown:T=>T.key==="Enter"&&T.preventDefault(),children:[a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"category",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Category"}),a.jsxs(x.Select,{name:"category",value:t.category,onChange:i,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Category"}),O3.map((T,F)=>a.jsx("option",{value:T,children:T},F))]})]})}),a.jsx(z,{md:6,children:a.jsx(B,{className:"empty-container"})})]}),a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Start Date & Time"}),a.jsx(x.Control,{type:"datetime-local",name:"dateTimeStart",value:t.dateTimeStart,onChange:i,required:!0})]})}),a.jsx(z,{md:6,children:a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"End Date & Time"}),a.jsx(x.Control,{type:"datetime-local",name:"dateTimeEnd",value:t.dateTimeEnd,onChange:i,min:t.dateTimeStart,disabled:!t.dateTimeStart,required:!0})]})})]}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Title"}),a.jsx(x.Control,{type:"text",name:"title",className:"fw-bold",value:t.title,onChange:i,placeholder:"Enter title",required:!0})]})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{className:"my-2",children:[a.jsx(x.Label,{className:"label",children:"Upload Header Image (800x400)"}),a.jsx(mn,{storyForm:t,setStoryForm:e,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"}),a.jsxs(B,{className:"d-flex justify-content-between mt-2",children:[a.jsx("p",{className:"subtitle",children:"Supported File: PNG, JPEG, and JPG"}),a.jsx("p",{className:"subtitle",children:"Maximum size: 25MB"})]}),a.jsx(B,{className:"d-flex justify-content-end",children:f&&(p?null:a.jsxs(se,{className:"my-2",variant:"outline-danger",onClick:C,children:[a.jsx(ye,{className:"button-icon",icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]}))})]})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:T=>i(T,"headerImageSource"),label:"Header Image Sources (Type & Enter)",editingItems:t.headerImageSource,resetKey:n})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsxs(z,{md:12,children:[a.jsx("p",{className:"label mb-2",children:"Body Sections"}),t.body.map((T,F)=>a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(B,{className:"empty-container"}),a.jsxs(x.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(x.Label,{className:"label",children:"Subtitle (Optional)"}),a.jsx(x.Control,{type:"text",className:"fw-bold",value:T.subtitle,onChange:y=>o(F,"subtitle",y.target.value)})]}),a.jsxs(z,{className:"col me-lg-2 me-md-1",children:[a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Image (Optional)"}),a.jsx(jOe,{index:F,section:T,onBodyImageDrop:l,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"}),T.image&&a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{className:"mt-2 mb-1",variant:"outline-danger",onClick:()=>O(F),children:[a.jsx(ye,{icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]})})]}),a.jsxs(x.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(x.Label,{className:"label",children:"Image Source (Optional)"}),a.jsx(x.Control,{placeholder:"e.g. @boracayphotos or /islanders or #trivago or www.trivago.com",type:"text",value:T.image_source,onChange:y=>o(F,"image_source",y.target.value)})]})]}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(x.Group,{className:"mb-5",children:[a.jsx(x.Label,{className:"label",children:"Body"}),a.jsx(rr,{index:F,section:T,handleBodyChange:o})]})}),t.body.length>1&&a.jsx(B,{className:"mb-4 d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-danger",type:"button",onClick:()=>h(F),className:"mt-3 w-full",children:[a.jsx(ye,{icon:Dt,size:"xs",fixedWidth:!0})," Delete Section"]})})]},F)),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-success",type:"button",onClick:u,className:"mb-3",children:[a.jsx(ye,{icon:nr,size:"xs",fixedWidth:!0})," Add Section"]})})]})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:T=>i(T,"origin"),label:"Origin Office (Type & Enter)",editingItems:t.origin,resetKey:n,caption:"the office where the update originated or referring to"})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:T=>i(T,"references"),label:"References (Type & Enter)",caption:"postings or website links to redirect users",editingItems:t.references,resetKey:n})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:T=>i(T,"socials"),label:"Social Media Link (Type & Enter)",caption:"social media links of subject",editingItems:t.socials,resetKey:n})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:T=>i(T,"tags"),label:"Tags (Type & Enter)",editingItems:t.tags,resetKey:n,caption:"imporant tags for Optimization"})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",onClick:s,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full",onClick:D,children:"Submit Update"})]})]})}const SOe=({index:t,section:e,onBodyImageDrop:n,dropzoneName:r="dropzone-container-small",previewName:s="dropzone-uploaded-image-small"})=>{const{getRootProps:i,getInputProps:o}=Ht({onDrop:v=>n(v,t),accept:"image/png, image/jpeg, image/jpg, video/mp4, video/webm, video/ogg"}),l=e.image instanceof File,u=typeof e.image=="string"&&/\.(mp4|webm|ogg)(\?.*)?$/i.test(e.image),h=typeof e.image=="string"&&!u,f=l?URL.createObjectURL(e.image):null,g=h?e.image:null,p=u?e.image:null;return a.jsxs(B,{...i(),className:`${r} text-center w-100 ${f||g||p?"border-success":""}`,children:[a.jsx("input",{...o(),accept:"image/*,video/*"}),f?e.image.type.startsWith("video/")?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:f,type:e.image.type}),"Your browser does not support the video tag."]}):a.jsx("img",{src:f,alt:"Uploaded File Preview",className:s}):p?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:p,type:"video/mp4"}),"Your browser does not support the video tag."]}):g?a.jsx("img",{src:g,alt:"Image URL Preview",className:s}):a.jsxs("p",{className:"text-muted",children:["Drag & Drop Image/Video Here or"," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})};function COe({editingItem:t,toAddForm:e}){const[n,r]=j.useState(new y$),[s,i]=j.useState(0),[o,l]=j.useState("");j.useEffect(()=>{t&&(r(_=>({..._,id:t.id||"",dateTimeStart:t.dateTimeStart||"",dateTimeEnd:t.dateTimeEnd||"",category:t.category||"",title:t.title||"",headerImage:t.headerImage||"",headerImageSource:t.headerImageSource||[],body:t.body.map((L,R)=>({subtitle:L.subtitle||"",body:L.body||"",image:L.image||"",image_source:L.image_source||""})),tags:t.tags||[],references:t.references||[],socials:t.socials||[],origin:t.origin||[]})),t.category&&l(t.category||""))},[t]);const u=()=>{r({id:"",dateTimeStart:"",dateTimeEnd:"",category:"",title:"",headerImage:null,headerImageSource:[],body:[{subtitle:"",body:"",image:null,image_source:""}],tags:[],references:[],socials:[],origin:[]}),i(_=>_+1)},h=(_,L)=>{if(Array.isArray(_))r(R=>({...R,[L]:_}));else if(typeof _=="string")r(R=>({...R,[L]:_}));else{const{name:R,value:U}=_.target;r(P=>({...P,[R]:U}))}},f=(_,L,R)=>{r(U=>{const P=[...U.body];return P[_]={...P[_],[L]:R},{...U,body:P}})},g=(_,L)=>{const R=_[0];R&&r(U=>{const P=[...U.body];return P[L]={...P[L],image:R,imageUrl:URL.createObjectURL(R)},{...U,body:P}})},p=()=>{r(_=>({..._,body:[..._.body,{subtitle:"",body:"",image:null,image_source:""}]}))},v=_=>{r(L=>{const R=L.body.filter((U,P)=>P!==_);return{...L,body:R}})},[w,E]=j.useState(null),[S,C]=j.useState(""),O=j.useCallback(_=>{_.length>0&&E(_[0])},[]),{getRootProps:I,getInputProps:D}=Ht({onDrop:O,accept:"image/*",disabled:!!S}),T=()=>{r(_=>({..._,headerImage:null}))},F=_=>{r(L=>{const R=[...L.body];return R[_]?(R[_]={...R[_],image:null},{...L,body:R}):L})},y=async(_,L)=>{const R=Kt(en,L);return await Qt(R,_),await Zt(R)},A=async _=>{_.preventDefault(),xe.fire({title:"Updating...",text:"Please wait while we update.",allowOutsideClick:!1,didOpen:()=>{xe.showLoading()}});try{let L;n.headerImage instanceof File?(t&&t.headerImage&&await Vt(t.headerImage),L=await y(n.headerImage,`updates/${Date.now()}_${n.headerImage.name}`)):L=n.headerImage;const R=await Promise.all(n.body.map(async(K,G)=>K.image instanceof File?(t&&t.body&&t.body[G]&&t.body[G].image&&await Vt(t.body[G].image),await y(K.image,`updates/${Date.now()}_${K.image.name}`)):K.image)),U={dateTimeStart:n.dateTimeStart,dateTimeEnd:n.dateTimeEnd,category:n.category,title:n.title,headerImage:L,headerImageSource:n.headerImageSource,body:n.body.map((K,G)=>({subtitle:K.subtitle,body:K.body,image:R[G]||"",image_source:K.image_source})),tags:n.tags,references:n.references,socials:n.socials,origin:n.origin},P=gt(ze,"updates",n.id);await rn(P,U),xe.fire({title:"Update Posted",text:"Your update has been edited successfully!",icon:"success"}),T(),e()}catch(L){console.error("Error updating data:",L),xe.fire({title:"Error",text:"There was an issue updating your data. Please try again.",icon:"error"})}};return j.useRef(null),a.jsxs(x,{className:"custom-form body-container",onSubmit:A,onKeyDown:_=>_.key==="Enter"&&_.preventDefault(),children:[a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"category",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Category"}),a.jsxs(x.Select,{name:"category",value:n.category,onChange:h,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Category"}),O3.map((_,L)=>a.jsx("option",{value:_,children:_},L))]})]})}),a.jsx(z,{md:6,children:a.jsx(B,{className:"empty-container"})})]}),a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Start Date & Time"}),a.jsx(x.Control,{type:"datetime-local",name:"dateTimeStart",value:n.dateTimeStart,onChange:h,required:!0})]})}),a.jsx(z,{md:6,children:a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"End Date & Time"}),a.jsx(x.Control,{type:"datetime-local",name:"dateTimeEnd",value:n.dateTimeEnd,onChange:h,min:n.dateTimeStart,disabled:!n.dateTimeStart,required:!0})]})})]}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Title"}),a.jsx(x.Control,{type:"text",name:"title",className:"fw-bold",value:n.title,onChange:h,placeholder:"Enter title",required:!0})]})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{className:"my-2",children:[a.jsx(x.Label,{className:"label",children:"Upload Header Image (800x400)"}),a.jsx(mn,{storyForm:n,setStoryForm:r,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"}),a.jsxs(B,{className:"d-flex justify-content-between mt-2",children:[a.jsx("p",{className:"subtitle",children:"Supported File: PNG, JPEG, and JPG"}),a.jsx("p",{className:"subtitle",children:"Maximum size: 25MB"})]}),a.jsx(B,{className:"d-flex justify-content-end",children:w&&(S?null:a.jsxs(se,{className:"my-2",variant:"outline-danger",onClick:T,children:[a.jsx(ye,{className:"button-icon",icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]}))})]})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:_=>h(_,"headerImageSource"),label:"Header Image Sources (Type & Enter)",editingItems:n.headerImageSource,resetKey:s})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsxs(z,{md:12,children:[a.jsx("p",{className:"label mb-2",children:"Body Sections"}),n.body.map((_,L)=>a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(B,{className:"empty-container"}),a.jsxs(x.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(x.Label,{className:"label",children:"Subtitle (Optional)"}),a.jsx(x.Control,{type:"text",className:"fw-bold",value:_.subtitle,onChange:R=>f(L,"subtitle",R.target.value)})]}),a.jsxs(z,{className:"col me-lg-2 me-md-1",children:[a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Image"}),a.jsx(SOe,{index:L,section:_,onBodyImageDrop:g,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"}),_.image&&a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{className:"mt-2 mb-1",variant:"outline-danger",onClick:()=>F(L),children:[a.jsx(ye,{icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]})})]}),a.jsxs(x.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(x.Label,{className:"label",children:"Image Source (Optional)"}),a.jsx(x.Control,{placeholder:"e.g. @boracayphotos or /islanders or #trivago or www.trivago.com",type:"text",value:_.image_source,onChange:R=>f(L,"image_source",R.target.value)})]})]}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(x.Group,{className:"mb-5",children:[a.jsx(x.Label,{className:"label",children:"Body"}),a.jsx(rr,{index:L,section:_,handleBodyChange:f})]})}),n.body.length>1&&a.jsx(B,{className:"mb-4 d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-danger",type:"button",onClick:()=>v(L),className:"mt-3 w-full",children:[a.jsx(ye,{icon:Dt,size:"xs",fixedWidth:!0})," Delete Section"]})})]},L)),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-success",type:"button",onClick:p,className:"mb-3",children:[a.jsx(ye,{icon:nr,size:"xs",fixedWidth:!0})," Add Section"]})})]})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:_=>h(_,"origin"),label:"Origin Office (Type & Enter)",editingItems:n.origin,resetKey:s,caption:"the office where the update originated or referring to"})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:_=>h(_,"references"),label:"References (Type & Enter)",caption:"postings or website links to redirect users",editingItems:n.references,resetKey:s})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:_=>h(_,"socials"),label:"Social Media Link (Type & Enter)",caption:"social media links of subject",editingItems:n.socials,resetKey:s})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:_=>h(_,"tags"),label:"Tags (Type & Enter)",editingItems:n.tags,resetKey:s,caption:"imporant tags for Optimization"})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",onClick:u,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full",onClick:A,children:"Submit Update"})]})]})}const NOe=()=>{const[t,e]=j.useState([]),[n,r]=j.useState(""),[s,i]=j.useState(""),[o,l]=j.useState("asc"),[u,h]=j.useState(0),[f,g]=j.useState(null),p=10;j.useEffect(()=>{E()},[]);const[v,w]=j.useState(!0),E=async()=>{try{const R=(await ur(Ft(ze,"updates"))).docs.map(U=>({id:U.id,...U.data()}));e(R)}catch(L){console.error("Error fetching data:",L)}finally{w(!1)}},S=()=>{const L=[...t].sort((R,U)=>o==="asc"?new Date(R.date)-new Date(U.date):new Date(U.date)-new Date(R.date));e(L),l(o==="asc"?"desc":"asc")},C=L=>{g(L)},O=async L=>{window.confirm("Are you sure you want to delete this entry?")&&(await kr(gt(ze,"updates",L)),E())},I=t.filter(L=>(s===""||L.category===s)&&(L.title.toLowerCase().includes(n.toLowerCase())||L.classification.toLowerCase().includes(n.toLowerCase())||L.purpose.toLowerCase().includes(n.toLowerCase())||L.date.toLowerCase().includes(n.toLowerCase())||L.name.toLowerCase().includes(n.toLowerCase())||L.email.toLowerCase().includes(n.toLowerCase())||L.social.toLowerCase().includes(n.toLowerCase()))),D=()=>new Date().toISOString().split("T")[0],T=()=>{const L=t.map(({title:P,...K})=>({...K,tags:Array.isArray(K.tags)?K.tags.join(", "):"",origin:Array.isArray(K.origin)?K.origin.join(", "):"",headerImageSource:Array.isArray(K.headerImageSource)?K.headerImageSource.join(", "):"",references:Array.isArray(K.references)?K.references.join(", "):"",socials:Array.isArray(K.socials)?K.socials.join(", "):"",body:Array.isArray(K.body)?K.body.map(G=>JSON.stringify(G)).join("; "):""})),R=yt.json_to_sheet(L),U=yt.book_new();yt.book_append_sheet(U,R,"Data"),Fr(U,`tourism_updates_infoguide_${D()}.xlsx`)},F=Math.ceil(I.length/p),y=I.slice(u*p,(u+1)*p),A=({selected:L})=>{h(L)},_=()=>{g(null)};return a.jsxs(B,{children:[a.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Tourism Updates"}),a.jsx("p",{children:"List of Updates."}),a.jsxs(V,{className:"mb-4 mt-4",children:[a.jsx(z,{md:4,className:"mb-2 me-2 col",children:a.jsx(x.Control,{type:"text",placeholder:`Search up to over ${t.length} articles`,value:n,onChange:L=>r(L.target.value)})}),a.jsx(z,{md:2,className:"mb-2 me-2 col",children:a.jsxs(x.Select,{value:s,onChange:L=>i(L.target.value),children:[a.jsx("option",{value:"",children:"All Category"}),[...new Set(t.map(L=>L.category))].map((L,R)=>a.jsx("option",{value:L,children:L},R))]})}),a.jsxs(B,{className:"d-flex justify-content-end align-items-center mt-2",children:[a.jsxs(se,{variant:"outline-secondary",className:"me-2",onClick:E,children:[a.jsx(ye,{icon:Pr,size:"xs",fixedWidth:!0})," Refresh List"]}),a.jsxs(se,{variant:"outline-success",onClick:_,children:[a.jsx(ye,{icon:Dr,size:"xs",fixedWidth:!0})," Add New"]})]})]}),v?a.jsx("div",{className:"d-flex justify-content-center align-items-center my-5",children:a.jsx(Cr,{animation:"border",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):y.length===0?a.jsx("div",{className:"text-center my-5",children:a.jsx("h5",{children:"No Data Available"})}):a.jsxs(Rr,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsxs("th",{onClick:S,style:{cursor:"pointer"},children:["Date ",o==="asc"?"":""]}),a.jsx("th",{children:"Classification"}),a.jsx("th",{children:"Title"}),a.jsx("th",{children:"Origin"}),a.jsx("th",{children:"References"}),a.jsx("th",{children:"Socials"})]})}),a.jsx("tbody",{children:y.map(L=>a.jsxs("tr",{children:[a.jsx("td",{children:new Date(L.date).toLocaleDateString()}),a.jsx("td",{children:L.classification}),a.jsx("td",{children:L.title}),a.jsx("td",{children:Array.isArray(L.origin)?L.origin.join(", "):L.origin}),a.jsx("td",{children:Array.isArray(L.references)?L.references.join(", "):L.references}),a.jsx("td",{children:Array.isArray(L.socials)?L.socials.join(", "):L.socials}),a.jsx("td",{children:a.jsxs(B,{className:"d-flex justify-content-center align-items-center",children:[a.jsx(Jt,{placement:"top",overlay:a.jsx(Wt,{children:"Edit"}),children:a.jsx(se,{variant:"outline-secondary",size:"sm",className:"me-2",onClick:()=>C(L),children:a.jsx(ye,{icon:Ir,size:"xs",fixedWidth:!0})})}),a.jsx(Jt,{placement:"top",overlay:a.jsx(Wt,{children:"Delete"}),children:a.jsx(se,{variant:"outline-danger",size:"sm",onClick:()=>O(L.id),children:a.jsx(ye,{icon:Dt,size:"xs",fixedWidth:!0})})})]})})]},L.id))})]}),a.jsxs(B,{className:"d-flex justify-content-between align-items-center mb-4 mt-2",children:[a.jsx(se,{onClick:T,variant:"outline-success",children:"Download Excel"}),a.jsx(Mr,{previousLabel:"",nextLabel:"",pageCount:F,onPageChange:A,containerClassName:"pagination mb-0",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})]}),f?a.jsx(COe,{editingItem:f,toAddForm:()=>g(null)}):a.jsx(EOe,{})]})};class jK{constructor(){this.id="",this.dateTimeStart="",this.dateTimeEnd="",this.category="",this.title="",this.body=[{subtitle:"",body:"",image:null,image_source:""}],this.headerImage=null,this.headerImageSource=[],this.tags=[],this.references=[],this.socials=[],this.origin=[]}toJSON(){return{...this}}}const EK=["Compilation (Hotels)","Compilation (Restaurants)","Compilation (Tour Packages)","Compilation (Travel Deals)","Compilation (Local Services)","Discount Offers","Limited-Time Deals","Buy One Get One (BOGO)","Seasonal Promotions","Loyalty Rewards","Flash Sales","Bundle Deals","Exclusive Online Deals","Freebies & Giveaways","Early Bird Specials","Referral Discounts","Holiday Specials","Weekend Promotions","First-Time Customer Deals","Cashback Offers","Promo Codes & Vouchers","Membership Discounts","Corporate Discounts"],TOe=({index:t,section:e,onBodyImageDrop:n,dropzoneName:r="dropzone-container-small",previewName:s="dropzone-uploaded-image-small"})=>{const{getRootProps:i,getInputProps:o}=Ht({onDrop:v=>n(v,t),accept:"image/png, image/jpeg, image/jpg, video/mp4, video/webm, video/ogg"}),l=e.image instanceof File,u=typeof e.image=="string"&&/\.(mp4|webm|ogg)(\?.*)?$/i.test(e.image),h=typeof e.image=="string"&&!u,f=l?URL.createObjectURL(e.image):null,g=h?e.image:null,p=u?e.image:null;return a.jsxs(B,{...i(),className:`${r} text-center w-100 ${f||g||p?"border-success":""}`,children:[a.jsx("input",{...o(),accept:"image/*,video/*"}),f?e.image.type.startsWith("video/")?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:f,type:e.image.type}),"Your browser does not support the video tag."]}):a.jsx("img",{src:f,alt:"Uploaded File Preview",className:s}):p?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:p,type:"video/mp4"}),"Your browser does not support the video tag."]}):g?a.jsx("img",{src:g,alt:"Image URL Preview",className:s}):a.jsxs("p",{className:"text-muted",children:["Drag & Drop Image/Video Here or"," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})};function AOe(){const[t,e]=j.useState(new jK),[n,r]=j.useState(0);j.useEffect(()=>{},[]);const s=()=>{e({id:"",dateTimeStart:"",dateTimeEnd:"",category:"",title:"",headerImage:null,headerImageSource:[],body:[{subtitle:"",body:"",image:null,image_source:""}],tags:[],references:[],socials:[],origin:[]}),r(T=>T+1)},i=(T,F)=>{if(Array.isArray(T))e(y=>({...y,[F]:T}));else if(typeof T=="string")e(y=>({...y,[F]:T}));else{const{name:y,value:A}=T.target;e(_=>({..._,[y]:A}))}},o=(T,F,y)=>{e(A=>{const _=[...A.body];return _[T]={..._[T],[F]:y},{...A,body:_}})},l=(T,F)=>{const y=T[0];y&&e(A=>{const _=[...A.body];return _[F]={..._[F],image:y,imageUrl:URL.createObjectURL(y)},{...A,body:_}})},u=()=>{e(T=>({...T,body:[...T.body,{subtitle:"",body:"",image:null,image_source:""}]}))},h=T=>{e(F=>{const y=F.body.filter((A,_)=>_!==T);return{...F,body:y}})},[f,g]=j.useState(null),[p,v]=j.useState(""),w=j.useCallback(T=>{T.length>0&&g(T[0])},[]),{getRootProps:E,getInputProps:S}=Ht({onDrop:w,accept:"image/*",disabled:!!p}),C=()=>{e(T=>({...T,headerImage:null}))},O=T=>{e(F=>{const y=[...F.body];return y[T]?(y[T]={...y[T],image:null},{...F,body:y}):F})},I=async(T,F)=>{const y=Kt(en,F);return await Qt(y,T),await Zt(y)},D=async T=>{T.preventDefault(),xe.fire({title:"Submitting...",text:"Please wait while we submit your deals.",allowOutsideClick:!1,didOpen:()=>{xe.showLoading()}});try{let F=await I(t.headerImage,`deals/${Date.now()}_${t.headerImage}`);const y=await Promise.all(t.body.map(async(R,U)=>R.image?await I(R.image,`deals/${Date.now()}_${R.image.name}`):"")),A={id:"",dateTimeStart:t.dateTimeStart,dateTimeEnd:t.dateTimeEnd,category:t.category,title:t.title,headerImage:F,headerImageSource:t.headerImageSource,body:t.body.map((R,U)=>({subtitle:R.subtitle,body:R.body,image:y[U]||"",image_source:R.image_source})),tags:t.tags,references:t.references,socials:t.socials,origin:t.origin},_=await Or(Ft(ze,"deals"),A),L=gt(ze,"deals",_.id);await L(L,{id:_.id}),xe.fire({title:"Deals Submitted",text:"Your deals has been submitted successfully!",icon:"success"}),s(),C()}catch(F){console.error("Error submitting deals:",F),xe.fire({title:"Error",text:"There was an issue submitting your deals. Please try again.",icon:"error"})}};return j.useRef(null),a.jsxs(x,{className:"custom-form body-container",onSubmit:D,onKeyDown:T=>T.key==="Enter"&&T.preventDefault(),children:[a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"category",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Category"}),a.jsxs(x.Select,{name:"category",value:t.category,onChange:i,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Category"}),EK.map((T,F)=>a.jsx("option",{value:T,children:T},F))]})]})}),a.jsx(z,{md:6,children:a.jsx(B,{className:"empty-container"})})]}),a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Start Date & Time"}),a.jsx(x.Control,{type:"datetime-local",name:"dateTimeStart",value:t.dateTimeStart,onChange:i,required:!0})]})}),a.jsx(z,{md:6,children:a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"End Date & Time"}),a.jsx(x.Control,{type:"datetime-local",name:"dateTimeEnd",value:t.dateTimeEnd,onChange:i,min:t.dateTimeStart,disabled:!t.dateTimeStart,required:!0})]})})]}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Title"}),a.jsx(x.Control,{type:"text",name:"title",className:"fw-bold",value:t.title,onChange:i,placeholder:"Enter title",required:!0})]})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{className:"my-2",children:[a.jsx(x.Label,{className:"label",children:"Upload Header Image (800x400)"}),a.jsx(mn,{storyForm:t,setStoryForm:e,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"}),a.jsxs(B,{className:"d-flex justify-content-between mt-2",children:[a.jsx("p",{className:"subtitle",children:"Supported File: PNG, JPEG, and JPG"}),a.jsx("p",{className:"subtitle",children:"Maximum size: 25MB"})]}),a.jsx(B,{className:"d-flex justify-content-end",children:f&&(p?null:a.jsxs(se,{className:"my-2",variant:"outline-danger",onClick:C,children:[a.jsx(ye,{className:"button-icon",icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]}))})]})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:T=>i(T,"headerImageSource"),label:"Header Image Sources (Type & Enter)",editingItems:t.headerImageSource,resetKey:n})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsxs(z,{md:12,children:[a.jsx("p",{className:"label mb-2",children:"Body Sections"}),t.body.map((T,F)=>a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(B,{className:"empty-container"}),a.jsxs(x.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(x.Label,{className:"label",children:"Subtitle (Optional)"}),a.jsx(x.Control,{type:"text",className:"fw-bold",value:T.subtitle,onChange:y=>o(F,"subtitle",y.target.value)})]}),a.jsxs(z,{className:"col me-lg-2 me-md-1",children:[a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Image (Optional)"}),a.jsx(TOe,{index:F,section:T,onBodyImageDrop:l,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"}),T.image&&a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{className:"mt-2 mb-1",variant:"outline-danger",onClick:()=>O(F),children:[a.jsx(ye,{icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]})})]}),a.jsxs(x.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(x.Label,{className:"label",children:"Image Source (Optional)"}),a.jsx(x.Control,{placeholder:"e.g. @boracayphotos or /islanders or #trivago or www.trivago.com",type:"text",value:T.image_source,onChange:y=>o(F,"image_source",y.target.value)})]})]}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(x.Group,{className:"mb-5",children:[a.jsx(x.Label,{className:"label",children:"Body"}),a.jsx(rr,{index:F,section:T,handleBodyChange:o})]})}),t.body.length>1&&a.jsx(B,{className:"mb-4 d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-danger",type:"button",onClick:()=>h(F),className:"mt-3 w-full",children:[a.jsx(ye,{icon:Dt,size:"xs",fixedWidth:!0})," Delete Section"]})})]},F)),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-success",type:"button",onClick:u,className:"mb-3",children:[a.jsx(ye,{icon:nr,size:"xs",fixedWidth:!0})," Add Section"]})})]})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:T=>i(T,"origin"),label:"Origin Office (Type & Enter)",editingItems:t.origin,resetKey:n,caption:"the office where the deals originated or referring to"})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:T=>i(T,"references"),label:"References (Type & Enter)",caption:"postings or website links to redirect users",editingItems:t.references,resetKey:n})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:T=>i(T,"socials"),label:"Social Media Link (Type & Enter)",caption:"social media links of subject",editingItems:t.socials,resetKey:n})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:T=>i(T,"tags"),label:"Tags (Type & Enter)",editingItems:t.tags,resetKey:n,caption:"imporant tags for Optimization"})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",onClick:s,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full",onClick:D,children:"Submit Deals"})]})]})}const LOe=({index:t,section:e,onBodyImageDrop:n,dropzoneName:r="dropzone-container-small",previewName:s="dropzone-uploaded-image-small"})=>{const{getRootProps:i,getInputProps:o}=Ht({onDrop:u=>n(u,t),accept:"image/png, image/jpeg, image/jpg, video/mp4, video/webm, video/ogg"}),l=e.image?e.image instanceof File?URL.createObjectURL(e.image):e.image:null;return a.jsxs(B,{...i(),className:`${r} text-center w-100 ${l?"border-success":""}`,children:[a.jsx("input",{...o(),accept:"image/*,video/*"}),l?e.image instanceof File&&e.image.type.startsWith("video/")?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:l,type:e.image.type}),"Your browser does not support the video tag."]}):a.jsx("img",{src:l,alt:"Body Image Preview",className:s}):a.jsxs("p",{className:"text-muted",children:["Drag & Drop Image/Video Here or"," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})};function ROe({editingItem:t,toAddForm:e}){const[n,r]=j.useState(new jK),[s,i]=j.useState(0);j.useEffect(()=>{t&&(r(y=>({...y,id:t.id||"",dateTimeStart:t.dateTimeStart||"",dateTimeEnd:t.dateTimeEnd||"",category:t.category||"",title:t.title||"",headerImage:t.headerImage||"",headerImageSource:t.headerImageSource||[],body:t.body.map((A,_)=>({subtitle:A.subtitle||"",body:A.body||"",image:A.image||"",image_source:A.image_source||""})),tags:t.tags||[],references:t.references||[],socials:t.socials||[],origin:t.origin||[]})),t.category&&setSelectedCategory(t.category||""))},[t]);const o=()=>{r({id:"",dateTimeStart:"",dateTimeEnd:"",category:"",title:"",headerImage:null,headerImageSource:[],body:[{subtitle:"",body:"",image:null,image_source:""}],tags:[],references:[],socials:[],origin:[]}),i(y=>y+1)},l=(y,A)=>{if(Array.isArray(y))r(_=>({..._,[A]:y}));else if(typeof y=="string")r(_=>({..._,[A]:y}));else{const{name:_,value:L}=y.target;r(R=>({...R,[_]:L}))}},u=(y,A,_)=>{r(L=>{const R=[...L.body];return R[y]={...R[y],[A]:_},{...L,body:R}})},h=(y,A)=>{const _=y[0];_&&r(L=>{const R=[...L.body];return R[A]={...R[A],image:_,imageUrl:URL.createObjectURL(_)},{...L,body:R}})},f=()=>{r(y=>({...y,body:[...y.body,{subtitle:"",body:"",image:null,image_source:""}]}))},g=y=>{r(A=>{const _=A.body.filter((L,R)=>R!==y);return{...A,body:_}})},[p,v]=j.useState(null),[w,E]=j.useState(""),S=j.useCallback(y=>{y.length>0&&v(y[0])},[]),{getRootProps:C,getInputProps:O}=Ht({onDrop:S,accept:"image/*",disabled:!!w}),I=()=>{r(y=>({...y,headerImage:null}))},D=y=>{r(A=>{const _=[...A.body];return _[y]?(_[y]={..._[y],image:null},{...A,body:_}):A})},T=async(y,A)=>{const _=Kt(en,A);return await Qt(_,y),await Zt(_)},F=async y=>{y.preventDefault(),xe.fire({title:"Updating...",text:"Please wait while we update the deals.",allowOutsideClick:!1,didOpen:()=>{xe.showLoading()}});try{let A;storyFormData.headerImage instanceof File?(t&&t.headerImage&&await Vt(t.headerImage),A=await T(storyFormData.headerImage,`deals/${Date.now()}_${storyFormData.headerImage.name}`)):A=storyFormData.headerImage;const _=await Promise.all(storyFormData.body.map(async(U,P)=>U.image instanceof File?(t&&t.body&&t.body[P]&&t.body[P].image&&await Vt(t.body[P].image),await T(U.image,`deals/${Date.now()}_${U.image.name}`)):U.image)),L={dateTimeStart:n.dateTimeStart,dateTimeEnd:n.dateTimeEnd,category:n.category,title:n.title,headerImage:A,headerImageSource:n.headerImageSource,body:n.body.map((U,P)=>({subtitle:U.subtitle,body:U.body,image:_[P]||"",image_source:U.image_source})),tags:n.tags,references:n.references,socials:n.socials,origin:n.origin},R=gt(ze,"deals",storyFormData.id);await rn(R,L),xe.fire({title:"Deals Posted",text:"Your deals has been edited successfully!",icon:"success"}),setBodyImages([]),I(),e()}catch(A){console.error("Error updating data:",A),xe.fire({title:"Error",text:"There was an issue updating your data. Please try again.",icon:"error"})}};return j.useRef(null),a.jsxs(x,{className:"custom-form body-container",onSubmit:F,onKeyDown:y=>y.key==="Enter"&&y.preventDefault(),children:[a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"category",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Category"}),a.jsxs(x.Select,{name:"category",value:n.category,onChange:l,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Category"}),EK.map((y,A)=>a.jsx("option",{value:y,children:y},A))]})]})}),a.jsx(z,{md:6,children:a.jsx(B,{className:"empty-container"})})]}),a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Start Date & Time"}),a.jsx(x.Control,{type:"datetime-local",name:"dateTimeStart",value:n.dateTimeStart,onChange:l,required:!0})]})}),a.jsx(z,{md:6,children:a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"End Date & Time"}),a.jsx(x.Control,{type:"datetime-local",name:"dateTimeEnd",value:n.dateTimeEnd,onChange:l,min:n.dateTimeStart,disabled:!n.dateTimeStart,required:!0})]})})]}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Title"}),a.jsx(x.Control,{type:"text",name:"title",className:"fw-bold",value:n.title,onChange:l,placeholder:"Enter title",required:!0})]})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{className:"my-2",children:[a.jsx(x.Label,{className:"label",children:"Upload Header Image (800x400)"}),a.jsx(mn,{storyForm:n,setStoryForm:r,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"}),a.jsxs(B,{className:"d-flex justify-content-between mt-2",children:[a.jsx("p",{className:"subtitle",children:"Supported File: PNG, JPEG, and JPG"}),a.jsx("p",{className:"subtitle",children:"Maximum size: 25MB"})]}),a.jsx(B,{className:"d-flex justify-content-end",children:p&&(w?null:a.jsxs(se,{className:"my-2",variant:"outline-danger",onClick:I,children:[a.jsx(ye,{className:"button-icon",icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]}))})]})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:y=>l(y,"headerImageSource"),label:"Header Image Sources (Type & Enter)",editingItems:n.headerImageSource,resetKey:s})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsxs(z,{md:12,children:[a.jsx("p",{className:"label mb-2",children:"Body Sections"}),n.body.map((y,A)=>a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(B,{className:"empty-container"}),a.jsxs(x.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(x.Label,{className:"label",children:"Subtitle (Optional)"}),a.jsx(x.Control,{type:"text",className:"fw-bold",value:y.subtitle,onChange:_=>u(A,"subtitle",_.target.value)})]}),a.jsxs(z,{className:"col me-lg-2 me-md-1",children:[a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Image (Optional)"}),a.jsx(LOe,{index:A,section:y,onBodyImageDrop:h,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"}),y.image&&a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{className:"mt-2 mb-1",variant:"outline-danger",onClick:()=>D(A),children:[a.jsx(ye,{icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]})})]}),a.jsxs(x.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(x.Label,{className:"label",children:"Image Source (Optional)"}),a.jsx(x.Control,{placeholder:"e.g. @boracayphotos or /islanders or #trivago or www.trivago.com",type:"text",value:y.image_source,onChange:_=>u(A,"image_source",_.target.value)})]})]}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(x.Group,{className:"mb-5",children:[a.jsx(x.Label,{className:"label",children:"Body"}),a.jsx(rr,{index:A,section:y,handleBodyChange:u})]})}),n.body.length>1&&a.jsx(B,{className:"mb-4 d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-danger",type:"button",onClick:()=>g(A),className:"mt-3 w-full",children:[a.jsx(ye,{icon:Dt,size:"xs",fixedWidth:!0})," Delete Section"]})})]},A)),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-success",type:"button",onClick:f,className:"mb-3",children:[a.jsx(ye,{icon:nr,size:"xs",fixedWidth:!0})," Add Section"]})})]})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:y=>l(y,"origin"),label:"Origin Office (Type & Enter)",editingItems:n.origin,resetKey:s,caption:"the office where the deals originated or referring to"})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:y=>l(y,"references"),label:"References (Type & Enter)",caption:"postings or website links to redirect users",editingItems:n.references,resetKey:s})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:y=>l(y,"socials"),label:"Social Media Link (Type & Enter)",caption:"social media links of subject",editingItems:n.socials,resetKey:s})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:y=>l(y,"tags"),label:"Tags (Type & Enter)",editingItems:n.tags,resetKey:s,caption:"imporant tags for Optimization"})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",onClick:o,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full",onClick:F,children:"Submit Update"})]})]})}const kOe=()=>{const[t,e]=j.useState([]),[n,r]=j.useState(""),[s,i]=j.useState(""),[o,l]=j.useState("asc"),[u,h]=j.useState(0),[f,g]=j.useState(null),p=10;j.useEffect(()=>{E()},[]);const[v,w]=j.useState(!0),E=async()=>{try{const R=(await ur(Ft(ze,"deals"))).docs.map(U=>({id:U.id,...U.data()}));e(R)}catch(L){console.error("Error fetching data:",L)}finally{w(!1)}},S=()=>{const L=[...t].sort((R,U)=>o==="asc"?new Date(R.date)-new Date(U.date):new Date(U.date)-new Date(R.date));e(L),l(o==="asc"?"desc":"asc")},C=L=>{g(L)},O=async L=>{window.confirm("Are you sure you want to delete this entry?")&&(await kr(gt(ze,"deals",L)),E())},I=t.filter(L=>(s===""||L.category===s)&&(L.title.toLowerCase().includes(n.toLowerCase())||L.classification.toLowerCase().includes(n.toLowerCase())||L.purpose.toLowerCase().includes(n.toLowerCase())||L.date.toLowerCase().includes(n.toLowerCase())||L.name.toLowerCase().includes(n.toLowerCase())||L.email.toLowerCase().includes(n.toLowerCase())||L.social.toLowerCase().includes(n.toLowerCase()))),D=()=>new Date().toISOString().split("T")[0],T=()=>{const L=t.map(({title:P,...K})=>({...K,tags:Array.isArray(K.tags)?K.tags.join(", "):"",origin:Array.isArray(K.origin)?K.origin.join(", "):"",headerImageSource:Array.isArray(K.headerImageSource)?K.headerImageSource.join(", "):"",references:Array.isArray(K.references)?K.references.join(", "):"",socials:Array.isArray(K.socials)?K.socials.join(", "):"",body:Array.isArray(K.body)?K.body.map(G=>JSON.stringify(G)).join("; "):""})),R=yt.json_to_sheet(L),U=yt.book_new();yt.book_append_sheet(U,R,"Data"),Fr(U,`tourism_deals_infoguide_${D()}.xlsx`)},F=Math.ceil(I.length/p),y=I.slice(u*p,(u+1)*p),A=({selected:L})=>{h(L)},_=()=>{g(null)};return a.jsxs(B,{children:[a.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Deals & Promotions"}),a.jsx("p",{children:"List of Deals."}),a.jsxs(V,{className:"mb-4 mt-4",children:[a.jsx(z,{md:4,className:"mb-2 me-2 col",children:a.jsx(x.Control,{type:"text",placeholder:`Search up to over ${t.length} articles`,value:n,onChange:L=>r(L.target.value)})}),a.jsx(z,{md:2,className:"mb-2 me-2 col",children:a.jsxs(x.Select,{value:s,onChange:L=>i(L.target.value),children:[a.jsx("option",{value:"",children:"All Category"}),[...new Set(t.map(L=>L.category))].map((L,R)=>a.jsx("option",{value:L,children:L},R))]})}),a.jsxs(B,{className:"d-flex justify-content-end align-items-center mt-2",children:[a.jsxs(se,{variant:"outline-secondary",className:"me-2",onClick:E,children:[a.jsx(ye,{icon:Pr,size:"xs",fixedWidth:!0})," Refresh List"]}),a.jsxs(se,{variant:"outline-success",onClick:_,children:[a.jsx(ye,{icon:Dr,size:"xs",fixedWidth:!0})," Add New"]})]})]}),v?a.jsx("div",{className:"d-flex justify-content-center align-items-center my-5",children:a.jsx(Cr,{animation:"border",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):y.length===0?a.jsx("div",{className:"text-center my-5",children:a.jsx("h5",{children:"No Data Available"})}):a.jsxs(Rr,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsxs("th",{onClick:S,style:{cursor:"pointer"},children:["Date ",o==="asc"?"":""]}),a.jsx("th",{children:"Classification"}),a.jsx("th",{children:"Title"}),a.jsx("th",{children:"Origin"}),a.jsx("th",{children:"References"}),a.jsx("th",{children:"Socials"})]})}),a.jsx("tbody",{children:y.map(L=>a.jsxs("tr",{children:[a.jsx("td",{children:new Date(L.date).toLocaleDateString()}),a.jsx("td",{children:L.classification}),a.jsx("td",{children:L.title}),a.jsx("td",{children:Array.isArray(L.origin)?L.origin.join(", "):L.origin}),a.jsx("td",{children:Array.isArray(L.references)?L.references.join(", "):L.references}),a.jsx("td",{children:Array.isArray(L.socials)?L.socials.join(", "):L.socials}),a.jsx("td",{children:a.jsxs(B,{className:"d-flex justify-content-center align-items-center",children:[a.jsx(Jt,{placement:"top",overlay:a.jsx(Wt,{children:"Edit"}),children:a.jsx(se,{variant:"outline-secondary",size:"sm",className:"me-2",onClick:()=>C(L),children:a.jsx(ye,{icon:Ir,size:"xs",fixedWidth:!0})})}),a.jsx(Jt,{placement:"top",overlay:a.jsx(Wt,{children:"Delete"}),children:a.jsx(se,{variant:"outline-danger",size:"sm",onClick:()=>O(L.id),children:a.jsx(ye,{icon:Dt,size:"xs",fixedWidth:!0})})})]})})]},L.id))})]}),a.jsxs(B,{className:"d-flex justify-content-between align-items-center mb-4 mt-2",children:[a.jsx(se,{onClick:T,variant:"outline-success",children:"Download Excel"}),a.jsx(Mr,{previousLabel:"",nextLabel:"",pageCount:F,onPageChange:A,containerClassName:"pagination mb-0",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})]}),f?a.jsx(ROe,{editingItem:f,toAddForm:()=>g(null)}):a.jsx(AOe,{})]})};class SK{constructor(){this.id="",this.dateTimeStart="",this.dateTimeEnd="",this.category="",this.title="",this.body=[{subtitle:"",body:"",image:null,image_source:""}],this.headerImage=null,this.headerImageSource=[],this.tags=[],this.references=[],this.socials=[],this.origin=[]}toJSON(){return{...this}}}const CK=["Concerts & Live Music","Festivals & Carnivals","Sports Events","Conferences & Seminars","Workshops & Training","Networking Events","Charity & Fundraisers","Community Gatherings","Art Exhibitions & Cultural Events","Theater & Performing Arts","Food & Beverage Festivals","Tech & Startup Events","Trade Shows & Expos","Wellness & Fitness Events","Educational Events","Business & Corporate Events","Gaming & eSports Tournaments","Movie Screenings & Film Festivals","Religious & Spiritual Events","Travel & Adventure Activities"],OOe=({index:t,section:e,onBodyImageDrop:n,dropzoneName:r="dropzone-container-small",previewName:s="dropzone-uploaded-image-small"})=>{const{getRootProps:i,getInputProps:o}=Ht({onDrop:u=>n(u,t),accept:"image/png, image/jpeg, image/jpg, video/mp4, video/webm, video/ogg"}),l=e.image?e.image instanceof File?URL.createObjectURL(e.image):e.image:null;return a.jsxs(B,{...i(),className:`${r} text-center w-100 ${l?"border-success":""}`,children:[a.jsx("input",{...o(),accept:"image/*,video/*"}),l?e.image instanceof File&&e.image.type.startsWith("video/")?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:l,type:e.image.type}),"Your browser does not support the video tag."]}):a.jsx("img",{src:l,alt:"Body Image Preview",className:s}):a.jsxs("p",{className:"text-muted",children:["Drag & Drop Image/Video Here or"," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})};function IOe(){const[t,e]=j.useState(new SK),[n,r]=j.useState(0);j.useEffect(()=>{},[]);const s=()=>{e({id:"",dateTimeStart:"",dateTimeEnd:"",category:"",title:"",headerImage:null,headerImageSource:[],body:[{subtitle:"",body:"",image:null,image_source:""}],tags:[],references:[],socials:[],origin:[]}),r(T=>T+1)},i=(T,F)=>{if(Array.isArray(T))e(y=>({...y,[F]:T}));else if(typeof T=="string")e(y=>({...y,[F]:T}));else{const{name:y,value:A}=T.target;e(_=>({..._,[y]:A}))}},o=(T,F,y)=>{e(A=>{const _=[...A.body];return _[T]={..._[T],[F]:y},{...A,body:_}})},l=(T,F)=>{const y=T[0];y&&e(A=>{const _=[...A.body];return _[F]={..._[F],image:y,imageUrl:URL.createObjectURL(y)},{...A,body:_}})},u=()=>{e(T=>({...T,body:[...T.body,{subtitle:"",body:"",image:null,image_source:""}]}))},h=T=>{e(F=>{const y=F.body.filter((A,_)=>_!==T);return{...F,body:y}})},[f,g]=j.useState(null),[p,v]=j.useState(""),w=j.useCallback(T=>{T.length>0&&g(T[0])},[]),{getRootProps:E,getInputProps:S}=Ht({onDrop:w,accept:"image/*",disabled:!!p}),C=()=>{e(T=>({...T,headerImage:null}))},O=T=>{e(F=>{const y=[...F.body];return y[T]?(y[T]={...y[T],image:null},{...F,body:y}):F})},I=async(T,F)=>{const y=Kt(en,F);return await Qt(y,T),await Zt(y)},D=async T=>{T.preventDefault(),xe.fire({title:"Submitting...",text:"Please wait while we submit your incoming events.",allowOutsideClick:!1,didOpen:()=>{xe.showLoading()}});try{let F=await I(t.headerImage,`incomingEvents/${Date.now()}_${t.headerImage}`);const y=await Promise.all(t.body.map(async(R,U)=>R.image?await I(R.image,`incomingEvents/${Date.now()}_${R.image.name}`):"")),A={id:"",dateTimeStart:t.dateTimeStart,dateTimeEnd:t.dateTimeEnd,category:t.category,title:t.title,headerImage:F,headerImageSource:t.headerImageSource,body:t.body.map((R,U)=>({subtitle:R.subtitle,body:R.body,image:y[U]||"",image_source:R.image_source})),tags:t.tags,references:t.references,socials:t.socials,origin:t.origin},_=await Or(Ft(ze,"incomingEvents"),A),L=gt(ze,"incomingEvents",_.id);await L(L,{id:_.id}),xe.fire({title:"Incoming Events Submitted",text:"Your incoming events has been submitted successfully!",icon:"success"}),s(),C()}catch(F){console.error("Error submitting incoming events:",F),xe.fire({title:"Error",text:"There was an issue submitting your incoming events. Please try again.",icon:"error"})}};return j.useRef(null),a.jsxs(x,{className:"custom-form body-container",onSubmit:D,onKeyDown:T=>T.key==="Enter"&&T.preventDefault(),children:[a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"category",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Category"}),a.jsxs(x.Select,{name:"category",value:t.category,onChange:i,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Category"}),CK.map((T,F)=>a.jsx("option",{value:T,children:T},F))]})]})}),a.jsx(z,{md:6,children:a.jsx(B,{className:"empty-container"})})]}),a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Start Date & Time"}),a.jsx(x.Control,{type:"datetime-local",name:"dateTimeStart",value:t.dateTimeStart,onChange:i,required:!0})]})}),a.jsx(z,{md:6,children:a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"End Date & Time"}),a.jsx(x.Control,{type:"datetime-local",name:"dateTimeEnd",value:t.dateTimeEnd,onChange:i,min:t.dateTimeStart,disabled:!t.dateTimeStart,required:!0})]})})]}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Title"}),a.jsx(x.Control,{type:"text",name:"title",className:"fw-bold",value:t.title,onChange:i,placeholder:"Enter title",required:!0})]})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{className:"my-2",children:[a.jsx(x.Label,{className:"label",children:"Upload Header Image (800x400)"}),a.jsx(mn,{storyForm:t,setStoryForm:e,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"}),a.jsxs(B,{className:"d-flex justify-content-between mt-2",children:[a.jsx("p",{className:"subtitle",children:"Supported File: PNG, JPEG, and JPG"}),a.jsx("p",{className:"subtitle",children:"Maximum size: 25MB"})]}),a.jsx(B,{className:"d-flex justify-content-end",children:f&&(p?null:a.jsxs(se,{className:"my-2",variant:"outline-danger",onClick:C,children:[a.jsx(ye,{className:"button-icon",icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]}))})]})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:T=>i(T,"headerImageSource"),label:"Header Image Sources (Type & Enter)",editingItems:t.headerImageSource,resetKey:n})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsxs(z,{md:12,children:[a.jsx("p",{className:"label mb-2",children:"Body Sections"}),t.body.map((T,F)=>a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(B,{className:"empty-container"}),a.jsxs(x.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(x.Label,{className:"label",children:"Subtitle (Optional)"}),a.jsx(x.Control,{type:"text",className:"fw-bold",value:T.subtitle,onChange:y=>o(F,"subtitle",y.target.value)})]}),a.jsxs(z,{className:"col me-lg-2 me-md-1",children:[a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Image (Optional)"}),a.jsx(OOe,{index:F,section:T,onBodyImageDrop:l,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"}),T.image&&a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{className:"mt-2 mb-1",variant:"outline-danger",onClick:()=>O(F),children:[a.jsx(ye,{icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]})})]}),a.jsxs(x.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(x.Label,{className:"label",children:"Image Source (Optional)"}),a.jsx(x.Control,{placeholder:"e.g. @boracayphotos or /islanders or #trivago or www.trivago.com",type:"text",value:T.image_source,onChange:y=>o(F,"image_source",y.target.value)})]})]}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(x.Group,{className:"mb-5",children:[a.jsx(x.Label,{className:"label",children:"Body"}),a.jsx(rr,{index:F,section:T,handleBodyChange:o})]})}),t.body.length>1&&a.jsx(B,{className:"mb-4 d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-danger",type:"button",onClick:()=>h(F),className:"mt-3 w-full",children:[a.jsx(ye,{icon:Dt,size:"xs",fixedWidth:!0})," Delete Section"]})})]},F)),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-success",type:"button",onClick:u,className:"mb-3",children:[a.jsx(ye,{icon:nr,size:"xs",fixedWidth:!0})," Add Section"]})})]})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:T=>i(T,"origin"),label:"Origin Office (Type & Enter)",editingItems:t.origin,resetKey:n,caption:"the office where the incoming events originated or referring to"})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:T=>i(T,"references"),label:"References (Type & Enter)",caption:"postings or website links to redirect users",editingItems:t.references,resetKey:n})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:T=>i(T,"socials"),label:"Social Media Link (Type & Enter)",caption:"social media links of subject",editingItems:t.socials,resetKey:n})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:T=>i(T,"tags"),label:"Tags (Type & Enter)",editingItems:t.tags,resetKey:n,caption:"imporant tags for Optimization"})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",onClick:s,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full",onClick:D,children:"Submit Incoming Event"})]})]})}const POe=({index:t,section:e,onBodyImageDrop:n,dropzoneName:r="dropzone-container-small",previewName:s="dropzone-uploaded-image-small"})=>{const{getRootProps:i,getInputProps:o}=Ht({onDrop:v=>n(v,t),accept:"image/png, image/jpeg, image/jpg, video/mp4, video/webm, video/ogg"}),l=e.image instanceof File,u=typeof e.image=="string"&&/\.(mp4|webm|ogg)(\?.*)?$/i.test(e.image),h=typeof e.image=="string"&&!u,f=l?URL.createObjectURL(e.image):null,g=h?e.image:null,p=u?e.image:null;return a.jsxs(B,{...i(),className:`${r} text-center w-100 ${f||g||p?"border-success":""}`,children:[a.jsx("input",{...o(),accept:"image/*,video/*"}),f?e.image.type.startsWith("video/")?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:f,type:e.image.type}),"Your browser does not support the video tag."]}):a.jsx("img",{src:f,alt:"Uploaded File Preview",className:s}):p?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:p,type:"video/mp4"}),"Your browser does not support the video tag."]}):g?a.jsx("img",{src:g,alt:"Image URL Preview",className:s}):a.jsxs("p",{className:"text-muted",children:["Drag & Drop Image/Video Here or"," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})};function DOe({editingItem:t,toAddForm:e}){const[n,r]=j.useState(new SK),[s,i]=j.useState(0);j.useEffect(()=>{t&&(r(y=>({...y,id:t.id||"",dateTimeStart:t.dateTimeStart||"",dateTimeEnd:t.dateTimeEnd||"",category:t.category||"",title:t.title||"",headerImage:t.headerImage||"",headerImageSource:t.headerImageSource||[],body:t.body.map((A,_)=>({subtitle:A.subtitle||"",body:A.body||"",image:A.image||"",image_source:A.image_source||""})),tags:t.tags||[],references:t.references||[],socials:t.socials||[],origin:t.origin||[]})),t.category&&setSelectedCategory(t.category||""))},[t]);const o=()=>{r({id:"",dateTimeStart:"",dateTimeEnd:"",category:"",title:"",headerImage:null,headerImageSource:[],body:[{subtitle:"",body:"",image:null,image_source:""}],tags:[],references:[],socials:[],origin:[]}),i(y=>y+1)},l=(y,A)=>{if(Array.isArray(y))r(_=>({..._,[A]:y}));else if(typeof y=="string")r(_=>({..._,[A]:y}));else{const{name:_,value:L}=y.target;r(R=>({...R,[_]:L}))}},u=(y,A,_)=>{r(L=>{const R=[...L.body];return R[y]={...R[y],[A]:_},{...L,body:R}})},h=(y,A)=>{const _=y[0];_&&r(L=>{const R=[...L.body];return R[A]={...R[A],image:_,imageUrl:URL.createObjectURL(_)},{...L,body:R}})},f=()=>{r(y=>({...y,body:[...y.body,{subtitle:"",body:"",image:null,image_source:""}]}))},g=y=>{r(A=>{const _=A.body.filter((L,R)=>R!==y);return{...A,body:_}})},[p,v]=j.useState(null),[w,E]=j.useState(""),S=j.useCallback(y=>{y.length>0&&v(y[0])},[]),{getRootProps:C,getInputProps:O}=Ht({onDrop:S,accept:"image/*",disabled:!!w}),I=()=>{r(y=>({...y,headerImage:null}))},D=y=>{r(A=>{const _=[...A.body];return _[y]?(_[y]={..._[y],image:null},{...A,body:_}):A})},T=async(y,A)=>{const _=Kt(en,A);return await Qt(_,y),await Zt(_)},F=async y=>{y.preventDefault(),xe.fire({title:"Updating...",text:"Please wait while we update the incoming events.",allowOutsideClick:!1,didOpen:()=>{xe.showLoading()}});try{let A;storyFormData.headerImage instanceof File?(t&&t.headerImage&&await Vt(t.headerImage),A=await T(storyFormData.headerImage,`incomingEvents/${Date.now()}_${storyFormData.headerImage.name}`)):A=storyFormData.headerImage;const _=await Promise.all(storyFormData.body.map(async(U,P)=>U.image instanceof File?(t&&t.body&&t.body[P]&&t.body[P].image&&await Vt(t.body[P].image),await T(U.image,`incomingEvents/${Date.now()}_${U.image.name}`)):U.image)),L={dateTimeStart:n.dateTimeStart,dateTimeEnd:n.dateTimeEnd,category:n.category,title:n.title,headerImage:A,headerImageSource:n.headerImageSource,body:n.body.map((U,P)=>({subtitle:U.subtitle,body:U.body,image:_[P]||"",image_source:U.image_source})),tags:n.tags,references:n.references,socials:n.socials,origin:n.origin},R=gt(ze,"incomingEvents",storyFormData.id);await rn(R,L),xe.fire({title:"Incoming Events Posted",text:"Your incoming events has been edited successfully!",icon:"success"}),setBodyImages([]),I(),e()}catch(A){console.error("Error updating data:",A),xe.fire({title:"Error",text:"There was an issue updating your data. Please try again.",icon:"error"})}};return j.useRef(null),a.jsxs(x,{className:"custom-form body-container",onSubmit:F,onKeyDown:y=>y.key==="Enter"&&y.preventDefault(),children:[a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"category",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Category"}),a.jsxs(x.Select,{name:"category",value:n.category,onChange:l,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Category"}),CK.map((y,A)=>a.jsx("option",{value:y,children:y},A))]})]})}),a.jsx(z,{md:6,children:a.jsx(B,{className:"empty-container"})})]}),a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Start Date & Time"}),a.jsx(x.Control,{type:"datetime-local",name:"dateTimeStart",value:n.dateTimeStart,onChange:l,required:!0})]})}),a.jsx(z,{md:6,children:a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"End Date & Time"}),a.jsx(x.Control,{type:"datetime-local",name:"dateTimeEnd",value:n.dateTimeEnd,onChange:l,min:n.dateTimeStart,disabled:!n.dateTimeStart,required:!0})]})})]}),a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Start Date & Time"}),a.jsx(x.Control,{type:"datetime-local",name:"dateTimeStart",value:n.dateTimeStart,onChange:l,required:!0})]})}),a.jsx(z,{md:6,children:a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"End Date & Time"}),a.jsx(x.Control,{type:"datetime-local",name:"dateTimeEnd",value:n.dateTimeEnd,onChange:l,min:n.dateTimeStart,disabled:!n.dateTimeStart,required:!0})]})})]}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Title"}),a.jsx(x.Control,{type:"text",name:"title",className:"fw-bold",value:n.title,onChange:l,placeholder:"Enter title",required:!0})]})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{className:"my-2",children:[a.jsx(x.Label,{className:"label",children:"Upload Header Image (800x400)"}),a.jsx(mn,{storyForm:n,setStoryForm:r,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"}),a.jsxs(B,{className:"d-flex justify-content-between mt-2",children:[a.jsx("p",{className:"subtitle",children:"Supported File: PNG, JPEG, and JPG"}),a.jsx("p",{className:"subtitle",children:"Maximum size: 25MB"})]}),a.jsx(B,{className:"d-flex justify-content-end",children:p&&(w?null:a.jsxs(se,{className:"my-2",variant:"outline-danger",onClick:I,children:[a.jsx(ye,{className:"button-icon",icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]}))})]})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:y=>l(y,"headerImageSource"),label:"Header Image Sources (Type & Enter)",editingItems:n.headerImageSource,resetKey:s})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsxs(z,{md:12,children:[a.jsx("p",{className:"label mb-2",children:"Body Sections"}),n.body.map((y,A)=>a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(B,{className:"empty-container"}),a.jsxs(x.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(x.Label,{className:"label",children:"Subtitle (Optional)"}),a.jsx(x.Control,{type:"text",className:"fw-bold",value:y.subtitle,onChange:_=>u(A,"subtitle",_.target.value)})]}),a.jsxs(z,{className:"col me-lg-2 me-md-1",children:[a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Image (Optional)"}),a.jsx(POe,{index:A,section:y,onBodyImageDrop:h,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"}),y.image&&a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{className:"mt-2 mb-1",variant:"outline-danger",onClick:()=>D(A),children:[a.jsx(ye,{icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]})})]}),a.jsxs(x.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(x.Label,{className:"label",children:"Image Source (Optional)"}),a.jsx(x.Control,{placeholder:"e.g. @boracayphotos or /islanders or #trivago or www.trivago.com",type:"text",value:y.image_source,onChange:_=>u(A,"image_source",_.target.value)})]})]}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(x.Group,{className:"mb-5",children:[a.jsx(x.Label,{className:"label",children:"Body"}),a.jsx(rr,{index:A,section:y,handleBodyChange:u})]})}),n.body.length>1&&a.jsx(B,{className:"mb-4 d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-danger",type:"button",onClick:()=>g(A),className:"mt-3 w-full",children:[a.jsx(ye,{icon:Dt,size:"xs",fixedWidth:!0})," Delete Section"]})})]},A)),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-success",type:"button",onClick:f,className:"mb-3",children:[a.jsx(ye,{icon:nr,size:"xs",fixedWidth:!0})," Add Section"]})})]})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:y=>l(y,"origin"),label:"Origin Office (Type & Enter)",editingItems:n.origin,resetKey:s,caption:"the office where the incoming events originated or referring to"})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:y=>l(y,"references"),label:"References (Type & Enter)",caption:"postings or website links to redirect users",editingItems:n.references,resetKey:s})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:y=>l(y,"socials"),label:"Social Media Link (Type & Enter)",caption:"social media links of subject",editingItems:n.socials,resetKey:s})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:y=>l(y,"tags"),label:"Tags (Type & Enter)",editingItems:n.tags,resetKey:s,caption:"imporant tags for Optimization"})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",onClick:o,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full",onClick:F,children:"Submit Update"})]})]})}const MOe=()=>{const[t,e]=j.useState([]),[n,r]=j.useState(""),[s,i]=j.useState(""),[o,l]=j.useState("asc"),[u,h]=j.useState(0),[f,g]=j.useState(null),p=10;j.useEffect(()=>{E()},[]);const[v,w]=j.useState(!0),E=async()=>{try{const R=(await ur(Ft(ze,"incomingEvents"))).docs.map(U=>({id:U.id,...U.data()}));e(R)}catch(L){console.error("Error fetching data:",L)}finally{w(!1)}},S=()=>{const L=[...t].sort((R,U)=>o==="asc"?new Date(R.date)-new Date(U.date):new Date(U.date)-new Date(R.date));e(L),l(o==="asc"?"desc":"asc")},C=L=>{g(L)},O=async L=>{window.confirm("Are you sure you want to delete this entry?")&&(await kr(gt(ze,"incomingEvents",L)),E())},I=t.filter(L=>(s===""||L.category===s)&&(L.title.toLowerCase().includes(n.toLowerCase())||L.classification.toLowerCase().includes(n.toLowerCase())||L.purpose.toLowerCase().includes(n.toLowerCase())||L.date.toLowerCase().includes(n.toLowerCase())||L.name.toLowerCase().includes(n.toLowerCase())||L.email.toLowerCase().includes(n.toLowerCase())||L.social.toLowerCase().includes(n.toLowerCase()))),D=()=>new Date().toISOString().split("T")[0],T=()=>{const L=t.map(({title:P,...K})=>({...K,tags:Array.isArray(K.tags)?K.tags.join(", "):"",origin:Array.isArray(K.origin)?K.origin.join(", "):"",headerImageSource:Array.isArray(K.headerImageSource)?K.headerImageSource.join(", "):"",references:Array.isArray(K.references)?K.references.join(", "):"",socials:Array.isArray(K.socials)?K.socials.join(", "):"",body:Array.isArray(K.body)?K.body.map(G=>JSON.stringify(G)).join("; "):""})),R=yt.json_to_sheet(L),U=yt.book_new();yt.book_append_sheet(U,R,"Data"),Fr(U,`tourism_incomingevents_infoguide_${D()}.xlsx`)},F=Math.ceil(I.length/p),y=I.slice(u*p,(u+1)*p),A=({selected:L})=>{h(L)},_=()=>{g(null)};return a.jsxs(B,{children:[a.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Incoming Events"}),a.jsx("p",{children:"List of Incoming Events."}),a.jsxs(V,{className:"mb-4 mt-4",children:[a.jsx(z,{md:4,className:"mb-2 me-2 col",children:a.jsx(x.Control,{type:"text",placeholder:`Search up to over ${t.length} articles`,value:n,onChange:L=>r(L.target.value)})}),a.jsx(z,{md:2,className:"mb-2 me-2 col",children:a.jsxs(x.Select,{value:s,onChange:L=>i(L.target.value),children:[a.jsx("option",{value:"",children:"All Category"}),[...new Set(t.map(L=>L.category))].map((L,R)=>a.jsx("option",{value:L,children:L},R))]})}),a.jsxs(B,{className:"d-flex justify-content-end align-items-center mt-2",children:[a.jsxs(se,{variant:"outline-secondary",className:"me-2",onClick:E,children:[a.jsx(ye,{icon:Pr,size:"xs",fixedWidth:!0})," Refresh List"]}),a.jsxs(se,{variant:"outline-success",onClick:_,children:[a.jsx(ye,{icon:Dr,size:"xs",fixedWidth:!0})," Add New"]})]})]}),v?a.jsx("div",{className:"d-flex justify-content-center align-items-center my-5",children:a.jsx(Cr,{animation:"border",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):y.length===0?a.jsx("div",{className:"text-center my-5",children:a.jsx("h5",{children:"No Data Available"})}):a.jsxs(Rr,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsxs("th",{onClick:S,style:{cursor:"pointer"},children:["Date ",o==="asc"?"":""]}),a.jsx("th",{children:"Classification"}),a.jsx("th",{children:"Title"}),a.jsx("th",{children:"Origin"}),a.jsx("th",{children:"References"}),a.jsx("th",{children:"Socials"})]})}),a.jsx("tbody",{children:y.map(L=>a.jsxs("tr",{children:[a.jsx("td",{children:new Date(L.date).toLocaleDateString()}),a.jsx("td",{children:L.classification}),a.jsx("td",{children:L.title}),a.jsx("td",{children:Array.isArray(L.origin)?L.origin.join(", "):L.origin}),a.jsx("td",{children:Array.isArray(L.references)?L.references.join(", "):L.references}),a.jsx("td",{children:Array.isArray(L.socials)?L.socials.join(", "):L.socials}),a.jsx("td",{children:a.jsxs(B,{className:"d-flex justify-content-center align-items-center",children:[a.jsx(Jt,{placement:"top",overlay:a.jsx(Wt,{children:"Edit"}),children:a.jsx(se,{variant:"outline-secondary",size:"sm",className:"me-2",onClick:()=>C(L),children:a.jsx(ye,{icon:Ir,size:"xs",fixedWidth:!0})})}),a.jsx(Jt,{placement:"top",overlay:a.jsx(Wt,{children:"Delete"}),children:a.jsx(se,{variant:"outline-danger",size:"sm",onClick:()=>O(L.id),children:a.jsx(ye,{icon:Dt,size:"xs",fixedWidth:!0})})})]})})]},L.id))})]}),a.jsxs(B,{className:"d-flex justify-content-between align-items-center mb-4 mt-2",children:[a.jsx(se,{onClick:T,variant:"outline-success",children:"Download Excel"}),a.jsx(Mr,{previousLabel:"",nextLabel:"",pageCount:F,onPageChange:A,containerClassName:"pagination mb-0",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})]}),f?a.jsx(DOe,{editingItem:f,toAddForm:()=>g(null)}):a.jsx(IOe,{})]})};class NK{constructor(){this.id="",this.category="",this.title="",this.body=[{subtitle:"",body:"",image:null,image_source:""}],this.headerImage=null,this.headerImageSource=[],this.tags=[],this.references=[]}toJSON(){return{...this}}}const TK=["To Bring","To Avoid","To Remember","To Support"],FOe=({index:t,section:e,onBodyImageDrop:n,dropzoneName:r="dropzone-container-small",previewName:s="dropzone-uploaded-image-small"})=>{const{getRootProps:i,getInputProps:o}=Ht({onDrop:u=>n(u,t),accept:"image/png, image/jpeg, image/jpg, video/mp4, video/webm, video/ogg"}),l=e.image?e.image instanceof File?URL.createObjectURL(e.image):e.image:null;return a.jsxs(B,{...i(),className:`${r} text-center w-100 ${l?"border-success":""}`,children:[a.jsx("input",{...o(),accept:"image/*,video/*"}),l?e.image instanceof File&&e.image.type.startsWith("video/")?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:l,type:e.image.type}),"Your browser does not support the video tag."]}):a.jsx("img",{src:l,alt:"Body Image Preview",className:s}):a.jsxs("p",{className:"text-muted",children:["Drag & Drop Image/Video Here or"," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})};function BOe(){const[t,e]=j.useState(new NK),[n,r]=j.useState(0);j.useEffect(()=>{},[]);const s=()=>{e({id:"",category:"",title:"",headerImage:null,headerImageSource:[],body:[{subtitle:"",body:"",image:null,image_source:""}],tags:[],references:[]}),r(T=>T+1)},i=(T,F)=>{if(Array.isArray(T))e(y=>({...y,[F]:T}));else if(typeof T=="string")e(y=>({...y,[F]:T}));else{const{name:y,value:A}=T.target;e(_=>({..._,[y]:A}))}},o=(T,F,y)=>{e(A=>{const _=[...A.body];return _[T]={..._[T],[F]:y},{...A,body:_}})},l=(T,F)=>{const y=T[0];y&&e(A=>{const _=[...A.body];return _[F]={..._[F],image:y,imageUrl:URL.createObjectURL(y)},{...A,body:_}})},u=()=>{e(T=>({...T,body:[...T.body,{subtitle:"",body:"",image:null,image_source:""}]}))},h=T=>{e(F=>{const y=F.body.filter((A,_)=>_!==T);return{...F,body:y}})},[f,g]=j.useState(null),[p,v]=j.useState(""),w=j.useCallback(T=>{T.length>0&&g(T[0])},[]),{getRootProps:E,getInputProps:S}=Ht({onDrop:w,accept:"image/*",disabled:!!p}),C=()=>{e(T=>({...T,headerImage:null}))},O=T=>{e(F=>{const y=[...F.body];return y[T]?(y[T]={...y[T],image:null},{...F,body:y}):F})},I=async(T,F)=>{const y=Kt(en,F);return await Qt(y,T),await Zt(y)},D=async T=>{T.preventDefault(),xe.fire({title:"Submitting...",text:"Please wait while we submit your sustainable tourism.",allowOutsideClick:!1,didOpen:()=>{xe.showLoading()}});try{let F=await I(t.headerImage,`sustainableTourism/${Date.now()}_${t.headerImage}`);const y=await Promise.all(t.body.map(async(R,U)=>R.image?await I(R.image,`sustainableTourism/${Date.now()}_${R.image.name}`):"")),A={id:"",category:t.category,title:t.title,headerImage:F,headerImageSource:t.headerImageSource,body:t.body.map((R,U)=>({subtitle:R.subtitle,body:R.body,image:y[U]||"",image_source:R.image_source})),tags:t.tags,references:t.references},_=await Or(Ft(ze,"sustainableTourism"),A),L=gt(ze,"sustainableTourism",_.id);await L(L,{id:_.id}),xe.fire({title:"Sustainable Tourism Events Submitted",text:"Your Sustainable Tourism events has been submitted successfully!",icon:"success"}),s(),C()}catch(F){console.error("Error submitting sustainable tourism events:",F),xe.fire({title:"Error",text:"There was an issue submitting your sustainable tourism events. Please try again.",icon:"error"})}};return j.useRef(null),a.jsxs(x,{className:"custom-form body-container",onSubmit:D,onKeyDown:T=>T.key==="Enter"&&T.preventDefault(),children:[a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"category",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Category"}),a.jsxs(x.Select,{name:"category",value:t.category,onChange:i,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Category"}),TK.map((T,F)=>a.jsx("option",{value:T,children:T},F))]})]})}),a.jsx(z,{md:6,children:a.jsx(B,{className:"empty-container"})})]}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Title"}),a.jsx(x.Control,{type:"text",name:"title",className:"fw-bold",value:t.title,onChange:i,placeholder:"Enter title",required:!0})]})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{className:"my-2",children:[a.jsx(x.Label,{className:"label",children:"Upload Header Image (800x400)"}),a.jsx(mn,{storyForm:t,setStoryForm:e,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"}),a.jsxs(B,{className:"d-flex justify-content-between mt-2",children:[a.jsx("p",{className:"subtitle",children:"Supported File: PNG, JPEG, and JPG"}),a.jsx("p",{className:"subtitle",children:"Maximum size: 25MB"})]}),a.jsx(B,{className:"d-flex justify-content-end",children:f&&(p?null:a.jsxs(se,{className:"my-2",variant:"outline-danger",onClick:C,children:[a.jsx(ye,{className:"button-icon",icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]}))})]})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:T=>i(T,"headerImageSource"),label:"Header Image Sources (Type & Enter)",editingItems:t.headerImageSource,resetKey:n})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsxs(z,{md:12,children:[a.jsx("p",{className:"label mb-2",children:"Body Sections"}),t.body.map((T,F)=>a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(B,{className:"empty-container"}),a.jsxs(x.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(x.Label,{className:"label",children:"Subtitle (Optional)"}),a.jsx(x.Control,{type:"text",className:"fw-bold",value:T.subtitle,onChange:y=>o(F,"subtitle",y.target.value)})]}),a.jsxs(z,{className:"col me-lg-2 me-md-1",children:[a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Image (Optional)"}),a.jsx(FOe,{index:F,section:T,onBodyImageDrop:l,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"}),T.image&&a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{className:"mt-2 mb-1",variant:"outline-danger",onClick:()=>O(F),children:[a.jsx(ye,{icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]})})]}),a.jsxs(x.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(x.Label,{className:"label",children:"Image Source (Optional)"}),a.jsx(x.Control,{placeholder:"e.g. @boracayphotos or /islanders or #trivago or www.trivago.com",type:"text",value:T.image_source,onChange:y=>o(F,"image_source",y.target.value)})]})]}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(x.Group,{className:"mb-5",children:[a.jsx(x.Label,{className:"label",children:"Body"}),a.jsx(rr,{index:F,section:T,handleBodyChange:o})]})}),t.body.length>1&&a.jsx(B,{className:"mb-4 d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-danger",type:"button",onClick:()=>h(F),className:"mt-3 w-full",children:[a.jsx(ye,{icon:Dt,size:"xs",fixedWidth:!0})," Delete Section"]})})]},F)),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-success",type:"button",onClick:u,className:"mb-3",children:[a.jsx(ye,{icon:nr,size:"xs",fixedWidth:!0})," Add Section"]})})]})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:T=>i(T,"references"),label:"References (Type & Enter)",caption:"postings or website links to redirect users",editingItems:t.references,resetKey:n})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:T=>i(T,"tags"),label:"Tags (Type & Enter)",editingItems:t.tags,resetKey:n,caption:"imporant tags for Optimization"})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",onClick:s,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full",onClick:D,children:"Submit Sustainbale Tourism"})]})]})}const UOe=({index:t,section:e,onBodyImageDrop:n,dropzoneName:r="dropzone-container-small",previewName:s="dropzone-uploaded-image-small"})=>{const{getRootProps:i,getInputProps:o}=Ht({onDrop:v=>n(v,t),accept:"image/png, image/jpeg, image/jpg, video/mp4, video/webm, video/ogg"}),l=e.image instanceof File,u=typeof e.image=="string"&&/\.(mp4|webm|ogg)(\?.*)?$/i.test(e.image),h=typeof e.image=="string"&&!u,f=l?URL.createObjectURL(e.image):null,g=h?e.image:null,p=u?e.image:null;return a.jsxs(B,{...i(),className:`${r} text-center w-100 ${f||g||p?"border-success":""}`,children:[a.jsx("input",{...o(),accept:"image/*,video/*"}),f?e.image.type.startsWith("video/")?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:f,type:e.image.type}),"Your browser does not support the video tag."]}):a.jsx("img",{src:f,alt:"Uploaded File Preview",className:s}):p?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:p,type:"video/mp4"}),"Your browser does not support the video tag."]}):g?a.jsx("img",{src:g,alt:"Image URL Preview",className:s}):a.jsxs("p",{className:"text-muted",children:["Drag & Drop Image/Video Here or"," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})};function zOe({editingItem:t,toAddForm:e}){const[n,r]=j.useState(new NK),[s,i]=j.useState(0);j.useEffect(()=>{t&&(r(y=>({...y,id:t.id||"",category:t.category||"",title:t.title||"",headerImage:t.headerImage||"",headerImageSource:t.headerImageSource||[],body:t.body.map((A,_)=>({subtitle:A.subtitle||"",body:A.body||"",image:A.image||"",image_source:A.image_source||""})),tags:t.tags||[],references:t.references||[]})),t.category&&setSelectedCategory(t.category||""))},[t]);const o=()=>{r({id:"",category:"",title:"",headerImage:null,headerImageSource:[],body:[{subtitle:"",body:"",image:null,image_source:""}],tags:[],references:[]}),i(y=>y+1)},l=(y,A)=>{if(Array.isArray(y))r(_=>({..._,[A]:y}));else if(typeof y=="string")r(_=>({..._,[A]:y}));else{const{name:_,value:L}=y.target;r(R=>({...R,[_]:L}))}},u=(y,A,_)=>{r(L=>{const R=[...L.body];return R[y]={...R[y],[A]:_},{...L,body:R}})},h=(y,A)=>{const _=y[0];_&&r(L=>{const R=[...L.body];return R[A]={...R[A],image:_,imageUrl:URL.createObjectURL(_)},{...L,body:R}})},f=()=>{r(y=>({...y,body:[...y.body,{subtitle:"",body:"",image:null,image_source:""}]}))},g=y=>{r(A=>{const _=A.body.filter((L,R)=>R!==y);return{...A,body:_}})},[p,v]=j.useState(null),[w,E]=j.useState(""),S=j.useCallback(y=>{y.length>0&&v(y[0])},[]),{getRootProps:C,getInputProps:O}=Ht({onDrop:S,accept:"image/*",disabled:!!w}),I=()=>{r(y=>({...y,headerImage:null}))},D=y=>{r(A=>{const _=[...A.body];return _[y]?(_[y]={..._[y],image:null},{...A,body:_}):A})},T=async(y,A)=>{const _=Kt(en,A);return await Qt(_,y),await Zt(_)},F=async y=>{y.preventDefault(),xe.fire({title:"Updating...",text:"Please wait while we update the sustainable tourism.",allowOutsideClick:!1,didOpen:()=>{xe.showLoading()}});try{let A;storyFormData.headerImage instanceof File?(t&&t.headerImage&&await Vt(t.headerImage),A=await T(storyFormData.headerImage,`sustainableTourism/${Date.now()}_${storyFormData.headerImage.name}`)):A=storyFormData.headerImage;const _=await Promise.all(storyFormData.body.map(async(U,P)=>U.image instanceof File?(t&&t.body&&t.body[P]&&t.body[P].image&&await Vt(t.body[P].image),await T(U.image,`sustainableTourism/${Date.now()}_${U.image.name}`)):U.image)),L={category:n.category,title:n.title,headerImage:A,headerImageSource:n.headerImageSource,body:n.body.map((U,P)=>({subtitle:U.subtitle,body:U.body,image:_[P]||"",image_source:U.image_source})),tags:n.tags,references:n.references},R=gt(ze,"sustainableTourism",storyFormData.id);await rn(R,L),xe.fire({title:"Sustainable Tourism Events Posted",text:"Your Sustainable Tourism events has been edited successfully!",icon:"success"}),setBodyImages([]),I(),e()}catch(A){console.error("Error updating data:",A),xe.fire({title:"Error",text:"There was an issue updating your data. Please try again.",icon:"error"})}};return j.useRef(null),a.jsxs(x,{className:"custom-form body-container",onSubmit:F,onKeyDown:y=>y.key==="Enter"&&y.preventDefault(),children:[a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"category",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Category"}),a.jsxs(x.Select,{name:"category",value:n.category,onChange:l,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Category"}),TK.map((y,A)=>a.jsx("option",{value:y,children:y},A))]})]})}),a.jsx(z,{md:6,children:a.jsx(B,{className:"empty-container"})})]}),a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Start Date & Time"}),a.jsx(x.Control,{type:"datetime-local",name:"dateTimeStart",value:n.dateTimeStart,onChange:l,required:!0})]})}),a.jsx(z,{md:6,children:a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"End Date & Time"}),a.jsx(x.Control,{type:"datetime-local",name:"dateTimeEnd",value:n.dateTimeEnd,onChange:l,min:n.dateTimeStart,disabled:!n.dateTimeStart,required:!0})]})})]}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Title"}),a.jsx(x.Control,{type:"text",name:"title",className:"fw-bold",value:n.title,onChange:l,placeholder:"Enter title",required:!0})]})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{className:"my-2",children:[a.jsx(x.Label,{className:"label",children:"Upload Header Image (800x400)"}),a.jsx(mn,{storyForm:n,setStoryForm:r,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"}),a.jsxs(B,{className:"d-flex justify-content-between mt-2",children:[a.jsx("p",{className:"subtitle",children:"Supported File: PNG, JPEG, and JPG"}),a.jsx("p",{className:"subtitle",children:"Maximum size: 25MB"})]}),a.jsx(B,{className:"d-flex justify-content-end",children:p&&(w?null:a.jsxs(se,{className:"my-2",variant:"outline-danger",onClick:I,children:[a.jsx(ye,{className:"button-icon",icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]}))})]})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:y=>l(y,"headerImageSource"),label:"Header Image Sources (Type & Enter)",editingItems:n.headerImageSource,resetKey:s})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsxs(z,{md:12,children:[a.jsx("p",{className:"label mb-2",children:"Body Sections"}),n.body.map((y,A)=>a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(B,{className:"empty-container"}),a.jsxs(x.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(x.Label,{className:"label",children:"Subtitle (Optional)"}),a.jsx(x.Control,{type:"text",className:"fw-bold",value:y.subtitle,onChange:_=>u(A,"subtitle",_.target.value)})]}),a.jsxs(z,{className:"col me-lg-2 me-md-1",children:[a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Image (Optional)"}),a.jsx(UOe,{index:A,section:y,onBodyImageDrop:h,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"}),y.image&&a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{className:"mt-2 mb-1",variant:"outline-danger",onClick:()=>D(A),children:[a.jsx(ye,{icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]})})]}),a.jsxs(x.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(x.Label,{className:"label",children:"Image Source (Optional)"}),a.jsx(x.Control,{placeholder:"e.g. @boracayphotos or /islanders or #trivago or www.trivago.com",type:"text",value:y.image_source,onChange:_=>u(A,"image_source",_.target.value)})]})]}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(x.Group,{className:"mb-5",children:[a.jsx(x.Label,{className:"label",children:"Body"}),a.jsx(rr,{index:A,section:y,handleBodyChange:u})]})}),n.body.length>1&&a.jsx(B,{className:"mb-4 d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-danger",type:"button",onClick:()=>g(A),className:"mt-3 w-full",children:[a.jsx(ye,{icon:Dt,size:"xs",fixedWidth:!0})," Delete Section"]})})]},A)),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-success",type:"button",onClick:f,className:"mb-3",children:[a.jsx(ye,{icon:nr,size:"xs",fixedWidth:!0})," Add Section"]})})]})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:y=>l(y,"references"),label:"References (Type & Enter)",caption:"postings or website links to redirect users",editingItems:n.references,resetKey:s})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:y=>l(y,"tags"),label:"Tags (Type & Enter)",editingItems:n.tags,resetKey:s,caption:"imporant tags for Optimization"})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",onClick:o,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full",onClick:F,children:"Submit Update"})]})]})}const qOe=()=>{const[t,e]=j.useState([]),[n,r]=j.useState(""),[s,i]=j.useState(""),[o,l]=j.useState("asc"),[u,h]=j.useState(0),[f,g]=j.useState(null),p=10;j.useEffect(()=>{E()},[]);const[v,w]=j.useState(!0),E=async()=>{try{const R=(await ur(Ft(ze,"sustainableTourism"))).docs.map(U=>({id:U.id,...U.data()}));e(R)}catch(L){console.error("Error fetching data:",L)}finally{w(!1)}},S=()=>{const L=[...t].sort((R,U)=>o==="asc"?new Date(R.date)-new Date(U.date):new Date(U.date)-new Date(R.date));e(L),l(o==="asc"?"desc":"asc")},C=L=>{g(L)},O=async L=>{window.confirm("Are you sure you want to delete this entry?")&&(await kr(gt(ze,"sustainableTourism",L)),E())},I=t.filter(L=>(s===""||L.category===s)&&(L.title.toLowerCase().includes(n.toLowerCase())||L.classification.toLowerCase().includes(n.toLowerCase())||L.purpose.toLowerCase().includes(n.toLowerCase())||L.date.toLowerCase().includes(n.toLowerCase())||L.name.toLowerCase().includes(n.toLowerCase())||L.email.toLowerCase().includes(n.toLowerCase())||L.social.toLowerCase().includes(n.toLowerCase()))),D=()=>new Date().toISOString().split("T")[0],T=()=>{const L=t.map(({title:P,...K})=>({...K,tags:Array.isArray(K.tags)?K.tags.join(", "):"",origin:Array.isArray(K.origin)?K.origin.join(", "):"",headerImageSource:Array.isArray(K.headerImageSource)?K.headerImageSource.join(", "):"",references:Array.isArray(K.references)?K.references.join(", "):"",socials:Array.isArray(K.socials)?K.socials.join(", "):"",body:Array.isArray(K.body)?K.body.map(G=>JSON.stringify(G)).join("; "):""})),R=yt.json_to_sheet(L),U=yt.book_new();yt.book_append_sheet(U,R,"Data"),Fr(U,`tourism_sustainableTourism_infoguide_${D()}.xlsx`)},F=Math.ceil(I.length/p),y=I.slice(u*p,(u+1)*p),A=({selected:L})=>{h(L)},_=()=>{g(null)};return a.jsxs(B,{children:[a.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Sustainable Tourism"}),a.jsx("p",{children:"List of Sustainable Tourism Practices."}),a.jsxs(V,{className:"mb-4 mt-4",children:[a.jsx(z,{md:4,className:"mb-2 me-2 col",children:a.jsx(x.Control,{type:"text",placeholder:`Search up to over ${t.length} articles`,value:n,onChange:L=>r(L.target.value)})}),a.jsx(z,{md:2,className:"mb-2 me-2 col",children:a.jsxs(x.Select,{value:s,onChange:L=>i(L.target.value),children:[a.jsx("option",{value:"",children:"All Category"}),[...new Set(t.map(L=>L.category))].map((L,R)=>a.jsx("option",{value:L,children:L},R))]})}),a.jsxs(B,{className:"d-flex justify-content-end align-items-center mt-2",children:[a.jsxs(se,{variant:"outline-secondary",className:"me-2",onClick:E,children:[a.jsx(ye,{icon:Pr,size:"xs",fixedWidth:!0})," Refresh List"]}),a.jsxs(se,{variant:"outline-success",onClick:_,children:[a.jsx(ye,{icon:Dr,size:"xs",fixedWidth:!0})," Add New"]})]})]}),v?a.jsx("div",{className:"d-flex justify-content-center align-items-center my-5",children:a.jsx(Cr,{animation:"border",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):y.length===0?a.jsx("div",{className:"text-center my-5",children:a.jsx("h5",{children:"No Data Available"})}):a.jsxs(Rr,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsxs("th",{onClick:S,style:{cursor:"pointer"},children:["Date ",o==="asc"?"":""]}),a.jsx("th",{children:"Classification"}),a.jsx("th",{children:"Title"}),a.jsx("th",{children:"Origin"}),a.jsx("th",{children:"References"}),a.jsx("th",{children:"Socials"})]})}),a.jsx("tbody",{children:y.map(L=>a.jsxs("tr",{children:[a.jsx("td",{children:new Date(L.date).toLocaleDateString()}),a.jsx("td",{children:L.classification}),a.jsx("td",{children:L.title}),a.jsx("td",{children:Array.isArray(L.origin)?L.origin.join(", "):L.origin}),a.jsx("td",{children:Array.isArray(L.references)?L.references.join(", "):L.references}),a.jsx("td",{children:Array.isArray(L.socials)?L.socials.join(", "):L.socials}),a.jsx("td",{children:a.jsxs(B,{className:"d-flex justify-content-center align-items-center",children:[a.jsx(Jt,{placement:"top",overlay:a.jsx(Wt,{children:"Edit"}),children:a.jsx(se,{variant:"outline-secondary",size:"sm",className:"me-2",onClick:()=>C(L),children:a.jsx(ye,{icon:Ir,size:"xs",fixedWidth:!0})})}),a.jsx(Jt,{placement:"top",overlay:a.jsx(Wt,{children:"Delete"}),children:a.jsx(se,{variant:"outline-danger",size:"sm",onClick:()=>O(L.id),children:a.jsx(ye,{icon:Dt,size:"xs",fixedWidth:!0})})})]})})]},L.id))})]}),a.jsxs(B,{className:"d-flex justify-content-between align-items-center mb-4 mt-2",children:[a.jsx(se,{onClick:T,variant:"outline-success",children:"Download Excel"}),a.jsx(Mr,{previousLabel:"",nextLabel:"",pageCount:F,onPageChange:A,containerClassName:"pagination mb-0",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})]}),f?a.jsx(zOe,{editingItem:f,toAddForm:()=>g(null)}):a.jsx(BOe,{})]})};class TT{constructor(){this.id="",this.name="",this.category=[],this.body=[{subtitle:"",body:"",image:null,image_source:""}],this.images=[],this.operatinghours=[],this.accessibility="",this.headerImage=null,this.address={street:"",barangay:"",town:"",region:"",province:"",country:"",lat:"",long:""},this.link="",this.geo="",this.note="",this.howToGetThere="",this.tags=[],this.thingsToDo=[]}toJSON(){return{...this}}}const AK=["Marvels of Malay","Beaches","Parks & Nature Reserves","Museums & Art Galleries","Historical Landmarks","Amusement Parks","Zoos & Wildlife Sanctuaries","Waterfalls","Mountains & Hiking Trails","Caves & Underground Rivers","Religious Sites & Temples","Lakes","Rivers","Cultural Villages","Botanical Gardens","Scenic Viewpoints","Adventure & Theme Parks","Eco-Tourism Sites","Diving & Snorkeling Spots","Hot Springs & Wellness Retreats","Festivals & Events","Cold Springs","Camping and Glamping Area","Food & Culinary Attractions","Living Museum","Experiencial Tour"],$Oe=({index:t,section:e,onBodyImageDrop:n,dropzoneName:r="dropzone-container-small",previewName:s="dropzone-uploaded-image-small"})=>{const{getRootProps:i,getInputProps:o}=Ht({onDrop:u=>n(u,t),accept:"image/png, image/jpeg, image/jpg, video/mp4, video/webm, video/ogg"}),l=e.image?e.image instanceof File?URL.createObjectURL(e.image):e.image:null;return a.jsxs(B,{...i(),className:`${r} text-center w-100 ${l?"border-success":""}`,children:[a.jsx("input",{...o(),accept:"image/*,video/*"}),l?e.image instanceof File&&e.image.type.startsWith("video/")?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:l,type:e.image.type}),"Your browser does not support the video tag."]}):a.jsx("img",{src:l,alt:"Body Image Preview",className:s}):a.jsxs("p",{className:"text-muted",children:["Drag & Drop Image/Video Here or"," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})};function VOe({}){const[t,e]=j.useState(0),[n,r]=j.useState(new TT),s=(E,S)=>{if(Array.isArray(E))r(C=>({...C,[S]:E}));else if(typeof E=="string")r(C=>({...C,[S]:E}));else{const{name:C,value:O}=E.target;r(I=>({...I,[C]:O}))}},i=(E,S,C)=>{r(O=>{const I=[...O.body];return I[E]={...I[E],[S]:C},{...O,body:I}})},o=(E,S)=>{const C=E[0];C&&r(O=>{const I=[...O.body];return I[S]={...I[S],image:C,imageUrl:URL.createObjectURL(C)},{...O,body:I}})},l=()=>{r(E=>({...E,body:[...E.body,{subtitle:"",body:"",image:null,image_source:""}]}))},u=E=>{r(S=>{const C=S.body.filter((O,I)=>I!==E);return{...S,body:C}})},h=(E,S)=>{if(!E){console.warn("handleLocationSelect received null position.");return}r(C=>({...C,address:{...C.address,lat:E.lat||"",long:E.lng||""},link:S||""}))},f=async(E,S)=>{const C=Kt(en,S);return await Qt(C,E),await Zt(C)},g=async E=>{E.preventDefault(),xe.fire({title:"Submitting...",text:"Please wait while we submit your attractions data.",allowOutsideClick:!1,didOpen:()=>{xe.showLoading()}});try{let S=n.headerImage?await f(n.headerImage,`attractions/${Date.now()}_${n.headerImage.name}`):null;const C=await Promise.all(n.images.map(async F=>F?await f(F,`attractions/${Date.now()}_${F.name}`):"")),O=await Promise.all(n.body.map(async(F,y)=>F.image?await f(F.image,`attractions/${Date.now()}_${F.image.name}`):"")),I=new TT;I.id="",I.name=n.name,I.category=n.category||[],I.body=n.body.map((F,y)=>({subtitle:F.subtitle||"",body:F.body||"",image:O[y]||"",image_source:F.image_source||""})),I.images=C,I.operatinghours=n.operatinghours||[],I.accessibility=n.accessibility||[],I.headerImage=S,I.address={...n.address},I.link=n.link,I.geo=n.geo,I.note=n.note,I.howToGetThere=n.howToGetThere,I.tags=n.tags,I.thingsToDo=n.thingsToDo;const D=await Or(Ft(ze,"attractions"),I.toJSON()),T=gt(ze,"attractions",D.id);await rn(T,{id:D.id}),xe.fire({title:"Attractions Submitted",text:"Your data has been submitted successfully!",icon:"success"}),v(),p()}catch(S){console.error("Error submitting data:",S),xe.fire({title:"Error",text:"There was an issue submitting your data. Please try again.",icon:"error"})}},p=()=>{r(E=>({...E,headerImage:null}))},v=()=>{r({id:"",name:"",category:[],body:[{subtitle:"",body:"",image:null,image_source:""}],images:[],operatinghours:[],accessibility:[],headerImage:null,address:{street:"",barangay:"",town:"",region:"",province:"",country:"",lat:"",long:""},link:"",geo:"",note:"",thingsToDo:[],tags:[],howToGetThere:""}),e(E=>E+1)},w=E=>{r(S=>{const C=[...S.body];return C[E]?(C[E]={...C[E],image:null},{...S,body:C}):S})};return a.jsxs(x,{className:"custom-form body-container",onSubmit:g,onKeyDown:E=>E.key==="Enter"&&E.preventDefault(),children:[a.jsx(V,{children:a.jsx(z,{md:6,children:a.jsx(qn,{onChange:E=>s(E,"category"),options:AK,resetKey:t,editingItems:n.category,label:"Categories"})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Attraction Name"}),a.jsx(x.Control,{type:"text",placeholder:"Enter attraction name",name:"name",value:n.name,onChange:s,required:!0})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Cover Photo"}),a.jsx(mn,{storyForm:n,setStoryForm:r,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsxs(z,{md:12,children:[a.jsx("p",{className:"label mb-2",children:"Body Sections"}),n.body.map((E,S)=>a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(B,{className:"empty-container"}),a.jsxs(x.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(x.Label,{className:"label",children:"Subtitle (Optional)"}),a.jsx(x.Control,{type:"text",className:"fw-bold",value:E.subtitle,onChange:C=>i(S,"subtitle",C.target.value)})]}),a.jsxs(z,{className:"col me-lg-2 me-md-1",children:[a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Image (Optional)"}),a.jsx($Oe,{index:S,section:E,onBodyImageDrop:o,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"}),E.image&&a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{className:"mt-2 mb-1",variant:"outline-danger",onClick:()=>w(S),children:[a.jsx(ye,{icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]})})]}),a.jsxs(x.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(x.Label,{className:"label",children:"Image Source (Optional)"}),a.jsx(x.Control,{placeholder:"e.g. @boracayphotos or /islanders or #trivago or www.trivago.com",type:"text",value:E.image_source,onChange:C=>i(S,"image_source",C.target.value)})]})]}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(x.Group,{className:"mb-5",children:[a.jsx(x.Label,{className:"label",children:"Body"}),a.jsx(rr,{index:S,section:E,handleBodyChange:i})]})}),n.body.length>1&&a.jsx(B,{className:"mb-4 d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-danger",type:"button",onClick:()=>u(S),className:"mt-3 w-full",children:[a.jsx(ye,{icon:Dt,size:"xs",fixedWidth:!0})," Delete Section"]})})]},S)),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-success",type:"button",onClick:l,className:"mb-3",children:[a.jsx(ye,{icon:nr,size:"xs",fixedWidth:!0})," Add Section"]})})]})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Si,{groupData:n,setGroupData:r,resetKey:t})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Ci,{onLocationSelect:h,name:n.name||"",resetKey:t})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"link",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Google Map Link"}),a.jsx(x.Control,{type:"text",placeholder:"Select Location First",name:"link",value:n.link,onChange:s,readOnly:!0})]})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"lat",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Lattitude"}),a.jsx(x.Control,{type:"text",placeholder:"Select Location First",name:"lat",value:n.address.lat,onChange:s,readOnly:!0})]})}),a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"long",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Longitude"}),a.jsx(x.Control,{type:"text",placeholder:"Select Location First",name:"long",value:n.address.long,onChange:s,readOnly:!0})]})})]}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"accessibility",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Geographical Location"}),a.jsxs(x.Select,{name:"geo",value:n.geo,onChange:s,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Geo Location"}),Ni.map((E,S)=>a.jsx("option",{value:E,children:E},S))]})]})}),a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"accessibility",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Accessibility"}),a.jsxs(x.Select,{name:"accessibility",value:n.accessibility,onChange:s,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Accessibility"}),Fo.map((E,S)=>a.jsx("option",{value:E,children:E},S))]})]})})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",children:[a.jsx(x.Label,{className:"label me-2",children:"Promotional & Marketing Photos"}),a.jsx(Rs,{dataForm:n,setDataForm:r,caption:"Drag & drop images or click to select (Max: 10)",dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:E=>s(E,"operatinghours"),label:"Operating Hours (Type & Enter)",editingItems:n.operatinghours,resetKey:t,caption:"format: hh:mm A  | e.g. 08:00 AM | n/a for not applicable"})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsx(Ve,{onChange:E=>s(E,"tags"),label:"Tags (Type & Enter)",editingItems:n.tags,resetKey:t})}),a.jsx(z,{md:6,children:a.jsx(Ve,{onChange:E=>s(E,"thingsToDo"),label:"Things To Do (Type & Enter)",editingItems:n.thingsToDo,resetKey:t})})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"howToGetThere",className:"mb-5 mt-2",children:[a.jsx(x.Label,{className:"label",children:"How To Get There?"}),a.jsx(On,{theme:"snow",value:n.howToGetThere||"",onChange:E=>s(E,"howToGetThere"),required:!0,style:{height:"300px"}})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"note",className:"mb-5 mt-2",children:[a.jsx(x.Label,{className:"label",children:"Notes, Reminders, Remarks, and Other Details"}),a.jsx(On,{theme:"snow",value:n.note||"",onChange:E=>s(E,"note"),required:!0,style:{height:"300px"}})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:v,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:g,children:"Submit Attraction"})]})}),a.jsx(B,{className:"empty-container"})]})}const HOe=({index:t,section:e,onBodyImageDrop:n,dropzoneName:r="dropzone-container-small",previewName:s="dropzone-uploaded-image-small"})=>{const{getRootProps:i,getInputProps:o}=Ht({onDrop:v=>n(v,t),accept:"image/png, image/jpeg, image/jpg, video/mp4, video/webm, video/ogg"}),l=e.image instanceof File,u=typeof e.image=="string"&&/\.(mp4|webm|ogg)(\?.*)?$/i.test(e.image),h=typeof e.image=="string"&&!u,f=l?URL.createObjectURL(e.image):null,g=h?e.image:null,p=u?e.image:null;return a.jsxs(B,{...i(),className:`${r} text-center w-100 ${f||g||p?"border-success":""}`,children:[a.jsx("input",{...o(),accept:"image/*,video/*"}),f?e.image.type.startsWith("video/")?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:f,type:e.image.type}),"Your browser does not support the video tag."]}):a.jsx("img",{src:f,alt:"Uploaded File Preview",className:s}):p?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:p,type:"video/mp4"}),"Your browser does not support the video tag."]}):g?a.jsx("img",{src:g,alt:"Image URL Preview",className:s}):a.jsxs("p",{className:"text-muted",children:["Drag & Drop Image/Video Here or"," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})};function GOe({editingItem:t,toAddForm:e}){const[n,r]=j.useState(0),[s,i]=j.useState(new TT),o=(y,A)=>{if(Array.isArray(y))i(_=>({..._,[A]:y}));else if(typeof y=="string")i(_=>({..._,[A]:y}));else{const{name:_,value:L}=y.target;i(R=>({...R,[_]:L}))}};j.useEffect(()=>{t&&i(y=>({...y,id:t.id||"",name:t.name||"",category:t.category||[],body:t.body.map((A,_)=>({subtitle:A.subtitle||"",body:A.body||"",image:A.image||"",image_source:A.image_source||""})),images:t.images||[],operatinghours:t.operatinghours||[],accessibility:t.accessibility||"",headerImage:t.headerImage||"",address:{street:t.address.street||"",barangay:t.address.barangay||"",town:t.address.town||"",region:t.address.region||"",province:t.address.province||"",country:t.address.country||"Philippines",lat:t.address.lat||"",long:t.address.long||""},link:t.link||"",geo:t.geo||"",note:t.note||"",howToGetThere:t.howToGetThere||"",thingsToDo:t.thingsToDo||[],tags:t.tags||[]}))},[t]);const l=(y,A,_)=>{i(L=>{const R=[...L.body];return R[y]={...R[y],[A]:_},{...L,body:R}})},u=(y,A)=>{const _=y[0];_&&i(L=>{const R=[...L.body];return R[A]={...R[A],image:_,imageUrl:URL.createObjectURL(_)},{...L,body:R}})},h=()=>{i(y=>({...y,body:[...y.body,{subtitle:"",body:"",image:null,image_source:""}]}))},f=y=>{i(A=>{const _=A.body.filter((L,R)=>R!==y);return{...A,body:_}})},g=(y,A)=>{if(!y){console.warn("handleLocationSelect received null position.");return}i(_=>({..._,address:{..._.address,lat:y.lat||"",long:y.lng||""},link:A||""}))},p=async(y,A)=>{const _=Kt(en,A);return await Qt(_,y),await Zt(_)},v=async y=>{y.preventDefault(),xe.fire({title:"Submitting...",text:"Please wait while we updating your attractions data.",allowOutsideClick:!1,didOpen:()=>{xe.showLoading()}});try{let A=s.headerImage;s.headerImage instanceof File&&(t&&t.headerImage&&await Vt(t.headerImage),A=await p(s.headerImage,`attractions/${Date.now()}_${s.headerImage.name}`));const _=await Promise.all(s.images.map(async(P,K)=>P instanceof File?(t&&t.images&&t.images[K]&&(await Vt(t.images[K]),console.log("deleted images")),await p(P,`attractions/${Date.now()}_${P.name}`)):P)),L=await Promise.all(s.body.map(async(P,K)=>P.image instanceof File?(t&&t.body&&t.body[K]&&t.body[K].image&&await Vt(t.body[K].image),await p(P.image,`attractions/${Date.now()}_${P.image.name}`)):P.image)),R={id:t?t.id:"",name:s.name,category:s.category||[],body:s.body.map((P,K)=>({subtitle:P.subtitle,body:P.body,image:L[K]||"",image_source:P.image_source})),images:_,operatinghours:s.operatinghours||[],accessibility:s.accessibility||[],headerImage:A,address:{...s.address},link:s.link,geo:s.geo,note:s.note,howToGetThere:s.howToGetThere,tags:s.tags,thingsToDo:s.thingsToDo},U=gt(ze,"attractions",s.id);await rn(U,R),xe.fire({title:"Attraction Posted",text:"Your Attraction has been edited successfully!",icon:"success"}),w(),e()}catch(A){console.error("Error submitting data:",A),xe.fire({title:"Error",text:"There was an issue submitting your data. Please try again.",icon:"error"})}},w=()=>{i(y=>({...y,headerImage:null}))},E=()=>{i({id:"",name:"",category:[],body:[{subtitle:"",body:"",image:null,image_source:""}],images:[],operatinghours:[],accessibility:[],headerImage:null,address:{street:"",barangay:"",town:"",region:"",province:"",country:"",lat:"",long:""},link:"",geo:"",note:"",thingsToDo:[],tags:[],howToGetThere:""}),r(y=>y+1)},S=y=>{i(A=>{const _=[...A.body];return _[y]?(_[y]={..._[y],image:null},{...A,body:_}):A})},[C,O]=j.useState(!1),I=()=>{O(!C)},[D,T]=j.useState(!1),F=()=>{T(!D)};return a.jsxs(x,{className:"custom-form body-container",onSubmit:v,onKeyDown:y=>y.key==="Enter"&&y.preventDefault(),children:[a.jsx(V,{children:a.jsx(z,{md:6,children:a.jsx(qn,{onChange:y=>o(y,"category"),options:AK,resetKey:n,editingItems:s.category,label:"Categories"})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Attraction Name"}),a.jsx(x.Control,{type:"text",placeholder:"Enter attraction name",name:"name",value:s.name,onChange:o,required:!0})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Cover Photo"}),a.jsx(mn,{storyForm:s,setStoryForm:i,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsxs(z,{md:12,children:[a.jsx("p",{className:"label mb-2",children:"Body Sections"}),s.body.map((y,A)=>a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(B,{className:"empty-container"}),a.jsxs(x.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(x.Label,{className:"label",children:"Subtitle (Optional)"}),a.jsx(x.Control,{type:"text",className:"fw-bold",value:y.subtitle,onChange:_=>l(A,"subtitle",_.target.value)})]}),a.jsxs(z,{className:"col me-lg-2 me-md-1",children:[a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Image (Optional)"}),a.jsx(HOe,{index:A,section:y,onBodyImageDrop:u,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"}),y.image&&a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{className:"mt-2 mb-1",variant:"outline-danger",onClick:()=>S(A),children:[a.jsx(ye,{icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]})})]}),a.jsxs(x.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(x.Label,{className:"label",children:"Image Source (Optional)"}),a.jsx(x.Control,{placeholder:"e.g. @boracayphotos or /islanders or #trivago or www.trivago.com",type:"text",value:y.image_source,onChange:_=>l(A,"image_source",_.target.value)})]})]}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(x.Group,{className:"mb-5",children:[a.jsx(x.Label,{className:"label",children:"Body"}),a.jsx(rr,{index:A,section:y,handleBodyChange:l})]})}),s.body.length>1&&a.jsx(B,{className:"mb-4 d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-danger",type:"button",onClick:()=>f(A),className:"mt-3 w-full",children:[a.jsx(ye,{icon:Dt,size:"xs",fixedWidth:!0})," Delete Section"]})})]},A)),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-success",type:"button",onClick:h,className:"mb-3",children:[a.jsx(ye,{icon:nr,size:"xs",fixedWidth:!0})," Add Section"]})})]})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:C?a.jsx(Si,{groupData:s,setGroupData:i,resetKey:n}):a.jsxs(x.Group,{className:"mt-3 mb-3",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[a.jsx(x.Label,{className:"label mb-2",children:"Local Business Address"}),a.jsx(se,{variant:"outline-danger",className:"mb-2",onClick:I,children:C?"Cancel":"Edit Address"})]}),a.jsxs(a.Fragment,{children:[a.jsx(x.Control,{className:"mb-3",type:"text",name:"address.country",placeholder:"Country",value:s.address.country,readOnly:!0}),a.jsx(x.Control,{className:"my-3",type:"text",name:"address.region",placeholder:"Region",value:s.address.region,readOnly:!0}),a.jsx(x.Control,{className:"my-3",type:"text",name:"address.province",placeholder:"Province",value:s.address.province,readOnly:!0}),a.jsx(x.Control,{className:"my-3",type:"text",name:"address.city",placeholder:"City/Municipality/Town",value:s.address.town,readOnly:!0}),a.jsx(x.Control,{className:"my-3",type:"text",name:"address.barangay",placeholder:"Barangay",value:s.address.barangay,readOnly:!0}),a.jsx(x.Control,{className:"my-3",type:"text",name:"address.street",placeholder:"Street Name / Zone (Optional)",value:s.address.street,readOnly:!0})]})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:D?a.jsx(Ci,{onLocationSelect:g,name:s.name||"",resetKey:n,editingItems:s.address}):a.jsxs(x.Group,{className:"mt-3 mb-3",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[a.jsx(x.Label,{className:"label mb-2",children:"Local Business Address"}),a.jsx(se,{variant:"outline-danger",className:"mb-2",onClick:F,children:D?"Cancel":"Edit Map Location"})]}),a.jsx(jf,{latitude:s.address.lat,longitude:s.address.long})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"link",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Google Map Link"}),a.jsx(x.Control,{type:"text",placeholder:"Select Location First",name:"link",value:s.link,onChange:o,readOnly:!0})]})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"lat",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Lattitude"}),a.jsx(x.Control,{type:"text",placeholder:"Select Location First",name:"lat",value:s.address.lat,onChange:o,readOnly:!0})]})}),a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"long",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Longitude"}),a.jsx(x.Control,{type:"text",placeholder:"Select Location First",name:"long",value:s.address.long,onChange:o,readOnly:!0})]})})]}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"accessibility",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Geographical Location"}),a.jsxs(x.Select,{name:"geo",value:s.geo,onChange:o,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Geo Location"}),Ni.map((y,A)=>a.jsx("option",{value:y,children:y},A))]})]})}),a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"accessibility",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Accessibility"}),a.jsxs(x.Select,{name:"accessibility",value:s.accessibility,onChange:o,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Accessibility"}),Fo.map((y,A)=>a.jsx("option",{value:y,children:y},A))]})]})})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",children:[a.jsx(x.Label,{className:"label me-2",children:"Promotional & Marketing Photos"}),a.jsx(Rs,{dataForm:s,setDataForm:i,caption:"Drag & drop images or click to select (Max: 10)",dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:y=>o(y,"operatinghours"),label:"Operating Hours (Type & Enter)",editingItems:s.operatinghours,resetKey:n,caption:"format: hh:mm A  | e.g. 08:00 AM"})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsx(Ve,{onChange:y=>o(y,"tags"),label:"Tags (Type & Enter)",editingItems:s.tags,resetKey:n})}),a.jsx(z,{md:6,children:a.jsx(Ve,{onChange:y=>o(y,"thingsToDo"),label:"Things To Do (Type & Enter)",editingItems:s.thingsToDo,resetKey:n})})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"howToGetThere",className:"mb-5 mt-2",children:[a.jsx(x.Label,{className:"label",children:"How To Get There?"}),a.jsx(On,{theme:"snow",value:s.howToGetThere||"",onChange:y=>o(y,"howToGetThere"),required:!0,style:{height:"300px"}})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"note",className:"mb-5 mt-2",children:[a.jsx(x.Label,{className:"label",children:"Notes, Reminders, Remarks, and Other Details"}),a.jsx(On,{theme:"snow",value:s.note||"",onChange:y=>o(y,"note"),required:!0,style:{height:"300px"}})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:E,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:v,children:"Submit Update"})]})}),a.jsx(B,{className:"empty-container"})]})}const WOe=()=>{const[t,e]=j.useState([]),[n,r]=j.useState(""),[s,i]=j.useState(""),[o,l]=j.useState(""),[u,h]=j.useState(""),[f,g]=j.useState(""),[p,v]=j.useState("asc"),[w,E]=j.useState(0),[S,C]=j.useState(null),O=10;j.useEffect(()=>{T()},[]);const[I,D]=j.useState(!0),T=async()=>{try{const re=(await ur(Ft(ze,"attractions"))).docs.map(Z=>({id:Z.id,...Z.data()}));e(re)}catch(G){console.error("Error fetching data:",G)}finally{D(!1)}},F=G=>{C(G)},y=async G=>{xe.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then(async re=>{re.isConfirmed&&(await kr(gt(ze,"attractions",G)),T(),xe.fire("Deleted!","Your entry has been deleted.","success"))})},A=t.filter(G=>{const re=s===""||G.category.includes(s),Z=o===""||G.geo===o,me=u===""||G.address.barangay===u,ie=n.toLowerCase(),W=G.name.toLowerCase().includes(ie)||G.established.toLowerCase().includes(ie)||G.category.some(ve=>ve.toLowerCase().includes(ie))||G.geo.toLowerCase().includes(ie)||G.address.barangay.toLowerCase().includes(ie)||G.address.street.toLowerCase().includes(ie);return re&&Z&&me&&W}),_=()=>new Date().toISOString().split("T")[0],L=()=>{const G=t.map(({name:me,category:ie,...W})=>({...W,body:Array.isArray(W.body)?W.body.join(", "):"",images:Array.isArray(W.images)?W.images.join(", "):"",operatinghours:Array.isArray(W.operatinghours)?W.operatinghours.join(", "):"",address:W.address?JSON.stringify(W.address):""})),re=yt.json_to_sheet(G),Z=yt.book_new();yt.book_append_sheet(Z,re,"Data"),Fr(Z,`tourism_attractions_infoguide_${_()}.xlsx`)},R=Math.ceil(A.length/O),U=A.slice(w*O,(w+1)*O),P=({selected:G})=>{E(G)},K=()=>{C(null)};return a.jsxs(B,{children:[a.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Attractions"}),a.jsx("p",{children:"List of Attractions."}),a.jsxs(V,{children:[a.jsx(z,{md:6,className:"mb-1 me-2 col",children:a.jsx(x.Control,{type:"text",placeholder:`Search up to over ${t.length} accommodations`,value:n,onChange:G=>r(G.target.value)})}),a.jsx(z,{md:2,className:"mb-1 me-2 col",children:a.jsxs(x.Select,{value:s,onChange:G=>i(G.target.value),children:[a.jsx("option",{value:"",children:"All Categories"}),[...new Set(t.flatMap(G=>G.category))].map((G,re)=>a.jsx("option",{value:G,children:G},re))]})})]}),a.jsxs(V,{children:[a.jsx(z,{md:2,className:"mb-1 me-2 col",children:a.jsxs(x.Select,{value:o,onChange:G=>l(G.target.value),children:[a.jsx("option",{value:"",children:"All Geographical Location"}),[...new Set(t.map(G=>G.geo))].map((G,re)=>a.jsx("option",{value:G,children:G},re))]})}),a.jsx(z,{md:2,className:"mb-1 me-2 col",children:a.jsxs(x.Select,{value:u,onChange:G=>h(G.target.value),children:[a.jsx("option",{value:"",children:"All Barangays"}),[...new Set(t.map(G=>G.address.barangay))].map((G,re)=>a.jsx("option",{value:G,children:G},re))]})}),a.jsxs(B,{className:"d-flex justify-content-end align-items-center mt-2 mb-4",children:[a.jsxs(se,{variant:"outline-secondary",className:"me-2",onClick:T,children:[a.jsx(ye,{icon:Pr,size:"xs",fixedWidth:!0})," Refresh List"]}),a.jsxs(se,{variant:"outline-success",onClick:K,children:[a.jsx(ye,{icon:Dr,size:"xs",fixedWidth:!0})," Add New"]})]})]}),I?a.jsx("div",{className:"d-flex justify-content-center align-items-center my-5",children:a.jsx(Cr,{animation:"border",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):U.length===0?a.jsx("div",{className:"text-center my-5",children:a.jsx("h5",{children:"No Data Available"})}):a.jsxs(Rr,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Business Name"}),a.jsx("th",{children:"Category"}),a.jsx("th",{children:"Geo Location"}),a.jsx("th",{children:"Barangay"}),a.jsx("th",{children:"Street"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:U.map(G=>a.jsxs("tr",{children:[a.jsx("td",{children:G.name}),a.jsx("td",{children:Array.isArray(G.category)?G.category.join(", "):G.category}),a.jsx("td",{children:G.geo}),a.jsx("td",{children:G.address.barangay}),a.jsx("td",{children:G.address.street}),a.jsx("td",{children:a.jsxs(B,{className:"d-flex justify-content-center align-items-center",children:[a.jsx(Jt,{placement:"top",overlay:a.jsx(Wt,{children:"Edit"}),children:a.jsx(se,{variant:"outline-secondary",size:"sm",className:"me-2",onClick:()=>F(G),children:a.jsx(ye,{icon:Ir,size:"xs",fixedWidth:!0})})}),a.jsx(Jt,{placement:"top",overlay:a.jsx(Wt,{children:"Delete"}),children:a.jsx(se,{variant:"outline-danger",size:"sm",onClick:()=>y(G.id),children:a.jsx(ye,{icon:Dt,size:"xs",fixedWidth:!0})})})]})})]},G.id))})]}),a.jsxs(B,{className:"d-flex justify-content-between align-items-center mb-4 mt-2",children:[a.jsx(se,{onClick:L,variant:"outline-success",children:"Download Excel"}),a.jsx(Mr,{previousLabel:"",nextLabel:"",pageCount:R,onPageChange:P,containerClassName:"pagination mb-0",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})]}),a.jsx(B,{className:"empty-container"}),S?a.jsx(GOe,{editingItem:S,toAddForm:()=>C(null)}):a.jsx(VOe,{})]})},KOe=({index:t,section:e,onBodyImageDrop:n,dropzoneName:r="dropzone-container-small",previewName:s="dropzone-uploaded-image-small"})=>{const{getRootProps:i,getInputProps:o}=Ht({onDrop:u=>n(u,t),accept:"image/png, image/jpeg, image/jpg, video/mp4, video/webm, video/ogg"}),l=e.image?e.image instanceof File?URL.createObjectURL(e.image):e.image:null;return a.jsxs(B,{...i(),className:`${r} text-center w-100 ${l?"border-success":""}`,children:[a.jsx("input",{...o(),accept:"image/*,video/*"}),l?e.image instanceof File&&e.image.type.startsWith("video/")?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:l,type:e.image.type}),"Your browser does not support the video tag."]}):a.jsx("img",{src:l,alt:"Body Image Preview",className:s}):a.jsxs("p",{className:"text-muted",children:["Drag & Drop Image/Video Here or"," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})};function YOe({}){const[t,e]=j.useState(0),[n,r]=j.useState(new IN),[s,i]=j.useState(""),[o,l]=j.useState(""),u=(I,D)=>{if(Array.isArray(I))r(T=>({...T,[D]:I}));else if(typeof I=="string")r(T=>({...T,[D]:I}));else{const{name:T,value:F}=I.target;r(y=>({...y,[T]:F}))}},h=(I,D,T)=>{r(F=>{const y=[...F.body];return y[I]={...y[I],[D]:T},{...F,body:y}})},f=(I,D)=>{const T=I[0];T&&r(F=>{const y=[...F.body];return y[D]={...y[D],image:T,imageUrl:URL.createObjectURL(T)},{...F,body:y}})},g=()=>{r(I=>({...I,body:[...I.body,{subtitle:"",body:"",image:null,image_source:""}]}))},p=I=>{r(D=>{const T=D.body.filter((F,y)=>y!==I);return{...D,body:T}})},v=(I,D)=>{if(!I){console.warn("handleLocationSelect received null position.");return}r(T=>({...T,address:{...T.address,lat:I.lat||"",long:I.lng||""},link:D||""}))},w=async(I,D)=>{const T=Kt(en,D);return await Qt(T,I),await Zt(T)},E=async I=>{I.preventDefault(),xe.fire({title:"Submitting...",text:"Please wait while we submit your activities data.",allowOutsideClick:!1,didOpen:()=>{xe.showLoading()}});try{let D=n.headerImage?await w(n.headerImage,`activities/${Date.now()}_${n.headerImage.name}`):null;const T=await Promise.all(n.images.map(async L=>L?await w(L,`activities/${Date.now()}_${L.name}`):"")),F=await Promise.all(n.body.map(async(L,R)=>L.image?await w(L.image,`activities/${Date.now()}_${L.image.name}`):"")),y=new IN;y.id="",y.name=n.name,y.category=n.category||s,y.subcategory=n.subcategory||o,y.body=n.body.map((L,R)=>({subtitle:L.subtitle||"",body:L.body||"",image:F[R]||"",image_source:L.image_source||""})),y.images=T,y.operatinghours=n.operatinghours||[],y.accessibility=n.accessibility||[],y.headerImage=D,y.address={...n.address},y.link=n.link,y.geo=n.geo,y.note=n.note,y.tags=n.tags,y.slogan=n.slogan,y.lowest=n.lowest||[],y.maxPax=n.maxPax,y.serviceProviders=n.serviceProviders;const A=await Or(Ft(ze,"activities"),y.toJSON()),_=gt(ze,"activities",A.id);await rn(_,{id:A.id}),xe.fire({title:"Activities Submitted",text:"Your data has been submitted successfully!",icon:"success"}),C(),S()}catch(D){console.error("Error submitting data:",D),xe.fire({title:"Error",text:"There was an issue submitting your data. Please try again.",icon:"error"})}},S=()=>{r(I=>({...I,headerImage:null}))},C=()=>{r({id:"",name:"",category:"",body:[{subtitle:"",body:"",image:null,image_source:""}],images:[],operatinghours:[],accessibility:[],headerImage:null,address:{street:"",barangay:"",town:"",region:"",province:"",country:"",lat:"",long:""},link:"",geo:"",note:"",tags:[],serviceProviders:[],lowest:[],maxPax:"",subcategory:"",slogan:""}),e(I=>I+1),i("")},O=I=>{r(D=>{const T=[...D.body];return T[I]?(T[I]={...T[I],image:null},{...D,body:T}):D})};return a.jsxs(x,{className:"custom-form body-container",onSubmit:E,onKeyDown:I=>I.key==="Enter"&&I.preventDefault(),children:[a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"category",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Category"}),a.jsxs(x.Select,{name:"category",value:n.category,onChange:I=>{const D=I.target.value;r(T=>({...T,category:D,subcategory:""}))},children:[a.jsx("option",{value:"",disabled:!0,children:"Select Category"}),k3.map((I,D)=>a.jsx("option",{value:I,children:I},D))]})]})}),a.jsx(z,{md:6,children:n.category&&PN[n.category]&&a.jsxs(x.Group,{controlId:"formSubcategory",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Subcategory"}),a.jsxs(x.Select,{name:"subcategory",value:n.subcategory||"",onChange:I=>{r(D=>({...D,subcategory:I.target.value}))},children:[a.jsx("option",{value:"",children:"Select Subcategory"}),PN[n.category].map((I,D)=>a.jsx("option",{value:I,children:I},D))]})]})})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Cover Photo"}),a.jsx(mn,{storyForm:n,setStoryForm:r,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Activity Name"}),a.jsx(x.Control,{type:"text",placeholder:"Enter activity name",name:"name",value:n.name,onChange:u,required:!0})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"slogan",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Catchphrase"}),a.jsx(x.Control,{type:"text",placeholder:"Enter catchy phrases",name:"slogan",value:n.slogan,onChange:u,required:!0})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsxs(z,{md:12,children:[a.jsx("p",{className:"label mb-2",children:"Body Sections"}),n.body.map((I,D)=>a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(B,{className:"empty-container"}),a.jsxs(x.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(x.Label,{className:"label",children:"Subtitle (Optional)"}),a.jsx(x.Control,{type:"text",className:"fw-bold",value:I.subtitle,onChange:T=>h(D,"subtitle",T.target.value)})]}),a.jsxs(z,{className:"col me-lg-2 me-md-1",children:[a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Image (Optional)"}),a.jsx(KOe,{index:D,section:I,onBodyImageDrop:f,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"}),I.image&&a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{className:"mt-2 mb-1",variant:"outline-danger",onClick:()=>O(D),children:[a.jsx(ye,{icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]})})]}),a.jsxs(x.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(x.Label,{className:"label",children:"Image Source (Optional)"}),a.jsx(x.Control,{placeholder:"e.g. @boracayphotos or /islanders or #trivago or www.trivago.com",type:"text",value:I.image_source,onChange:T=>h(D,"image_source",T.target.value)})]})]}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(x.Group,{className:"mb-5",children:[a.jsx(x.Label,{className:"label",children:"Body"}),a.jsx(rr,{index:D,section:I,handleBodyChange:h})]})}),n.body.length>1&&a.jsx(B,{className:"mb-4 d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-danger",type:"button",onClick:()=>p(D),className:"mt-3 w-full",children:[a.jsx(ye,{icon:Dt,size:"xs",fixedWidth:!0})," Delete Section"]})})]},D)),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-success",type:"button",onClick:g,className:"mb-3",children:[a.jsx(ye,{icon:nr,size:"xs",fixedWidth:!0})," Add Section"]})})]})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Si,{groupData:n,setGroupData:r,resetKey:t})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Ci,{onLocationSelect:v,name:n.name||"",resetKey:t})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"link",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Google Map Link"}),a.jsx(x.Control,{type:"text",placeholder:"Select Location First",name:"link",value:n.link,onChange:u,readOnly:!0})]})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"lat",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Lattitude"}),a.jsx(x.Control,{type:"text",placeholder:"Select Location First",name:"lat",value:n.address.lat,onChange:u,readOnly:!0})]})}),a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"long",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Longitude"}),a.jsx(x.Control,{type:"text",placeholder:"Select Location First",name:"long",value:n.address.long,onChange:u,readOnly:!0})]})})]}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"accessibility",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Geographical Location"}),a.jsxs(x.Select,{name:"geo",value:n.geo,onChange:u,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Geo Location"}),Ni.map((I,D)=>a.jsx("option",{value:I,children:I},D))]})]})}),a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"accessibility",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Accessibility"}),a.jsxs(x.Select,{name:"accessibility",value:n.accessibility,onChange:u,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Accessibility"}),Fo.map((I,D)=>a.jsx("option",{value:I,children:I},D))]})]})})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",children:[a.jsx(x.Label,{className:"label me-2",children:"Promotional & Marketing Photos"}),a.jsx(Rs,{dataForm:n,setDataForm:r,caption:"Drag & drop images or click to select (Max: 10)",dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:I=>u(I,"operatinghours"),label:"Operating Hours (Type & Enter)",editingItems:n.operatinghours,resetKey:t,caption:"format: hh:mm A  | e.g. 08:00 AM"})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsx(Ve,{onChange:I=>u(I,"lowest"),label:"Price List (Type & Enter)",editingItems:n.lowest,resetKey:t,caption:"format: 00000.00 per pax | e.g. 12000.00 per hour"})}),a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"maxPax",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Maximum Pax"}),a.jsx(x.Control,{type:"text",placeholder:"Enter Maximum Pax",name:"maxPax",value:n.maxPax,onChange:u,required:!0})]})})]}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsx(Ve,{onChange:I=>u(I,"tags"),label:"Tags (Type & Enter)",editingItems:n.tags,resetKey:t})}),a.jsx(z,{md:6,children:a.jsx(Ve,{onChange:I=>u(I,"serviceProviders"),label:"Service Providers (Type & Enter)",editingItems:n.serviceProviders,resetKey:t})})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"note",className:"mb-5 mt-2",children:[a.jsx(x.Label,{className:"label",children:"Notes, Reminders, Remarks, and Other Details"}),a.jsx(On,{theme:"snow",value:n.note||"",onChange:I=>u(I,"note"),required:!0,style:{height:"300px"}})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:C,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:E,children:"Submit Activity"})]})}),a.jsx(B,{className:"empty-container"})]})}const XOe=({index:t,section:e,onBodyImageDrop:n,dropzoneName:r="dropzone-container-small",previewName:s="dropzone-uploaded-image-small"})=>{const{getRootProps:i,getInputProps:o}=Ht({onDrop:v=>n(v,t),accept:"image/png, image/jpeg, image/jpg, video/mp4, video/webm, video/ogg"}),l=e.image instanceof File,u=typeof e.image=="string"&&/\.(mp4|webm|ogg)(\?.*)?$/i.test(e.image),h=typeof e.image=="string"&&!u,f=l?URL.createObjectURL(e.image):null,g=h?e.image:null,p=u?e.image:null;return a.jsxs(B,{...i(),className:`${r} text-center w-100 ${f||g||p?"border-success":""}`,children:[a.jsx("input",{...o(),accept:"image/*,video/*"}),f?e.image.type.startsWith("video/")?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:f,type:e.image.type}),"Your browser does not support the video tag."]}):a.jsx("img",{src:f,alt:"Uploaded File Preview",className:s}):p?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:p,type:"video/mp4"}),"Your browser does not support the video tag."]}):g?a.jsx("img",{src:g,alt:"Image URL Preview",className:s}):a.jsxs("p",{className:"text-muted",children:["Drag & Drop Image/Video Here or"," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})};function JOe({editingItem:t,toAddForm:e}){var _;const[n,r]=j.useState(0),[s,i]=j.useState(new IN),[o,l]=j.useState(""),u=(L,R)=>{if(Array.isArray(L))i(U=>({...U,[R]:L}));else if(typeof L=="string")i(U=>({...U,[R]:L}));else{const{name:U,value:P}=L.target;i(K=>({...K,[U]:P}))}};j.useEffect(()=>{t&&(i(L=>({...L,id:t.id||"",name:t.name||"",category:t.category||"",body:t.body.map((R,U)=>({subtitle:R.subtitle||"",body:R.body||"",image:R.image||"",image_source:R.image_source||""})),images:t.images||[],operatinghours:t.operatinghours||[],accessibility:t.accessibility||"",headerImage:t.headerImage||"",address:{street:t.address.street||"",barangay:t.address.barangay||"",town:t.address.town||"",region:t.address.region||"",province:t.address.province||"",country:t.address.country||"",lat:t.address.lat||"",long:t.address.long||""},link:t.link||"",geo:t.geo||"",note:t.note||"",tags:t.tags||[],subcategory:t.subcategory||"",slogan:t.slogan||"",maxPax:t.maxPax||"",lowest:t.lowest||[],serviceProviders:t.serviceProviders||[]})),t.category?l(t.category||""):l(category))},[t]);const h=(L,R,U)=>{i(P=>{const K=[...P.body];return K[L]={...K[L],[R]:U},{...P,body:K}})},f=(L,R)=>{const U=L[0];U&&i(P=>{const K=[...P.body];return K[R]={...K[R],image:U,imageUrl:URL.createObjectURL(U)},{...P,body:K}})},g=()=>{i(L=>({...L,body:[...L.body,{subtitle:"",body:"",image:null,image_source:""}]}))},p=L=>{i(R=>{const U=R.body.filter((P,K)=>K!==L);return{...R,body:U}})},v=(L,R)=>{if(!L){console.warn("handleLocationSelect received null position.");return}i(U=>({...U,address:{...U.address,lat:L.lat||"",long:L.lng||""},link:R||""}))},w=async(L,R)=>{const U=Kt(en,R);return await Qt(U,L),await Zt(U)},E=async L=>{L.preventDefault(),xe.fire({title:"Submitting...",text:"Please wait while we updating your activities data.",allowOutsideClick:!1,didOpen:()=>{xe.showLoading()}});try{let R=s.headerImage;s.headerImage instanceof File&&(t&&t.headerImage&&await Vt(t.headerImage),R=await w(s.headerImage,`activities/${Date.now()}_${s.headerImage.name}`));const U=await Promise.all(s.images.map(async(re,Z)=>re instanceof File?(t&&t.images&&t.images[Z]&&await Vt(t.images[Z]),await w(re,`activities/${Date.now()}_${re.name}`)):re)),P=await Promise.all(s.body.map(async(re,Z)=>re.image instanceof File?(t&&t.body&&t.body[Z]&&t.body[Z].image&&await Vt(t.body[Z].image),await w(re.image,`activities/${Date.now()}_${re.image.name}`)):re.image)),K={id:t?t.id:"",name:s.name,category:s.category||o,body:s.body.map((re,Z)=>({subtitle:re.subtitle,body:re.body,image:P[Z]||"",image_source:re.image_source})),images:U,operatinghours:s.operatinghours||[],accessibility:s.accessibility||[],headerImage:R,address:{...s.address},link:s.link,geo:s.geo,note:s.note,tags:s.tags},G=gt(ze,"activities",s.id);await rn(G,K),xe.fire({title:"Activity Posted",text:"Your Activity has been edited successfully!",icon:"success"}),S(),e()}catch(R){console.error("Error submitting data:",R),xe.fire({title:"Error",text:"There was an issue submitting your data. Please try again.",icon:"error"})}},S=()=>{i(L=>({...L,headerImage:null}))},C=()=>{i({id:"",name:"",category:"",body:[{subtitle:"",body:"",image:null,image_source:""}],images:[],operatinghours:[],accessibility:[],headerImage:null,address:{street:"",barangay:"",town:"",region:"",province:"",country:"",lat:"",long:""},link:"",geo:"",note:"",tags:[],serviceProviders:[],lowest:[],maxPax:"",subcategory:"",slogan:""}),r(L=>L+1),l("")},O=L=>{i(R=>{const U=[...R.body];return U[L]?(U[L]={...U[L],image:null},{...R,body:U}):R})},[I,D]=j.useState(!1),T=()=>{D(!I)},[F,y]=j.useState(!1),A=()=>{y(!F)};return a.jsxs(x,{className:"custom-form body-container",onSubmit:E,onKeyDown:L=>L.key==="Enter"&&L.preventDefault(),children:[a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"category",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Category"}),a.jsxs(x.Select,{name:"category",value:s.category,onChange:u,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Category"}),k3.map((L,R)=>a.jsx("option",{value:L,children:L},R))]})]})}),a.jsxs(z,{md:6,children:[a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Select Category"}),a.jsxs(x.Control,{as:"select",name:"purpose",value:s.subcategory,onChange:u,required:!0,disabled:!s.category,placeholder:s.category?"Select Category":"Select Category First",children:[a.jsx("option",{value:"",children:s.category?"Select Purpose":"Select Classification First"}),s.category&&((_=PN[s.category])==null?void 0:_.map(L=>a.jsx("option",{value:L,children:L},L)))]})]}),"                            "]})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Cover Photo"}),a.jsx(mn,{storyForm:s,setStoryForm:i,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Activity Name"}),a.jsx(x.Control,{type:"text",placeholder:"Enter activity name",name:"name",value:s.name,onChange:u,required:!0})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"slogan",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Catchphrase"}),a.jsx(x.Control,{type:"text",placeholder:"Enter catchy phrases",name:"slogan",value:s.slogan,onChange:u,required:!0})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsxs(z,{md:12,children:[a.jsx("p",{className:"label mb-2",children:"Body Sections"}),s.body.map((L,R)=>a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(B,{className:"empty-container"}),a.jsxs(x.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(x.Label,{className:"label",children:"Subtitle (Optional)"}),a.jsx(x.Control,{type:"text",className:"fw-bold",value:L.subtitle,onChange:U=>h(R,"subtitle",U.target.value)})]}),a.jsxs(z,{className:"col me-lg-2 me-md-1",children:[a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Image (Optional)"}),a.jsx(XOe,{index:R,section:L,onBodyImageDrop:f,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"}),L.image&&a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{className:"mt-2 mb-1",variant:"outline-danger",onClick:()=>O(R),children:[a.jsx(ye,{icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]})})]}),a.jsxs(x.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(x.Label,{className:"label",children:"Image Source (Optional)"}),a.jsx(x.Control,{placeholder:"e.g. @boracayphotos or /islanders or #trivago or www.trivago.com",type:"text",value:L.image_source,onChange:U=>h(R,"image_source",U.target.value)})]})]}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(x.Group,{className:"mb-5",children:[a.jsx(x.Label,{className:"label",children:"Body"}),a.jsx(rr,{index:R,section:L,handleBodyChange:h})]})}),s.body.length>1&&a.jsx(B,{className:"mb-4 d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-danger",type:"button",onClick:()=>p(R),className:"mt-3 w-full",children:[a.jsx(ye,{icon:Dt,size:"xs",fixedWidth:!0})," Delete Section"]})})]},R)),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-success",type:"button",onClick:g,className:"mb-3",children:[a.jsx(ye,{icon:nr,size:"xs",fixedWidth:!0})," Add Section"]})})]})}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:I?a.jsx(Si,{groupData:s,setGroupData:i,resetKey:n}):a.jsxs(x.Group,{className:"mt-3 mb-3",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[a.jsx(x.Label,{className:"label mb-2",children:"Local Business Address"}),a.jsx(se,{variant:"outline-danger",className:"mb-2",onClick:T,children:I?"Cancel":"Edit Address"})]}),a.jsxs(a.Fragment,{children:[a.jsx(x.Control,{className:"mb-3",type:"text",name:"address.country",placeholder:"Country",value:s.address.country,readOnly:!0}),a.jsx(x.Control,{className:"my-3",type:"text",name:"address.region",placeholder:"Region",value:s.address.region,readOnly:!0}),a.jsx(x.Control,{className:"my-3",type:"text",name:"address.province",placeholder:"Province",value:s.address.province,readOnly:!0}),a.jsx(x.Control,{className:"my-3",type:"text",name:"address.city",placeholder:"City/Municipality/Town",value:s.address.town,readOnly:!0}),a.jsx(x.Control,{className:"my-3",type:"text",name:"address.barangay",placeholder:"Barangay",value:s.address.barangay,readOnly:!0}),a.jsx(x.Control,{className:"my-3",type:"text",name:"address.street",placeholder:"Street Name / Zone (Optional)",value:s.address.street,readOnly:!0})]})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:F?a.jsx(Ci,{onLocationSelect:v,name:s.name||"",resetKey:n,editingItems:s.address}):a.jsxs(x.Group,{className:"mt-3 mb-3",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[a.jsx(x.Label,{className:"label mb-2",children:"Local Business Address"}),a.jsx(se,{variant:"outline-danger",className:"mb-2",onClick:A,children:F?"Cancel":"Edit Map Location"})]}),a.jsx(jf,{latitude:s.address.lat,longitude:s.address.long})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"link",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Google Map Link"}),a.jsx(x.Control,{type:"text",placeholder:"Select Location First",name:"link",value:s.link,onChange:u,readOnly:!0})]})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"lat",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Lattitude"}),a.jsx(x.Control,{type:"text",placeholder:"Select Location First",name:"lat",value:s.address.lat,onChange:u,readOnly:!0})]})}),a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"long",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Longitude"}),a.jsx(x.Control,{type:"text",placeholder:"Select Location First",name:"long",value:s.address.long,onChange:u,readOnly:!0})]})})]}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"accessibility",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Geographical Location"}),a.jsxs(x.Select,{name:"geo",value:s.geo,onChange:u,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Geo Location"}),Ni.map((L,R)=>a.jsx("option",{value:L,children:L},R))]})]})}),a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"accessibility",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Accessibility"}),a.jsxs(x.Select,{name:"accessibility",value:s.accessibility,onChange:u,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Accessibility"}),Fo.map((L,R)=>a.jsx("option",{value:L,children:L},R))]})]})})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",children:[a.jsx(x.Label,{className:"label me-2",children:"Promotional & Marketing Photos"}),a.jsx(Rs,{dataForm:s,setDataForm:i,caption:"Drag & drop images or click to select (Max: 10)",dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:L=>u(L,"operatinghours"),label:"Operating Hours (Type & Enter)",editingItems:s.operatinghours,resetKey:n,caption:"format: hh:mm A  | e.g. 08:00 AM"})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsx(Ve,{onChange:L=>u(L,"lowest"),label:"Price List (Type & Enter)",editingItems:s.lowest,resetKey:n,caption:"format: 00000.00 per pax | e.g. 12000.00 per hour"})}),a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"maxPax",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Maximum Pax"}),a.jsx(x.Control,{type:"text",placeholder:"Enter Maximum Pax",name:"maxPax",value:s.maxPax,onChange:u,required:!0})]})})]}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsx(Ve,{onChange:L=>u(L,"tags"),label:"Tags (Type & Enter)",editingItems:s.tags,resetKey:n})}),a.jsx(z,{md:6,children:a.jsx(Ve,{onChange:L=>u(L,"serviceProviders"),label:"Service Providers (Type & Enter)",editingItems:s.serviceProviders,resetKey:n})})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"note",className:"mb-5 mt-2",children:[a.jsx(x.Label,{className:"label",children:"Notes, Reminders, Remarks, and Other Details"}),a.jsx(On,{theme:"snow",value:s.note||"",onChange:L=>u(L,"note"),required:!0,style:{height:"300px"}})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:C,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:E,children:"Submit Update"})]})}),a.jsx(B,{className:"empty-container"})]})}const QOe=()=>{const[t,e]=j.useState([]),[n,r]=j.useState(""),[s,i]=j.useState(""),[o,l]=j.useState(""),[u,h]=j.useState(""),[f,g]=j.useState(""),[p,v]=j.useState("asc"),[w,E]=j.useState(0),[S,C]=j.useState(null),O=10;j.useEffect(()=>{T()},[]);const[I,D]=j.useState(!0),T=async()=>{try{const re=(await ur(Ft(ze,"activities"))).docs.map(Z=>({id:Z.id,...Z.data()}));e(re)}catch(G){console.error("Error fetching data:",G)}finally{D(!1)}},F=G=>{C(G)},y=async G=>{xe.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then(async re=>{re.isConfirmed&&(await kr(gt(ze,"activities",G)),T(),xe.fire("Deleted!","Your entry has been deleted.","success"))})},A=t.filter(G=>{const re=s===""||G.category===s,Z=o===""||G.geo===o,me=u===""||G.address.barangay===u,ie=n.toLowerCase(),W=G.name.toLowerCase().includes(ie)||G.established.toLowerCase().includes(ie)||G.category.toLowerCase().includes(ie)||G.geo.toLowerCase().includes(ie)||G.address.barangay.toLowerCase().includes(ie)||G.address.street.toLowerCase().includes(ie);return re&&Z&&me&&W}),_=()=>new Date().toISOString().split("T")[0],L=()=>{const G=t.map(({name:me,category:ie,...W})=>({...W,body:Array.isArray(W.body)?W.body.join(", "):"",images:Array.isArray(W.images)?W.images.join(", "):"",operatinghours:Array.isArray(W.operatinghours)?W.operatinghours.join(", "):"",address:W.address?JSON.stringify(W.address):""})),re=yt.json_to_sheet(G),Z=yt.book_new();yt.book_append_sheet(Z,re,"Data"),Fr(Z,`tourism_activities_infoguide_${_()}.xlsx`)},R=Math.ceil(A.length/O),U=A.slice(w*O,(w+1)*O),P=({selected:G})=>{E(G)},K=()=>{C(null)};return a.jsxs(B,{children:[a.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Activities"}),a.jsx("p",{children:"List of Activities."}),a.jsxs(V,{children:[a.jsx(z,{md:6,className:"mb-1 me-2 col",children:a.jsx(x.Control,{type:"text",placeholder:`Search up to over ${t.length} accommodations`,value:n,onChange:G=>r(G.target.value)})}),a.jsx(z,{md:2,className:"mb-1 me-2 col",children:a.jsxs(x.Select,{value:s,onChange:G=>i(G.target.value),children:[a.jsx("option",{value:"",children:"All Categories"}),[...new Set(t.map(G=>G.category))].map((G,re)=>a.jsx("option",{value:G,children:G},re))]})})]}),a.jsxs(V,{children:[a.jsx(z,{md:2,className:"mb-1 me-2 col",children:a.jsxs(x.Select,{value:o,onChange:G=>g(G.target.value),children:[a.jsx("option",{value:"",children:"All Geographical Location"}),[...new Set(t.map(G=>G.geo))].map((G,re)=>a.jsx("option",{value:G,children:G},re))]})}),a.jsx(z,{md:2,className:"mb-1 me-2 col",children:a.jsxs(x.Select,{value:u,onChange:G=>h(G.target.value),children:[a.jsx("option",{value:"",children:"All Barangays"}),[...new Set(t.map(G=>G.address.barangay))].map((G,re)=>a.jsx("option",{value:G,children:G},re))]})}),a.jsxs(B,{className:"d-flex justify-content-end align-items-center mt-2 mb-4",children:[a.jsxs(se,{variant:"outline-secondary",className:"me-2",onClick:T,children:[a.jsx(ye,{icon:Pr,size:"xs",fixedWidth:!0})," Refresh List"]}),a.jsxs(se,{variant:"outline-success",onClick:K,children:[a.jsx(ye,{icon:Dr,size:"xs",fixedWidth:!0})," Add New"]})]})]}),I?a.jsx("div",{className:"d-flex justify-content-center align-items-center my-5",children:a.jsx(Cr,{animation:"border",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):U.length===0?a.jsx("div",{className:"text-center my-5",children:a.jsx("h5",{children:"No Data Available"})}):a.jsxs(Rr,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Business Name"}),a.jsx("th",{children:"Category"}),a.jsx("th",{children:"Geo Location"}),a.jsx("th",{children:"Barangay"}),a.jsx("th",{children:"Street"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:U.map(G=>a.jsxs("tr",{children:[a.jsx("td",{children:G.name}),a.jsx("td",{children:G.category}),a.jsx("td",{children:G.geo}),a.jsx("td",{children:G.address.barangay}),a.jsx("td",{children:G.address.street}),a.jsx("td",{children:a.jsxs(B,{className:"d-flex justify-content-center align-items-center",children:[a.jsx(Jt,{placement:"top",overlay:a.jsx(Wt,{children:"Edit"}),children:a.jsx(se,{variant:"outline-secondary",size:"sm",className:"me-2",onClick:()=>F(G),children:a.jsx(ye,{icon:Ir,size:"xs",fixedWidth:!0})})}),a.jsx(Jt,{placement:"top",overlay:a.jsx(Wt,{children:"Delete"}),children:a.jsx(se,{variant:"outline-danger",size:"sm",onClick:()=>y(G.id),children:a.jsx(ye,{icon:Dt,size:"xs",fixedWidth:!0})})})]})})]},G.id))})]}),a.jsxs(B,{className:"d-flex justify-content-between align-items-center mb-4 mt-2",children:[a.jsx(se,{onClick:L,variant:"outline-success",children:"Download Excel"}),a.jsx(Mr,{previousLabel:"",nextLabel:"",pageCount:R,onPageChange:P,containerClassName:"pagination mb-0",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})]}),a.jsx(B,{className:"empty-container"}),S?a.jsx(JOe,{editingItem:S,toAddForm:()=>C(null)}):a.jsx(YOe,{})]})};class AT{constructor(){this.id="",this.name="",this.category="",this.landline=[],this.mobile=[],this.satellite=[],this.logo=null,this.address={street:"",barangay:"",town:"",region:"",province:"",country:"",lat:"",long:""},this.socials=[],this.geo="",this.link=""}toJSON(){return{...this}}}const LK=["Emergency Hotline","First Aid and Medical Attention","Fire Supression","Water Rescue","Police Assistance","Healthcare","Mental Care","Tourist Assistance","Tourist Inquiries and Complaints","Animal Welfare"];function ZOe({}){const[t,e]=j.useState(0),[n,r]=j.useState(new AT),[s,i]=j.useState(""),o=(g,p)=>{if(Array.isArray(g))r(v=>({...v,[p]:g}));else if(typeof g=="string")r(v=>({...v,[p]:g}));else{const{name:v,value:w}=g.target;r(E=>({...E,[v]:w}))}},l=(g,p)=>{if(!g){console.warn("handleLocationSelect received null position.");return}r(v=>({...v,address:{...v.address,lat:g.lat||"",long:g.lng||""},link:p||""}))},u=async(g,p)=>{const v=Kt(en,p);return await Qt(v,g),await Zt(v)},h=async g=>{g.preventDefault(),xe.fire({title:"Submitting...",text:"Please wait while we submit your hotline data.",allowOutsideClick:!1,didOpen:()=>{xe.showLoading()}});try{let p=n.logo?await u(n.logo,`hotlines/${Date.now()}_${n.logo.name}`):null;const v=new AT;v.id="",v.name=n.name,v.category=n.category||s,v.landline=n.landline||[],v.mobile=n.mobile||[],v.satellite=n.satellite||[],v.logo=p,v.address={...n.address},v.geo=n.geo,v.link=n.link,v.socials=n.socials||[];const w=await Or(Ft(ze,"hotlines"),v.toJSON()),E=gt(ze,"hotlines",w.id);await rn(E,{id:w.id}),xe.fire({title:"Hotlines Submitted",text:"Your hotline has been submitted successfully!",icon:"success"}),f()}catch(p){console.error("Error submitting hotline:",p),xe.fire({title:"Error",text:"There was an issue submitting your hotline. Please try again.",icon:"error"})}},f=()=>{r({id:"",name:"",category:"",landline:[],mobile:[],satellite:[],logo:null,address:{street:"",barangay:"",town:"",region:"",province:"",country:"",lat:"",long:""},link:"",geo:"",socials:[]}),e(g=>g+1),i("")};return a.jsxs(x,{className:"custom-form body-container",onSubmit:h,onKeyDown:g=>g.key==="Enter"&&g.preventDefault(),children:[a.jsxs(V,{className:"row mb-4",children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"category",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Category"}),a.jsxs(x.Select,{name:"category",value:n.category,onChange:g=>{const p=g.target.value;r(v=>({...v,category:p}))},children:[a.jsx("option",{value:"",disabled:!0,children:"Select Category"}),LK.map((g,p)=>a.jsx("option",{value:g,children:g},p))]})]})}),a.jsx(z,{md:6,children:a.jsx(B,{})})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"name",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Office Logo"}),a.jsx(Mo,{storyForm:n,setStoryForm:r,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small",caption:"Drag & Drop Logo here",required:!0})]})}),a.jsx(z,{md:6,children:a.jsx(B,{})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Office Name"}),a.jsx(x.Control,{type:"text",placeholder:"Enter business name",name:"name",value:n.name,onChange:o,required:!0})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Si,{groupData:n,setGroupData:r,resetKey:t})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Ci,{onLocationSelect:l,name:n.name||"",resetKey:t})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"link",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Google Map Link"}),a.jsx(x.Control,{type:"text",placeholder:"Select Location First",name:"link",value:n.link,onChange:o,readOnly:!0})]})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"lat",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Lattitude"}),a.jsx(x.Control,{type:"text",placeholder:"Select Location First",name:"lat",value:n.address.lat,onChange:o,readOnly:!0})]})}),a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"long",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Longitude"}),a.jsx(x.Control,{type:"text",placeholder:"Select Location First",name:"long",value:n.address.long,onChange:o,readOnly:!0})]})})]}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"accessibility",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Geographical Location"}),a.jsxs(x.Select,{name:"geo",value:n.geo,onChange:o,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Geo Location"}),Ni.map((g,p)=>a.jsx("option",{value:g,children:g},p))]})]})}),a.jsx(z,{md:6,children:a.jsx(B,{})})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsx(Ve,{onChange:g=>o(g,"mobile"),label:"mobile Number (Type & Enter)",editingItems:n.mobile,resetKey:t})}),a.jsx(z,{md:6,children:a.jsx(Ve,{onChange:g=>o(g,"landline"),label:"Landline Number (Type & Enter)",editingItems:n.landline,resetKey:t})})]}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsx(Ve,{onChange:g=>o(g,"satellite"),label:"Satellite (Type & Enter)",editingItems:n.satellite,resetKey:t})}),a.jsx(z,{md:6,children:a.jsx(Ve,{onChange:g=>o(g,"socials"),label:"Social Media Links (Type & Enter)",editingItems:n.socials,resetKey:t})})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:f,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:h,children:"Submit Hotline"})]})}),a.jsx(B,{className:"empty-container"})]})}function eIe({editingItem:t,toAddForm:e}){const[n,r]=j.useState(0),[s,i]=j.useState(new AT),[o,l]=j.useState(""),u=(I,D)=>{if(Array.isArray(I))i(T=>({...T,[D]:I}));else if(typeof I=="string")i(T=>({...T,[D]:I}));else{const{name:T,value:F}=I.target;i(y=>({...y,[T]:F}))}};j.useEffect(()=>{t&&(i(I=>({...I,id:t.id||"",name:t.name||"",category:t.category||"",mobile:t.mobile||[],landline:t.landline||[],satellite:t.satellite||"",logo:t.logo||"",address:{street:t.address.street||"",barangay:t.address.barangay||"",town:t.address.town||"",region:t.address.region||"",province:t.address.province||"",country:t.address.country||"",lat:t.address.lat||"",long:t.address.long||""},link:t.link||"",geo:t.geo||"",socials:t.socials||[]})),t.category?l(t.category||""):l(category))},[t]);const h=(I,D)=>{if(!I){console.warn("handleLocationSelect received null position.");return}i(T=>({...T,address:{...T.address,lat:I.lat||"",long:I.lng||""},link:D||""}))},f=async(I,D)=>{const T=Kt(en,D);return await Qt(T,I),await Zt(T)},g=async I=>{I.preventDefault(),xe.fire({title:"Submitting...",text:"Please wait while we submit your hotline data.",allowOutsideClick:!1,didOpen:()=>{xe.showLoading()}});try{let D=s.logo;s.logo instanceof File&&(t&&t.logo&&await Vt(t.logo),D=await f(s.logo,`hotlines/${Date.now()}_${s.logo.name}`));const T={id:t?t.id:"",name:s.name,category:s.category||o,mobile:s.mobile||[],landline:s.landline||[],socials:s.socials||[],logo:D,address:{...s.address},link:s.link,geo:s.geo,socials:s.socials||[]},F=gt(ze,"hotlines",s.id);try{await rn(F,T),xe.fire({title:"Hotlines Updated",text:"Your hotlines has been updated successfully!",icon:"success"}),O(),e()}catch(y){console.error("Error updating hotlines:",y),xe.fire({title:"Update Failed",text:"There was an error updating the hotlines.",icon:"error"})}}catch(D){console.error("Error submitting hottline:",D),xe.fire({title:"Error",text:"There was an issue submitting your hotline. Please try again.",icon:"error"})}},[p,v]=j.useState(!1),w=()=>{v(!p)},[E,S]=j.useState(!1),C=()=>{S(!E)},O=()=>{i({id:"",name:"",category:"",landline:[],mobile:[],satellite:[],logo:null,address:{street:"",barangay:"",town:"",region:"",province:"",country:"",lat:"",long:""},link:"",geo:"",socials:[]}),r(I=>I+1),l("")};return a.jsxs(x,{className:"custom-form body-container",onSubmit:g,onKeyDown:I=>I.key==="Enter"&&I.preventDefault(),children:[a.jsxs(V,{className:"row mb-4",children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"category",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Category"}),a.jsxs(x.Select,{name:"category",value:s.category,onChange:I=>{const D=I.target.value;i(T=>({...T,category:D}))},children:[a.jsx("option",{value:"",disabled:!0,children:"Select Category"}),LK.map((I,D)=>a.jsx("option",{value:I,children:I},D))]})]})}),a.jsx(z,{md:6,children:a.jsx(B,{})})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"name",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Office Logo"}),a.jsx(Mo,{storyForm:s,setStoryForm:i,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small",caption:"Drag & Drop Logo here",required:!0})]})}),a.jsx(z,{md:6,children:a.jsx(B,{})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Office Name"}),a.jsx(x.Control,{type:"text",placeholder:"Enter business name",name:"name",value:s.name,onChange:u,required:!0})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:p?a.jsx(Si,{groupData:s,setGroupData:i,resetKey:n}):a.jsxs(x.Group,{className:"mt-3 mb-3",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[a.jsx(x.Label,{className:"label mb-2",children:"Local Business Address"}),a.jsx(se,{variant:"outline-danger",className:"mb-2",onClick:w,children:p?"Cancel":"Edit Address"})]}),a.jsxs(a.Fragment,{children:[a.jsx(x.Control,{className:"mb-3",type:"text",name:"address.country",placeholder:"Country",value:s.address.country,readOnly:!0}),a.jsx(x.Control,{className:"my-3",type:"text",name:"address.region",placeholder:"Region",value:s.address.region,readOnly:!0}),a.jsx(x.Control,{className:"my-3",type:"text",name:"address.province",placeholder:"Province",value:s.address.province,readOnly:!0}),a.jsx(x.Control,{className:"my-3",type:"text",name:"address.city",placeholder:"City/Municipality/Town",value:s.address.town,readOnly:!0}),a.jsx(x.Control,{className:"my-3",type:"text",name:"address.barangay",placeholder:"Barangay",value:s.address.barangay,readOnly:!0}),a.jsx(x.Control,{className:"my-3",type:"text",name:"address.street",placeholder:"Street Name / Zone (Optional)",value:s.address.street,readOnly:!0})]})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:E?a.jsx(Ci,{onLocationSelect:h,name:s.name||"",resetKey:n,editingItems:s.address}):a.jsxs(x.Group,{className:"mt-3 mb-3",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[a.jsx(x.Label,{className:"label mb-2",children:"Local Business Address"}),a.jsx(se,{variant:"outline-danger",className:"mb-2",onClick:C,children:E?"Cancel":"Edit Map Location"})]}),a.jsx(jf,{latitude:s.address.lat,longitude:s.address.long})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"link",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Google Map Link"}),a.jsx(x.Control,{type:"text",placeholder:"Select Location First",name:"link",value:s.link,onChange:u,readOnly:!0})]})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"lat",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Lattitude"}),a.jsx(x.Control,{type:"text",placeholder:"Select Location First",name:"lat",value:s.address.lat,onChange:u,readOnly:!0})]})}),a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"long",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Longitude"}),a.jsx(x.Control,{type:"text",placeholder:"Select Location First",name:"long",value:s.address.long,onChange:u,readOnly:!0})]})})]}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"accessibility",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Geographical Location"}),a.jsxs(x.Select,{name:"geo",value:s.geo,onChange:u,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Geo Location"}),Ni.map((I,D)=>a.jsx("option",{value:I,children:I},D))]})]})}),a.jsx(z,{md:6,children:a.jsx(B,{})})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsx(Ve,{onChange:I=>u(I,"mobile"),label:"mobile Number (Type & Enter)",editingItems:s.mobile,resetKey:n})}),a.jsx(z,{md:6,children:a.jsx(Ve,{onChange:I=>u(I,"landline"),label:"Landline Number (Type & Enter)",editingItems:s.landline,resetKey:n})})]}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsx(Ve,{onChange:I=>u(I,"satellite"),label:"Satellite (Type & Enter)",editingItems:s.satellite,resetKey:n})}),a.jsx(z,{md:6,children:a.jsx(Ve,{onChange:I=>u(I,"socials"),label:"Social Media Links (Type & Enter)",editingItems:s.socials,resetKey:n})})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:O,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:g,children:"Submit Update"})]})}),a.jsx(B,{className:"empty-container"})]})}const tIe=()=>{const[t,e]=j.useState([]),[n,r]=j.useState(""),[s,i]=j.useState(""),[o,l]=j.useState("asc"),[u,h]=j.useState(0),[f,g]=j.useState(null),p=10;j.useEffect(()=>{E()},[]);const[v,w]=j.useState(!0),E=async()=>{try{const L=(await ur(Ft(ze,"hotlines"))).docs.map(R=>({id:R.id,...R.data()}));e(L)}catch(_){console.error("Error fetching data:",_)}finally{w(!1)}},S=_=>{g(_)},C=async _=>{window.confirm("Are you sure you want to delete this entry?")&&(await kr(gt(ze,"hotlines",_)),E())},O=t.filter(_=>(s===""||_.category===s)&&(_.name.toLowerCase().includes(n.toLowerCase())||_.address.barangay.toLowerCase().includes(n.toLowerCase())||_.geo.toLowerCase().includes(n.toLowerCase())||_.mobile.toLowerCase().includes(n.toLowerCase())||_.landline.toLowerCase().includes(n.toLowerCase())||_.satellite.toLowerCase().includes(n.toLowerCase())||_.social.toLowerCase().includes(n.toLowerCase()))),I=()=>new Date().toISOString().split("T")[0],D=()=>{const _=t.map(({name:U,...P})=>({...P,mobile:Array.isArray(P.mobile)?P.mobile.join(", "):"",landline:Array.isArray(P.landline)?P.landline.join(", "):"",satellite:Array.isArray(P.satellite)?P.satellite.join(", "):"",socials:Array.isArray(P.socials)?P.socials.join(", "):"",address:P.address?JSON.stringify(P.address):""})),L=yt.json_to_sheet(_),R=yt.book_new();yt.book_append_sheet(R,L,"Data"),Fr(R,`tourism_hotlines_infoguide_${I()}.xlsx`)},T=Math.ceil(O.length/p),F=O.slice(u*p,(u+1)*p),y=({selected:_})=>{h(_)},A=()=>{g(null)};return a.jsxs(B,{children:[a.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Tourist Hotlines"}),a.jsx("p",{children:"List of Tourist Hotlines."}),a.jsxs(V,{className:"mb-4 mt-4",children:[a.jsx(z,{md:4,className:"mb-2 me-2 col",children:a.jsx(x.Control,{type:"text",placeholder:`Search up to over ${t.length} hotlines`,value:n,onChange:_=>r(_.target.value)})}),a.jsx(z,{md:2,className:"mb-2 me-2 col",children:a.jsxs(x.Select,{value:s,onChange:_=>i(_.target.value),children:[a.jsx("option",{value:"",children:"All Category"}),[...new Set(t.map(_=>_.category))].map((_,L)=>a.jsx("option",{value:_,children:_},L))]})}),a.jsxs(B,{className:"d-flex justify-content-end align-items-center mt-2",children:[a.jsxs(se,{variant:"outline-secondary",className:"me-2",onClick:E,children:[a.jsx(ye,{icon:Pr,size:"xs",fixedWidth:!0})," Refresh List"]}),a.jsxs(se,{variant:"outline-success",onClick:A,children:[a.jsx(ye,{icon:Dr,size:"xs",fixedWidth:!0})," Add New"]})]})]}),v?a.jsx("div",{className:"d-flex justify-content-center align-items-center my-5",children:a.jsx(Cr,{animation:"border",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):F.length===0?a.jsx("div",{className:"text-center my-5",children:a.jsx("h5",{children:"No Data Available"})}):a.jsxs(Rr,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Category"}),a.jsx("th",{children:"Office Name"}),a.jsx("th",{children:"Geo"}),a.jsx("th",{children:"Barangay"}),a.jsx("th",{children:"Mobile No."}),a.jsx("th",{children:"Landline"}),a.jsx("th",{children:"Satellite"}),a.jsx("th",{children:"Socials and Websites"})]})}),a.jsx("tbody",{children:F.map(_=>a.jsxs("tr",{children:[a.jsx("td",{children:_.category}),a.jsx("td",{children:_.name}),a.jsx("td",{children:_.geo}),a.jsx("td",{children:_.address.barangay}),a.jsx("td",{children:Array.isArray(_.mobile)?_.mobile.join(", "):_.mobile}),a.jsx("td",{children:Array.isArray(_.landline)?_.landline.join(", "):_.landline}),a.jsx("td",{children:Array.isArray(_.satellite)?_.satellite.join(", "):_.satellite}),a.jsx("td",{children:Array.isArray(_.socials)?_.socials.join(", "):_.socials}),a.jsx("td",{children:a.jsxs(B,{className:"d-flex justify-content-center align-items-center",children:[a.jsx(Jt,{placement:"top",overlay:a.jsx(Wt,{children:"Edit"}),children:a.jsx(se,{variant:"outline-secondary",size:"sm",className:"me-2",onClick:()=>S(_),children:a.jsx(ye,{icon:Ir,size:"xs",fixedWidth:!0})})}),a.jsx(Jt,{placement:"top",overlay:a.jsx(Wt,{children:"Delete"}),children:a.jsx(se,{variant:"outline-danger",size:"sm",onClick:()=>C(_.id),children:a.jsx(ye,{icon:Dt,size:"xs",fixedWidth:!0})})})]})})]},_.id))})]}),a.jsxs(B,{className:"d-flex justify-content-between align-items-center mb-4 mt-2",children:[a.jsx(se,{onClick:D,variant:"outline-success",children:"Download Excel"}),a.jsx(Mr,{previousLabel:"",nextLabel:"",pageCount:T,onPageChange:y,containerClassName:"pagination mb-0",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})]}),f?a.jsx(eIe,{editingItem:f,toAddForm:()=>g(null)}):a.jsx(ZOe,{})]})};class LT{constructor(){this.id="",this.title="",this.body=[{subtitle:"",body:"",image:null,image_source:""}],this.port="",this.purpose="",this.headerImage=null,this.references=[]}toJSON(){return{...this}}}const RK=["Caticlan Jetty Port","Tabon Port","Cagban Port","Tambisaan Port"],kK=["Tourists Entry","Tourists Exit","Aklanon Tourists Entry","Aklanon Tourists Exit","Same-day Pass (Entry)","Same-day Pass (Exit/Mainland Tour)"],nIe=({index:t,section:e,onBodyImageDrop:n,dropzoneName:r="dropzone-container-small",previewName:s="dropzone-uploaded-image-small"})=>{const{getRootProps:i,getInputProps:o}=Ht({onDrop:u=>n(u,t),accept:"image/png, image/jpeg, image/jpg, video/mp4, video/webm, video/ogg"}),l=e.image?e.image instanceof File?URL.createObjectURL(e.image):e.image:null;return a.jsxs(B,{...i(),className:`${r} text-center w-100 ${l?"border-success":""}`,children:[a.jsx("input",{...o(),accept:"image/*,video/*"}),l?e.image instanceof File&&e.image.type.startsWith("video/")?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:l,type:e.image.type}),"Your browser does not support the video tag."]}):a.jsx("img",{src:l,alt:"Body Image Preview",className:s}):a.jsxs("p",{className:"text-muted",children:["Drag & Drop Image/Video Here or"," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})};function rIe({}){const[t,e]=j.useState(0),[n,r]=j.useState(new LT),s=(w,E)=>{if(Array.isArray(w))r(S=>({...S,[E]:w}));else if(typeof w=="string")r(S=>({...S,[E]:w}));else{const{name:S,value:C}=w.target;r(O=>({...O,[S]:C}))}},i=()=>{r(w=>({...w,headerImage:null}))},o=async(w,E)=>{const S=Kt(en,E);return await Qt(S,w),await Zt(S)},l=async w=>{w.preventDefault(),xe.fire({title:"Submitting...",text:"Please wait while we submit your requirement data.",allowOutsideClick:!1,didOpen:()=>{xe.showLoading()}});try{let E=accommodationFormData.headerImage?await o(accommodationFormData.headerImage,`requirements/${Date.now()}_${accommodationFormData.headerImage.name}`):null;const S=new LT;S.id="",S.title=n.title,S.port=n.port,S.purpose=n.purpose,S.body=n.body.map((I,D)=>({subtitle:I.subtitle||"",body:I.body||"",image:bodyImagesURLs[D]||"",image_source:I.image_source||""})),S.headerImage=E,S.references=n.references||[];const C=await Or(Ft(ze,"requirements"),S.toJSON()),O=gt(ze,"requirements",C.id);await rn(O,{id:C.id}),xe.fire({title:"Requirement Submitted",text:"Your Requirement has been submitted successfully!",icon:"success"}),u(),i()}catch(E){console.error("Error submitting Requirement:",E),xe.fire({title:"Error",text:"There was an issue submitting your Requirement. Please try again.",icon:"error"})}},u=()=>{r({id:"",title:"",port:"",purpose:"",body:[{subtitle:"",body:"",image:null,image_source:""}],headerImage:null,references:[]}),e(w=>w+1)},h=(w,E,S)=>{r(C=>{const O=[...C.body];return O[w]={...O[w],[E]:S},{...C,body:O}})},f=(w,E)=>{const S=w[0];S&&r(C=>{const O=[...C.body];return O[E]={...O[E],image:S,imageUrl:URL.createObjectURL(S)},{...C,body:O}})},g=()=>{r(w=>({...w,body:[...w.body,{subtitle:"",body:"",image:null,image_source:""}]}))},p=w=>{r(E=>{const S=E.body.filter((C,O)=>O!==w);return{...E,body:S}})},v=w=>{r(E=>{const S=[...E.body];return S[w]?(S[w]={...S[w],image:null},{...E,body:S}):E})};return a.jsxs(x,{className:"custom-form body-container",onSubmit:l,onKeyDown:w=>w.key==="Enter"&&w.preventDefault(),children:[a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"port",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Port Assignment"}),a.jsxs(x.Select,{name:"port",value:n.port,onChange:w=>{const E=w.target.value;r(S=>({...S,port:E}))},children:[a.jsx("option",{value:"",disabled:!0,children:"Select Port Assignment"}),RK.map((w,E)=>a.jsx("option",{value:w,children:w},E))]})]})}),a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"purpose",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Purpose"}),a.jsxs(x.Select,{name:"purpose",value:n.purpose,onChange:w=>{const E=w.target.value;r(S=>({...S,purpose:E}))},children:[a.jsx("option",{value:"",disabled:!0,children:"Select Purpose"}),kK.map((w,E)=>a.jsx("option",{value:w,children:w},E))]})]})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Cover Photo"}),a.jsx(mn,{storyForm:n,setStoryForm:r,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Title"}),a.jsx(x.Control,{type:"text",placeholder:"Enter business name",name:"title",value:n.title,onChange:s,required:!0})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsxs(z,{md:12,children:[a.jsx("p",{className:"label mb-2",children:"Body Sections"}),n.body.map((w,E)=>a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(B,{className:"empty-container"}),a.jsxs(x.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(x.Label,{className:"label",children:"Steps (Optional)"}),a.jsx(x.Control,{type:"text",className:"fw-bold",placeholder:"Add number if Step - e.g. Step 1",value:w.subtitle,onChange:S=>h(E,"subtitle",S.target.value)})]}),a.jsxs(z,{className:"col me-lg-2 me-md-1",children:[a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Image (Optional)"}),a.jsx(nIe,{index:E,section:w,onBodyImageDrop:f,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"}),w.image&&a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{className:"mt-2 mb-1",variant:"outline-danger",onClick:()=>v(E),children:[a.jsx(ye,{icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]})})]}),a.jsxs(x.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(x.Label,{className:"label",children:"Image Source (Optional)"}),a.jsx(x.Control,{placeholder:"e.g. @boracayphotos or /islanders or #trivago or www.trivago.com",type:"text",value:w.image_source,onChange:S=>h(E,"image_source",S.target.value)})]})]}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(x.Group,{className:"mb-5",children:[a.jsx(x.Label,{className:"label",children:"Body"}),a.jsx(rr,{index:E,section:w,handleBodyChange:h})]})}),n.body.length>1&&a.jsx(B,{className:"mb-4 d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-danger",type:"button",onClick:()=>p(E),className:"mt-3 w-full",children:[a.jsx(ye,{icon:Dt,size:"xs",fixedWidth:!0})," Delete Section"]})})]},E)),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-success",type:"button",onClick:g,className:"mb-3",children:[a.jsx(ye,{icon:nr,size:"xs",fixedWidth:!0})," Add Section"]})})]})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:w=>s(w,"references"),label:"References and Links (Type & Enter)",editingItems:n.references,resetKey:t})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:u,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:l,children:"Submit Requirements"})]})}),a.jsx(B,{className:"empty-container"})]})}const sIe=({index:t,section:e,onBodyImageDrop:n,dropzoneName:r="dropzone-container-small",previewName:s="dropzone-uploaded-image-small"})=>{const{getRootProps:i,getInputProps:o}=Ht({onDrop:v=>n(v,t),accept:"image/png, image/jpeg, image/jpg, video/mp4, video/webm, video/ogg"}),l=e.image instanceof File,u=typeof e.image=="string"&&/\.(mp4|webm|ogg)(\?.*)?$/i.test(e.image),h=typeof e.image=="string"&&!u,f=l?URL.createObjectURL(e.image):null,g=h?e.image:null,p=u?e.image:null;return a.jsxs(B,{...i(),className:`${r} text-center w-100 ${f||g||p?"border-success":""}`,children:[a.jsx("input",{...o(),accept:"image/*,video/*"}),f?e.image.type.startsWith("video/")?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:f,type:e.image.type}),"Your browser does not support the video tag."]}):a.jsx("img",{src:f,alt:"Uploaded File Preview",className:s}):p?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:p,type:"video/mp4"}),"Your browser does not support the video tag."]}):g?a.jsx("img",{src:g,alt:"Image URL Preview",className:s}):a.jsxs("p",{className:"text-muted",children:["Drag & Drop Image/Video Here or"," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})};function aIe({editingItem:t,toAddForm:e}){const[n,r]=j.useState(0),[s,i]=j.useState(new LT),[o,l]=j.useState(""),[u,h]=j.useState(""),f=(D,T)=>{if(Array.isArray(D))i(F=>({...F,[T]:D}));else if(typeof D=="string")i(F=>({...F,[T]:D}));else{const{name:F,value:y}=D.target;i(A=>({...A,[F]:y}))}};useEffect(()=>{t&&(setActivityFormData(D=>({...D,id:t.id||"",title:t.name||"",purpose:t.purpose||"",port:t.port||"",body:t.body.map((T,F)=>({subtitle:T.subtitle||"",body:T.body||"",image:T.image||"",image_source:T.image_source||""})),headerImage:t.headerImage||"",references:t.references||[]})),l(t.port||""),h(t.purpose||""))},[t]);const g=()=>{i(D=>({...D,headerImage:null}))},p=async(D,T)=>{const F=Kt(en,T);return await Qt(F,D),await Zt(F)},v=async D=>{D.preventDefault(),xe.fire({title:"Submitting...",text:"Please wait while we updating your requirement data.",allowOutsideClick:!1,didOpen:()=>{xe.showLoading()}});try{let T=s.headerImage;s.headerImage instanceof File&&(t&&t.headerImage&&await Vt(t.headerImage),T=await p(s.headerImage,`requirements/${Date.now()}_${s.headerImage.name}`));const F=await Promise.all(s.body.map(async(_,L)=>_.image instanceof File?(t&&t.body&&t.body[L]&&t.body[L].image&&await Vt(t.body[L].image),await p(_.image,`requirements/${Date.now()}_${_.image.name}`)):_.image)),y={id:t?t.id:"",title:activityFormData.title,port:activityFormData.port||o,purpose:activityFormData.purpose||u,body:activityFormData.body.map((_,L)=>({subtitle:_.subtitle,body:_.body,image:F[L]||"",image_source:_.image_source})),headerImage:T,references:activityFormData.references},A=gt(ze,"requirements",s.id);await rn(A,y),xe.fire({title:"Requirements Posted",text:"Your Requirements has been edited successfully!",icon:"success"}),g(),e()}catch(T){console.error("Error submitting Requirements:",T),xe.fire({title:"Error",text:"There was an issue submitting your Requirements. Please try again.",icon:"error"})}},w=()=>{i({id:"",title:"",port:"",purpose:"",body:[{subtitle:"",body:"",image:null,image_source:""}],headerImage:null,references:[]}),r(D=>D+1)},E=(D,T,F)=>{i(y=>{const A=[...y.body];return A[D]={...A[D],[T]:F},{...y,body:A}})},S=(D,T)=>{const F=D[0];F&&i(y=>{const A=[...y.body];return A[T]={...A[T],image:F,imageUrl:URL.createObjectURL(F)},{...y,body:A}})},C=()=>{i(D=>({...D,body:[...D.body,{subtitle:"",body:"",image:null,image_source:""}]}))},O=D=>{i(T=>{const F=T.body.filter((y,A)=>A!==D);return{...T,body:F}})},I=D=>{i(T=>{const F=[...T.body];return F[D]?(F[D]={...F[D],image:null},{...T,body:F}):T})};return a.jsxs(x,{className:"custom-form body-container",onSubmit:v,onKeyDown:D=>D.key==="Enter"&&D.preventDefault(),children:[a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"port",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Port Assignment"}),a.jsxs(x.Select,{name:"port",value:s.port,onChange:D=>{const T=D.target.value;i(F=>({...F,port:T}))},children:[a.jsx("option",{value:"",disabled:!0,children:"Select Port Assignment"}),RK.map((D,T)=>a.jsx("option",{value:D,children:D},T))]})]})}),a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"purpose",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Purpose"}),a.jsxs(x.Select,{name:"purpose",value:s.purpose,onChange:D=>{const T=D.target.value;i(F=>({...F,purpose:T}))},children:[a.jsx("option",{value:"",disabled:!0,children:"Select Purpose"}),kK.map((D,T)=>a.jsx("option",{value:D,children:D},T))]})]})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Cover Photo"}),a.jsx(mn,{storyForm:s,setStoryForm:i,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Title"}),a.jsx(x.Control,{type:"text",placeholder:"Enter business name",name:"title",value:s.title,onChange:f,required:!0})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsxs(z,{md:12,children:[a.jsx("p",{className:"label mb-2",children:"Body Sections"}),s.body.map((D,T)=>a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(B,{className:"empty-container"}),a.jsxs(x.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(x.Label,{className:"label",children:"Subtitle (Optional)"}),a.jsx(x.Control,{type:"text",className:"fw-bold",value:D.subtitle,onChange:F=>E(T,"subtitle",F.target.value)})]}),a.jsxs(z,{className:"col me-lg-2 me-md-1",children:[a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Image (Optional)"}),a.jsx(sIe,{index:T,section:D,onBodyImageDrop:S,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"}),D.image&&a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{className:"mt-2 mb-1",variant:"outline-danger",onClick:()=>I(T),children:[a.jsx(ye,{icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]})})]}),a.jsxs(x.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(x.Label,{className:"label",children:"Image Source (Optional)"}),a.jsx(x.Control,{placeholder:"e.g. @boracayphotos or /islanders or #trivago or www.trivago.com",type:"text",value:D.image_source,onChange:F=>E(T,"image_source",F.target.value)})]})]}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(x.Group,{className:"mb-5",children:[a.jsx(x.Label,{className:"label",children:"Body"}),a.jsx(rr,{index:T,section:D,handleBodyChange:E})]})}),s.body.length>1&&a.jsx(B,{className:"mb-4 d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-danger",type:"button",onClick:()=>O(T),className:"mt-3 w-full",children:[a.jsx(ye,{icon:Dt,size:"xs",fixedWidth:!0})," Delete Section"]})})]},T)),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-success",type:"button",onClick:C,className:"mb-3",children:[a.jsx(ye,{icon:nr,size:"xs",fixedWidth:!0})," Add Section"]})})]})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:D=>f(D,"references"),label:"References and Links (Type & Enter)",editingItems:s.references,resetKey:n})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:w,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:v,children:"Submit Update"})]})}),a.jsx(B,{className:"empty-container"})]})}const iIe=()=>{const[t,e]=j.useState([]),[n,r]=j.useState(""),[s,i]=j.useState(""),[o,l]=j.useState("asc"),[u,h]=j.useState(0),[f,g]=j.useState(null),p=10;j.useEffect(()=>{E()},[]);const[v,w]=j.useState(!0),E=async()=>{try{const L=(await ur(Ft(ze,"requirements"))).docs.map(R=>({id:R.id,...R.data()}));e(L)}catch(_){console.error("Error fetching data:",_)}finally{w(!1)}},S=_=>{g(_)},C=async _=>{window.confirm("Are you sure you want to delete this entry?")&&(await kr(gt(ze,"requirements",_)),E())},O=t.filter(_=>(s===""||_.category===s)&&(_.title.toLowerCase().includes(n.toLowerCase())||_.port.toLowerCase().includes(n.toLowerCase())||_.purpose.toLowerCase().includes(n.toLowerCase())||_.references.toLowerCase().includes(n.toLowerCase()))),I=()=>new Date().toISOString().split("T")[0],D=()=>{const _=t.map(({title:U,...P})=>({...P,refrences:Array.isArray(P.refrences)?P.refrences.join(", "):"",body:Array.isArray(P.body)?P.body.join(", "):""})),L=yt.json_to_sheet(_),R=yt.book_new();yt.book_append_sheet(R,L,"Data"),Fr(R,`tourism_requirements_infoguide_${I()}.xlsx`)},T=Math.ceil(O.length/p),F=O.slice(u*p,(u+1)*p),y=({selected:_})=>{h(_)},A=()=>{g(null)};return a.jsxs(B,{children:[a.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Tourist Requirements"}),a.jsx("p",{children:"List of Tourist Entry and Exit Flow and Requirements."}),a.jsxs(V,{className:"mb-4 mt-4",children:[a.jsx(z,{md:4,className:"mb-2 me-2 col",children:a.jsx(x.Control,{type:"text",placeholder:`Search up to over ${t.length} requirements`,value:n,onChange:_=>r(_.target.value)})}),a.jsx(z,{md:2,className:"mb-2 me-2 col",children:a.jsxs(x.Select,{value:s,onChange:_=>i(_.target.value),children:[a.jsx("option",{value:"",children:"All Category"}),[...new Set(t.map(_=>_.category))].map((_,L)=>a.jsx("option",{value:_,children:_},L))]})}),a.jsxs(B,{className:"d-flex justify-content-end align-items-center mt-2",children:[a.jsxs(se,{variant:"outline-secondary",className:"me-2",onClick:E,children:[a.jsx(ye,{icon:Pr,size:"xs",fixedWidth:!0})," Refresh List"]}),a.jsxs(se,{variant:"outline-success",onClick:A,children:[a.jsx(ye,{icon:Dr,size:"xs",fixedWidth:!0})," Add New"]})]})]}),v?a.jsx("div",{className:"d-flex justify-content-center align-items-center my-5",children:a.jsx(Cr,{animation:"border",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):F.length===0?a.jsx("div",{className:"text-center my-5",children:a.jsx("h5",{children:"No Data Available"})}):a.jsxs(Rr,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Title"}),a.jsx("th",{children:"Port"}),a.jsx("th",{children:"Purpose"}),a.jsx("th",{children:"Steps"}),a.jsx("th",{children:"References"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:F.map(_=>{const L=_.body?_.body.filter(R=>R.subtitle.includes("Step")).length:0;return a.jsxs("tr",{children:[a.jsx("td",{children:_.title}),a.jsx("td",{children:_.port}),a.jsx("td",{children:_.purpose}),a.jsx("td",{children:L})," ",a.jsx("td",{children:Array.isArray(_.references)?_.references.join(", "):_.references}),a.jsx("td",{children:a.jsxs(B,{className:"d-flex justify-content-center align-items-center",children:[a.jsx(Jt,{placement:"top",overlay:a.jsx(Wt,{children:"Edit"}),children:a.jsx(se,{variant:"outline-secondary",size:"sm",className:"me-2",onClick:()=>S(_),children:a.jsx(ye,{icon:Ir,size:"xs",fixedWidth:!0})})}),a.jsx(Jt,{placement:"top",overlay:a.jsx(Wt,{children:"Delete"}),children:a.jsx(se,{variant:"outline-danger",size:"sm",onClick:()=>C(_.id),children:a.jsx(ye,{icon:Dt,size:"xs",fixedWidth:!0})})})]})})]},_.id)})})]}),a.jsxs(B,{className:"d-flex justify-content-between align-items-center mb-4 mt-2",children:[a.jsx(se,{onClick:D,variant:"outline-success",children:"Download Excel"}),a.jsx(Mr,{previousLabel:"",nextLabel:"",pageCount:T,onPageChange:y,containerClassName:"pagination mb-0",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})]}),f?a.jsx(aIe,{editingItem:f,toAddForm:()=>g(null)}):a.jsx(rIe,{})]})};class RT{constructor(){this.id="",this.title="",this.ordinance="",this.description="",this.logo=null,this.references=[]}toJSON(){return{...this}}}function oIe({}){const[t,e]=j.useState(0),[n,r]=j.useState(new RT),s=(u,h)=>{if(Array.isArray(u))r(f=>({...f,[h]:u}));else if(typeof u=="string")r(f=>({...f,[h]:u}));else{const{name:f,value:g}=u.target;r(p=>({...p,[f]:g}))}},i=async(u,h)=>{const f=Kt(en,h);return await Qt(f,u),await Zt(f)},o=async u=>{u.preventDefault(),xe.fire({title:"Submitting...",text:"Please wait while we submit your ordinances.",allowOutsideClick:!1,didOpen:()=>{xe.showLoading()}});try{let h=n.logo?await i(n.logo,`ordinances/${Date.now()}_${n.logo.name}`):null;const f=new RT;f.id="",f.title=n.title,f.ordinance=n.ordinance,f.description=n.description,f.logo=h,f.references=n.references||[];const g=await Or(Ft(ze,"ordinances"),f.toJSON()),p=gt(ze,"ordinances",g.id);await rn(p,{id:g.id}),xe.fire({title:"Ordinance Submitted",text:"Your Ordinance has been submitted successfully!",icon:"success"}),l()}catch(h){console.error("Error submitting Ordinance:",h),xe.fire({title:"Error",text:"There was an issue submitting your Ordinance. Please try again.",icon:"error"})}},l=()=>{r({id:"",title:"",ordinance:"",description:"",logo:null,references:[]}),e(u=>u+1)};return a.jsxs(x,{className:"custom-form body-container",onSubmit:o,onKeyDown:u=>u.key==="Enter"&&u.preventDefault(),children:[a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"logo",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Logo"}),a.jsx(Mo,{storyForm:n,setStoryForm:r,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small",caption:"Drag & Drop Logo here",required:!0})]})}),a.jsx(z,{md:6,children:a.jsx(B,{})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Title"}),a.jsx(x.Control,{type:"text",placeholder:"Enter business name",name:"title",value:n.title,onChange:s,required:!0})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"ordinance",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Municipal Ordinances"}),a.jsx(x.Control,{type:"text",placeholder:"Enter Municipal Ordinance No.",name:"ordinance",value:n.ordinance,onChange:s,required:!0})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"description",className:"mb-5 mt-2",children:[a.jsx(x.Label,{className:"label",children:"Brief Description"}),a.jsx(On,{theme:"snow",value:n.description||"",onChange:u=>s(u,"description"),required:!0,style:{height:"300px"}})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:u=>s(u,"references"),label:"References and Links (Type & Enter)",editingItems:n.references,resetKey:t})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:l,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:o,children:"Submit Ordinance"})]})}),a.jsx(B,{className:"empty-container"})]})}function lIe({editingItem:t,toAddForm:e}){const[n,r]=j.useState(0),[s,i]=j.useState(new RT),o=(f,g)=>{if(Array.isArray(f))i(p=>({...p,[g]:f}));else if(typeof f=="string")i(p=>({...p,[g]:f}));else{const{name:p,value:v}=f.target;i(w=>({...w,[p]:v}))}};useEffect(()=>{t&&i(f=>({...f,id:t.id||"",title:t.name||"",ordinance:t.ordinance||"",description:t.category||"",logo:t.logo||"",references:t.references||[]}))},[t]);const l=async(f,g)=>{const p=Kt(en,g);return await Qt(p,f),await Zt(p)},u=async f=>{f.preventDefault(),xe.fire({title:"Submitting...",text:"Please wait while we submit your ordinances.",allowOutsideClick:!1,didOpen:()=>{xe.showLoading()}});try{let g=hotlinesFormData.logo;s.logo instanceof File&&(t&&t.logo&&await Vt(t.logo),g=await l(s.logo,`ordinances/${Date.now()}_${s.logo.name}`));const p={id:t?t.id:"",title:s.title,ordinance:s.ordinance,description:s.description||[],logo:g,references:s.references||[]},v=gt(ze,"ordinances",s.id);try{await rn(v,p),xe.fire({title:"Ordinance Updated",text:"Your Ordinance has been updated successfully!",icon:"success"}),h(),e()}catch(w){console.error("Error updating hotlines:",w),xe.fire({title:"Update Failed",text:"There was an error updating the Ordinance.",icon:"error"})}}catch(g){console.error("Error submitting Ordinance:",g),xe.fire({title:"Error",text:"There was an issue submitting your Ordinance. Please try again.",icon:"error"})}},h=()=>{i({id:"",title:"",ordinance:"",description:"",logo:null,references:[]}),r(f=>f+1)};return a.jsxs(x,{className:"custom-form body-container",onSubmit:u,onKeyDown:f=>f.key==="Enter"&&f.preventDefault(),children:[a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"logo",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Logo"}),a.jsx(Mo,{storyForm:s,setStoryForm:i,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small",caption:"Drag & Drop Logo here",required:!0})]})}),a.jsx(z,{md:6,children:a.jsx(B,{})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Title"}),a.jsx(x.Control,{type:"text",placeholder:"Enter business name",name:"title",value:s.title,onChange:o,required:!0})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"ordinance",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Municipal Ordinances"}),a.jsx(x.Control,{type:"text",placeholder:"Enter Municipal Ordinance No.",name:"ordinance",value:s.ordinance,onChange:o,required:!0})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"description",className:"mb-5 mt-2",children:[a.jsx(x.Label,{className:"label",children:"Brief Description"}),a.jsx(On,{theme:"snow",value:s.description||"",onChange:f=>o(f,"description"),required:!0,style:{height:"300px"}})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:f=>o(f,"references"),label:"References and Links (Type & Enter)",editingItems:s.references,resetKey:n})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:h,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:u,children:"Submit Update"})]})}),a.jsx(B,{className:"empty-container"})]})}const cIe=()=>{const[t,e]=j.useState([]),[n,r]=j.useState(""),[s,i]=j.useState("asc"),[o,l]=j.useState(0),[u,h]=j.useState(null),f=10;j.useEffect(()=>{v()},[]);const[g,p]=j.useState(!0),v=async()=>{try{const A=(await ur(Ft(ze,"ordinances"))).docs.map(_=>({id:_.id,..._.data()}));e(A)}catch(y){console.error("Error fetching data:",y)}finally{p(!1)}},w=y=>{h(y)},E=async y=>{window.confirm("Are you sure you want to delete this entry?")&&(await kr(gt(ze,"ordinances",y)),v())},S=t.filter(y=>y.title.toLowerCase().includes(n.toLowerCase())||y.ordinance.toLowerCase().includes(n.toLowerCase())||y.references.toLowerCase().includes(n.toLowerCase())),C=()=>new Date().toISOString().split("T")[0],O=()=>{const y=t.map(({title:L,...R})=>({...R,references:R.references?JSON.stringify(R.references):""})),A=yt.json_to_sheet(y),_=yt.book_new();yt.book_append_sheet(_,A,"Data"),Fr(_,`tourism_ordinances_infoguide_${C()}.xlsx`)},I=Math.ceil(S.length/f),D=S.slice(o*f,(o+1)*f),T=({selected:y})=>{l(y)},F=()=>{h(null)};return a.jsxs(B,{children:[a.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Beach Laws"}),a.jsx("p",{children:"List of Municipal Ordinances pertaining to beach regulations."}),a.jsxs(V,{className:"mb-4 mt-4",children:[a.jsx(z,{md:4,className:"mb-2 me-2 col",children:a.jsx(x.Control,{type:"text",placeholder:`Search up to over ${t.length} ordinances`,value:n,onChange:y=>r(y.target.value)})}),a.jsxs(B,{className:"d-flex justify-content-end align-items-center mt-2",children:[a.jsxs(se,{variant:"outline-secondary",className:"me-2",onClick:v,children:[a.jsx(ye,{icon:Pr,size:"xs",fixedWidth:!0})," Refresh List"]}),a.jsxs(se,{variant:"outline-success",onClick:F,children:[a.jsx(ye,{icon:Dr,size:"xs",fixedWidth:!0})," Add New"]})]})]}),g?a.jsx("div",{className:"d-flex justify-content-center align-items-center my-5",children:a.jsx(Cr,{animation:"border",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):D.length===0?a.jsx("div",{className:"text-center my-5",children:a.jsx("h5",{children:"No Data Available"})}):a.jsxs(Rr,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Title"}),a.jsx("th",{children:"Ordinance No."}),a.jsx("th",{children:"References"})]})}),a.jsx("tbody",{children:D.map(y=>a.jsxs("tr",{children:[a.jsx("td",{children:y.title}),a.jsx("td",{children:y.ordinance}),a.jsx("td",{children:Array.isArray(y.references)?y.references.join(", "):y.references}),a.jsx("td",{children:a.jsxs(B,{className:"d-flex justify-content-center align-items-center",children:[a.jsx(Jt,{placement:"top",overlay:a.jsx(Wt,{children:"Edit"}),children:a.jsx(se,{variant:"outline-secondary",size:"sm",className:"me-2",onClick:()=>w(y),children:a.jsx(ye,{icon:Ir,size:"xs",fixedWidth:!0})})}),a.jsx(Jt,{placement:"top",overlay:a.jsx(Wt,{children:"Delete"}),children:a.jsx(se,{variant:"outline-danger",size:"sm",onClick:()=>E(y.id),children:a.jsx(ye,{icon:Dt,size:"xs",fixedWidth:!0})})})]})})]},y.id))})]}),a.jsxs(B,{className:"d-flex justify-content-between align-items-center mb-4 mt-2",children:[a.jsx(se,{onClick:O,variant:"outline-success",children:"Download Excel"}),a.jsx(Mr,{previousLabel:"",nextLabel:"",pageCount:I,onPageChange:T,containerClassName:"pagination mb-0",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})]}),u?a.jsx(lIe,{editingItem:u,toAddForm:()=>h(null)}):a.jsx(oIe,{})]})};class kT{constructor(){this.id="",this.title="",this.ordinance="",this.implementor=[],this.body=[{subtitle:"",body:"",image:null,image_source:""}],this.headerImage=null,this.serviceProviders=[],this.references=[]}toJSON(){return{...this}}}const uIe=({index:t,section:e,onBodyImageDrop:n,dropzoneName:r="dropzone-container-small",previewName:s="dropzone-uploaded-image-small"})=>{const{getRootProps:i,getInputProps:o}=Ht({onDrop:u=>n(u,t),accept:"image/png, image/jpeg, image/jpg, video/mp4, video/webm, video/ogg"}),l=e.image?e.image instanceof File?URL.createObjectURL(e.image):e.image:null;return a.jsxs(B,{...i(),className:`${r} text-center w-100 ${l?"border-success":""}`,children:[a.jsx("input",{...o(),accept:"image/*,video/*"}),l?e.image instanceof File&&e.image.type.startsWith("video/")?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:l,type:e.image.type}),"Your browser does not support the video tag."]}):a.jsx("img",{src:l,alt:"Body Image Preview",className:s}):a.jsxs("p",{className:"text-muted",children:["Drag & Drop Image/Video Here or"," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})};function dIe({}){const[t,e]=j.useState(0),[n,r]=j.useState(new kT),s=(w,E)=>{if(Array.isArray(w))r(S=>({...S,[E]:w}));else if(typeof w=="string")r(S=>({...S,[E]:w}));else{const{name:S,value:C}=w.target;r(O=>({...O,[S]:C}))}},i=()=>{r(w=>({...w,headerImage:null}))},o=async(w,E)=>{const S=Kt(en,E);return await Qt(S,w),await Zt(S)},l=async w=>{w.preventDefault(),xe.fire({title:"Submitting...",text:"Please wait while we submit your requirement data.",allowOutsideClick:!1,didOpen:()=>{xe.showLoading()}});try{let E=n.headerImage?await o(n.headerImage,`tariffs/${Date.now()}_${n.headerImage.name}`):null;const S=new kT;S.id="",S.title=n.title,S.ordinance=n.ordinance,S.implementor=n.implementor,S.body=n.body.map((I,D)=>({subtitle:I.subtitle||"",body:I.body||"",image:bodyImagesURLs[D]||"",image_source:I.image_source||""})),S.headerImage=E,S.serviceProviders=n.serviceProviders||[],S.references=n.references||[];const C=await Or(Ft(ze,"tariffs"),S.toJSON()),O=gt(ze,"tariffs",C.id);await rn(O,{id:C.id}),xe.fire({title:"Tariff Submitted",text:"Your Tariff has been submitted successfully!",icon:"success"}),u(),i()}catch(E){console.error("Error submitting Tariff:",E),xe.fire({title:"Error",text:"There was an issue submitting your Tariff. Please try again.",icon:"error"})}},u=()=>{r({id:"",title:"",ordinance:"",implementor:[],body:[{subtitle:"",body:"",image:null,image_source:""}],headerImage:null,serviceProviders:[],references:[]}),e(w=>w+1)},h=(w,E,S)=>{r(C=>{const O=[...C.body];return O[w]={...O[w],[E]:S},{...C,body:O}})},f=(w,E)=>{const S=w[0];S&&r(C=>{const O=[...C.body];return O[E]={...O[E],image:S,imageUrl:URL.createObjectURL(S)},{...C,body:O}})},g=()=>{r(w=>({...w,body:[...w.body,{subtitle:"",body:"",image:null,image_source:""}]}))},p=w=>{r(E=>{const S=E.body.filter((C,O)=>O!==w);return{...E,body:S}})},v=w=>{r(E=>{const S=[...E.body];return S[w]?(S[w]={...S[w],image:null},{...E,body:S}):E})};return a.jsxs(x,{className:"custom-form body-container",onSubmit:l,onKeyDown:w=>w.key==="Enter"&&w.preventDefault(),children:[a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Cover Photo"}),a.jsx(mn,{storyForm:n,setStoryForm:r,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Title"}),a.jsx(x.Control,{type:"text",placeholder:"Enter business name",name:"title",value:n.title,onChange:s,required:!0})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"ordinance",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Ordinance No. (Optional)"}),a.jsx(x.Control,{type:"text",placeholder:"Enter odinance no.",name:"ordinance",value:n.ordinance,onChange:s})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:w=>s(w,"implementor"),label:"Implementing Office (Type & Enter)",editingItems:n.implementor,resetKey:t,required:!0})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsxs(z,{md:12,children:[a.jsx("p",{className:"label mb-2",children:"Body Sections"}),n.body.map((w,E)=>a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(B,{className:"empty-container"}),a.jsxs(x.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(x.Label,{className:"label",children:"Subtitle (Optional)"}),a.jsx(x.Control,{type:"text",className:"fw-bold",placeholder:"Enter Section Title Here",value:w.subtitle,onChange:S=>h(E,"subtitle",S.target.value)})]}),a.jsxs(z,{className:"col me-lg-2 me-md-1",children:[a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Image (Optional)"}),a.jsx(uIe,{index:E,section:w,onBodyImageDrop:f,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"}),w.image&&a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{className:"mt-2 mb-1",variant:"outline-danger",onClick:()=>v(E),children:[a.jsx(ye,{icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]})})]}),a.jsxs(x.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(x.Label,{className:"label",children:"Image Source (Optional)"}),a.jsx(x.Control,{placeholder:"e.g. @boracayphotos or /islanders or #trivago or www.trivago.com",type:"text",value:w.image_source,onChange:S=>h(E,"image_source",S.target.value)})]})]}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(x.Group,{className:"mb-5",children:[a.jsx(x.Label,{className:"label",children:"Body"}),a.jsx(rr,{index:E,section:w,handleBodyChange:h})]})}),n.body.length>1&&a.jsx(B,{className:"mb-4 d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-danger",type:"button",onClick:()=>p(E),className:"mt-3 w-full",children:[a.jsx(ye,{icon:Dt,size:"xs",fixedWidth:!0})," Delete Section"]})})]},E)),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-success",type:"button",onClick:g,className:"mb-3",children:[a.jsx(ye,{icon:nr,size:"xs",fixedWidth:!0})," Add Section"]})})]})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsx(Ve,{onChange:w=>s(w,"serviceProviders"),label:"Service Providers (Type & Enter)",editingItems:n.serviceProviders,resetKey:t})}),a.jsx(z,{md:6,children:a.jsx(Ve,{onChange:w=>s(w,"references"),label:"References and Links (Type & Enter)",editingItems:n.references,resetKey:t})})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:u,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:l,children:"Submit Tariff Rate"})]})}),a.jsx(B,{className:"empty-container"})]})}const hIe=({index:t,section:e,onBodyImageDrop:n,dropzoneName:r="dropzone-container-small",previewName:s="dropzone-uploaded-image-small"})=>{const{getRootProps:i,getInputProps:o}=Ht({onDrop:v=>n(v,t),accept:"image/png, image/jpeg, image/jpg, video/mp4, video/webm, video/ogg"}),l=e.image instanceof File,u=typeof e.image=="string"&&/\.(mp4|webm|ogg)(\?.*)?$/i.test(e.image),h=typeof e.image=="string"&&!u,f=l?URL.createObjectURL(e.image):null,g=h?e.image:null,p=u?e.image:null;return a.jsxs(B,{...i(),className:`${r} text-center w-100 ${f||g||p?"border-success":""}`,children:[a.jsx("input",{...o(),accept:"image/*,video/*"}),f?e.image.type.startsWith("video/")?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:f,type:e.image.type}),"Your browser does not support the video tag."]}):a.jsx("img",{src:f,alt:"Uploaded File Preview",className:s}):p?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:p,type:"video/mp4"}),"Your browser does not support the video tag."]}):g?a.jsx("img",{src:g,alt:"Image URL Preview",className:s}):a.jsxs("p",{className:"text-muted",children:["Drag & Drop Image/Video Here or"," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})};function fIe({editingItem:t,toAddForm:e}){const[n,r]=j.useState(0),[s,i]=j.useState(new kT),o=(S,C)=>{if(Array.isArray(S))i(O=>({...O,[C]:S}));else if(typeof S=="string")i(O=>({...O,[C]:S}));else{const{name:O,value:I}=S.target;i(D=>({...D,[O]:I}))}};useEffect(()=>{t&&setActivityFormData(S=>({...S,id:t.id||"",title:t.name||"",ordinance:t.ordinance||"",implementor:t.implementor||[],body:t.body.map((C,O)=>({subtitle:C.subtitle||"",body:C.body||"",image:C.image||"",image_source:C.image_source||""})),headerImage:t.headerImage||"",references:t.references||[],serviceProviders:t.serviceProviders||[]}))},[t]);const l=()=>{i(S=>({...S,headerImage:null}))},u=async(S,C)=>{const O=Kt(en,C);return await Qt(O,S),await Zt(O)},h=async S=>{S.preventDefault(),xe.fire({title:"Submitting...",text:"Please wait while we submit your tariff data.",allowOutsideClick:!1,didOpen:()=>{xe.showLoading()}});try{let C=s.headerImage;s.headerImage instanceof File&&(t&&t.headerImage&&await Vt(t.headerImage),C=await u(s.headerImage,`tariffs/${Date.now()}_${s.headerImage.name}`));const O=await Promise.all(s.body.map(async(T,F)=>T.image instanceof File?(t&&t.body&&t.body[F]&&t.body[F].image&&await Vt(t.body[F].image),await u(T.image,`tariffs/${Date.now()}_${T.image.name}`)):T.image)),I={id:t?t.id:"",title:s.title,ordinance:s.ordinance,implementor:s.implementor,body:s.body.map((T,F)=>({subtitle:T.subtitle,body:T.body,image:O[F]||"",image_source:T.image_source})),headerImage:C,references:s.references,serviceProviders:s.serviceProviders},D=gt(ze,"tariffs",s.id);await rn(D,I),xe.fire({title:"Tariff Posted",text:"Your Tariff has been edited successfully!",icon:"success"}),l(),e()}catch(C){console.error("Error submitting Tariff:",C),xe.fire({title:"Error",text:"There was an issue submitting your Tariff. Please try again.",icon:"error"})}},f=()=>{i({id:"",title:"",ordinance:"",implementor:[],body:[{subtitle:"",body:"",image:null,image_source:""}],headerImage:null,serviceProviders:[],references:[]}),r(S=>S+1)},g=(S,C,O)=>{i(I=>{const D=[...I.body];return D[S]={...D[S],[C]:O},{...I,body:D}})},p=(S,C)=>{const O=S[0];O&&i(I=>{const D=[...I.body];return D[C]={...D[C],image:O,imageUrl:URL.createObjectURL(O)},{...I,body:D}})},v=()=>{i(S=>({...S,body:[...S.body,{subtitle:"",body:"",image:null,image_source:""}]}))},w=S=>{i(C=>{const O=C.body.filter((I,D)=>D!==S);return{...C,body:O}})},E=S=>{i(C=>{const O=[...C.body];return O[S]?(O[S]={...O[S],image:null},{...C,body:O}):C})};return a.jsxs(x,{className:"custom-form body-container",onSubmit:h,onKeyDown:S=>S.key==="Enter"&&S.preventDefault(),children:[a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Cover Photo"}),a.jsx(mn,{storyForm:s,setStoryForm:i,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Title"}),a.jsx(x.Control,{type:"text",placeholder:"Enter business name",name:"title",value:s.title,onChange:o,required:!0})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"ordinance",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Ordinance No. (Optional)"}),a.jsx(x.Control,{type:"text",placeholder:"Enter odinance no.",name:"ordinance",value:s.ordinance,onChange:o})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:S=>o(S,"implementor"),label:"Implementing Office (Type & Enter)",editingItems:s.implementor,resetKey:n,required:!0})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsxs(z,{md:12,children:[a.jsx("p",{className:"label mb-2",children:"Body Sections"}),s.body.map((S,C)=>a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(B,{className:"empty-container"}),a.jsxs(x.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(x.Label,{className:"label",children:"Subtitle (Optional)"}),a.jsx(x.Control,{type:"text",className:"fw-bold",placeholder:"Enter Section Title Here",value:S.subtitle,onChange:O=>g(C,"subtitle",O.target.value)})]}),a.jsxs(z,{className:"col me-lg-2 me-md-1",children:[a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Image (Optional)"}),a.jsx(hIe,{index:C,section:S,onBodyImageDrop:p,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"}),S.image&&a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{className:"mt-2 mb-1",variant:"outline-danger",onClick:()=>E(C),children:[a.jsx(ye,{icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]})})]}),a.jsxs(x.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(x.Label,{className:"label",children:"Image Source (Optional)"}),a.jsx(x.Control,{placeholder:"e.g. @boracayphotos or /islanders or #trivago or www.trivago.com",type:"text",value:S.image_source,onChange:O=>g(C,"image_source",O.target.value)})]})]}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(x.Group,{className:"mb-5",children:[a.jsx(x.Label,{className:"label",children:"Body"}),a.jsx(rr,{index:C,section:S,handleBodyChange:g})]})}),s.body.length>1&&a.jsx(B,{className:"mb-4 d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-danger",type:"button",onClick:()=>w(C),className:"mt-3 w-full",children:[a.jsx(ye,{icon:Dt,size:"xs",fixedWidth:!0})," Delete Section"]})})]},C)),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-success",type:"button",onClick:v,className:"mb-3",children:[a.jsx(ye,{icon:nr,size:"xs",fixedWidth:!0})," Add Section"]})})]})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsx(Ve,{onChange:S=>o(S,"serviceProviders"),label:"Service Providers (Type & Enter)",editingItems:s.serviceProviders,resetKey:n})}),a.jsx(z,{md:6,children:a.jsx(Ve,{onChange:S=>o(S,"references"),label:"References and Links (Type & Enter)",editingItems:s.references,resetKey:n})})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:f,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:h,children:"Submit Update"})]})}),a.jsx(B,{className:"empty-container"})]})}const mIe=()=>{const[t,e]=j.useState([]),[n,r]=j.useState(""),[s,i]=j.useState("asc"),[o,l]=j.useState(0),[u,h]=j.useState(null),f=10;j.useEffect(()=>{v()},[]);const[g,p]=j.useState(!0),v=async()=>{try{const A=(await ur(Ft(ze,"tariffs"))).docs.map(_=>({id:_.id,..._.data()}));e(A)}catch(y){console.error("Error fetching data:",y)}finally{p(!1)}},w=y=>{h(y)},E=async y=>{window.confirm("Are you sure you want to delete this entry?")&&(await kr(gt(ze,"tariffs",y)),v())},S=t.filter(y=>y.title.toLowerCase().includes(n.toLowerCase())||y.port.toLowerCase().includes(n.toLowerCase())||y.purpose.toLowerCase().includes(n.toLowerCase())||y.references.toLowerCase().includes(n.toLowerCase())),C=()=>new Date().toISOString().split("T")[0],O=()=>{const y=t.map(({title:L,...R})=>({...R,refrences:Array.isArray(R.refrences)?R.refrences.join(", "):"",serviceProviders:Array.isArray(R.serviceProviders)?R.serviceProviders.join(", "):"",implementor:Array.isArray(R.implementor)?R.implementor.join(", "):"",body:Array.isArray(R.body)?R.body.join(", "):""})),A=yt.json_to_sheet(y),_=yt.book_new();yt.book_append_sheet(_,A,"Data"),Fr(_,`tourism_requirements_infoguide_${C()}.xlsx`)},I=Math.ceil(S.length/f),D=S.slice(o*f,(o+1)*f),T=({selected:y})=>{l(y)},F=()=>{h(null)};return a.jsxs(B,{children:[a.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Tariff Rates"}),a.jsx("p",{children:"List of Tariff Rates."}),a.jsxs(V,{className:"mb-4 mt-4",children:[a.jsx(z,{md:4,className:"mb-2 me-2 col",children:a.jsx(x.Control,{type:"text",placeholder:`Search up to over ${t.length} tariff rates`,value:n,onChange:y=>r(y.target.value)})}),a.jsxs(B,{className:"d-flex justify-content-end align-items-center mt-2",children:[a.jsxs(se,{variant:"outline-secondary",className:"me-2",onClick:v,children:[a.jsx(ye,{icon:Pr,size:"xs",fixedWidth:!0})," Refresh List"]}),a.jsxs(se,{variant:"outline-success",onClick:F,children:[a.jsx(ye,{icon:Dr,size:"xs",fixedWidth:!0})," Add New"]})]})]}),g?a.jsx("div",{className:"d-flex justify-content-center align-items-center my-5",children:a.jsx(Cr,{animation:"border",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):D.length===0?a.jsx("div",{className:"text-center my-5",children:a.jsx("h5",{children:"No Data Available"})}):a.jsxs(Rr,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Title"}),a.jsx("th",{children:"Ordinance"}),a.jsx("th",{children:"Implementing Office"}),a.jsx("th",{children:"References"}),a.jsx("th",{children:"Service Providers"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:a.jsxs("tr",{children:[a.jsx("td",{children:item.title}),a.jsx("td",{children:item.ordinance}),a.jsx("td",{children:Array.isArray(item.implementor)?item.implementor.join(", "):item.implementor}),a.jsx("td",{children:Array.isArray(item.references)?item.references.join(", "):item.references}),a.jsx("td",{children:Array.isArray(item.serviceProviders)?item.serviceProviders.join(", "):item.serviceProviders}),a.jsx("td",{children:a.jsxs(B,{className:"d-flex justify-content-center align-items-center",children:[a.jsx(Jt,{placement:"top",overlay:a.jsx(Wt,{children:"Edit"}),children:a.jsx(se,{variant:"outline-secondary",size:"sm",className:"me-2",onClick:()=>w(item),children:a.jsx(ye,{icon:Ir,size:"xs",fixedWidth:!0})})}),a.jsx(Jt,{placement:"top",overlay:a.jsx(Wt,{children:"Delete"}),children:a.jsx(se,{variant:"outline-danger",size:"sm",onClick:()=>E(item.id),children:a.jsx(ye,{icon:Dt,size:"xs",fixedWidth:!0})})})]})})]},item.id)})]}),a.jsxs(B,{className:"d-flex justify-content-between align-items-center mb-4 mt-2",children:[a.jsx(se,{onClick:O,variant:"outline-success",children:"Download Excel"}),a.jsx(Mr,{previousLabel:"",nextLabel:"",pageCount:I,onPageChange:T,containerClassName:"pagination mb-0",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})]}),u?a.jsx(fIe,{editingItem:u,toAddForm:()=>h(null)}):a.jsx(dIe,{})]})};class OK{constructor(){this.id="",this.dateTimeStart="",this.dateTimeEnd="",this.category="",this.title="",this.body=[{subtitle:"",body:"",image:null,image_source:""}],this.headerImage=null,this.headerImageSource=[],this.tags=[],this.thingsToDo=[]}toJSON(){return{...this}}}const IK=["Cultural Events","Anniversary","Enterprise Event","Beach Party","Festival","Sports Event","Holiday Party","Concert & Music Festival","Fundraiser & Charity Event","Networking Event","Conference & Seminar","Trade Show & Expo","Community Gathering","Retreat & Team Building","Theme Party","Yultide Celebration"],pIe=({index:t,section:e,onBodyImageDrop:n,dropzoneName:r="dropzone-container-small",previewName:s="dropzone-uploaded-image-small"})=>{const{getRootProps:i,getInputProps:o}=Ht({onDrop:u=>n(u,t),accept:"image/png, image/jpeg, image/jpg, video/mp4, video/webm, video/ogg"}),l=e.image?e.image instanceof File?URL.createObjectURL(e.image):e.image:null;return a.jsxs(B,{...i(),className:`${r} text-center w-100 ${l?"border-success":""}`,children:[a.jsx("input",{...o(),accept:"image/*,video/*"}),l?e.image instanceof File&&e.image.type.startsWith("video/")?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:l,type:e.image.type}),"Your browser does not support the video tag."]}):a.jsx("img",{src:l,alt:"Body Image Preview",className:s}):a.jsxs("p",{className:"text-muted",children:["Drag & Drop Image/Video Here or"," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})};function gIe(){const[t,e]=j.useState(new OK),[n,r]=j.useState(0);j.useEffect(()=>{},[]);const s=()=>{e({id:"",dateTimeStart:"",dateTimeEnd:"",category:"",title:"",headerImage:null,headerImageSource:[],body:[{subtitle:"",body:"",image:null,image_source:""}],tags:[],thingsToDo:[]}),r(T=>T+1)},i=(T,F)=>{if(Array.isArray(T))e(y=>({...y,[F]:T}));else if(typeof T=="string")e(y=>({...y,[F]:T}));else{const{name:y,value:A}=T.target;e(_=>({..._,[y]:A}))}},o=(T,F,y)=>{e(A=>{const _=[...A.body];return _[T]={..._[T],[F]:y},{...A,body:_}})},l=(T,F)=>{const y=T[0];y&&e(A=>{const _=[...A.body];return _[F]={..._[F],image:y,imageUrl:URL.createObjectURL(y)},{...A,body:_}})},u=()=>{e(T=>({...T,body:[...T.body,{subtitle:"",body:"",image:null,image_source:""}]}))},h=T=>{e(F=>{const y=F.body.filter((A,_)=>_!==T);return{...F,body:y}})},[f,g]=j.useState(null),[p,v]=j.useState(""),w=j.useCallback(T=>{T.length>0&&g(T[0])},[]),{getRootProps:E,getInputProps:S}=Ht({onDrop:w,accept:"image/*",disabled:!!p}),C=()=>{e(T=>({...T,headerImage:null}))},O=T=>{e(F=>{const y=[...F.body];return y[T]?(y[T]={...y[T],image:null},{...F,body:y}):F})},I=async(T,F)=>{const y=Kt(en,F);return await Qt(y,T),await Zt(y)},D=async T=>{T.preventDefault(),xe.fire({title:"Submitting...",text:"Please wait while we submit your calendar event.",allowOutsideClick:!1,didOpen:()=>{xe.showLoading()}});try{let F=await I(t.headerImage,`calendarEvents/${Date.now()}_${t.headerImage}`);const y=await Promise.all(t.body.map(async(R,U)=>R.image?await I(R.image,`calendarEvents/${Date.now()}_${R.image.name}`):"")),A={id:"",dateTimeStart:t.dateTimeStart,dateTimeEnd:t.dateTimeEnd,category:t.category,title:t.title,headerImage:F,headerImageSource:t.headerImageSource,body:t.body.map((R,U)=>({subtitle:R.subtitle,body:R.body,image:y[U]||"",image_source:R.image_source})),tags:t.tags,thingsToDo:t.thingsToDo},_=await Or(Ft(ze,"calendarEvents"),A),L=gt(ze,"calendarEvents",_.id);await L(L,{id:_.id}),xe.fire({title:"Calendar Events Submitted",text:"Your Calendar Events has been submitted successfully!",icon:"success"}),s(),C()}catch(F){console.error("Error submitting Calendar Events:",F),xe.fire({title:"Error",text:"There was an issue submitting your Calendar Events. Please try again.",icon:"error"})}};return j.useRef(null),a.jsxs(x,{className:"custom-form body-container",onSubmit:D,onKeyDown:T=>T.key==="Enter"&&T.preventDefault(),children:[a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"category",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Category"}),a.jsxs(x.Select,{name:"category",value:t.category,onChange:i,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Category"}),IK.map((T,F)=>a.jsx("option",{value:T,children:T},F))]})]})}),a.jsx(z,{md:6,children:a.jsx(B,{className:"empty-container"})})]}),a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Start Date & Time"}),a.jsx(x.Control,{type:"datetime-local",name:"dateTimeStart",value:t.dateTimeStart,onChange:i,required:!0})]})}),a.jsx(z,{md:6,children:a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"End Date & Time"}),a.jsx(x.Control,{type:"datetime-local",name:"dateTimeEnd",value:t.dateTimeEnd,onChange:i,min:t.dateTimeStart,disabled:!t.dateTimeStart,required:!0})]})})]}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Title"}),a.jsx(x.Control,{type:"text",name:"title",className:"fw-bold",value:t.title,onChange:i,placeholder:"Enter title",required:!0})]})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{className:"my-2",children:[a.jsx(x.Label,{className:"label",children:"Upload Header Image (800x400)"}),a.jsx(mn,{storyForm:t,setStoryForm:e,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"}),a.jsxs(B,{className:"d-flex justify-content-between mt-2",children:[a.jsx("p",{className:"subtitle",children:"Supported File: PNG, JPEG, and JPG"}),a.jsx("p",{className:"subtitle",children:"Maximum size: 25MB"})]}),a.jsx(B,{className:"d-flex justify-content-end",children:f&&(p?null:a.jsxs(se,{className:"my-2",variant:"outline-danger",onClick:C,children:[a.jsx(ye,{className:"button-icon",icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]}))})]})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:T=>i(T,"headerImageSource"),label:"Header Image Sources (Type & Enter)",editingItems:t.headerImageSource,resetKey:n})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsxs(z,{md:12,children:[a.jsx("p",{className:"label mb-2",children:"Body Sections"}),t.body.map((T,F)=>a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(B,{className:"empty-container"}),a.jsxs(x.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(x.Label,{className:"label",children:"Subtitle (Optional)"}),a.jsx(x.Control,{type:"text",className:"fw-bold",value:T.subtitle,onChange:y=>o(F,"subtitle",y.target.value)})]}),a.jsxs(z,{className:"col me-lg-2 me-md-1",children:[a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Image (Optional)"}),a.jsx(pIe,{index:F,section:T,onBodyImageDrop:l,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"}),T.image&&a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{className:"mt-2 mb-1",variant:"outline-danger",onClick:()=>O(F),children:[a.jsx(ye,{icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]})})]}),a.jsxs(x.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(x.Label,{className:"label",children:"Image Source (Optional)"}),a.jsx(x.Control,{placeholder:"e.g. @boracayphotos or /islanders or #trivago or www.trivago.com",type:"text",value:T.image_source,onChange:y=>o(F,"image_source",y.target.value)})]})]}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(x.Group,{className:"mb-5",children:[a.jsx(x.Label,{className:"label",children:"Body"}),a.jsx(rr,{index:F,section:T,handleBodyChange:o})]})}),t.body.length>1&&a.jsx(B,{className:"mb-4 d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-danger",type:"button",onClick:()=>h(F),className:"mt-3 w-full",children:[a.jsx(ye,{icon:Dt,size:"xs",fixedWidth:!0})," Delete Section"]})})]},F)),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-success",type:"button",onClick:u,className:"mb-3",children:[a.jsx(ye,{icon:nr,size:"xs",fixedWidth:!0})," Add Section"]})})]})}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:T=>i(T,"thingsToDo"),label:"Things To Do (Type & Enter)",caption:"notable activities during the event",editingItems:t.thingsToDo,resetKey:n})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:T=>i(T,"tags"),label:"Tags (Type & Enter)",editingItems:t.tags,resetKey:n,caption:"imporant tags for Optimization"})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",onClick:s,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full",onClick:D,children:"Submit Event Calendar"})]})]})}const vIe=({index:t,section:e,onBodyImageDrop:n,dropzoneName:r="dropzone-container-small",previewName:s="dropzone-uploaded-image-small"})=>{const{getRootProps:i,getInputProps:o}=Ht({onDrop:v=>n(v,t),accept:"image/png, image/jpeg, image/jpg, video/mp4, video/webm, video/ogg"}),l=e.image instanceof File,u=typeof e.image=="string"&&/\.(mp4|webm|ogg)(\?.*)?$/i.test(e.image),h=typeof e.image=="string"&&!u,f=l?URL.createObjectURL(e.image):null,g=h?e.image:null,p=u?e.image:null;return a.jsxs(B,{...i(),className:`${r} text-center w-100 ${f||g||p?"border-success":""}`,children:[a.jsx("input",{...o(),accept:"image/*,video/*"}),f?e.image.type.startsWith("video/")?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:f,type:e.image.type}),"Your browser does not support the video tag."]}):a.jsx("img",{src:f,alt:"Uploaded File Preview",className:s}):p?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:p,type:"video/mp4"}),"Your browser does not support the video tag."]}):g?a.jsx("img",{src:g,alt:"Image URL Preview",className:s}):a.jsxs("p",{className:"text-muted",children:["Drag & Drop Image/Video Here or"," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})};function yIe({editingItem:t,toAddForm:e}){const[n,r]=j.useState(new OK),[s,i]=j.useState(0);j.useEffect(()=>{t&&(r(y=>({...y,id:t.id||"",dateTimeStart:t.dateTimeStart||"",dateTimeEnd:t.dateTimeEnd||"",category:t.category||"",title:t.title||"",headerImage:t.headerImage||"",headerImageSource:t.headerImageSource||[],body:t.body.map((A,_)=>({subtitle:A.subtitle||"",body:A.body||"",image:A.image||"",image_source:A.image_source||""})),tags:t.tags||[],thingsToDo:t.thingsToDo||[]})),t.category&&setSelectedCategory(t.category||""))},[t]);const o=()=>{r({id:"",dateTimeStart:"",dateTimeEnd:"",category:"",title:"",headerImage:null,headerImageSource:[],body:[{subtitle:"",body:"",image:null,image_source:""}],tags:[],thingsToDo:[]}),i(y=>y+1)},l=(y,A)=>{if(Array.isArray(y))r(_=>({..._,[A]:y}));else if(typeof y=="string")r(_=>({..._,[A]:y}));else{const{name:_,value:L}=y.target;r(R=>({...R,[_]:L}))}},u=(y,A,_)=>{r(L=>{const R=[...L.body];return R[y]={...R[y],[A]:_},{...L,body:R}})},h=(y,A)=>{const _=y[0];_&&r(L=>{const R=[...L.body];return R[A]={...R[A],image:_,imageUrl:URL.createObjectURL(_)},{...L,body:R}})},f=()=>{r(y=>({...y,body:[...y.body,{subtitle:"",body:"",image:null,image_source:""}]}))},g=y=>{r(A=>{const _=A.body.filter((L,R)=>R!==y);return{...A,body:_}})},[p,v]=j.useState(null),[w,E]=j.useState(""),S=j.useCallback(y=>{y.length>0&&v(y[0])},[]),{getRootProps:C,getInputProps:O}=Ht({onDrop:S,accept:"image/*",disabled:!!w}),I=()=>{r(y=>({...y,headerImage:null}))},D=y=>{r(A=>{const _=[...A.body];return _[y]?(_[y]={..._[y],image:null},{...A,body:_}):A})},T=async(y,A)=>{const _=Kt(en,A);return await Qt(_,y),await Zt(_)},F=async y=>{y.preventDefault(),xe.fire({title:"Updating...",text:"Please wait while we update the Calendar Events.",allowOutsideClick:!1,didOpen:()=>{xe.showLoading()}});try{let A;storyFormData.headerImage instanceof File?(t&&t.headerImage&&await Vt(t.headerImage),A=await T(storyFormData.headerImage,`calendarEvents/${Date.now()}_${storyFormData.headerImage.name}`)):A=storyFormData.headerImage;const _=await Promise.all(storyFormData.body.map(async(U,P)=>U.image instanceof File?(t&&t.body&&t.body[P]&&t.body[P].image&&await Vt(t.body[P].image),await T(U.image,`calendarEvents/${Date.now()}_${U.image.name}`)):U.image)),L={dateTimeStart:n.dateTimeStart,dateTimeEnd:n.dateTimeEnd,category:n.category,title:n.title,headerImage:A,headerImageSource:n.headerImageSource,body:n.body.map((U,P)=>({subtitle:U.subtitle,body:U.body,image:_[P]||"",image_source:U.image_source})),tags:n.tags,thingsToDo:n.thingsToDo},R=gt(ze,"calendarEvents",storyFormData.id);await rn(R,L),xe.fire({title:"Calendar Events Posted",text:"Your Calendar Events has been edited successfully!",icon:"success"}),I(),e()}catch(A){console.error("Error updating data:",A),xe.fire({title:"Error",text:"There was an issue updating your data. Please try again.",icon:"error"})}};return j.useRef(null),a.jsxs(x,{className:"custom-form body-container",onSubmit:F,onKeyDown:y=>y.key==="Enter"&&y.preventDefault(),children:[a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"category",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Category"}),a.jsxs(x.Select,{name:"category",value:n.category,onChange:l,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Category"}),IK.map((y,A)=>a.jsx("option",{value:y,children:y},A))]})]})}),a.jsx(z,{md:6,children:a.jsx(B,{className:"empty-container"})})]}),a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Start Date & Time"}),a.jsx(x.Control,{type:"datetime-local",name:"dateTimeStart",value:n.dateTimeStart,onChange:l,required:!0})]})}),a.jsx(z,{md:6,children:a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"End Date & Time"}),a.jsx(x.Control,{type:"datetime-local",name:"dateTimeEnd",value:n.dateTimeEnd,onChange:l,min:n.dateTimeStart,disabled:!n.dateTimeStart,required:!0})]})})]}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Title"}),a.jsx(x.Control,{type:"text",name:"title",className:"fw-bold",value:n.title,onChange:l,placeholder:"Enter title",required:!0})]})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{className:"my-2",children:[a.jsx(x.Label,{className:"label",children:"Upload Header Image (800x400)"}),a.jsx(mn,{storyForm:n,setStoryForm:r,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"}),a.jsxs(B,{className:"d-flex justify-content-between mt-2",children:[a.jsx("p",{className:"subtitle",children:"Supported File: PNG, JPEG, and JPG"}),a.jsx("p",{className:"subtitle",children:"Maximum size: 25MB"})]}),a.jsx(B,{className:"d-flex justify-content-end",children:p&&(w?null:a.jsxs(se,{className:"my-2",variant:"outline-danger",onClick:I,children:[a.jsx(ye,{className:"button-icon",icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]}))})]})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:y=>l(y,"headerImageSource"),label:"Header Image Sources (Type & Enter)",editingItems:n.headerImageSource,resetKey:s})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsxs(z,{md:12,children:[a.jsx("p",{className:"label mb-2",children:"Body Sections"}),n.body.map((y,A)=>a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(B,{className:"empty-container"}),a.jsxs(x.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(x.Label,{className:"label",children:"Subtitle (Optional)"}),a.jsx(x.Control,{type:"text",className:"fw-bold",value:y.subtitle,onChange:_=>u(A,"subtitle",_.target.value)})]}),a.jsxs(z,{className:"col me-lg-2 me-md-1",children:[a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Image (Optional)"}),a.jsx(vIe,{index:A,section:y,onBodyImageDrop:h,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"}),y.image&&a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{className:"mt-2 mb-1",variant:"outline-danger",onClick:()=>D(A),children:[a.jsx(ye,{icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]})})]}),a.jsxs(x.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(x.Label,{className:"label",children:"Image Source (Optional)"}),a.jsx(x.Control,{placeholder:"e.g. @boracayphotos or /islanders or #trivago or www.trivago.com",type:"text",value:y.image_source,onChange:_=>u(A,"image_source",_.target.value)})]})]}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(x.Group,{className:"mb-5",children:[a.jsx(x.Label,{className:"label",children:"Body"}),a.jsx(rr,{index:A,section:y,handleBodyChange:u})]})}),n.body.length>1&&a.jsx(B,{className:"mb-4 d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-danger",type:"button",onClick:()=>g(A),className:"mt-3 w-full",children:[a.jsx(ye,{icon:Dt,size:"xs",fixedWidth:!0})," Delete Section"]})})]},A)),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-success",type:"button",onClick:f,className:"mb-3",children:[a.jsx(ye,{icon:nr,size:"xs",fixedWidth:!0})," Add Section"]})})]})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:y=>l(y,"thingsToDo"),label:"Things To Do (Type & Enter)",caption:"notable activities during the event",editingItems:n.thingsToDo,resetKey:s})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:y=>l(y,"tags"),label:"Tags (Type & Enter)",editingItems:n.tags,resetKey:s,caption:"imporant tags for Optimization"})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",onClick:o,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full",onClick:F,children:"Submit Update"})]})]})}const xIe=()=>{const[t,e]=j.useState([]),[n,r]=j.useState(""),[s,i]=j.useState(""),[o,l]=j.useState("asc"),[u,h]=j.useState(0),[f,g]=j.useState(null),p=10;j.useEffect(()=>{E()},[]);const[v,w]=j.useState(!0),E=async()=>{try{const R=(await ur(Ft(ze,"calendarEvents"))).docs.map(U=>({id:U.id,...U.data()}));e(R)}catch(L){console.error("Error fetching data:",L)}finally{w(!1)}},S=()=>{const L=[...t].sort((R,U)=>o==="asc"?new Date(R.date)-new Date(U.date):new Date(U.date)-new Date(R.date));e(L),l(o==="asc"?"desc":"asc")},C=L=>{g(L)},O=async L=>{window.confirm("Are you sure you want to delete this entry?")&&(await kr(gt(ze,"calendarEvents",L)),E())},I=t.filter(L=>(s===""||L.category===s)&&(L.title.toLowerCase().includes(n.toLowerCase())||L.classification.toLowerCase().includes(n.toLowerCase())||L.purpose.toLowerCase().includes(n.toLowerCase())||L.date.toLowerCase().includes(n.toLowerCase())||L.name.toLowerCase().includes(n.toLowerCase())||L.email.toLowerCase().includes(n.toLowerCase())||L.social.toLowerCase().includes(n.toLowerCase()))),D=()=>new Date().toISOString().split("T")[0],T=()=>{const L=t.map(({title:P,...K})=>({...K,tags:Array.isArray(K.tags)?K.tags.join(", "):"",origin:Array.isArray(K.origin)?K.origin.join(", "):"",headerImageSource:Array.isArray(K.headerImageSource)?K.headerImageSource.join(", "):"",references:Array.isArray(K.references)?K.references.join(", "):"",socials:Array.isArray(K.socials)?K.socials.join(", "):"",body:Array.isArray(K.body)?K.body.map(G=>JSON.stringify(G)).join("; "):""})),R=yt.json_to_sheet(L),U=yt.book_new();yt.book_append_sheet(U,R,"Data"),Fr(U,`tourism_calendarEvents_infoguide_${D()}.xlsx`)},F=Math.ceil(I.length/p),y=I.slice(u*p,(u+1)*p),A=({selected:L})=>{h(L)},_=()=>{g(null)};return a.jsxs(B,{children:[a.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Calendar of Events"}),a.jsx("p",{children:"List of Calendar of Events."}),a.jsxs(V,{className:"mb-4 mt-4",children:[a.jsx(z,{md:4,className:"mb-2 me-2 col",children:a.jsx(x.Control,{type:"text",placeholder:`Search up to over ${t.length} articles`,value:n,onChange:L=>r(L.target.value)})}),a.jsx(z,{md:2,className:"mb-2 me-2 col",children:a.jsxs(x.Select,{value:s,onChange:L=>i(L.target.value),children:[a.jsx("option",{value:"",children:"All Category"}),[...new Set(t.map(L=>L.category))].map((L,R)=>a.jsx("option",{value:L,children:L},R))]})}),a.jsxs(B,{className:"d-flex justify-content-end align-items-center mt-2",children:[a.jsxs(se,{variant:"outline-secondary",className:"me-2",onClick:E,children:[a.jsx(ye,{icon:Pr,size:"xs",fixedWidth:!0})," Refresh List"]}),a.jsxs(se,{variant:"outline-success",onClick:_,children:[a.jsx(ye,{icon:Dr,size:"xs",fixedWidth:!0})," Add New"]})]})]}),v?a.jsx("div",{className:"d-flex justify-content-center align-items-center my-5",children:a.jsx(Cr,{animation:"border",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):y.length===0?a.jsx("div",{className:"text-center my-5",children:a.jsx("h5",{children:"No Data Available"})}):a.jsxs(Rr,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsxs("th",{onClick:S,style:{cursor:"pointer"},children:["Date ",o==="asc"?"":""]}),a.jsx("th",{children:"Classification"}),a.jsx("th",{children:"Title"}),a.jsx("th",{children:"Origin"}),a.jsx("th",{children:"References"}),a.jsx("th",{children:"Socials"})]})}),a.jsx("tbody",{children:y.map(L=>a.jsxs("tr",{children:[a.jsx("td",{children:new Date(L.date).toLocaleDateString()}),a.jsx("td",{children:L.classification}),a.jsx("td",{children:L.title}),a.jsx("td",{children:Array.isArray(L.origin)?L.origin.join(", "):L.origin}),a.jsx("td",{children:Array.isArray(L.references)?L.references.join(", "):L.references}),a.jsx("td",{children:Array.isArray(L.socials)?L.socials.join(", "):L.socials}),a.jsx("td",{children:a.jsxs(B,{className:"d-flex justify-content-center align-items-center",children:[a.jsx(Jt,{placement:"top",overlay:a.jsx(Wt,{children:"Edit"}),children:a.jsx(se,{variant:"outline-secondary",size:"sm",className:"me-2",onClick:()=>C(L),children:a.jsx(ye,{icon:Ir,size:"xs",fixedWidth:!0})})}),a.jsx(Jt,{placement:"top",overlay:a.jsx(Wt,{children:"Delete"}),children:a.jsx(se,{variant:"outline-danger",size:"sm",onClick:()=>O(L.id),children:a.jsx(ye,{icon:Dt,size:"xs",fixedWidth:!0})})})]})})]},L.id))})]}),a.jsxs(B,{className:"d-flex justify-content-between align-items-center mb-4 mt-2",children:[a.jsx(se,{onClick:T,variant:"outline-success",children:"Download Excel"}),a.jsx(Mr,{previousLabel:"",nextLabel:"",pageCount:F,onPageChange:A,containerClassName:"pagination mb-0",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})]}),f?a.jsx(yIe,{editingItem:f,toAddForm:()=>g(null)}):a.jsx(gIe,{})]})};class OT{constructor(){this.id="",this.title="",this.category=[],this.description="",this.headerImage=null,this.references=[]}toJSON(){return{...this}}}const PK=["General Inquiries","Complaints & Assistance","Entry & Exit Fees and Requirements","Tourist Registration","Travel Inspiration","Tourism Campaigns","News & Updates","Public Transportation","Car Rentals & Ridesharing","Hotel & Accommodation Booking","Tour & Activity Reservations","Local Tips & Recommendations","Sustainable & Eco-Tourism","Cultural & Heritage Sites","Emergency Contacts & Safety","Visa & Immigration Information","Currency Exchange & Payments","Weather & Climate Updates","Language & Communication","Local Laws & Etiquette","Food & Dining Guides","Shopping & Souvenirs","Events & Festivals","Healthcare & Medical Assistance","Itinerary Generation","Tourism Enterprise Accreditation"];function bIe({}){const[t,e]=j.useState(0),[n,r]=j.useState(new OT),s=(u,h)=>{if(Array.isArray(u))r(f=>({...f,[h]:u}));else if(typeof u=="string")r(f=>({...f,[h]:u}));else{const{name:f,value:g}=u.target;r(p=>({...p,[f]:g}))}},i=async(u,h)=>{const f=Kt(en,h);return await Qt(f,u),await Zt(f)},o=async u=>{u.preventDefault(),xe.fire({title:"Submitting...",text:"Please wait while we submit your helpful links.",allowOutsideClick:!1,didOpen:()=>{xe.showLoading()}});try{let h=n.headerImage?await i(n.headerImage,`helpfulLinks/${Date.now()}_${n.headerImage.name}`):null;console.log(h);const f=new OT;f.id="",f.title=n.title,f.category=n.category||[],f.description=n.description,f.headerImage=h,f.references=n.references||[];const g=await Or(Ft(ze,"helpfulLinks"),f.toJSON()),p=gt(ze,"helpfulLinks",g.id);await rn(p,{id:g.id}),xe.fire({title:"Helpful Links Submitted",text:"Your Helpful Links has been submitted successfully!",icon:"success"}),l()}catch(h){console.error("Error submitting Helpful Links:",h),xe.fire({title:"Error",text:"There was an issue submitting your Helpful Links. Please try again.",icon:"error"})}},l=()=>{r({id:"",title:"",category:"",description:"",headerImage:null,references:[]}),e(u=>u+1)};return a.jsxs(x,{className:"custom-form body-container",onSubmit:o,onKeyDown:u=>u.key==="Enter"&&u.preventDefault(),children:[a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"headerImage",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Cover Photo"}),a.jsx(mn,{storyForm:n,setStoryForm:r,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(qn,{onChange:u=>s(u,"category"),options:PK,resetKey:t,editingItems:n.category,label:"Categories"})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"title",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Title"}),a.jsx(x.Control,{type:"text",placeholder:"Enter business name",name:"title",value:n.title,onChange:s,required:!0})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"description",className:"mb-5 mt-2",children:[a.jsx(x.Label,{className:"label",children:"Brief Description"}),a.jsx(On,{theme:"snow",value:n.description||"",onChange:u=>s(u,"description"),required:!0,style:{height:"300px"}})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:u=>s(u,"references"),label:"References and Links (Type & Enter)",editingItems:n.references,resetKey:t})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:l,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:o,children:"Submit HelpfulLink"})]})}),a.jsx(B,{className:"empty-container"})]})}function wIe({editingItem:t,toAddForm:e}){const[n,r]=j.useState(0),[s,i]=j.useState(new OT),o=(O,I)=>{if(Array.isArray(O))i(D=>({...D,[I]:O}));else if(typeof O=="string")i(D=>({...D,[I]:O}));else{const{name:D,value:T}=O.target;i(F=>({...F,[D]:T}))}};j.useEffect(()=>{t&&i(O=>({...O,id:t.id||"",title:t.title||"",category:t.category||[],description:t.description||"",headerImage:t.headerImage||"",references:t.references||[]}))},[t]);const[l,u]=j.useState(null),[h,f]=j.useState(""),g=j.useCallback(O=>{O.length>0&&u(O[0])},[]),{getRootProps:p,getInputProps:v}=Ht({onDrop:g,accept:"image/*",disabled:!!h}),w=()=>{i(O=>({...O,headerImage:null}))},E=async(O,I)=>{const D=Kt(en,I);return await Qt(D,O),await Zt(D)},S=async O=>{O.preventDefault(),xe.fire({title:"Submitting...",text:"Please wait while we submit your helpful Links.",allowOutsideClick:!1,didOpen:()=>{xe.showLoading()}});try{let I=s.headerImage;s.headerImage instanceof File?(t&&t.headerImage&&await Vt(t.headerImage),I=await E(s.headerImage,`helpfulLinks/${Date.now()}_${s.headerImage.name}`)):I=s.headerImage;const D={id:t?t.id:"",title:s.title,category:s.category||[],description:s.description,headerImage:I,references:s.references||[]},T=gt(ze,"helpfulLinks",s.id);try{await rn(T,D),xe.fire({title:"Helpful Links Updated",text:"Your Helpful Links has been updated successfully!",icon:"success"}),w(),C(),e()}catch(F){console.error("Error updating hotlines:",F),xe.fire({title:"Update Failed",text:"There was an error updating the Helpful Links.",icon:"error"})}}catch(I){console.error("Error submitting Helpful Links:",I),xe.fire({title:"Error",text:"There was an issue submitting your Helpful Links. Please try again.",icon:"error"})}},C=()=>{i({id:"",title:"",description:"",headerImage:null,references:[]}),r(O=>O+1)};return a.jsxs(x,{className:"custom-form body-container",onSubmit:S,onKeyDown:O=>O.key==="Enter"&&O.preventDefault(),children:[a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{className:"my-2",children:[a.jsx(x.Label,{className:"label",children:"Upload Header Image (800x400)"}),a.jsx(mn,{storyForm:s,setStoryForm:i,editingItem:s,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"}),a.jsxs(B,{className:"d-flex justify-content-between mt-2",children:[a.jsx("p",{className:"subtitle",children:"Supported File: PNG, JPEG, and JPG"}),a.jsx("p",{className:"subtitle",children:"Maximum size: 25MB"})]}),a.jsx(B,{className:"d-flex justify-content-end",children:l&&(h?null:a.jsxs(se,{className:"my-2",variant:"outline-danger",onClick:w,children:[a.jsx(ye,{className:"button-icon",icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]}))})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(qn,{onChange:O=>o(O,"category"),options:PK,resetKey:n,editingItems:s.category,label:"Categories"})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Title"}),a.jsx(x.Control,{type:"text",placeholder:"Enter business name",name:"title",value:s.title,onChange:o,required:!0})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"description",className:"mb-5 mt-2",children:[a.jsx(x.Label,{className:"label",children:"Brief Description"}),a.jsx(On,{theme:"snow",value:s.description||"",onChange:O=>o(O,"description"),required:!0,style:{height:"300px"}})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:O=>o(O,"references"),label:"References and Links (Type & Enter)",editingItems:s.references,resetKey:n})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:C,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:S,children:"Submit Update"})]})}),a.jsx(B,{className:"empty-container"})]})}const _Ie=()=>{const[t,e]=j.useState([]),[n,r]=j.useState(""),[s,i]=j.useState("asc"),[o,l]=j.useState(0),[u,h]=j.useState(null),f=10;j.useEffect(()=>{v()},[]);const[g,p]=j.useState(!0),v=async()=>{try{const A=(await ur(Ft(ze,"helpfulLinks"))).docs.map(_=>({id:_.id,..._.data()}));e(A)}catch(y){console.error("Error fetching data:",y)}finally{p(!1)}},w=y=>{h(y)},E=async y=>{window.confirm("Are you sure you want to delete this entry?")&&(await kr(gt(ze,"helpfulLinks",y)),v())},S=t.filter(y=>y.title.toLowerCase().includes(n.toLowerCase())||y.references.toLowerCase().includes(n.toLowerCase())),C=()=>new Date().toISOString().split("T")[0],O=()=>{const y=t.map(({title:L,...R})=>({...R,references:R.references?JSON.stringify(R.references):""})),A=yt.json_to_sheet(y),_=yt.book_new();yt.book_append_sheet(_,A,"Data"),Fr(_,`tourism_helpfulLinks_infoguide_${C()}.xlsx`)},I=Math.ceil(S.length/f),D=S.slice(o*f,(o+1)*f),T=({selected:y})=>{l(y)},F=()=>{h(null)};return a.jsxs(B,{children:[a.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Tourist Links"}),a.jsx("p",{children:"List of Helpful Links for tourists."}),a.jsxs(V,{className:"mb-4 mt-4",children:[a.jsx(z,{md:4,className:"mb-2 me-2 col",children:a.jsx(x.Control,{type:"text",placeholder:`Search up to over ${t.length} helpful links`,value:n,onChange:y=>r(y.target.value)})}),a.jsxs(B,{className:"d-flex justify-content-end align-items-center mt-2",children:[a.jsxs(se,{variant:"outline-secondary",className:"me-2",onClick:v,children:[a.jsx(ye,{icon:Pr,size:"xs",fixedWidth:!0})," Refresh List"]}),a.jsxs(se,{variant:"outline-success",onClick:F,children:[a.jsx(ye,{icon:Dr,size:"xs",fixedWidth:!0})," Add New"]})]})]}),g?a.jsx("div",{className:"d-flex justify-content-center align-items-center my-5",children:a.jsx(Cr,{animation:"border",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):D.length===0?a.jsx("div",{className:"text-center my-5",children:a.jsx("h5",{children:"No Data Available"})}):a.jsxs(Rr,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Title"}),a.jsx("th",{children:"References"})]})}),a.jsx("tbody",{children:D.map(y=>a.jsxs("tr",{children:[a.jsx("td",{children:y.title}),a.jsx("td",{children:Array.isArray(y.references)?y.references.join(", "):y.references}),a.jsx("td",{children:a.jsxs(B,{className:"d-flex justify-content-center align-items-center",children:[a.jsx(Jt,{placement:"top",overlay:a.jsx(Wt,{children:"Edit"}),children:a.jsx(se,{variant:"outline-secondary",size:"sm",className:"me-2",onClick:()=>w(y),children:a.jsx(ye,{icon:Ir,size:"xs",fixedWidth:!0})})}),a.jsx(Jt,{placement:"top",overlay:a.jsx(Wt,{children:"Delete"}),children:a.jsx(se,{variant:"outline-danger",size:"sm",onClick:()=>E(y.id),children:a.jsx(ye,{icon:Dt,size:"xs",fixedWidth:!0})})})]})})]},y.id))})]}),a.jsxs(B,{className:"d-flex justify-content-between align-items-center mb-4 mt-2",children:[a.jsx(se,{onClick:O,variant:"outline-success",children:"Download Excel"}),a.jsx(Mr,{previousLabel:"",nextLabel:"",pageCount:I,onPageChange:T,containerClassName:"pagination mb-0",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})]}),u?a.jsx(wIe,{editingItem:u,toAddForm:()=>h(null)}):a.jsx(bIe,{})]})};class IT{constructor(){this.id="",this.title="",this.body=[{subtitle:"",body:"",image:null,image_source:""}],this.headerImage=null,this.references=[]}toJSON(){return{...this}}}const jIe=({index:t,section:e,onBodyImageDrop:n,dropzoneName:r="dropzone-container-small",previewName:s="dropzone-uploaded-image-small"})=>{const{getRootProps:i,getInputProps:o}=Ht({onDrop:v=>n(v,t),accept:"image/png, image/jpeg, image/jpg, video/mp4, video/webm, video/ogg"}),l=e.image instanceof File,u=typeof e.image=="string"&&/\.(mp4|webm|ogg)(\?.*)?$/i.test(e.image),h=typeof e.image=="string"&&!u,f=l?URL.createObjectURL(e.image):null,g=h?e.image:null,p=u?e.image:null;return a.jsxs(B,{...i(),className:`${r} text-center w-100 ${f||g||p?"border-success":""}`,children:[a.jsx("input",{...o(),accept:"image/*,video/*"}),f?e.image.type.startsWith("video/")?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:f,type:e.image.type}),"Your browser does not support the video tag."]}):a.jsx("img",{src:f,alt:"Uploaded File Preview",className:s}):p?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:p,type:"video/mp4"}),"Your browser does not support the video tag."]}):g?a.jsx("img",{src:g,alt:"Image URL Preview",className:s}):a.jsxs("p",{className:"text-muted",children:["Drag & Drop Image/Video Here or"," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})};function EIe({editingItem:t,toAddForm:e}){const[n,r]=j.useState(0),[s,i]=j.useState(new IT),o=(S,C)=>{if(Array.isArray(S))i(O=>({...O,[C]:S}));else if(typeof S=="string")i(O=>({...O,[C]:S}));else{const{name:O,value:I}=S.target;i(D=>({...D,[O]:I}))}};j.useEffect(()=>{t&&i(S=>({...S,id:t.id||"",title:t.title||"",body:t.body.map((C,O)=>({subtitle:C.subtitle||"",body:C.body||"",image:C.image||"",image_source:C.image_source||""})),headerImage:t.headerImage||"",references:t.references||[]}))},[t]);const l=()=>{i(S=>({...S,headerImage:null}))},u=async(S,C)=>{const O=Kt(en,C);return await Qt(O,S),await Zt(O)},h=async S=>{S.preventDefault(),xe.fire({title:"Submitting...",text:"Please wait while we updating your lifeStyle data.",allowOutsideClick:!1,didOpen:()=>{xe.showLoading()}});try{let C=s.headerImage;s.headerImage instanceof File&&(t&&t.headerImage&&await Vt(t.headerImage),C=await u(s.headerImage,`lifeStyles/${Date.now()}_${s.headerImage.name}`));const O=await Promise.all(s.body.map(async(T,F)=>T.image instanceof File?(t&&t.body&&t.body[F]&&t.body[F].image&&await Vt(t.body[F].image),await u(T.image,`lifeStyles/${Date.now()}_${T.image.name}`)):T.image)),I={id:t?t.id:"",title:s.title,body:s.body.map((T,F)=>({subtitle:T.subtitle,body:T.body,image:O[F]||"",image_source:T.image_source})),headerImage:C,references:s.references},D=gt(ze,"lifeStyles",s.id);await rn(D,I),xe.fire({title:"lifeStyles Posted",text:"Your lifeStyles has been edited successfully!",icon:"success"}),l(),e()}catch(C){console.error("Error submitting lifeStyles:",C),xe.fire({title:"Error",text:"There was an issue submitting your lifeStyles. Please try again.",icon:"error"})}},f=()=>{i({id:"",title:"",body:[{subtitle:"",body:"",image:null,image_source:""}],headerImage:null,references:[]}),r(S=>S+1)},g=(S,C,O)=>{i(I=>{const D=[...I.body];return D[S]={...D[S],[C]:O},{...I,body:D}})},p=(S,C)=>{const O=S[0];O&&i(I=>{const D=[...I.body];return D[C]={...D[C],image:O,imageUrl:URL.createObjectURL(O)},{...I,body:D}})},v=()=>{i(S=>({...S,body:[...S.body,{subtitle:"",body:"",image:null,image_source:""}]}))},w=S=>{i(C=>{const O=C.body.filter((I,D)=>D!==S);return{...C,body:O}})},E=S=>{i(C=>{const O=[...C.body];return O[S]?(O[S]={...O[S],image:null},{...C,body:O}):C})};return a.jsxs(x,{className:"custom-form body-container",onSubmit:h,onKeyDown:S=>S.key==="Enter"&&S.preventDefault(),children:[a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Cover Photo"}),a.jsx(mn,{storyForm:s,setStoryForm:i,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Title"}),a.jsx(x.Control,{type:"text",placeholder:"Enter business name",name:"title",value:s.title,onChange:o,required:!0})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsxs(z,{md:12,children:[a.jsx("p",{className:"label mb-2",children:"Body Sections"}),s.body.map((S,C)=>a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(B,{className:"empty-container"}),a.jsxs(x.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(x.Label,{className:"label",children:"Subtitle (Optional)"}),a.jsx(x.Control,{type:"text",className:"fw-bold",value:S.subtitle,onChange:O=>g(C,"subtitle",O.target.value)})]}),a.jsxs(z,{className:"col me-lg-2 me-md-1",children:[a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Image (Optional)"}),a.jsx(jIe,{index:C,section:S,onBodyImageDrop:p,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"}),S.image&&a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{className:"mt-2 mb-1",variant:"outline-danger",onClick:()=>E(C),children:[a.jsx(ye,{icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]})})]}),a.jsxs(x.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(x.Label,{className:"label",children:"Image Source (Optional)"}),a.jsx(x.Control,{placeholder:"e.g. @boracayphotos or /islanders or #trivago or www.trivago.com",type:"text",value:S.image_source,onChange:O=>g(C,"image_source",O.target.value)})]})]}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(x.Group,{className:"mb-5",children:[a.jsx(x.Label,{className:"label",children:"Body"}),a.jsx(rr,{index:C,section:S,handleBodyChange:g})]})}),s.body.length>1&&a.jsx(B,{className:"mb-4 d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-danger",type:"button",onClick:()=>w(C),className:"mt-3 w-full",children:[a.jsx(ye,{icon:Dt,size:"xs",fixedWidth:!0})," Delete Section"]})})]},C)),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-success",type:"button",onClick:v,className:"mb-3",children:[a.jsx(ye,{icon:nr,size:"xs",fixedWidth:!0})," Add Section"]})})]})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:S=>o(S,"references"),label:"References and Links (Type & Enter)",editingItems:s.references,resetKey:n})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:f,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:h,children:"Submit Update"})]})}),a.jsx(B,{className:"empty-container"})]})}const SIe=({index:t,section:e,onBodyImageDrop:n,dropzoneName:r="dropzone-container-small",previewName:s="dropzone-uploaded-image-small"})=>{const{getRootProps:i,getInputProps:o}=Ht({onDrop:u=>n(u,t),accept:"image/png, image/jpeg, image/jpg, video/mp4, video/webm, video/ogg"}),l=e.image?e.image instanceof File?URL.createObjectURL(e.image):e.image:null;return a.jsxs(B,{...i(),className:`${r} text-center w-100 ${l?"border-success":""}`,children:[a.jsx("input",{...o(),accept:"image/*,video/*"}),l?e.image instanceof File&&e.image.type.startsWith("video/")?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:l,type:e.image.type}),"Your browser does not support the video tag."]}):a.jsx("img",{src:l,alt:"Body Image Preview",className:s}):a.jsxs("p",{className:"text-muted",children:["Drag & Drop Image/Video Here or"," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})};function CIe({}){const[t,e]=j.useState(0),[n,r]=j.useState(new IT),s=(w,E)=>{if(Array.isArray(w))r(S=>({...S,[E]:w}));else if(typeof w=="string")r(S=>({...S,[E]:w}));else{const{name:S,value:C}=w.target;r(O=>({...O,[S]:C}))}},i=()=>{r(w=>({...w,headerImage:null}))},o=async(w,E)=>{const S=Kt(en,E);return await Qt(S,w),await Zt(S)},l=async w=>{w.preventDefault(),xe.fire({title:"Submitting...",text:"Please wait while we submit your lifeStyle data.",allowOutsideClick:!1,didOpen:()=>{xe.showLoading()}});try{let E=n.headerImage?await o(n.headerImage,`lifeStyles/${Date.now()}_${n.headerImage.name}`):null;const S=await Promise.all(n.body.map(async(D,T)=>D.image?await o(D.image,`lifeStyles/${Date.now()}_${D.image.name}`):"")),C=new IT;C.id="",C.title=n.title,C.body=n.body.map((D,T)=>({subtitle:D.subtitle||"",body:D.body||"",image:S[T]||"",image_source:D.image_source||""})),C.headerImage=E,C.references=n.references||[];const O=await Or(Ft(ze,"lifeStyles"),C.toJSON()),I=gt(ze,"lifeStyles",O.id);await rn(I,{id:O.id}),xe.fire({title:"lifeStyle Submitted",text:"Your lifeStyle has been submitted successfully!",icon:"success"}),u(),i()}catch(E){console.error("Error submitting lifeStyle:",E),xe.fire({title:"Error",text:"There was an issue submitting your lifeStyle. Please try again.",icon:"error"})}},u=()=>{r({id:"",title:"",body:[{subtitle:"",body:"",image:null,image_source:""}],headerImage:null,references:[]}),e(w=>w+1)},h=(w,E,S)=>{r(C=>{const O=[...C.body];return O[w]={...O[w],[E]:S},{...C,body:O}})},f=(w,E)=>{const S=w[0];S&&r(C=>{const O=[...C.body];return O[E]={...O[E],image:S,imageUrl:URL.createObjectURL(S)},{...C,body:O}})},g=()=>{r(w=>({...w,body:[...w.body,{subtitle:"",body:"",image:null,image_source:""}]}))},p=w=>{r(E=>{const S=E.body.filter((C,O)=>O!==w);return{...E,body:S}})},v=w=>{r(E=>{const S=[...E.body];return S[w]?(S[w]={...S[w],image:null},{...E,body:S}):E})};return a.jsxs(x,{className:"custom-form body-container",onSubmit:l,onKeyDown:w=>w.key==="Enter"&&w.preventDefault(),children:[a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Cover Photo"}),a.jsx(mn,{storyForm:n,setStoryForm:r,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Title"}),a.jsx(x.Control,{type:"text",placeholder:"Enter business name",name:"title",value:n.title,onChange:s,required:!0})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsxs(z,{md:12,children:[a.jsx("p",{className:"label mb-2",children:"Body Sections"}),n.body.map((w,E)=>a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(B,{className:"empty-container"}),a.jsxs(x.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(x.Label,{className:"label",children:"Subtitle (Optional)"}),a.jsx(x.Control,{type:"text",className:"fw-bold",placeholder:"Subtitle",value:w.subtitle,onChange:S=>h(E,"subtitle",S.target.value)})]}),a.jsxs(z,{className:"col me-lg-2 me-md-1",children:[a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Image (Optional)"}),a.jsx(SIe,{index:E,section:w,onBodyImageDrop:f,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"}),w.image&&a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{className:"mt-2 mb-1",variant:"outline-danger",onClick:()=>v(E),children:[a.jsx(ye,{icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]})})]}),a.jsxs(x.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(x.Label,{className:"label",children:"Image Source (Optional)"}),a.jsx(x.Control,{placeholder:"e.g. @boracayphotos or /islanders or #trivago or www.trivago.com",type:"text",value:w.image_source,onChange:S=>h(E,"image_source",S.target.value)})]})]}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(x.Group,{className:"mb-5",children:[a.jsx(x.Label,{className:"label",children:"Body"}),a.jsx(rr,{index:E,section:w,handleBodyChange:h})]})}),n.body.length>1&&a.jsx(B,{className:"mb-4 d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-danger",type:"button",onClick:()=>p(E),className:"mt-3 w-full",children:[a.jsx(ye,{icon:Dt,size:"xs",fixedWidth:!0})," Delete Section"]})})]},E)),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-success",type:"button",onClick:g,className:"mb-3",children:[a.jsx(ye,{icon:nr,size:"xs",fixedWidth:!0})," Add Section"]})})]})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:w=>s(w,"references"),label:"References and Links (Type & Enter)",editingItems:n.references,resetKey:t})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:u,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:l,children:"Submit Life Style"})]})}),a.jsx(B,{className:"empty-container"})]})}const NIe=()=>{const[t,e]=j.useState([]),[n,r]=j.useState(""),[s,i]=j.useState(""),[o,l]=j.useState("asc"),[u,h]=j.useState(0),[f,g]=j.useState(null),p=10;j.useEffect(()=>{E()},[]);const[v,w]=j.useState(!0),E=async()=>{try{const L=(await ur(Ft(ze,"lifeStyles"))).docs.map(R=>({id:R.id,...R.data()}));e(L)}catch(_){console.error("Error fetching data:",_)}finally{w(!1)}},S=_=>{g(_)},C=async _=>{window.confirm("Are you sure you want to delete this entry?")&&(await kr(gt(ze,"lifeStyles",_)),E())},O=t.filter(_=>(s===""||_.category===s)&&(_.title.toLowerCase().includes(n.toLowerCase())||_.references.toLowerCase().includes(n.toLowerCase()))),I=()=>new Date().toISOString().split("T")[0],D=()=>{const _=t.map(({title:U,...P})=>({...P,refrences:Array.isArray(P.refrences)?P.refrences.join(", "):"",body:Array.isArray(P.body)?P.body.join(", "):""})),L=yt.json_to_sheet(_),R=yt.book_new();yt.book_append_sheet(R,L,"Data"),Fr(R,`tourism_lifeStyles_infoguide_${I()}.xlsx`)},T=Math.ceil(O.length/p),F=O.slice(u*p,(u+1)*p),y=({selected:_})=>{h(_)},A=()=>{g(null)};return a.jsxs(B,{children:[a.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Life Style "}),a.jsx("p",{children:"List Life Styles of Locals."}),a.jsxs(V,{className:"mb-4 mt-4",children:[a.jsx(z,{md:4,className:"mb-2 me-2 col",children:a.jsx(x.Control,{type:"text",placeholder:`Search up to over ${t.length} lifeStyles`,value:n,onChange:_=>r(_.target.value)})}),a.jsx(z,{md:2,className:"mb-2 me-2 col",children:a.jsxs(x.Select,{value:s,onChange:_=>i(_.target.value),children:[a.jsx("option",{value:"",children:"All Category"}),[...new Set(t.map(_=>_.category))].map((_,L)=>a.jsx("option",{value:_,children:_},L))]})}),a.jsxs(B,{className:"d-flex justify-content-end align-items-center mt-2",children:[a.jsxs(se,{variant:"outline-secondary",className:"me-2",onClick:E,children:[a.jsx(ye,{icon:Pr,size:"xs",fixedWidth:!0})," Refresh List"]}),a.jsxs(se,{variant:"outline-success",onClick:A,children:[a.jsx(ye,{icon:Dr,size:"xs",fixedWidth:!0})," Add New"]})]})]}),v?a.jsx("div",{className:"d-flex justify-content-center align-items-center my-5",children:a.jsx(Cr,{animation:"border",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):F.length===0?a.jsx("div",{className:"text-center my-5",children:a.jsx("h5",{children:"No Data Available"})}):a.jsxs(Rr,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Title"}),a.jsx("th",{children:"References"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:F.map(_=>a.jsxs("tr",{children:[a.jsx("td",{children:_.title}),a.jsx("td",{children:Array.isArray(_.references)?_.references.join(", "):_.references}),a.jsx("td",{children:a.jsxs(B,{className:"d-flex justify-content-center align-items-center",children:[a.jsx(Jt,{placement:"top",overlay:a.jsx(Wt,{children:"Edit"}),children:a.jsx(se,{variant:"outline-secondary",size:"sm",className:"me-2",onClick:()=>S(_),children:a.jsx(ye,{icon:Ir,size:"xs",fixedWidth:!0})})}),a.jsx(Jt,{placement:"top",overlay:a.jsx(Wt,{children:"Delete"}),children:a.jsx(se,{variant:"outline-danger",size:"sm",onClick:()=>C(_.id),children:a.jsx(ye,{icon:Dt,size:"xs",fixedWidth:!0})})})]})})]},_.id))})]}),a.jsxs(B,{className:"d-flex justify-content-between align-items-center mb-4 mt-2",children:[a.jsx(se,{onClick:D,variant:"outline-success",children:"Download Excel"}),a.jsx(Mr,{previousLabel:"",nextLabel:"",pageCount:T,onPageChange:y,containerClassName:"pagination mb-0",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})]}),f?a.jsx(EIe,{editingItem:f,toAddForm:()=>g(null)}):a.jsx(CIe,{})]})};class PT{constructor(){this.id="",this.title="",this.body=[{subtitle:"",body:"",image:null,image_source:""}],this.references=[]}toJSON(){return{...this}}}const TIe=({index:t,section:e,onBodyImageDrop:n,dropzoneName:r="dropzone-container-small",previewName:s="dropzone-uploaded-image-small"})=>{const{getRootProps:i,getInputProps:o}=Ht({onDrop:v=>n(v,t),accept:"image/png, image/jpeg, image/jpg, video/mp4, video/webm, video/ogg"}),l=e.image instanceof File,u=typeof e.image=="string"&&/\.(mp4|webm|ogg)(\?.*)?$/i.test(e.image),h=typeof e.image=="string"&&!u,f=l?URL.createObjectURL(e.image):null,g=h?e.image:null,p=u?e.image:null;return a.jsxs(B,{...i(),className:`${r} text-center w-100 ${f||g||p?"border-success":""}`,children:[a.jsx("input",{...o(),accept:"image/*,video/*"}),f?e.image.type.startsWith("video/")?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:f,type:e.image.type}),"Your browser does not support the video tag."]}):a.jsx("img",{src:f,alt:"Uploaded File Preview",className:s}):p?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:p,type:"video/mp4"}),"Your browser does not support the video tag."]}):g?a.jsx("img",{src:g,alt:"Image URL Preview",className:s}):a.jsxs("p",{className:"text-muted",children:["Drag & Drop Image/Video Here or"," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})};function AIe({editingItem:t,toAddForm:e}){const[n,r]=j.useState(0),[s,i]=j.useState(new PT),o=(E,S)=>{if(Array.isArray(E))i(C=>({...C,[S]:E}));else if(typeof E=="string")i(C=>({...C,[S]:E}));else{const{name:C,value:O}=E.target;i(I=>({...I,[C]:O}))}};j.useEffect(()=>{t&&i(E=>({...E,id:t.id||"",title:t.title||"",body:t.body.map((S,C)=>({subtitle:S.subtitle||"",body:S.body||"",image:S.image||"",image_source:S.image_source||""})),references:t.references||[]}))},[t]);const l=async(E,S)=>{const C=Kt(en,S);return await Qt(C,E),await Zt(C)},u=async E=>{E.preventDefault(),xe.fire({title:"Submitting...",text:"Please wait while we submit your tourist FAQ.",allowOutsideClick:!1,didOpen:()=>{xe.showLoading()}});try{const S=await Promise.all(s.body.map(async(I,D)=>I.image instanceof File?(t&&t.body&&t.body[D]&&t.body[D].image&&await Vt(t.body[D].image),await l(I.image,`touristFAQs/${Date.now()}_${I.image.name}`)):I.image)),C={id:t?t.id:"",title:s.title,body:s.body.map((I,D)=>({subtitle:I.subtitle,body:I.body,image:S[D]||"",image_source:I.image_source})),references:s.references||[]},O=gt(ze,"touristFAQs",s.id);try{await rn(O,C),xe.fire({title:"touristFAQ Updated",text:"Your touristFAQ has been updated successfully!",icon:"success"}),h(),e()}catch(I){console.error("Error updating hotlines:",I),xe.fire({title:"Update Failed",text:"There was an error updating the touristFAQ.",icon:"error"})}}catch(S){console.error("Error submitting touristFAQ:",S),xe.fire({title:"Error",text:"There was an issue submitting your touristFAQ. Please try again.",icon:"error"})}},h=()=>{i({id:"",title:"",body:[{subtitle:"",body:"",image:null,image_source:""}],references:[]}),r(E=>E+1)},f=(E,S,C)=>{i(O=>{const I=[...O.body];return I[E]={...I[E],[S]:C},{...O,body:I}})},g=(E,S)=>{const C=E[0];C&&i(O=>{const I=[...O.body];return I[S]={...I[S],image:C,imageUrl:URL.createObjectURL(C)},{...O,body:I}})},p=()=>{i(E=>({...E,body:[...E.body,{subtitle:"",body:"",image:null,image_source:""}]}))},v=E=>{i(S=>{const C=S.body.filter((O,I)=>I!==E);return{...S,body:C}})},w=E=>{i(S=>{const C=[...S.body];return C[E]?(C[E]={...C[E],image:null},{...S,body:C}):S})};return a.jsxs(x,{className:"custom-form body-container",onSubmit:u,onKeyDown:E=>E.key==="Enter"&&E.preventDefault(),children:[a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"title",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Title"}),a.jsx(x.Control,{type:"text",placeholder:"Enter business name",name:"title",value:s.title,onChange:o,required:!0})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsxs(z,{md:12,children:[a.jsx("p",{className:"label mb-2",children:"Body Sections"}),s.body.map((E,S)=>a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(B,{className:"empty-container"}),a.jsxs(x.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(x.Label,{className:"label",children:"Subtitle (Optional)"}),a.jsx(x.Control,{type:"text",className:"fw-bold",placeholder:"Subtitle",value:E.subtitle,onChange:C=>f(S,"subtitle",C.target.value)})]}),a.jsxs(z,{className:"col me-lg-2 me-md-1",children:[a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Image (Optional)"}),a.jsx(TIe,{index:S,section:E,onBodyImageDrop:g,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"}),E.image&&a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{className:"mt-2 mb-1",variant:"outline-danger",onClick:()=>w(S),children:[a.jsx(ye,{icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]})})]}),a.jsxs(x.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(x.Label,{className:"label",children:"Image Source (Optional)"}),a.jsx(x.Control,{placeholder:"e.g. @boracayphotos or /islanders or #trivago or www.trivago.com",type:"text",value:E.image_source,onChange:C=>f(S,"image_source",C.target.value)})]})]}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(x.Group,{className:"mb-5",children:[a.jsx(x.Label,{className:"label",children:"Body"}),a.jsx(rr,{index:S,section:E,handleBodyChange:f})]})}),s.body.length>1&&a.jsx(B,{className:"mb-4 d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-danger",type:"button",onClick:()=>v(S),className:"mt-3 w-full",children:[a.jsx(ye,{icon:Dt,size:"xs",fixedWidth:!0})," Delete Section"]})})]},S)),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-success",type:"button",onClick:p,className:"mb-3",children:[a.jsx(ye,{icon:nr,size:"xs",fixedWidth:!0})," Add Section"]})})]})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:E=>o(E,"references"),label:"References and Links (Type & Enter)",editingItems:s.references,resetKey:n})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:h,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:u,children:"Submit Update"})]})}),a.jsx(B,{className:"empty-container"})]})}const LIe=({index:t,section:e,onBodyImageDrop:n,dropzoneName:r="dropzone-container-small",previewName:s="dropzone-uploaded-image-small"})=>{const{getRootProps:i,getInputProps:o}=Ht({onDrop:u=>n(u,t),accept:"image/png, image/jpeg, image/jpg, video/mp4, video/webm, video/ogg"}),l=e.image?e.image instanceof File?URL.createObjectURL(e.image):e.image:null;return a.jsxs(B,{...i(),className:`${r} text-center w-100 ${l?"border-success":""}`,children:[a.jsx("input",{...o(),accept:"image/*,video/*"}),l?e.image instanceof File&&e.image.type.startsWith("video/")?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:l,type:e.image.type}),"Your browser does not support the video tag."]}):a.jsx("img",{src:l,alt:"Body Image Preview",className:s}):a.jsxs("p",{className:"text-muted",children:["Drag & Drop Image/Video Here or"," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})};function RIe({}){const[t,e]=j.useState(0),[n,r]=j.useState(new PT),s=(v,w)=>{if(Array.isArray(v))r(E=>({...E,[w]:v}));else if(typeof v=="string")r(E=>({...E,[w]:v}));else{const{name:E,value:S}=v.target;r(C=>({...C,[E]:S}))}},i=async(v,w)=>{const E=Kt(en,w);return await Qt(E,v),await Zt(E)},o=async v=>{v.preventDefault(),xe.fire({title:"Submitting...",text:"Please wait while we submit your tourist FAQ.",allowOutsideClick:!1,didOpen:()=>{xe.showLoading()}});try{const w=await Promise.all(n.body.map(async(O,I)=>O.image?await i(O.image,`touristFAQs/${Date.now()}_${O.image.name}`):"")),E=new PT;E.id="",E.title=n.title,E.body=n.body.map((O,I)=>({subtitle:O.subtitle||"",body:O.body||"",image:w[I]||"",image_source:O.image_source||""})),E.references=n.references||[];const S=await Or(Ft(ze,"touristFAQs"),E.toJSON()),C=gt(ze,"touristFAQs",S.id);await rn(C,{id:S.id}),xe.fire({title:"touristFAQ Submitted",text:"Your touristFAQ has been submitted successfully!",icon:"success"}),l()}catch(w){console.error("Error submitting touristFAQ:",w),xe.fire({title:"Error",text:"There was an issue submitting your touristFAQ. Please try again.",icon:"error"})}},l=()=>{r({id:"",title:"",body:[{subtitle:"",body:"",image:null,image_source:""}],references:[]}),e(v=>v+1)},u=(v,w,E)=>{r(S=>{const C=[...S.body];return C[v]={...C[v],[w]:E},{...S,body:C}})},h=(v,w)=>{const E=v[0];E&&r(S=>{const C=[...S.body];return C[w]={...C[w],image:E,imageUrl:URL.createObjectURL(E)},{...S,body:C}})},f=()=>{r(v=>({...v,body:[...v.body,{subtitle:"",body:"",image:null,image_source:""}]}))},g=v=>{r(w=>{const E=w.body.filter((S,C)=>C!==v);return{...w,body:E}})},p=v=>{r(w=>{const E=[...w.body];return E[v]?(E[v]={...E[v],image:null},{...w,body:E}):w})};return a.jsxs(x,{className:"custom-form body-container",onSubmit:o,onKeyDown:v=>v.key==="Enter"&&v.preventDefault(),children:[a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"title",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Title"}),a.jsx(x.Control,{type:"text",placeholder:"Enter business name",name:"title",value:n.title,onChange:s,required:!0})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsxs(z,{md:12,children:[a.jsx("p",{className:"label mb-2",children:"Body Sections"}),n.body.map((v,w)=>a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(B,{className:"empty-container"}),a.jsxs(x.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(x.Label,{className:"label",children:"Subtitle (Optional)"}),a.jsx(x.Control,{type:"text",className:"fw-bold",placeholder:"Subtitle",value:v.subtitle,onChange:E=>u(w,"subtitle",E.target.value)})]}),a.jsxs(z,{className:"col me-lg-2 me-md-1",children:[a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Image (Optional)"}),a.jsx(LIe,{index:w,section:v,onBodyImageDrop:h,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"}),v.image&&a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{className:"mt-2 mb-1",variant:"outline-danger",onClick:()=>p(w),children:[a.jsx(ye,{icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]})})]}),a.jsxs(x.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(x.Label,{className:"label",children:"Image Source (Optional)"}),a.jsx(x.Control,{placeholder:"e.g. @boracayphotos or /islanders or #trivago or www.trivago.com",type:"text",value:v.image_source,onChange:E=>u(w,"image_source",E.target.value)})]})]}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(x.Group,{className:"mb-5",children:[a.jsx(x.Label,{className:"label",children:"Body"}),a.jsx(rr,{index:w,section:v,handleBodyChange:u})]})}),n.body.length>1&&a.jsx(B,{className:"mb-4 d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-danger",type:"button",onClick:()=>g(w),className:"mt-3 w-full",children:[a.jsx(ye,{icon:Dt,size:"xs",fixedWidth:!0})," Delete Section"]})})]},w)),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-success",type:"button",onClick:f,className:"mb-3",children:[a.jsx(ye,{icon:nr,size:"xs",fixedWidth:!0})," Add Section"]})})]})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:v=>s(v,"references"),label:"References and Links (Type & Enter)",editingItems:n.references,resetKey:t})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:l,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:o,children:"Submit Tourist FAQ"})]})}),a.jsx(B,{className:"empty-container"})]})}const kIe=()=>{const[t,e]=j.useState([]),[n,r]=j.useState(""),[s,i]=j.useState("asc"),[o,l]=j.useState(0),[u,h]=j.useState(null),f=10;j.useEffect(()=>{v()},[]);const[g,p]=j.useState(!0),v=async()=>{try{const A=(await ur(Ft(ze,"touristFAQs"))).docs.map(_=>({id:_.id,..._.data()}));e(A)}catch(y){console.error("Error fetching data:",y)}finally{p(!1)}},w=y=>{h(y)},E=async y=>{window.confirm("Are you sure you want to delete this entry?")&&(await kr(gt(ze,"touristFAQs",y)),v())},S=t.filter(y=>y.title.toLowerCase().includes(n.toLowerCase())||Array.isArray(y.references)&&y.references.join(", ").toLowerCase().includes(n.toLowerCase())),C=()=>new Date().toISOString().split("T")[0],O=()=>{const y=t.map(({title:L,...R})=>({...R,body:Array.isArray(R.body)?R.body.join(", "):"",references:R.references?JSON.stringify(R.references):""})),A=yt.json_to_sheet(y),_=yt.book_new();yt.book_append_sheet(_,A,"Data"),Fr(_,`tourism_touristFAQss_infoguide_${C()}.xlsx`)},I=Math.ceil(S.length/f),D=S.slice(o*f,(o+1)*f),T=({selected:y})=>{l(y)},F=()=>{h(null)};return a.jsxs(B,{children:[a.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Tourist FAQs"}),a.jsx("p",{children:"List of Tourist Frequently Asked Questions."}),a.jsxs(V,{className:"mb-4 mt-4",children:[a.jsx(z,{md:4,className:"mb-2 me-2 col",children:a.jsx(x.Control,{type:"text",placeholder:`Search up to over ${t.length} tourist FAQS`,value:n,onChange:y=>r(y.target.value)})}),a.jsxs(B,{className:"d-flex justify-content-end align-items-center mt-2",children:[a.jsxs(se,{variant:"outline-secondary",className:"me-2",onClick:v,children:[a.jsx(ye,{icon:Pr,size:"xs",fixedWidth:!0})," Refresh List"]}),a.jsxs(se,{variant:"outline-success",onClick:F,children:[a.jsx(ye,{icon:Dr,size:"xs",fixedWidth:!0})," Add New"]})]})]}),g?a.jsx("div",{className:"d-flex justify-content-center align-items-center my-5",children:a.jsx(Cr,{animation:"border",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):D.length===0?a.jsx("div",{className:"text-center my-5",children:a.jsx("h5",{children:"No Data Available"})}):a.jsxs(Rr,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Title"}),a.jsx("th",{children:"References"})]})}),a.jsx("tbody",{children:D.map(y=>a.jsxs("tr",{children:[a.jsx("td",{children:y.title}),a.jsx("td",{children:Array.isArray(y.references)?y.references.join(", "):y.references}),a.jsx("td",{children:a.jsxs(B,{className:"d-flex justify-content-center align-items-center",children:[a.jsx(Jt,{placement:"top",overlay:a.jsx(Wt,{children:"Edit"}),children:a.jsx(se,{variant:"outline-secondary",size:"sm",className:"me-2",onClick:()=>w(y),children:a.jsx(ye,{icon:Ir,size:"xs",fixedWidth:!0})})}),a.jsx(Jt,{placement:"top",overlay:a.jsx(Wt,{children:"Delete"}),children:a.jsx(se,{variant:"outline-danger",size:"sm",onClick:()=>E(y.id),children:a.jsx(ye,{icon:Dt,size:"xs",fixedWidth:!0})})})]})})]},y.id))})]}),a.jsxs(B,{className:"d-flex justify-content-between align-items-center mb-4 mt-2",children:[a.jsx(se,{onClick:O,variant:"outline-success",children:"Download Excel"}),a.jsx(Mr,{previousLabel:"",nextLabel:"",pageCount:I,onPageChange:T,containerClassName:"pagination mb-0",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})]}),u?a.jsx(AIe,{editingItem:u,toAddForm:()=>h(null)}):a.jsx(RIe,{})]})};class DT{constructor(){this.id="",this.title="",this.body=[{subtitle:"",body:"",image:null,image_source:""}],this.references=[]}toJSON(){return{...this}}}const OIe=({index:t,section:e,onBodyImageDrop:n,dropzoneName:r="dropzone-container-small",previewName:s="dropzone-uploaded-image-small"})=>{const{getRootProps:i,getInputProps:o}=Ht({onDrop:u=>n(u,t),accept:"image/png, image/jpeg, image/jpg, video/mp4, video/webm, video/ogg"}),l=e.image?e.image instanceof File?URL.createObjectURL(e.image):e.image:null;return a.jsxs(B,{...i(),className:`${r} text-center w-100 ${l?"border-success":""}`,children:[a.jsx("input",{...o(),accept:"image/*,video/*"}),l?e.image instanceof File&&e.image.type.startsWith("video/")?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:l,type:e.image.type}),"Your browser does not support the video tag."]}):a.jsx("img",{src:l,alt:"Body Image Preview",className:s}):a.jsxs("p",{className:"text-muted",children:["Drag & Drop Image/Video Here or"," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})};function IIe({}){const[t,e]=j.useState(0),[n,r]=j.useState(new DT),s=(v,w)=>{if(Array.isArray(v))r(E=>({...E,[w]:v}));else if(typeof v=="string")r(E=>({...E,[w]:v}));else{const{name:E,value:S}=v.target;r(C=>({...C,[E]:S}))}},i=async(v,w)=>{const E=Kt(en,w);return await Qt(E,v),await Zt(E)},o=async v=>{v.preventDefault(),xe.fire({title:"Submitting...",text:"Please wait while we submit your Virtual Tour Guide.",allowOutsideClick:!1,didOpen:()=>{xe.showLoading()}});try{const w=await Promise.all(n.body.map(async(O,I)=>O.image?await i(O.image,`virtualTourGuides/${Date.now()}_${O.image.name}`):"")),E=new DT;E.id="",E.title=n.title,E.body=n.body.map((O,I)=>({subtitle:O.subtitle||"",body:O.body||"",image:w[I]||"",image_source:O.image_source||""})),E.references=n.references||[];const S=await Or(Ft(ze,"virtualTourGuides"),E.toJSON()),C=gt(ze,"virtualTourGuides",S.id);await rn(C,{id:S.id}),xe.fire({title:"Virtual Tour Guide Submitted",text:"Your Virtual Tour Guide has been submitted successfully!",icon:"success"}),l()}catch(w){console.error("Error submitting Virtual Tour Guide:",w),xe.fire({title:"Error",text:"There was an issue submitting your Virtual Tour Guide. Please try again.",icon:"error"})}},l=()=>{r({id:"",title:"",body:[{subtitle:"",body:"",image:null,image_source:""}],references:[]}),e(v=>v+1)},u=(v,w,E)=>{r(S=>{const C=[...S.body];return C[v]={...C[v],[w]:E},{...S,body:C}})},h=(v,w)=>{const E=v[0];E&&r(S=>{const C=[...S.body];return C[w]={...C[w],image:E,imageUrl:URL.createObjectURL(E)},{...S,body:C}})},f=()=>{r(v=>({...v,body:[...v.body,{subtitle:"",body:"",image:null,image_source:""}]}))},g=v=>{r(w=>{const E=w.body.filter((S,C)=>C!==v);return{...w,body:E}})},p=v=>{r(w=>{const E=[...w.body];return E[v]?(E[v]={...E[v],image:null},{...w,body:E}):w})};return a.jsxs(x,{className:"custom-form body-container",onSubmit:o,onKeyDown:v=>v.key==="Enter"&&v.preventDefault(),children:[a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"title",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Title"}),a.jsx(x.Control,{type:"text",placeholder:"Enter business name",name:"title",value:n.title,onChange:s,required:!0})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsxs(z,{md:12,children:[a.jsx("p",{className:"label mb-2",children:"Body Sections"}),n.body.map((v,w)=>a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(B,{className:"empty-container"}),a.jsxs(x.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(x.Label,{className:"label",children:"Subtitle (Optional)"}),a.jsx(x.Control,{type:"text",className:"fw-bold",placeholder:"Subtitle",value:v.subtitle,onChange:E=>u(w,"subtitle",E.target.value)})]}),a.jsxs(z,{className:"col me-lg-2 me-md-1",children:[a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Image (Optional)"}),a.jsx(OIe,{index:w,section:v,onBodyImageDrop:h,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"}),v.image&&a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{className:"mt-2 mb-1",variant:"outline-danger",onClick:()=>p(w),children:[a.jsx(ye,{icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]})})]}),a.jsxs(x.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(x.Label,{className:"label",children:"Image Source (Optional)"}),a.jsx(x.Control,{placeholder:"e.g. @boracayphotos or /islanders or #trivago or www.trivago.com",type:"text",value:v.image_source,onChange:E=>u(w,"image_source",E.target.value)})]})]}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(x.Group,{className:"mb-5",children:[a.jsx(x.Label,{className:"label",children:"Body"}),a.jsx(rr,{index:w,section:v,handleBodyChange:u})]})}),n.body.length>1&&a.jsx(B,{className:"mb-4 d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-danger",type:"button",onClick:()=>g(w),className:"mt-3 w-full",children:[a.jsx(ye,{icon:Dt,size:"xs",fixedWidth:!0})," Delete Section"]})})]},w)),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-success",type:"button",onClick:f,className:"mb-3",children:[a.jsx(ye,{icon:nr,size:"xs",fixedWidth:!0})," Add Section"]})})]})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:v=>s(v,"references"),label:"References and Links (Type & Enter)",editingItems:n.references,resetKey:t})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:l,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:o,children:"Submit Virtual Tour Guide"})]})}),a.jsx(B,{className:"empty-container"})]})}const PIe=({index:t,section:e,onBodyImageDrop:n,dropzoneName:r="dropzone-container-small",previewName:s="dropzone-uploaded-image-small"})=>{const{getRootProps:i,getInputProps:o}=Ht({onDrop:v=>n(v,t),accept:"image/png, image/jpeg, image/jpg, video/mp4, video/webm, video/ogg"}),l=e.image instanceof File,u=typeof e.image=="string"&&/\.(mp4|webm|ogg)(\?.*)?$/i.test(e.image),h=typeof e.image=="string"&&!u,f=l?URL.createObjectURL(e.image):null,g=h?e.image:null,p=u?e.image:null;return a.jsxs(B,{...i(),className:`${r} text-center w-100 ${f||g||p?"border-success":""}`,children:[a.jsx("input",{...o(),accept:"image/*,video/*"}),f?e.image.type.startsWith("video/")?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:f,type:e.image.type}),"Your browser does not support the video tag."]}):a.jsx("img",{src:f,alt:"Uploaded File Preview",className:s}):p?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:p,type:"video/mp4"}),"Your browser does not support the video tag."]}):g?a.jsx("img",{src:g,alt:"Image URL Preview",className:s}):a.jsxs("p",{className:"text-muted",children:["Drag & Drop Image/Video Here or"," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})};function DIe({editingItem:t,toAddForm:e}){const[n,r]=j.useState(0),[s,i]=j.useState(new DT),o=(E,S)=>{if(Array.isArray(E))i(C=>({...C,[S]:E}));else if(typeof E=="string")i(C=>({...C,[S]:E}));else{const{name:C,value:O}=E.target;i(I=>({...I,[C]:O}))}};j.useEffect(()=>{t&&i(E=>({...E,id:t.id||"",title:t.title||"",body:t.body.map((S,C)=>({subtitle:S.subtitle||"",body:S.body||"",image:S.image||"",image_source:S.image_source||""})),references:t.references||[]}))},[t]);const l=async(E,S)=>{const C=Kt(en,S);return await Qt(C,E),await Zt(C)},u=async E=>{E.preventDefault(),xe.fire({title:"Submitting...",text:"Please wait while we submit your Virtual Tour Guide.",allowOutsideClick:!1,didOpen:()=>{xe.showLoading()}});try{const S=await Promise.all(s.body.map(async(I,D)=>I.image instanceof File?(t&&t.body&&t.body[D]&&t.body[D].image&&await Vt(t.body[D].image),await l(I.image,`virtualTourGuides/${Date.now()}_${I.image.name}`)):I.image)),C={id:t?t.id:"",title:s.title,body:s.body.map((I,D)=>({subtitle:I.subtitle,body:I.body,image:S[D]||"",image_source:I.image_source})),references:s.references||[]},O=gt(ze,"virtualTourGuides",s.id);try{await rn(O,C),xe.fire({title:"Virtual Tour Guide Updated",text:"Your Virtual Tour Guide has been updated successfully!",icon:"success"}),h(),e()}catch(I){console.error("Error updating hotlines:",I),xe.fire({title:"Update Failed",text:"There was an error updating the Virtual Tour Guide.",icon:"error"})}}catch(S){console.error("Error submitting Virtual Tour Guide:",S),xe.fire({title:"Error",text:"There was an issue submitting your Virtual Tour Guide. Please try again.",icon:"error"})}},h=()=>{i({id:"",title:"",body:[{subtitle:"",body:"",image:null,image_source:""}],references:[]}),r(E=>E+1)},f=(E,S,C)=>{i(O=>{const I=[...O.body];return I[E]={...I[E],[S]:C},{...O,body:I}})},g=(E,S)=>{const C=E[0];C&&i(O=>{const I=[...O.body];return I[S]={...I[S],image:C,imageUrl:URL.createObjectURL(C)},{...O,body:I}})},p=()=>{i(E=>({...E,body:[...E.body,{subtitle:"",body:"",image:null,image_source:""}]}))},v=E=>{i(S=>{const C=S.body.filter((O,I)=>I!==E);return{...S,body:C}})},w=E=>{i(S=>{const C=[...S.body];return C[E]?(C[E]={...C[E],image:null},{...S,body:C}):S})};return a.jsxs(x,{className:"custom-form body-container",onSubmit:u,onKeyDown:E=>E.key==="Enter"&&E.preventDefault(),children:[a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"title",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Title"}),a.jsx(x.Control,{type:"text",placeholder:"Enter business name",name:"title",value:s.title,onChange:o,required:!0})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsxs(z,{md:12,children:[a.jsx("p",{className:"label mb-2",children:"Body Sections"}),s.body.map((E,S)=>a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(B,{className:"empty-container"}),a.jsxs(x.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(x.Label,{className:"label",children:"Subtitle (Optional)"}),a.jsx(x.Control,{type:"text",className:"fw-bold",placeholder:"Subtitle",value:E.subtitle,onChange:C=>f(S,"subtitle",C.target.value)})]}),a.jsxs(z,{className:"col me-lg-2 me-md-1",children:[a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Image (Optional)"}),a.jsx(PIe,{index:S,section:E,onBodyImageDrop:g,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"}),E.image&&a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{className:"mt-2 mb-1",variant:"outline-danger",onClick:()=>w(S),children:[a.jsx(ye,{icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]})})]}),a.jsxs(x.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(x.Label,{className:"label",children:"Image Source (Optional)"}),a.jsx(x.Control,{placeholder:"e.g. @boracayphotos or /islanders or #trivago or www.trivago.com",type:"text",value:E.image_source,onChange:C=>f(S,"image_source",C.target.value)})]})]}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(x.Group,{className:"mb-5",children:[a.jsx(x.Label,{className:"label",children:"Body"}),a.jsx(rr,{index:S,section:E,handleBodyChange:f})]})}),s.body.length>1&&a.jsx(B,{className:"mb-4 d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-danger",type:"button",onClick:()=>v(S),className:"mt-3 w-full",children:[a.jsx(ye,{icon:Dt,size:"xs",fixedWidth:!0})," Delete Section"]})})]},S)),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-success",type:"button",onClick:p,className:"mb-3",children:[a.jsx(ye,{icon:nr,size:"xs",fixedWidth:!0})," Add Section"]})})]})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:E=>o(E,"references"),label:"References and Links (Type & Enter)",editingItems:s.references,resetKey:n})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:h,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:u,children:"Submit Update"})]})}),a.jsx(B,{className:"empty-container"})]})}const MIe=()=>{const[t,e]=j.useState([]),[n,r]=j.useState(""),[s,i]=j.useState("asc"),[o,l]=j.useState(0),[u,h]=j.useState(null),f=10;j.useEffect(()=>{v()},[]);const[g,p]=j.useState(!0),v=async()=>{try{const A=(await ur(Ft(ze,"virtualTourGuides"))).docs.map(_=>({id:_.id,..._.data()}));e(A)}catch(y){console.error("Error fetching data:",y)}finally{p(!1)}},w=y=>{h(y)},E=async y=>{window.confirm("Are you sure you want to delete this entry?")&&(await kr(gt(ze,"virtualTourGuides",y)),v())},S=t.filter(y=>y.title.toLowerCase().includes(n.toLowerCase())||Array.isArray(y.references)&&y.references.join(", ").toLowerCase().includes(n.toLowerCase())),C=()=>new Date().toISOString().split("T")[0],O=()=>{const y=t.map(({title:L,...R})=>({...R,body:Array.isArray(R.body)?R.body.join(", "):"",references:R.references?JSON.stringify(R.references):""})),A=yt.json_to_sheet(y),_=yt.book_new();yt.book_append_sheet(_,A,"Data"),Fr(_,`tourism_virtualTourGuides_infoguide_${C()}.xlsx`)},I=Math.ceil(S.length/f),D=S.slice(o*f,(o+1)*f),T=({selected:y})=>{l(y)},F=()=>{h(null)};return a.jsxs(B,{children:[a.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Virtual Tour Guides"}),a.jsx("p",{children:"List of Virtual Tour Guide and Marketing and Promotions."}),a.jsxs(V,{className:"mb-4 mt-4",children:[a.jsx(z,{md:4,className:"mb-2 me-2 col",children:a.jsx(x.Control,{type:"text",placeholder:`Search up to over ${t.length} Virtual Tour Guides`,value:n,onChange:y=>r(y.target.value)})}),a.jsxs(B,{className:"d-flex justify-content-end align-items-center mt-2",children:[a.jsxs(se,{variant:"outline-secondary",className:"me-2",onClick:v,children:[a.jsx(ye,{icon:Pr,size:"xs",fixedWidth:!0})," Refresh List"]}),a.jsxs(se,{variant:"outline-success",onClick:F,children:[a.jsx(ye,{icon:Dr,size:"xs",fixedWidth:!0})," Add New"]})]})]}),g?a.jsx("div",{className:"d-flex justify-content-center align-items-center my-5",children:a.jsx(Cr,{animation:"border",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):D.length===0?a.jsx("div",{className:"text-center my-5",children:a.jsx("h5",{children:"No Data Available"})}):a.jsxs(Rr,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Title"}),a.jsx("th",{children:"References"})]})}),a.jsx("tbody",{children:D.map(y=>a.jsxs("tr",{children:[a.jsx("td",{children:y.title}),a.jsx("td",{children:Array.isArray(y.references)?y.references.join(", "):y.references}),a.jsx("td",{children:a.jsxs(B,{className:"d-flex justify-content-center align-items-center",children:[a.jsx(Jt,{placement:"top",overlay:a.jsx(Wt,{children:"Edit"}),children:a.jsx(se,{variant:"outline-secondary",size:"sm",className:"me-2",onClick:()=>w(y),children:a.jsx(ye,{icon:Ir,size:"xs",fixedWidth:!0})})}),a.jsx(Jt,{placement:"top",overlay:a.jsx(Wt,{children:"Delete"}),children:a.jsx(se,{variant:"outline-danger",size:"sm",onClick:()=>E(y.id),children:a.jsx(ye,{icon:Dt,size:"xs",fixedWidth:!0})})})]})})]},y.id))})]}),a.jsxs(B,{className:"d-flex justify-content-between align-items-center mb-4 mt-2",children:[a.jsx(se,{onClick:O,variant:"outline-success",children:"Download Excel"}),a.jsx(Mr,{previousLabel:"",nextLabel:"",pageCount:I,onPageChange:T,containerClassName:"pagination mb-0",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})]}),u?a.jsx(DIe,{editingItem:u,toAddForm:()=>h(null)}):a.jsx(IIe,{})]})};class MT{constructor(){this.id="",this.title="",this.year="",this.rank="",this.category=[],this.description="",this.headerImage=null,this.references=[]}toJSON(){return{...this}}}const DK=["LGU Award","International Award","International Recognition","National Award","National Recognition","Regional Award","Regional Recognition","Certifications","Seals"];function FIe({}){const[t,e]=j.useState(0),[n,r]=j.useState(new MT),s=(u,h)=>{if(Array.isArray(u))r(f=>({...f,[h]:u}));else if(typeof u=="string")r(f=>({...f,[h]:u}));else{const{name:f,value:g}=u.target;r(p=>({...p,[f]:g}))}},i=async(u,h)=>{const f=Kt(en,h);return await Qt(f,u),await Zt(f)},o=async u=>{u.preventDefault(),xe.fire({title:"Submitting...",text:"Please wait while we submit your awards and recognitions.",allowOutsideClick:!1,didOpen:()=>{xe.showLoading()}});try{let h=n.headerImage?await i(n.headerImage,`awardsAndRecognitions/${Date.now()}_${n.headerImage.name}`):null;console.log(h);const f=new MT;f.id="",f.title=n.title,f.rank=n.rank,f.year=n.year,f.category=n.category||[],f.description=n.description,f.headerImage=h,f.references=n.references||[];const g=await Or(Ft(ze,"awardsAndRecognitions"),f.toJSON()),p=gt(ze,"awardsAndRecognitions",g.id);await rn(p,{id:g.id}),xe.fire({title:"Awards And Recognitions Links Submitted",text:"Your Awards And Recognitions Links has been submitted successfully!",icon:"success"}),l()}catch(h){console.error("Error submitting Awards And Recognitions Links:",h),xe.fire({title:"Error",text:"There was an issue submitting your Awards And Recognitions Links. Please try again.",icon:"error"})}},l=()=>{r({id:"",title:"",rank:"",year:"",category:"",description:"",headerImage:null,references:[]}),e(u=>u+1)};return a.jsxs(x,{className:"custom-form body-container",onSubmit:o,onKeyDown:u=>u.key==="Enter"&&u.preventDefault(),children:[a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"headerImage",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Cover Photo"}),a.jsx(mn,{storyForm:n,setStoryForm:r,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(qn,{onChange:u=>s(u,"category"),options:DK,resetKey:t,editingItems:n.category,label:"Categories"})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"title",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Title"}),a.jsx(x.Control,{type:"text",placeholder:"Enter business name",name:"title",value:n.title,onChange:s,required:!0})]})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"rank",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Ranking ('0' if N/A)"}),a.jsx(x.Control,{type:"text",placeholder:"e.g.: 2000",name:"rank",required:!0,value:n.rank,onChange:u=>{const h=u.target.value;/^\d*\.?\d*$/.test(h)&&s(u)}})]})}),a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"year",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Year Received"}),a.jsx(x.Control,{type:"text",placeholder:"e.g.: 2000",name:"year",required:!0,value:n.year,onChange:u=>{const h=u.target.value;/^\d*\.?\d*$/.test(h)&&s(u)}})]})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"description",className:"mb-5 mt-2",children:[a.jsx(x.Label,{className:"label",children:"Brief Description"}),a.jsx(On,{theme:"snow",value:n.description||"",onChange:u=>s(u,"description"),required:!0,style:{height:"300px"}})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:u=>s(u,"references"),label:"References and Links (Type & Enter)",editingItems:n.references,resetKey:t})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:l,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:o,children:"Submit Awards And Recognition"})]})}),a.jsx(B,{className:"empty-container"})]})}class FT{constructor(){this.id="",this.title="",this.dateStart="",this.dateEnd="",this.category=[],this.classification="",this.description="",this.headerImage=null,this.references=[],this.images=[]}toJSON(){return{...this}}}const BT=["Travel Expos","Travel Exhibits","Travel Conventions","Global Tourism Meetings","Travel Festivals","Business to Business Meetings","Travel Roadshows","Travel Fairs","Travel Exchange","Tourism Summit","Tourism Conferences"],MK=["International","National","Regional","Local"];function BIe({editingItem:t,toAddForm:e}){const[n,r]=j.useState(0),[s,i]=j.useState(new MT),o=(O,I)=>{if(Array.isArray(O))i(D=>({...D,[I]:O}));else if(typeof O=="string")i(D=>({...D,[I]:O}));else{const{name:D,value:T}=O.target;i(F=>({...F,[D]:T}))}};j.useEffect(()=>{t&&i(O=>({...O,id:t.id||"",title:t.title||"",rank:t.rank||"",year:t.year||"",category:t.category||[],description:t.description||"",headerImage:t.headerImage||"",references:t.references||[]}))},[t]);const[l,u]=j.useState(null),[h,f]=j.useState(""),g=j.useCallback(O=>{O.length>0&&u(O[0])},[]),{getRootProps:p,getInputProps:v}=Ht({onDrop:g,accept:"image/*",disabled:!!h}),w=()=>{i(O=>({...O,headerImage:null}))},E=async(O,I)=>{const D=Kt(en,I);return await Qt(D,O),await Zt(D)},S=async O=>{O.preventDefault(),xe.fire({title:"Submitting...",text:"Please wait while we submit your Awards And Recognitions.",allowOutsideClick:!1,didOpen:()=>{xe.showLoading()}});try{let I=s.headerImage;s.headerImage instanceof File?(t&&t.headerImage&&await Vt(t.headerImage),I=await E(s.headerImage,`awardsAndRecognitions/${Date.now()}_${s.headerImage.name}`)):I=s.headerImage;const D={id:t?t.id:"",title:s.title,rank:s.rank,year:s.year,category:s.category||[],description:s.description,headerImage:I,references:s.references||[]},T=gt(ze,"awardsAndRecognitions",s.id);try{await rn(T,D),xe.fire({title:"Awards And Recognitions Updated",text:"Your Awards And Recognitions has been updated successfully!",icon:"success"}),w(),C(),e()}catch(F){console.error("Error updating hotlines:",F),xe.fire({title:"Update Failed",text:"There was an error updating the Awards And Recognitions.",icon:"error"})}}catch(I){console.error("Error submitting Awards And Recognitions:",I),xe.fire({title:"Error",text:"There was an issue submitting your Awards And Recognitions. Please try again.",icon:"error"})}},C=()=>{i({id:"",title:"",rank:"",year:"",category:"",description:"",headerImage:null,references:[]}),r(O=>O+1)};return a.jsxs(x,{className:"custom-form body-container",onSubmit:S,onKeyDown:O=>O.key==="Enter"&&O.preventDefault(),children:[a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{className:"my-2",children:[a.jsx(x.Label,{className:"label",children:"Upload Header Image (800x400)"}),a.jsx(mn,{storyForm:s,setStoryForm:i,editingItem:s,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"}),a.jsxs(B,{className:"d-flex justify-content-between mt-2",children:[a.jsx("p",{className:"subtitle",children:"Supported File: PNG, JPEG, and JPG"}),a.jsx("p",{className:"subtitle",children:"Maximum size: 25MB"})]}),a.jsx(B,{className:"d-flex justify-content-end",children:l&&(h?null:a.jsxs(se,{className:"my-2",variant:"outline-danger",onClick:w,children:[a.jsx(ye,{className:"button-icon",icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]}))})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(qn,{onChange:O=>o(O,"category"),options:DK,resetKey:n,editingItems:s.category,label:"Categories"})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Title"}),a.jsx(x.Control,{type:"text",placeholder:"Enter business name",name:"title",value:s.title,onChange:o,required:!0})]})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"rank",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Ranking ('0' if N/A)"}),a.jsx(x.Control,{type:"text",placeholder:"e.g.: 2000",name:"rank",required:!0,value:s.rank,onChange:O=>{const I=O.target.value;/^\d*\.?\d*$/.test(I)&&o(O)}})]})}),a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"year",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Year Received"}),a.jsx(x.Control,{type:"text",placeholder:"e.g.: 2000",name:"year",required:!0,value:s.year,onChange:O=>{const I=O.target.value;/^\d*\.?\d*$/.test(I)&&o(O)}})]})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"description",className:"mb-5 mt-2",children:[a.jsx(x.Label,{className:"label",children:"Brief Description"}),a.jsx(On,{theme:"snow",value:s.description||"",onChange:O=>o(O,"description"),required:!0,style:{height:"300px"}})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:O=>o(O,"references"),label:"References and Links (Type & Enter)",editingItems:s.references,resetKey:n})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:C,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:S,children:"Submit Update"})]})}),a.jsx(B,{className:"empty-container"})]})}const UIe=()=>{const[t,e]=j.useState([]),[n,r]=j.useState(""),[s,i]=j.useState("asc"),[o,l]=j.useState(0),[u,h]=j.useState(null),f=10;j.useEffect(()=>{v()},[]);const[g,p]=j.useState(!0),v=async()=>{try{const A=(await ur(Ft(ze,"awardsAndRecognitions"))).docs.map(_=>({id:_.id,..._.data()}));e(A)}catch(y){console.error("Error fetching data:",y)}finally{p(!1)}},w=y=>{h(y)},E=async y=>{window.confirm("Are you sure you want to delete this entry?")&&(await kr(gt(ze,"awardsAndRecognitions",y)),v())},S=t.filter(y=>y.title.toLowerCase().includes(n.toLowerCase())||y.references.toLowerCase().includes(n.toLowerCase())),C=()=>new Date().toISOString().split("T")[0],O=()=>{const y=t.map(({title:L,...R})=>({...R,references:R.references?JSON.stringify(R.references):""})),A=yt.json_to_sheet(y),_=yt.book_new();yt.book_append_sheet(_,A,"Data"),Fr(_,`tourism_awardsAndRecognitions_infoguide_${C()}.xlsx`)},I=Math.ceil(S.length/f),D=S.slice(o*f,(o+1)*f),T=({selected:y})=>{l(y)},F=()=>{h(null)};return a.jsxs(B,{children:[a.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Tourism Awards and Recognitions"}),a.jsx("p",{children:"List of Awards And Recognitions."}),a.jsxs(V,{className:"mb-4 mt-4",children:[a.jsx(z,{md:4,className:"mb-2 me-2 col",children:a.jsx(x.Control,{type:"text",placeholder:`Search up to over ${t.length} Awards And Recognitionss`,value:n,onChange:y=>r(y.target.value)})}),a.jsxs(B,{className:"d-flex justify-content-end align-items-center mt-2",children:[a.jsxs(se,{variant:"outline-secondary",className:"me-2",onClick:v,children:[a.jsx(ye,{icon:Pr,size:"xs",fixedWidth:!0})," Refresh List"]}),a.jsxs(se,{variant:"outline-success",onClick:F,children:[a.jsx(ye,{icon:Dr,size:"xs",fixedWidth:!0})," Add New"]})]})]}),g?a.jsx("div",{className:"d-flex justify-content-center align-items-center my-5",children:a.jsx(Cr,{animation:"border",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):D.length===0?a.jsx("div",{className:"text-center my-5",children:a.jsx("h5",{children:"No Data Available"})}):a.jsxs(Rr,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Title"}),a.jsx("th",{children:"References"})]})}),a.jsx("tbody",{children:D.map(y=>a.jsxs("tr",{children:[a.jsx("td",{children:y.title}),a.jsx("td",{children:Array.isArray(y.references)?y.references.join(", "):y.references}),a.jsx("td",{children:a.jsxs(B,{className:"d-flex justify-content-center align-items-center",children:[a.jsx(Jt,{placement:"top",overlay:a.jsx(Wt,{children:"Edit"}),children:a.jsx(se,{variant:"outline-secondary",size:"sm",className:"me-2",onClick:()=>w(y),children:a.jsx(ye,{icon:Ir,size:"xs",fixedWidth:!0})})}),a.jsx(Jt,{placement:"top",overlay:a.jsx(Wt,{children:"Delete"}),children:a.jsx(se,{variant:"outline-danger",size:"sm",onClick:()=>E(y.id),children:a.jsx(ye,{icon:Dt,size:"xs",fixedWidth:!0})})})]})})]},y.id))})]}),a.jsxs(B,{className:"d-flex justify-content-between align-items-center mb-4 mt-2",children:[a.jsx(se,{onClick:O,variant:"outline-success",children:"Download Excel"}),a.jsx(Mr,{previousLabel:"",nextLabel:"",pageCount:I,onPageChange:T,containerClassName:"pagination mb-0",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})]}),u?a.jsx(BIe,{editingItem:u,toAddForm:()=>h(null)}):a.jsx(FIe,{})]})};function zIe({}){const[t,e]=j.useState(0),[n,r]=j.useState(new FT),[s,i]=j.useState(""),o=(f,g)=>{if(Array.isArray(f))r(p=>({...p,[g]:f}));else if(typeof f=="string")r(p=>({...p,[g]:f}));else{const{name:p,value:v}=f.target;r(w=>({...w,[p]:v}))}},l=async(f,g)=>{const p=Kt(en,g);return await Qt(p,f),await Zt(p)},u=async f=>{f.preventDefault(),xe.fire({title:"Submitting...",text:"Please wait while we submit your travel expos.",allowOutsideClick:!1,didOpen:()=>{xe.showLoading()}});try{let g=n.headerImage?await l(n.headerImage,`travelExpos/${Date.now()}_${n.headerImage.name}`):null;const p=await Promise.all(n.images.map(async S=>S?await l(S,`travelExpos/${Date.now()}_${S.name}`):"")),v=new FT;v.id="",v.title=n.title,v.dateStart=n.dateStart,v.dateEnd=n.dateEnd,v.category=n.category||[],v.classification=n.classification||s,v.description=n.description,v.headerImage=g,v.images=p,v.references=n.references||[];const w=await Or(Ft(ze,"travelExpos"),v.toJSON()),E=gt(ze,"travelExpos",w.id);await rn(E,{id:w.id}),xe.fire({title:"Travel Expos Links Submitted",text:"Your Travel Expos Links has been submitted successfully!",icon:"success"}),h()}catch(g){console.error("Error submitting travelExpos And Recognitions Links:",g),xe.fire({title:"Error",text:"There was an issue submitting your Travel Expos Links. Please try again.",icon:"error"})}},h=()=>{r({id:"",title:"",category:[],classification:"",dateStart:"",dateEnd:"",description:"",headerImage:null,images:[],references:[]}),i(""),e(f=>f+1)};return a.jsxs(x,{className:"custom-form body-container",onSubmit:u,onKeyDown:f=>f.key==="Enter"&&f.preventDefault(),children:[a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"headerImage",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Cover Photo"}),a.jsx(mn,{storyForm:n,setStoryForm:r,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"})]})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsx(qn,{onChange:f=>o(f,"category"),options:BT,resetKey:t,editingItems:n.category,label:"Categories"})}),a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"classification",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Class Level"}),a.jsxs(x.Select,{name:"classification",value:BT.classification,onChange:o,children:[a.jsx("option",{value:"classification",disabled:!0,children:"Select Class Level"}),MK.map((f,g)=>a.jsx("option",{value:f,children:f},g))]})]})})]}),a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Start Date"}),a.jsx(x.Control,{type:"date",name:"dateStart",value:n.dateStart,onChange:o,required:!0})]})}),a.jsx(z,{md:6,children:a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"End Date"}),a.jsx(x.Control,{type:"date",name:"dateEnd",value:n.dateEnd,onChange:o,min:n.dateStart,disabled:!n.dateStart,required:!0})]})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"title",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Title"}),a.jsx(x.Control,{type:"text",placeholder:"Enter business name",name:"title",value:n.title,onChange:o,required:!0})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"description",className:"mb-5 mt-2",children:[a.jsx(x.Label,{className:"label",children:"Brief Description"}),a.jsx(On,{theme:"snow",value:n.description||"",onChange:f=>o(f,"description"),required:!0,style:{height:"300px"}})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",children:[a.jsx(x.Label,{className:"label me-2",children:"Promotional & Marketing Photos"}),a.jsx(Rs,{dataForm:n,setDataForm:r,caption:"Drag & drop images or click to select (Max: 10)",dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:f=>o(f,"references"),label:"References and Links (Type & Enter)",editingItems:n.references,resetKey:t})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:h,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:u,children:"Submit Travel Expo"})]})}),a.jsx(B,{className:"empty-container"})]})}function qIe({editingItem:t,toAddForm:e}){const[n,r]=j.useState(0),[s,i]=j.useState(new FT),[o,l]=j.useState(""),u=(D,T)=>{if(Array.isArray(D))i(F=>({...F,[T]:D}));else if(typeof D=="string")i(F=>({...F,[T]:D}));else{const{name:F,value:y}=D.target;i(A=>({...A,[F]:y}))}};j.useEffect(()=>{t&&(i(D=>({...D,id:t.id||"",title:t.title||"",category:t.category||[],classification:t.classification||"",dateStart:t.dateStart||"",dateEnd:t.dateEnd||"",description:t.description||"",headerImage:t.headerImage||"",images:t.images||[],references:t.references||[]})),t.classification?l(t.classification||""):l(o))},[t]);const[h,f]=j.useState(null),[g,p]=j.useState(""),v=j.useCallback(D=>{D.length>0&&f(D[0])},[]),{getRootProps:w,getInputProps:E}=Ht({onDrop:v,accept:"image/*",disabled:!!g}),S=()=>{i(D=>({...D,headerImage:null}))},C=async(D,T)=>{const F=Kt(en,T);return await Qt(F,D),await Zt(F)},O=async D=>{D.preventDefault(),xe.fire({title:"Submitting...",text:"Please wait while we submit your Travel Expos.",allowOutsideClick:!1,didOpen:()=>{xe.showLoading()}});try{let T=s.headerImage;s.headerImage instanceof File?(t&&t.headerImage&&await Vt(t.headerImage),T=await C(s.headerImage,`travelExpos/${Date.now()}_${s.headerImage.name}`)):T=s.headerImage;const F=await Promise.all(s.images.map(async(_,L)=>_ instanceof File?(t&&t.images&&t.images[L]&&await Vt(t.images[L]),await C(_,`travelExpos/${Date.now()}_${_.name}`)):_)),y={id:t?t.id:"",title:s.title,category:s.category||[],classification:s.classification,dateStart:s.dateStart,dateEnd:s.dateEnd,description:s.description,headerImage:T,images:F,references:s.references||[]},A=gt(ze,"travelExpos",s.id);try{await rn(A,y),xe.fire({title:"Travel Expos Updated",text:"Your Travel Expos has been updated successfully!",icon:"success"}),S(),I(),e()}catch(_){console.error("Error updating hotlines:",_),xe.fire({title:"Update Failed",text:"There was an error updating the Travel Expos.",icon:"error"})}}catch(T){console.error("Error submitting Travel Expos:",T),xe.fire({title:"Error",text:"There was an issue submitting your Travel Expos. Please try again.",icon:"error"})}},I=()=>{i({id:"",title:"",category:[],classification:"",dateStart:"",dateEnd:"",description:"",headerImage:null,images:[],references:[]}),r(D=>D+1),l("")};return a.jsxs(x,{className:"custom-form body-container",onSubmit:O,onKeyDown:D=>D.key==="Enter"&&D.preventDefault(),children:[a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{className:"my-2",children:[a.jsx(x.Label,{className:"label",children:"Upload Header Image (800x400)"}),a.jsx(mn,{storyForm:s,setStoryForm:i,editingItem:s,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"}),a.jsxs(B,{className:"d-flex justify-content-between mt-2",children:[a.jsx("p",{className:"subtitle",children:"Supported File: PNG, JPEG, and JPG"}),a.jsx("p",{className:"subtitle",children:"Maximum size: 25MB"})]}),a.jsx(B,{className:"d-flex justify-content-end",children:h&&(g?null:a.jsxs(se,{className:"my-2",variant:"outline-danger",onClick:S,children:[a.jsx(ye,{className:"button-icon",icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]}))})]})})}),a.jsx(V,{className:"mt-2"}),a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsx(qn,{onChange:D=>u(D,"category"),options:BT,resetKey:n,editingItems:s.category,label:"Categories"})}),a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"classification",className:"mb-3",children:[a.jsx(x.Label,{className:"classification",children:"Class Level"}),a.jsxs(x.Select,{name:"classification",value:s.classification,onChange:u,children:[a.jsx("option",{value:"classification",disabled:!0,children:"Select Category"}),MK.map((D,T)=>a.jsx("option",{value:D,children:D},T))]})]})})]}),a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Start Date"}),a.jsx(x.Control,{type:"date",name:"dateStart",value:s.dateStart,onChange:u,required:!0})]})}),a.jsx(z,{md:6,children:a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"End Date"}),a.jsx(x.Control,{type:"date",name:"dateEnd",value:s.dateEnd,onChange:u,min:s.dateStart,disabled:!s.dateStart,required:!0})]})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Title"}),a.jsx(x.Control,{type:"text",placeholder:"Enter business name",name:"title",value:s.title,onChange:u,required:!0})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"description",className:"mb-5 mt-2",children:[a.jsx(x.Label,{className:"label",children:"Brief Description"}),a.jsx(On,{theme:"snow",value:s.description||"",onChange:D=>u(D,"description"),required:!0,style:{height:"300px"}})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",children:[a.jsx(x.Label,{className:"label me-2",children:"Promotional & Marketing Photos"}),a.jsx(Rs,{dataForm:s,setDataForm:i,caption:"Drag & drop images or click to select (Max: 10)",dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:D=>u(D,"references"),label:"References and Links (Type & Enter)",editingItems:s.references,resetKey:n})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:I,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:O,children:"Submit Update"})]})}),a.jsx(B,{className:"empty-container"})]})}const $Ie=()=>{const[t,e]=j.useState([]),[n,r]=j.useState(""),[s,i]=j.useState("asc"),[o,l]=j.useState(0),[u,h]=j.useState(null),f=10;j.useEffect(()=>{v()},[]);const[g,p]=j.useState(!0),v=async()=>{try{const A=(await ur(Ft(ze,"travelExpos"))).docs.map(_=>({id:_.id,..._.data()}));e(A)}catch(y){console.error("Error fetching data:",y)}finally{p(!1)}},w=y=>{h(y)},E=async y=>{window.confirm("Are you sure you want to delete this entry?")&&(await kr(gt(ze,"travelExpos",y)),v())},S=t.filter(y=>y.title.toLowerCase().includes(n.toLowerCase())||String(y.references||"").toLowerCase().includes(n.toLowerCase())),C=()=>new Date().toISOString().split("T")[0],O=()=>{const y=t.map(({title:L,...R})=>({...R,references:R.references?JSON.stringify(R.references):""})),A=yt.json_to_sheet(y),_=yt.book_new();yt.book_append_sheet(_,A,"Data"),Fr(_,`tourism_travelExpos_infoguide_${C()}.xlsx`)},I=Math.ceil(S.length/f),D=S.slice(o*f,(o+1)*f),T=({selected:y})=>{l(y)},F=()=>{h(null)};return a.jsxs(B,{children:[a.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Travel Expos, Exhibits, Summits, Fairs, Conferences, Conventions, B2B and Roadshows"}),a.jsx("p",{children:"List of Travel Expos."}),a.jsxs(V,{className:"mb-4 mt-4",children:[a.jsx(z,{md:4,className:"mb-2 me-2 col",children:a.jsx(x.Control,{type:"text",placeholder:`Search up to over ${t.length} Travel Expos`,value:n,onChange:y=>r(y.target.value)})}),a.jsxs(B,{className:"d-flex justify-content-end align-items-center mt-2",children:[a.jsxs(se,{variant:"outline-secondary",className:"me-2",onClick:v,children:[a.jsx(ye,{icon:Pr,size:"xs",fixedWidth:!0})," Refresh List"]}),a.jsxs(se,{variant:"outline-success",onClick:F,children:[a.jsx(ye,{icon:Dr,size:"xs",fixedWidth:!0})," Add New"]})]})]}),g?a.jsx("div",{className:"d-flex justify-content-center align-items-center my-5",children:a.jsx(Cr,{animation:"border",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):D.length===0?a.jsx("div",{className:"text-center my-5",children:a.jsx("h5",{children:"No Data Available"})}):a.jsxs(Rr,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Title"}),a.jsx("th",{children:"Date"}),a.jsx("th",{children:"Category"}),a.jsx("th",{children:"Level"})]})}),a.jsx("tbody",{children:D.map(y=>a.jsxs("tr",{children:[a.jsx("td",{children:y.title}),a.jsxs("td",{children:[y.dateStart," ",y.dateEnd]}),a.jsx("td",{children:Array.isArray(y.category)?y.category.join(", "):y.category}),a.jsx("td",{children:y.classification}),a.jsx("td",{children:a.jsxs(B,{className:"d-flex justify-content-center align-items-center",children:[a.jsx(Jt,{placement:"top",overlay:a.jsx(Wt,{children:"Edit"}),children:a.jsx(se,{variant:"outline-secondary",size:"sm",className:"me-2",onClick:()=>w(y),children:a.jsx(ye,{icon:Ir,size:"xs",fixedWidth:!0})})}),a.jsx(Jt,{placement:"top",overlay:a.jsx(Wt,{children:"Delete"}),children:a.jsx(se,{variant:"outline-danger",size:"sm",onClick:()=>E(y.id),children:a.jsx(ye,{icon:Dt,size:"xs",fixedWidth:!0})})})]})})]},y.id))})]}),a.jsxs(B,{className:"d-flex justify-content-between align-items-center mb-4 mt-2",children:[a.jsx(se,{onClick:O,variant:"outline-success",children:"Download Excel"}),a.jsx(Mr,{previousLabel:"",nextLabel:"",pageCount:I,onPageChange:T,containerClassName:"pagination mb-0",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})]}),u?a.jsx(qIe,{editingItem:u,toAddForm:()=>h(null)}):a.jsx(zIe,{})]})};class UT{constructor(){this.id="",this.title="",this.category=[],this.body=[{subtitle:"",body:"",image:null,image_source:""}],this.headerImage=null,this.references=[],this.images=[]}toJSON(){return{...this}}}const FK=["Environmental","Digitalization","Community Development","Cultural Heritage","Eco-Tourism","Infrastructure Development","Hospitality & Services","Adventure & Recreation","Sustainable Tourism","Wildlife Conservation","Educational & Awareness Programs","Health & Wellness Tourism","Indigenous People Empowerment","Traditional Arts & Crafts","Cultural Exchange Programs","Indigenous Heritage Conservation","Ethno-Tourism Initiatives"],VIe=({index:t,section:e,onBodyImageDrop:n,dropzoneName:r="dropzone-container-small",previewName:s="dropzone-uploaded-image-small"})=>{const{getRootProps:i,getInputProps:o}=Ht({onDrop:u=>n(u,t),accept:"image/png, image/jpeg, image/jpg, video/mp4, video/webm, video/ogg"}),l=e.image?e.image instanceof File?URL.createObjectURL(e.image):e.image:null;return a.jsxs(B,{...i(),className:`${r} text-center w-100 ${l?"border-success":""}`,children:[a.jsx("input",{...o(),accept:"image/*,video/*"}),l?e.image instanceof File&&e.image.type.startsWith("video/")?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:l,type:e.image.type}),"Your browser does not support the video tag."]}):a.jsx("img",{src:l,alt:"Body Image Preview",className:s}):a.jsxs("p",{className:"text-muted",children:["Drag & Drop Image/Video Here or"," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})};function HIe({}){const[t,e]=j.useState(0),[n,r]=j.useState(new UT),s=(v,w)=>{if(Array.isArray(v))r(E=>({...E,[w]:v}));else if(typeof v=="string")r(E=>({...E,[w]:v}));else{const{name:E,value:S}=v.target;r(C=>({...C,[E]:S}))}},i=(v,w,E)=>{r(S=>{const C=[...S.body];return C[v]={...C[v],[w]:E},{...S,body:C}})},o=(v,w)=>{const E=v[0];E&&r(S=>{const C=[...S.body];return C[w]={...C[w],image:E,imageUrl:URL.createObjectURL(E)},{...S,body:C}})},l=()=>{r(v=>({...v,body:[...v.body,{subtitle:"",body:"",image:null,image_source:""}]}))},u=v=>{r(w=>{const E=w.body.filter((S,C)=>C!==v);return{...w,body:E}})},h=v=>{r(w=>{const E=[...w.body];return E[v]?(E[v]={...E[v],image:null},{...w,body:E}):w})},f=async(v,w)=>{const E=Kt(en,w);return await Qt(E,v),await Zt(E)},g=async v=>{v.preventDefault(),xe.fire({title:"Submitting...",text:"Please wait while we submit your tourism projects.",allowOutsideClick:!1,didOpen:()=>{xe.showLoading()}});try{let w=n.headerImage?await f(n.headerImage,`tourismProjects/${Date.now()}_${n.headerImage.name}`):null;const E=await Promise.all(n.images.map(async D=>D?await f(D,`tourismProjects/${Date.now()}_${D.name}`):"")),S=await Promise.all(n.body.map(async(D,T)=>D.image?await f(D.image,`tourismProjects/${Date.now()}_${D.image.name}`):"")),C=new UT;C.id="",C.title=n.title,C.category=n.category||[],C.body=n.body.map((D,T)=>({subtitle:D.subtitle,body:D.body,image:S[T]||"",image_source:D.image_source})),C.headerImage=w,C.images=E,C.references=n.references||[];const O=await Or(Ft(ze,"tourismProjects"),C.toJSON()),I=gt(ze,"tourismProjects",O.id);await rn(I,{id:O.id}),xe.fire({title:"Tourism Projects Submitted",text:"Your Tourism Projects has been submitted successfully!",icon:"success"}),p()}catch(w){console.error("Error submitting Tourism Projects:",w),xe.fire({title:"Error",text:"There was an issue submitting your Tourism Projects. Please try again.",icon:"error"})}},p=()=>{r({id:"",title:"",category:[],body:[{subtitle:"",body:"",image:null,image_source:""}],headerImage:null,images:[],references:[]}),e(v=>v+1)};return a.jsxs(x,{className:"custom-form body-container",onSubmit:g,onKeyDown:v=>v.key==="Enter"&&v.preventDefault(),children:[a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"headerImage",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Cover Photo"}),a.jsx(mn,{storyForm:n,setStoryForm:r,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:6,children:a.jsx(qn,{onChange:v=>s(v,"category"),options:FK,resetKey:t,editingItems:n.category,label:"Categories"})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"title",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Title"}),a.jsx(x.Control,{type:"text",placeholder:"Enter business name",name:"title",value:n.title,onChange:s,required:!0})]})})}),a.jsx(V,{children:a.jsxs(z,{md:12,children:[a.jsx("p",{className:"label mb-2",children:"Body Sections"}),n.body.map((v,w)=>a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(B,{className:"empty-container"}),a.jsxs(x.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(x.Label,{className:"label",children:"Subtitle (Optional)"}),a.jsx(x.Control,{type:"text",className:"fw-bold",value:v.subtitle,onChange:E=>i(w,"subtitle",E.target.value)})]}),a.jsxs(z,{className:"col me-lg-2 me-md-1",children:[a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Image (Optional)"}),a.jsx(VIe,{index:w,section:v,onBodyImageDrop:o,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"}),v.image&&a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{className:"mt-2 mb-1",variant:"outline-danger",onClick:()=>h(w),children:[a.jsx(ye,{icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]})})]}),a.jsxs(x.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(x.Label,{className:"label",children:"Image Source (Optional)"}),a.jsx(x.Control,{placeholder:"e.g. @boracayphotos or /islanders or #trivago or www.trivago.com",type:"text",value:v.image_source,onChange:E=>i(w,"image_source",E.target.value)})]})]}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(x.Group,{className:"mb-5",children:[a.jsx(x.Label,{className:"label",children:"Body"}),a.jsx(rr,{index:w,section:v,handleBodyChange:i})]})}),n.body.length>1&&a.jsx(B,{className:"mb-4 d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-danger",type:"button",onClick:()=>u(w),className:"mt-3 w-full",children:[a.jsx(ye,{icon:Dt,size:"xs",fixedWidth:!0})," Delete Section"]})})]},w)),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-success",type:"button",onClick:l,className:"mb-3",children:[a.jsx(ye,{icon:nr,size:"xs",fixedWidth:!0})," Add Section"]})})]})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",children:[a.jsx(x.Label,{className:"label me-2",children:"Promotional & Marketing Photos"}),a.jsx(Rs,{dataForm:n,setDataForm:r,caption:"Drag & drop images or click to select (Max: 10)",dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:v=>s(v,"references"),label:"References and Links (Type & Enter)",editingItems:n.references,resetKey:t})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:p,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:g,children:"Submit Tourism Project"})]})}),a.jsx(B,{className:"empty-container"})]})}const GIe=({index:t,section:e,onBodyImageDrop:n,dropzoneName:r="dropzone-container-small",previewName:s="dropzone-uploaded-image-small"})=>{const{getRootProps:i,getInputProps:o}=Ht({onDrop:v=>n(v,t),accept:"image/png, image/jpeg, image/jpg, video/mp4, video/webm, video/ogg"}),l=e.image instanceof File,u=typeof e.image=="string"&&/\.(mp4|webm|ogg)(\?.*)?$/i.test(e.image),h=typeof e.image=="string"&&!u,f=l?URL.createObjectURL(e.image):null,g=h?e.image:null,p=u?e.image:null;return a.jsxs(B,{...i(),className:`${r} text-center w-100 ${f||g||p?"border-success":""}`,children:[a.jsx("input",{...o(),accept:"image/*,video/*"}),f?e.image.type.startsWith("video/")?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:f,type:e.image.type}),"Your browser does not support the video tag."]}):a.jsx("img",{src:f,alt:"Uploaded File Preview",className:s}):p?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:p,type:"video/mp4"}),"Your browser does not support the video tag."]}):g?a.jsx("img",{src:g,alt:"Image URL Preview",className:s}):a.jsxs("p",{className:"text-muted",children:["Drag & Drop Image/Video Here or"," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})};function WIe({editingItem:t,toAddForm:e}){const[n,r]=j.useState(0),[s,i]=j.useState(new UT),o=(y,A)=>{if(Array.isArray(y))i(_=>({..._,[A]:y}));else if(typeof y=="string")i(_=>({..._,[A]:y}));else{const{name:_,value:L}=y.target;i(R=>({...R,[_]:L}))}};j.useEffect(()=>{t&&i(y=>({...y,id:t.id||"",title:t.title||"",category:t.category||[],body:t.body.map((A,_)=>({subtitle:A.subtitle||"",body:A.body||"",image:A.image||"",image_source:A.image_source||""})),headerImage:t.headerImage||"",images:t.images||[],references:t.references||[]}))},[t]);const[l,u]=j.useState(null),[h,f]=j.useState(""),g=j.useCallback(y=>{y.length>0&&u(y[0])},[]),{getRootProps:p,getInputProps:v}=Ht({onDrop:g,accept:"image/*",disabled:!!h}),w=()=>{i(y=>({...y,headerImage:null}))},E=(y,A,_)=>{i(L=>{const R=[...L.body];return R[y]={...R[y],[A]:_},{...L,body:R}})},S=(y,A)=>{const _=y[0];_&&i(L=>{const R=[...L.body];return R[A]={...R[A],image:_,imageUrl:URL.createObjectURL(_)},{...L,body:R}})},C=()=>{i(y=>({...y,body:[...y.body,{subtitle:"",body:"",image:null,image_source:""}]}))},O=y=>{i(A=>{const _=A.body.filter((L,R)=>R!==y);return{...A,body:_}})},I=y=>{i(A=>{const _=[...A.body];return _[y]?(_[y]={..._[y],image:null},{...A,body:_}):A})},D=async(y,A)=>{const _=Kt(en,A);return await Qt(_,y),await Zt(_)},T=async y=>{y.preventDefault(),xe.fire({title:"Submitting...",text:"Please wait while we submit your Tourism Projects.",allowOutsideClick:!1,didOpen:()=>{xe.showLoading()}});try{let A=s.headerImage;s.headerImage instanceof File?(t&&t.headerImage&&await Vt(t.headerImage),A=await D(s.headerImage,`tourismProjects/${Date.now()}_${s.headerImage.name}`)):A=s.headerImage;const _=await Promise.all(s.body.map(async(P,K)=>P.image instanceof File?(t&&t.body&&t.body[K]&&t.body[K].image&&await Vt(t.body[K].image),await D(P.image,`tourismProjects/${Date.now()}_${P.image.name}`)):P.image)),L=await Promise.all(s.images.map(async(P,K)=>P instanceof File?(t&&t.images&&t.images[K]&&await Vt(t.images[K]),await D(P,`tourismProjects/${Date.now()}_${P.name}`)):P)),R={id:t?t.id:"",title:s.title,category:s.category||[],body:s.body.map((P,K)=>({subtitle:P.subtitle,body:P.body,image:_[K]||"",image_source:P.image_source})),headerImage:A,images:L,references:s.references||[]},U=gt(ze,"tourismProjects",s.id);try{await rn(U,R),xe.fire({title:"Tourism Projects Updated",text:"Your Tourism Projects has been updated successfully!",icon:"success"}),w(),F(),e()}catch(P){console.error("Error updating hotlines:",P),xe.fire({title:"Update Failed",text:"There was an error updating the Tourism Projects.",icon:"error"})}}catch(A){console.error("Error submitting Tourism Projects:",A),xe.fire({title:"Error",text:"There was an issue submitting your Tourism Projects. Please try again.",icon:"error"})}},F=()=>{i({id:"",title:"",category:[],body:[{subtitle:"",body:"",image:null,image_source:""}],headerImage:null,images:[],references:[]}),r(y=>y+1)};return a.jsxs(x,{className:"custom-form body-container",onSubmit:T,onKeyDown:y=>y.key==="Enter"&&y.preventDefault(),children:[a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{className:"my-2",children:[a.jsx(x.Label,{className:"label",children:"Upload Header Image (800x400)"}),a.jsx(mn,{storyForm:s,setStoryForm:i,editingItem:s,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"}),a.jsxs(B,{className:"d-flex justify-content-between mt-2",children:[a.jsx("p",{className:"subtitle",children:"Supported File: PNG, JPEG, and JPG"}),a.jsx("p",{className:"subtitle",children:"Maximum size: 25MB"})]}),a.jsx(B,{className:"d-flex justify-content-end",children:l&&(h?null:a.jsxs(se,{className:"my-2",variant:"outline-danger",onClick:w,children:[a.jsx(ye,{className:"button-icon",icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]}))})]})})}),a.jsx(V,{className:"mt-2"}),a.jsx(V,{children:a.jsx(z,{md:6,children:a.jsx(qn,{onChange:y=>o(y,"category"),options:FK,resetKey:n,editingItems:s.category,label:"Categories"})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Title"}),a.jsx(x.Control,{type:"text",placeholder:"Enter business name",name:"title",value:s.title,onChange:o,required:!0})]})})}),a.jsx(V,{children:a.jsxs(z,{md:12,children:[a.jsx("p",{className:"label mb-2",children:"Body Sections"}),s.body.map((y,A)=>a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(B,{className:"empty-container"}),a.jsxs(x.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(x.Label,{className:"label",children:"Subtitle (Optional)"}),a.jsx(x.Control,{type:"text",className:"fw-bold",value:y.subtitle,onChange:_=>E(A,"subtitle",_.target.value)})]}),a.jsxs(z,{className:"col me-lg-2 me-md-1",children:[a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Image (Optional)"}),a.jsx(GIe,{index:A,section:y,onBodyImageDrop:S,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"}),y.image&&a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{className:"mt-2 mb-1",variant:"outline-danger",onClick:()=>I(A),children:[a.jsx(ye,{icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]})})]}),a.jsxs(x.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(x.Label,{className:"label",children:"Image Source (Optional)"}),a.jsx(x.Control,{placeholder:"e.g. @boracayphotos or /islanders or #trivago or www.trivago.com",type:"text",value:y.image_source,onChange:_=>E(A,"image_source",_.target.value)})]})]}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(x.Group,{className:"mb-5",children:[a.jsx(x.Label,{className:"label",children:"Body"}),a.jsx(rr,{index:A,section:y,handleBodyChange:E})]})}),s.body.length>1&&a.jsx(B,{className:"mb-4 d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-danger",type:"button",onClick:()=>O(A),className:"mt-3 w-full",children:[a.jsx(ye,{icon:Dt,size:"xs",fixedWidth:!0})," Delete Section"]})})]},A)),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-success",type:"button",onClick:C,className:"mb-3",children:[a.jsx(ye,{icon:nr,size:"xs",fixedWidth:!0})," Add Section"]})})]})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",children:[a.jsx(x.Label,{className:"label me-2",children:"Promotional & Marketing Photos"}),a.jsx(Rs,{dataForm:s,setDataForm:i,caption:"Drag & drop images or click to select (Max: 10)",dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:y=>o(y,"references"),label:"References and Links (Type & Enter)",editingItems:s.references,resetKey:n})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:F,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:T,children:"Submit Update"})]})}),a.jsx(B,{className:"empty-container"})]})}const KIe=()=>{const[t,e]=j.useState([]),[n,r]=j.useState(""),[s,i]=j.useState("asc"),[o,l]=j.useState(0),[u,h]=j.useState(null),f=10;j.useEffect(()=>{v()},[]);const[g,p]=j.useState(!0),v=async()=>{try{const A=(await ur(Ft(ze,"tourismProjects"))).docs.map(_=>({id:_.id,..._.data()}));e(A)}catch(y){console.error("Error fetching data:",y)}finally{p(!1)}},w=y=>{h(y)},E=async y=>{window.confirm("Are you sure you want to delete this entry?")&&(await kr(gt(ze,"tourismProjects",y)),v())},S=t.filter(y=>y.title.toLowerCase().includes(n.toLowerCase())||String(y.references||"").toLowerCase().includes(n.toLowerCase())),C=()=>new Date().toISOString().split("T")[0],O=()=>{const y=t.map(({title:L,...R})=>({...R,references:R.references?JSON.stringify(R.references):""})),A=yt.json_to_sheet(y),_=yt.book_new();yt.book_append_sheet(_,A,"Data"),Fr(_,`tourism_tourismProjects_infoguide_${C()}.xlsx`)},I=Math.ceil(S.length/f),D=S.slice(o*f,(o+1)*f),T=({selected:y})=>{l(y)},F=()=>{h(null)};return a.jsxs(B,{children:[a.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Tourism Projects"}),a.jsx("p",{children:"List of Tourism Projects."}),a.jsxs(V,{className:"mb-4 mt-4",children:[a.jsx(z,{md:4,className:"mb-2 me-2 col",children:a.jsx(x.Control,{type:"text",placeholder:`Search up to over ${t.length} Tourism Projects`,value:n,onChange:y=>r(y.target.value)})}),a.jsxs(B,{className:"d-flex justify-content-end align-items-center mt-2",children:[a.jsxs(se,{variant:"outline-secondary",className:"me-2",onClick:v,children:[a.jsx(ye,{icon:Pr,size:"xs",fixedWidth:!0})," Refresh List"]}),a.jsxs(se,{variant:"outline-success",onClick:F,children:[a.jsx(ye,{icon:Dr,size:"xs",fixedWidth:!0})," Add New"]})]})]}),g?a.jsx("div",{className:"d-flex justify-content-center align-items-center my-5",children:a.jsx(Cr,{animation:"border",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):D.length===0?a.jsx("div",{className:"text-center my-5",children:a.jsx("h5",{children:"No Data Available"})}):a.jsxs(Rr,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Title"}),a.jsx("th",{children:"Category"})]})}),a.jsx("tbody",{children:D.map(y=>a.jsxs("tr",{children:[a.jsx("td",{children:y.title}),a.jsx("td",{children:Array.isArray(y.category)?y.category.join(", "):y.category}),a.jsx("td",{children:a.jsxs(B,{className:"d-flex justify-content-center align-items-center",children:[a.jsx(Jt,{placement:"top",overlay:a.jsx(Wt,{children:"Edit"}),children:a.jsx(se,{variant:"outline-secondary",size:"sm",className:"me-2",onClick:()=>w(y),children:a.jsx(ye,{icon:Ir,size:"xs",fixedWidth:!0})})}),a.jsx(Jt,{placement:"top",overlay:a.jsx(Wt,{children:"Delete"}),children:a.jsx(se,{variant:"outline-danger",size:"sm",onClick:()=>E(y.id),children:a.jsx(ye,{icon:Dt,size:"xs",fixedWidth:!0})})})]})})]},y.id))})]}),a.jsxs(B,{className:"d-flex justify-content-between align-items-center mb-4 mt-2",children:[a.jsx(se,{onClick:O,variant:"outline-success",children:"Download Excel"}),a.jsx(Mr,{previousLabel:"",nextLabel:"",pageCount:I,onPageChange:T,containerClassName:"pagination mb-0",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})]}),u?a.jsx(WIe,{editingItem:u,toAddForm:()=>h(null)}):a.jsx(HIe,{})]})};class zT{constructor(){this.id="",this.title="",this.dateStart="",this.dateEnd="",this.country="",this.total="",this.description="",this.headerImage=null,this.references=[],this.images=[]}toJSON(){return{...this}}}function YIe({}){const[t,e]=j.useState(0),[n,r]=j.useState(new zT),s=(u,h)=>{if(Array.isArray(u))r(f=>({...f,[h]:u}));else if(typeof u=="string")r(f=>({...f,[h]:u}));else{const{name:f,value:g}=u.target;r(p=>({...p,[f]:g}))}},i=async(u,h)=>{const f=Kt(en,h);return await Qt(f,u),await Zt(f)},o=async u=>{u.preventDefault(),xe.fire({title:"Submitting...",text:"Please wait while we submit your cruise Ships.",allowOutsideClick:!1,didOpen:()=>{xe.showLoading()}});try{let h=n.headerImage?await i(n.headerImage,`cruiseShips/${Date.now()}_${n.headerImage.name}`):null;const f=await Promise.all(n.images.map(async w=>w?await i(w,`cruiseShips/${Date.now()}_${w.name}`):"")),g=new zT;g.id="",g.title=n.title,g.dateStart=n.dateStart,g.dateEnd=n.dateEnd,g.country=n.country,g.total=n.total,g.description=n.description,g.headerImage=h,g.images=f,g.references=n.references||[];const p=await Or(Ft(ze,"cruiseShips"),g.toJSON()),v=gt(ze,"cruiseShips",p.id);await rn(v,{id:p.id}),xe.fire({title:"Cruise Ship Submitted",text:"Your Cruise Ship has been submitted successfully!",icon:"success"}),l()}catch(h){console.error("Error submitting Cruise Ship  And Recognitions Links:",h),xe.fire({title:"Error",text:"There was an issue submitting your Cruise Ship  Expos Links. Please try again.",icon:"error"})}},l=()=>{r({id:"",title:"",country:"",dateStart:"",dateEnd:"",total:"",description:"",headerImage:null,images:[],references:[]}),e(u=>u+1)};return a.jsxs(x,{className:"custom-form body-container",onSubmit:o,onKeyDown:u=>u.key==="Enter"&&u.preventDefault(),children:[a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"headerImage",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Cover Photo"}),a.jsx(mn,{storyForm:n,setStoryForm:r,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"})]})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"country",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Country Origin"}),a.jsx(x.Control,{type:"text",placeholder:"Enter country",name:"country",value:n.country,onChange:s,required:!0})]})}),a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"total",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Total Guest Visited"}),a.jsx(x.Control,{type:"text",placeholder:"Enter Total Visitor",name:"total",value:n.total,onChange:u=>{const h=u.target.value;/^\d*$/.test(h)&&s(u)}})]})})]}),a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Start Date"}),a.jsx(x.Control,{type:"date",name:"dateStart",value:n.dateStart,onChange:s,required:!0})]})}),a.jsx(z,{md:6,children:a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"End Date"}),a.jsx(x.Control,{type:"date",name:"dateEnd",value:n.dateEnd,onChange:s,min:n.dateStart,disabled:!n.dateStart,required:!0})]})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"title",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Title"}),a.jsx(x.Control,{type:"text",placeholder:"Enter business name",name:"title",value:n.title,onChange:s,required:!0})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"description",className:"mb-5 mt-2",children:[a.jsx(x.Label,{className:"label",children:"Brief Description"}),a.jsx(On,{theme:"snow",value:n.description||"",onChange:u=>s(u,"description"),required:!0,style:{height:"300px"}})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",children:[a.jsx(x.Label,{className:"label me-2",children:"Promotional & Marketing Photos"}),a.jsx(Rs,{dataForm:n,setDataForm:r,caption:"Drag & drop images or click to select (Max: 10)",dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:u=>s(u,"references"),label:"References and Links (Type & Enter)",editingItems:n.references,resetKey:t})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:l,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:o,children:"Submit Cruise Ship"})]})}),a.jsx(B,{className:"empty-container"})]})}function XIe({editingItem:t,toAddForm:e}){const[n,r]=j.useState(0),[s,i]=j.useState(new zT),o=(O,I)=>{if(Array.isArray(O))i(D=>({...D,[I]:O}));else if(typeof O=="string")i(D=>({...D,[I]:O}));else{const{name:D,value:T}=O.target;i(F=>({...F,[D]:T}))}};j.useEffect(()=>{t&&i(O=>({...O,id:t.id||"",title:t.title||"",country:t.country||"",total:t.total||0,dateStart:t.dateStart||"",dateEnd:t.dateEnd||"",description:t.description||"",headerImage:t.headerImage||"",images:t.images||[],references:t.references||[]}))},[t]);const[l,u]=j.useState(null),[h,f]=j.useState(""),g=j.useCallback(O=>{O.length>0&&u(O[0])},[]),{getRootProps:p,getInputProps:v}=Ht({onDrop:g,accept:"image/*",disabled:!!h}),w=()=>{i(O=>({...O,headerImage:null}))},E=async(O,I)=>{const D=Kt(en,I);return await Qt(D,O),await Zt(D)},S=async O=>{O.preventDefault(),xe.fire({title:"Submitting...",text:"Please wait while we submit your cruise Ships.",allowOutsideClick:!1,didOpen:()=>{xe.showLoading()}});try{let I=s.headerImage;s.headerImage instanceof File?(t&&t.headerImage&&await Vt(t.headerImage),I=await E(s.headerImage,`cruiseShips/${Date.now()}_${s.headerImage.name}`)):I=s.headerImage;const D=await Promise.all(s.images.map(async(y,A)=>y instanceof File?(t&&t.images&&t.images[A]&&await Vt(t.images[A]),await E(y,`cruiseShips/${Date.now()}_${y.name}`)):y)),T={id:t?t.id:"",title:s.title,country:s.country,total:s.total,dateStart:s.dateStart,dateEnd:s.dateEnd,description:s.description,headerImage:I,images:D,references:s.references||[]},F=gt(ze,"cruiseShips",s.id);try{await rn(F,T),xe.fire({title:"Cruise Ships Updated",text:"Your Cruise Ships has been updated successfully!",icon:"success"}),w(),C(),e()}catch(y){console.error("Error updating hotlines:",y),xe.fire({title:"Update Failed",text:"There was an error updating the Cruise Ships.",icon:"error"})}}catch(I){console.error("Error submitting Cruise Ships:",I),xe.fire({title:"Error",text:"There was an issue submitting your Cruise Ships. Please try again.",icon:"error"})}},C=()=>{i({id:"",title:"",country:"",total:"",dateStart:"",dateEnd:"",description:"",headerImage:null,images:[],references:[]}),r(O=>O+1)};return a.jsxs(x,{className:"custom-form body-container",onSubmit:S,onKeyDown:O=>O.key==="Enter"&&O.preventDefault(),children:[a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{className:"my-2",children:[a.jsx(x.Label,{className:"label",children:"Upload Header Image (800x400)"}),a.jsx(mn,{storyForm:s,setStoryForm:i,editingItem:s,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"}),a.jsxs(B,{className:"d-flex justify-content-between mt-2",children:[a.jsx("p",{className:"subtitle",children:"Supported File: PNG, JPEG, and JPG"}),a.jsx("p",{className:"subtitle",children:"Maximum size: 25MB"})]}),a.jsx(B,{className:"d-flex justify-content-end",children:l&&(h?null:a.jsxs(se,{className:"my-2",variant:"outline-danger",onClick:w,children:[a.jsx(ye,{className:"button-icon",icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]}))})]})})}),a.jsx(V,{className:"mt-2"}),a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"country",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Country Origin"}),a.jsx(x.Control,{type:"text",placeholder:"Enter country",name:"country",value:s.country,onChange:o,required:!0})]})}),a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"total",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Total Guest Visited"}),a.jsx(x.Control,{type:"text",placeholder:"Enter Total Visitor",name:"total",value:s.total,onChange:O=>{const I=O.target.value;/^\d*$/.test(I)&&o(O)}})]})})]}),a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Start Date"}),a.jsx(x.Control,{type:"date",name:"dateStart",value:s.dateStart,onChange:o,required:!0})]})}),a.jsx(z,{md:6,children:a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"End Date"}),a.jsx(x.Control,{type:"date",name:"dateEnd",value:s.dateEnd,onChange:o,min:s.dateStart,disabled:!s.dateStart,required:!0})]})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Title"}),a.jsx(x.Control,{type:"text",placeholder:"Enter business name",name:"title",value:s.title,onChange:o,required:!0})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"description",className:"mb-5 mt-2",children:[a.jsx(x.Label,{className:"label",children:"Brief Description"}),a.jsx(On,{theme:"snow",value:s.description||"",onChange:O=>o(O,"description"),required:!0,style:{height:"300px"}})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",children:[a.jsx(x.Label,{className:"label me-2",children:"Promotional & Marketing Photos"}),a.jsx(Rs,{dataForm:s,setDataForm:i,caption:"Drag & drop images or click to select (Max: 10)",dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:O=>o(O,"references"),label:"References and Links (Type & Enter)",editingItems:s.references,resetKey:n})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:C,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:S,children:"Submit Update"})]})}),a.jsx(B,{className:"empty-container"})]})}const JIe=()=>{const[t,e]=j.useState([]),[n,r]=j.useState(""),[s,i]=j.useState("asc"),[o,l]=j.useState(0),[u,h]=j.useState(null),f=10;j.useEffect(()=>{v()},[]);const[g,p]=j.useState(!0),v=async()=>{try{const A=(await ur(Ft(ze,"cruiseShips"))).docs.map(_=>({id:_.id,..._.data()}));e(A)}catch(y){console.error("Error fetching data:",y)}finally{p(!1)}},w=y=>{h(y)},E=async y=>{window.confirm("Are you sure you want to delete this entry?")&&(await kr(gt(ze,"cruiseShips",y)),v())},S=t.filter(y=>y.title.toLowerCase().includes(n.toLowerCase())||String(y.references||"").toLowerCase().includes(n.toLowerCase())),C=()=>new Date().toISOString().split("T")[0],O=()=>{const y=t.map(({title:L,...R})=>({...R,references:R.references?JSON.stringify(R.references):""})),A=yt.json_to_sheet(y),_=yt.book_new();yt.book_append_sheet(_,A,"Data"),Fr(_,`tourism_cruiseShips_infoguide_${C()}.xlsx`)},I=Math.ceil(S.length/f),D=S.slice(o*f,(o+1)*f),T=({selected:y})=>{l(y)},F=()=>{h(null)};return a.jsxs(B,{children:[a.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Cruise Ship Arrivals"}),a.jsx("p",{children:"List of Cruise Ship Arrivals."}),a.jsxs(V,{className:"mb-4 mt-4",children:[a.jsx(z,{md:4,className:"mb-2 me-2 col",children:a.jsx(x.Control,{type:"text",placeholder:`Search up to over ${t.length} Cruise Ships`,value:n,onChange:y=>r(y.target.value)})}),a.jsxs(B,{className:"d-flex justify-content-end align-items-center mt-2",children:[a.jsxs(se,{variant:"outline-secondary",className:"me-2",onClick:v,children:[a.jsx(ye,{icon:Pr,size:"xs",fixedWidth:!0})," Refresh List"]}),a.jsxs(se,{variant:"outline-success",onClick:F,children:[a.jsx(ye,{icon:Dr,size:"xs",fixedWidth:!0})," Add New"]})]})]}),g?a.jsx("div",{className:"d-flex justify-content-center align-items-center my-5",children:a.jsx(Cr,{animation:"border",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):D.length===0?a.jsx("div",{className:"text-center my-5",children:a.jsx("h5",{children:"No Data Available"})}):a.jsxs(Rr,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Title"}),a.jsx("th",{children:"Date"}),a.jsx("th",{children:"Country of Origin"}),a.jsx("th",{children:"Total"})]})}),a.jsx("tbody",{children:D.map(y=>a.jsxs("tr",{children:[a.jsx("td",{children:y.title}),a.jsxs("td",{children:[y.dateStart," ",y.dateEnd]}),a.jsx("td",{children:y.country}),a.jsx("th",{children:y.total}),a.jsx("td",{children:a.jsxs(B,{className:"d-flex justify-content-center align-items-center",children:[a.jsx(Jt,{placement:"top",overlay:a.jsx(Wt,{children:"Edit"}),children:a.jsx(se,{variant:"outline-secondary",size:"sm",className:"me-2",onClick:()=>w(y),children:a.jsx(ye,{icon:Ir,size:"xs",fixedWidth:!0})})}),a.jsx(Jt,{placement:"top",overlay:a.jsx(Wt,{children:"Delete"}),children:a.jsx(se,{variant:"outline-danger",size:"sm",onClick:()=>E(y.id),children:a.jsx(ye,{icon:Dt,size:"xs",fixedWidth:!0})})})]})})]},y.id))})]}),a.jsxs(B,{className:"d-flex justify-content-between align-items-center mb-4 mt-2",children:[a.jsx(se,{onClick:O,variant:"outline-success",children:"Download Excel"}),a.jsx(Mr,{previousLabel:"",nextLabel:"",pageCount:I,onPageChange:T,containerClassName:"pagination mb-0",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})]}),u?a.jsx(XIe,{editingItem:u,toAddForm:()=>h(null)}):a.jsx(YIe,{})]})};class qT{constructor(){this.id="",this.title="",this.body=[{subtitle:"",body:"",image:null,image_source:""}],this.headerImage=null,this.references=[],this.images=[]}toJSON(){return{...this}}}const QIe=({index:t,section:e,onBodyImageDrop:n,dropzoneName:r="dropzone-container-small",previewName:s="dropzone-uploaded-image-small"})=>{const{getRootProps:i,getInputProps:o}=Ht({onDrop:u=>n(u,t),accept:"image/png, image/jpeg, image/jpg, video/mp4, video/webm, video/ogg"}),l=e.image?e.image instanceof File?URL.createObjectURL(e.image):e.image:null;return a.jsxs(B,{...i(),className:`${r} text-center w-100 ${l?"border-success":""}`,children:[a.jsx("input",{...o(),accept:"image/*,video/*"}),l?e.image instanceof File&&e.image.type.startsWith("video/")?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:l,type:e.image.type}),"Your browser does not support the video tag."]}):a.jsx("img",{src:l,alt:"Body Image Preview",className:s}):a.jsxs("p",{className:"text-muted",children:["Drag & Drop Image/Video Here or"," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})};function ZIe({}){const[t,e]=j.useState(0),[n,r]=j.useState(new qT),s=(v,w)=>{if(Array.isArray(v))r(E=>({...E,[w]:v}));else if(typeof v=="string")r(E=>({...E,[w]:v}));else{const{name:E,value:S}=v.target;r(C=>({...C,[E]:S}))}},i=(v,w,E)=>{r(S=>{const C=[...S.body];return C[v]={...C[v],[w]:E},{...S,body:C}})},o=(v,w)=>{const E=v[0];E&&r(S=>{const C=[...S.body];return C[w]={...C[w],image:E,imageUrl:URL.createObjectURL(E)},{...S,body:C}})},l=()=>{r(v=>({...v,body:[...v.body,{subtitle:"",body:"",image:null,image_source:""}]}))},u=v=>{r(w=>{const E=w.body.filter((S,C)=>C!==v);return{...w,body:E}})},h=v=>{r(w=>{const E=[...w.body];return E[v]?(E[v]={...E[v],image:null},{...w,body:E}):w})},f=async(v,w)=>{const E=Kt(en,w);return await Qt(E,v),await Zt(E)},g=async v=>{v.preventDefault(),xe.fire({title:"Submitting...",text:"Please wait while we submit your tourism markets.",allowOutsideClick:!1,didOpen:()=>{xe.showLoading()}});try{let w=n.headerImage?await f(n.headerImage,`tourismMarkets/${Date.now()}_${n.headerImage.name}`):null;const E=await Promise.all(n.images.map(async D=>D?await f(D,`tourismMarkets/${Date.now()}_${D.name}`):"")),S=await Promise.all(n.body.map(async(D,T)=>D.image?await f(D.image,`tourismMarkets/${Date.now()}_${D.image.name}`):"")),C=new qT;C.id="",C.title=n.title,C.body=n.body.map((D,T)=>({subtitle:D.subtitle,body:D.body,image:S[T]||"",image_source:D.image_source})),C.headerImage=w,C.images=E,C.references=n.references||[];const O=await Or(Ft(ze,"tourismMarkets"),C.toJSON()),I=gt(ze,"tourismMarkets",O.id);await rn(I,{id:O.id}),xe.fire({title:"Tourism Markets Submitted",text:"Your Tourism Markets has been submitted successfully!",icon:"success"}),p()}catch(w){console.error("Error submitting Tourism Markets:",w),xe.fire({title:"Error",text:"There was an issue submitting your Tourism Markets. Please try again.",icon:"error"})}},p=()=>{r({id:"",title:"",body:[{subtitle:"",body:"",image:null,image_source:""}],headerImage:null,images:[],references:[]}),e(v=>v+1)};return a.jsxs(x,{className:"custom-form body-container",onSubmit:g,onKeyDown:v=>v.key==="Enter"&&v.preventDefault(),children:[a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"headerImage",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Cover Photo"}),a.jsx(mn,{storyForm:n,setStoryForm:r,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"title",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Title"}),a.jsx(x.Control,{type:"text",placeholder:"Enter business name",name:"title",value:n.title,onChange:s,required:!0})]})})}),a.jsx(V,{children:a.jsxs(z,{md:12,children:[a.jsx("p",{className:"label mb-2",children:"Body Sections"}),n.body.map((v,w)=>a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(B,{className:"empty-container"}),a.jsxs(x.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(x.Label,{className:"label",children:"Subtitle (Optional)"}),a.jsx(x.Control,{type:"text",className:"fw-bold",value:v.subtitle,onChange:E=>i(w,"subtitle",E.target.value)})]}),a.jsxs(z,{className:"col me-lg-2 me-md-1",children:[a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Image (Optional)"}),a.jsx(QIe,{index:w,section:v,onBodyImageDrop:o,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"}),v.image&&a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{className:"mt-2 mb-1",variant:"outline-danger",onClick:()=>h(w),children:[a.jsx(ye,{icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]})})]}),a.jsxs(x.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(x.Label,{className:"label",children:"Image Source (Optional)"}),a.jsx(x.Control,{placeholder:"e.g. @boracayphotos or /islanders or #trivago or www.trivago.com",type:"text",value:v.image_source,onChange:E=>i(w,"image_source",E.target.value)})]})]}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(x.Group,{className:"mb-5",children:[a.jsx(x.Label,{className:"label",children:"Body"}),a.jsx(rr,{index:w,section:v,handleBodyChange:i})]})}),n.body.length>1&&a.jsx(B,{className:"mb-4 d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-danger",type:"button",onClick:()=>u(w),className:"mt-3 w-full",children:[a.jsx(ye,{icon:Dt,size:"xs",fixedWidth:!0})," Delete Section"]})})]},w)),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-success",type:"button",onClick:l,className:"mb-3",children:[a.jsx(ye,{icon:nr,size:"xs",fixedWidth:!0})," Add Section"]})})]})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",children:[a.jsx(x.Label,{className:"label me-2",children:"Promotional & Marketing Photos"}),a.jsx(Rs,{dataForm:n,setDataForm:r,caption:"Drag & drop images or click to select (Max: 10)",dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:v=>s(v,"references"),label:"References and Links (Type & Enter)",editingItems:n.references,resetKey:t})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:p,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:g,children:"Submit Tourism Market"})]})}),a.jsx(B,{className:"empty-container"})]})}const ePe=({index:t,section:e,onBodyImageDrop:n,dropzoneName:r="dropzone-container-small",previewName:s="dropzone-uploaded-image-small"})=>{const{getRootProps:i,getInputProps:o}=Ht({onDrop:v=>n(v,t),accept:"image/png, image/jpeg, image/jpg, video/mp4, video/webm, video/ogg"}),l=e.image instanceof File,u=typeof e.image=="string"&&/\.(mp4|webm|ogg)(\?.*)?$/i.test(e.image),h=typeof e.image=="string"&&!u,f=l?URL.createObjectURL(e.image):null,g=h?e.image:null,p=u?e.image:null;return a.jsxs(B,{...i(),className:`${r} text-center w-100 ${f||g||p?"border-success":""}`,children:[a.jsx("input",{...o(),accept:"image/*,video/*"}),f?e.image.type.startsWith("video/")?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:f,type:e.image.type}),"Your browser does not support the video tag."]}):a.jsx("img",{src:f,alt:"Uploaded File Preview",className:s}):p?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:p,type:"video/mp4"}),"Your browser does not support the video tag."]}):g?a.jsx("img",{src:g,alt:"Image URL Preview",className:s}):a.jsxs("p",{className:"text-muted",children:["Drag & Drop Image/Video Here or"," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})};function tPe({editingItem:t,toAddForm:e}){const[n,r]=j.useState(0),[s,i]=j.useState(new qT),o=(y,A)=>{if(Array.isArray(y))i(_=>({..._,[A]:y}));else if(typeof y=="string")i(_=>({..._,[A]:y}));else{const{name:_,value:L}=y.target;i(R=>({...R,[_]:L}))}};j.useEffect(()=>{t&&i(y=>({...y,id:t.id||"",title:t.title||"",body:t.body.map((A,_)=>({subtitle:A.subtitle||"",body:A.body||"",image:A.image||"",image_source:A.image_source||""})),headerImage:t.headerImage||"",images:t.images||[],references:t.references||[]}))},[t]);const[l,u]=j.useState(null),[h,f]=j.useState(""),g=j.useCallback(y=>{y.length>0&&u(y[0])},[]),{getRootProps:p,getInputProps:v}=Ht({onDrop:g,accept:"image/*",disabled:!!h}),w=()=>{i(y=>({...y,headerImage:null}))},E=(y,A,_)=>{i(L=>{const R=[...L.body];return R[y]={...R[y],[A]:_},{...L,body:R}})},S=(y,A)=>{const _=y[0];_&&i(L=>{const R=[...L.body];return R[A]={...R[A],image:_,imageUrl:URL.createObjectURL(_)},{...L,body:R}})},C=()=>{i(y=>({...y,body:[...y.body,{subtitle:"",body:"",image:null,image_source:""}]}))},O=y=>{i(A=>{const _=A.body.filter((L,R)=>R!==y);return{...A,body:_}})},I=y=>{i(A=>{const _=[...A.body];return _[y]?(_[y]={..._[y],image:null},{...A,body:_}):A})},D=async(y,A)=>{const _=Kt(en,A);return await Qt(_,y),await Zt(_)},T=async y=>{y.preventDefault(),xe.fire({title:"Submitting...",text:"Please wait while we submit your Tourism Markets.",allowOutsideClick:!1,didOpen:()=>{xe.showLoading()}});try{let A=s.headerImage;s.headerImage instanceof File?(t&&t.headerImage&&await Vt(t.headerImage),A=await D(s.headerImage,`tourismMarkets/${Date.now()}_${s.headerImage.name}`)):A=s.headerImage;const _=await Promise.all(s.body.map(async(P,K)=>P.image instanceof File?(t&&t.body&&t.body[K]&&t.body[K].image&&await Vt(t.body[K].image),await D(P.image,`tourismMarkets/${Date.now()}_${P.image.name}`)):P.image)),L=await Promise.all(s.images.map(async(P,K)=>P instanceof File?(t&&t.images&&t.images[K]&&await Vt(t.images[K]),await D(P,`tourismMarkets/${Date.now()}_${P.name}`)):P)),R={id:t?t.id:"",title:s.title,body:s.body.map((P,K)=>({subtitle:P.subtitle,body:P.body,image:_[K]||"",image_source:P.image_source})),headerImage:A,images:L,references:s.references||[]},U=gt(ze,"tourismMarkets",s.id);try{await rn(U,R),xe.fire({title:"Tourism Markets Updated",text:"Your Tourism Markets has been updated successfully!",icon:"success"}),w(),F(),e()}catch(P){console.error("Error updating hotlines:",P),xe.fire({title:"Update Failed",text:"There was an error updating the Tourism Markets.",icon:"error"})}}catch(A){console.error("Error submitting Tourism Markets:",A),xe.fire({title:"Error",text:"There was an issue submitting your Tourism Markets. Please try again.",icon:"error"})}},F=()=>{i({id:"",title:"",body:[{subtitle:"",body:"",image:null,image_source:""}],headerImage:null,images:[],references:[]}),r(y=>y+1)};return a.jsxs(x,{className:"custom-form body-container",onSubmit:T,onKeyDown:y=>y.key==="Enter"&&y.preventDefault(),children:[a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{className:"my-2",children:[a.jsx(x.Label,{className:"label",children:"Upload Header Image (800x400)"}),a.jsx(mn,{storyForm:s,setStoryForm:i,editingItem:s,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"}),a.jsxs(B,{className:"d-flex justify-content-between mt-2",children:[a.jsx("p",{className:"subtitle",children:"Supported File: PNG, JPEG, and JPG"}),a.jsx("p",{className:"subtitle",children:"Maximum size: 25MB"})]}),a.jsx(B,{className:"d-flex justify-content-end",children:l&&(h?null:a.jsxs(se,{className:"my-2",variant:"outline-danger",onClick:w,children:[a.jsx(ye,{className:"button-icon",icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]}))})]})})}),a.jsx(V,{className:"mt-2"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Title"}),a.jsx(x.Control,{type:"text",placeholder:"Enter business name",name:"title",value:s.title,onChange:o,required:!0})]})})}),a.jsx(V,{children:a.jsxs(z,{md:12,children:[a.jsx("p",{className:"label mb-2",children:"Body Sections"}),s.body.map((y,A)=>a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(B,{className:"empty-container"}),a.jsxs(x.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(x.Label,{className:"label",children:"Subtitle (Optional)"}),a.jsx(x.Control,{type:"text",className:"fw-bold",value:y.subtitle,onChange:_=>E(A,"subtitle",_.target.value)})]}),a.jsxs(z,{className:"col me-lg-2 me-md-1",children:[a.jsxs(x.Group,{className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Image (Optional)"}),a.jsx(ePe,{index:A,section:y,onBodyImageDrop:S,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"}),y.image&&a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{className:"mt-2 mb-1",variant:"outline-danger",onClick:()=>I(A),children:[a.jsx(ye,{icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]})})]}),a.jsxs(x.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(x.Label,{className:"label",children:"Image Source (Optional)"}),a.jsx(x.Control,{placeholder:"e.g. @boracayphotos or /islanders or #trivago or www.trivago.com",type:"text",value:y.image_source,onChange:_=>E(A,"image_source",_.target.value)})]})]}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(x.Group,{className:"mb-5",children:[a.jsx(x.Label,{className:"label",children:"Body"}),a.jsx(rr,{index:A,section:y,handleBodyChange:E})]})}),s.body.length>1&&a.jsx(B,{className:"mb-4 d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-danger",type:"button",onClick:()=>O(A),className:"mt-3 w-full",children:[a.jsx(ye,{icon:Dt,size:"xs",fixedWidth:!0})," Delete Section"]})})]},A)),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-success",type:"button",onClick:C,className:"mb-3",children:[a.jsx(ye,{icon:nr,size:"xs",fixedWidth:!0})," Add Section"]})})]})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",children:[a.jsx(x.Label,{className:"label me-2",children:"Promotional & Marketing Photos"}),a.jsx(Rs,{dataForm:s,setDataForm:i,caption:"Drag & drop images or click to select (Max: 10)",dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:y=>o(y,"references"),label:"References and Links (Type & Enter)",editingItems:s.references,resetKey:n})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:F,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:T,children:"Submit Update"})]})}),a.jsx(B,{className:"empty-container"})]})}const nPe=()=>{const[t,e]=j.useState([]),[n,r]=j.useState(""),[s,i]=j.useState("asc"),[o,l]=j.useState(0),[u,h]=j.useState(null),f=10;j.useEffect(()=>{v()},[]);const[g,p]=j.useState(!0),v=async()=>{try{const A=(await ur(Ft(ze,"tourismMarkets"))).docs.map(_=>({id:_.id,..._.data()}));e(A)}catch(y){console.error("Error fetching data:",y)}finally{p(!1)}},w=y=>{h(y)},E=async y=>{window.confirm("Are you sure you want to delete this entry?")&&(await kr(gt(ze,"tourismMarkets",y)),v())},S=t.filter(y=>y.title.toLowerCase().includes(n.toLowerCase())||String(y.references||"").toLowerCase().includes(n.toLowerCase())),C=()=>new Date().toISOString().split("T")[0],O=()=>{const y=t.map(({title:L,...R})=>({...R,references:R.references?JSON.stringify(R.references):""})),A=yt.json_to_sheet(y),_=yt.book_new();yt.book_append_sheet(_,A,"Data"),Fr(_,`tourism_tourismMarkets_infoguide_${C()}.xlsx`)},I=Math.ceil(S.length/f),D=S.slice(o*f,(o+1)*f),T=({selected:y})=>{l(y)},F=()=>{h(null)};return a.jsxs(B,{children:[a.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Tourism Markets"}),a.jsx("p",{children:"List of Tourism Markets."}),a.jsxs(V,{className:"mb-4 mt-4",children:[a.jsx(z,{md:4,className:"mb-2 me-2 col",children:a.jsx(x.Control,{type:"text",placeholder:`Search up to over ${t.length} Tourism Markets`,value:n,onChange:y=>r(y.target.value)})}),a.jsxs(B,{className:"d-flex justify-content-end align-items-center mt-2",children:[a.jsxs(se,{variant:"outline-secondary",className:"me-2",onClick:v,children:[a.jsx(ye,{icon:Pr,size:"xs",fixedWidth:!0})," Refresh List"]}),a.jsxs(se,{variant:"outline-success",onClick:F,children:[a.jsx(ye,{icon:Dr,size:"xs",fixedWidth:!0})," Add New"]})]})]}),g?a.jsx("div",{className:"d-flex justify-content-center align-items-center my-5",children:a.jsx(Cr,{animation:"border",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):D.length===0?a.jsx("div",{className:"text-center my-5",children:a.jsx("h5",{children:"No Data Available"})}):a.jsxs(Rr,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{children:a.jsx("tr",{children:a.jsx("th",{children:"Title"})})}),a.jsx("tbody",{children:D.map(y=>a.jsxs("tr",{children:[a.jsx("td",{children:y.title}),a.jsx("td",{children:a.jsxs(B,{className:"d-flex justify-content-center align-items-center",children:[a.jsx(Jt,{placement:"top",overlay:a.jsx(Wt,{children:"Edit"}),children:a.jsx(se,{variant:"outline-secondary",size:"sm",className:"me-2",onClick:()=>w(y),children:a.jsx(ye,{icon:Ir,size:"xs",fixedWidth:!0})})}),a.jsx(Jt,{placement:"top",overlay:a.jsx(Wt,{children:"Delete"}),children:a.jsx(se,{variant:"outline-danger",size:"sm",onClick:()=>E(y.id),children:a.jsx(ye,{icon:Dt,size:"xs",fixedWidth:!0})})})]})})]},y.id))})]}),a.jsxs(B,{className:"d-flex justify-content-between align-items-center mb-4 mt-2",children:[a.jsx(se,{onClick:O,variant:"outline-success",children:"Download Excel"}),a.jsx(Mr,{previousLabel:"",nextLabel:"",pageCount:I,onPageChange:T,containerClassName:"pagination mb-0",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})]}),u?a.jsx(tPe,{editingItem:u,toAddForm:()=>h(null)}):a.jsx(ZIe,{})]})};class $T{constructor(){this.id="",this.name="",this.category="",this.subcategory="",this.classification="",this.accreditation="",this.ratings="",this.established="",this.lowest="",this.slogan="",this.description="",this.facilities=[],this.amenities=[],this.awards=[],this.images=[],this.roomtypes=[],this.operatinghours=[],this.inclusivity=[],this.accessibility="",this.logo=null,this.headerImage=null,this.website="",this.address={street:"",barangay:"",town:"",region:"",province:"",country:"",lat:"",long:""},this.link="",this.geo="",this.socials=[],this.memberships=[],this.note=""}toJSON(){return{...this}}}function rPe({}){var S;const[t,e]=j.useState(0),[n,r]=j.useState(new $T),[s,i]=j.useState(""),[o,l]=j.useState(""),[u,h]=j.useState(""),f=(C,O)=>{if(Array.isArray(C))r(I=>({...I,[O]:C}));else if(typeof C=="string")r(I=>({...I,[O]:C}));else{const{name:I,value:D}=C.target;r(T=>({...T,[I]:D}))}},g=(C,O)=>{if(!C){console.warn("handleLocationSelect received null position.");return}r(I=>({...I,address:{...I.address,lat:C.lat||"",long:C.lng||""},link:O||""}))};j.useEffect(()=>{n.accreditation||(r(C=>({...C,category:"Hospitality & Lodging",subcategory:"Mainland Malay Hotels"})),i("Hospitality & Lodging"),l("Mainland Malay Hotels"))},[r,n.category,n.subcategory]);const p=async(C,O)=>{const I=Kt(en,O);return await Qt(I,C),await Zt(I)},v=async C=>{C.preventDefault(),xe.fire({title:"Submitting...",text:"Please wait while we submit your mainland Malay Hotel data.",allowOutsideClick:!1,didOpen:()=>{xe.showLoading()}});try{let O=n.headerImage?await p(n.headerImage,`mainlandMalayHotels/${Date.now()}_${n.headerImage.name}`):null,I=n.logo?await p(n.logo,`mainlandMalayHotels/${Date.now()}_${n.logo.name}`):null;const D=await Promise.all(n.images.map(async A=>A?await p(A,`mainlandMalayHotels/${Date.now()}_${A.name}`):"")),T=new $T;T.id="",T.name=n.name,T.category=n.category||s,T.subcategory=n.subcategory||o,T.classification=n.classification||u,T.accreditation=n.accreditation,T.ratings=n.ratings,T.established=n.established,T.lowest=n.lowest,T.slogan=n.slogan,T.description=n.description,T.facilities=n.facilities||[],T.amenities=n.amenities||[],T.awards=n.awards||[],T.images=D,T.roomtypes=n.roomtypes||[],T.operatinghours=n.operatinghours||[],T.inclusivity=n.inclusivity||[],T.accessibility=n.accessibility||[],T.logo=I,T.headerImage=O,T.website=n.website,T.address={...n.address},T.link=n.link,T.geo=n.geo,T.socials=n.socials||[],T.memberships=n.memberships||[],T.note=n.note;const F=await Or(Ft(ze,"mainlandMalayHotels"),T.toJSON()),y=gt(ze,"mainlandMalayHotels",F.id);await rn(y,{id:F.id}),xe.fire({title:"mainlandMalayHotels Submitted",text:"Your mainlandMalayHotels has been submitted successfully!",icon:"success"}),E(),w()}catch(O){console.error("Error submitting mainlandMalayHotels:",O),xe.fire({title:"Error",text:"There was an issue submitting your mainlandMalayHotels. Please try again.",icon:"error"})}},w=()=>{r(C=>({...C,headerImage:null}))},E=()=>{r({id:"",name:"",category:"",subcategory:"",classification:"",accreditation:"",ratings:"",established:"",lowest:"",slogan:"",description:"",facilities:[],amenities:[],awards:[],images:[],roomtypes:[],operatinghours:[],inclusivity:[],accessibility:[],logo:null,headerImage:null,website:"",address:{street:"",barangay:"",town:"",region:"",province:"",country:"",lat:"",long:""},link:"",geo:"",socials:[],memberships:[],note:[]}),e(C=>C+1),i(""),h(""),l("")};return a.jsxs(x,{className:"custom-form body-container",onSubmit:v,onKeyDown:C=>C.key==="Enter"&&C.preventDefault(),children:[a.jsxs(V,{className:"row mb-4",children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"category",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Category"}),a.jsx(x.Control,{type:"text",placeholder:"Enter Category",name:"category",value:n.category||"Hospitality & Lodging",onChange:f,readOnly:!0})]})}),a.jsxs(z,{md:6,children:[a.jsxs(x.Group,{controlId:"subcategory",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Category"}),a.jsx(x.Control,{type:"text",placeholder:"Enter Subcategory",name:"subcategory",value:n.subcategory||"Mainland Malay Hotels",onChange:f,readOnly:!0})]}),o&&$a[o]&&a.jsxs(x.Group,{controlId:"formClassification",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Classification"}),a.jsxs(x.Select,{value:n.classification||"",onChange:C=>{const O=C.target.value;h(O),r(I=>({...I,classification:O}))},children:[a.jsx("option",{value:"",children:"Select Classification"}),(S=$a[o])==null?void 0:S.map((C,O)=>a.jsx("option",{value:C,children:C},O))]})]})]})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"logo",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Business Logo"}),a.jsx(Mo,{storyForm:n,setStoryForm:r,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small",caption:"Drag & Drop Logo here",required:!0})]})}),a.jsx(z,{md:6,children:a.jsx(B,{})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Business Name"}),a.jsx(x.Control,{type:"text",placeholder:"Enter business name",name:"name",value:n.name,onChange:f,required:!0})]})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:9,children:a.jsxs(x.Group,{controlId:"slogan",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Business Slogan/Phrase/Tagline"}),a.jsx(x.Control,{type:"text",placeholder:"Enter business slogan/phrase/tagline",name:"slogan",value:n.slogan,onChange:f})]})}),a.jsx(z,{md:3,children:a.jsxs(x.Group,{controlId:"established",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Year Established"}),a.jsx(x.Control,{type:"text",placeholder:"e.g.: 2000",name:"established",required:!0,value:n.established,onChange:C=>{const O=C.target.value;/^\d*\.?\d*$/.test(O)&&f(C)}})]})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"description",className:"mb-5 mt-2",children:[a.jsx(x.Label,{className:"label",children:"Brief Description"}),a.jsx(On,{theme:"snow",value:n.description||"",onChange:C=>f(C,"description"),required:!0,style:{height:"300px"}})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Si,{groupData:n,setGroupData:r,resetKey:t})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Ci,{onLocationSelect:g,name:n.name||"",resetKey:t})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"link",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Google Map Link"}),a.jsx(x.Control,{type:"text",placeholder:"Select Location First",name:"link",value:n.link,onChange:f,readOnly:!0})]})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"lat",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Lattitude"}),a.jsx(x.Control,{type:"text",placeholder:"Select Location First",name:"lat",value:n.address.lat,onChange:f,readOnly:!0})]})}),a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"long",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Longitude"}),a.jsx(x.Control,{type:"text",placeholder:"Select Location First",name:"long",value:n.address.long,onChange:f,readOnly:!0})]})})]}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"accessibility",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Geographical Location"}),a.jsxs(x.Select,{name:"geo",value:n.geo,onChange:f,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Geo Location"}),Ni.map((C,O)=>a.jsx("option",{value:C,children:C},O))]})]})}),a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"accessibility",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Accessibility"}),a.jsxs(x.Select,{name:"accessibility",value:n.accessibility,onChange:f,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Accessibility"}),Fo.map((C,O)=>a.jsx("option",{value:C,children:C},O))]})]})})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Cover Photo"}),a.jsx(mn,{storyForm:n,setStoryForm:r,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",children:[a.jsx(x.Label,{className:"label me-2",children:"Promotional & Marketing Photos"}),a.jsx(Rs,{dataForm:n,setDataForm:r,caption:"Drag & drop images or click to select (Max: 10)",dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"})]})})}),a.jsxs(V,{className:"mt-4",children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"accreditation",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"DOT Accreditation No."}),a.jsx(x.Control,{type:"text",placeholder:"Enter accreditation (Optional)",name:"accreditation",value:n.accreditation,onChange:f})]})}),a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"ratings",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"DOT Rating"}),a.jsx(x.Control,{type:"text",placeholder:"Enter ratings (Optional)",name:"ratings",value:n.ratings,onChange:f})]})})]}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"website",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Official Website Link"}),a.jsx(x.Control,{type:"text",placeholder:"Enter website link",name:"website",value:n.website,onChange:f})]})}),a.jsx(z,{md:6,children:a.jsx(Ve,{onChange:C=>f(C,"socials"),label:"Social Media Links (Type & Enter)",editingItems:n.socials,resetKey:t})})]}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsx(Ve,{onChange:C=>f(C,"operatinghours"),label:"Operating Hours (Type & Enter)",editingItems:n.operatinghours,resetKey:t,caption:"format: hh:mm A  | e.g. 08:00 AM"})}),a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"lowest",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Lowest Price"}),a.jsx("p",{className:"subtitle",children:"format: 00000.00 | e.g. 12000.00"}),a.jsx(x.Control,{type:"text",placeholder:"Enter Lowest Price",name:"lowest",value:n.lowest,onChange:C=>{const O=C.target.value;/^\d*\.?\d*$/.test(O)&&f(C)}})]})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(qn,{onChange:C=>f(C,"roomtypes"),options:Yw,resetKey:t,editingItems:n.roomtypes,label:"Room Types (Search, Select & Enter)"})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(qn,{onChange:C=>f(C,"inclusivity"),options:Tp,resetKey:t,editingItems:n.inclusivity,label:"Inclusivity (Search, Select & Enter)"})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(qn,{onChange:C=>f(C,"facilities"),label:"Facilities (Search, Select & Enter)",resetKey:t,editingItems:n.facilities,options:Ap,required:!0})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(qn,{onChange:C=>f(C,"amenities"),label:"Amenities (Search, Select & Enter)",resetKey:t,options:Xw,editingItems:n.amenities,required:!0})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Ve,{label:"Organizational Memberships (Type & Enter)",onChange:C=>f(C,"memberships"),editingItems:n.memberships,resetKey:t})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:C=>f(C,"awards"),editingItems:n.awards,resetKey:t,label:"Awards, Recognitions, Seals and Certifications (Type & Enter)"})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"note",className:"mb-5 mt-2",children:[a.jsx(x.Label,{className:"label",children:"Notes, Reminders, Remarks, and Other Details"}),a.jsx(On,{theme:"snow",value:n.note||"",onChange:C=>f(C,"note"),required:!0,style:{height:"300px"}})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:E,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:v,children:"Submit Mainland Malay Hotel"})]})}),a.jsx(B,{className:"empty-container"})]})}function sPe({editingItem:t,toAddForm:e}){var A;const[n,r]=j.useState(0),[s,i]=j.useState(new $T),[o,l]=j.useState(""),[u,h]=j.useState(""),[f,g]=j.useState(""),p=(_,L)=>{if(Array.isArray(_))i(R=>({...R,[L]:_}));else if(typeof _=="string")i(R=>({...R,[L]:_}));else{const{name:R,value:U}=_.target;i(P=>({...P,[R]:U}))}},v=(_,L)=>{if(!_){console.warn("handleLocationSelect received null position.");return}i(R=>({...R,address:{...R.address,lat:_.lat||"",long:_.lng||""},link:L||""}))};j.useEffect(()=>{t&&(i(_=>({..._,id:t.id||"",name:t.name||"",category:t.category||"",subcategory:t.subcategory||"",classification:t.classification||"",accreditation:t.accreditation||"",ratings:t.ratings||"",established:t.established||"",lowest:t.lowest||"",slogan:t.slogan||"",description:t.description||"",facilities:t.facilities||[],amenities:t.amenities||[],awards:t.awards||[],images:t.images||[],roomtypes:t.roomtypes||[],operatinghours:t.operatinghours||[],inclusivity:t.inclusivity||[],accessibility:t.accessibility||"",logo:t.logo||"",headerImage:t.headerImage||"",website:t.website||"",address:{street:t.address.street||"",barangay:t.address.barangay||"",town:t.address.town||"",region:t.address.region||"",province:t.address.province||"",country:t.address.country||"",lat:t.address.lat||"",long:t.address.long||""},link:t.link||"",geo:t.geo||"",socials:t.socials||[],memberships:t.memberships||[],note:t.note||""})),t.category?(l(t.category||""),h(t.subcategory||""),g(t.classification||"")):(l("Hospitality & Lodging"),h("Mainland Malay Hotels")))},[t]);const w=async(_,L)=>{const R=Kt(en,L);return await Qt(R,_),await Zt(R)},E=async _=>{_.preventDefault(),xe.fire({title:"Submitting...",text:"Please wait while we submit your mainlandMalayHotels data.",allowOutsideClick:!1,didOpen:()=>{xe.showLoading()}});try{let L=s.logo,R=s.headerImage;s.headerImage instanceof File&&(t&&t.headerImage&&await Vt(t.headerImage),R=await w(s.headerImage,`mainlandMalayHotels/${Date.now()}_${s.headerImage.name}`)),s.logo instanceof File&&(t&&t.logo&&await Vt(t.logo),L=await w(s.logo,`mainlandMalayHotels/${Date.now()}_${s.logo.name}`));const U=await Promise.all(s.images.map(async(G,re)=>G instanceof File?(t&&t.images&&t.images[re]&&await Vt(t.images[re]),await w(G,`mainlandMalayHotels/${Date.now()}_${G.name}`)):G)),P={id:t?t.id:"",name:s.name,category:s.category||o,subcategory:s.subcategory||u,classification:s.classification||f,accreditation:s.accreditation,ratings:s.ratings,established:s.established,lowest:s.lowest,slogan:s.slogan,description:s.description,facilities:s.facilities||[],amenities:s.amenities||[],awards:s.awards||[],images:U,roomtypes:s.roomtypes||[],operatinghours:s.operatinghours||[],inclusivity:s.inclusivity||[],accessibility:s.accessibility||[],logo:L,headerImage:R,website:s.website,address:{...s.address},link:s.link,geo:s.geo,socials:s.socials||[],memberships:s.memberships||[],note:s.note},K=gt(ze,"mainlandMalayHotels",s.id);try{await rn(K,P),xe.fire({title:"mainlandMalayHotels Updated",text:"Your mainlandMalayHotels has been updated successfully!",icon:"success"}),C(),S(),e()}catch(G){console.error("Error updating mainlandMalayHotels:",G),xe.fire({title:"Update Failed",text:"There was an error updating the mainlandMalayHotels.",icon:"error"})}}catch(L){console.error("Error submitting mainlandMalayHotels:",L),xe.fire({title:"Error",text:"There was an issue submitting your mainlandMalayHotels. Please try again.",icon:"error"})}},S=()=>{i(_=>({..._,headerImage:null}))},C=()=>{i({id:"",name:"",category:"",subcategory:"",classification:"",accreditation:"",ratings:"",established:"",lowest:"",slogan:"",description:"",facilities:[],amenities:[],awards:[],images:[],roomtypes:[],operatinghours:[],inclusivity:[],accessibility:[],logo:null,headerImage:null,website:"",address:{street:"",barangay:"",town:"",region:"",province:"",country:"",lat:"",long:""},link:"",geo:"",socials:[],memberships:[],note:[]}),r(_=>_+1),l(""),g(""),h("")},[O,I]=j.useState(!1),D=()=>{I(!O)},[T,F]=j.useState(!1),y=()=>{F(!T)};return a.jsxs(x,{className:"custom-form body-container",onSubmit:E,onKeyDown:_=>_.key==="Enter"&&_.preventDefault(),children:[a.jsxs(V,{className:"row mb-4",children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"category",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Category"}),a.jsx(x.Control,{type:"text",placeholder:"Enter accreditation (Optional)",name:"accreditation",value:s.category||"Hospitality & Lodging",onChange:p,readOnly:!0})]})}),a.jsxs(z,{md:6,children:[a.jsxs(x.Group,{controlId:"subcategory",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Category"}),a.jsx(x.Control,{type:"text",placeholder:"Enter Subcategory",name:"subcategory",value:s.subcategory||"Mainland Malay Hotels",onChange:p,readOnly:!0})]}),u&&$a[u]&&a.jsxs(x.Group,{controlId:"formClassification",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Classification"}),a.jsxs(x.Select,{value:s.classification||"",onChange:_=>{const L=_.target.value;g(L),i(R=>({...R,classification:L}))},children:[a.jsx("option",{value:"",children:"Select Classification"}),(A=$a[u])==null?void 0:A.map((_,L)=>a.jsx("option",{value:_,children:_},L))]})]})]})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"name",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Business Logo"}),a.jsx(Mo,{storyForm:s,setStoryForm:i,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small",caption:"Drag & Drop Logo here",required:!0})]})}),a.jsx(z,{md:6,children:a.jsx(B,{})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Business Name"}),a.jsx(x.Control,{type:"text",placeholder:"Enter business name",name:"name",value:s.name,onChange:p,required:!0})]})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:9,children:a.jsxs(x.Group,{controlId:"slogan",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Business Slogan/Phrase/Tagline"}),a.jsx(x.Control,{type:"text",placeholder:"Enter business slogan/phrase/tagline",name:"slogan",value:s.slogan,onChange:p})]})}),a.jsx(z,{md:3,children:a.jsxs(x.Group,{controlId:"established",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Year Established"}),a.jsx(x.Control,{type:"text",placeholder:"e.g.: 2000",name:"established",required:!0,value:s.established,onChange:_=>{const L=_.target.value;/^\d*\.?\d*$/.test(L)&&p(_)}})]})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"description",className:"mb-5 mt-2",children:[a.jsx(x.Label,{className:"label",children:"Brief Description"}),a.jsx(On,{theme:"snow",value:s.description||"",onChange:_=>p(_,"description"),required:!0,style:{height:"300px"}})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:O?a.jsx(Si,{groupData:s,setGroupData:i,resetKey:n}):a.jsxs(x.Group,{className:"mt-3 mb-3",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[a.jsx(x.Label,{className:"label mb-2",children:"Local Business Address"}),a.jsx(se,{variant:"outline-danger",className:"mb-2",onClick:D,children:O?"Cancel":"Edit Address"})]}),a.jsxs(a.Fragment,{children:[a.jsx(x.Control,{className:"mb-3",type:"text",name:"address.country",placeholder:"Country",value:s.address.country,readOnly:!0}),a.jsx(x.Control,{className:"my-3",type:"text",name:"address.region",placeholder:"Region",value:s.address.region,readOnly:!0}),a.jsx(x.Control,{className:"my-3",type:"text",name:"address.province",placeholder:"Province",value:s.address.province,readOnly:!0}),a.jsx(x.Control,{className:"my-3",type:"text",name:"address.city",placeholder:"City/Municipality/Town",value:s.address.town,readOnly:!0}),a.jsx(x.Control,{className:"my-3",type:"text",name:"address.barangay",placeholder:"Barangay",value:s.address.barangay,readOnly:!0}),a.jsx(x.Control,{className:"my-3",type:"text",name:"address.street",placeholder:"Street Name / Zone (Optional)",value:s.address.street,readOnly:!0})]})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:T?a.jsx(Ci,{onLocationSelect:v,name:s.name||"",resetKey:n,editingItems:s.address}):a.jsxs(x.Group,{className:"mt-3 mb-3",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[a.jsx(x.Label,{className:"label mb-2",children:"Local Business Address"}),a.jsx(se,{variant:"outline-danger",className:"mb-2",onClick:y,children:T?"Cancel":"Edit Map Location"})]}),a.jsx(jf,{latitude:s.address.lat,longitude:s.address.long})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"link",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Google Map Link"}),a.jsx(x.Control,{type:"text",placeholder:"Select Location First",name:"link",value:s.link,onChange:p,readOnly:!0})]})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"lat",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Lattitude"}),a.jsx(x.Control,{type:"text",placeholder:"Select Location First",name:"lat",value:s.address.lat,onChange:p,readOnly:!0})]})}),a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"long",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Longitude"}),a.jsx(x.Control,{type:"text",placeholder:"Select Location First",name:"long",value:s.address.long,onChange:p,readOnly:!0})]})})]}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"accessibility",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Geographical Location"}),a.jsxs(x.Select,{name:"geo",value:s.geo,onChange:p,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Geo Location"}),Ni.map((_,L)=>a.jsx("option",{value:_,children:_},L))]})]})}),a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"accessibility",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Accessibility"}),a.jsxs(x.Select,{name:"accessibility",value:s.accessibility,onChange:p,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Accessibility"}),Fo.map((_,L)=>a.jsx("option",{value:_,children:_},L))]})]})})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Cover Photo"}),a.jsx(mn,{storyForm:s,setStoryForm:i,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"})]})})}),a.jsx(V,{className:"mt-2 ",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"name",children:[a.jsx(x.Label,{className:"label",children:"Promotional & Marketing Photos"}),a.jsx(Rs,{dataForm:s,setDataForm:i,caption:"Drag & drop images or click to select (Max: 10)",dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"})]})})}),a.jsxs(V,{className:"mt-4",children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"accreditation",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"DOT Accreditation No."}),a.jsx(x.Control,{type:"text",placeholder:"Enter accreditation (Optional)",name:"accreditation",value:s.accreditation,onChange:p})]})}),a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"ratings",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"DOT Rating"}),a.jsx(x.Control,{type:"text",placeholder:"Enter ratings (Optional)",name:"ratings",value:s.ratings,onChange:p})]})})]}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"website",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Official Website Link"}),a.jsx(x.Control,{type:"text",placeholder:"Enter website link",name:"website",value:s.website,onChange:p})]})}),a.jsx(z,{md:6,children:a.jsx(Ve,{onChange:_=>p(_,"socials"),label:"Social Media Links (Type & Enter)",editingItems:s.socials,resetKey:n})})]}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsx(Ve,{onChange:_=>p(_,"operatinghours"),label:"Operating Hours (Type & Enter)",editingItems:s.operatinghours,resetKey:n,caption:"format: hh:mm A  | e.g. 08:00 AM"})}),a.jsx(z,{md:6,children:a.jsxs(x.Group,{controlId:"lowest",className:"mb-3",children:[a.jsx(x.Label,{className:"label",children:"Lowest Price"}),a.jsx("p",{className:"subtitle",children:"format: 00000.00 | e.g. 12000.00"}),a.jsx(x.Control,{type:"text",placeholder:"Enter Lowest Price",name:"lowest",value:s.lowest,onChange:_=>{const L=_.target.value;/^\d*\.?\d*$/.test(L)&&p(_)}})]})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(qn,{onChange:_=>p(_,"roomtypes"),options:Yw,resetKey:n,label:"Room Types (Search, Select & Enter)",editingItems:s.roomtypes})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(qn,{onChange:_=>p(_,"inclusivity"),options:Tp,resetKey:n,label:"Inclusivity (Search, Select & Enter)",editingItems:s.inclusivity})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(qn,{onChange:_=>p(_,"facilities"),label:"Facilities (Search, Select & Enter)",resetKey:n,options:Ap,editingItems:s.facilities,required:!0})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(qn,{onChange:_=>p(_,"amenities"),label:"Amenities (Search, Select & Enter)",resetKey:n,options:Xw,editingItems:s.amenities,required:!0})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Ve,{label:"Organizational Memberships (Type & Enter)",onChange:_=>p(_,"memberships"),editingItems:s.memberships,resetKey:n})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Ve,{onChange:_=>p(_,"awards"),editingItems:s.awards,resetKey:n,label:"Awards, Recognitions, Seals and Certifications (Type & Enter)"})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(x.Group,{controlId:"note",className:"mb-5 mt-2",children:[a.jsx(x.Label,{className:"label",children:"Notes, Reminders, Remarks, and Other Details"}),a.jsx(On,{theme:"snow",value:s.note||"",onChange:_=>p(_,"note"),required:!0,style:{height:"300px"}})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(B,{className:"d-flex justify-content-end",children:a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:E,children:"Submit Update"})})}),a.jsx(B,{className:"empty-container"})]})}const aPe=()=>{const[t,e]=j.useState([]),[n,r]=j.useState(""),[s,i]=j.useState(""),[o,l]=j.useState(""),[u,h]=j.useState(""),[f,g]=j.useState(""),[p,v]=j.useState(""),[w,E]=j.useState("asc"),[S,C]=j.useState(0),[O,I]=j.useState(null),D=10;j.useEffect(()=>{y()},[]);const[T,F]=j.useState(!0),y=async()=>{try{const me=(await ur(Ft(ze,"mainlandMalayHotels"))).docs.map(ie=>({id:ie.id,...ie.data()}));e(me)}catch(Z){console.error("Error fetching data:",Z)}finally{F(!1)}},A=Z=>{I(Z)},_=async Z=>{xe.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then(async me=>{me.isConfirmed&&(await kr(gt(ze,"mainlandMalayHotels",Z)),y(),xe.fire("Deleted!","Your entry has been deleted.","success"))})},L=t.filter(Z=>{const me=o===""||Z.subcategory===o,ie=s===""||Z.classification===s,W=u===""||Z.geo===u,ve=f===""||Z.address.barangay===f,Q=n.toLowerCase(),ne=Z.name.toLowerCase().includes(Q)||Z.established.toLowerCase().includes(Q)||Z.category.toLowerCase().includes(Q)||Z.subcategory.toLowerCase().includes(Q)||Z.classification.toLowerCase().includes(Q)||Z.geo.toLowerCase().includes(Q)||Z.address.barangay.toLowerCase().includes(Q)||Z.address.street.toLowerCase().includes(Q)||Z.accreditation.toLowerCase().includes(Q)||Z.ratings.toLowerCase().includes(Q),te=Z.accreditation&&Z.accreditation.trim()!=="";return me&&ie&&W&&ve&&ne&&(p===""||p==="DOT Accredited"&&te||p==="Not Accredited"&&!te)}),R=()=>new Date().toISOString().split("T")[0],U=()=>{const Z=t.map(({name:W,established:ve,category:Q,subcategory:ne,classification:te,...X})=>({...X,facilities:Array.isArray(X.facilities)?X.facilities.join(", "):"",amenities:Array.isArray(X.amenities)?X.amenities.join(", "):"",awards:Array.isArray(X.awards)?X.awards.join(", "):"",images:Array.isArray(X.images)?X.images.join(", "):"",roomtypes:Array.isArray(X.roomtypes)?X.roomtypes.join(", "):"",operatinghours:Array.isArray(X.operatinghours)?X.operatinghours.join(", "):"",inclusivity:Array.isArray(X.inclusivity)?X.inclusivity.join(", "):"",socials:Array.isArray(X.socials)?X.socials.join(", "):"",memberships:Array.isArray(X.memberships)?X.memberships.join(", "):"",address:X.address?JSON.stringify(X.address):""})),me=yt.json_to_sheet(Z),ie=yt.book_new();yt.book_append_sheet(ie,me,"Data"),Fr(ie,`tourism_stories_infoguide_${R()}.xlsx`)},P=Math.ceil(L.length/D),K=L.slice(S*D,(S+1)*D),G=({selected:Z})=>{C(Z)},re=()=>{I(null)};return a.jsxs(B,{children:[a.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Mainland Malay Hotels"}),a.jsx("p",{children:"List of Department of Tourism (DOT) Accredited and LGU-Recognized Mainland Malay Hotels"}),a.jsxs(V,{children:[a.jsx(z,{md:6,className:"mb-1 me-2 col",children:a.jsx(x.Control,{type:"text",placeholder:`Search up to over ${t.length} mainland Malay Hotels`,value:n,onChange:Z=>r(Z.target.value)})}),a.jsx(z,{md:2,className:"mb-1 me-2 col",children:a.jsxs(x.Select,{value:o,onChange:Z=>l(Z.target.value),children:[a.jsx("option",{value:"",children:"All Subcategories"}),[...new Set(t.map(Z=>Z.subcategory))].map((Z,me)=>a.jsx("option",{value:Z,children:Z},me))]})}),a.jsx(z,{md:2,className:"mb-1 me-2 col",children:a.jsxs(x.Select,{value:s,onChange:Z=>i(Z.target.value),children:[a.jsx("option",{value:"",children:"All Classifications"}),[...new Set(t.map(Z=>Z.classification))].map((Z,me)=>a.jsx("option",{value:Z,children:Z},me))]})})]}),a.jsxs(V,{children:[a.jsx(z,{md:2,className:"mb-1 me-2 col",children:a.jsxs(x.Select,{value:u,onChange:Z=>l(Z.target.value),children:[a.jsx("option",{value:"",children:"All Geographical Location"}),[...new Set(t.map(Z=>Z.geo))].map((Z,me)=>a.jsx("option",{value:Z,children:Z},me))]})}),a.jsx(z,{md:2,className:"mb-1 me-2 col",children:a.jsxs(x.Select,{value:f,onChange:Z=>g(Z.target.value),children:[a.jsx("option",{value:"",children:"All Barangays"}),[...new Set(t.map(Z=>Z.address.barangay))].map((Z,me)=>a.jsx("option",{value:Z,children:Z},me))]})}),a.jsx(z,{md:2,className:"mb-1 me-2 col",children:a.jsxs(x.Select,{value:p,onChange:Z=>v(Z.target.value),children:[a.jsx("option",{value:"",children:"All Accreditations"}),a.jsx("option",{value:"DOT Accredited",children:"DOT Accredited"}),a.jsx("option",{value:"Not Accredited",children:"Not Accredited"})]})}),a.jsxs(B,{className:"d-flex justify-content-end align-items-center mt-2 mb-4",children:[a.jsxs(se,{variant:"outline-secondary",className:"me-2",onClick:y,children:[a.jsx(ye,{icon:Pr,size:"xs",fixedWidth:!0})," Refresh List"]}),a.jsxs(se,{variant:"outline-success",onClick:re,children:[a.jsx(ye,{icon:Dr,size:"xs",fixedWidth:!0})," Add New"]})]})]}),T?a.jsx("div",{className:"d-flex justify-content-center align-items-center my-5",children:a.jsx(Cr,{animation:"border",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):K.length===0?a.jsx("div",{className:"text-center my-5",children:a.jsx("h5",{children:"No Data Available"})}):a.jsxs(Rr,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Business Name"}),a.jsx("th",{children:"Established"}),a.jsx("th",{children:"Category"}),a.jsx("th",{children:"SubCategory"}),a.jsx("th",{children:"Classification"}),a.jsx("th",{children:"Geo Location"}),a.jsx("th",{children:"Barangay"}),a.jsx("th",{children:"Street"}),a.jsx("th",{children:"Accreditation"}),a.jsx("th",{children:"Rating"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:K.map(Z=>a.jsxs("tr",{children:[a.jsx("td",{children:Z.name}),a.jsx("td",{children:Z.established}),a.jsx("td",{children:Z.category}),a.jsx("td",{children:Z.subcategory}),a.jsx("td",{children:Z.classification}),a.jsx("td",{children:Z.geo}),a.jsx("td",{children:Z.address.barangay}),a.jsx("td",{children:Z.address.street}),a.jsx("td",{children:Z.accreditation}),a.jsx("td",{children:Z.ratings}),a.jsx("td",{children:a.jsxs(B,{className:"d-flex justify-content-center align-items-center",children:[a.jsx(Jt,{placement:"top",overlay:a.jsx(Wt,{children:"Edit"}),children:a.jsx(se,{variant:"outline-secondary",size:"sm",className:"me-2",onClick:()=>A(Z),children:a.jsx(ye,{icon:Ir,size:"xs",fixedWidth:!0})})}),a.jsx(Jt,{placement:"top",overlay:a.jsx(Wt,{children:"Delete"}),children:a.jsx(se,{variant:"outline-danger",size:"sm",onClick:()=>_(Z.id),children:a.jsx(ye,{icon:Dt,size:"xs",fixedWidth:!0})})})]})})]},Z.id))})]}),a.jsxs(B,{className:"d-flex justify-content-between align-items-center mb-4 mt-2",children:[a.jsx(se,{onClick:U,variant:"outline-success",children:"Download Excel"}),a.jsx(Mr,{previousLabel:"",nextLabel:"",pageCount:P,onPageChange:G,containerClassName:"pagination mb-0",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})]}),a.jsx(B,{className:"empty-container"}),O?a.jsx(sPe,{editingItem:O,toAddForm:()=>I(null)}):a.jsx(rPe,{})]})};function dn({icon:t,title:e,onClick:n,active:r}){return a.jsxs(hn.Link,{className:`ms-lg-2 mb-2 ${r?"active":""}`,id:"basic-nav-sidebar-item",onClick:n,style:{cursor:"pointer"},children:[a.jsx(ye,{icon:t,size:"sm",fixedWidth:!0})," ",e]})}function Tl({title:t,children:e,className:n}){const[r,s]=j.useState(!1);return a.jsxs(a.Fragment,{children:[a.jsxs(hn.Link,{as:"div",onClick:()=>s(!r),className:n,style:{cursor:"pointer"},id:"basic-nav-sidebar",children:[t,a.jsx("span",{style:{float:"right"},children:r?"-":"+"})]}),a.jsx(P7,{in:r,children:a.jsx("div",{className:"ms-3",children:e})})]})}function iPe(){const[t,e]=j.useState("dashboard"),[n,r]=j.useState(!1),s=()=>r(!1),i=()=>r(!0),o=()=>{switch(t){case"dashboard":return a.jsxs("div",{children:[a.jsx("h2",{children:"Dashboard"}),a.jsx("p",{children:"Welcome to the dashboard home page."})]});case"updates":return a.jsx(a.Fragment,{children:a.jsx(NOe,{})});case"deals":return a.jsx(a.Fragment,{children:a.jsx(kOe,{})});case"incomingEvents":return a.jsx(a.Fragment,{children:a.jsx(MOe,{})});case"stories":return a.jsx(a.Fragment,{children:a.jsx(TLe,{})});case"sustainableTourism":return a.jsx(a.Fragment,{children:a.jsx(qOe,{})});case"accommodations":return a.jsx(a.Fragment,{children:a.jsx(vOe,{})});case"resorts":return a.jsx(a.Fragment,{children:a.jsx(bOe,{})});case"restaurants":return a.jsx(a.Fragment,{children:a.jsx(Za,{category:"Food & Beverages",subcategory:"restaurants"})});case"barsAndPartyClubs":return a.jsx(a.Fragment,{children:a.jsx(Za,{category:"Food & Beverages",subcategory:"barsAndPartyClubs"})});case"cafeAndCoworking":return a.jsx(a.Fragment,{children:a.jsx(Za,{category:"Food & Beverages",subcategory:"cafeAndCoworking"})});case"tourguides":return a.jsx(a.Fragment,{children:a.jsx(Za,{category:"Tourism & Leisure",subcategory:"tourguides"})});case"travelAndTourOperators":return a.jsx(a.Fragment,{children:a.jsx(Za,{category:"Tourism & Leisure",subcategory:"travelAndTourOperators"})});case"touristActivityProviders":return a.jsx(a.Fragment,{children:a.jsx(Za,{category:"Tourism & Leisure",subcategory:"touristActivityProviders"})});case"MICEFacilities":return a.jsx(a.Fragment,{children:a.jsx(Za,{category:"Tourism & Leisure",subcategory:"MICEFacilities"})});case"eventsPlanningCompanies":return a.jsx(a.Fragment,{children:a.jsx(Za,{category:"Tourism & Leisure",subcategory:"eventsPlanningCompanies"})});case"touristAndSpecialtyShops":return a.jsx(a.Fragment,{children:a.jsx(Za,{category:"Tourism & Leisure",subcategory:"touristAndSpecialtyShops"})});case"spaAndWellnessCentres":return a.jsx(a.Fragment,{children:a.jsx(Za,{category:"Health & Wellness",subcategory:"spaAndWellnessCentres"})});case"gymnsAndFitnessClubs":return a.jsx(a.Fragment,{children:a.jsx(Za,{category:"Health & Wellness",subcategory:"gymnsAndFitnessClubs"})});case"touristLandAndAirTransportOperators":return a.jsx(a.Fragment,{children:a.jsx(Za,{category:"Transport & Parking",subcategory:"touristLandAndAirTransportOperators"})});case"passengerShipLines":return a.jsx(a.Fragment,{children:a.jsx(Za,{category:"Transport & Parking",subcategory:"passengerShipLines"})});case"parkingSpaces":return a.jsx(a.Fragment,{children:a.jsx(Za,{category:"Transport & Parking",subcategory:"parkingSpaces"})});case"hospitalsAndClinics":return a.jsx(a.Fragment,{children:a.jsx(Za,{category:"Healthcare Facilities",subcategory:"hospitalsAndClinics"})});case"attractions":return a.jsx(a.Fragment,{children:a.jsx(WOe,{})});case"activities":return a.jsx(a.Fragment,{children:a.jsx(QOe,{})});case"hotlines":return a.jsx(a.Fragment,{children:a.jsx(tIe,{})});case"requirements":return a.jsx(a.Fragment,{children:a.jsx(iIe,{})});case"ordinances":return a.jsx(a.Fragment,{children:a.jsx(cIe,{})});case"tariffs":return a.jsx(a.Fragment,{children:a.jsx(mIe,{})});case"calendarEvents":return a.jsx(a.Fragment,{children:a.jsx(xIe,{})});case"helpfulLinks":return a.jsx(a.Fragment,{children:a.jsx(_Ie,{})});case"lifeStyles":return a.jsx(a.Fragment,{children:a.jsx(NIe,{})});case"touristFAQs":return a.jsx(a.Fragment,{children:a.jsx(kIe,{})});case"virtualTourGuides":return a.jsx(a.Fragment,{children:a.jsx(MIe,{})});case"awardsAndRecognitions":return a.jsx(a.Fragment,{children:a.jsx(UIe,{})});case"travelExpos":return a.jsx(a.Fragment,{children:a.jsx($Ie,{})});case"tourismProjects":return a.jsx(a.Fragment,{children:a.jsx(KIe,{})});case"tourismMarkets":return a.jsx(a.Fragment,{children:a.jsx(nPe,{})});case"cruiseShips":return a.jsx(a.Fragment,{children:a.jsx(JIe,{})});case"mainlandMalayHotels":return a.jsx(a.Fragment,{children:a.jsx(aPe,{})});default:return a.jsxs("div",{children:[a.jsx("h2",{children:"Dashboard"}),a.jsx("p",{children:"Welcome to the dashboard home page."})]})}},l=a.jsxs("div",{className:"sidebar-sticky p-3  pt-5",children:[a.jsx("h4",{children:"Admin"}),a.jsxs(hn,{className:"flex-column sidebar",children:[a.jsx(dn,{icon:pfe,title:"DASHBOARD",onClick:()=>{e("dashboard"),s()},active:t==="dashboard"}),a.jsx(dn,{icon:H1,title:"UPDATES",onClick:()=>{e("updates"),s()},active:t==="updates"}),a.jsx(dn,{icon:RN,title:"DEALS & PROMOTIONS",onClick:()=>{e("deals"),s()},active:t==="deals"}),a.jsx(dn,{icon:kN,title:"INCOMING EVENTS",onClick:()=>{e("incomingEvents"),s()},active:t==="incomingEvents"}),a.jsx(dn,{icon:Ufe,title:"TOURISM STORIES",onClick:()=>{e("stories"),s()},active:t==="stories"}),a.jsx(dn,{icon:c$,title:"SUSTAINABLE TRAVEL",onClick:()=>{e("sustainableTourism"),s()},active:t==="sustainableTourism"}),a.jsxs(Tl,{title:"EXPERIENCE",className:"ms-lg-2 mb-2",children:[a.jsxs(Tl,{title:"HOSPITALITY & LODGING",className:"ms-lg-2 mb-2 me-lg-2",children:[a.jsx(dn,{icon:ON,title:"BORACAY ACCOMMODATIONS",onClick:()=>{e("accommodations"),s()},active:t==="accommodations"}),a.jsx(dn,{icon:ON,title:"MAINLAND MALAY HOTELS",onClick:()=>{e("mainlandMalayHotels"),s()},active:t==="mainlandMalayHotels"}),a.jsx(dn,{icon:Jfe,title:"RECREATIONAL RESORTS",onClick:()=>{e("resorts"),s()},active:t==="resorts"})]}),a.jsxs(Tl,{title:"FOODS & BEVERAGES",className:"ms-lg-2 mb-2 me-lg-2 navlink",children:[a.jsx(dn,{icon:f$,title:"RESTAURANTS",onClick:()=>{e("restaurants"),s()},active:t==="restaurants"}),a.jsx(dn,{icon:kfe,title:"BARS & PARTY CLUB",onClick:()=>{e("barsAndPartyClubs"),s()},active:t==="barsAndPartyClubs"}),a.jsx(dn,{icon:g$,title:"CAFES & COWORKING",onClick:()=>{e("cafeAndCoworking"),s()},active:t==="cafeAndCoworking"})]}),a.jsxs(Tl,{title:"TOURISM & LEISURE",className:"ms-lg-2 mb-2 me-lg-2 navlink",children:[a.jsx(dn,{icon:gfe,title:"TOUR GUIDES",onClick:()=>{e("tourguides"),s()},active:t==="tourguides"}),a.jsx(dn,{icon:i$,title:"TRAVEL & TOUR OPERATORS",onClick:()=>{e("travelAndTourOperators"),s()},active:t==="travelAndTourOperators"}),a.jsx(dn,{icon:uD,title:"TOURIST ACTIVITY PROVIDER",onClick:()=>{e("touristActivityProviders"),s()},active:t==="touristActivityProviders"}),a.jsx(dn,{icon:ife,title:"M.I.C.E. FACILITIES",onClick:()=>{e("MICEFacilities"),s()},active:t==="MICEFacilities"}),a.jsx(dn,{icon:Mfe,title:"EVENTS PLANNING COMPANIES",onClick:()=>{e("eventsPlanningCompanies"),s()},active:t==="eventsPlanningCompanies"}),a.jsx(dn,{icon:o$,title:"TOURIST & SPECIALTY SHOPS",onClick:()=>{e("touristAndSpecialtyShops"),s()},active:t==="touristAndSpecialtyShops"})]}),a.jsxs(Tl,{title:"HEATH & WELLNESS",className:"ms-lg-2 mb-2 me-lg-2 navlink",children:[a.jsx(dn,{icon:l$,title:"SPA & WELLNESS CENTERS",onClick:()=>{e("spaAndWellnessCentres"),s()},active:t==="spaAndWellnessCentres"}),a.jsx(dn,{icon:d$,title:"GYMS & FITNESS CLUBS",onClick:()=>{e("gymnsAndFitnessClubs"),s()},active:t==="gymnsAndFitnessClubs"})]}),a.jsxs(Tl,{title:"TRANSPORT & PARKING",className:"ms-lg-2 mb-2 me-lg-2 navlink",children:[a.jsx(dn,{icon:Pfe,title:"TOURIST LAND AND AIR TRANSPORT OPERATORS",onClick:()=>{e("touristLandAndAirTransportOperators"),s()},active:t==="touristLandAndAirTransportOperators"}),a.jsx(dn,{icon:Tfe,title:"PASSSENGER SHIP LINES",onClick:()=>{e("passengerShipLines"),s()},active:t==="passengerShipLines"}),a.jsx(dn,{icon:u$,title:"PARKING SPACES",onClick:()=>{e("parkingSpaces"),s()},active:t==="parkingSpaces"})]}),a.jsx(Tl,{title:"HEALTHCARE FACILTIES",className:"ms-lg-2 mb-2 me-lg-2 navlink",children:a.jsx(dn,{icon:m$,title:"HOSPITALS & CLINICS",onClick:()=>{e("hospitalsAndClinics"),s()},active:t==="hospitalsAndClinics"})}),a.jsx(dn,{icon:uD,title:"ACTIVITIES",onClick:()=>{e("activities"),s()},active:t==="activities"}),a.jsx(dn,{icon:L3,title:"ATTRACTIONS",onClick:()=>{e("attractions"),s()},active:t==="attractions"})]}),a.jsxs(Tl,{title:"ESSENTIALS",className:"ms-lg-2 mb-2",id:"basic-nav-sidebar-item",children:[a.jsx(dn,{icon:hfe,title:"EMERGENCY HOTLINES",onClick:()=>{e("hotlines"),s()},active:t==="hotlines"}),a.jsx(dn,{icon:yfe,title:"TOURIST REQUIREMENTS",onClick:()=>{e("requirements"),s()},active:t==="requirements"}),a.jsx(dn,{icon:ffe,title:"BEACH ORDINANCES",onClick:()=>{e("ordinances"),s()},active:t==="ordinances"}),a.jsx(dn,{icon:Ffe,title:"TARIFF RATES",onClick:()=>{e("tariffs"),s()},active:t==="tariffs"}),a.jsx(dn,{icon:Oje,title:"CALENDAR OF EVENTS",onClick:()=>{e("calendarEvents"),s()},active:t==="calendarEvents"}),a.jsx(dn,{icon:qfe,title:"HELPFUL LINKS",onClick:()=>{e("helpfulLinks"),s()},active:t==="helpfulLinks"}),a.jsx(dn,{icon:wfe,title:"LIFESTYLE & FACILITIES",onClick:()=>{e("lifeStyles"),s()},active:t==="lifeStyles"}),a.jsx(dn,{icon:kje,title:"TOURIST FAQ",onClick:()=>{e("touristFAQs"),s()},active:t==="touristFAQs"}),a.jsx(dn,{icon:eme,title:"VIRTUAL TOUR GUIDE",onClick:()=>{e("virtualTourGuides"),s()},active:t==="virtualTourGuides"})]}),a.jsxs(Tl,{title:"TOURISM DATA",className:"ms-lg-2 mb-2",id:"basic-nav-sidebar-item",children:[a.jsx(dn,{icon:Sfe,title:"TOURIST ARRIVALS",onClick:()=>{e("arrivals"),s()},active:t==="arrivals"}),a.jsx(dn,{icon:h$,title:"CRUISE SHIPS ARRIVALS",onClick:()=>{e("cruiseShips"),s()},active:t==="cruiseShips"}),a.jsx(dn,{icon:v$,title:"FLIGHT DATA",onClick:()=>{e("flights"),s()},active:t==="flights"}),a.jsx(dn,{icon:xfe,title:"M.I.C.E. REPORTS",onClick:()=>{e("mice+reports"),s()},active:t==="mice+reports"})]}),a.jsxs(Tl,{title:"ACHIEVEMENTS",className:"ms-lg-2 mb-2",id:"basic-nav-sidebar",children:[a.jsx(dn,{icon:zfe,title:"AWARDS & RECOGNITIONS",onClick:()=>{e("awardsAndRecognitions"),s()},active:t==="awardsAndRecognitions"}),a.jsx(dn,{icon:Gfe,title:"TRAVEL EXPOS, EXHIBITS, CONFERENCES, CONVENTIONS, B2B & ROADSHOWS",onClick:()=>{e("travelExpos"),s()},active:t==="travelExpos"}),a.jsx(dn,{icon:Cfe,title:"TOURISM PROJECTS",onClick:()=>{e("tourismProjects"),s()},active:t==="tourismProjects"}),a.jsx(dn,{icon:Dfe,title:"TOURISM MARKETS",onClick:()=>{e("tourismMarkets"),s()},active:t==="tourismMarkets"})]}),a.jsx(hn.Link,{className:"ms-lg-2",id:"basic-nav-sidebar-item",onClick:()=>{e("complaints"),s()},style:{cursor:"pointer"},children:"COMPLAINTS"}),a.jsx(hn.Link,{className:"ms-lg-2",id:"basic-nav-sidebar-item",onClick:()=>{e("feedbacks"),s()},style:{cursor:"pointer"},children:"FEEDBACK"})]})]});return a.jsxs(B,{fluid:!0,className:"grey-container ",children:[a.jsxs(V,{children:[a.jsx(z,{xs:3,className:"p-0 d-none d-lg-block white-container content-wrapper",style:{minHeight:"100vh",maxHeight:"100vh",overflowY:"auto",position:"sticky",top:0},children:l}),a.jsxs(z,{xs:12,md:12,lg:9,className:"p-4 pt-5",children:[a.jsx(se,{variant:"outline-primary",className:"d-lg-none mb-3",onClick:i,children:"Menu"}),o()]})]}),a.jsxs(Vu,{show:n,onHide:s,placement:"start",className:"d-lg-none content-wrapper",children:[a.jsx(Vu.Header,{closeButton:!0,children:a.jsx(Vu.Title,{children:"Menu"})}),a.jsx(Vu.Body,{children:l})]})]})}function oPe(){return a.jsx(yme,{children:a.jsxs(ste,{children:[a.jsx(bme,{}),a.jsx("div",{className:"content-wrapper",children:a.jsx(B,{fluid:!0,children:a.jsxs(Iee,{children:[a.jsx(sm,{path:"/infoguideapp/",element:a.jsx(Rj,{})}),a.jsx(sm,{path:"/",element:a.jsx(Rj,{})}),a.jsx(sm,{path:"/admin",element:a.jsx(iPe,{})}),a.jsx(sm,{path:"/home",element:a.jsx(Rj,{})}),a.jsx(sm,{path:"*",element:a.jsx(fte,{})})]})})})]})})}bX.createRoot(document.getElementById("root")).render(a.jsx(j.StrictMode,{children:a.jsx(oPe,{})}))});export default lPe();
