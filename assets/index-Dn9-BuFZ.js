var KY=Object.defineProperty;var YY=(t,e,n)=>e in t?KY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var XY=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var be=(t,e,n)=>YY(t,typeof e!="symbol"?e+"":e,n);var SIe=XY((Vi,Hi)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Co=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var z_={exports:{}},xg={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yk;function JY(){if(Yk)return xg;Yk=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,i){var o=null;if(i!==void 0&&(o=""+i),s.key!==void 0&&(o=""+s.key),"key"in s){i={};for(var c in s)c!=="key"&&(i[c]=s[c])}else i=s;return s=i.ref,{$$typeof:t,type:r,key:o,ref:s!==void 0?s:null,props:i}}return xg.Fragment=e,xg.jsx=n,xg.jsxs=n,xg}var Xk;function QY(){return Xk||(Xk=1,z_.exports=JY()),z_.exports}var a=QY(),q_={exports:{}},pn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jk;function ZY(){if(Jk)return pn;Jk=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),g=Symbol.iterator;function p(W){return W===null||typeof W!="object"?null:(W=g&&W[g]||W["@@iterator"],typeof W=="function"?W:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,E={};function j(W,ye,Q){this.props=W,this.context=ye,this.refs=E,this.updater=Q||y}j.prototype.isReactComponent={},j.prototype.setState=function(W,ye){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,ye,"setState")},j.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function C(){}C.prototype=j.prototype;function O(W,ye,Q){this.props=W,this.context=ye,this.refs=E,this.updater=Q||y}var I=O.prototype=new C;I.constructor=O,w(I,j.prototype),I.isPureReactComponent=!0;var D=Array.isArray,T={H:null,A:null,T:null,S:null},F=Object.prototype.hasOwnProperty;function _(W,ye,Q,ne,te,X){return Q=X.ref,{$$typeof:t,type:W,key:ye,ref:Q!==void 0?Q:null,props:X}}function R(W,ye){return _(W.type,ye,void 0,void 0,void 0,W.props)}function b(W){return typeof W=="object"&&W!==null&&W.$$typeof===t}function A(W){var ye={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(Q){return ye[Q]})}var L=/\/+/g;function U(W,ye){return typeof W=="object"&&W!==null&&W.key!=null?A(""+W.key):ye.toString(36)}function P(){}function K(W){switch(W.status){case"fulfilled":return W.value;case"rejected":throw W.reason;default:switch(typeof W.status=="string"?W.then(P,P):(W.status="pending",W.then(function(ye){W.status==="pending"&&(W.status="fulfilled",W.value=ye)},function(ye){W.status==="pending"&&(W.status="rejected",W.reason=ye)})),W.status){case"fulfilled":return W.value;case"rejected":throw W.reason}}throw W}function G(W,ye,Q,ne,te){var X=typeof W;(X==="undefined"||X==="boolean")&&(W=null);var xe=!1;if(W===null)xe=!0;else switch(X){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(W.$$typeof){case t:case e:xe=!0;break;case f:return xe=W._init,G(xe(W._payload),ye,Q,ne,te)}}if(xe)return te=te(W),xe=ne===""?"."+U(W,0):ne,D(te)?(Q="",xe!=null&&(Q=xe.replace(L,"$&/")+"/"),G(te,ye,Q,"",function(Ie){return Ie})):te!=null&&(b(te)&&(te=R(te,Q+(te.key==null||W&&W.key===te.key?"":(""+te.key).replace(L,"$&/")+"/")+xe)),ye.push(te)),1;xe=0;var Ne=ne===""?".":ne+":";if(D(W))for(var je=0;je<W.length;je++)ne=W[je],X=Ne+U(ne,je),xe+=G(ne,ye,Q,X,te);else if(je=p(W),typeof je=="function")for(W=je.call(W),je=0;!(ne=W.next()).done;)ne=ne.value,X=Ne+U(ne,je++),xe+=G(ne,ye,Q,X,te);else if(X==="object"){if(typeof W.then=="function")return G(K(W),ye,Q,ne,te);throw ye=String(W),Error("Objects are not valid as a React child (found: "+(ye==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":ye)+"). If you meant to render a collection of children, use an array instead.")}return xe}function re(W,ye,Q){if(W==null)return W;var ne=[],te=0;return G(W,ne,"","",function(X){return ye.call(Q,X,te++)}),ne}function Z(W){if(W._status===-1){var ye=W._result;ye=ye(),ye.then(function(Q){(W._status===0||W._status===-1)&&(W._status=1,W._result=Q)},function(Q){(W._status===0||W._status===-1)&&(W._status=2,W._result=Q)}),W._status===-1&&(W._status=0,W._result=ye)}if(W._status===1)return W._result.default;throw W._result}var me=typeof reportError=="function"?reportError:function(W){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ye=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof W=="object"&&W!==null&&typeof W.message=="string"?String(W.message):String(W),error:W});if(!window.dispatchEvent(ye))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",W);return}console.error(W)};function ie(){}return pn.Children={map:re,forEach:function(W,ye,Q){re(W,function(){ye.apply(this,arguments)},Q)},count:function(W){var ye=0;return re(W,function(){ye++}),ye},toArray:function(W){return re(W,function(ye){return ye})||[]},only:function(W){if(!b(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},pn.Component=j,pn.Fragment=n,pn.Profiler=s,pn.PureComponent=O,pn.StrictMode=r,pn.Suspense=u,pn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,pn.act=function(){throw Error("act(...) is not supported in production builds of React.")},pn.cache=function(W){return function(){return W.apply(null,arguments)}},pn.cloneElement=function(W,ye,Q){if(W==null)throw Error("The argument must be a React element, but you passed "+W+".");var ne=w({},W.props),te=W.key,X=void 0;if(ye!=null)for(xe in ye.ref!==void 0&&(X=void 0),ye.key!==void 0&&(te=""+ye.key),ye)!F.call(ye,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&ye.ref===void 0||(ne[xe]=ye[xe]);var xe=arguments.length-2;if(xe===1)ne.children=Q;else if(1<xe){for(var Ne=Array(xe),je=0;je<xe;je++)Ne[je]=arguments[je+2];ne.children=Ne}return _(W.type,te,void 0,void 0,X,ne)},pn.createContext=function(W){return W={$$typeof:o,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null},W.Provider=W,W.Consumer={$$typeof:i,_context:W},W},pn.createElement=function(W,ye,Q){var ne,te={},X=null;if(ye!=null)for(ne in ye.key!==void 0&&(X=""+ye.key),ye)F.call(ye,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(te[ne]=ye[ne]);var xe=arguments.length-2;if(xe===1)te.children=Q;else if(1<xe){for(var Ne=Array(xe),je=0;je<xe;je++)Ne[je]=arguments[je+2];te.children=Ne}if(W&&W.defaultProps)for(ne in xe=W.defaultProps,xe)te[ne]===void 0&&(te[ne]=xe[ne]);return _(W,X,void 0,void 0,null,te)},pn.createRef=function(){return{current:null}},pn.forwardRef=function(W){return{$$typeof:c,render:W}},pn.isValidElement=b,pn.lazy=function(W){return{$$typeof:f,_payload:{_status:-1,_result:W},_init:Z}},pn.memo=function(W,ye){return{$$typeof:h,type:W,compare:ye===void 0?null:ye}},pn.startTransition=function(W){var ye=T.T,Q={};T.T=Q;try{var ne=W(),te=T.S;te!==null&&te(Q,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(ie,me)}catch(X){me(X)}finally{T.T=ye}},pn.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},pn.use=function(W){return T.H.use(W)},pn.useActionState=function(W,ye,Q){return T.H.useActionState(W,ye,Q)},pn.useCallback=function(W,ye){return T.H.useCallback(W,ye)},pn.useContext=function(W){return T.H.useContext(W)},pn.useDebugValue=function(){},pn.useDeferredValue=function(W,ye){return T.H.useDeferredValue(W,ye)},pn.useEffect=function(W,ye){return T.H.useEffect(W,ye)},pn.useId=function(){return T.H.useId()},pn.useImperativeHandle=function(W,ye,Q){return T.H.useImperativeHandle(W,ye,Q)},pn.useInsertionEffect=function(W,ye){return T.H.useInsertionEffect(W,ye)},pn.useLayoutEffect=function(W,ye){return T.H.useLayoutEffect(W,ye)},pn.useMemo=function(W,ye){return T.H.useMemo(W,ye)},pn.useOptimistic=function(W,ye){return T.H.useOptimistic(W,ye)},pn.useReducer=function(W,ye,Q){return T.H.useReducer(W,ye,Q)},pn.useRef=function(W){return T.H.useRef(W)},pn.useState=function(W){return T.H.useState(W)},pn.useSyncExternalStore=function(W,ye,Q){return T.H.useSyncExternalStore(W,ye,Q)},pn.useTransition=function(){return T.H.useTransition()},pn.version="19.0.0",pn}var Qk;function R1(){return Qk||(Qk=1,q_.exports=ZY()),q_.exports}var S=R1();const er=rc(S);var $_={exports:{}},bg={},V_={exports:{}},H_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zk;function eX(){return Zk||(Zk=1,function(t){function e(re,Z){var me=re.length;re.push(Z);e:for(;0<me;){var ie=me-1>>>1,W=re[ie];if(0<s(W,Z))re[ie]=Z,re[me]=W,me=ie;else break e}}function n(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var Z=re[0],me=re.pop();if(me!==Z){re[0]=me;e:for(var ie=0,W=re.length,ye=W>>>1;ie<ye;){var Q=2*(ie+1)-1,ne=re[Q],te=Q+1,X=re[te];if(0>s(ne,me))te<W&&0>s(X,ne)?(re[ie]=X,re[te]=me,ie=te):(re[ie]=ne,re[Q]=me,ie=Q);else if(te<W&&0>s(X,me))re[ie]=X,re[te]=me,ie=te;else break e}}return Z}function s(re,Z){var me=re.sortIndex-Z.sortIndex;return me!==0?me:re.id-Z.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var u=[],h=[],f=1,g=null,p=3,y=!1,w=!1,E=!1,j=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function I(re){for(var Z=n(h);Z!==null;){if(Z.callback===null)r(h);else if(Z.startTime<=re)r(h),Z.sortIndex=Z.expirationTime,e(u,Z);else break;Z=n(h)}}function D(re){if(E=!1,I(re),!w)if(n(u)!==null)w=!0,K();else{var Z=n(h);Z!==null&&G(D,Z.startTime-re)}}var T=!1,F=-1,_=5,R=-1;function b(){return!(t.unstable_now()-R<_)}function A(){if(T){var re=t.unstable_now();R=re;var Z=!0;try{e:{w=!1,E&&(E=!1,C(F),F=-1),y=!0;var me=p;try{t:{for(I(re),g=n(u);g!==null&&!(g.expirationTime>re&&b());){var ie=g.callback;if(typeof ie=="function"){g.callback=null,p=g.priorityLevel;var W=ie(g.expirationTime<=re);if(re=t.unstable_now(),typeof W=="function"){g.callback=W,I(re),Z=!0;break t}g===n(u)&&r(u),I(re)}else r(u);g=n(u)}if(g!==null)Z=!0;else{var ye=n(h);ye!==null&&G(D,ye.startTime-re),Z=!1}}break e}finally{g=null,p=me,y=!1}Z=void 0}}finally{Z?L():T=!1}}}var L;if(typeof O=="function")L=function(){O(A)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,P=U.port2;U.port1.onmessage=A,L=function(){P.postMessage(null)}}else L=function(){j(A,0)};function K(){T||(T=!0,L())}function G(re,Z){F=j(function(){re(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(re){re.callback=null},t.unstable_continueExecution=function(){w||y||(w=!0,K())},t.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<re?Math.floor(1e3/re):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(re){switch(p){case 1:case 2:case 3:var Z=3;break;default:Z=p}var me=p;p=Z;try{return re()}finally{p=me}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(re,Z){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var me=p;p=re;try{return Z()}finally{p=me}},t.unstable_scheduleCallback=function(re,Z,me){var ie=t.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?ie+me:ie):me=ie,re){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=me+W,re={id:f++,callback:Z,priorityLevel:re,startTime:me,expirationTime:W,sortIndex:-1},me>ie?(re.sortIndex=me,e(h,re),n(u)===null&&re===n(h)&&(E?(C(F),F=-1):E=!0,G(D,me-ie))):(re.sortIndex=W,e(u,re),w||y||(w=!0,K())),re},t.unstable_shouldYield=b,t.unstable_wrapCallback=function(re){var Z=p;return function(){var me=p;p=Z;try{return re.apply(this,arguments)}finally{p=me}}}}(H_)),H_}var eO;function tX(){return eO||(eO=1,V_.exports=eX()),V_.exports}var G_={exports:{}},Ra={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tO;function nX(){if(tO)return Ra;tO=1;var t=R1();function e(u){var h="https://react.dev/errors/"+u;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)h+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function i(u,h,f){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:g==null?null:""+g,children:u,containerInfo:h,implementation:f}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(u,h){if(u==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Ra.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ra.createPortal=function(u,h){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return i(u,h,null,f)},Ra.flushSync=function(u){var h=o.T,f=r.p;try{if(o.T=null,r.p=2,u)return u()}finally{o.T=h,r.p=f,r.d.f()}},Ra.preconnect=function(u,h){typeof u=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(u,h))},Ra.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},Ra.preinit=function(u,h){if(typeof u=="string"&&h&&typeof h.as=="string"){var f=h.as,g=c(f,h.crossOrigin),p=typeof h.integrity=="string"?h.integrity:void 0,y=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;f==="style"?r.d.S(u,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:p,fetchPriority:y}):f==="script"&&r.d.X(u,{crossOrigin:g,integrity:p,fetchPriority:y,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Ra.preinitModule=function(u,h){if(typeof u=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var f=c(h.as,h.crossOrigin);r.d.M(u,{crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(u)},Ra.preload=function(u,h){if(typeof u=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var f=h.as,g=c(f,h.crossOrigin);r.d.L(u,f,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Ra.preloadModule=function(u,h){if(typeof u=="string")if(h){var f=c(h.as,h.crossOrigin);r.d.m(u,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(u)},Ra.requestFormReset=function(u){r.d.r(u)},Ra.unstable_batchedUpdates=function(u,h){return u(h)},Ra.useFormState=function(u,h,f){return o.H.useFormState(u,h,f)},Ra.useFormStatus=function(){return o.H.useHostTransitionStatus()},Ra.version="19.0.0",Ra}var nO;function y7(){if(nO)return G_.exports;nO=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),G_.exports=nX(),G_.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rO;function rX(){if(rO)return bg;rO=1;var t=tX(),e=R1(),n=y7();function r(l){var d="https://react.dev/errors/"+l;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+l+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}var i=Symbol.for("react.element"),o=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),p=Symbol.for("react.consumer"),y=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),I=Symbol.for("react.offscreen"),D=Symbol.for("react.memo_cache_sentinel"),T=Symbol.iterator;function F(l){return l===null||typeof l!="object"?null:(l=T&&l[T]||l["@@iterator"],typeof l=="function"?l:null)}var _=Symbol.for("react.client.reference");function R(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===_?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case u:return"Fragment";case c:return"Portal";case f:return"Profiler";case h:return"StrictMode";case E:return"Suspense";case j:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case y:return(l.displayName||"Context")+".Provider";case p:return(l._context.displayName||"Context")+".Consumer";case w:var d=l.render;return l=l.displayName,l||(l=d.displayName||d.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case C:return d=l.displayName||null,d!==null?d:R(l.type)||"Memo";case O:d=l._payload,l=l._init;try{return R(l(d))}catch{}}return null}var b=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,A=Object.assign,L,U;function P(l){if(L===void 0)try{throw Error()}catch(m){var d=m.stack.trim().match(/\n( *(at )?)/);L=d&&d[1]||"",U=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+L+l+U}var K=!1;function G(l,d){if(!l||K)return"";K=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var x={DetermineComponentFrameRoot:function(){try{if(d){var rt=function(){throw Error()};if(Object.defineProperty(rt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(rt,[])}catch(He){var Pe=He}Reflect.construct(l,[],rt)}else{try{rt.call()}catch(He){Pe=He}l.call(rt.prototype)}}else{try{throw Error()}catch(He){Pe=He}(rt=l())&&typeof rt.catch=="function"&&rt.catch(function(){})}}catch(He){if(He&&Pe&&typeof He.stack=="string")return[He.stack,Pe.stack]}return[null,null]}};x.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var k=Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot,"name");k&&k.configurable&&Object.defineProperty(x.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var M=x.DetermineComponentFrameRoot(),J=M[0],oe=M[1];if(J&&oe){var ge=J.split(`
`),Se=oe.split(`
`);for(k=x=0;x<ge.length&&!ge[x].includes("DetermineComponentFrameRoot");)x++;for(;k<Se.length&&!Se[k].includes("DetermineComponentFrameRoot");)k++;if(x===ge.length||k===Se.length)for(x=ge.length-1,k=Se.length-1;1<=x&&0<=k&&ge[x]!==Se[k];)k--;for(;1<=x&&0<=k;x--,k--)if(ge[x]!==Se[k]){if(x!==1||k!==1)do if(x--,k--,0>k||ge[x]!==Se[k]){var Ge=`
`+ge[x].replace(" at new "," at ");return l.displayName&&Ge.includes("<anonymous>")&&(Ge=Ge.replace("<anonymous>",l.displayName)),Ge}while(1<=x&&0<=k);break}}}finally{K=!1,Error.prepareStackTrace=m}return(m=l?l.displayName||l.name:"")?P(m):""}function re(l){switch(l.tag){case 26:case 27:case 5:return P(l.type);case 16:return P("Lazy");case 13:return P("Suspense");case 19:return P("SuspenseList");case 0:case 15:return l=G(l.type,!1),l;case 11:return l=G(l.type.render,!1),l;case 1:return l=G(l.type,!0),l;default:return""}}function Z(l){try{var d="";do d+=re(l),l=l.return;while(l);return d}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}function me(l){var d=l,m=l;if(l.alternate)for(;d.return;)d=d.return;else{l=d;do d=l,d.flags&4098&&(m=d.return),l=d.return;while(l)}return d.tag===3?m:null}function ie(l){if(l.tag===13){var d=l.memoizedState;if(d===null&&(l=l.alternate,l!==null&&(d=l.memoizedState)),d!==null)return d.dehydrated}return null}function W(l){if(me(l)!==l)throw Error(r(188))}function ye(l){var d=l.alternate;if(!d){if(d=me(l),d===null)throw Error(r(188));return d!==l?null:l}for(var m=l,x=d;;){var k=m.return;if(k===null)break;var M=k.alternate;if(M===null){if(x=k.return,x!==null){m=x;continue}break}if(k.child===M.child){for(M=k.child;M;){if(M===m)return W(k),l;if(M===x)return W(k),d;M=M.sibling}throw Error(r(188))}if(m.return!==x.return)m=k,x=M;else{for(var J=!1,oe=k.child;oe;){if(oe===m){J=!0,m=k,x=M;break}if(oe===x){J=!0,x=k,m=M;break}oe=oe.sibling}if(!J){for(oe=M.child;oe;){if(oe===m){J=!0,m=M,x=k;break}if(oe===x){J=!0,x=M,m=k;break}oe=oe.sibling}if(!J)throw Error(r(189))}}if(m.alternate!==x)throw Error(r(190))}if(m.tag!==3)throw Error(r(188));return m.stateNode.current===m?l:d}function Q(l){var d=l.tag;if(d===5||d===26||d===27||d===6)return l;for(l=l.child;l!==null;){if(d=Q(l),d!==null)return d;l=l.sibling}return null}var ne=Array.isArray,te=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},xe=[],Ne=-1;function je(l){return{current:l}}function Ie(l){0>Ne||(l.current=xe[Ne],xe[Ne]=null,Ne--)}function _e(l,d){Ne++,xe[Ne]=l.current,l.current=d}var Ue=je(null),tt=je(null),ct=je(null),ut=je(null);function Ye(l,d){switch(_e(ct,d),_e(tt,l),_e(Ue,null),l=d.nodeType,l){case 9:case 11:d=(d=d.documentElement)&&(d=d.namespaceURI)?jk(d):0;break;default:if(l=l===8?d.parentNode:d,d=l.tagName,l=l.namespaceURI)l=jk(l),d=Sk(l,d);else switch(d){case"svg":d=1;break;case"math":d=2;break;default:d=0}}Ie(Ue),_e(Ue,d)}function jt(){Ie(Ue),Ie(tt),Ie(ct)}function Ze(l){l.memoizedState!==null&&_e(ut,l);var d=Ue.current,m=Sk(d,l.type);d!==m&&(_e(tt,l),_e(Ue,m))}function Ut(l){tt.current===l&&(Ie(Ue),Ie(tt)),ut.current===l&&(Ie(ut),mg._currentValue=X)}var Cn=Object.prototype.hasOwnProperty,fn=t.unstable_scheduleCallback,yn=t.unstable_cancelCallback,ur=t.unstable_shouldYield,sr=t.unstable_requestPaint,We=t.unstable_now,xt=t.unstable_getCurrentPriorityLevel,Dt=t.unstable_ImmediatePriority,Rt=t.unstable_UserBlockingPriority,on=t.unstable_NormalPriority,Gr=t.unstable_LowPriority,Jn=t.unstable_IdlePriority,ws=t.log,es=t.unstable_setDisableYieldValue,Br=null,Vn=null;function Ur(l){if(Vn&&typeof Vn.onCommitFiberRoot=="function")try{Vn.onCommitFiberRoot(Br,l,void 0,(l.current.flags&128)===128)}catch{}}function zr(l){if(typeof ws=="function"&&es(l),Vn&&typeof Vn.setStrictMode=="function")try{Vn.setStrictMode(Br,l)}catch{}}var Hn=Math.clz32?Math.clz32:sa,Wr=Math.log,yr=Math.LN2;function sa(l){return l>>>=0,l===0?32:31-(Wr(l)/yr|0)|0}var ms=128,ps=4194304;function mr(l){var d=l&42;if(d!==0)return d;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function Cr(l,d){var m=l.pendingLanes;if(m===0)return 0;var x=0,k=l.suspendedLanes,M=l.pingedLanes,J=l.warmLanes;l=l.finishedLanes!==0;var oe=m&134217727;return oe!==0?(m=oe&~k,m!==0?x=mr(m):(M&=oe,M!==0?x=mr(M):l||(J=oe&~J,J!==0&&(x=mr(J))))):(oe=m&~k,oe!==0?x=mr(oe):M!==0?x=mr(M):l||(J=m&~J,J!==0&&(x=mr(J)))),x===0?0:d!==0&&d!==x&&!(d&k)&&(k=x&-x,J=d&-d,k>=J||k===32&&(J&4194176)!==0)?d:x}function gs(l,d){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&d)===0}function aa(l,d){switch(l){case 1:case 2:case 4:case 8:return d+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hs(){var l=ms;return ms<<=1,!(ms&4194176)&&(ms=128),l}function ts(){var l=ps;return ps<<=1,!(ps&62914560)&&(ps=4194304),l}function Ha(l){for(var d=[],m=0;31>m;m++)d.push(l);return d}function bn(l,d){l.pendingLanes|=d,d!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function Ft(l,d,m,x,k,M){var J=l.pendingLanes;l.pendingLanes=m,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=m,l.entangledLanes&=m,l.errorRecoveryDisabledLanes&=m,l.shellSuspendCounter=0;var oe=l.entanglements,ge=l.expirationTimes,Se=l.hiddenUpdates;for(m=J&~m;0<m;){var Ge=31-Hn(m),rt=1<<Ge;oe[Ge]=0,ge[Ge]=-1;var Pe=Se[Ge];if(Pe!==null)for(Se[Ge]=null,Ge=0;Ge<Pe.length;Ge++){var He=Pe[Ge];He!==null&&(He.lane&=-536870913)}m&=~rt}x!==0&&Ca(l,x,0),M!==0&&k===0&&l.tag!==0&&(l.suspendedLanes|=M&~(J&~d))}function Ca(l,d,m){l.pendingLanes|=d,l.suspendedLanes&=~d;var x=31-Hn(d);l.entangledLanes|=d,l.entanglements[x]=l.entanglements[x]|1073741824|m&4194218}function ii(l,d){var m=l.entangledLanes|=d;for(l=l.entanglements;m;){var x=31-Hn(m),k=1<<x;k&d|l[x]&d&&(l[x]|=d),m&=~k}}function Bo(l){return l&=-l,2<l?8<l?l&134217727?32:268435456:8:2}function no(){var l=te.p;return l!==0?l:(l=window.event,l===void 0?32:$k(l.type))}function ee(l,d){var m=te.p;try{return te.p=l,d()}finally{te.p=m}}var de=Math.random().toString(36).slice(2),le="__reactFiber$"+de,ue="__reactProps$"+de,he="__reactContainer$"+de,fe="__reactEvents$"+de,Ce="__reactListeners$"+de,Me="__reactHandles$"+de,Le="__reactResources$"+de,Re="__reactMarker$"+de;function Oe(l){delete l[le],delete l[ue],delete l[fe],delete l[Ce],delete l[Me]}function Qe(l){var d=l[le];if(d)return d;for(var m=l.parentNode;m;){if(d=m[he]||m[le]){if(m=d.alternate,d.child!==null||m!==null&&m.child!==null)for(l=Tk(l);l!==null;){if(m=l[le])return m;l=Tk(l)}return d}l=m,m=l.parentNode}return null}function nt(l){if(l=l[le]||l[he]){var d=l.tag;if(d===5||d===6||d===13||d===26||d===27||d===3)return l}return null}function mt(l){var d=l.tag;if(d===5||d===26||d===27||d===6)return l.stateNode;throw Error(r(33))}function st(l){var d=l[Le];return d||(d=l[Le]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function at(l){l[Re]=!0}var Bt=new Set,Dn={};function ln(l,d){An(l,d),An(l+"Capture",d)}function An(l,d){for(Dn[l]=d,l=0;l<d.length;l++)Bt.add(d[l])}var vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_s=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ia={},oa={};function ro(l){return Cn.call(oa,l)?!0:Cn.call(ia,l)?!1:_s.test(l)?oa[l]=!0:(ia[l]=!0,!1)}function ns(l,d,m){if(ro(d))if(m===null)l.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":l.removeAttribute(d);return;case"boolean":var x=d.toLowerCase().slice(0,5);if(x!=="data-"&&x!=="aria-"){l.removeAttribute(d);return}}l.setAttribute(d,""+m)}}function so(l,d,m){if(m===null)l.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(d);return}l.setAttribute(d,""+m)}}function Na(l,d,m,x){if(x===null)l.removeAttribute(m);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(m);return}l.setAttributeNS(d,m,""+x)}}function rs(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function pl(l){var d=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function Uo(l){var d=pl(l)?"checked":"value",m=Object.getOwnPropertyDescriptor(l.constructor.prototype,d),x=""+l[d];if(!l.hasOwnProperty(d)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var k=m.get,M=m.set;return Object.defineProperty(l,d,{configurable:!0,get:function(){return k.call(this)},set:function(J){x=""+J,M.call(this,J)}}),Object.defineProperty(l,d,{enumerable:m.enumerable}),{getValue:function(){return x},setValue:function(J){x=""+J},stopTracking:function(){l._valueTracker=null,delete l[d]}}}}function ao(l){l._valueTracker||(l._valueTracker=Uo(l))}function gl(l){if(!l)return!1;var d=l._valueTracker;if(!d)return!0;var m=d.getValue(),x="";return l&&(x=pl(l)?l.checked?"true":"false":l.value),l=x,l!==m?(d.setValue(l),!0):!1}function yl(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var Ti=/[\n"\\]/g;function xr(l){return l.replace(Ti,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function io(l,d,m,x,k,M,J,oe){l.name="",J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"?l.type=J:l.removeAttribute("type"),d!=null?J==="number"?(d===0&&l.value===""||l.value!=d)&&(l.value=""+rs(d)):l.value!==""+rs(d)&&(l.value=""+rs(d)):J!=="submit"&&J!=="reset"||l.removeAttribute("value"),d!=null?vl(l,J,rs(d)):m!=null?vl(l,J,rs(m)):x!=null&&l.removeAttribute("value"),k==null&&M!=null&&(l.defaultChecked=!!M),k!=null&&(l.checked=k&&typeof k!="function"&&typeof k!="symbol"),oe!=null&&typeof oe!="function"&&typeof oe!="symbol"&&typeof oe!="boolean"?l.name=""+rs(oe):l.removeAttribute("name")}function Ai(l,d,m,x,k,M,J,oe){if(M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(l.type=M),d!=null||m!=null){if(!(M!=="submit"&&M!=="reset"||d!=null))return;m=m!=null?""+rs(m):"",d=d!=null?""+rs(d):m,oe||d===l.value||(l.value=d),l.defaultValue=d}x=x??k,x=typeof x!="function"&&typeof x!="symbol"&&!!x,l.checked=oe?l.checked:!!x,l.defaultChecked=!!x,J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"&&(l.name=J)}function vl(l,d,m){d==="number"&&yl(l.ownerDocument)===l||l.defaultValue===""+m||(l.defaultValue=""+m)}function Ln(l,d,m,x){if(l=l.options,d){d={};for(var k=0;k<m.length;k++)d["$"+m[k]]=!0;for(m=0;m<l.length;m++)k=d.hasOwnProperty("$"+l[m].value),l[m].selected!==k&&(l[m].selected=k),k&&x&&(l[m].defaultSelected=!0)}else{for(m=""+rs(m),d=null,k=0;k<l.length;k++){if(l[k].value===m){l[k].selected=!0,x&&(l[k].defaultSelected=!0);return}d!==null||l[k].disabled||(d=l[k])}d!==null&&(d.selected=!0)}}function Ga(l,d,m){if(d!=null&&(d=""+rs(d),d!==l.value&&(l.value=d),m==null)){l.defaultValue!==d&&(l.defaultValue=d);return}l.defaultValue=m!=null?""+rs(m):""}function Es(l,d,m,x){if(d==null){if(x!=null){if(m!=null)throw Error(r(92));if(ne(x)){if(1<x.length)throw Error(r(93));x=x[0]}m=x}m==null&&(m=""),d=m}m=rs(d),l.defaultValue=m,x=l.textContent,x===m&&x!==""&&x!==null&&(l.value=x)}function ss(l,d){if(d){var m=l.firstChild;if(m&&m===l.lastChild&&m.nodeType===3){m.nodeValue=d;return}}l.textContent=d}var Li=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ic(l,d,m){var x=d.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?x?l.setProperty(d,""):d==="float"?l.cssFloat="":l[d]="":x?l.setProperty(d,m):typeof m!="number"||m===0||Li.has(d)?d==="float"?l.cssFloat=m:l[d]=(""+m).trim():l[d]=m+"px"}function Wa(l,d,m){if(d!=null&&typeof d!="object")throw Error(r(62));if(l=l.style,m!=null){for(var x in m)!m.hasOwnProperty(x)||d!=null&&d.hasOwnProperty(x)||(x.indexOf("--")===0?l.setProperty(x,""):x==="float"?l.cssFloat="":l[x]="");for(var k in d)x=d[k],d.hasOwnProperty(k)&&m[k]!==x&&ic(l,k,x)}else for(var M in d)d.hasOwnProperty(M)&&ic(l,M,d[M])}function oc(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Td=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ad=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function oi(l){return Ad.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}var la=null;function as(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var li=null,ci=null;function Ta(l){var d=nt(l);if(d&&(l=d.stateNode)){var m=l[ue]||null;e:switch(l=d.stateNode,d.type){case"input":if(io(l,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),d=m.name,m.type==="radio"&&d!=null){for(m=l;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+xr(""+d)+'"][type="radio"]'),d=0;d<m.length;d++){var x=m[d];if(x!==l&&x.form===l.form){var k=x[ue]||null;if(!k)throw Error(r(90));io(x,k.value,k.defaultValue,k.defaultValue,k.checked,k.defaultChecked,k.type,k.name)}}for(d=0;d<m.length;d++)x=m[d],x.form===l.form&&gl(x)}break e;case"textarea":Ga(l,m.value,m.defaultValue);break e;case"select":d=m.value,d!=null&&Ln(l,!!m.multiple,d,!1)}}}var zo=!1;function qo(l,d,m){if(zo)return l(d,m);zo=!0;try{var x=l(d);return x}finally{if(zo=!1,(li!==null||ci!==null)&&(Bv(),li&&(d=li,l=ci,ci=li=null,Ta(d),l)))for(d=0;d<l.length;d++)Ta(l[d])}}function $o(l,d){var m=l.stateNode;if(m===null)return null;var x=m[ue]||null;if(x===null)return null;m=x[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(l=l.type,x=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!x;break e;default:l=!1}if(l)return null;if(m&&typeof m!="function")throw Error(r(231,d,typeof m));return m}var ca=!1;if(vr)try{var Ri={};Object.defineProperty(Ri,"passive",{get:function(){ca=!0}}),window.addEventListener("test",Ri,Ri),window.removeEventListener("test",Ri,Ri)}catch{ca=!1}var Ka=null,ks=null,ui=null;function Vo(){if(ui)return ui;var l,d=ks,m=d.length,x,k="value"in Ka?Ka.value:Ka.textContent,M=k.length;for(l=0;l<m&&d[l]===k[l];l++);var J=m-l;for(x=1;x<=J&&d[m-x]===k[M-x];x++);return ui=k.slice(l,1<x?1-x:void 0)}function di(l){var d=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&d===13&&(l=13)):l=d,l===10&&(l=13),32<=l||l===13?l:0}function hi(){return!0}function H(){return!1}function ae(l){function d(m,x,k,M,J){this._reactName=m,this._targetInst=k,this.type=x,this.nativeEvent=M,this.target=J,this.currentTarget=null;for(var oe in l)l.hasOwnProperty(oe)&&(m=l[oe],this[oe]=m?m(M):M[oe]);return this.isDefaultPrevented=(M.defaultPrevented!=null?M.defaultPrevented:M.returnValue===!1)?hi:H,this.isPropagationStopped=H,this}return A(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=hi)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=hi)},persist:function(){},isPersistent:hi}),d}var pe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Be=ae(pe),Ht=A({},pe,{view:0,detail:0}),Ct=ae(Ht),wn,vn,Qn,En=A({},Ht,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rd,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Qn&&(Qn&&l.type==="mousemove"?(wn=l.screenX-Qn.screenX,vn=l.screenY-Qn.screenY):vn=wn=0,Qn=l),wn)},movementY:function(l){return"movementY"in l?l.movementY:vn}}),ar=ae(En),Os=A({},En,{dataTransfer:0}),Kr=ae(Os),qr=A({},Ht,{relatedTarget:0}),$r=ae(qr),fi=A({},pe,{animationName:0,elapsedTime:0,pseudoElement:0}),Aa=ae(fi),oo=A({},pe,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),lc=ae(oo),du=A({},pe,{data:0}),xl=ae(du),Ld={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kp(l){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(l):(l=Zy[l])?!!d[l]:!1}function Rd(){return kp}var ev=A({},Ht,{key:function(l){if(l.key){var d=Ld[l.key]||l.key;if(d!=="Unidentified")return d}return l.type==="keypress"?(l=di(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?Qy[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rd,charCode:function(l){return l.type==="keypress"?di(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?di(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),af=ae(ev),tv=A({},En,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Op=ae(tv),cc=A({},Ht,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rd}),nv=ae(cc),rv=A({},pe,{propertyName:0,elapsedTime:0,pseudoElement:0}),sv=ae(rv),av=A({},En,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),of=ae(av),Ya=A({},pe,{newState:0,oldState:0}),iv=ae(Ya),ov=[9,13,27,32],bl=vr&&"CompositionEvent"in window,N=null;vr&&"documentMode"in document&&(N=document.documentMode);var q=vr&&"TextEvent"in window&&!N,Y=vr&&(!bl||N&&8<N&&11>=N),ce=" ",Ae=!1;function De(l,d){switch(l){case"keyup":return ov.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ht(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Mn=!1;function Is(l,d){switch(l){case"compositionend":return ht(d);case"keypress":return d.which!==32?null:(Ae=!0,ce);case"textInput":return l=d.data,l===ce&&Ae?null:l;default:return null}}function Fn(l,d){if(Mn)return l==="compositionend"||!bl&&De(l,d)?(l=Vo(),ui=ks=Ka=null,Mn=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return Y&&d.locale!=="ko"?null:d.data;default:return null}}var Gs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ps(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d==="input"?!!Gs[l.type]:d==="textarea"}function uc(l,d,m,x){li?ci?ci.push(x):ci=[x]:li=x,d=Vv(d,"onChange"),0<d.length&&(m=new Be("onChange","change",null,m,x),l.push({event:m,listeners:d}))}var ua=null,wl=null;function Ip(l){xk(l,0)}function lv(l){var d=mt(l);if(gl(d))return l}function K3(l,d){if(l==="change")return d}var Y3=!1;if(vr){var Qw;if(vr){var Zw="oninput"in document;if(!Zw){var X3=document.createElement("div");X3.setAttribute("oninput","return;"),Zw=typeof X3.oninput=="function"}Qw=Zw}else Qw=!1;Y3=Qw&&(!document.documentMode||9<document.documentMode)}function J3(){ua&&(ua.detachEvent("onpropertychange",Q3),wl=ua=null)}function Q3(l){if(l.propertyName==="value"&&lv(wl)){var d=[];uc(d,wl,l,as(l)),qo(Ip,d)}}function jK(l,d,m){l==="focusin"?(J3(),ua=d,wl=m,ua.attachEvent("onpropertychange",Q3)):l==="focusout"&&J3()}function SK(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return lv(wl)}function CK(l,d){if(l==="click")return lv(d)}function NK(l,d){if(l==="input"||l==="change")return lv(d)}function TK(l,d){return l===d&&(l!==0||1/l===1/d)||l!==l&&d!==d}var ki=typeof Object.is=="function"?Object.is:TK;function Pp(l,d){if(ki(l,d))return!0;if(typeof l!="object"||l===null||typeof d!="object"||d===null)return!1;var m=Object.keys(l),x=Object.keys(d);if(m.length!==x.length)return!1;for(x=0;x<m.length;x++){var k=m[x];if(!Cn.call(d,k)||!ki(l[k],d[k]))return!1}return!0}function Z3(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function e4(l,d){var m=Z3(l);l=0;for(var x;m;){if(m.nodeType===3){if(x=l+m.textContent.length,l<=d&&x>=d)return{node:m,offset:d-l};l=x}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=Z3(m)}}function t4(l,d){return l&&d?l===d?!0:l&&l.nodeType===3?!1:d&&d.nodeType===3?t4(l,d.parentNode):"contains"in l?l.contains(d):l.compareDocumentPosition?!!(l.compareDocumentPosition(d)&16):!1:!1}function n4(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var d=yl(l.document);d instanceof l.HTMLIFrameElement;){try{var m=typeof d.contentWindow.location.href=="string"}catch{m=!1}if(m)l=d.contentWindow;else break;d=yl(l.document)}return d}function e2(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d&&(d==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||d==="textarea"||l.contentEditable==="true")}function AK(l,d){var m=n4(d);d=l.focusedElem;var x=l.selectionRange;if(m!==d&&d&&d.ownerDocument&&t4(d.ownerDocument.documentElement,d)){if(x!==null&&e2(d)){if(l=x.start,m=x.end,m===void 0&&(m=l),"selectionStart"in d)d.selectionStart=l,d.selectionEnd=Math.min(m,d.value.length);else if(m=(l=d.ownerDocument||document)&&l.defaultView||window,m.getSelection){m=m.getSelection();var k=d.textContent.length,M=Math.min(x.start,k);x=x.end===void 0?M:Math.min(x.end,k),!m.extend&&M>x&&(k=x,x=M,M=k),k=e4(d,M);var J=e4(d,x);k&&J&&(m.rangeCount!==1||m.anchorNode!==k.node||m.anchorOffset!==k.offset||m.focusNode!==J.node||m.focusOffset!==J.offset)&&(l=l.createRange(),l.setStart(k.node,k.offset),m.removeAllRanges(),M>x?(m.addRange(l),m.extend(J.node,J.offset)):(l.setEnd(J.node,J.offset),m.addRange(l)))}}for(l=[],m=d;m=m.parentNode;)m.nodeType===1&&l.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<l.length;d++)m=l[d],m.element.scrollLeft=m.left,m.element.scrollTop=m.top}}var LK=vr&&"documentMode"in document&&11>=document.documentMode,lf=null,t2=null,Dp=null,n2=!1;function r4(l,d,m){var x=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;n2||lf==null||lf!==yl(x)||(x=lf,"selectionStart"in x&&e2(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Dp&&Pp(Dp,x)||(Dp=x,x=Vv(t2,"onSelect"),0<x.length&&(d=new Be("onSelect","select",null,d,m),l.push({event:d,listeners:x}),d.target=lf)))}function kd(l,d){var m={};return m[l.toLowerCase()]=d.toLowerCase(),m["Webkit"+l]="webkit"+d,m["Moz"+l]="moz"+d,m}var cf={animationend:kd("Animation","AnimationEnd"),animationiteration:kd("Animation","AnimationIteration"),animationstart:kd("Animation","AnimationStart"),transitionrun:kd("Transition","TransitionRun"),transitionstart:kd("Transition","TransitionStart"),transitioncancel:kd("Transition","TransitionCancel"),transitionend:kd("Transition","TransitionEnd")},r2={},s4={};vr&&(s4=document.createElement("div").style,"AnimationEvent"in window||(delete cf.animationend.animation,delete cf.animationiteration.animation,delete cf.animationstart.animation),"TransitionEvent"in window||delete cf.transitionend.transition);function Od(l){if(r2[l])return r2[l];if(!cf[l])return l;var d=cf[l],m;for(m in d)if(d.hasOwnProperty(m)&&m in s4)return r2[l]=d[m];return l}var a4=Od("animationend"),i4=Od("animationiteration"),o4=Od("animationstart"),RK=Od("transitionrun"),kK=Od("transitionstart"),OK=Od("transitioncancel"),l4=Od("transitionend"),c4=new Map,u4="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Ho(l,d){c4.set(l,d),ln(d,[l])}var lo=[],uf=0,s2=0;function cv(){for(var l=uf,d=s2=uf=0;d<l;){var m=lo[d];lo[d++]=null;var x=lo[d];lo[d++]=null;var k=lo[d];lo[d++]=null;var M=lo[d];if(lo[d++]=null,x!==null&&k!==null){var J=x.pending;J===null?k.next=k:(k.next=J.next,J.next=k),x.pending=k}M!==0&&d4(m,k,M)}}function uv(l,d,m,x){lo[uf++]=l,lo[uf++]=d,lo[uf++]=m,lo[uf++]=x,s2|=x,l.lanes|=x,l=l.alternate,l!==null&&(l.lanes|=x)}function a2(l,d,m,x){return uv(l,d,m,x),dv(l)}function hu(l,d){return uv(l,null,null,d),dv(l)}function d4(l,d,m){l.lanes|=m;var x=l.alternate;x!==null&&(x.lanes|=m);for(var k=!1,M=l.return;M!==null;)M.childLanes|=m,x=M.alternate,x!==null&&(x.childLanes|=m),M.tag===22&&(l=M.stateNode,l===null||l._visibility&1||(k=!0)),l=M,M=M.return;k&&d!==null&&l.tag===3&&(M=l.stateNode,k=31-Hn(m),M=M.hiddenUpdates,l=M[k],l===null?M[k]=[d]:l.push(d),d.lane=m|536870912)}function dv(l){if(50<og)throw og=0,d_=null,Error(r(185));for(var d=l.return;d!==null;)l=d,d=l.return;return l.tag===3?l.stateNode:null}var df={},h4=new WeakMap;function co(l,d){if(typeof l=="object"&&l!==null){var m=h4.get(l);return m!==void 0?m:(d={value:l,source:d,stack:Z(d)},h4.set(l,d),d)}return{value:l,source:d,stack:Z(d)}}var hf=[],ff=0,hv=null,fv=0,uo=[],ho=0,Id=null,dc=1,hc="";function Pd(l,d){hf[ff++]=fv,hf[ff++]=hv,hv=l,fv=d}function f4(l,d,m){uo[ho++]=dc,uo[ho++]=hc,uo[ho++]=Id,Id=l;var x=dc;l=hc;var k=32-Hn(x)-1;x&=~(1<<k),m+=1;var M=32-Hn(d)+k;if(30<M){var J=k-k%5;M=(x&(1<<J)-1).toString(32),x>>=J,k-=J,dc=1<<32-Hn(d)+k|m<<k|x,hc=M+l}else dc=1<<M|m<<k|x,hc=l}function i2(l){l.return!==null&&(Pd(l,1),f4(l,1,0))}function o2(l){for(;l===hv;)hv=hf[--ff],hf[ff]=null,fv=hf[--ff],hf[ff]=null;for(;l===Id;)Id=uo[--ho],uo[ho]=null,hc=uo[--ho],uo[ho]=null,dc=uo[--ho],uo[ho]=null}var Xa=null,da=null,Gn=!1,Go=null,_l=!1,l2=Error(r(519));function Dd(l){var d=Error(r(418,""));throw Bp(co(d,l)),l2}function m4(l){var d=l.stateNode,m=l.type,x=l.memoizedProps;switch(d[le]=l,d[ue]=x,m){case"dialog":In("cancel",d),In("close",d);break;case"iframe":case"object":case"embed":In("load",d);break;case"video":case"audio":for(m=0;m<cg.length;m++)In(cg[m],d);break;case"source":In("error",d);break;case"img":case"image":case"link":In("error",d),In("load",d);break;case"details":In("toggle",d);break;case"input":In("invalid",d),Ai(d,x.value,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name,!0),ao(d);break;case"select":In("invalid",d);break;case"textarea":In("invalid",d),Es(d,x.value,x.defaultValue,x.children),ao(d)}m=x.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||d.textContent===""+m||x.suppressHydrationWarning===!0||Ek(d.textContent,m)?(x.popover!=null&&(In("beforetoggle",d),In("toggle",d)),x.onScroll!=null&&In("scroll",d),x.onScrollEnd!=null&&In("scrollend",d),x.onClick!=null&&(d.onclick=Hv),d=!0):d=!1,d||Dd(l)}function p4(l){for(Xa=l.return;Xa;)switch(Xa.tag){case 3:case 27:_l=!0;return;case 5:case 13:_l=!1;return;default:Xa=Xa.return}}function Mp(l){if(l!==Xa)return!1;if(!Gn)return p4(l),Gn=!0,!1;var d=!1,m;if((m=l.tag!==3&&l.tag!==27)&&((m=l.tag===5)&&(m=l.type,m=!(m!=="form"&&m!=="button")||T_(l.type,l.memoizedProps)),m=!m),m&&(d=!0),d&&da&&Dd(l),p4(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));e:{for(l=l.nextSibling,d=0;l;){if(l.nodeType===8)if(m=l.data,m==="/$"){if(d===0){da=Ko(l.nextSibling);break e}d--}else m!=="$"&&m!=="$!"&&m!=="$?"||d++;l=l.nextSibling}da=null}}else da=Xa?Ko(l.stateNode.nextSibling):null;return!0}function Fp(){da=Xa=null,Gn=!1}function Bp(l){Go===null?Go=[l]:Go.push(l)}var Up=Error(r(460)),g4=Error(r(474)),c2={then:function(){}};function y4(l){return l=l.status,l==="fulfilled"||l==="rejected"}function mv(){}function v4(l,d,m){switch(m=l[m],m===void 0?l.push(d):m!==d&&(d.then(mv,mv),d=m),d.status){case"fulfilled":return d.value;case"rejected":throw l=d.reason,l===Up?Error(r(483)):l;default:if(typeof d.status=="string")d.then(mv,mv);else{if(l=br,l!==null&&100<l.shellSuspendCounter)throw Error(r(482));l=d,l.status="pending",l.then(function(x){if(d.status==="pending"){var k=d;k.status="fulfilled",k.value=x}},function(x){if(d.status==="pending"){var k=d;k.status="rejected",k.reason=x}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw l=d.reason,l===Up?Error(r(483)):l}throw zp=d,Up}}var zp=null;function x4(){if(zp===null)throw Error(r(459));var l=zp;return zp=null,l}var mf=null,qp=0;function pv(l){var d=qp;return qp+=1,mf===null&&(mf=[]),v4(mf,l,d)}function $p(l,d){d=d.props.ref,l.ref=d!==void 0?d:null}function gv(l,d){throw d.$$typeof===i?Error(r(525)):(l=Object.prototype.toString.call(d),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":l)))}function b4(l){var d=l._init;return d(l._payload)}function w4(l){function d(Te,Ee){if(l){var ke=Te.deletions;ke===null?(Te.deletions=[Ee],Te.flags|=16):ke.push(Ee)}}function m(Te,Ee){if(!l)return null;for(;Ee!==null;)d(Te,Ee),Ee=Ee.sibling;return null}function x(Te){for(var Ee=new Map;Te!==null;)Te.key!==null?Ee.set(Te.key,Te):Ee.set(Te.index,Te),Te=Te.sibling;return Ee}function k(Te,Ee){return Te=ju(Te,Ee),Te.index=0,Te.sibling=null,Te}function M(Te,Ee,ke){return Te.index=ke,l?(ke=Te.alternate,ke!==null?(ke=ke.index,ke<Ee?(Te.flags|=33554434,Ee):ke):(Te.flags|=33554434,Ee)):(Te.flags|=1048576,Ee)}function J(Te){return l&&Te.alternate===null&&(Te.flags|=33554434),Te}function oe(Te,Ee,ke,Xe){return Ee===null||Ee.tag!==6?(Ee=r_(ke,Te.mode,Xe),Ee.return=Te,Ee):(Ee=k(Ee,ke),Ee.return=Te,Ee)}function ge(Te,Ee,ke,Xe){var Et=ke.type;return Et===u?Ge(Te,Ee,ke.props.children,Xe,ke.key):Ee!==null&&(Ee.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===O&&b4(Et)===Ee.type)?(Ee=k(Ee,ke.props),$p(Ee,ke),Ee.return=Te,Ee):(Ee=Iv(ke.type,ke.key,ke.props,null,Te.mode,Xe),$p(Ee,ke),Ee.return=Te,Ee)}function Se(Te,Ee,ke,Xe){return Ee===null||Ee.tag!==4||Ee.stateNode.containerInfo!==ke.containerInfo||Ee.stateNode.implementation!==ke.implementation?(Ee=s_(ke,Te.mode,Xe),Ee.return=Te,Ee):(Ee=k(Ee,ke.children||[]),Ee.return=Te,Ee)}function Ge(Te,Ee,ke,Xe,Et){return Ee===null||Ee.tag!==7?(Ee=Gd(ke,Te.mode,Xe,Et),Ee.return=Te,Ee):(Ee=k(Ee,ke),Ee.return=Te,Ee)}function rt(Te,Ee,ke){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number"||typeof Ee=="bigint")return Ee=r_(""+Ee,Te.mode,ke),Ee.return=Te,Ee;if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case o:return ke=Iv(Ee.type,Ee.key,Ee.props,null,Te.mode,ke),$p(ke,Ee),ke.return=Te,ke;case c:return Ee=s_(Ee,Te.mode,ke),Ee.return=Te,Ee;case O:var Xe=Ee._init;return Ee=Xe(Ee._payload),rt(Te,Ee,ke)}if(ne(Ee)||F(Ee))return Ee=Gd(Ee,Te.mode,ke,null),Ee.return=Te,Ee;if(typeof Ee.then=="function")return rt(Te,pv(Ee),ke);if(Ee.$$typeof===y)return rt(Te,Rv(Te,Ee),ke);gv(Te,Ee)}return null}function Pe(Te,Ee,ke,Xe){var Et=Ee!==null?Ee.key:null;if(typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint")return Et!==null?null:oe(Te,Ee,""+ke,Xe);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case o:return ke.key===Et?ge(Te,Ee,ke,Xe):null;case c:return ke.key===Et?Se(Te,Ee,ke,Xe):null;case O:return Et=ke._init,ke=Et(ke._payload),Pe(Te,Ee,ke,Xe)}if(ne(ke)||F(ke))return Et!==null?null:Ge(Te,Ee,ke,Xe,null);if(typeof ke.then=="function")return Pe(Te,Ee,pv(ke),Xe);if(ke.$$typeof===y)return Pe(Te,Ee,Rv(Te,ke),Xe);gv(Te,ke)}return null}function He(Te,Ee,ke,Xe,Et){if(typeof Xe=="string"&&Xe!==""||typeof Xe=="number"||typeof Xe=="bigint")return Te=Te.get(ke)||null,oe(Ee,Te,""+Xe,Et);if(typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case o:return Te=Te.get(Xe.key===null?ke:Xe.key)||null,ge(Ee,Te,Xe,Et);case c:return Te=Te.get(Xe.key===null?ke:Xe.key)||null,Se(Ee,Te,Xe,Et);case O:var jn=Xe._init;return Xe=jn(Xe._payload),He(Te,Ee,ke,Xe,Et)}if(ne(Xe)||F(Xe))return Te=Te.get(ke)||null,Ge(Ee,Te,Xe,Et,null);if(typeof Xe.then=="function")return He(Te,Ee,ke,pv(Xe),Et);if(Xe.$$typeof===y)return He(Te,Ee,ke,Rv(Ee,Xe),Et);gv(Ee,Xe)}return null}function At(Te,Ee,ke,Xe){for(var Et=null,jn=null,kt=Ee,Kt=Ee=0,Ys=null;kt!==null&&Kt<ke.length;Kt++){kt.index>Kt?(Ys=kt,kt=null):Ys=kt.sibling;var Wn=Pe(Te,kt,ke[Kt],Xe);if(Wn===null){kt===null&&(kt=Ys);break}l&&kt&&Wn.alternate===null&&d(Te,kt),Ee=M(Wn,Ee,Kt),jn===null?Et=Wn:jn.sibling=Wn,jn=Wn,kt=Ys}if(Kt===ke.length)return m(Te,kt),Gn&&Pd(Te,Kt),Et;if(kt===null){for(;Kt<ke.length;Kt++)kt=rt(Te,ke[Kt],Xe),kt!==null&&(Ee=M(kt,Ee,Kt),jn===null?Et=kt:jn.sibling=kt,jn=kt);return Gn&&Pd(Te,Kt),Et}for(kt=x(kt);Kt<ke.length;Kt++)Ys=He(kt,Te,Kt,ke[Kt],Xe),Ys!==null&&(l&&Ys.alternate!==null&&kt.delete(Ys.key===null?Kt:Ys.key),Ee=M(Ys,Ee,Kt),jn===null?Et=Ys:jn.sibling=Ys,jn=Ys);return l&&kt.forEach(function(Ru){return d(Te,Ru)}),Gn&&Pd(Te,Kt),Et}function cn(Te,Ee,ke,Xe){if(ke==null)throw Error(r(151));for(var Et=null,jn=null,kt=Ee,Kt=Ee=0,Ys=null,Wn=ke.next();kt!==null&&!Wn.done;Kt++,Wn=ke.next()){kt.index>Kt?(Ys=kt,kt=null):Ys=kt.sibling;var Ru=Pe(Te,kt,Wn.value,Xe);if(Ru===null){kt===null&&(kt=Ys);break}l&&kt&&Ru.alternate===null&&d(Te,kt),Ee=M(Ru,Ee,Kt),jn===null?Et=Ru:jn.sibling=Ru,jn=Ru,kt=Ys}if(Wn.done)return m(Te,kt),Gn&&Pd(Te,Kt),Et;if(kt===null){for(;!Wn.done;Kt++,Wn=ke.next())Wn=rt(Te,Wn.value,Xe),Wn!==null&&(Ee=M(Wn,Ee,Kt),jn===null?Et=Wn:jn.sibling=Wn,jn=Wn);return Gn&&Pd(Te,Kt),Et}for(kt=x(kt);!Wn.done;Kt++,Wn=ke.next())Wn=He(kt,Te,Kt,Wn.value,Xe),Wn!==null&&(l&&Wn.alternate!==null&&kt.delete(Wn.key===null?Kt:Wn.key),Ee=M(Wn,Ee,Kt),jn===null?Et=Wn:jn.sibling=Wn,jn=Wn);return l&&kt.forEach(function(WY){return d(Te,WY)}),Gn&&Pd(Te,Kt),Et}function ls(Te,Ee,ke,Xe){if(typeof ke=="object"&&ke!==null&&ke.type===u&&ke.key===null&&(ke=ke.props.children),typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case o:e:{for(var Et=ke.key;Ee!==null;){if(Ee.key===Et){if(Et=ke.type,Et===u){if(Ee.tag===7){m(Te,Ee.sibling),Xe=k(Ee,ke.props.children),Xe.return=Te,Te=Xe;break e}}else if(Ee.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===O&&b4(Et)===Ee.type){m(Te,Ee.sibling),Xe=k(Ee,ke.props),$p(Xe,ke),Xe.return=Te,Te=Xe;break e}m(Te,Ee);break}else d(Te,Ee);Ee=Ee.sibling}ke.type===u?(Xe=Gd(ke.props.children,Te.mode,Xe,ke.key),Xe.return=Te,Te=Xe):(Xe=Iv(ke.type,ke.key,ke.props,null,Te.mode,Xe),$p(Xe,ke),Xe.return=Te,Te=Xe)}return J(Te);case c:e:{for(Et=ke.key;Ee!==null;){if(Ee.key===Et)if(Ee.tag===4&&Ee.stateNode.containerInfo===ke.containerInfo&&Ee.stateNode.implementation===ke.implementation){m(Te,Ee.sibling),Xe=k(Ee,ke.children||[]),Xe.return=Te,Te=Xe;break e}else{m(Te,Ee);break}else d(Te,Ee);Ee=Ee.sibling}Xe=s_(ke,Te.mode,Xe),Xe.return=Te,Te=Xe}return J(Te);case O:return Et=ke._init,ke=Et(ke._payload),ls(Te,Ee,ke,Xe)}if(ne(ke))return At(Te,Ee,ke,Xe);if(F(ke)){if(Et=F(ke),typeof Et!="function")throw Error(r(150));return ke=Et.call(ke),cn(Te,Ee,ke,Xe)}if(typeof ke.then=="function")return ls(Te,Ee,pv(ke),Xe);if(ke.$$typeof===y)return ls(Te,Ee,Rv(Te,ke),Xe);gv(Te,ke)}return typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint"?(ke=""+ke,Ee!==null&&Ee.tag===6?(m(Te,Ee.sibling),Xe=k(Ee,ke),Xe.return=Te,Te=Xe):(m(Te,Ee),Xe=r_(ke,Te.mode,Xe),Xe.return=Te,Te=Xe),J(Te)):m(Te,Ee)}return function(Te,Ee,ke,Xe){try{qp=0;var Et=ls(Te,Ee,ke,Xe);return mf=null,Et}catch(kt){if(kt===Up)throw kt;var jn=go(29,kt,null,Te.mode);return jn.lanes=Xe,jn.return=Te,jn}finally{}}}var Md=w4(!0),_4=w4(!1),pf=je(null),yv=je(0);function E4(l,d){l=Ec,_e(yv,l),_e(pf,d),Ec=l|d.baseLanes}function u2(){_e(yv,Ec),_e(pf,pf.current)}function d2(){Ec=yv.current,Ie(pf),Ie(yv)}var fo=je(null),El=null;function fu(l){var d=l.alternate;_e(Ds,Ds.current&1),_e(fo,l),El===null&&(d===null||pf.current!==null||d.memoizedState!==null)&&(El=l)}function j4(l){if(l.tag===22){if(_e(Ds,Ds.current),_e(fo,l),El===null){var d=l.alternate;d!==null&&d.memoizedState!==null&&(El=l)}}else mu()}function mu(){_e(Ds,Ds.current),_e(fo,fo.current)}function fc(l){Ie(fo),El===l&&(El=null),Ie(Ds)}var Ds=je(0);function vv(l){for(var d=l;d!==null;){if(d.tag===13){var m=d.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if(d.flags&128)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var IK=typeof AbortController<"u"?AbortController:function(){var l=[],d=this.signal={aborted:!1,addEventListener:function(m,x){l.push(x)}};this.abort=function(){d.aborted=!0,l.forEach(function(m){return m()})}},PK=t.unstable_scheduleCallback,DK=t.unstable_NormalPriority,Ms={$$typeof:y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function h2(){return{controller:new IK,data:new Map,refCount:0}}function Vp(l){l.refCount--,l.refCount===0&&PK(DK,function(){l.controller.abort()})}var Hp=null,f2=0,gf=0,yf=null;function MK(l,d){if(Hp===null){var m=Hp=[];f2=0,gf=x_(),yf={status:"pending",value:void 0,then:function(x){m.push(x)}}}return f2++,d.then(S4,S4),d}function S4(){if(--f2===0&&Hp!==null){yf!==null&&(yf.status="fulfilled");var l=Hp;Hp=null,gf=0,yf=null;for(var d=0;d<l.length;d++)(0,l[d])()}}function FK(l,d){var m=[],x={status:"pending",value:null,reason:null,then:function(k){m.push(k)}};return l.then(function(){x.status="fulfilled",x.value=d;for(var k=0;k<m.length;k++)(0,m[k])(d)},function(k){for(x.status="rejected",x.reason=k,k=0;k<m.length;k++)(0,m[k])(void 0)}),x}var C4=b.S;b.S=function(l,d){typeof d=="object"&&d!==null&&typeof d.then=="function"&&MK(l,d),C4!==null&&C4(l,d)};var Fd=je(null);function m2(){var l=Fd.current;return l!==null?l:br.pooledCache}function xv(l,d){d===null?_e(Fd,Fd.current):_e(Fd,d.pool)}function N4(){var l=m2();return l===null?null:{parent:Ms._currentValue,pool:l}}var pu=0,_n=null,dr=null,js=null,bv=!1,vf=!1,Bd=!1,wv=0,Gp=0,xf=null,BK=0;function ys(){throw Error(r(321))}function p2(l,d){if(d===null)return!1;for(var m=0;m<d.length&&m<l.length;m++)if(!ki(l[m],d[m]))return!1;return!0}function g2(l,d,m,x,k,M){return pu=M,_n=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,b.H=l===null||l.memoizedState===null?Ud:gu,Bd=!1,M=m(x,k),Bd=!1,vf&&(M=A4(d,m,x,k)),T4(l),M}function T4(l){b.H=jl;var d=dr!==null&&dr.next!==null;if(pu=0,js=dr=_n=null,bv=!1,Gp=0,xf=null,d)throw Error(r(300));l===null||Ws||(l=l.dependencies,l!==null&&Lv(l)&&(Ws=!0))}function A4(l,d,m,x){_n=l;var k=0;do{if(vf&&(xf=null),Gp=0,vf=!1,25<=k)throw Error(r(301));if(k+=1,js=dr=null,l.updateQueue!=null){var M=l.updateQueue;M.lastEffect=null,M.events=null,M.stores=null,M.memoCache!=null&&(M.memoCache.index=0)}b.H=zd,M=d(m,x)}while(vf);return M}function UK(){var l=b.H,d=l.useState()[0];return d=typeof d.then=="function"?Wp(d):d,l=l.useState()[0],(dr!==null?dr.memoizedState:null)!==l&&(_n.flags|=1024),d}function y2(){var l=wv!==0;return wv=0,l}function v2(l,d,m){d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~m}function x2(l){if(bv){for(l=l.memoizedState;l!==null;){var d=l.queue;d!==null&&(d.pending=null),l=l.next}bv=!1}pu=0,js=dr=_n=null,vf=!1,Gp=wv=0,xf=null}function mi(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return js===null?_n.memoizedState=js=l:js=js.next=l,js}function Ss(){if(dr===null){var l=_n.alternate;l=l!==null?l.memoizedState:null}else l=dr.next;var d=js===null?_n.memoizedState:js.next;if(d!==null)js=d,dr=l;else{if(l===null)throw _n.alternate===null?Error(r(467)):Error(r(310));dr=l,l={memoizedState:dr.memoizedState,baseState:dr.baseState,baseQueue:dr.baseQueue,queue:dr.queue,next:null},js===null?_n.memoizedState=js=l:js=js.next=l}return js}var _v;_v=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Wp(l){var d=Gp;return Gp+=1,xf===null&&(xf=[]),l=v4(xf,l,d),d=_n,(js===null?d.memoizedState:js.next)===null&&(d=d.alternate,b.H=d===null||d.memoizedState===null?Ud:gu),l}function Ev(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return Wp(l);if(l.$$typeof===y)return La(l)}throw Error(r(438,String(l)))}function b2(l){var d=null,m=_n.updateQueue;if(m!==null&&(d=m.memoCache),d==null){var x=_n.alternate;x!==null&&(x=x.updateQueue,x!==null&&(x=x.memoCache,x!=null&&(d={data:x.data.map(function(k){return k.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),m===null&&(m=_v(),_n.updateQueue=m),m.memoCache=d,m=d.data[d.index],m===void 0)for(m=d.data[d.index]=Array(l),x=0;x<l;x++)m[x]=D;return d.index++,m}function mc(l,d){return typeof d=="function"?d(l):d}function jv(l){var d=Ss();return w2(d,dr,l)}function w2(l,d,m){var x=l.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=m;var k=l.baseQueue,M=x.pending;if(M!==null){if(k!==null){var J=k.next;k.next=M.next,M.next=J}d.baseQueue=k=M,x.pending=null}if(M=l.baseState,k===null)l.memoizedState=M;else{d=k.next;var oe=J=null,ge=null,Se=d,Ge=!1;do{var rt=Se.lane&-536870913;if(rt!==Se.lane?(Bn&rt)===rt:(pu&rt)===rt){var Pe=Se.revertLane;if(Pe===0)ge!==null&&(ge=ge.next={lane:0,revertLane:0,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null}),rt===gf&&(Ge=!0);else if((pu&Pe)===Pe){Se=Se.next,Pe===gf&&(Ge=!0);continue}else rt={lane:0,revertLane:Se.revertLane,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null},ge===null?(oe=ge=rt,J=M):ge=ge.next=rt,_n.lanes|=Pe,Su|=Pe;rt=Se.action,Bd&&m(M,rt),M=Se.hasEagerState?Se.eagerState:m(M,rt)}else Pe={lane:rt,revertLane:Se.revertLane,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null},ge===null?(oe=ge=Pe,J=M):ge=ge.next=Pe,_n.lanes|=rt,Su|=rt;Se=Se.next}while(Se!==null&&Se!==d);if(ge===null?J=M:ge.next=oe,!ki(M,l.memoizedState)&&(Ws=!0,Ge&&(m=yf,m!==null)))throw m;l.memoizedState=M,l.baseState=J,l.baseQueue=ge,x.lastRenderedState=M}return k===null&&(x.lanes=0),[l.memoizedState,x.dispatch]}function _2(l){var d=Ss(),m=d.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=l;var x=m.dispatch,k=m.pending,M=d.memoizedState;if(k!==null){m.pending=null;var J=k=k.next;do M=l(M,J.action),J=J.next;while(J!==k);ki(M,d.memoizedState)||(Ws=!0),d.memoizedState=M,d.baseQueue===null&&(d.baseState=M),m.lastRenderedState=M}return[M,x]}function L4(l,d,m){var x=_n,k=Ss(),M=Gn;if(M){if(m===void 0)throw Error(r(407));m=m()}else m=d();var J=!ki((dr||k).memoizedState,m);if(J&&(k.memoizedState=m,Ws=!0),k=k.queue,S2(O4.bind(null,x,k,l),[l]),k.getSnapshot!==d||J||js!==null&&js.memoizedState.tag&1){if(x.flags|=2048,bf(9,k4.bind(null,x,k,m,d),{destroy:void 0},null),br===null)throw Error(r(349));M||pu&60||R4(x,d,m)}return m}function R4(l,d,m){l.flags|=16384,l={getSnapshot:d,value:m},d=_n.updateQueue,d===null?(d=_v(),_n.updateQueue=d,d.stores=[l]):(m=d.stores,m===null?d.stores=[l]:m.push(l))}function k4(l,d,m,x){d.value=m,d.getSnapshot=x,I4(d)&&P4(l)}function O4(l,d,m){return m(function(){I4(d)&&P4(l)})}function I4(l){var d=l.getSnapshot;l=l.value;try{var m=d();return!ki(l,m)}catch{return!0}}function P4(l){var d=hu(l,2);d!==null&&Ja(d,l,2)}function E2(l){var d=mi();if(typeof l=="function"){var m=l;if(l=m(),Bd){zr(!0);try{m()}finally{zr(!1)}}}return d.memoizedState=d.baseState=l,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mc,lastRenderedState:l},d}function D4(l,d,m,x){return l.baseState=m,w2(l,dr,typeof x=="function"?x:mc)}function zK(l,d,m,x,k){if(Nv(l))throw Error(r(485));if(l=d.action,l!==null){var M={payload:k,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(J){M.listeners.push(J)}};b.T!==null?m(!0):M.isTransition=!1,x(M),m=d.pending,m===null?(M.next=d.pending=M,M4(d,M)):(M.next=m.next,d.pending=m.next=M)}}function M4(l,d){var m=d.action,x=d.payload,k=l.state;if(d.isTransition){var M=b.T,J={};b.T=J;try{var oe=m(k,x),ge=b.S;ge!==null&&ge(J,oe),F4(l,d,oe)}catch(Se){j2(l,d,Se)}finally{b.T=M}}else try{M=m(k,x),F4(l,d,M)}catch(Se){j2(l,d,Se)}}function F4(l,d,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(x){B4(l,d,x)},function(x){return j2(l,d,x)}):B4(l,d,m)}function B4(l,d,m){d.status="fulfilled",d.value=m,U4(d),l.state=m,d=l.pending,d!==null&&(m=d.next,m===d?l.pending=null:(m=m.next,d.next=m,M4(l,m)))}function j2(l,d,m){var x=l.pending;if(l.pending=null,x!==null){x=x.next;do d.status="rejected",d.reason=m,U4(d),d=d.next;while(d!==x)}l.action=null}function U4(l){l=l.listeners;for(var d=0;d<l.length;d++)(0,l[d])()}function z4(l,d){return d}function q4(l,d){if(Gn){var m=br.formState;if(m!==null){e:{var x=_n;if(Gn){if(da){t:{for(var k=da,M=_l;k.nodeType!==8;){if(!M){k=null;break t}if(k=Ko(k.nextSibling),k===null){k=null;break t}}M=k.data,k=M==="F!"||M==="F"?k:null}if(k){da=Ko(k.nextSibling),x=k.data==="F!";break e}}Dd(x)}x=!1}x&&(d=m[0])}}return m=mi(),m.memoizedState=m.baseState=d,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:z4,lastRenderedState:d},m.queue=x,m=iR.bind(null,_n,x),x.dispatch=m,x=E2(!1),M=L2.bind(null,_n,!1,x.queue),x=mi(),k={state:d,dispatch:null,action:l,pending:null},x.queue=k,m=zK.bind(null,_n,k,M,m),k.dispatch=m,x.memoizedState=l,[d,m,!1]}function $4(l){var d=Ss();return V4(d,dr,l)}function V4(l,d,m){d=w2(l,d,z4)[0],l=jv(mc)[0],d=typeof d=="object"&&d!==null&&typeof d.then=="function"?Wp(d):d;var x=Ss(),k=x.queue,M=k.dispatch;return m!==x.memoizedState&&(_n.flags|=2048,bf(9,qK.bind(null,k,m),{destroy:void 0},null)),[d,M,l]}function qK(l,d){l.action=d}function H4(l){var d=Ss(),m=dr;if(m!==null)return V4(d,m,l);Ss(),d=d.memoizedState,m=Ss();var x=m.queue.dispatch;return m.memoizedState=l,[d,x,!1]}function bf(l,d,m,x){return l={tag:l,create:d,inst:m,deps:x,next:null},d=_n.updateQueue,d===null&&(d=_v(),_n.updateQueue=d),m=d.lastEffect,m===null?d.lastEffect=l.next=l:(x=m.next,m.next=l,l.next=x,d.lastEffect=l),l}function G4(){return Ss().memoizedState}function Sv(l,d,m,x){var k=mi();_n.flags|=l,k.memoizedState=bf(1|d,m,{destroy:void 0},x===void 0?null:x)}function Cv(l,d,m,x){var k=Ss();x=x===void 0?null:x;var M=k.memoizedState.inst;dr!==null&&x!==null&&p2(x,dr.memoizedState.deps)?k.memoizedState=bf(d,m,M,x):(_n.flags|=l,k.memoizedState=bf(1|d,m,M,x))}function W4(l,d){Sv(8390656,8,l,d)}function S2(l,d){Cv(2048,8,l,d)}function K4(l,d){return Cv(4,2,l,d)}function Y4(l,d){return Cv(4,4,l,d)}function X4(l,d){if(typeof d=="function"){l=l();var m=d(l);return function(){typeof m=="function"?m():d(null)}}if(d!=null)return l=l(),d.current=l,function(){d.current=null}}function J4(l,d,m){m=m!=null?m.concat([l]):null,Cv(4,4,X4.bind(null,d,l),m)}function C2(){}function Q4(l,d){var m=Ss();d=d===void 0?null:d;var x=m.memoizedState;return d!==null&&p2(d,x[1])?x[0]:(m.memoizedState=[l,d],l)}function Z4(l,d){var m=Ss();d=d===void 0?null:d;var x=m.memoizedState;if(d!==null&&p2(d,x[1]))return x[0];if(x=l(),Bd){zr(!0);try{l()}finally{zr(!1)}}return m.memoizedState=[x,d],x}function N2(l,d,m){return m===void 0||pu&1073741824?l.memoizedState=d:(l.memoizedState=m,l=tk(),_n.lanes|=l,Su|=l,m)}function eR(l,d,m,x){return ki(m,d)?m:pf.current!==null?(l=N2(l,m,x),ki(l,d)||(Ws=!0),l):pu&42?(l=tk(),_n.lanes|=l,Su|=l,d):(Ws=!0,l.memoizedState=m)}function tR(l,d,m,x,k){var M=te.p;te.p=M!==0&&8>M?M:8;var J=b.T,oe={};b.T=oe,L2(l,!1,d,m);try{var ge=k(),Se=b.S;if(Se!==null&&Se(oe,ge),ge!==null&&typeof ge=="object"&&typeof ge.then=="function"){var Ge=FK(ge,x);Kp(l,d,Ge,Di(l))}else Kp(l,d,x,Di(l))}catch(rt){Kp(l,d,{then:function(){},status:"rejected",reason:rt},Di())}finally{te.p=M,b.T=J}}function $K(){}function T2(l,d,m,x){if(l.tag!==5)throw Error(r(476));var k=nR(l).queue;tR(l,k,d,X,m===null?$K:function(){return rR(l),m(x)})}function nR(l){var d=l.memoizedState;if(d!==null)return d;d={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mc,lastRenderedState:X},next:null};var m={};return d.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mc,lastRenderedState:m},next:null},l.memoizedState=d,l=l.alternate,l!==null&&(l.memoizedState=d),d}function rR(l){var d=nR(l).next.queue;Kp(l,d,{},Di())}function A2(){return La(mg)}function sR(){return Ss().memoizedState}function aR(){return Ss().memoizedState}function VK(l){for(var d=l.return;d!==null;){switch(d.tag){case 24:case 3:var m=Di();l=xu(m);var x=bu(d,l,m);x!==null&&(Ja(x,d,m),Jp(x,d,m)),d={cache:h2()},l.payload=d;return}d=d.return}}function HK(l,d,m){var x=Di();m={lane:x,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null},Nv(l)?oR(d,m):(m=a2(l,d,m,x),m!==null&&(Ja(m,l,x),lR(m,d,x)))}function iR(l,d,m){var x=Di();Kp(l,d,m,x)}function Kp(l,d,m,x){var k={lane:x,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null};if(Nv(l))oR(d,k);else{var M=l.alternate;if(l.lanes===0&&(M===null||M.lanes===0)&&(M=d.lastRenderedReducer,M!==null))try{var J=d.lastRenderedState,oe=M(J,m);if(k.hasEagerState=!0,k.eagerState=oe,ki(oe,J))return uv(l,d,k,0),br===null&&cv(),!1}catch{}finally{}if(m=a2(l,d,k,x),m!==null)return Ja(m,l,x),lR(m,d,x),!0}return!1}function L2(l,d,m,x){if(x={lane:2,revertLane:x_(),action:x,hasEagerState:!1,eagerState:null,next:null},Nv(l)){if(d)throw Error(r(479))}else d=a2(l,m,x,2),d!==null&&Ja(d,l,2)}function Nv(l){var d=l.alternate;return l===_n||d!==null&&d===_n}function oR(l,d){vf=bv=!0;var m=l.pending;m===null?d.next=d:(d.next=m.next,m.next=d),l.pending=d}function lR(l,d,m){if(m&4194176){var x=d.lanes;x&=l.pendingLanes,m|=x,d.lanes=m,ii(l,m)}}var jl={readContext:La,use:Ev,useCallback:ys,useContext:ys,useEffect:ys,useImperativeHandle:ys,useLayoutEffect:ys,useInsertionEffect:ys,useMemo:ys,useReducer:ys,useRef:ys,useState:ys,useDebugValue:ys,useDeferredValue:ys,useTransition:ys,useSyncExternalStore:ys,useId:ys};jl.useCacheRefresh=ys,jl.useMemoCache=ys,jl.useHostTransitionStatus=ys,jl.useFormState=ys,jl.useActionState=ys,jl.useOptimistic=ys;var Ud={readContext:La,use:Ev,useCallback:function(l,d){return mi().memoizedState=[l,d===void 0?null:d],l},useContext:La,useEffect:W4,useImperativeHandle:function(l,d,m){m=m!=null?m.concat([l]):null,Sv(4194308,4,X4.bind(null,d,l),m)},useLayoutEffect:function(l,d){return Sv(4194308,4,l,d)},useInsertionEffect:function(l,d){Sv(4,2,l,d)},useMemo:function(l,d){var m=mi();d=d===void 0?null:d;var x=l();if(Bd){zr(!0);try{l()}finally{zr(!1)}}return m.memoizedState=[x,d],x},useReducer:function(l,d,m){var x=mi();if(m!==void 0){var k=m(d);if(Bd){zr(!0);try{m(d)}finally{zr(!1)}}}else k=d;return x.memoizedState=x.baseState=k,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:k},x.queue=l,l=l.dispatch=HK.bind(null,_n,l),[x.memoizedState,l]},useRef:function(l){var d=mi();return l={current:l},d.memoizedState=l},useState:function(l){l=E2(l);var d=l.queue,m=iR.bind(null,_n,d);return d.dispatch=m,[l.memoizedState,m]},useDebugValue:C2,useDeferredValue:function(l,d){var m=mi();return N2(m,l,d)},useTransition:function(){var l=E2(!1);return l=tR.bind(null,_n,l.queue,!0,!1),mi().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,d,m){var x=_n,k=mi();if(Gn){if(m===void 0)throw Error(r(407));m=m()}else{if(m=d(),br===null)throw Error(r(349));Bn&60||R4(x,d,m)}k.memoizedState=m;var M={value:m,getSnapshot:d};return k.queue=M,W4(O4.bind(null,x,M,l),[l]),x.flags|=2048,bf(9,k4.bind(null,x,M,m,d),{destroy:void 0},null),m},useId:function(){var l=mi(),d=br.identifierPrefix;if(Gn){var m=hc,x=dc;m=(x&~(1<<32-Hn(x)-1)).toString(32)+m,d=":"+d+"R"+m,m=wv++,0<m&&(d+="H"+m.toString(32)),d+=":"}else m=BK++,d=":"+d+"r"+m.toString(32)+":";return l.memoizedState=d},useCacheRefresh:function(){return mi().memoizedState=VK.bind(null,_n)}};Ud.useMemoCache=b2,Ud.useHostTransitionStatus=A2,Ud.useFormState=q4,Ud.useActionState=q4,Ud.useOptimistic=function(l){var d=mi();d.memoizedState=d.baseState=l;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=m,d=L2.bind(null,_n,!0,m),m.dispatch=d,[l,d]};var gu={readContext:La,use:Ev,useCallback:Q4,useContext:La,useEffect:S2,useImperativeHandle:J4,useInsertionEffect:K4,useLayoutEffect:Y4,useMemo:Z4,useReducer:jv,useRef:G4,useState:function(){return jv(mc)},useDebugValue:C2,useDeferredValue:function(l,d){var m=Ss();return eR(m,dr.memoizedState,l,d)},useTransition:function(){var l=jv(mc)[0],d=Ss().memoizedState;return[typeof l=="boolean"?l:Wp(l),d]},useSyncExternalStore:L4,useId:sR};gu.useCacheRefresh=aR,gu.useMemoCache=b2,gu.useHostTransitionStatus=A2,gu.useFormState=$4,gu.useActionState=$4,gu.useOptimistic=function(l,d){var m=Ss();return D4(m,dr,l,d)};var zd={readContext:La,use:Ev,useCallback:Q4,useContext:La,useEffect:S2,useImperativeHandle:J4,useInsertionEffect:K4,useLayoutEffect:Y4,useMemo:Z4,useReducer:_2,useRef:G4,useState:function(){return _2(mc)},useDebugValue:C2,useDeferredValue:function(l,d){var m=Ss();return dr===null?N2(m,l,d):eR(m,dr.memoizedState,l,d)},useTransition:function(){var l=_2(mc)[0],d=Ss().memoizedState;return[typeof l=="boolean"?l:Wp(l),d]},useSyncExternalStore:L4,useId:sR};zd.useCacheRefresh=aR,zd.useMemoCache=b2,zd.useHostTransitionStatus=A2,zd.useFormState=H4,zd.useActionState=H4,zd.useOptimistic=function(l,d){var m=Ss();return dr!==null?D4(m,dr,l,d):(m.baseState=l,[l,m.queue.dispatch])};function R2(l,d,m,x){d=l.memoizedState,m=m(x,d),m=m==null?d:A({},d,m),l.memoizedState=m,l.lanes===0&&(l.updateQueue.baseState=m)}var k2={isMounted:function(l){return(l=l._reactInternals)?me(l)===l:!1},enqueueSetState:function(l,d,m){l=l._reactInternals;var x=Di(),k=xu(x);k.payload=d,m!=null&&(k.callback=m),d=bu(l,k,x),d!==null&&(Ja(d,l,x),Jp(d,l,x))},enqueueReplaceState:function(l,d,m){l=l._reactInternals;var x=Di(),k=xu(x);k.tag=1,k.payload=d,m!=null&&(k.callback=m),d=bu(l,k,x),d!==null&&(Ja(d,l,x),Jp(d,l,x))},enqueueForceUpdate:function(l,d){l=l._reactInternals;var m=Di(),x=xu(m);x.tag=2,d!=null&&(x.callback=d),d=bu(l,x,m),d!==null&&(Ja(d,l,m),Jp(d,l,m))}};function cR(l,d,m,x,k,M,J){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(x,M,J):d.prototype&&d.prototype.isPureReactComponent?!Pp(m,x)||!Pp(k,M):!0}function uR(l,d,m,x){l=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(m,x),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(m,x),d.state!==l&&k2.enqueueReplaceState(d,d.state,null)}function qd(l,d){var m=d;if("ref"in d){m={};for(var x in d)x!=="ref"&&(m[x]=d[x])}if(l=l.defaultProps){m===d&&(m=A({},m));for(var k in l)m[k]===void 0&&(m[k]=l[k])}return m}var Tv=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)};function dR(l){Tv(l)}function hR(l){console.error(l)}function fR(l){Tv(l)}function Av(l,d){try{var m=l.onUncaughtError;m(d.value,{componentStack:d.stack})}catch(x){setTimeout(function(){throw x})}}function mR(l,d,m){try{var x=l.onCaughtError;x(m.value,{componentStack:m.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(k){setTimeout(function(){throw k})}}function O2(l,d,m){return m=xu(m),m.tag=3,m.payload={element:null},m.callback=function(){Av(l,d)},m}function pR(l){return l=xu(l),l.tag=3,l}function gR(l,d,m,x){var k=m.type.getDerivedStateFromError;if(typeof k=="function"){var M=x.value;l.payload=function(){return k(M)},l.callback=function(){mR(d,m,x)}}var J=m.stateNode;J!==null&&typeof J.componentDidCatch=="function"&&(l.callback=function(){mR(d,m,x),typeof k!="function"&&(Cu===null?Cu=new Set([this]):Cu.add(this));var oe=x.stack;this.componentDidCatch(x.value,{componentStack:oe!==null?oe:""})})}function GK(l,d,m,x,k){if(m.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){if(d=m.alternate,d!==null&&Xp(d,m,k,!0),m=fo.current,m!==null){switch(m.tag){case 13:return El===null?m_():m.alternate===null&&os===0&&(os=3),m.flags&=-257,m.flags|=65536,m.lanes=k,x===c2?m.flags|=16384:(d=m.updateQueue,d===null?m.updateQueue=new Set([x]):d.add(x),g_(l,x,k)),!1;case 22:return m.flags|=65536,x===c2?m.flags|=16384:(d=m.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([x])},m.updateQueue=d):(m=d.retryQueue,m===null?d.retryQueue=new Set([x]):m.add(x)),g_(l,x,k)),!1}throw Error(r(435,m.tag))}return g_(l,x,k),m_(),!1}if(Gn)return d=fo.current,d!==null?(!(d.flags&65536)&&(d.flags|=256),d.flags|=65536,d.lanes=k,x!==l2&&(l=Error(r(422),{cause:x}),Bp(co(l,m)))):(x!==l2&&(d=Error(r(423),{cause:x}),Bp(co(d,m))),l=l.current.alternate,l.flags|=65536,k&=-k,l.lanes|=k,x=co(x,m),k=O2(l.stateNode,x,k),K2(l,k),os!==4&&(os=2)),!1;var M=Error(r(520),{cause:x});if(M=co(M,m),ag===null?ag=[M]:ag.push(M),os!==4&&(os=2),d===null)return!0;x=co(x,m),m=d;do{switch(m.tag){case 3:return m.flags|=65536,l=k&-k,m.lanes|=l,l=O2(m.stateNode,x,l),K2(m,l),!1;case 1:if(d=m.type,M=m.stateNode,(m.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(Cu===null||!Cu.has(M))))return m.flags|=65536,k&=-k,m.lanes|=k,k=pR(k),gR(k,l,m,x),K2(m,k),!1}m=m.return}while(m!==null);return!1}var yR=Error(r(461)),Ws=!1;function ha(l,d,m,x){d.child=l===null?_4(d,null,m,x):Md(d,l.child,m,x)}function vR(l,d,m,x,k){m=m.render;var M=d.ref;if("ref"in x){var J={};for(var oe in x)oe!=="ref"&&(J[oe]=x[oe])}else J=x;return Vd(d),x=g2(l,d,m,J,M,k),oe=y2(),l!==null&&!Ws?(v2(l,d,k),pc(l,d,k)):(Gn&&oe&&i2(d),d.flags|=1,ha(l,d,x,k),d.child)}function xR(l,d,m,x,k){if(l===null){var M=m.type;return typeof M=="function"&&!n_(M)&&M.defaultProps===void 0&&m.compare===null?(d.tag=15,d.type=M,bR(l,d,M,x,k)):(l=Iv(m.type,null,x,d,d.mode,k),l.ref=d.ref,l.return=d,d.child=l)}if(M=l.child,!q2(l,k)){var J=M.memoizedProps;if(m=m.compare,m=m!==null?m:Pp,m(J,x)&&l.ref===d.ref)return pc(l,d,k)}return d.flags|=1,l=ju(M,x),l.ref=d.ref,l.return=d,d.child=l}function bR(l,d,m,x,k){if(l!==null){var M=l.memoizedProps;if(Pp(M,x)&&l.ref===d.ref)if(Ws=!1,d.pendingProps=x=M,q2(l,k))l.flags&131072&&(Ws=!0);else return d.lanes=l.lanes,pc(l,d,k)}return I2(l,d,m,x,k)}function wR(l,d,m){var x=d.pendingProps,k=x.children,M=(d.stateNode._pendingVisibility&2)!==0,J=l!==null?l.memoizedState:null;if(Yp(l,d),x.mode==="hidden"||M){if(d.flags&128){if(x=J!==null?J.baseLanes|m:m,l!==null){for(k=d.child=l.child,M=0;k!==null;)M=M|k.lanes|k.childLanes,k=k.sibling;d.childLanes=M&~x}else d.childLanes=0,d.child=null;return _R(l,d,x,m)}if(m&536870912)d.memoizedState={baseLanes:0,cachePool:null},l!==null&&xv(d,J!==null?J.cachePool:null),J!==null?E4(d,J):u2(),j4(d);else return d.lanes=d.childLanes=536870912,_R(l,d,J!==null?J.baseLanes|m:m,m)}else J!==null?(xv(d,J.cachePool),E4(d,J),mu(),d.memoizedState=null):(l!==null&&xv(d,null),u2(),mu());return ha(l,d,k,m),d.child}function _R(l,d,m,x){var k=m2();return k=k===null?null:{parent:Ms._currentValue,pool:k},d.memoizedState={baseLanes:m,cachePool:k},l!==null&&xv(d,null),u2(),j4(d),l!==null&&Xp(l,d,x,!0),null}function Yp(l,d){var m=d.ref;if(m===null)l!==null&&l.ref!==null&&(d.flags|=2097664);else{if(typeof m!="function"&&typeof m!="object")throw Error(r(284));(l===null||l.ref!==m)&&(d.flags|=2097664)}}function I2(l,d,m,x,k){return Vd(d),m=g2(l,d,m,x,void 0,k),x=y2(),l!==null&&!Ws?(v2(l,d,k),pc(l,d,k)):(Gn&&x&&i2(d),d.flags|=1,ha(l,d,m,k),d.child)}function ER(l,d,m,x,k,M){return Vd(d),d.updateQueue=null,m=A4(d,x,m,k),T4(l),x=y2(),l!==null&&!Ws?(v2(l,d,M),pc(l,d,M)):(Gn&&x&&i2(d),d.flags|=1,ha(l,d,m,M),d.child)}function jR(l,d,m,x,k){if(Vd(d),d.stateNode===null){var M=df,J=m.contextType;typeof J=="object"&&J!==null&&(M=La(J)),M=new m(x,M),d.memoizedState=M.state!==null&&M.state!==void 0?M.state:null,M.updater=k2,d.stateNode=M,M._reactInternals=d,M=d.stateNode,M.props=x,M.state=d.memoizedState,M.refs={},G2(d),J=m.contextType,M.context=typeof J=="object"&&J!==null?La(J):df,M.state=d.memoizedState,J=m.getDerivedStateFromProps,typeof J=="function"&&(R2(d,m,J,x),M.state=d.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof M.getSnapshotBeforeUpdate=="function"||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(J=M.state,typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount(),J!==M.state&&k2.enqueueReplaceState(M,M.state,null),Zp(d,x,M,k),Qp(),M.state=d.memoizedState),typeof M.componentDidMount=="function"&&(d.flags|=4194308),x=!0}else if(l===null){M=d.stateNode;var oe=d.memoizedProps,ge=qd(m,oe);M.props=ge;var Se=M.context,Ge=m.contextType;J=df,typeof Ge=="object"&&Ge!==null&&(J=La(Ge));var rt=m.getDerivedStateFromProps;Ge=typeof rt=="function"||typeof M.getSnapshotBeforeUpdate=="function",oe=d.pendingProps!==oe,Ge||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(oe||Se!==J)&&uR(d,M,x,J),vu=!1;var Pe=d.memoizedState;M.state=Pe,Zp(d,x,M,k),Qp(),Se=d.memoizedState,oe||Pe!==Se||vu?(typeof rt=="function"&&(R2(d,m,rt,x),Se=d.memoizedState),(ge=vu||cR(d,m,ge,x,Pe,Se,J))?(Ge||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(d.flags|=4194308)):(typeof M.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=x,d.memoizedState=Se),M.props=x,M.state=Se,M.context=J,x=ge):(typeof M.componentDidMount=="function"&&(d.flags|=4194308),x=!1)}else{M=d.stateNode,W2(l,d),J=d.memoizedProps,Ge=qd(m,J),M.props=Ge,rt=d.pendingProps,Pe=M.context,Se=m.contextType,ge=df,typeof Se=="object"&&Se!==null&&(ge=La(Se)),oe=m.getDerivedStateFromProps,(Se=typeof oe=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(J!==rt||Pe!==ge)&&uR(d,M,x,ge),vu=!1,Pe=d.memoizedState,M.state=Pe,Zp(d,x,M,k),Qp();var He=d.memoizedState;J!==rt||Pe!==He||vu||l!==null&&l.dependencies!==null&&Lv(l.dependencies)?(typeof oe=="function"&&(R2(d,m,oe,x),He=d.memoizedState),(Ge=vu||cR(d,m,Ge,x,Pe,He,ge)||l!==null&&l.dependencies!==null&&Lv(l.dependencies))?(Se||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(x,He,ge),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(x,He,ge)),typeof M.componentDidUpdate=="function"&&(d.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof M.componentDidUpdate!="function"||J===l.memoizedProps&&Pe===l.memoizedState||(d.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||J===l.memoizedProps&&Pe===l.memoizedState||(d.flags|=1024),d.memoizedProps=x,d.memoizedState=He),M.props=x,M.state=He,M.context=ge,x=Ge):(typeof M.componentDidUpdate!="function"||J===l.memoizedProps&&Pe===l.memoizedState||(d.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||J===l.memoizedProps&&Pe===l.memoizedState||(d.flags|=1024),x=!1)}return M=x,Yp(l,d),x=(d.flags&128)!==0,M||x?(M=d.stateNode,m=x&&typeof m.getDerivedStateFromError!="function"?null:M.render(),d.flags|=1,l!==null&&x?(d.child=Md(d,l.child,null,k),d.child=Md(d,null,m,k)):ha(l,d,m,k),d.memoizedState=M.state,l=d.child):l=pc(l,d,k),l}function SR(l,d,m,x){return Fp(),d.flags|=256,ha(l,d,m,x),d.child}var P2={dehydrated:null,treeContext:null,retryLane:0};function D2(l){return{baseLanes:l,cachePool:N4()}}function M2(l,d,m){return l=l!==null?l.childLanes&~m:0,d&&(l|=yo),l}function CR(l,d,m){var x=d.pendingProps,k=!1,M=(d.flags&128)!==0,J;if((J=M)||(J=l!==null&&l.memoizedState===null?!1:(Ds.current&2)!==0),J&&(k=!0,d.flags&=-129),J=(d.flags&32)!==0,d.flags&=-33,l===null){if(Gn){if(k?fu(d):mu(),Gn){var oe=da,ge;if(ge=oe){e:{for(ge=oe,oe=_l;ge.nodeType!==8;){if(!oe){oe=null;break e}if(ge=Ko(ge.nextSibling),ge===null){oe=null;break e}}oe=ge}oe!==null?(d.memoizedState={dehydrated:oe,treeContext:Id!==null?{id:dc,overflow:hc}:null,retryLane:536870912},ge=go(18,null,null,0),ge.stateNode=oe,ge.return=d,d.child=ge,Xa=d,da=null,ge=!0):ge=!1}ge||Dd(d)}if(oe=d.memoizedState,oe!==null&&(oe=oe.dehydrated,oe!==null))return oe.data==="$!"?d.lanes=16:d.lanes=536870912,null;fc(d)}return oe=x.children,x=x.fallback,k?(mu(),k=d.mode,oe=B2({mode:"hidden",children:oe},k),x=Gd(x,k,m,null),oe.return=d,x.return=d,oe.sibling=x,d.child=oe,k=d.child,k.memoizedState=D2(m),k.childLanes=M2(l,J,m),d.memoizedState=P2,x):(fu(d),F2(d,oe))}if(ge=l.memoizedState,ge!==null&&(oe=ge.dehydrated,oe!==null)){if(M)d.flags&256?(fu(d),d.flags&=-257,d=U2(l,d,m)):d.memoizedState!==null?(mu(),d.child=l.child,d.flags|=128,d=null):(mu(),k=x.fallback,oe=d.mode,x=B2({mode:"visible",children:x.children},oe),k=Gd(k,oe,m,null),k.flags|=2,x.return=d,k.return=d,x.sibling=k,d.child=x,Md(d,l.child,null,m),x=d.child,x.memoizedState=D2(m),x.childLanes=M2(l,J,m),d.memoizedState=P2,d=k);else if(fu(d),oe.data==="$!"){if(J=oe.nextSibling&&oe.nextSibling.dataset,J)var Se=J.dgst;J=Se,x=Error(r(419)),x.stack="",x.digest=J,Bp({value:x,source:null,stack:null}),d=U2(l,d,m)}else if(Ws||Xp(l,d,m,!1),J=(m&l.childLanes)!==0,Ws||J){if(J=br,J!==null){if(x=m&-m,x&42)x=1;else switch(x){case 2:x=1;break;case 8:x=4;break;case 32:x=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:x=64;break;case 268435456:x=134217728;break;default:x=0}if(x=x&(J.suspendedLanes|m)?0:x,x!==0&&x!==ge.retryLane)throw ge.retryLane=x,hu(l,x),Ja(J,l,x),yR}oe.data==="$?"||m_(),d=U2(l,d,m)}else oe.data==="$?"?(d.flags|=128,d.child=l.child,d=oY.bind(null,l),oe._reactRetry=d,d=null):(l=ge.treeContext,da=Ko(oe.nextSibling),Xa=d,Gn=!0,Go=null,_l=!1,l!==null&&(uo[ho++]=dc,uo[ho++]=hc,uo[ho++]=Id,dc=l.id,hc=l.overflow,Id=d),d=F2(d,x.children),d.flags|=4096);return d}return k?(mu(),k=x.fallback,oe=d.mode,ge=l.child,Se=ge.sibling,x=ju(ge,{mode:"hidden",children:x.children}),x.subtreeFlags=ge.subtreeFlags&31457280,Se!==null?k=ju(Se,k):(k=Gd(k,oe,m,null),k.flags|=2),k.return=d,x.return=d,x.sibling=k,d.child=x,x=k,k=d.child,oe=l.child.memoizedState,oe===null?oe=D2(m):(ge=oe.cachePool,ge!==null?(Se=Ms._currentValue,ge=ge.parent!==Se?{parent:Se,pool:Se}:ge):ge=N4(),oe={baseLanes:oe.baseLanes|m,cachePool:ge}),k.memoizedState=oe,k.childLanes=M2(l,J,m),d.memoizedState=P2,x):(fu(d),m=l.child,l=m.sibling,m=ju(m,{mode:"visible",children:x.children}),m.return=d,m.sibling=null,l!==null&&(J=d.deletions,J===null?(d.deletions=[l],d.flags|=16):J.push(l)),d.child=m,d.memoizedState=null,m)}function F2(l,d){return d=B2({mode:"visible",children:d},l.mode),d.return=l,l.child=d}function B2(l,d){return QR(l,d,0,null)}function U2(l,d,m){return Md(d,l.child,null,m),l=F2(d,d.pendingProps.children),l.flags|=2,d.memoizedState=null,l}function NR(l,d,m){l.lanes|=d;var x=l.alternate;x!==null&&(x.lanes|=d),V2(l.return,d,m)}function z2(l,d,m,x,k){var M=l.memoizedState;M===null?l.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:x,tail:m,tailMode:k}:(M.isBackwards=d,M.rendering=null,M.renderingStartTime=0,M.last=x,M.tail=m,M.tailMode=k)}function TR(l,d,m){var x=d.pendingProps,k=x.revealOrder,M=x.tail;if(ha(l,d,x.children,m),x=Ds.current,x&2)x=x&1|2,d.flags|=128;else{if(l!==null&&l.flags&128)e:for(l=d.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&NR(l,m,d);else if(l.tag===19)NR(l,m,d);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===d)break e;for(;l.sibling===null;){if(l.return===null||l.return===d)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}x&=1}switch(_e(Ds,x),k){case"forwards":for(m=d.child,k=null;m!==null;)l=m.alternate,l!==null&&vv(l)===null&&(k=m),m=m.sibling;m=k,m===null?(k=d.child,d.child=null):(k=m.sibling,m.sibling=null),z2(d,!1,k,m,M);break;case"backwards":for(m=null,k=d.child,d.child=null;k!==null;){if(l=k.alternate,l!==null&&vv(l)===null){d.child=k;break}l=k.sibling,k.sibling=m,m=k,k=l}z2(d,!0,m,null,M);break;case"together":z2(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function pc(l,d,m){if(l!==null&&(d.dependencies=l.dependencies),Su|=d.lanes,!(m&d.childLanes))if(l!==null){if(Xp(l,d,m,!1),(m&d.childLanes)===0)return null}else return null;if(l!==null&&d.child!==l.child)throw Error(r(153));if(d.child!==null){for(l=d.child,m=ju(l,l.pendingProps),d.child=m,m.return=d;l.sibling!==null;)l=l.sibling,m=m.sibling=ju(l,l.pendingProps),m.return=d;m.sibling=null}return d.child}function q2(l,d){return l.lanes&d?!0:(l=l.dependencies,!!(l!==null&&Lv(l)))}function WK(l,d,m){switch(d.tag){case 3:Ye(d,d.stateNode.containerInfo),yu(d,Ms,l.memoizedState.cache),Fp();break;case 27:case 5:Ze(d);break;case 4:Ye(d,d.stateNode.containerInfo);break;case 10:yu(d,d.type,d.memoizedProps.value);break;case 13:var x=d.memoizedState;if(x!==null)return x.dehydrated!==null?(fu(d),d.flags|=128,null):m&d.child.childLanes?CR(l,d,m):(fu(d),l=pc(l,d,m),l!==null?l.sibling:null);fu(d);break;case 19:var k=(l.flags&128)!==0;if(x=(m&d.childLanes)!==0,x||(Xp(l,d,m,!1),x=(m&d.childLanes)!==0),k){if(x)return TR(l,d,m);d.flags|=128}if(k=d.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),_e(Ds,Ds.current),x)break;return null;case 22:case 23:return d.lanes=0,wR(l,d,m);case 24:yu(d,Ms,l.memoizedState.cache)}return pc(l,d,m)}function AR(l,d,m){if(l!==null)if(l.memoizedProps!==d.pendingProps)Ws=!0;else{if(!q2(l,m)&&!(d.flags&128))return Ws=!1,WK(l,d,m);Ws=!!(l.flags&131072)}else Ws=!1,Gn&&d.flags&1048576&&f4(d,fv,d.index);switch(d.lanes=0,d.tag){case 16:e:{l=d.pendingProps;var x=d.elementType,k=x._init;if(x=k(x._payload),d.type=x,typeof x=="function")n_(x)?(l=qd(x,l),d.tag=1,d=jR(null,d,x,l,m)):(d.tag=0,d=I2(null,d,x,l,m));else{if(x!=null){if(k=x.$$typeof,k===w){d.tag=11,d=vR(null,d,x,l,m);break e}else if(k===C){d.tag=14,d=xR(null,d,x,l,m);break e}}throw d=R(x)||x,Error(r(306,d,""))}}return d;case 0:return I2(l,d,d.type,d.pendingProps,m);case 1:return x=d.type,k=qd(x,d.pendingProps),jR(l,d,x,k,m);case 3:e:{if(Ye(d,d.stateNode.containerInfo),l===null)throw Error(r(387));var M=d.pendingProps;k=d.memoizedState,x=k.element,W2(l,d),Zp(d,M,null,m);var J=d.memoizedState;if(M=J.cache,yu(d,Ms,M),M!==k.cache&&H2(d,[Ms],m,!0),Qp(),M=J.element,k.isDehydrated)if(k={element:M,isDehydrated:!1,cache:J.cache},d.updateQueue.baseState=k,d.memoizedState=k,d.flags&256){d=SR(l,d,M,m);break e}else if(M!==x){x=co(Error(r(424)),d),Bp(x),d=SR(l,d,M,m);break e}else for(da=Ko(d.stateNode.containerInfo.firstChild),Xa=d,Gn=!0,Go=null,_l=!0,m=_4(d,null,M,m),d.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(Fp(),M===x){d=pc(l,d,m);break e}ha(l,d,M,m)}d=d.child}return d;case 26:return Yp(l,d),l===null?(m=kk(d.type,null,d.pendingProps,null))?d.memoizedState=m:Gn||(m=d.type,l=d.pendingProps,x=Gv(ct.current).createElement(m),x[le]=d,x[ue]=l,fa(x,m,l),at(x),d.stateNode=x):d.memoizedState=kk(d.type,l.memoizedProps,d.pendingProps,l.memoizedState),null;case 27:return Ze(d),l===null&&Gn&&(x=d.stateNode=Ak(d.type,d.pendingProps,ct.current),Xa=d,_l=!0,da=Ko(x.firstChild)),x=d.pendingProps.children,l!==null||Gn?ha(l,d,x,m):d.child=Md(d,null,x,m),Yp(l,d),d.child;case 5:return l===null&&Gn&&((k=x=da)&&(x=EY(x,d.type,d.pendingProps,_l),x!==null?(d.stateNode=x,Xa=d,da=Ko(x.firstChild),_l=!1,k=!0):k=!1),k||Dd(d)),Ze(d),k=d.type,M=d.pendingProps,J=l!==null?l.memoizedProps:null,x=M.children,T_(k,M)?x=null:J!==null&&T_(k,J)&&(d.flags|=32),d.memoizedState!==null&&(k=g2(l,d,UK,null,null,m),mg._currentValue=k),Yp(l,d),ha(l,d,x,m),d.child;case 6:return l===null&&Gn&&((l=m=da)&&(m=jY(m,d.pendingProps,_l),m!==null?(d.stateNode=m,Xa=d,da=null,l=!0):l=!1),l||Dd(d)),null;case 13:return CR(l,d,m);case 4:return Ye(d,d.stateNode.containerInfo),x=d.pendingProps,l===null?d.child=Md(d,null,x,m):ha(l,d,x,m),d.child;case 11:return vR(l,d,d.type,d.pendingProps,m);case 7:return ha(l,d,d.pendingProps,m),d.child;case 8:return ha(l,d,d.pendingProps.children,m),d.child;case 12:return ha(l,d,d.pendingProps.children,m),d.child;case 10:return x=d.pendingProps,yu(d,d.type,x.value),ha(l,d,x.children,m),d.child;case 9:return k=d.type._context,x=d.pendingProps.children,Vd(d),k=La(k),x=x(k),d.flags|=1,ha(l,d,x,m),d.child;case 14:return xR(l,d,d.type,d.pendingProps,m);case 15:return bR(l,d,d.type,d.pendingProps,m);case 19:return TR(l,d,m);case 22:return wR(l,d,m);case 24:return Vd(d),x=La(Ms),l===null?(k=m2(),k===null&&(k=br,M=h2(),k.pooledCache=M,M.refCount++,M!==null&&(k.pooledCacheLanes|=m),k=M),d.memoizedState={parent:x,cache:k},G2(d),yu(d,Ms,k)):(l.lanes&m&&(W2(l,d),Zp(d,null,null,m),Qp()),k=l.memoizedState,M=d.memoizedState,k.parent!==x?(k={parent:x,cache:x},d.memoizedState=k,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=k),yu(d,Ms,x)):(x=M.cache,yu(d,Ms,x),x!==k.cache&&H2(d,[Ms],m,!0))),ha(l,d,d.pendingProps.children,m),d.child;case 29:throw d.pendingProps}throw Error(r(156,d.tag))}var $2=je(null),$d=null,gc=null;function yu(l,d,m){_e($2,d._currentValue),d._currentValue=m}function yc(l){l._currentValue=$2.current,Ie($2)}function V2(l,d,m){for(;l!==null;){var x=l.alternate;if((l.childLanes&d)!==d?(l.childLanes|=d,x!==null&&(x.childLanes|=d)):x!==null&&(x.childLanes&d)!==d&&(x.childLanes|=d),l===m)break;l=l.return}}function H2(l,d,m,x){var k=l.child;for(k!==null&&(k.return=l);k!==null;){var M=k.dependencies;if(M!==null){var J=k.child;M=M.firstContext;e:for(;M!==null;){var oe=M;M=k;for(var ge=0;ge<d.length;ge++)if(oe.context===d[ge]){M.lanes|=m,oe=M.alternate,oe!==null&&(oe.lanes|=m),V2(M.return,m,l),x||(J=null);break e}M=oe.next}}else if(k.tag===18){if(J=k.return,J===null)throw Error(r(341));J.lanes|=m,M=J.alternate,M!==null&&(M.lanes|=m),V2(J,m,l),J=null}else J=k.child;if(J!==null)J.return=k;else for(J=k;J!==null;){if(J===l){J=null;break}if(k=J.sibling,k!==null){k.return=J.return,J=k;break}J=J.return}k=J}}function Xp(l,d,m,x){l=null;for(var k=d,M=!1;k!==null;){if(!M){if(k.flags&524288)M=!0;else if(k.flags&262144)break}if(k.tag===10){var J=k.alternate;if(J===null)throw Error(r(387));if(J=J.memoizedProps,J!==null){var oe=k.type;ki(k.pendingProps.value,J.value)||(l!==null?l.push(oe):l=[oe])}}else if(k===ut.current){if(J=k.alternate,J===null)throw Error(r(387));J.memoizedState.memoizedState!==k.memoizedState.memoizedState&&(l!==null?l.push(mg):l=[mg])}k=k.return}l!==null&&H2(d,l,m,x),d.flags|=262144}function Lv(l){for(l=l.firstContext;l!==null;){if(!ki(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function Vd(l){$d=l,gc=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function La(l){return LR($d,l)}function Rv(l,d){return $d===null&&Vd(l),LR(l,d)}function LR(l,d){var m=d._currentValue;if(d={context:d,memoizedValue:m,next:null},gc===null){if(l===null)throw Error(r(308));gc=d,l.dependencies={lanes:0,firstContext:d},l.flags|=524288}else gc=gc.next=d;return m}var vu=!1;function G2(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function W2(l,d){l=l.updateQueue,d.updateQueue===l&&(d.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function xu(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function bu(l,d,m){var x=l.updateQueue;if(x===null)return null;if(x=x.shared,Xr&2){var k=x.pending;return k===null?d.next=d:(d.next=k.next,k.next=d),x.pending=d,d=dv(l),d4(l,null,m),d}return uv(l,x,d,m),dv(l)}function Jp(l,d,m){if(d=d.updateQueue,d!==null&&(d=d.shared,(m&4194176)!==0)){var x=d.lanes;x&=l.pendingLanes,m|=x,d.lanes=m,ii(l,m)}}function K2(l,d){var m=l.updateQueue,x=l.alternate;if(x!==null&&(x=x.updateQueue,m===x)){var k=null,M=null;if(m=m.firstBaseUpdate,m!==null){do{var J={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};M===null?k=M=J:M=M.next=J,m=m.next}while(m!==null);M===null?k=M=d:M=M.next=d}else k=M=d;m={baseState:x.baseState,firstBaseUpdate:k,lastBaseUpdate:M,shared:x.shared,callbacks:x.callbacks},l.updateQueue=m;return}l=m.lastBaseUpdate,l===null?m.firstBaseUpdate=d:l.next=d,m.lastBaseUpdate=d}var Y2=!1;function Qp(){if(Y2){var l=yf;if(l!==null)throw l}}function Zp(l,d,m,x){Y2=!1;var k=l.updateQueue;vu=!1;var M=k.firstBaseUpdate,J=k.lastBaseUpdate,oe=k.shared.pending;if(oe!==null){k.shared.pending=null;var ge=oe,Se=ge.next;ge.next=null,J===null?M=Se:J.next=Se,J=ge;var Ge=l.alternate;Ge!==null&&(Ge=Ge.updateQueue,oe=Ge.lastBaseUpdate,oe!==J&&(oe===null?Ge.firstBaseUpdate=Se:oe.next=Se,Ge.lastBaseUpdate=ge))}if(M!==null){var rt=k.baseState;J=0,Ge=Se=ge=null,oe=M;do{var Pe=oe.lane&-536870913,He=Pe!==oe.lane;if(He?(Bn&Pe)===Pe:(x&Pe)===Pe){Pe!==0&&Pe===gf&&(Y2=!0),Ge!==null&&(Ge=Ge.next={lane:0,tag:oe.tag,payload:oe.payload,callback:null,next:null});e:{var At=l,cn=oe;Pe=d;var ls=m;switch(cn.tag){case 1:if(At=cn.payload,typeof At=="function"){rt=At.call(ls,rt,Pe);break e}rt=At;break e;case 3:At.flags=At.flags&-65537|128;case 0:if(At=cn.payload,Pe=typeof At=="function"?At.call(ls,rt,Pe):At,Pe==null)break e;rt=A({},rt,Pe);break e;case 2:vu=!0}}Pe=oe.callback,Pe!==null&&(l.flags|=64,He&&(l.flags|=8192),He=k.callbacks,He===null?k.callbacks=[Pe]:He.push(Pe))}else He={lane:Pe,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null},Ge===null?(Se=Ge=He,ge=rt):Ge=Ge.next=He,J|=Pe;if(oe=oe.next,oe===null){if(oe=k.shared.pending,oe===null)break;He=oe,oe=He.next,He.next=null,k.lastBaseUpdate=He,k.shared.pending=null}}while(!0);Ge===null&&(ge=rt),k.baseState=ge,k.firstBaseUpdate=Se,k.lastBaseUpdate=Ge,M===null&&(k.shared.lanes=0),Su|=J,l.lanes=J,l.memoizedState=rt}}function RR(l,d){if(typeof l!="function")throw Error(r(191,l));l.call(d)}function kR(l,d){var m=l.callbacks;if(m!==null)for(l.callbacks=null,l=0;l<m.length;l++)RR(m[l],d)}function eg(l,d){try{var m=d.updateQueue,x=m!==null?m.lastEffect:null;if(x!==null){var k=x.next;m=k;do{if((m.tag&l)===l){x=void 0;var M=m.create,J=m.inst;x=M(),J.destroy=x}m=m.next}while(m!==k)}}catch(oe){pr(d,d.return,oe)}}function wu(l,d,m){try{var x=d.updateQueue,k=x!==null?x.lastEffect:null;if(k!==null){var M=k.next;x=M;do{if((x.tag&l)===l){var J=x.inst,oe=J.destroy;if(oe!==void 0){J.destroy=void 0,k=d;var ge=m;try{oe()}catch(Se){pr(k,ge,Se)}}}x=x.next}while(x!==M)}}catch(Se){pr(d,d.return,Se)}}function OR(l){var d=l.updateQueue;if(d!==null){var m=l.stateNode;try{kR(d,m)}catch(x){pr(l,l.return,x)}}}function IR(l,d,m){m.props=qd(l.type,l.memoizedProps),m.state=l.memoizedState;try{m.componentWillUnmount()}catch(x){pr(l,d,x)}}function Hd(l,d){try{var m=l.ref;if(m!==null){var x=l.stateNode;switch(l.tag){case 26:case 27:case 5:var k=x;break;default:k=x}typeof m=="function"?l.refCleanup=m(k):m.current=k}}catch(M){pr(l,d,M)}}function Oi(l,d){var m=l.ref,x=l.refCleanup;if(m!==null)if(typeof x=="function")try{x()}catch(k){pr(l,d,k)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(k){pr(l,d,k)}else m.current=null}function PR(l){var d=l.type,m=l.memoizedProps,x=l.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":m.autoFocus&&x.focus();break e;case"img":m.src?x.src=m.src:m.srcSet&&(x.srcset=m.srcSet)}}catch(k){pr(l,l.return,k)}}function DR(l,d,m){try{var x=l.stateNode;vY(x,l.type,m,d),x[ue]=d}catch(k){pr(l,l.return,k)}}function MR(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27||l.tag===4}function X2(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||MR(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==27&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function J2(l,d,m){var x=l.tag;if(x===5||x===6)l=l.stateNode,d?m.nodeType===8?m.parentNode.insertBefore(l,d):m.insertBefore(l,d):(m.nodeType===8?(d=m.parentNode,d.insertBefore(l,m)):(d=m,d.appendChild(l)),m=m._reactRootContainer,m!=null||d.onclick!==null||(d.onclick=Hv));else if(x!==4&&x!==27&&(l=l.child,l!==null))for(J2(l,d,m),l=l.sibling;l!==null;)J2(l,d,m),l=l.sibling}function kv(l,d,m){var x=l.tag;if(x===5||x===6)l=l.stateNode,d?m.insertBefore(l,d):m.appendChild(l);else if(x!==4&&x!==27&&(l=l.child,l!==null))for(kv(l,d,m),l=l.sibling;l!==null;)kv(l,d,m),l=l.sibling}var vc=!1,is=!1,Q2=!1,FR=typeof WeakSet=="function"?WeakSet:Set,Ks=null,BR=!1;function KK(l,d){if(l=l.containerInfo,C_=Qv,l=n4(l),e2(l)){if("selectionStart"in l)var m={start:l.selectionStart,end:l.selectionEnd};else e:{m=(m=l.ownerDocument)&&m.defaultView||window;var x=m.getSelection&&m.getSelection();if(x&&x.rangeCount!==0){m=x.anchorNode;var k=x.anchorOffset,M=x.focusNode;x=x.focusOffset;try{m.nodeType,M.nodeType}catch{m=null;break e}var J=0,oe=-1,ge=-1,Se=0,Ge=0,rt=l,Pe=null;t:for(;;){for(var He;rt!==m||k!==0&&rt.nodeType!==3||(oe=J+k),rt!==M||x!==0&&rt.nodeType!==3||(ge=J+x),rt.nodeType===3&&(J+=rt.nodeValue.length),(He=rt.firstChild)!==null;)Pe=rt,rt=He;for(;;){if(rt===l)break t;if(Pe===m&&++Se===k&&(oe=J),Pe===M&&++Ge===x&&(ge=J),(He=rt.nextSibling)!==null)break;rt=Pe,Pe=rt.parentNode}rt=He}m=oe===-1||ge===-1?null:{start:oe,end:ge}}else m=null}m=m||{start:0,end:0}}else m=null;for(N_={focusedElem:l,selectionRange:m},Qv=!1,Ks=d;Ks!==null;)if(d=Ks,l=d.child,(d.subtreeFlags&1028)!==0&&l!==null)l.return=d,Ks=l;else for(;Ks!==null;){switch(d=Ks,M=d.alternate,l=d.flags,d.tag){case 0:break;case 11:case 15:break;case 1:if(l&1024&&M!==null){l=void 0,m=d,k=M.memoizedProps,M=M.memoizedState,x=m.stateNode;try{var At=qd(m.type,k,m.elementType===m.type);l=x.getSnapshotBeforeUpdate(At,M),x.__reactInternalSnapshotBeforeUpdate=l}catch(cn){pr(m,m.return,cn)}}break;case 3:if(l&1024){if(l=d.stateNode.containerInfo,m=l.nodeType,m===9)R_(l);else if(m===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":R_(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(l&1024)throw Error(r(163))}if(l=d.sibling,l!==null){l.return=d.return,Ks=l;break}Ks=d.return}return At=BR,BR=!1,At}function UR(l,d,m){var x=m.flags;switch(m.tag){case 0:case 11:case 15:bc(l,m),x&4&&eg(5,m);break;case 1:if(bc(l,m),x&4)if(l=m.stateNode,d===null)try{l.componentDidMount()}catch(oe){pr(m,m.return,oe)}else{var k=qd(m.type,d.memoizedProps);d=d.memoizedState;try{l.componentDidUpdate(k,d,l.__reactInternalSnapshotBeforeUpdate)}catch(oe){pr(m,m.return,oe)}}x&64&&OR(m),x&512&&Hd(m,m.return);break;case 3:if(bc(l,m),x&64&&(x=m.updateQueue,x!==null)){if(l=null,m.child!==null)switch(m.child.tag){case 27:case 5:l=m.child.stateNode;break;case 1:l=m.child.stateNode}try{kR(x,l)}catch(oe){pr(m,m.return,oe)}}break;case 26:bc(l,m),x&512&&Hd(m,m.return);break;case 27:case 5:bc(l,m),d===null&&x&4&&PR(m),x&512&&Hd(m,m.return);break;case 12:bc(l,m);break;case 13:bc(l,m),x&4&&$R(l,m);break;case 22:if(k=m.memoizedState!==null||vc,!k){d=d!==null&&d.memoizedState!==null||is;var M=vc,J=is;vc=k,(is=d)&&!J?_u(l,m,(m.subtreeFlags&8772)!==0):bc(l,m),vc=M,is=J}x&512&&(m.memoizedProps.mode==="manual"?Hd(m,m.return):Oi(m,m.return));break;default:bc(l,m)}}function zR(l){var d=l.alternate;d!==null&&(l.alternate=null,zR(d)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(d=l.stateNode,d!==null&&Oe(d)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var Cs=null,Ii=!1;function xc(l,d,m){for(m=m.child;m!==null;)qR(l,d,m),m=m.sibling}function qR(l,d,m){if(Vn&&typeof Vn.onCommitFiberUnmount=="function")try{Vn.onCommitFiberUnmount(Br,m)}catch{}switch(m.tag){case 26:is||Oi(m,d),xc(l,d,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:is||Oi(m,d);var x=Cs,k=Ii;for(Cs=m.stateNode,xc(l,d,m),m=m.stateNode,d=m.attributes;d.length;)m.removeAttributeNode(d[0]);Oe(m),Cs=x,Ii=k;break;case 5:is||Oi(m,d);case 6:k=Cs;var M=Ii;if(Cs=null,xc(l,d,m),Cs=k,Ii=M,Cs!==null)if(Ii)try{l=Cs,x=m.stateNode,l.nodeType===8?l.parentNode.removeChild(x):l.removeChild(x)}catch(J){pr(m,d,J)}else try{Cs.removeChild(m.stateNode)}catch(J){pr(m,d,J)}break;case 18:Cs!==null&&(Ii?(d=Cs,m=m.stateNode,d.nodeType===8?L_(d.parentNode,m):d.nodeType===1&&L_(d,m),vg(d)):L_(Cs,m.stateNode));break;case 4:x=Cs,k=Ii,Cs=m.stateNode.containerInfo,Ii=!0,xc(l,d,m),Cs=x,Ii=k;break;case 0:case 11:case 14:case 15:is||wu(2,m,d),is||wu(4,m,d),xc(l,d,m);break;case 1:is||(Oi(m,d),x=m.stateNode,typeof x.componentWillUnmount=="function"&&IR(m,d,x)),xc(l,d,m);break;case 21:xc(l,d,m);break;case 22:is||Oi(m,d),is=(x=is)||m.memoizedState!==null,xc(l,d,m),is=x;break;default:xc(l,d,m)}}function $R(l,d){if(d.memoizedState===null&&(l=d.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{vg(l)}catch(m){pr(d,d.return,m)}}function YK(l){switch(l.tag){case 13:case 19:var d=l.stateNode;return d===null&&(d=l.stateNode=new FR),d;case 22:return l=l.stateNode,d=l._retryCache,d===null&&(d=l._retryCache=new FR),d;default:throw Error(r(435,l.tag))}}function Z2(l,d){var m=YK(l);d.forEach(function(x){var k=lY.bind(null,l,x);m.has(x)||(m.add(x),x.then(k,k))})}function mo(l,d){var m=d.deletions;if(m!==null)for(var x=0;x<m.length;x++){var k=m[x],M=l,J=d,oe=J;e:for(;oe!==null;){switch(oe.tag){case 27:case 5:Cs=oe.stateNode,Ii=!1;break e;case 3:Cs=oe.stateNode.containerInfo,Ii=!0;break e;case 4:Cs=oe.stateNode.containerInfo,Ii=!0;break e}oe=oe.return}if(Cs===null)throw Error(r(160));qR(M,J,k),Cs=null,Ii=!1,M=k.alternate,M!==null&&(M.return=null),k.return=null}if(d.subtreeFlags&13878)for(d=d.child;d!==null;)VR(d,l),d=d.sibling}var Wo=null;function VR(l,d){var m=l.alternate,x=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:mo(d,l),po(l),x&4&&(wu(3,l,l.return),eg(3,l),wu(5,l,l.return));break;case 1:mo(d,l),po(l),x&512&&(is||m===null||Oi(m,m.return)),x&64&&vc&&(l=l.updateQueue,l!==null&&(x=l.callbacks,x!==null&&(m=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=m===null?x:m.concat(x))));break;case 26:var k=Wo;if(mo(d,l),po(l),x&512&&(is||m===null||Oi(m,m.return)),x&4){var M=m!==null?m.memoizedState:null;if(x=l.memoizedState,m===null)if(x===null)if(l.stateNode===null){e:{x=l.type,m=l.memoizedProps,k=k.ownerDocument||k;t:switch(x){case"title":M=k.getElementsByTagName("title")[0],(!M||M[Re]||M[le]||M.namespaceURI==="http://www.w3.org/2000/svg"||M.hasAttribute("itemprop"))&&(M=k.createElement(x),k.head.insertBefore(M,k.querySelector("head > title"))),fa(M,x,m),M[le]=l,at(M),x=M;break e;case"link":var J=Pk("link","href",k).get(x+(m.href||""));if(J){for(var oe=0;oe<J.length;oe++)if(M=J[oe],M.getAttribute("href")===(m.href==null?null:m.href)&&M.getAttribute("rel")===(m.rel==null?null:m.rel)&&M.getAttribute("title")===(m.title==null?null:m.title)&&M.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){J.splice(oe,1);break t}}M=k.createElement(x),fa(M,x,m),k.head.appendChild(M);break;case"meta":if(J=Pk("meta","content",k).get(x+(m.content||""))){for(oe=0;oe<J.length;oe++)if(M=J[oe],M.getAttribute("content")===(m.content==null?null:""+m.content)&&M.getAttribute("name")===(m.name==null?null:m.name)&&M.getAttribute("property")===(m.property==null?null:m.property)&&M.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&M.getAttribute("charset")===(m.charSet==null?null:m.charSet)){J.splice(oe,1);break t}}M=k.createElement(x),fa(M,x,m),k.head.appendChild(M);break;default:throw Error(r(468,x))}M[le]=l,at(M),x=M}l.stateNode=x}else Dk(k,l.type,l.stateNode);else l.stateNode=Ik(k,x,l.memoizedProps);else M!==x?(M===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):M.count--,x===null?Dk(k,l.type,l.stateNode):Ik(k,x,l.memoizedProps)):x===null&&l.stateNode!==null&&DR(l,l.memoizedProps,m.memoizedProps)}break;case 27:if(x&4&&l.alternate===null){k=l.stateNode,M=l.memoizedProps;try{for(var ge=k.firstChild;ge;){var Se=ge.nextSibling,Ge=ge.nodeName;ge[Re]||Ge==="HEAD"||Ge==="BODY"||Ge==="SCRIPT"||Ge==="STYLE"||Ge==="LINK"&&ge.rel.toLowerCase()==="stylesheet"||k.removeChild(ge),ge=Se}for(var rt=l.type,Pe=k.attributes;Pe.length;)k.removeAttributeNode(Pe[0]);fa(k,rt,M),k[le]=l,k[ue]=M}catch(At){pr(l,l.return,At)}}case 5:if(mo(d,l),po(l),x&512&&(is||m===null||Oi(m,m.return)),l.flags&32){k=l.stateNode;try{ss(k,"")}catch(At){pr(l,l.return,At)}}x&4&&l.stateNode!=null&&(k=l.memoizedProps,DR(l,k,m!==null?m.memoizedProps:k)),x&1024&&(Q2=!0);break;case 6:if(mo(d,l),po(l),x&4){if(l.stateNode===null)throw Error(r(162));x=l.memoizedProps,m=l.stateNode;try{m.nodeValue=x}catch(At){pr(l,l.return,At)}}break;case 3:if(Yv=null,k=Wo,Wo=Wv(d.containerInfo),mo(d,l),Wo=k,po(l),x&4&&m!==null&&m.memoizedState.isDehydrated)try{vg(d.containerInfo)}catch(At){pr(l,l.return,At)}Q2&&(Q2=!1,HR(l));break;case 4:x=Wo,Wo=Wv(l.stateNode.containerInfo),mo(d,l),po(l),Wo=x;break;case 12:mo(d,l),po(l);break;case 13:mo(d,l),po(l),l.child.flags&8192&&l.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(l_=We()),x&4&&(x=l.updateQueue,x!==null&&(l.updateQueue=null,Z2(l,x)));break;case 22:if(x&512&&(is||m===null||Oi(m,m.return)),ge=l.memoizedState!==null,Se=m!==null&&m.memoizedState!==null,Ge=vc,rt=is,vc=Ge||ge,is=rt||Se,mo(d,l),is=rt,vc=Ge,po(l),d=l.stateNode,d._current=l,d._visibility&=-3,d._visibility|=d._pendingVisibility&2,x&8192&&(d._visibility=ge?d._visibility&-2:d._visibility|1,ge&&(d=vc||is,m===null||Se||d||wf(l)),l.memoizedProps===null||l.memoizedProps.mode!=="manual"))e:for(m=null,d=l;;){if(d.tag===5||d.tag===26||d.tag===27){if(m===null){Se=m=d;try{if(k=Se.stateNode,ge)M=k.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{J=Se.stateNode,oe=Se.memoizedProps.style;var He=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;J.style.display=He==null||typeof He=="boolean"?"":(""+He).trim()}}catch(At){pr(Se,Se.return,At)}}}else if(d.tag===6){if(m===null){Se=d;try{Se.stateNode.nodeValue=ge?"":Se.memoizedProps}catch(At){pr(Se,Se.return,At)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===l)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break e;for(;d.sibling===null;){if(d.return===null||d.return===l)break e;m===d&&(m=null),d=d.return}m===d&&(m=null),d.sibling.return=d.return,d=d.sibling}x&4&&(x=l.updateQueue,x!==null&&(m=x.retryQueue,m!==null&&(x.retryQueue=null,Z2(l,m))));break;case 19:mo(d,l),po(l),x&4&&(x=l.updateQueue,x!==null&&(l.updateQueue=null,Z2(l,x)));break;case 21:break;default:mo(d,l),po(l)}}function po(l){var d=l.flags;if(d&2){try{if(l.tag!==27){e:{for(var m=l.return;m!==null;){if(MR(m)){var x=m;break e}m=m.return}throw Error(r(160))}switch(x.tag){case 27:var k=x.stateNode,M=X2(l);kv(l,M,k);break;case 5:var J=x.stateNode;x.flags&32&&(ss(J,""),x.flags&=-33);var oe=X2(l);kv(l,oe,J);break;case 3:case 4:var ge=x.stateNode.containerInfo,Se=X2(l);J2(l,Se,ge);break;default:throw Error(r(161))}}}catch(Ge){pr(l,l.return,Ge)}l.flags&=-3}d&4096&&(l.flags&=-4097)}function HR(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var d=l;HR(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),l=l.sibling}}function bc(l,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)UR(l,d.alternate,d),d=d.sibling}function wf(l){for(l=l.child;l!==null;){var d=l;switch(d.tag){case 0:case 11:case 14:case 15:wu(4,d,d.return),wf(d);break;case 1:Oi(d,d.return);var m=d.stateNode;typeof m.componentWillUnmount=="function"&&IR(d,d.return,m),wf(d);break;case 26:case 27:case 5:Oi(d,d.return),wf(d);break;case 22:Oi(d,d.return),d.memoizedState===null&&wf(d);break;default:wf(d)}l=l.sibling}}function _u(l,d,m){for(m=m&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var x=d.alternate,k=l,M=d,J=M.flags;switch(M.tag){case 0:case 11:case 15:_u(k,M,m),eg(4,M);break;case 1:if(_u(k,M,m),x=M,k=x.stateNode,typeof k.componentDidMount=="function")try{k.componentDidMount()}catch(Se){pr(x,x.return,Se)}if(x=M,k=x.updateQueue,k!==null){var oe=x.stateNode;try{var ge=k.shared.hiddenCallbacks;if(ge!==null)for(k.shared.hiddenCallbacks=null,k=0;k<ge.length;k++)RR(ge[k],oe)}catch(Se){pr(x,x.return,Se)}}m&&J&64&&OR(M),Hd(M,M.return);break;case 26:case 27:case 5:_u(k,M,m),m&&x===null&&J&4&&PR(M),Hd(M,M.return);break;case 12:_u(k,M,m);break;case 13:_u(k,M,m),m&&J&4&&$R(k,M);break;case 22:M.memoizedState===null&&_u(k,M,m),Hd(M,M.return);break;default:_u(k,M,m)}d=d.sibling}}function e_(l,d){var m=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),l=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(l=d.memoizedState.cachePool.pool),l!==m&&(l!=null&&l.refCount++,m!=null&&Vp(m))}function t_(l,d){l=null,d.alternate!==null&&(l=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==l&&(d.refCount++,l!=null&&Vp(l))}function Eu(l,d,m,x){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)GR(l,d,m,x),d=d.sibling}function GR(l,d,m,x){var k=d.flags;switch(d.tag){case 0:case 11:case 15:Eu(l,d,m,x),k&2048&&eg(9,d);break;case 3:Eu(l,d,m,x),k&2048&&(l=null,d.alternate!==null&&(l=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==l&&(d.refCount++,l!=null&&Vp(l)));break;case 12:if(k&2048){Eu(l,d,m,x),l=d.stateNode;try{var M=d.memoizedProps,J=M.id,oe=M.onPostCommit;typeof oe=="function"&&oe(J,d.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(ge){pr(d,d.return,ge)}}else Eu(l,d,m,x);break;case 23:break;case 22:M=d.stateNode,d.memoizedState!==null?M._visibility&4?Eu(l,d,m,x):tg(l,d):M._visibility&4?Eu(l,d,m,x):(M._visibility|=4,_f(l,d,m,x,(d.subtreeFlags&10256)!==0)),k&2048&&e_(d.alternate,d);break;case 24:Eu(l,d,m,x),k&2048&&t_(d.alternate,d);break;default:Eu(l,d,m,x)}}function _f(l,d,m,x,k){for(k=k&&(d.subtreeFlags&10256)!==0,d=d.child;d!==null;){var M=l,J=d,oe=m,ge=x,Se=J.flags;switch(J.tag){case 0:case 11:case 15:_f(M,J,oe,ge,k),eg(8,J);break;case 23:break;case 22:var Ge=J.stateNode;J.memoizedState!==null?Ge._visibility&4?_f(M,J,oe,ge,k):tg(M,J):(Ge._visibility|=4,_f(M,J,oe,ge,k)),k&&Se&2048&&e_(J.alternate,J);break;case 24:_f(M,J,oe,ge,k),k&&Se&2048&&t_(J.alternate,J);break;default:_f(M,J,oe,ge,k)}d=d.sibling}}function tg(l,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var m=l,x=d,k=x.flags;switch(x.tag){case 22:tg(m,x),k&2048&&e_(x.alternate,x);break;case 24:tg(m,x),k&2048&&t_(x.alternate,x);break;default:tg(m,x)}d=d.sibling}}var ng=8192;function Ef(l){if(l.subtreeFlags&ng)for(l=l.child;l!==null;)WR(l),l=l.sibling}function WR(l){switch(l.tag){case 26:Ef(l),l.flags&ng&&l.memoizedState!==null&&MY(Wo,l.memoizedState,l.memoizedProps);break;case 5:Ef(l);break;case 3:case 4:var d=Wo;Wo=Wv(l.stateNode.containerInfo),Ef(l),Wo=d;break;case 22:l.memoizedState===null&&(d=l.alternate,d!==null&&d.memoizedState!==null?(d=ng,ng=16777216,Ef(l),ng=d):Ef(l));break;default:Ef(l)}}function KR(l){var d=l.alternate;if(d!==null&&(l=d.child,l!==null)){d.child=null;do d=l.sibling,l.sibling=null,l=d;while(l!==null)}}function rg(l){var d=l.deletions;if(l.flags&16){if(d!==null)for(var m=0;m<d.length;m++){var x=d[m];Ks=x,XR(x,l)}KR(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)YR(l),l=l.sibling}function YR(l){switch(l.tag){case 0:case 11:case 15:rg(l),l.flags&2048&&wu(9,l,l.return);break;case 3:rg(l);break;case 12:rg(l);break;case 22:var d=l.stateNode;l.memoizedState!==null&&d._visibility&4&&(l.return===null||l.return.tag!==13)?(d._visibility&=-5,Ov(l)):rg(l);break;default:rg(l)}}function Ov(l){var d=l.deletions;if(l.flags&16){if(d!==null)for(var m=0;m<d.length;m++){var x=d[m];Ks=x,XR(x,l)}KR(l)}for(l=l.child;l!==null;){switch(d=l,d.tag){case 0:case 11:case 15:wu(8,d,d.return),Ov(d);break;case 22:m=d.stateNode,m._visibility&4&&(m._visibility&=-5,Ov(d));break;default:Ov(d)}l=l.sibling}}function XR(l,d){for(;Ks!==null;){var m=Ks;switch(m.tag){case 0:case 11:case 15:wu(8,m,d);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var x=m.memoizedState.cachePool.pool;x!=null&&x.refCount++}break;case 24:Vp(m.memoizedState.cache)}if(x=m.child,x!==null)x.return=m,Ks=x;else e:for(m=l;Ks!==null;){x=Ks;var k=x.sibling,M=x.return;if(zR(x),x===m){Ks=null;break e}if(k!==null){k.return=M,Ks=k;break e}Ks=M}}}function XK(l,d,m,x){this.tag=l,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function go(l,d,m,x){return new XK(l,d,m,x)}function n_(l){return l=l.prototype,!(!l||!l.isReactComponent)}function ju(l,d){var m=l.alternate;return m===null?(m=go(l.tag,d,l.key,l.mode),m.elementType=l.elementType,m.type=l.type,m.stateNode=l.stateNode,m.alternate=l,l.alternate=m):(m.pendingProps=d,m.type=l.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=l.flags&31457280,m.childLanes=l.childLanes,m.lanes=l.lanes,m.child=l.child,m.memoizedProps=l.memoizedProps,m.memoizedState=l.memoizedState,m.updateQueue=l.updateQueue,d=l.dependencies,m.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},m.sibling=l.sibling,m.index=l.index,m.ref=l.ref,m.refCleanup=l.refCleanup,m}function JR(l,d){l.flags&=31457282;var m=l.alternate;return m===null?(l.childLanes=0,l.lanes=d,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=m.childLanes,l.lanes=m.lanes,l.child=m.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=m.memoizedProps,l.memoizedState=m.memoizedState,l.updateQueue=m.updateQueue,l.type=m.type,d=m.dependencies,l.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),l}function Iv(l,d,m,x,k,M){var J=0;if(x=l,typeof l=="function")n_(l)&&(J=1);else if(typeof l=="string")J=PY(l,m,Ue.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case u:return Gd(m.children,k,M,d);case h:J=8,k|=24;break;case f:return l=go(12,m,d,k|2),l.elementType=f,l.lanes=M,l;case E:return l=go(13,m,d,k),l.elementType=E,l.lanes=M,l;case j:return l=go(19,m,d,k),l.elementType=j,l.lanes=M,l;case I:return QR(m,k,M,d);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case g:case y:J=10;break e;case p:J=9;break e;case w:J=11;break e;case C:J=14;break e;case O:J=16,x=null;break e}J=29,m=Error(r(130,l===null?"null":typeof l,"")),x=null}return d=go(J,m,d,k),d.elementType=l,d.type=x,d.lanes=M,d}function Gd(l,d,m,x){return l=go(7,l,x,d),l.lanes=m,l}function QR(l,d,m,x){l=go(22,l,x,d),l.elementType=I,l.lanes=m;var k={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var M=k._current;if(M===null)throw Error(r(456));if(!(k._pendingVisibility&2)){var J=hu(M,2);J!==null&&(k._pendingVisibility|=2,Ja(J,M,2))}},attach:function(){var M=k._current;if(M===null)throw Error(r(456));if(k._pendingVisibility&2){var J=hu(M,2);J!==null&&(k._pendingVisibility&=-3,Ja(J,M,2))}}};return l.stateNode=k,l}function r_(l,d,m){return l=go(6,l,null,d),l.lanes=m,l}function s_(l,d,m){return d=go(4,l.children!==null?l.children:[],l.key,d),d.lanes=m,d.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},d}function wc(l){l.flags|=4}function ZR(l,d){if(d.type!=="stylesheet"||d.state.loading&4)l.flags&=-16777217;else if(l.flags|=16777216,!Mk(d)){if(d=fo.current,d!==null&&((Bn&4194176)===Bn?El!==null:(Bn&62914560)!==Bn&&!(Bn&536870912)||d!==El))throw zp=c2,g4;l.flags|=8192}}function Pv(l,d){d!==null&&(l.flags|=4),l.flags&16384&&(d=l.tag!==22?ts():536870912,l.lanes|=d,Sf|=d)}function sg(l,d){if(!Gn)switch(l.tailMode){case"hidden":d=l.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?l.tail=null:m.sibling=null;break;case"collapsed":m=l.tail;for(var x=null;m!==null;)m.alternate!==null&&(x=m),m=m.sibling;x===null?d||l.tail===null?l.tail=null:l.tail.sibling=null:x.sibling=null}}function Yr(l){var d=l.alternate!==null&&l.alternate.child===l.child,m=0,x=0;if(d)for(var k=l.child;k!==null;)m|=k.lanes|k.childLanes,x|=k.subtreeFlags&31457280,x|=k.flags&31457280,k.return=l,k=k.sibling;else for(k=l.child;k!==null;)m|=k.lanes|k.childLanes,x|=k.subtreeFlags,x|=k.flags,k.return=l,k=k.sibling;return l.subtreeFlags|=x,l.childLanes=m,d}function JK(l,d,m){var x=d.pendingProps;switch(o2(d),d.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yr(d),null;case 1:return Yr(d),null;case 3:return m=d.stateNode,x=null,l!==null&&(x=l.memoizedState.cache),d.memoizedState.cache!==x&&(d.flags|=2048),yc(Ms),jt(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(l===null||l.child===null)&&(Mp(d)?wc(d):l===null||l.memoizedState.isDehydrated&&!(d.flags&256)||(d.flags|=1024,Go!==null&&(h_(Go),Go=null))),Yr(d),null;case 26:return m=d.memoizedState,l===null?(wc(d),m!==null?(Yr(d),ZR(d,m)):(Yr(d),d.flags&=-16777217)):m?m!==l.memoizedState?(wc(d),Yr(d),ZR(d,m)):(Yr(d),d.flags&=-16777217):(l.memoizedProps!==x&&wc(d),Yr(d),d.flags&=-16777217),null;case 27:Ut(d),m=ct.current;var k=d.type;if(l!==null&&d.stateNode!=null)l.memoizedProps!==x&&wc(d);else{if(!x){if(d.stateNode===null)throw Error(r(166));return Yr(d),null}l=Ue.current,Mp(d)?m4(d):(l=Ak(k,x,m),d.stateNode=l,wc(d))}return Yr(d),null;case 5:if(Ut(d),m=d.type,l!==null&&d.stateNode!=null)l.memoizedProps!==x&&wc(d);else{if(!x){if(d.stateNode===null)throw Error(r(166));return Yr(d),null}if(l=Ue.current,Mp(d))m4(d);else{switch(k=Gv(ct.current),l){case 1:l=k.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:l=k.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":l=k.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":l=k.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":l=k.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l=typeof x.is=="string"?k.createElement("select",{is:x.is}):k.createElement("select"),x.multiple?l.multiple=!0:x.size&&(l.size=x.size);break;default:l=typeof x.is=="string"?k.createElement(m,{is:x.is}):k.createElement(m)}}l[le]=d,l[ue]=x;e:for(k=d.child;k!==null;){if(k.tag===5||k.tag===6)l.appendChild(k.stateNode);else if(k.tag!==4&&k.tag!==27&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===d)break e;for(;k.sibling===null;){if(k.return===null||k.return===d)break e;k=k.return}k.sibling.return=k.return,k=k.sibling}d.stateNode=l;e:switch(fa(l,m,x),m){case"button":case"input":case"select":case"textarea":l=!!x.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&wc(d)}}return Yr(d),d.flags&=-16777217,null;case 6:if(l&&d.stateNode!=null)l.memoizedProps!==x&&wc(d);else{if(typeof x!="string"&&d.stateNode===null)throw Error(r(166));if(l=ct.current,Mp(d)){if(l=d.stateNode,m=d.memoizedProps,x=null,k=Xa,k!==null)switch(k.tag){case 27:case 5:x=k.memoizedProps}l[le]=d,l=!!(l.nodeValue===m||x!==null&&x.suppressHydrationWarning===!0||Ek(l.nodeValue,m)),l||Dd(d)}else l=Gv(l).createTextNode(x),l[le]=d,d.stateNode=l}return Yr(d),null;case 13:if(x=d.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(k=Mp(d),x!==null&&x.dehydrated!==null){if(l===null){if(!k)throw Error(r(318));if(k=d.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(r(317));k[le]=d}else Fp(),!(d.flags&128)&&(d.memoizedState=null),d.flags|=4;Yr(d),k=!1}else Go!==null&&(h_(Go),Go=null),k=!0;if(!k)return d.flags&256?(fc(d),d):(fc(d),null)}if(fc(d),d.flags&128)return d.lanes=m,d;if(m=x!==null,l=l!==null&&l.memoizedState!==null,m){x=d.child,k=null,x.alternate!==null&&x.alternate.memoizedState!==null&&x.alternate.memoizedState.cachePool!==null&&(k=x.alternate.memoizedState.cachePool.pool);var M=null;x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(M=x.memoizedState.cachePool.pool),M!==k&&(x.flags|=2048)}return m!==l&&m&&(d.child.flags|=8192),Pv(d,d.updateQueue),Yr(d),null;case 4:return jt(),l===null&&E_(d.stateNode.containerInfo),Yr(d),null;case 10:return yc(d.type),Yr(d),null;case 19:if(Ie(Ds),k=d.memoizedState,k===null)return Yr(d),null;if(x=(d.flags&128)!==0,M=k.rendering,M===null)if(x)sg(k,!1);else{if(os!==0||l!==null&&l.flags&128)for(l=d.child;l!==null;){if(M=vv(l),M!==null){for(d.flags|=128,sg(k,!1),l=M.updateQueue,d.updateQueue=l,Pv(d,l),d.subtreeFlags=0,l=m,m=d.child;m!==null;)JR(m,l),m=m.sibling;return _e(Ds,Ds.current&1|2),d.child}l=l.sibling}k.tail!==null&&We()>Dv&&(d.flags|=128,x=!0,sg(k,!1),d.lanes=4194304)}else{if(!x)if(l=vv(M),l!==null){if(d.flags|=128,x=!0,l=l.updateQueue,d.updateQueue=l,Pv(d,l),sg(k,!0),k.tail===null&&k.tailMode==="hidden"&&!M.alternate&&!Gn)return Yr(d),null}else 2*We()-k.renderingStartTime>Dv&&m!==536870912&&(d.flags|=128,x=!0,sg(k,!1),d.lanes=4194304);k.isBackwards?(M.sibling=d.child,d.child=M):(l=k.last,l!==null?l.sibling=M:d.child=M,k.last=M)}return k.tail!==null?(d=k.tail,k.rendering=d,k.tail=d.sibling,k.renderingStartTime=We(),d.sibling=null,l=Ds.current,_e(Ds,x?l&1|2:l&1),d):(Yr(d),null);case 22:case 23:return fc(d),d2(),x=d.memoizedState!==null,l!==null?l.memoizedState!==null!==x&&(d.flags|=8192):x&&(d.flags|=8192),x?m&536870912&&!(d.flags&128)&&(Yr(d),d.subtreeFlags&6&&(d.flags|=8192)):Yr(d),m=d.updateQueue,m!==null&&Pv(d,m.retryQueue),m=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),x=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(x=d.memoizedState.cachePool.pool),x!==m&&(d.flags|=2048),l!==null&&Ie(Fd),null;case 24:return m=null,l!==null&&(m=l.memoizedState.cache),d.memoizedState.cache!==m&&(d.flags|=2048),yc(Ms),Yr(d),null;case 25:return null}throw Error(r(156,d.tag))}function QK(l,d){switch(o2(d),d.tag){case 1:return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 3:return yc(Ms),jt(),l=d.flags,l&65536&&!(l&128)?(d.flags=l&-65537|128,d):null;case 26:case 27:case 5:return Ut(d),null;case 13:if(fc(d),l=d.memoizedState,l!==null&&l.dehydrated!==null){if(d.alternate===null)throw Error(r(340));Fp()}return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 19:return Ie(Ds),null;case 4:return jt(),null;case 10:return yc(d.type),null;case 22:case 23:return fc(d),d2(),l!==null&&Ie(Fd),l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 24:return yc(Ms),null;case 25:return null;default:return null}}function ek(l,d){switch(o2(d),d.tag){case 3:yc(Ms),jt();break;case 26:case 27:case 5:Ut(d);break;case 4:jt();break;case 13:fc(d);break;case 19:Ie(Ds);break;case 10:yc(d.type);break;case 22:case 23:fc(d),d2(),l!==null&&Ie(Fd);break;case 24:yc(Ms)}}var ZK={getCacheForType:function(l){var d=La(Ms),m=d.data.get(l);return m===void 0&&(m=l(),d.data.set(l,m)),m}},eY=typeof WeakMap=="function"?WeakMap:Map,Xr=0,br=null,Nn=null,Bn=0,wr=0,Pi=null,_c=!1,jf=!1,a_=!1,Ec=0,os=0,Su=0,Wd=0,i_=0,yo=0,Sf=0,ag=null,Sl=null,o_=!1,l_=0,Dv=1/0,Mv=null,Cu=null,Fv=!1,Kd=null,ig=0,c_=0,u_=null,og=0,d_=null;function Di(){if(Xr&2&&Bn!==0)return Bn&-Bn;if(b.T!==null){var l=gf;return l!==0?l:x_()}return no()}function tk(){yo===0&&(yo=!(Bn&536870912)||Gn?Hs():536870912);var l=fo.current;return l!==null&&(l.flags|=32),yo}function Ja(l,d,m){(l===br&&wr===2||l.cancelPendingCommit!==null)&&(Cf(l,0),jc(l,Bn,yo,!1)),bn(l,m),(!(Xr&2)||l!==br)&&(l===br&&(!(Xr&2)&&(Wd|=m),os===4&&jc(l,Bn,yo,!1)),Cl(l))}function nk(l,d,m){if(Xr&6)throw Error(r(327));var x=!m&&(d&60)===0&&(d&l.expiredLanes)===0||gs(l,d),k=x?rY(l,d):p_(l,d,!0),M=x;do{if(k===0){jf&&!x&&jc(l,d,0,!1);break}else if(k===6)jc(l,d,0,!_c);else{if(m=l.current.alternate,M&&!tY(m)){k=p_(l,d,!1),M=!1;continue}if(k===2){if(M=d,l.errorRecoveryDisabledLanes&M)var J=0;else J=l.pendingLanes&-536870913,J=J!==0?J:J&536870912?536870912:0;if(J!==0){d=J;e:{var oe=l;k=ag;var ge=oe.current.memoizedState.isDehydrated;if(ge&&(Cf(oe,J).flags|=256),J=p_(oe,J,!1),J!==2){if(a_&&!ge){oe.errorRecoveryDisabledLanes|=M,Wd|=M,k=4;break e}M=Sl,Sl=k,M!==null&&h_(M)}k=J}if(M=!1,k!==2)continue}}if(k===1){Cf(l,0),jc(l,d,0,!0);break}e:{switch(x=l,k){case 0:case 1:throw Error(r(345));case 4:if((d&4194176)===d){jc(x,d,yo,!_c);break e}break;case 2:Sl=null;break;case 3:case 5:break;default:throw Error(r(329))}if(x.finishedWork=m,x.finishedLanes=d,(d&62914560)===d&&(M=l_+300-We(),10<M)){if(jc(x,d,yo,!_c),Cr(x,0)!==0)break e;x.timeoutHandle=Ck(rk.bind(null,x,m,Sl,Mv,o_,d,yo,Wd,Sf,_c,2,-0,0),M);break e}rk(x,m,Sl,Mv,o_,d,yo,Wd,Sf,_c,0,-0,0)}}break}while(!0);Cl(l)}function h_(l){Sl===null?Sl=l:Sl.push.apply(Sl,l)}function rk(l,d,m,x,k,M,J,oe,ge,Se,Ge,rt,Pe){var He=d.subtreeFlags;if((He&8192||(He&16785408)===16785408)&&(fg={stylesheets:null,count:0,unsuspend:DY},WR(d),d=FY(),d!==null)){l.cancelPendingCommit=d(uk.bind(null,l,m,x,k,J,oe,ge,1,rt,Pe)),jc(l,M,J,!Se);return}uk(l,m,x,k,J,oe,ge,Ge,rt,Pe)}function tY(l){for(var d=l;;){var m=d.tag;if((m===0||m===11||m===15)&&d.flags&16384&&(m=d.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var x=0;x<m.length;x++){var k=m[x],M=k.getSnapshot;k=k.value;try{if(!ki(M(),k))return!1}catch{return!1}}if(m=d.child,d.subtreeFlags&16384&&m!==null)m.return=d,d=m;else{if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function jc(l,d,m,x){d&=~i_,d&=~Wd,l.suspendedLanes|=d,l.pingedLanes&=~d,x&&(l.warmLanes|=d),x=l.expirationTimes;for(var k=d;0<k;){var M=31-Hn(k),J=1<<M;x[M]=-1,k&=~J}m!==0&&Ca(l,m,d)}function Bv(){return Xr&6?!0:(lg(0),!1)}function f_(){if(Nn!==null){if(wr===0)var l=Nn.return;else l=Nn,gc=$d=null,x2(l),mf=null,qp=0,l=Nn;for(;l!==null;)ek(l.alternate,l),l=l.return;Nn=null}}function Cf(l,d){l.finishedWork=null,l.finishedLanes=0;var m=l.timeoutHandle;m!==-1&&(l.timeoutHandle=-1,bY(m)),m=l.cancelPendingCommit,m!==null&&(l.cancelPendingCommit=null,m()),f_(),br=l,Nn=m=ju(l.current,null),Bn=d,wr=0,Pi=null,_c=!1,jf=gs(l,d),a_=!1,Sf=yo=i_=Wd=Su=os=0,Sl=ag=null,o_=!1,d&8&&(d|=d&32);var x=l.entangledLanes;if(x!==0)for(l=l.entanglements,x&=d;0<x;){var k=31-Hn(x),M=1<<k;d|=l[k],x&=~M}return Ec=d,cv(),m}function sk(l,d){_n=null,b.H=jl,d===Up?(d=x4(),wr=3):d===g4?(d=x4(),wr=4):wr=d===yR?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,Pi=d,Nn===null&&(os=1,Av(l,co(d,l.current)))}function ak(){var l=b.H;return b.H=jl,l===null?jl:l}function ik(){var l=b.A;return b.A=ZK,l}function m_(){os=4,_c||(Bn&4194176)!==Bn&&fo.current!==null||(jf=!0),!(Su&134217727)&&!(Wd&134217727)||br===null||jc(br,Bn,yo,!1)}function p_(l,d,m){var x=Xr;Xr|=2;var k=ak(),M=ik();(br!==l||Bn!==d)&&(Mv=null,Cf(l,d)),d=!1;var J=os;e:do try{if(wr!==0&&Nn!==null){var oe=Nn,ge=Pi;switch(wr){case 8:f_(),J=6;break e;case 3:case 2:case 6:fo.current===null&&(d=!0);var Se=wr;if(wr=0,Pi=null,Nf(l,oe,ge,Se),m&&jf){J=0;break e}break;default:Se=wr,wr=0,Pi=null,Nf(l,oe,ge,Se)}}nY(),J=os;break}catch(Ge){sk(l,Ge)}while(!0);return d&&l.shellSuspendCounter++,gc=$d=null,Xr=x,b.H=k,b.A=M,Nn===null&&(br=null,Bn=0,cv()),J}function nY(){for(;Nn!==null;)ok(Nn)}function rY(l,d){var m=Xr;Xr|=2;var x=ak(),k=ik();br!==l||Bn!==d?(Mv=null,Dv=We()+500,Cf(l,d)):jf=gs(l,d);e:do try{if(wr!==0&&Nn!==null){d=Nn;var M=Pi;t:switch(wr){case 1:wr=0,Pi=null,Nf(l,d,M,1);break;case 2:if(y4(M)){wr=0,Pi=null,lk(d);break}d=function(){wr===2&&br===l&&(wr=7),Cl(l)},M.then(d,d);break e;case 3:wr=7;break e;case 4:wr=5;break e;case 7:y4(M)?(wr=0,Pi=null,lk(d)):(wr=0,Pi=null,Nf(l,d,M,7));break;case 5:var J=null;switch(Nn.tag){case 26:J=Nn.memoizedState;case 5:case 27:var oe=Nn;if(!J||Mk(J)){wr=0,Pi=null;var ge=oe.sibling;if(ge!==null)Nn=ge;else{var Se=oe.return;Se!==null?(Nn=Se,Uv(Se)):Nn=null}break t}}wr=0,Pi=null,Nf(l,d,M,5);break;case 6:wr=0,Pi=null,Nf(l,d,M,6);break;case 8:f_(),os=6;break e;default:throw Error(r(462))}}sY();break}catch(Ge){sk(l,Ge)}while(!0);return gc=$d=null,b.H=x,b.A=k,Xr=m,Nn!==null?0:(br=null,Bn=0,cv(),os)}function sY(){for(;Nn!==null&&!ur();)ok(Nn)}function ok(l){var d=AR(l.alternate,l,Ec);l.memoizedProps=l.pendingProps,d===null?Uv(l):Nn=d}function lk(l){var d=l,m=d.alternate;switch(d.tag){case 15:case 0:d=ER(m,d,d.pendingProps,d.type,void 0,Bn);break;case 11:d=ER(m,d,d.pendingProps,d.type.render,d.ref,Bn);break;case 5:x2(d);default:ek(m,d),d=Nn=JR(d,Ec),d=AR(m,d,Ec)}l.memoizedProps=l.pendingProps,d===null?Uv(l):Nn=d}function Nf(l,d,m,x){gc=$d=null,x2(d),mf=null,qp=0;var k=d.return;try{if(GK(l,k,d,m,Bn)){os=1,Av(l,co(m,l.current)),Nn=null;return}}catch(M){if(k!==null)throw Nn=k,M;os=1,Av(l,co(m,l.current)),Nn=null;return}d.flags&32768?(Gn||x===1?l=!0:jf||Bn&536870912?l=!1:(_c=l=!0,(x===2||x===3||x===6)&&(x=fo.current,x!==null&&x.tag===13&&(x.flags|=16384))),ck(d,l)):Uv(d)}function Uv(l){var d=l;do{if(d.flags&32768){ck(d,_c);return}l=d.return;var m=JK(d.alternate,d,Ec);if(m!==null){Nn=m;return}if(d=d.sibling,d!==null){Nn=d;return}Nn=d=l}while(d!==null);os===0&&(os=5)}function ck(l,d){do{var m=QK(l.alternate,l);if(m!==null){m.flags&=32767,Nn=m;return}if(m=l.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!d&&(l=l.sibling,l!==null)){Nn=l;return}Nn=l=m}while(l!==null);os=6,Nn=null}function uk(l,d,m,x,k,M,J,oe,ge,Se){var Ge=b.T,rt=te.p;try{te.p=2,b.T=null,aY(l,d,m,x,rt,k,M,J,oe,ge,Se)}finally{b.T=Ge,te.p=rt}}function aY(l,d,m,x,k,M,J,oe){do Tf();while(Kd!==null);if(Xr&6)throw Error(r(327));var ge=l.finishedWork;if(x=l.finishedLanes,ge===null)return null;if(l.finishedWork=null,l.finishedLanes=0,ge===l.current)throw Error(r(177));l.callbackNode=null,l.callbackPriority=0,l.cancelPendingCommit=null;var Se=ge.lanes|ge.childLanes;if(Se|=s2,Ft(l,x,Se,M,J,oe),l===br&&(Nn=br=null,Bn=0),!(ge.subtreeFlags&10256)&&!(ge.flags&10256)||Fv||(Fv=!0,c_=Se,u_=m,cY(on,function(){return Tf(),null})),m=(ge.flags&15990)!==0,ge.subtreeFlags&15990||m?(m=b.T,b.T=null,M=te.p,te.p=2,J=Xr,Xr|=4,KK(l,ge),VR(ge,l),AK(N_,l.containerInfo),Qv=!!C_,N_=C_=null,l.current=ge,UR(l,ge.alternate,ge),sr(),Xr=J,te.p=M,b.T=m):l.current=ge,Fv?(Fv=!1,Kd=l,ig=x):dk(l,Se),Se=l.pendingLanes,Se===0&&(Cu=null),Ur(ge.stateNode),Cl(l),d!==null)for(k=l.onRecoverableError,ge=0;ge<d.length;ge++)Se=d[ge],k(Se.value,{componentStack:Se.stack});return ig&3&&Tf(),Se=l.pendingLanes,x&4194218&&Se&42?l===d_?og++:(og=0,d_=l):og=0,lg(0),null}function dk(l,d){(l.pooledCacheLanes&=d)===0&&(d=l.pooledCache,d!=null&&(l.pooledCache=null,Vp(d)))}function Tf(){if(Kd!==null){var l=Kd,d=c_;c_=0;var m=Bo(ig),x=b.T,k=te.p;try{if(te.p=32>m?32:m,b.T=null,Kd===null)var M=!1;else{m=u_,u_=null;var J=Kd,oe=ig;if(Kd=null,ig=0,Xr&6)throw Error(r(331));var ge=Xr;if(Xr|=4,YR(J.current),GR(J,J.current,oe,m),Xr=ge,lg(0,!1),Vn&&typeof Vn.onPostCommitFiberRoot=="function")try{Vn.onPostCommitFiberRoot(Br,J)}catch{}M=!0}return M}finally{te.p=k,b.T=x,dk(l,d)}}return!1}function hk(l,d,m){d=co(m,d),d=O2(l.stateNode,d,2),l=bu(l,d,2),l!==null&&(bn(l,2),Cl(l))}function pr(l,d,m){if(l.tag===3)hk(l,l,m);else for(;d!==null;){if(d.tag===3){hk(d,l,m);break}else if(d.tag===1){var x=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(Cu===null||!Cu.has(x))){l=co(m,l),m=pR(2),x=bu(d,m,2),x!==null&&(gR(m,x,d,l),bn(x,2),Cl(x));break}}d=d.return}}function g_(l,d,m){var x=l.pingCache;if(x===null){x=l.pingCache=new eY;var k=new Set;x.set(d,k)}else k=x.get(d),k===void 0&&(k=new Set,x.set(d,k));k.has(m)||(a_=!0,k.add(m),l=iY.bind(null,l,d,m),d.then(l,l))}function iY(l,d,m){var x=l.pingCache;x!==null&&x.delete(d),l.pingedLanes|=l.suspendedLanes&m,l.warmLanes&=~m,br===l&&(Bn&m)===m&&(os===4||os===3&&(Bn&62914560)===Bn&&300>We()-l_?!(Xr&2)&&Cf(l,0):i_|=m,Sf===Bn&&(Sf=0)),Cl(l)}function fk(l,d){d===0&&(d=ts()),l=hu(l,d),l!==null&&(bn(l,d),Cl(l))}function oY(l){var d=l.memoizedState,m=0;d!==null&&(m=d.retryLane),fk(l,m)}function lY(l,d){var m=0;switch(l.tag){case 13:var x=l.stateNode,k=l.memoizedState;k!==null&&(m=k.retryLane);break;case 19:x=l.stateNode;break;case 22:x=l.stateNode._retryCache;break;default:throw Error(r(314))}x!==null&&x.delete(d),fk(l,m)}function cY(l,d){return fn(l,d)}var zv=null,Af=null,y_=!1,qv=!1,v_=!1,Yd=0;function Cl(l){l!==Af&&l.next===null&&(Af===null?zv=Af=l:Af=Af.next=l),qv=!0,y_||(y_=!0,dY(uY))}function lg(l,d){if(!v_&&qv){v_=!0;do for(var m=!1,x=zv;x!==null;){if(l!==0){var k=x.pendingLanes;if(k===0)var M=0;else{var J=x.suspendedLanes,oe=x.pingedLanes;M=(1<<31-Hn(42|l)+1)-1,M&=k&~(J&~oe),M=M&201326677?M&201326677|1:M?M|2:0}M!==0&&(m=!0,gk(x,M))}else M=Bn,M=Cr(x,x===br?M:0),!(M&3)||gs(x,M)||(m=!0,gk(x,M));x=x.next}while(m);v_=!1}}function uY(){qv=y_=!1;var l=0;Yd!==0&&(xY()&&(l=Yd),Yd=0);for(var d=We(),m=null,x=zv;x!==null;){var k=x.next,M=mk(x,d);M===0?(x.next=null,m===null?zv=k:m.next=k,k===null&&(Af=m)):(m=x,(l!==0||M&3)&&(qv=!0)),x=k}lg(l)}function mk(l,d){for(var m=l.suspendedLanes,x=l.pingedLanes,k=l.expirationTimes,M=l.pendingLanes&-62914561;0<M;){var J=31-Hn(M),oe=1<<J,ge=k[J];ge===-1?(!(oe&m)||oe&x)&&(k[J]=aa(oe,d)):ge<=d&&(l.expiredLanes|=oe),M&=~oe}if(d=br,m=Bn,m=Cr(l,l===d?m:0),x=l.callbackNode,m===0||l===d&&wr===2||l.cancelPendingCommit!==null)return x!==null&&x!==null&&yn(x),l.callbackNode=null,l.callbackPriority=0;if(!(m&3)||gs(l,m)){if(d=m&-m,d===l.callbackPriority)return d;switch(x!==null&&yn(x),Bo(m)){case 2:case 8:m=Rt;break;case 32:m=on;break;case 268435456:m=Jn;break;default:m=on}return x=pk.bind(null,l),m=fn(m,x),l.callbackPriority=d,l.callbackNode=m,d}return x!==null&&x!==null&&yn(x),l.callbackPriority=2,l.callbackNode=null,2}function pk(l,d){var m=l.callbackNode;if(Tf()&&l.callbackNode!==m)return null;var x=Bn;return x=Cr(l,l===br?x:0),x===0?null:(nk(l,x,d),mk(l,We()),l.callbackNode!=null&&l.callbackNode===m?pk.bind(null,l):null)}function gk(l,d){if(Tf())return null;nk(l,d,!0)}function dY(l){wY(function(){Xr&6?fn(Dt,l):l()})}function x_(){return Yd===0&&(Yd=Hs()),Yd}function yk(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:oi(""+l)}function vk(l,d){var m=d.ownerDocument.createElement("input");return m.name=d.name,m.value=d.value,l.id&&m.setAttribute("form",l.id),d.parentNode.insertBefore(m,d),l=new FormData(l),m.parentNode.removeChild(m),l}function hY(l,d,m,x,k){if(d==="submit"&&m&&m.stateNode===k){var M=yk((k[ue]||null).action),J=x.submitter;J&&(d=(d=J[ue]||null)?yk(d.formAction):J.getAttribute("formAction"),d!==null&&(M=d,J=null));var oe=new Be("action","action",null,x,k);l.push({event:oe,listeners:[{instance:null,listener:function(){if(x.defaultPrevented){if(Yd!==0){var ge=J?vk(k,J):new FormData(k);T2(m,{pending:!0,data:ge,method:k.method,action:M},null,ge)}}else typeof M=="function"&&(oe.preventDefault(),ge=J?vk(k,J):new FormData(k),T2(m,{pending:!0,data:ge,method:k.method,action:M},M,ge))},currentTarget:k}]})}}for(var b_=0;b_<u4.length;b_++){var w_=u4[b_],fY=w_.toLowerCase(),mY=w_[0].toUpperCase()+w_.slice(1);Ho(fY,"on"+mY)}Ho(a4,"onAnimationEnd"),Ho(i4,"onAnimationIteration"),Ho(o4,"onAnimationStart"),Ho("dblclick","onDoubleClick"),Ho("focusin","onFocus"),Ho("focusout","onBlur"),Ho(RK,"onTransitionRun"),Ho(kK,"onTransitionStart"),Ho(OK,"onTransitionCancel"),Ho(l4,"onTransitionEnd"),An("onMouseEnter",["mouseout","mouseover"]),An("onMouseLeave",["mouseout","mouseover"]),An("onPointerEnter",["pointerout","pointerover"]),An("onPointerLeave",["pointerout","pointerover"]),ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ln("onBeforeInput",["compositionend","keypress","textInput","paste"]),ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pY=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cg));function xk(l,d){d=(d&4)!==0;for(var m=0;m<l.length;m++){var x=l[m],k=x.event;x=x.listeners;e:{var M=void 0;if(d)for(var J=x.length-1;0<=J;J--){var oe=x[J],ge=oe.instance,Se=oe.currentTarget;if(oe=oe.listener,ge!==M&&k.isPropagationStopped())break e;M=oe,k.currentTarget=Se;try{M(k)}catch(Ge){Tv(Ge)}k.currentTarget=null,M=ge}else for(J=0;J<x.length;J++){if(oe=x[J],ge=oe.instance,Se=oe.currentTarget,oe=oe.listener,ge!==M&&k.isPropagationStopped())break e;M=oe,k.currentTarget=Se;try{M(k)}catch(Ge){Tv(Ge)}k.currentTarget=null,M=ge}}}}function In(l,d){var m=d[fe];m===void 0&&(m=d[fe]=new Set);var x=l+"__bubble";m.has(x)||(bk(d,l,2,!1),m.add(x))}function __(l,d,m){var x=0;d&&(x|=4),bk(m,l,x,d)}var $v="_reactListening"+Math.random().toString(36).slice(2);function E_(l){if(!l[$v]){l[$v]=!0,Bt.forEach(function(m){m!=="selectionchange"&&(pY.has(m)||__(m,!1,l),__(m,!0,l))});var d=l.nodeType===9?l:l.ownerDocument;d===null||d[$v]||(d[$v]=!0,__("selectionchange",!1,d))}}function bk(l,d,m,x){switch($k(d)){case 2:var k=zY;break;case 8:k=qY;break;default:k=D_}m=k.bind(null,d,m,l),k=void 0,!ca||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(k=!0),x?k!==void 0?l.addEventListener(d,m,{capture:!0,passive:k}):l.addEventListener(d,m,!0):k!==void 0?l.addEventListener(d,m,{passive:k}):l.addEventListener(d,m,!1)}function j_(l,d,m,x,k){var M=x;if(!(d&1)&&!(d&2)&&x!==null)e:for(;;){if(x===null)return;var J=x.tag;if(J===3||J===4){var oe=x.stateNode.containerInfo;if(oe===k||oe.nodeType===8&&oe.parentNode===k)break;if(J===4)for(J=x.return;J!==null;){var ge=J.tag;if((ge===3||ge===4)&&(ge=J.stateNode.containerInfo,ge===k||ge.nodeType===8&&ge.parentNode===k))return;J=J.return}for(;oe!==null;){if(J=Qe(oe),J===null)return;if(ge=J.tag,ge===5||ge===6||ge===26||ge===27){x=M=J;continue e}oe=oe.parentNode}}x=x.return}qo(function(){var Se=M,Ge=as(m),rt=[];e:{var Pe=c4.get(l);if(Pe!==void 0){var He=Be,At=l;switch(l){case"keypress":if(di(m)===0)break e;case"keydown":case"keyup":He=af;break;case"focusin":At="focus",He=$r;break;case"focusout":At="blur",He=$r;break;case"beforeblur":case"afterblur":He=$r;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":He=ar;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":He=Kr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":He=nv;break;case a4:case i4:case o4:He=Aa;break;case l4:He=sv;break;case"scroll":case"scrollend":He=Ct;break;case"wheel":He=of;break;case"copy":case"cut":case"paste":He=lc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":He=Op;break;case"toggle":case"beforetoggle":He=iv}var cn=(d&4)!==0,ls=!cn&&(l==="scroll"||l==="scrollend"),Te=cn?Pe!==null?Pe+"Capture":null:Pe;cn=[];for(var Ee=Se,ke;Ee!==null;){var Xe=Ee;if(ke=Xe.stateNode,Xe=Xe.tag,Xe!==5&&Xe!==26&&Xe!==27||ke===null||Te===null||(Xe=$o(Ee,Te),Xe!=null&&cn.push(ug(Ee,Xe,ke))),ls)break;Ee=Ee.return}0<cn.length&&(Pe=new He(Pe,At,null,m,Ge),rt.push({event:Pe,listeners:cn}))}}if(!(d&7)){e:{if(Pe=l==="mouseover"||l==="pointerover",He=l==="mouseout"||l==="pointerout",Pe&&m!==la&&(At=m.relatedTarget||m.fromElement)&&(Qe(At)||At[he]))break e;if((He||Pe)&&(Pe=Ge.window===Ge?Ge:(Pe=Ge.ownerDocument)?Pe.defaultView||Pe.parentWindow:window,He?(At=m.relatedTarget||m.toElement,He=Se,At=At?Qe(At):null,At!==null&&(ls=me(At),cn=At.tag,At!==ls||cn!==5&&cn!==27&&cn!==6)&&(At=null)):(He=null,At=Se),He!==At)){if(cn=ar,Xe="onMouseLeave",Te="onMouseEnter",Ee="mouse",(l==="pointerout"||l==="pointerover")&&(cn=Op,Xe="onPointerLeave",Te="onPointerEnter",Ee="pointer"),ls=He==null?Pe:mt(He),ke=At==null?Pe:mt(At),Pe=new cn(Xe,Ee+"leave",He,m,Ge),Pe.target=ls,Pe.relatedTarget=ke,Xe=null,Qe(Ge)===Se&&(cn=new cn(Te,Ee+"enter",At,m,Ge),cn.target=ke,cn.relatedTarget=ls,Xe=cn),ls=Xe,He&&At)t:{for(cn=He,Te=At,Ee=0,ke=cn;ke;ke=Lf(ke))Ee++;for(ke=0,Xe=Te;Xe;Xe=Lf(Xe))ke++;for(;0<Ee-ke;)cn=Lf(cn),Ee--;for(;0<ke-Ee;)Te=Lf(Te),ke--;for(;Ee--;){if(cn===Te||Te!==null&&cn===Te.alternate)break t;cn=Lf(cn),Te=Lf(Te)}cn=null}else cn=null;He!==null&&wk(rt,Pe,He,cn,!1),At!==null&&ls!==null&&wk(rt,ls,At,cn,!0)}}e:{if(Pe=Se?mt(Se):window,He=Pe.nodeName&&Pe.nodeName.toLowerCase(),He==="select"||He==="input"&&Pe.type==="file")var Et=K3;else if(Ps(Pe))if(Y3)Et=NK;else{Et=SK;var jn=jK}else He=Pe.nodeName,!He||He.toLowerCase()!=="input"||Pe.type!=="checkbox"&&Pe.type!=="radio"?Se&&oc(Se.elementType)&&(Et=K3):Et=CK;if(Et&&(Et=Et(l,Se))){uc(rt,Et,m,Ge);break e}jn&&jn(l,Pe,Se),l==="focusout"&&Se&&Pe.type==="number"&&Se.memoizedProps.value!=null&&vl(Pe,"number",Pe.value)}switch(jn=Se?mt(Se):window,l){case"focusin":(Ps(jn)||jn.contentEditable==="true")&&(lf=jn,t2=Se,Dp=null);break;case"focusout":Dp=t2=lf=null;break;case"mousedown":n2=!0;break;case"contextmenu":case"mouseup":case"dragend":n2=!1,r4(rt,m,Ge);break;case"selectionchange":if(LK)break;case"keydown":case"keyup":r4(rt,m,Ge)}var kt;if(bl)e:{switch(l){case"compositionstart":var Kt="onCompositionStart";break e;case"compositionend":Kt="onCompositionEnd";break e;case"compositionupdate":Kt="onCompositionUpdate";break e}Kt=void 0}else Mn?De(l,m)&&(Kt="onCompositionEnd"):l==="keydown"&&m.keyCode===229&&(Kt="onCompositionStart");Kt&&(Y&&m.locale!=="ko"&&(Mn||Kt!=="onCompositionStart"?Kt==="onCompositionEnd"&&Mn&&(kt=Vo()):(Ka=Ge,ks="value"in Ka?Ka.value:Ka.textContent,Mn=!0)),jn=Vv(Se,Kt),0<jn.length&&(Kt=new xl(Kt,l,null,m,Ge),rt.push({event:Kt,listeners:jn}),kt?Kt.data=kt:(kt=ht(m),kt!==null&&(Kt.data=kt)))),(kt=q?Is(l,m):Fn(l,m))&&(Kt=Vv(Se,"onBeforeInput"),0<Kt.length&&(jn=new xl("onBeforeInput","beforeinput",null,m,Ge),rt.push({event:jn,listeners:Kt}),jn.data=kt)),hY(rt,l,Se,m,Ge)}xk(rt,d)})}function ug(l,d,m){return{instance:l,listener:d,currentTarget:m}}function Vv(l,d){for(var m=d+"Capture",x=[];l!==null;){var k=l,M=k.stateNode;k=k.tag,k!==5&&k!==26&&k!==27||M===null||(k=$o(l,m),k!=null&&x.unshift(ug(l,k,M)),k=$o(l,d),k!=null&&x.push(ug(l,k,M))),l=l.return}return x}function Lf(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function wk(l,d,m,x,k){for(var M=d._reactName,J=[];m!==null&&m!==x;){var oe=m,ge=oe.alternate,Se=oe.stateNode;if(oe=oe.tag,ge!==null&&ge===x)break;oe!==5&&oe!==26&&oe!==27||Se===null||(ge=Se,k?(Se=$o(m,M),Se!=null&&J.unshift(ug(m,Se,ge))):k||(Se=$o(m,M),Se!=null&&J.push(ug(m,Se,ge)))),m=m.return}J.length!==0&&l.push({event:d,listeners:J})}var gY=/\r\n?/g,yY=/\u0000|\uFFFD/g;function _k(l){return(typeof l=="string"?l:""+l).replace(gY,`
`).replace(yY,"")}function Ek(l,d){return d=_k(d),_k(l)===d}function Hv(){}function hr(l,d,m,x,k,M){switch(m){case"children":typeof x=="string"?d==="body"||d==="textarea"&&x===""||ss(l,x):(typeof x=="number"||typeof x=="bigint")&&d!=="body"&&ss(l,""+x);break;case"className":so(l,"class",x);break;case"tabIndex":so(l,"tabindex",x);break;case"dir":case"role":case"viewBox":case"width":case"height":so(l,m,x);break;case"style":Wa(l,x,M);break;case"data":if(d!=="object"){so(l,"data",x);break}case"src":case"href":if(x===""&&(d!=="a"||m!=="href")){l.removeAttribute(m);break}if(x==null||typeof x=="function"||typeof x=="symbol"||typeof x=="boolean"){l.removeAttribute(m);break}x=oi(""+x),l.setAttribute(m,x);break;case"action":case"formAction":if(typeof x=="function"){l.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof M=="function"&&(m==="formAction"?(d!=="input"&&hr(l,d,"name",k.name,k,null),hr(l,d,"formEncType",k.formEncType,k,null),hr(l,d,"formMethod",k.formMethod,k,null),hr(l,d,"formTarget",k.formTarget,k,null)):(hr(l,d,"encType",k.encType,k,null),hr(l,d,"method",k.method,k,null),hr(l,d,"target",k.target,k,null)));if(x==null||typeof x=="symbol"||typeof x=="boolean"){l.removeAttribute(m);break}x=oi(""+x),l.setAttribute(m,x);break;case"onClick":x!=null&&(l.onclick=Hv);break;case"onScroll":x!=null&&In("scroll",l);break;case"onScrollEnd":x!=null&&In("scrollend",l);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(r(61));if(m=x.__html,m!=null){if(k.children!=null)throw Error(r(60));l.innerHTML=m}}break;case"multiple":l.multiple=x&&typeof x!="function"&&typeof x!="symbol";break;case"muted":l.muted=x&&typeof x!="function"&&typeof x!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(x==null||typeof x=="function"||typeof x=="boolean"||typeof x=="symbol"){l.removeAttribute("xlink:href");break}m=oi(""+x),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":x!=null&&typeof x!="function"&&typeof x!="symbol"?l.setAttribute(m,""+x):l.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":x&&typeof x!="function"&&typeof x!="symbol"?l.setAttribute(m,""):l.removeAttribute(m);break;case"capture":case"download":x===!0?l.setAttribute(m,""):x!==!1&&x!=null&&typeof x!="function"&&typeof x!="symbol"?l.setAttribute(m,x):l.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":x!=null&&typeof x!="function"&&typeof x!="symbol"&&!isNaN(x)&&1<=x?l.setAttribute(m,x):l.removeAttribute(m);break;case"rowSpan":case"start":x==null||typeof x=="function"||typeof x=="symbol"||isNaN(x)?l.removeAttribute(m):l.setAttribute(m,x);break;case"popover":In("beforetoggle",l),In("toggle",l),ns(l,"popover",x);break;case"xlinkActuate":Na(l,"http://www.w3.org/1999/xlink","xlink:actuate",x);break;case"xlinkArcrole":Na(l,"http://www.w3.org/1999/xlink","xlink:arcrole",x);break;case"xlinkRole":Na(l,"http://www.w3.org/1999/xlink","xlink:role",x);break;case"xlinkShow":Na(l,"http://www.w3.org/1999/xlink","xlink:show",x);break;case"xlinkTitle":Na(l,"http://www.w3.org/1999/xlink","xlink:title",x);break;case"xlinkType":Na(l,"http://www.w3.org/1999/xlink","xlink:type",x);break;case"xmlBase":Na(l,"http://www.w3.org/XML/1998/namespace","xml:base",x);break;case"xmlLang":Na(l,"http://www.w3.org/XML/1998/namespace","xml:lang",x);break;case"xmlSpace":Na(l,"http://www.w3.org/XML/1998/namespace","xml:space",x);break;case"is":ns(l,"is",x);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=Td.get(m)||m,ns(l,m,x))}}function S_(l,d,m,x,k,M){switch(m){case"style":Wa(l,x,M);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(r(61));if(m=x.__html,m!=null){if(k.children!=null)throw Error(r(60));l.innerHTML=m}}break;case"children":typeof x=="string"?ss(l,x):(typeof x=="number"||typeof x=="bigint")&&ss(l,""+x);break;case"onScroll":x!=null&&In("scroll",l);break;case"onScrollEnd":x!=null&&In("scrollend",l);break;case"onClick":x!=null&&(l.onclick=Hv);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Dn.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(k=m.endsWith("Capture"),d=m.slice(2,k?m.length-7:void 0),M=l[ue]||null,M=M!=null?M[m]:null,typeof M=="function"&&l.removeEventListener(d,M,k),typeof x=="function")){typeof M!="function"&&M!==null&&(m in l?l[m]=null:l.hasAttribute(m)&&l.removeAttribute(m)),l.addEventListener(d,x,k);break e}m in l?l[m]=x:x===!0?l.setAttribute(m,""):ns(l,m,x)}}}function fa(l,d,m){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":In("error",l),In("load",l);var x=!1,k=!1,M;for(M in m)if(m.hasOwnProperty(M)){var J=m[M];if(J!=null)switch(M){case"src":x=!0;break;case"srcSet":k=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:hr(l,d,M,J,m,null)}}k&&hr(l,d,"srcSet",m.srcSet,m,null),x&&hr(l,d,"src",m.src,m,null);return;case"input":In("invalid",l);var oe=M=J=k=null,ge=null,Se=null;for(x in m)if(m.hasOwnProperty(x)){var Ge=m[x];if(Ge!=null)switch(x){case"name":k=Ge;break;case"type":J=Ge;break;case"checked":ge=Ge;break;case"defaultChecked":Se=Ge;break;case"value":M=Ge;break;case"defaultValue":oe=Ge;break;case"children":case"dangerouslySetInnerHTML":if(Ge!=null)throw Error(r(137,d));break;default:hr(l,d,x,Ge,m,null)}}Ai(l,M,oe,ge,Se,J,k,!1),ao(l);return;case"select":In("invalid",l),x=J=M=null;for(k in m)if(m.hasOwnProperty(k)&&(oe=m[k],oe!=null))switch(k){case"value":M=oe;break;case"defaultValue":J=oe;break;case"multiple":x=oe;default:hr(l,d,k,oe,m,null)}d=M,m=J,l.multiple=!!x,d!=null?Ln(l,!!x,d,!1):m!=null&&Ln(l,!!x,m,!0);return;case"textarea":In("invalid",l),M=k=x=null;for(J in m)if(m.hasOwnProperty(J)&&(oe=m[J],oe!=null))switch(J){case"value":x=oe;break;case"defaultValue":k=oe;break;case"children":M=oe;break;case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(91));break;default:hr(l,d,J,oe,m,null)}Es(l,x,k,M),ao(l);return;case"option":for(ge in m)if(m.hasOwnProperty(ge)&&(x=m[ge],x!=null))switch(ge){case"selected":l.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:hr(l,d,ge,x,m,null)}return;case"dialog":In("cancel",l),In("close",l);break;case"iframe":case"object":In("load",l);break;case"video":case"audio":for(x=0;x<cg.length;x++)In(cg[x],l);break;case"image":In("error",l),In("load",l);break;case"details":In("toggle",l);break;case"embed":case"source":case"link":In("error",l),In("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Se in m)if(m.hasOwnProperty(Se)&&(x=m[Se],x!=null))switch(Se){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:hr(l,d,Se,x,m,null)}return;default:if(oc(d)){for(Ge in m)m.hasOwnProperty(Ge)&&(x=m[Ge],x!==void 0&&S_(l,d,Ge,x,m,void 0));return}}for(oe in m)m.hasOwnProperty(oe)&&(x=m[oe],x!=null&&hr(l,d,oe,x,m,null))}function vY(l,d,m,x){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var k=null,M=null,J=null,oe=null,ge=null,Se=null,Ge=null;for(He in m){var rt=m[He];if(m.hasOwnProperty(He)&&rt!=null)switch(He){case"checked":break;case"value":break;case"defaultValue":ge=rt;default:x.hasOwnProperty(He)||hr(l,d,He,null,x,rt)}}for(var Pe in x){var He=x[Pe];if(rt=m[Pe],x.hasOwnProperty(Pe)&&(He!=null||rt!=null))switch(Pe){case"type":M=He;break;case"name":k=He;break;case"checked":Se=He;break;case"defaultChecked":Ge=He;break;case"value":J=He;break;case"defaultValue":oe=He;break;case"children":case"dangerouslySetInnerHTML":if(He!=null)throw Error(r(137,d));break;default:He!==rt&&hr(l,d,Pe,He,x,rt)}}io(l,J,oe,ge,Se,Ge,M,k);return;case"select":He=J=oe=Pe=null;for(M in m)if(ge=m[M],m.hasOwnProperty(M)&&ge!=null)switch(M){case"value":break;case"multiple":He=ge;default:x.hasOwnProperty(M)||hr(l,d,M,null,x,ge)}for(k in x)if(M=x[k],ge=m[k],x.hasOwnProperty(k)&&(M!=null||ge!=null))switch(k){case"value":Pe=M;break;case"defaultValue":oe=M;break;case"multiple":J=M;default:M!==ge&&hr(l,d,k,M,x,ge)}d=oe,m=J,x=He,Pe!=null?Ln(l,!!m,Pe,!1):!!x!=!!m&&(d!=null?Ln(l,!!m,d,!0):Ln(l,!!m,m?[]:"",!1));return;case"textarea":He=Pe=null;for(oe in m)if(k=m[oe],m.hasOwnProperty(oe)&&k!=null&&!x.hasOwnProperty(oe))switch(oe){case"value":break;case"children":break;default:hr(l,d,oe,null,x,k)}for(J in x)if(k=x[J],M=m[J],x.hasOwnProperty(J)&&(k!=null||M!=null))switch(J){case"value":Pe=k;break;case"defaultValue":He=k;break;case"children":break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(91));break;default:k!==M&&hr(l,d,J,k,x,M)}Ga(l,Pe,He);return;case"option":for(var At in m)if(Pe=m[At],m.hasOwnProperty(At)&&Pe!=null&&!x.hasOwnProperty(At))switch(At){case"selected":l.selected=!1;break;default:hr(l,d,At,null,x,Pe)}for(ge in x)if(Pe=x[ge],He=m[ge],x.hasOwnProperty(ge)&&Pe!==He&&(Pe!=null||He!=null))switch(ge){case"selected":l.selected=Pe&&typeof Pe!="function"&&typeof Pe!="symbol";break;default:hr(l,d,ge,Pe,x,He)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var cn in m)Pe=m[cn],m.hasOwnProperty(cn)&&Pe!=null&&!x.hasOwnProperty(cn)&&hr(l,d,cn,null,x,Pe);for(Se in x)if(Pe=x[Se],He=m[Se],x.hasOwnProperty(Se)&&Pe!==He&&(Pe!=null||He!=null))switch(Se){case"children":case"dangerouslySetInnerHTML":if(Pe!=null)throw Error(r(137,d));break;default:hr(l,d,Se,Pe,x,He)}return;default:if(oc(d)){for(var ls in m)Pe=m[ls],m.hasOwnProperty(ls)&&Pe!==void 0&&!x.hasOwnProperty(ls)&&S_(l,d,ls,void 0,x,Pe);for(Ge in x)Pe=x[Ge],He=m[Ge],!x.hasOwnProperty(Ge)||Pe===He||Pe===void 0&&He===void 0||S_(l,d,Ge,Pe,x,He);return}}for(var Te in m)Pe=m[Te],m.hasOwnProperty(Te)&&Pe!=null&&!x.hasOwnProperty(Te)&&hr(l,d,Te,null,x,Pe);for(rt in x)Pe=x[rt],He=m[rt],!x.hasOwnProperty(rt)||Pe===He||Pe==null&&He==null||hr(l,d,rt,Pe,x,He)}var C_=null,N_=null;function Gv(l){return l.nodeType===9?l:l.ownerDocument}function jk(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Sk(l,d){if(l===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&d==="foreignObject"?0:l}function T_(l,d){return l==="textarea"||l==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var A_=null;function xY(){var l=window.event;return l&&l.type==="popstate"?l===A_?!1:(A_=l,!0):(A_=null,!1)}var Ck=typeof setTimeout=="function"?setTimeout:void 0,bY=typeof clearTimeout=="function"?clearTimeout:void 0,Nk=typeof Promise=="function"?Promise:void 0,wY=typeof queueMicrotask=="function"?queueMicrotask:typeof Nk<"u"?function(l){return Nk.resolve(null).then(l).catch(_Y)}:Ck;function _Y(l){setTimeout(function(){throw l})}function L_(l,d){var m=d,x=0;do{var k=m.nextSibling;if(l.removeChild(m),k&&k.nodeType===8)if(m=k.data,m==="/$"){if(x===0){l.removeChild(k),vg(d);return}x--}else m!=="$"&&m!=="$?"&&m!=="$!"||x++;m=k}while(m);vg(d)}function R_(l){var d=l.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var m=d;switch(d=d.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":R_(m),Oe(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}l.removeChild(m)}}function EY(l,d,m,x){for(;l.nodeType===1;){var k=m;if(l.nodeName.toLowerCase()!==d.toLowerCase()){if(!x&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(x){if(!l[Re])switch(d){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(M=l.getAttribute("rel"),M==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(M!==k.rel||l.getAttribute("href")!==(k.href==null?null:k.href)||l.getAttribute("crossorigin")!==(k.crossOrigin==null?null:k.crossOrigin)||l.getAttribute("title")!==(k.title==null?null:k.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(M=l.getAttribute("src"),(M!==(k.src==null?null:k.src)||l.getAttribute("type")!==(k.type==null?null:k.type)||l.getAttribute("crossorigin")!==(k.crossOrigin==null?null:k.crossOrigin))&&M&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(d==="input"&&l.type==="hidden"){var M=k.name==null?null:""+k.name;if(k.type==="hidden"&&l.getAttribute("name")===M)return l}else return l;if(l=Ko(l.nextSibling),l===null)break}return null}function jY(l,d,m){if(d==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!m||(l=Ko(l.nextSibling),l===null))return null;return l}function Ko(l){for(;l!=null;l=l.nextSibling){var d=l.nodeType;if(d===1||d===3)break;if(d===8){if(d=l.data,d==="$"||d==="$!"||d==="$?"||d==="F!"||d==="F")break;if(d==="/$")return null}}return l}function Tk(l){l=l.previousSibling;for(var d=0;l;){if(l.nodeType===8){var m=l.data;if(m==="$"||m==="$!"||m==="$?"){if(d===0)return l;d--}else m==="/$"&&d++}l=l.previousSibling}return null}function Ak(l,d,m){switch(d=Gv(m),l){case"html":if(l=d.documentElement,!l)throw Error(r(452));return l;case"head":if(l=d.head,!l)throw Error(r(453));return l;case"body":if(l=d.body,!l)throw Error(r(454));return l;default:throw Error(r(451))}}var vo=new Map,Lk=new Set;function Wv(l){return typeof l.getRootNode=="function"?l.getRootNode():l.ownerDocument}var Sc=te.d;te.d={f:SY,r:CY,D:NY,C:TY,L:AY,m:LY,X:kY,S:RY,M:OY};function SY(){var l=Sc.f(),d=Bv();return l||d}function CY(l){var d=nt(l);d!==null&&d.tag===5&&d.type==="form"?rR(d):Sc.r(l)}var Rf=typeof document>"u"?null:document;function Rk(l,d,m){var x=Rf;if(x&&typeof d=="string"&&d){var k=xr(d);k='link[rel="'+l+'"][href="'+k+'"]',typeof m=="string"&&(k+='[crossorigin="'+m+'"]'),Lk.has(k)||(Lk.add(k),l={rel:l,crossOrigin:m,href:d},x.querySelector(k)===null&&(d=x.createElement("link"),fa(d,"link",l),at(d),x.head.appendChild(d)))}}function NY(l){Sc.D(l),Rk("dns-prefetch",l,null)}function TY(l,d){Sc.C(l,d),Rk("preconnect",l,d)}function AY(l,d,m){Sc.L(l,d,m);var x=Rf;if(x&&l&&d){var k='link[rel="preload"][as="'+xr(d)+'"]';d==="image"&&m&&m.imageSrcSet?(k+='[imagesrcset="'+xr(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(k+='[imagesizes="'+xr(m.imageSizes)+'"]')):k+='[href="'+xr(l)+'"]';var M=k;switch(d){case"style":M=kf(l);break;case"script":M=Of(l)}vo.has(M)||(l=A({rel:"preload",href:d==="image"&&m&&m.imageSrcSet?void 0:l,as:d},m),vo.set(M,l),x.querySelector(k)!==null||d==="style"&&x.querySelector(dg(M))||d==="script"&&x.querySelector(hg(M))||(d=x.createElement("link"),fa(d,"link",l),at(d),x.head.appendChild(d)))}}function LY(l,d){Sc.m(l,d);var m=Rf;if(m&&l){var x=d&&typeof d.as=="string"?d.as:"script",k='link[rel="modulepreload"][as="'+xr(x)+'"][href="'+xr(l)+'"]',M=k;switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":M=Of(l)}if(!vo.has(M)&&(l=A({rel:"modulepreload",href:l},d),vo.set(M,l),m.querySelector(k)===null)){switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(hg(M)))return}x=m.createElement("link"),fa(x,"link",l),at(x),m.head.appendChild(x)}}}function RY(l,d,m){Sc.S(l,d,m);var x=Rf;if(x&&l){var k=st(x).hoistableStyles,M=kf(l);d=d||"default";var J=k.get(M);if(!J){var oe={loading:0,preload:null};if(J=x.querySelector(dg(M)))oe.loading=5;else{l=A({rel:"stylesheet",href:l,"data-precedence":d},m),(m=vo.get(M))&&k_(l,m);var ge=J=x.createElement("link");at(ge),fa(ge,"link",l),ge._p=new Promise(function(Se,Ge){ge.onload=Se,ge.onerror=Ge}),ge.addEventListener("load",function(){oe.loading|=1}),ge.addEventListener("error",function(){oe.loading|=2}),oe.loading|=4,Kv(J,d,x)}J={type:"stylesheet",instance:J,count:1,state:oe},k.set(M,J)}}}function kY(l,d){Sc.X(l,d);var m=Rf;if(m&&l){var x=st(m).hoistableScripts,k=Of(l),M=x.get(k);M||(M=m.querySelector(hg(k)),M||(l=A({src:l,async:!0},d),(d=vo.get(k))&&O_(l,d),M=m.createElement("script"),at(M),fa(M,"link",l),m.head.appendChild(M)),M={type:"script",instance:M,count:1,state:null},x.set(k,M))}}function OY(l,d){Sc.M(l,d);var m=Rf;if(m&&l){var x=st(m).hoistableScripts,k=Of(l),M=x.get(k);M||(M=m.querySelector(hg(k)),M||(l=A({src:l,async:!0,type:"module"},d),(d=vo.get(k))&&O_(l,d),M=m.createElement("script"),at(M),fa(M,"link",l),m.head.appendChild(M)),M={type:"script",instance:M,count:1,state:null},x.set(k,M))}}function kk(l,d,m,x){var k=(k=ct.current)?Wv(k):null;if(!k)throw Error(r(446));switch(l){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(d=kf(m.href),m=st(k).hoistableStyles,x=m.get(d),x||(x={type:"style",instance:null,count:0,state:null},m.set(d,x)),x):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){l=kf(m.href);var M=st(k).hoistableStyles,J=M.get(l);if(J||(k=k.ownerDocument||k,J={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},M.set(l,J),(M=k.querySelector(dg(l)))&&!M._p&&(J.instance=M,J.state.loading=5),vo.has(l)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},vo.set(l,m),M||IY(k,l,m,J.state))),d&&x===null)throw Error(r(528,""));return J}if(d&&x!==null)throw Error(r(529,""));return null;case"script":return d=m.async,m=m.src,typeof m=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=Of(m),m=st(k).hoistableScripts,x=m.get(d),x||(x={type:"script",instance:null,count:0,state:null},m.set(d,x)),x):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,l))}}function kf(l){return'href="'+xr(l)+'"'}function dg(l){return'link[rel="stylesheet"]['+l+"]"}function Ok(l){return A({},l,{"data-precedence":l.precedence,precedence:null})}function IY(l,d,m,x){l.querySelector('link[rel="preload"][as="style"]['+d+"]")?x.loading=1:(d=l.createElement("link"),x.preload=d,d.addEventListener("load",function(){return x.loading|=1}),d.addEventListener("error",function(){return x.loading|=2}),fa(d,"link",m),at(d),l.head.appendChild(d))}function Of(l){return'[src="'+xr(l)+'"]'}function hg(l){return"script[async]"+l}function Ik(l,d,m){if(d.count++,d.instance===null)switch(d.type){case"style":var x=l.querySelector('style[data-href~="'+xr(m.href)+'"]');if(x)return d.instance=x,at(x),x;var k=A({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return x=(l.ownerDocument||l).createElement("style"),at(x),fa(x,"style",k),Kv(x,m.precedence,l),d.instance=x;case"stylesheet":k=kf(m.href);var M=l.querySelector(dg(k));if(M)return d.state.loading|=4,d.instance=M,at(M),M;x=Ok(m),(k=vo.get(k))&&k_(x,k),M=(l.ownerDocument||l).createElement("link"),at(M);var J=M;return J._p=new Promise(function(oe,ge){J.onload=oe,J.onerror=ge}),fa(M,"link",x),d.state.loading|=4,Kv(M,m.precedence,l),d.instance=M;case"script":return M=Of(m.src),(k=l.querySelector(hg(M)))?(d.instance=k,at(k),k):(x=m,(k=vo.get(M))&&(x=A({},m),O_(x,k)),l=l.ownerDocument||l,k=l.createElement("script"),at(k),fa(k,"link",x),l.head.appendChild(k),d.instance=k);case"void":return null;default:throw Error(r(443,d.type))}else d.type==="stylesheet"&&!(d.state.loading&4)&&(x=d.instance,d.state.loading|=4,Kv(x,m.precedence,l));return d.instance}function Kv(l,d,m){for(var x=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),k=x.length?x[x.length-1]:null,M=k,J=0;J<x.length;J++){var oe=x[J];if(oe.dataset.precedence===d)M=oe;else if(M!==k)break}M?M.parentNode.insertBefore(l,M.nextSibling):(d=m.nodeType===9?m.head:m,d.insertBefore(l,d.firstChild))}function k_(l,d){l.crossOrigin==null&&(l.crossOrigin=d.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=d.referrerPolicy),l.title==null&&(l.title=d.title)}function O_(l,d){l.crossOrigin==null&&(l.crossOrigin=d.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=d.referrerPolicy),l.integrity==null&&(l.integrity=d.integrity)}var Yv=null;function Pk(l,d,m){if(Yv===null){var x=new Map,k=Yv=new Map;k.set(m,x)}else k=Yv,x=k.get(m),x||(x=new Map,k.set(m,x));if(x.has(l))return x;for(x.set(l,null),m=m.getElementsByTagName(l),k=0;k<m.length;k++){var M=m[k];if(!(M[Re]||M[le]||l==="link"&&M.getAttribute("rel")==="stylesheet")&&M.namespaceURI!=="http://www.w3.org/2000/svg"){var J=M.getAttribute(d)||"";J=l+J;var oe=x.get(J);oe?oe.push(M):x.set(J,[M])}}return x}function Dk(l,d,m){l=l.ownerDocument||l,l.head.insertBefore(m,d==="title"?l.querySelector("head > title"):null)}function PY(l,d,m){if(m===1||d.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;switch(d.rel){case"stylesheet":return l=d.disabled,typeof d.precedence=="string"&&l==null;default:return!0}case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function Mk(l){return!(l.type==="stylesheet"&&!(l.state.loading&3))}var fg=null;function DY(){}function MY(l,d,m){if(fg===null)throw Error(r(475));var x=fg;if(d.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&!(d.state.loading&4)){if(d.instance===null){var k=kf(m.href),M=l.querySelector(dg(k));if(M){l=M._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(x.count++,x=Xv.bind(x),l.then(x,x)),d.state.loading|=4,d.instance=M,at(M);return}M=l.ownerDocument||l,m=Ok(m),(k=vo.get(k))&&k_(m,k),M=M.createElement("link"),at(M);var J=M;J._p=new Promise(function(oe,ge){J.onload=oe,J.onerror=ge}),fa(M,"link",m),d.instance=M}x.stylesheets===null&&(x.stylesheets=new Map),x.stylesheets.set(d,l),(l=d.state.preload)&&!(d.state.loading&3)&&(x.count++,d=Xv.bind(x),l.addEventListener("load",d),l.addEventListener("error",d))}}function FY(){if(fg===null)throw Error(r(475));var l=fg;return l.stylesheets&&l.count===0&&I_(l,l.stylesheets),0<l.count?function(d){var m=setTimeout(function(){if(l.stylesheets&&I_(l,l.stylesheets),l.unsuspend){var x=l.unsuspend;l.unsuspend=null,x()}},6e4);return l.unsuspend=d,function(){l.unsuspend=null,clearTimeout(m)}}:null}function Xv(){if(this.count--,this.count===0){if(this.stylesheets)I_(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var Jv=null;function I_(l,d){l.stylesheets=null,l.unsuspend!==null&&(l.count++,Jv=new Map,d.forEach(BY,l),Jv=null,Xv.call(l))}function BY(l,d){if(!(d.state.loading&4)){var m=Jv.get(l);if(m)var x=m.get(null);else{m=new Map,Jv.set(l,m);for(var k=l.querySelectorAll("link[data-precedence],style[data-precedence]"),M=0;M<k.length;M++){var J=k[M];(J.nodeName==="LINK"||J.getAttribute("media")!=="not all")&&(m.set(J.dataset.precedence,J),x=J)}x&&m.set(null,x)}k=d.instance,J=k.getAttribute("data-precedence"),M=m.get(J)||x,M===x&&m.set(null,k),m.set(J,k),this.count++,x=Xv.bind(this),k.addEventListener("load",x),k.addEventListener("error",x),M?M.parentNode.insertBefore(k,M.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(k,l.firstChild)),d.state.loading|=4}}var mg={$$typeof:y,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function UY(l,d,m,x,k,M,J,oe){this.tag=1,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ha(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ha(0),this.hiddenUpdates=Ha(null),this.identifierPrefix=x,this.onUncaughtError=k,this.onCaughtError=M,this.onRecoverableError=J,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=oe,this.incompleteTransitions=new Map}function Fk(l,d,m,x,k,M,J,oe,ge,Se,Ge,rt){return l=new UY(l,d,m,J,oe,ge,Se,rt),d=1,M===!0&&(d|=24),M=go(3,null,null,d),l.current=M,M.stateNode=l,d=h2(),d.refCount++,l.pooledCache=d,d.refCount++,M.memoizedState={element:x,isDehydrated:m,cache:d},G2(M),l}function Bk(l){return l?(l=df,l):df}function Uk(l,d,m,x,k,M){k=Bk(k),x.context===null?x.context=k:x.pendingContext=k,x=xu(d),x.payload={element:m},M=M===void 0?null:M,M!==null&&(x.callback=M),m=bu(l,x,d),m!==null&&(Ja(m,l,d),Jp(m,l,d))}function zk(l,d){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var m=l.retryLane;l.retryLane=m!==0&&m<d?m:d}}function P_(l,d){zk(l,d),(l=l.alternate)&&zk(l,d)}function qk(l){if(l.tag===13){var d=hu(l,67108864);d!==null&&Ja(d,l,67108864),P_(l,67108864)}}var Qv=!0;function zY(l,d,m,x){var k=b.T;b.T=null;var M=te.p;try{te.p=2,D_(l,d,m,x)}finally{te.p=M,b.T=k}}function qY(l,d,m,x){var k=b.T;b.T=null;var M=te.p;try{te.p=8,D_(l,d,m,x)}finally{te.p=M,b.T=k}}function D_(l,d,m,x){if(Qv){var k=M_(x);if(k===null)j_(l,d,x,Zv,m),Vk(l,x);else if(VY(k,l,d,m,x))x.stopPropagation();else if(Vk(l,x),d&4&&-1<$Y.indexOf(l)){for(;k!==null;){var M=nt(k);if(M!==null)switch(M.tag){case 3:if(M=M.stateNode,M.current.memoizedState.isDehydrated){var J=mr(M.pendingLanes);if(J!==0){var oe=M;for(oe.pendingLanes|=2,oe.entangledLanes|=2;J;){var ge=1<<31-Hn(J);oe.entanglements[1]|=ge,J&=~ge}Cl(M),!(Xr&6)&&(Dv=We()+500,lg(0))}}break;case 13:oe=hu(M,2),oe!==null&&Ja(oe,M,2),Bv(),P_(M,2)}if(M=M_(x),M===null&&j_(l,d,x,Zv,m),M===k)break;k=M}k!==null&&x.stopPropagation()}else j_(l,d,x,null,m)}}function M_(l){return l=as(l),F_(l)}var Zv=null;function F_(l){if(Zv=null,l=Qe(l),l!==null){var d=me(l);if(d===null)l=null;else{var m=d.tag;if(m===13){if(l=ie(d),l!==null)return l;l=null}else if(m===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;l=null}else d!==l&&(l=null)}}return Zv=l,null}function $k(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xt()){case Dt:return 2;case Rt:return 8;case on:case Gr:return 32;case Jn:return 268435456;default:return 32}default:return 32}}var B_=!1,Nu=null,Tu=null,Au=null,pg=new Map,gg=new Map,Lu=[],$Y="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Vk(l,d){switch(l){case"focusin":case"focusout":Nu=null;break;case"dragenter":case"dragleave":Tu=null;break;case"mouseover":case"mouseout":Au=null;break;case"pointerover":case"pointerout":pg.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":gg.delete(d.pointerId)}}function yg(l,d,m,x,k,M){return l===null||l.nativeEvent!==M?(l={blockedOn:d,domEventName:m,eventSystemFlags:x,nativeEvent:M,targetContainers:[k]},d!==null&&(d=nt(d),d!==null&&qk(d)),l):(l.eventSystemFlags|=x,d=l.targetContainers,k!==null&&d.indexOf(k)===-1&&d.push(k),l)}function VY(l,d,m,x,k){switch(d){case"focusin":return Nu=yg(Nu,l,d,m,x,k),!0;case"dragenter":return Tu=yg(Tu,l,d,m,x,k),!0;case"mouseover":return Au=yg(Au,l,d,m,x,k),!0;case"pointerover":var M=k.pointerId;return pg.set(M,yg(pg.get(M)||null,l,d,m,x,k)),!0;case"gotpointercapture":return M=k.pointerId,gg.set(M,yg(gg.get(M)||null,l,d,m,x,k)),!0}return!1}function Hk(l){var d=Qe(l.target);if(d!==null){var m=me(d);if(m!==null){if(d=m.tag,d===13){if(d=ie(m),d!==null){l.blockedOn=d,ee(l.priority,function(){if(m.tag===13){var x=Di(),k=hu(m,x);k!==null&&Ja(k,m,x),P_(m,x)}});return}}else if(d===3&&m.stateNode.current.memoizedState.isDehydrated){l.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}l.blockedOn=null}function ex(l){if(l.blockedOn!==null)return!1;for(var d=l.targetContainers;0<d.length;){var m=M_(l.nativeEvent);if(m===null){m=l.nativeEvent;var x=new m.constructor(m.type,m);la=x,m.target.dispatchEvent(x),la=null}else return d=nt(m),d!==null&&qk(d),l.blockedOn=m,!1;d.shift()}return!0}function Gk(l,d,m){ex(l)&&m.delete(d)}function HY(){B_=!1,Nu!==null&&ex(Nu)&&(Nu=null),Tu!==null&&ex(Tu)&&(Tu=null),Au!==null&&ex(Au)&&(Au=null),pg.forEach(Gk),gg.forEach(Gk)}function tx(l,d){l.blockedOn===d&&(l.blockedOn=null,B_||(B_=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,HY)))}var nx=null;function Wk(l){nx!==l&&(nx=l,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){nx===l&&(nx=null);for(var d=0;d<l.length;d+=3){var m=l[d],x=l[d+1],k=l[d+2];if(typeof x!="function"){if(F_(x||m)===null)continue;break}var M=nt(m);M!==null&&(l.splice(d,3),d-=3,T2(M,{pending:!0,data:k,method:m.method,action:x},x,k))}}))}function vg(l){function d(ge){return tx(ge,l)}Nu!==null&&tx(Nu,l),Tu!==null&&tx(Tu,l),Au!==null&&tx(Au,l),pg.forEach(d),gg.forEach(d);for(var m=0;m<Lu.length;m++){var x=Lu[m];x.blockedOn===l&&(x.blockedOn=null)}for(;0<Lu.length&&(m=Lu[0],m.blockedOn===null);)Hk(m),m.blockedOn===null&&Lu.shift();if(m=(l.ownerDocument||l).$$reactFormReplay,m!=null)for(x=0;x<m.length;x+=3){var k=m[x],M=m[x+1],J=k[ue]||null;if(typeof M=="function")J||Wk(m);else if(J){var oe=null;if(M&&M.hasAttribute("formAction")){if(k=M,J=M[ue]||null)oe=J.formAction;else if(F_(k)!==null)continue}else oe=J.action;typeof oe=="function"?m[x+1]=oe:(m.splice(x,3),x-=3),Wk(m)}}}function U_(l){this._internalRoot=l}rx.prototype.render=U_.prototype.render=function(l){var d=this._internalRoot;if(d===null)throw Error(r(409));var m=d.current,x=Di();Uk(m,x,l,d,null,null)},rx.prototype.unmount=U_.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var d=l.containerInfo;l.tag===0&&Tf(),Uk(l.current,2,null,l,null,null),Bv(),d[he]=null}};function rx(l){this._internalRoot=l}rx.prototype.unstable_scheduleHydration=function(l){if(l){var d=no();l={blockedOn:null,target:l,priority:d};for(var m=0;m<Lu.length&&d!==0&&d<Lu[m].priority;m++);Lu.splice(m,0,l),m===0&&Hk(l)}};var Kk=e.version;if(Kk!=="19.0.0")throw Error(r(527,Kk,"19.0.0"));te.findDOMNode=function(l){var d=l._reactInternals;if(d===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=ye(d),l=l!==null?Q(l):null,l=l===null?null:l.stateNode,l};var GY={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:b,findFiberByHostInstance:Qe,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sx.isDisabled&&sx.supportsFiber)try{Br=sx.inject(GY),Vn=sx}catch{}}return bg.createRoot=function(l,d){if(!s(l))throw Error(r(299));var m=!1,x="",k=dR,M=hR,J=fR,oe=null;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(x=d.identifierPrefix),d.onUncaughtError!==void 0&&(k=d.onUncaughtError),d.onCaughtError!==void 0&&(M=d.onCaughtError),d.onRecoverableError!==void 0&&(J=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(oe=d.unstable_transitionCallbacks)),d=Fk(l,1,!1,null,null,m,x,k,M,J,oe,null),l[he]=d.current,E_(l.nodeType===8?l.parentNode:l),new U_(d)},bg.hydrateRoot=function(l,d,m){if(!s(l))throw Error(r(299));var x=!1,k="",M=dR,J=hR,oe=fR,ge=null,Se=null;return m!=null&&(m.unstable_strictMode===!0&&(x=!0),m.identifierPrefix!==void 0&&(k=m.identifierPrefix),m.onUncaughtError!==void 0&&(M=m.onUncaughtError),m.onCaughtError!==void 0&&(J=m.onCaughtError),m.onRecoverableError!==void 0&&(oe=m.onRecoverableError),m.unstable_transitionCallbacks!==void 0&&(ge=m.unstable_transitionCallbacks),m.formState!==void 0&&(Se=m.formState)),d=Fk(l,1,!0,d,m??null,x,k,M,J,oe,ge,Se),d.context=Bk(null),m=d.current,x=Di(),k=xu(x),k.callback=null,bu(m,k,x),d.current.lanes=x,bn(d,x),Cl(d),l[he]=d.current,E_(l),new rx(d)},bg.version="19.0.0",bg}var sO;function sX(){if(sO)return $_.exports;sO=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),$_.exports=rX(),$_.exports}var aX=sX(),W_={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var aO;function iX(){return aO||(aO=1,function(t){(function(){var e={}.hasOwnProperty;function n(){for(var i="",o=0;o<arguments.length;o++){var c=arguments[o];c&&(i=s(i,r(c)))}return i}function r(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return n.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var o="";for(var c in i)e.call(i,c)&&i[c]&&(o=s(o,c));return o}function s(i,o){return o?i?i+" "+o:i+o:i}t.exports?(n.default=n,t.exports=n):window.classNames=n})()}(W_)),W_.exports}var oX=iX();const It=rc(oX);function EC(){return EC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},EC.apply(null,arguments)}function v7(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function iO(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function lX(t){var e=cX(t,"string");return typeof e=="symbol"?e:String(e)}function cX(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function x7(t,e,n){var r=S.useRef(t!==void 0),s=S.useState(e),i=s[0],o=s[1],c=t!==void 0,u=r.current;return r.current=c,!c&&u&&i!==e&&o(e),[c?t:i,S.useCallback(function(h){for(var f=arguments.length,g=new Array(f>1?f-1:0),p=1;p<f;p++)g[p-1]=arguments[p];n&&n.apply(void 0,[h].concat(g)),o(h)},[n])]}function k1(t,e){return Object.keys(e).reduce(function(n,r){var s,i=n,o=i[iO(r)],c=i[r],u=v7(i,[iO(r),r].map(lX)),h=e[r],f=x7(c,o,t[h]),g=f[0],p=f[1];return EC({},u,(s={},s[r]=g,s[h]=p,s))},t)}function jC(t,e){return jC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},jC(t,e)}function uX(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,jC(t,e)}const dX=["xxl","xl","lg","md","sm","xs"],hX="xs",uy=S.createContext({prefixes:{},breakpoints:dX,minBreakpoint:hX}),{Consumer:NIe,Provider:TIe}=uy;function Yt(t,e){const{prefixes:n}=S.useContext(uy);return t||n[e]||e}function b7(){const{breakpoints:t}=S.useContext(uy);return t}function w7(){const{minBreakpoint:t}=S.useContext(uy);return t}function zT(){const{dir:t}=S.useContext(uy);return t==="rtl"}function dy(t){return t&&t.ownerDocument||document}function fX(t){var e=dy(t);return e&&e.defaultView||window}function mX(t,e){return fX(t).getComputedStyle(t,e)}var pX=/([A-Z])/g;function gX(t){return t.replace(pX,"-$1").toLowerCase()}var yX=/^ms-/;function ax(t){return gX(t).replace(yX,"-ms-")}var vX=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function xX(t){return!!(t&&vX.test(t))}function Mc(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(ax(e))||mX(t).getPropertyValue(ax(e));Object.keys(e).forEach(function(s){var i=e[s];!i&&i!==0?t.style.removeProperty(ax(s)):xX(s)?r+=s+"("+i+") ":n+=ax(s)+": "+i+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}var K_={exports:{}},Y_,oO;function bX(){if(oO)return Y_;oO=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Y_=t,Y_}var X_,lO;function wX(){if(lO)return X_;lO=1;var t=bX();function e(){}function n(){}return n.resetWarningCache=e,X_=function(){function r(o,c,u,h,f,g){if(g!==t){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}r.isRequired=r;function s(){return r}var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:e};return i.PropTypes=i,i},X_}var cO;function _X(){return cO||(cO=1,K_.exports=wX()()),K_.exports}var EX=_X();const pt=rc(EX);var Oh=y7();const sh=rc(Oh),uO={disabled:!1},_7=er.createContext(null);var jX=function(e){return e.scrollTop},Pg="unmounted",Fu="exited",Zo="entering",Rc="entered",_0="exiting",nu=function(t){uX(e,t);function e(r,s){var i;i=t.call(this,r,s)||this;var o=s,c=o&&!o.isMounting?r.enter:r.appear,u;return i.appearStatus=null,r.in?c?(u=Fu,i.appearStatus=Zo):u=Rc:r.unmountOnExit||r.mountOnEnter?u=Pg:u=Fu,i.state={status:u},i.nextCallback=null,i}e.getDerivedStateFromProps=function(s,i){var o=s.in;return o&&i.status===Pg?{status:Fu}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(s){var i=null;if(s!==this.props){var o=this.state.status;this.props.in?o!==Zo&&o!==Rc&&(i=Zo):(o===Zo||o===Rc)&&(i=_0)}this.updateStatus(!1,i)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var s=this.props.timeout,i,o,c;return i=o=c=s,s!=null&&typeof s!="number"&&(i=s.exit,o=s.enter,c=s.appear!==void 0?s.appear:o),{exit:i,enter:o,appear:c}},n.updateStatus=function(s,i){if(s===void 0&&(s=!1),i!==null)if(this.cancelNextCallback(),i===Zo){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:sh.findDOMNode(this);o&&jX(o)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Fu&&this.setState({status:Pg})},n.performEnter=function(s){var i=this,o=this.props.enter,c=this.context?this.context.isMounting:s,u=this.props.nodeRef?[c]:[sh.findDOMNode(this),c],h=u[0],f=u[1],g=this.getTimeouts(),p=c?g.appear:g.enter;if(!s&&!o||uO.disabled){this.safeSetState({status:Rc},function(){i.props.onEntered(h)});return}this.props.onEnter(h,f),this.safeSetState({status:Zo},function(){i.props.onEntering(h,f),i.onTransitionEnd(p,function(){i.safeSetState({status:Rc},function(){i.props.onEntered(h,f)})})})},n.performExit=function(){var s=this,i=this.props.exit,o=this.getTimeouts(),c=this.props.nodeRef?void 0:sh.findDOMNode(this);if(!i||uO.disabled){this.safeSetState({status:Fu},function(){s.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:_0},function(){s.props.onExiting(c),s.onTransitionEnd(o.exit,function(){s.safeSetState({status:Fu},function(){s.props.onExited(c)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(s,i){i=this.setNextCallback(i),this.setState(s,i)},n.setNextCallback=function(s){var i=this,o=!0;return this.nextCallback=function(c){o&&(o=!1,i.nextCallback=null,s(c))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(s,i){this.setNextCallback(i);var o=this.props.nodeRef?this.props.nodeRef.current:sh.findDOMNode(this),c=s==null&&!this.props.addEndListener;if(!o||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],h=u[0],f=u[1];this.props.addEndListener(h,f)}s!=null&&setTimeout(this.nextCallback,s)},n.render=function(){var s=this.state.status;if(s===Pg)return null;var i=this.props,o=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var c=v7(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return er.createElement(_7.Provider,{value:null},typeof o=="function"?o(s,c):er.cloneElement(er.Children.only(o),c))},e}(er.Component);nu.contextType=_7;nu.propTypes={};function If(){}nu.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:If,onEntering:If,onEntered:If,onExit:If,onExiting:If,onExited:If};nu.UNMOUNTED=Pg;nu.EXITED=Fu;nu.ENTERING=Zo;nu.ENTERED=Rc;nu.EXITING=_0;function E7(t){return t.code==="Escape"||t.keyCode===27}function SX(){const t=S.version.split(".");return{major:+t[0],minor:+t[1],patch:+t[2]}}function Ih(t){if(!t||typeof t=="function")return null;const{major:e}=SX();return e>=19?t.props.ref:t.ref}const O1=!!(typeof window<"u"&&window.document&&window.document.createElement);var SC=!1,CC=!1;try{var J_={get passive(){return SC=!0},get once(){return CC=SC=!0}};O1&&(window.addEventListener("test",J_,J_),window.removeEventListener("test",J_,!0))}catch{}function j7(t,e,n,r){if(r&&typeof r!="boolean"&&!CC){var s=r.once,i=r.capture,o=n;!CC&&s&&(o=n.__once||function c(u){this.removeEventListener(e,c,i),n.call(this,u)},n.__once=o),t.addEventListener(e,o,SC?r:i)}t.addEventListener(e,n,r)}function CX(t,e,n,r){var s=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,s),n.__once&&t.removeEventListener(e,n.__once,s)}function Oc(t,e,n,r){return j7(t,e,n,r),function(){CX(t,e,n,r)}}function NX(t,e,n,r){if(r===void 0&&(r=!0),t){var s=document.createEvent("HTMLEvents");s.initEvent(e,n,r),t.dispatchEvent(s)}}function TX(t){var e=Mc(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function AX(t,e,n){n===void 0&&(n=5);var r=!1,s=setTimeout(function(){r||NX(t,"transitionend",!0)},e+n),i=Oc(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(s),i()}}function LX(t,e,n,r){n==null&&(n=TX(t)||0);var s=AX(t,n,r),i=Oc(t,"transitionend",e);return function(){s(),i()}}function dO(t,e){const n=Mc(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function qT(t,e){const n=dO(t,"transitionDuration"),r=dO(t,"transitionDelay"),s=LX(t,i=>{i.target===t&&(s(),e(i))},n+r)}function wg(...t){return t.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...s){e.apply(this,s),n.apply(this,s)}},null)}function S7(t){t.offsetHeight}const hO=t=>!t||typeof t=="function"?t:e=>{t.current=e};function RX(t,e){const n=hO(t),r=hO(e);return s=>{n&&n(s),r&&r(s)}}function hy(t,e){return S.useMemo(()=>RX(t,e),[t,e])}function gb(t){return t&&"setState"in t?sh.findDOMNode(t):t??null}const $T=er.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:s,onExited:i,addEndListener:o,children:c,childRef:u,...h},f)=>{const g=S.useRef(null),p=hy(g,u),y=F=>{p(gb(F))},w=F=>_=>{F&&g.current&&F(g.current,_)},E=S.useCallback(w(t),[t]),j=S.useCallback(w(e),[e]),C=S.useCallback(w(n),[n]),O=S.useCallback(w(r),[r]),I=S.useCallback(w(s),[s]),D=S.useCallback(w(i),[i]),T=S.useCallback(w(o),[o]);return a.jsx(nu,{ref:f,...h,onEnter:E,onEntered:C,onEntering:j,onExit:O,onExited:D,onExiting:I,addEndListener:T,nodeRef:g,children:typeof c=="function"?(F,_)=>c(F,{..._,ref:y}):er.cloneElement(c,{ref:y})})}),kX={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function OX(t,e){const n=`offset${t[0].toUpperCase()}${t.slice(1)}`,r=e[n],s=kX[t];return r+parseInt(Mc(e,s[0]),10)+parseInt(Mc(e,s[1]),10)}const IX={[Fu]:"collapse",[_0]:"collapsing",[Zo]:"collapsing",[Rc]:"collapse show"},C7=er.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:s,className:i,children:o,dimension:c="height",in:u=!1,timeout:h=300,mountOnEnter:f=!1,unmountOnExit:g=!1,appear:p=!1,getDimensionValue:y=OX,...w},E)=>{const j=typeof c=="function"?c():c,C=S.useMemo(()=>wg(F=>{F.style[j]="0"},t),[j,t]),O=S.useMemo(()=>wg(F=>{const _=`scroll${j[0].toUpperCase()}${j.slice(1)}`;F.style[j]=`${F[_]}px`},e),[j,e]),I=S.useMemo(()=>wg(F=>{F.style[j]=null},n),[j,n]),D=S.useMemo(()=>wg(F=>{F.style[j]=`${y(j,F)}px`,S7(F)},r),[r,y,j]),T=S.useMemo(()=>wg(F=>{F.style[j]=null},s),[j,s]);return a.jsx($T,{ref:E,addEndListener:qT,...w,"aria-expanded":w.role?u:null,onEnter:C,onEntering:O,onEntered:I,onExit:D,onExiting:T,childRef:Ih(o),in:u,timeout:h,mountOnEnter:f,unmountOnExit:g,appear:p,children:(F,_)=>er.cloneElement(o,{..._,className:It(i,o.props.className,IX[F],j==="width"&&"collapse-horizontal")})})});function PX(t){const e=S.useRef(t);return S.useEffect(()=>{e.current=t},[t]),e}function Ph(t){const e=PX(t);return S.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const DX=t=>S.forwardRef((e,n)=>a.jsx("div",{...e,ref:n,className:It(e.className,t)}));function NC(){return S.useState(null)}function MX(t){const e=S.useRef(t);return S.useEffect(()=>{e.current=t},[t]),e}function ya(t){const e=MX(t);return S.useCallback(function(...n){return e.current&&e.current(...n)},[e])}function FX(t,e,n,r=!1){const s=ya(n);S.useEffect(()=>{const i=typeof t=="function"?t():t;return i.addEventListener(e,s,r),()=>i.removeEventListener(e,s,r)},[t])}function N7(){const t=S.useRef(!0),e=S.useRef(()=>t.current);return S.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function T7(t){const e=S.useRef(null);return S.useEffect(()=>{e.current=t}),e.current}const BX=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",UX=typeof document<"u",fO=UX||BX?S.useLayoutEffect:S.useEffect,zX=["as","disabled"];function qX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function $X(t){return!t||t.trim()==="#"}function VT({tagName:t,disabled:e,href:n,target:r,rel:s,role:i,onClick:o,tabIndex:c=0,type:u}){t||(n!=null||r!=null||s!=null?t="a":t="button");const h={tagName:t};if(t==="button")return[{type:u||"button",disabled:e},h];const f=p=>{if((e||t==="a"&&$X(n))&&p.preventDefault(),e){p.stopPropagation();return}o==null||o(p)},g=p=>{p.key===" "&&(p.preventDefault(),f(p))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:i??"button",disabled:void 0,tabIndex:e?void 0:c,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?s:void 0,onClick:f,onKeyDown:g},h]}const HT=S.forwardRef((t,e)=>{let{as:n,disabled:r}=t,s=qX(t,zX);const[i,{tagName:o}]=VT(Object.assign({tagName:n,disabled:r},s));return a.jsx(o,Object.assign({},s,i,{ref:e}))});HT.displayName="Button";const VX=["onKeyDown"];function HX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function GX(t){return!t||t.trim()==="#"}const GT=S.forwardRef((t,e)=>{let{onKeyDown:n}=t,r=HX(t,VX);const[s]=VT(Object.assign({tagName:"a"},r)),i=ya(o=>{s.onKeyDown(o),n==null||n(o)});return GX(r.href)||r.role==="button"?a.jsx("a",Object.assign({ref:e},r,s,{onKeyDown:i})):a.jsx("a",Object.assign({ref:e},r,{onKeyDown:n}))});GT.displayName="Anchor";const WX={[Zo]:"show",[Rc]:"show"},yb=S.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:r,...s},i)=>{const o={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...s},c=S.useCallback((u,h)=>{S7(u),r==null||r(u,h)},[r]);return a.jsx($T,{ref:i,addEndListener:qT,...o,onEnter:c,childRef:Ih(e),children:(u,h)=>S.cloneElement(e,{...h,className:It("fade",t,e.props.className,WX[u],n[u])})})});yb.displayName="Fade";const KX={"aria-label":pt.string,onClick:pt.func,variant:pt.oneOf(["white"])},WT=S.forwardRef(({className:t,variant:e,"aria-label":n="Close",...r},s)=>a.jsx("button",{ref:s,type:"button",className:It("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...r}));WT.displayName="CloseButton";WT.propTypes=KX;const KT=S.forwardRef(({bsPrefix:t,bg:e="primary",pill:n=!1,text:r,className:s,as:i="span",...o},c)=>{const u=Yt(t,"badge");return a.jsx(i,{ref:c,...o,className:It(s,u,n&&"rounded-pill",r&&`text-${r}`,e&&`bg-${e}`)})});KT.displayName="Badge";const se=S.forwardRef(({as:t,bsPrefix:e,variant:n="primary",size:r,active:s=!1,disabled:i=!1,className:o,...c},u)=>{const h=Yt(e,"btn"),[f,{tagName:g}]=VT({tagName:t,disabled:i,...c}),p=g;return a.jsx(p,{...f,...c,ref:u,disabled:i,className:It(o,h,s&&"active",n&&`${h}-${n}`,r&&`${h}-${r}`,c.href&&i&&"disabled")})});se.displayName="Button";const A7=S.createContext(null);A7.displayName="CardHeaderContext";function YX(){const t=S.useRef(!0),e=S.useRef(()=>t.current);return S.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function XX(t){const e=S.useRef(t);return e.current=t,e}function JX(t){const e=XX(t);S.useEffect(()=>()=>e.current(),[])}const TC=2**31-1;function L7(t,e,n){const r=n-Date.now();t.current=r<=TC?setTimeout(e,r):setTimeout(()=>L7(t,e,n),TC)}function QX(){const t=YX(),e=S.useRef();return JX(()=>clearTimeout(e.current)),S.useMemo(()=>{const n=()=>clearTimeout(e.current);function r(s,i=0){t()&&(n(),i<=TC?e.current=setTimeout(s,i):L7(e,s,Date.now()+i))}return{set:r,clear:n,handleRef:e}},[])}function ZX(t,e){return S.Children.toArray(t).some(n=>S.isValidElement(n)&&n.type===e)}function eJ({as:t,bsPrefix:e,className:n,...r}){e=Yt(e,"col");const s=b7(),i=w7(),o=[],c=[];return s.forEach(u=>{const h=r[u];delete r[u];let f,g,p;typeof h=="object"&&h!=null?{span:f,offset:g,order:p}=h:f=h;const y=u!==i?`-${u}`:"";f&&o.push(f===!0?`${e}${y}`:`${e}${y}-${f}`),p!=null&&c.push(`order${y}-${p}`),g!=null&&c.push(`offset${y}-${g}`)}),[{...r,className:It(n,...o,...c)},{as:t,bsPrefix:e,spans:o}]}const z=S.forwardRef((t,e)=>{const[{className:n,...r},{as:s="div",bsPrefix:i,spans:o}]=eJ(t);return a.jsx(s,{...r,ref:e,className:It(n,!o.length&&i)})});z.displayName="Col";const B=S.forwardRef(({bsPrefix:t,fluid:e=!1,as:n="div",className:r,...s},i)=>{const o=Yt(t,"container"),c=typeof e=="string"?`-${e}`:"-fluid";return a.jsx(n,{ref:i,...s,className:It(r,e?`${o}${c}`:o)})});B.displayName="Container";var tJ=Function.prototype.bind.call(Function.prototype.call,[].slice);function Ac(t,e){return tJ(t.querySelectorAll(e))}function nJ(t,e,n){const r=S.useRef(t!==void 0),[s,i]=S.useState(e),o=t!==void 0,c=r.current;return r.current=o,!o&&c&&s!==e&&i(e),[o?t:s,S.useCallback((...u)=>{const[h,...f]=u;let g=n==null?void 0:n(h,...f);return i(h),g},[n])]}function R7(){const[,t]=S.useReducer(e=>e+1,0);return t}const I1=S.createContext(null);var mO=Object.prototype.hasOwnProperty;function pO(t,e,n){for(n of t.keys())if(Wg(n,e))return n}function Wg(t,e){var n,r,s;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&Wg(t[r],e[r]););return r===-1}if(n===Set){if(t.size!==e.size)return!1;for(r of t)if(s=r,s&&typeof s=="object"&&(s=pO(e,s),!s)||!e.has(s))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(r of t)if(s=r[0],s&&typeof s=="object"&&(s=pO(e,s),!s)||!Wg(r[1],e.get(s)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((r=t.byteLength)===e.byteLength)for(;r--&&t.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(t)){if((r=t.byteLength)===e.byteLength)for(;r--&&t[r]===e[r];);return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(mO.call(t,n)&&++r&&!mO.call(e,n)||!(n in e)||!Wg(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}function rJ(t){const e=N7();return[t[0],S.useCallback(n=>{if(e())return t[1](n)},[e,t[1]])]}var yi="top",Lo="bottom",Ro="right",vi="left",YT="auto",fy=[yi,Lo,Ro,vi],wm="start",E0="end",sJ="clippingParents",k7="viewport",_g="popper",aJ="reference",gO=fy.reduce(function(t,e){return t.concat([e+"-"+wm,e+"-"+E0])},[]),O7=[].concat(fy,[YT]).reduce(function(t,e){return t.concat([e,e+"-"+wm,e+"-"+E0])},[]),iJ="beforeRead",oJ="read",lJ="afterRead",cJ="beforeMain",uJ="main",dJ="afterMain",hJ="beforeWrite",fJ="write",mJ="afterWrite",pJ=[iJ,oJ,lJ,cJ,uJ,dJ,hJ,fJ,mJ];function Bl(t){return t.split("-")[0]}function Ki(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function ph(t){var e=Ki(t).Element;return t instanceof e||t instanceof Element}function Ul(t){var e=Ki(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function XT(t){if(typeof ShadowRoot>"u")return!1;var e=Ki(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var ch=Math.max,vb=Math.min,_m=Math.round;function AC(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function I7(){return!/^((?!chrome|android).)*safari/i.test(AC())}function Em(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),s=1,i=1;e&&Ul(t)&&(s=t.offsetWidth>0&&_m(r.width)/t.offsetWidth||1,i=t.offsetHeight>0&&_m(r.height)/t.offsetHeight||1);var o=ph(t)?Ki(t):window,c=o.visualViewport,u=!I7()&&n,h=(r.left+(u&&c?c.offsetLeft:0))/s,f=(r.top+(u&&c?c.offsetTop:0))/i,g=r.width/s,p=r.height/i;return{width:g,height:p,top:f,right:h+g,bottom:f+p,left:h,x:h,y:f}}function JT(t){var e=Em(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function P7(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&XT(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function od(t){return t?(t.nodeName||"").toLowerCase():null}function $c(t){return Ki(t).getComputedStyle(t)}function gJ(t){return["table","td","th"].indexOf(od(t))>=0}function wd(t){return((ph(t)?t.ownerDocument:t.document)||window.document).documentElement}function P1(t){return od(t)==="html"?t:t.assignedSlot||t.parentNode||(XT(t)?t.host:null)||wd(t)}function yO(t){return!Ul(t)||$c(t).position==="fixed"?null:t.offsetParent}function yJ(t){var e=/firefox/i.test(AC()),n=/Trident/i.test(AC());if(n&&Ul(t)){var r=$c(t);if(r.position==="fixed")return null}var s=P1(t);for(XT(s)&&(s=s.host);Ul(s)&&["html","body"].indexOf(od(s))<0;){var i=$c(s);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||e&&i.willChange==="filter"||e&&i.filter&&i.filter!=="none")return s;s=s.parentNode}return null}function my(t){for(var e=Ki(t),n=yO(t);n&&gJ(n)&&$c(n).position==="static";)n=yO(n);return n&&(od(n)==="html"||od(n)==="body"&&$c(n).position==="static")?e:n||yJ(t)||e}function QT(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Kg(t,e,n){return ch(t,vb(e,n))}function vJ(t,e,n){var r=Kg(t,e,n);return r>n?n:r}function D7(){return{top:0,right:0,bottom:0,left:0}}function M7(t){return Object.assign({},D7(),t)}function F7(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var xJ=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,M7(typeof e!="number"?e:F7(e,fy))};function bJ(t){var e,n=t.state,r=t.name,s=t.options,i=n.elements.arrow,o=n.modifiersData.popperOffsets,c=Bl(n.placement),u=QT(c),h=[vi,Ro].indexOf(c)>=0,f=h?"height":"width";if(!(!i||!o)){var g=xJ(s.padding,n),p=JT(i),y=u==="y"?yi:vi,w=u==="y"?Lo:Ro,E=n.rects.reference[f]+n.rects.reference[u]-o[u]-n.rects.popper[f],j=o[u]-n.rects.reference[u],C=my(i),O=C?u==="y"?C.clientHeight||0:C.clientWidth||0:0,I=E/2-j/2,D=g[y],T=O-p[f]-g[w],F=O/2-p[f]/2+I,_=Kg(D,F,T),R=u;n.modifiersData[r]=(e={},e[R]=_,e.centerOffset=_-F,e)}}function wJ(t){var e=t.state,n=t.options,r=n.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||P7(e.elements.popper,s)&&(e.elements.arrow=s))}const _J={name:"arrow",enabled:!0,phase:"main",fn:bJ,effect:wJ,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function jm(t){return t.split("-")[1]}var EJ={top:"auto",right:"auto",bottom:"auto",left:"auto"};function jJ(t,e){var n=t.x,r=t.y,s=e.devicePixelRatio||1;return{x:_m(n*s)/s||0,y:_m(r*s)/s||0}}function vO(t){var e,n=t.popper,r=t.popperRect,s=t.placement,i=t.variation,o=t.offsets,c=t.position,u=t.gpuAcceleration,h=t.adaptive,f=t.roundOffsets,g=t.isFixed,p=o.x,y=p===void 0?0:p,w=o.y,E=w===void 0?0:w,j=typeof f=="function"?f({x:y,y:E}):{x:y,y:E};y=j.x,E=j.y;var C=o.hasOwnProperty("x"),O=o.hasOwnProperty("y"),I=vi,D=yi,T=window;if(h){var F=my(n),_="clientHeight",R="clientWidth";if(F===Ki(n)&&(F=wd(n),$c(F).position!=="static"&&c==="absolute"&&(_="scrollHeight",R="scrollWidth")),F=F,s===yi||(s===vi||s===Ro)&&i===E0){D=Lo;var b=g&&F===T&&T.visualViewport?T.visualViewport.height:F[_];E-=b-r.height,E*=u?1:-1}if(s===vi||(s===yi||s===Lo)&&i===E0){I=Ro;var A=g&&F===T&&T.visualViewport?T.visualViewport.width:F[R];y-=A-r.width,y*=u?1:-1}}var L=Object.assign({position:c},h&&EJ),U=f===!0?jJ({x:y,y:E},Ki(n)):{x:y,y:E};if(y=U.x,E=U.y,u){var P;return Object.assign({},L,(P={},P[D]=O?"0":"",P[I]=C?"0":"",P.transform=(T.devicePixelRatio||1)<=1?"translate("+y+"px, "+E+"px)":"translate3d("+y+"px, "+E+"px, 0)",P))}return Object.assign({},L,(e={},e[D]=O?E+"px":"",e[I]=C?y+"px":"",e.transform="",e))}function SJ(t){var e=t.state,n=t.options,r=n.gpuAcceleration,s=r===void 0?!0:r,i=n.adaptive,o=i===void 0?!0:i,c=n.roundOffsets,u=c===void 0?!0:c,h={placement:Bl(e.placement),variation:jm(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,vO(Object.assign({},h,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:u})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,vO(Object.assign({},h,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const CJ={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:SJ,data:{}};var ix={passive:!0};function NJ(t){var e=t.state,n=t.instance,r=t.options,s=r.scroll,i=s===void 0?!0:s,o=r.resize,c=o===void 0?!0:o,u=Ki(e.elements.popper),h=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&h.forEach(function(f){f.addEventListener("scroll",n.update,ix)}),c&&u.addEventListener("resize",n.update,ix),function(){i&&h.forEach(function(f){f.removeEventListener("scroll",n.update,ix)}),c&&u.removeEventListener("resize",n.update,ix)}}const TJ={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:NJ,data:{}};var AJ={left:"right",right:"left",bottom:"top",top:"bottom"};function Kx(t){return t.replace(/left|right|bottom|top/g,function(e){return AJ[e]})}var LJ={start:"end",end:"start"};function xO(t){return t.replace(/start|end/g,function(e){return LJ[e]})}function ZT(t){var e=Ki(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function eA(t){return Em(wd(t)).left+ZT(t).scrollLeft}function RJ(t,e){var n=Ki(t),r=wd(t),s=n.visualViewport,i=r.clientWidth,o=r.clientHeight,c=0,u=0;if(s){i=s.width,o=s.height;var h=I7();(h||!h&&e==="fixed")&&(c=s.offsetLeft,u=s.offsetTop)}return{width:i,height:o,x:c+eA(t),y:u}}function kJ(t){var e,n=wd(t),r=ZT(t),s=(e=t.ownerDocument)==null?void 0:e.body,i=ch(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=ch(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),c=-r.scrollLeft+eA(t),u=-r.scrollTop;return $c(s||n).direction==="rtl"&&(c+=ch(n.clientWidth,s?s.clientWidth:0)-i),{width:i,height:o,x:c,y:u}}function tA(t){var e=$c(t),n=e.overflow,r=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+r)}function B7(t){return["html","body","#document"].indexOf(od(t))>=0?t.ownerDocument.body:Ul(t)&&tA(t)?t:B7(P1(t))}function Yg(t,e){var n;e===void 0&&(e=[]);var r=B7(t),s=r===((n=t.ownerDocument)==null?void 0:n.body),i=Ki(r),o=s?[i].concat(i.visualViewport||[],tA(r)?r:[]):r,c=e.concat(o);return s?c:c.concat(Yg(P1(o)))}function LC(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function OJ(t,e){var n=Em(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function bO(t,e,n){return e===k7?LC(RJ(t,n)):ph(e)?OJ(e,n):LC(kJ(wd(t)))}function IJ(t){var e=Yg(P1(t)),n=["absolute","fixed"].indexOf($c(t).position)>=0,r=n&&Ul(t)?my(t):t;return ph(r)?e.filter(function(s){return ph(s)&&P7(s,r)&&od(s)!=="body"}):[]}function PJ(t,e,n,r){var s=e==="clippingParents"?IJ(t):[].concat(e),i=[].concat(s,[n]),o=i[0],c=i.reduce(function(u,h){var f=bO(t,h,r);return u.top=ch(f.top,u.top),u.right=vb(f.right,u.right),u.bottom=vb(f.bottom,u.bottom),u.left=ch(f.left,u.left),u},bO(t,o,r));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function U7(t){var e=t.reference,n=t.element,r=t.placement,s=r?Bl(r):null,i=r?jm(r):null,o=e.x+e.width/2-n.width/2,c=e.y+e.height/2-n.height/2,u;switch(s){case yi:u={x:o,y:e.y-n.height};break;case Lo:u={x:o,y:e.y+e.height};break;case Ro:u={x:e.x+e.width,y:c};break;case vi:u={x:e.x-n.width,y:c};break;default:u={x:e.x,y:e.y}}var h=s?QT(s):null;if(h!=null){var f=h==="y"?"height":"width";switch(i){case wm:u[h]=u[h]-(e[f]/2-n[f]/2);break;case E0:u[h]=u[h]+(e[f]/2-n[f]/2);break}}return u}function j0(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=r===void 0?t.placement:r,i=n.strategy,o=i===void 0?t.strategy:i,c=n.boundary,u=c===void 0?sJ:c,h=n.rootBoundary,f=h===void 0?k7:h,g=n.elementContext,p=g===void 0?_g:g,y=n.altBoundary,w=y===void 0?!1:y,E=n.padding,j=E===void 0?0:E,C=M7(typeof j!="number"?j:F7(j,fy)),O=p===_g?aJ:_g,I=t.rects.popper,D=t.elements[w?O:p],T=PJ(ph(D)?D:D.contextElement||wd(t.elements.popper),u,f,o),F=Em(t.elements.reference),_=U7({reference:F,element:I,placement:s}),R=LC(Object.assign({},I,_)),b=p===_g?R:F,A={top:T.top-b.top+C.top,bottom:b.bottom-T.bottom+C.bottom,left:T.left-b.left+C.left,right:b.right-T.right+C.right},L=t.modifiersData.offset;if(p===_g&&L){var U=L[s];Object.keys(A).forEach(function(P){var K=[Ro,Lo].indexOf(P)>=0?1:-1,G=[yi,Lo].indexOf(P)>=0?"y":"x";A[P]+=U[G]*K})}return A}function DJ(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=n.boundary,i=n.rootBoundary,o=n.padding,c=n.flipVariations,u=n.allowedAutoPlacements,h=u===void 0?O7:u,f=jm(r),g=f?c?gO:gO.filter(function(w){return jm(w)===f}):fy,p=g.filter(function(w){return h.indexOf(w)>=0});p.length===0&&(p=g);var y=p.reduce(function(w,E){return w[E]=j0(t,{placement:E,boundary:s,rootBoundary:i,padding:o})[Bl(E)],w},{});return Object.keys(y).sort(function(w,E){return y[w]-y[E]})}function MJ(t){if(Bl(t)===YT)return[];var e=Kx(t);return[xO(t),e,xO(e)]}function FJ(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var s=n.mainAxis,i=s===void 0?!0:s,o=n.altAxis,c=o===void 0?!0:o,u=n.fallbackPlacements,h=n.padding,f=n.boundary,g=n.rootBoundary,p=n.altBoundary,y=n.flipVariations,w=y===void 0?!0:y,E=n.allowedAutoPlacements,j=e.options.placement,C=Bl(j),O=C===j,I=u||(O||!w?[Kx(j)]:MJ(j)),D=[j].concat(I).reduce(function(te,X){return te.concat(Bl(X)===YT?DJ(e,{placement:X,boundary:f,rootBoundary:g,padding:h,flipVariations:w,allowedAutoPlacements:E}):X)},[]),T=e.rects.reference,F=e.rects.popper,_=new Map,R=!0,b=D[0],A=0;A<D.length;A++){var L=D[A],U=Bl(L),P=jm(L)===wm,K=[yi,Lo].indexOf(U)>=0,G=K?"width":"height",re=j0(e,{placement:L,boundary:f,rootBoundary:g,altBoundary:p,padding:h}),Z=K?P?Ro:vi:P?Lo:yi;T[G]>F[G]&&(Z=Kx(Z));var me=Kx(Z),ie=[];if(i&&ie.push(re[U]<=0),c&&ie.push(re[Z]<=0,re[me]<=0),ie.every(function(te){return te})){b=L,R=!1;break}_.set(L,ie)}if(R)for(var W=w?3:1,ye=function(X){var xe=D.find(function(Ne){var je=_.get(Ne);if(je)return je.slice(0,X).every(function(Ie){return Ie})});if(xe)return b=xe,"break"},Q=W;Q>0;Q--){var ne=ye(Q);if(ne==="break")break}e.placement!==b&&(e.modifiersData[r]._skip=!0,e.placement=b,e.reset=!0)}}const BJ={name:"flip",enabled:!0,phase:"main",fn:FJ,requiresIfExists:["offset"],data:{_skip:!1}};function wO(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function _O(t){return[yi,Ro,Lo,vi].some(function(e){return t[e]>=0})}function UJ(t){var e=t.state,n=t.name,r=e.rects.reference,s=e.rects.popper,i=e.modifiersData.preventOverflow,o=j0(e,{elementContext:"reference"}),c=j0(e,{altBoundary:!0}),u=wO(o,r),h=wO(c,s,i),f=_O(u),g=_O(h);e.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:h,isReferenceHidden:f,hasPopperEscaped:g},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":g})}const zJ={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:UJ};function qJ(t,e,n){var r=Bl(t),s=[vi,yi].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=i[0],c=i[1];return o=o||0,c=(c||0)*s,[vi,Ro].indexOf(r)>=0?{x:c,y:o}:{x:o,y:c}}function $J(t){var e=t.state,n=t.options,r=t.name,s=n.offset,i=s===void 0?[0,0]:s,o=O7.reduce(function(f,g){return f[g]=qJ(g,e.rects,i),f},{}),c=o[e.placement],u=c.x,h=c.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=u,e.modifiersData.popperOffsets.y+=h),e.modifiersData[r]=o}const VJ={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:$J};function HJ(t){var e=t.state,n=t.name;e.modifiersData[n]=U7({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const GJ={name:"popperOffsets",enabled:!0,phase:"read",fn:HJ,data:{}};function WJ(t){return t==="x"?"y":"x"}function KJ(t){var e=t.state,n=t.options,r=t.name,s=n.mainAxis,i=s===void 0?!0:s,o=n.altAxis,c=o===void 0?!1:o,u=n.boundary,h=n.rootBoundary,f=n.altBoundary,g=n.padding,p=n.tether,y=p===void 0?!0:p,w=n.tetherOffset,E=w===void 0?0:w,j=j0(e,{boundary:u,rootBoundary:h,padding:g,altBoundary:f}),C=Bl(e.placement),O=jm(e.placement),I=!O,D=QT(C),T=WJ(D),F=e.modifiersData.popperOffsets,_=e.rects.reference,R=e.rects.popper,b=typeof E=="function"?E(Object.assign({},e.rects,{placement:e.placement})):E,A=typeof b=="number"?{mainAxis:b,altAxis:b}:Object.assign({mainAxis:0,altAxis:0},b),L=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,U={x:0,y:0};if(F){if(i){var P,K=D==="y"?yi:vi,G=D==="y"?Lo:Ro,re=D==="y"?"height":"width",Z=F[D],me=Z+j[K],ie=Z-j[G],W=y?-R[re]/2:0,ye=O===wm?_[re]:R[re],Q=O===wm?-R[re]:-_[re],ne=e.elements.arrow,te=y&&ne?JT(ne):{width:0,height:0},X=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:D7(),xe=X[K],Ne=X[G],je=Kg(0,_[re],te[re]),Ie=I?_[re]/2-W-je-xe-A.mainAxis:ye-je-xe-A.mainAxis,_e=I?-_[re]/2+W+je+Ne+A.mainAxis:Q+je+Ne+A.mainAxis,Ue=e.elements.arrow&&my(e.elements.arrow),tt=Ue?D==="y"?Ue.clientTop||0:Ue.clientLeft||0:0,ct=(P=L==null?void 0:L[D])!=null?P:0,ut=Z+Ie-ct-tt,Ye=Z+_e-ct,jt=Kg(y?vb(me,ut):me,Z,y?ch(ie,Ye):ie);F[D]=jt,U[D]=jt-Z}if(c){var Ze,Ut=D==="x"?yi:vi,Cn=D==="x"?Lo:Ro,fn=F[T],yn=T==="y"?"height":"width",ur=fn+j[Ut],sr=fn-j[Cn],We=[yi,vi].indexOf(C)!==-1,xt=(Ze=L==null?void 0:L[T])!=null?Ze:0,Dt=We?ur:fn-_[yn]-R[yn]-xt+A.altAxis,Rt=We?fn+_[yn]+R[yn]-xt-A.altAxis:sr,on=y&&We?vJ(Dt,fn,Rt):Kg(y?Dt:ur,fn,y?Rt:sr);F[T]=on,U[T]=on-fn}e.modifiersData[r]=U}}const YJ={name:"preventOverflow",enabled:!0,phase:"main",fn:KJ,requiresIfExists:["offset"]};function XJ(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function JJ(t){return t===Ki(t)||!Ul(t)?ZT(t):XJ(t)}function QJ(t){var e=t.getBoundingClientRect(),n=_m(e.width)/t.offsetWidth||1,r=_m(e.height)/t.offsetHeight||1;return n!==1||r!==1}function ZJ(t,e,n){n===void 0&&(n=!1);var r=Ul(e),s=Ul(e)&&QJ(e),i=wd(e),o=Em(t,s,n),c={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&((od(e)!=="body"||tA(i))&&(c=JJ(e)),Ul(e)?(u=Em(e,!0),u.x+=e.clientLeft,u.y+=e.clientTop):i&&(u.x=eA(i))),{x:o.left+c.scrollLeft-u.x,y:o.top+c.scrollTop-u.y,width:o.width,height:o.height}}function eQ(t){var e=new Map,n=new Set,r=[];t.forEach(function(i){e.set(i.name,i)});function s(i){n.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(c){if(!n.has(c)){var u=e.get(c);u&&s(u)}}),r.push(i)}return t.forEach(function(i){n.has(i.name)||s(i)}),r}function tQ(t){var e=eQ(t);return pJ.reduce(function(n,r){return n.concat(e.filter(function(s){return s.phase===r}))},[])}function nQ(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function rQ(t){var e=t.reduce(function(n,r){var s=n[r.name];return n[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var EO={placement:"bottom",modifiers:[],strategy:"absolute"};function jO(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function sQ(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,s=e.defaultOptions,i=s===void 0?EO:s;return function(c,u,h){h===void 0&&(h=i);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},EO,i),modifiersData:{},elements:{reference:c,popper:u},attributes:{},styles:{}},g=[],p=!1,y={state:f,setOptions:function(C){var O=typeof C=="function"?C(f.options):C;E(),f.options=Object.assign({},i,f.options,O),f.scrollParents={reference:ph(c)?Yg(c):c.contextElement?Yg(c.contextElement):[],popper:Yg(u)};var I=tQ(rQ([].concat(r,f.options.modifiers)));return f.orderedModifiers=I.filter(function(D){return D.enabled}),w(),y.update()},forceUpdate:function(){if(!p){var C=f.elements,O=C.reference,I=C.popper;if(jO(O,I)){f.rects={reference:ZJ(O,my(I),f.options.strategy==="fixed"),popper:JT(I)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(A){return f.modifiersData[A.name]=Object.assign({},A.data)});for(var D=0;D<f.orderedModifiers.length;D++){if(f.reset===!0){f.reset=!1,D=-1;continue}var T=f.orderedModifiers[D],F=T.fn,_=T.options,R=_===void 0?{}:_,b=T.name;typeof F=="function"&&(f=F({state:f,options:R,name:b,instance:y})||f)}}}},update:nQ(function(){return new Promise(function(j){y.forceUpdate(),j(f)})}),destroy:function(){E(),p=!0}};if(!jO(c,u))return y;y.setOptions(h).then(function(j){!p&&h.onFirstUpdate&&h.onFirstUpdate(j)});function w(){f.orderedModifiers.forEach(function(j){var C=j.name,O=j.options,I=O===void 0?{}:O,D=j.effect;if(typeof D=="function"){var T=D({state:f,name:C,instance:y,options:I}),F=function(){};g.push(T||F)}})}function E(){g.forEach(function(j){return j()}),g=[]}return y}}const aQ=sQ({defaultModifiers:[zJ,GJ,CJ,TJ,VJ,BJ,YJ,_J]}),iQ=["enabled","placement","strategy","modifiers"];function oQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const lQ={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},cQ={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:t})=>()=>{const{reference:e,popper:n}=t.elements;if("removeAttribute"in e){const r=(e.getAttribute("aria-describedby")||"").split(",").filter(s=>s.trim()!==n.id);r.length?e.setAttribute("aria-describedby",r.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:t})=>{var e;const{popper:n,reference:r}=t.elements,s=(e=n.getAttribute("role"))==null?void 0:e.toLowerCase();if(n.id&&s==="tooltip"&&"setAttribute"in r){const i=r.getAttribute("aria-describedby");if(i&&i.split(",").indexOf(n.id)!==-1)return;r.setAttribute("aria-describedby",i?`${i},${n.id}`:n.id)}}},uQ=[];function z7(t,e,n={}){let{enabled:r=!0,placement:s="bottom",strategy:i="absolute",modifiers:o=uQ}=n,c=oQ(n,iQ);const u=S.useRef(o),h=S.useRef(),f=S.useCallback(()=>{var j;(j=h.current)==null||j.update()},[]),g=S.useCallback(()=>{var j;(j=h.current)==null||j.forceUpdate()},[]),[p,y]=rJ(S.useState({placement:s,update:f,forceUpdate:g,attributes:{},styles:{popper:{},arrow:{}}})),w=S.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:j})=>{const C={},O={};Object.keys(j.elements).forEach(I=>{C[I]=j.styles[I],O[I]=j.attributes[I]}),y({state:j,styles:C,attributes:O,update:f,forceUpdate:g,placement:j.placement})}}),[f,g,y]),E=S.useMemo(()=>(Wg(u.current,o)||(u.current=o),u.current),[o]);return S.useEffect(()=>{!h.current||!r||h.current.setOptions({placement:s,strategy:i,modifiers:[...E,w,lQ]})},[i,s,w,r,E]),S.useEffect(()=>{if(!(!r||t==null||e==null))return h.current=aQ(t,e,Object.assign({},c,{placement:s,strategy:i,modifiers:[...E,cQ,w]})),()=>{h.current!=null&&(h.current.destroy(),h.current=void 0,y(j=>Object.assign({},j,{attributes:{},styles:{popper:{}}})))}},[r,t,e]),p}function S0(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}var Q_,SO;function dQ(){if(SO)return Q_;SO=1;var t=function(){};return Q_=t,Q_}var hQ=dQ();const fQ=rc(hQ),CO=()=>{};function mQ(t){return t.button===0}function pQ(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}const Yx=t=>t&&("current"in t?t.current:t),NO={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function q7(t,e=CO,{disabled:n,clickTrigger:r="click"}={}){const s=S.useRef(!1),i=S.useRef(!1),o=S.useCallback(h=>{const f=Yx(t);fQ(!!f,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),s.current=!f||pQ(h)||!mQ(h)||!!S0(f,h.target)||i.current,i.current=!1},[t]),c=ya(h=>{const f=Yx(t);f&&S0(f,h.target)?i.current=!0:i.current=!1}),u=ya(h=>{s.current||e(h)});S.useEffect(()=>{var h,f;if(n||t==null)return;const g=dy(Yx(t)),p=g.defaultView||window;let y=(h=p.event)!=null?h:(f=p.parent)==null?void 0:f.event,w=null;NO[r]&&(w=Oc(g,NO[r],c,!0));const E=Oc(g,r,o,!0),j=Oc(g,r,O=>{if(O===y){y=void 0;return}u(O)});let C=[];return"ontouchstart"in g.documentElement&&(C=[].slice.call(g.body.children).map(O=>Oc(O,"mousemove",CO))),()=>{w==null||w(),E(),j(),C.forEach(O=>O())}},[t,n,r,o,c,u])}function gQ(t){const e={};return Array.isArray(t)?(t==null||t.forEach(n=>{e[n.name]=n}),e):t||e}function yQ(t={}){return Array.isArray(t)?t:Object.keys(t).map(e=>(t[e].name=e,t[e]))}function $7({enabled:t,enableEvents:e,placement:n,flip:r,offset:s,fixed:i,containerPadding:o,arrowElement:c,popperConfig:u={}}){var h,f,g,p,y;const w=gQ(u.modifiers);return Object.assign({},u,{placement:n,enabled:t,strategy:i?"fixed":u.strategy,modifiers:yQ(Object.assign({},w,{eventListeners:{enabled:e,options:(h=w.eventListeners)==null?void 0:h.options},preventOverflow:Object.assign({},w.preventOverflow,{options:o?Object.assign({padding:o},(f=w.preventOverflow)==null?void 0:f.options):(g=w.preventOverflow)==null?void 0:g.options}),offset:{options:Object.assign({offset:s},(p=w.offset)==null?void 0:p.options)},arrow:Object.assign({},w.arrow,{enabled:!!c,options:Object.assign({},(y=w.arrow)==null?void 0:y.options,{element:c})}),flip:Object.assign({enabled:!!r},w.flip)}))})}const vQ=["children","usePopper"];function xQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const bQ=()=>{};function V7(t={}){const e=S.useContext(I1),[n,r]=NC(),s=S.useRef(!1),{flip:i,offset:o,rootCloseEvent:c,fixed:u=!1,placement:h,popperConfig:f={},enableEventListeners:g=!0,usePopper:p=!!e}=t,y=(e==null?void 0:e.show)==null?!!t.show:e.show;y&&!s.current&&(s.current=!0);const w=F=>{e==null||e.toggle(!1,F)},{placement:E,setMenu:j,menuElement:C,toggleElement:O}=e||{},I=z7(O,C,$7({placement:h||E||"bottom-start",enabled:p,enableEvents:g??y,offset:o,flip:i,fixed:u,arrowElement:n,popperConfig:f})),D=Object.assign({ref:j||bQ,"aria-labelledby":O==null?void 0:O.id},I.attributes.popper,{style:I.styles.popper}),T={show:y,placement:E,hasShown:s.current,toggle:e==null?void 0:e.toggle,popper:p?I:null,arrowProps:p?Object.assign({ref:r},I.attributes.arrow,{style:I.styles.arrow}):{}};return q7(C,w,{clickTrigger:c,disabled:!y}),[D,T]}function H7(t){let{children:e,usePopper:n=!0}=t,r=xQ(t,vQ);const[s,i]=V7(Object.assign({},r,{usePopper:n}));return a.jsx(a.Fragment,{children:e(s,i)})}H7.displayName="DropdownMenu";const nA={prefix:String(Math.round(Math.random()*1e10)),current:0},G7=er.createContext(nA),wQ=er.createContext(!1);let _Q=!!(typeof window<"u"&&window.document&&window.document.createElement),Z_=new WeakMap;function EQ(t=!1){let e=S.useContext(G7),n=S.useRef(null);if(n.current===null&&!t){var r,s;let i=(s=er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||s===void 0||(r=s.ReactCurrentOwner)===null||r===void 0?void 0:r.current;if(i){let o=Z_.get(i);o==null?Z_.set(i,{id:e.current,state:i.memoizedState}):i.memoizedState!==o.state&&(e.current=o.id,Z_.delete(i))}n.current=++e.current}return n.current}function jQ(t){let e=S.useContext(G7);e===nA&&!_Q&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let n=EQ(!!t),r=`react-aria${e.prefix}`;return t||`${r}-${n}`}function SQ(t){let e=er.useId(),[n]=S.useState(LQ()),r=n?"react-aria":`react-aria${nA.prefix}`;return t||`${r}-${e}`}const CQ=typeof er.useId=="function"?SQ:jQ;function NQ(){return!1}function TQ(){return!0}function AQ(t){return()=>{}}function LQ(){return typeof er.useSyncExternalStore=="function"?er.useSyncExternalStore(AQ,NQ,TQ):S.useContext(wQ)}const W7=t=>{var e;return((e=t.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},TO=()=>{};function K7(){const t=CQ(),{show:e=!1,toggle:n=TO,setToggle:r,menuElement:s}=S.useContext(I1)||{},i=S.useCallback(c=>{n(!e,c)},[e,n]),o={id:t,ref:r||TO,onClick:i,"aria-expanded":!!e};return s&&W7(s)&&(o["aria-haspopup"]=!0),[o,{show:e,toggle:n}]}function Y7({children:t}){const[e,n]=K7();return a.jsx(a.Fragment,{children:t(e,n)})}Y7.displayName="DropdownToggle";const gh=S.createContext(null),Sm=(t,e=null)=>t!=null?String(t):e||null,D1=S.createContext(null);D1.displayName="NavContext";const RQ="data-rr-ui-",kQ="rrUi";function Hm(t){return`${RQ}${t}`}function OQ(t){return`${kQ}${t}`}const IQ=["eventKey","disabled","onClick","active","as"];function PQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function X7({key:t,href:e,active:n,disabled:r,onClick:s}){const i=S.useContext(gh),o=S.useContext(D1),{activeKey:c}=o||{},u=Sm(t,e),h=n==null&&t!=null?Sm(c)===u:n;return[{onClick:ya(g=>{r||(s==null||s(g),i&&!g.isPropagationStopped()&&i(u,g))}),"aria-disabled":r||void 0,"aria-selected":h,[Hm("dropdown-item")]:""},{isActive:h}]}const J7=S.forwardRef((t,e)=>{let{eventKey:n,disabled:r,onClick:s,active:i,as:o=HT}=t,c=PQ(t,IQ);const[u]=X7({key:n,href:c.href,disabled:r,onClick:s,active:i});return a.jsx(o,Object.assign({},c,{ref:e},u))});J7.displayName="DropdownItem";const Q7=S.createContext(O1?window:void 0);Q7.Provider;function M1(){return S.useContext(Q7)}function AO(){const t=R7(),e=S.useRef(null),n=S.useCallback(r=>{e.current=r,t()},[t]);return[e,n]}function py({defaultShow:t,show:e,onSelect:n,onToggle:r,itemSelector:s=`* [${Hm("dropdown-item")}]`,focusFirstItemOnShow:i,placement:o="bottom-start",children:c}){const u=M1(),[h,f]=nJ(e,t,r),[g,p]=AO(),y=g.current,[w,E]=AO(),j=w.current,C=T7(h),O=S.useRef(null),I=S.useRef(!1),D=S.useContext(gh),T=S.useCallback((L,U,P=U==null?void 0:U.type)=>{f(L,{originalEvent:U,source:P})},[f]),F=ya((L,U)=>{n==null||n(L,U),T(!1,U,"select"),U.isPropagationStopped()||D==null||D(L,U)}),_=S.useMemo(()=>({toggle:T,placement:o,show:h,menuElement:y,toggleElement:j,setMenu:p,setToggle:E}),[T,o,h,y,j,p,E]);y&&C&&!h&&(I.current=y.contains(y.ownerDocument.activeElement));const R=ya(()=>{j&&j.focus&&j.focus()}),b=ya(()=>{const L=O.current;let U=i;if(U==null&&(U=g.current&&W7(g.current)?"keyboard":!1),U===!1||U==="keyboard"&&!/^key.+$/.test(L))return;const P=Ac(g.current,s)[0];P&&P.focus&&P.focus()});S.useEffect(()=>{h?b():I.current&&(I.current=!1,R())},[h,I,R,b]),S.useEffect(()=>{O.current=null});const A=(L,U)=>{if(!g.current)return null;const P=Ac(g.current,s);let K=P.indexOf(L)+U;return K=Math.max(0,Math.min(K,P.length)),P[K]};return FX(S.useCallback(()=>u.document,[u]),"keydown",L=>{var U,P;const{key:K}=L,G=L.target,re=(U=g.current)==null?void 0:U.contains(G),Z=(P=w.current)==null?void 0:P.contains(G);if(/input|textarea/i.test(G.tagName)&&(K===" "||K!=="Escape"&&re||K==="Escape"&&G.type==="search")||!re&&!Z||K==="Tab"&&(!g.current||!h))return;O.current=L.type;const ie={originalEvent:L,source:L.type};switch(K){case"ArrowUp":{const W=A(G,-1);W&&W.focus&&W.focus(),L.preventDefault();return}case"ArrowDown":if(L.preventDefault(),!h)f(!0,ie);else{const W=A(G,1);W&&W.focus&&W.focus()}return;case"Tab":j7(G.ownerDocument,"keyup",W=>{var ye;(W.key==="Tab"&&!W.target||!((ye=g.current)!=null&&ye.contains(W.target)))&&f(!1,ie)},{once:!0});break;case"Escape":K==="Escape"&&(L.preventDefault(),L.stopPropagation()),f(!1,ie);break}}),a.jsx(gh.Provider,{value:F,children:a.jsx(I1.Provider,{value:_,children:c})})}py.displayName="Dropdown";py.Menu=H7;py.Toggle=Y7;py.Item=J7;const rA=S.createContext({});rA.displayName="DropdownContext";const Z7=S.forwardRef(({className:t,bsPrefix:e,as:n="hr",role:r="separator",...s},i)=>(e=Yt(e,"dropdown-divider"),a.jsx(n,{ref:i,className:It(t,e),role:r,...s})));Z7.displayName="DropdownDivider";const eB=S.forwardRef(({className:t,bsPrefix:e,as:n="div",role:r="heading",...s},i)=>(e=Yt(e,"dropdown-header"),a.jsx(n,{ref:i,className:It(t,e),role:r,...s})));eB.displayName="DropdownHeader";const tB=S.forwardRef(({bsPrefix:t,className:e,eventKey:n,disabled:r=!1,onClick:s,active:i,as:o=GT,...c},u)=>{const h=Yt(t,"dropdown-item"),[f,g]=X7({key:n,href:c.href,disabled:r,onClick:s,active:i});return a.jsx(o,{...c,...f,ref:u,className:It(e,h,g.isActive&&"active",r&&"disabled")})});tB.displayName="DropdownItem";const nB=S.forwardRef(({className:t,bsPrefix:e,as:n="span",...r},s)=>(e=Yt(e,"dropdown-item-text"),a.jsx(n,{ref:s,className:It(t,e),...r})));nB.displayName="DropdownItemText";const DQ=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",MQ=typeof document<"u",sA=MQ||DQ?S.useLayoutEffect:S.useEffect,F1=S.createContext(null);F1.displayName="InputGroupContext";const Dh=S.createContext(null);Dh.displayName="NavbarContext";function rB(t,e){return t}function sB(t,e,n){const r=n?"top-end":"top-start",s=n?"top-start":"top-end",i=n?"bottom-end":"bottom-start",o=n?"bottom-start":"bottom-end",c=n?"right-start":"left-start",u=n?"right-end":"left-end",h=n?"left-start":"right-start",f=n?"left-end":"right-end";let g=t?o:i;return e==="up"?g=t?s:r:e==="end"?g=t?f:h:e==="start"?g=t?u:c:e==="down-centered"?g="bottom":e==="up-centered"&&(g="top"),g}const aB=S.forwardRef(({bsPrefix:t,className:e,align:n,rootCloseEvent:r,flip:s=!0,show:i,renderOnMount:o,as:c="div",popperConfig:u,variant:h,...f},g)=>{let p=!1;const y=S.useContext(Dh),w=Yt(t,"dropdown-menu"),{align:E,drop:j,isRTL:C}=S.useContext(rA);n=n||E;const O=S.useContext(F1),I=[];if(n)if(typeof n=="object"){const L=Object.keys(n);if(L.length){const U=L[0],P=n[U];p=P==="start",I.push(`${w}-${U}-${P}`)}}else n==="end"&&(p=!0);const D=sB(p,j,C),[T,{hasShown:F,popper:_,show:R,toggle:b}]=V7({flip:s,rootCloseEvent:r,show:i,usePopper:!y&&I.length===0,offset:[0,2],popperConfig:u,placement:D});if(T.ref=hy(rB(g),T.ref),sA(()=>{R&&(_==null||_.update())},[R]),!F&&!o&&!O)return null;typeof c!="string"&&(T.show=R,T.close=()=>b==null?void 0:b(!1),T.align=n);let A=f.style;return _!=null&&_.placement&&(A={...f.style,...T.style},f["x-placement"]=_.placement),a.jsx(c,{...f,...T,style:A,...(I.length||y)&&{"data-bs-popper":"static"},className:It(e,w,R&&"show",p&&`${w}-end`,h&&`${w}-${h}`,...I)})});aB.displayName="DropdownMenu";const iB=S.forwardRef(({bsPrefix:t,split:e,className:n,childBsPrefix:r,as:s=se,...i},o)=>{const c=Yt(t,"dropdown-toggle"),u=S.useContext(I1);r!==void 0&&(i.bsPrefix=r);const[h]=K7();return h.ref=hy(h.ref,rB(o)),a.jsx(s,{className:It(n,c,e&&`${c}-split`,(u==null?void 0:u.show)&&"show"),...h,...i})});iB.displayName="DropdownToggle";const oB=S.forwardRef((t,e)=>{const{bsPrefix:n,drop:r="down",show:s,className:i,align:o="start",onSelect:c,onToggle:u,focusFirstItemOnShow:h,as:f="div",navbar:g,autoClose:p=!0,...y}=k1(t,{show:"onToggle"}),w=S.useContext(F1),E=Yt(n,"dropdown"),j=zT(),C=_=>p===!1?_==="click":p==="inside"?_!=="rootClose":p==="outside"?_!=="select":!0,O=Ph((_,R)=>{var b;!((b=R.originalEvent)==null||(b=b.target)==null)&&b.classList.contains("dropdown-toggle")&&R.source==="mousedown"||(R.originalEvent.currentTarget===document&&(R.source!=="keydown"||R.originalEvent.key==="Escape")&&(R.source="rootClose"),C(R.source)&&(u==null||u(_,R)))}),D=sB(o==="end",r,j),T=S.useMemo(()=>({align:o,drop:r,isRTL:j}),[o,r,j]),F={down:E,"down-centered":`${E}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return a.jsx(rA.Provider,{value:T,children:a.jsx(py,{placement:D,show:s,onSelect:c,onToggle:O,focusFirstItemOnShow:h,itemSelector:`.${E}-item:not(.disabled):not(:disabled)`,children:w?y.children:a.jsx(f,{...y,ref:e,className:It(i,s&&"show",F[r])})})})});oB.displayName="Dropdown";const ah=Object.assign(oB,{Toggle:iB,Menu:aB,Item:tB,ItemText:nB,Divider:Z7,Header:eB});pt.string,pt.bool,pt.bool,pt.bool,pt.bool;const Xx=S.forwardRef(({bsPrefix:t,className:e,fluid:n=!1,rounded:r=!1,roundedCircle:s=!1,thumbnail:i=!1,...o},c)=>(t=Yt(t,"img"),a.jsx("img",{ref:c,...o,className:It(e,n&&`${t}-fluid`,r&&"rounded",s&&"rounded-circle",i&&`${t}-thumbnail`)})));Xx.displayName="Image";const FQ={type:pt.string,tooltip:pt.bool,as:pt.elementType},B1=S.forwardRef(({as:t="div",className:e,type:n="valid",tooltip:r=!1,...s},i)=>a.jsx(t,{...s,ref:i,className:It(e,`${n}-${r?"tooltip":"feedback"}`)}));B1.displayName="Feedback";B1.propTypes=FQ;const Vc=S.createContext({}),gy=S.forwardRef(({id:t,bsPrefix:e,className:n,type:r="checkbox",isValid:s=!1,isInvalid:i=!1,as:o="input",...c},u)=>{const{controlId:h}=S.useContext(Vc);return e=Yt(e,"form-check-input"),a.jsx(o,{...c,ref:u,type:r,id:t||h,className:It(n,e,s&&"is-valid",i&&"is-invalid")})});gy.displayName="FormCheckInput";const xb=S.forwardRef(({bsPrefix:t,className:e,htmlFor:n,...r},s)=>{const{controlId:i}=S.useContext(Vc);return t=Yt(t,"form-check-label"),a.jsx("label",{...r,ref:s,htmlFor:n||i,className:It(e,t)})});xb.displayName="FormCheckLabel";const lB=S.forwardRef(({id:t,bsPrefix:e,bsSwitchPrefix:n,inline:r=!1,reverse:s=!1,disabled:i=!1,isValid:o=!1,isInvalid:c=!1,feedbackTooltip:u=!1,feedback:h,feedbackType:f,className:g,style:p,title:y="",type:w="checkbox",label:E,children:j,as:C="input",...O},I)=>{e=Yt(e,"form-check"),n=Yt(n,"form-switch");const{controlId:D}=S.useContext(Vc),T=S.useMemo(()=>({controlId:t||D}),[D,t]),F=!j&&E!=null&&E!==!1||ZX(j,xb),_=a.jsx(gy,{...O,type:w==="switch"?"checkbox":w,ref:I,isValid:o,isInvalid:c,disabled:i,as:C});return a.jsx(Vc.Provider,{value:T,children:a.jsx("div",{style:p,className:It(g,F&&e,r&&`${e}-inline`,s&&`${e}-reverse`,w==="switch"&&n),children:j||a.jsxs(a.Fragment,{children:[_,F&&a.jsx(xb,{title:y,children:E}),h&&a.jsx(B1,{type:f,tooltip:u,children:h})]})})})});lB.displayName="FormCheck";const bb=Object.assign(lB,{Input:gy,Label:xb}),cB=S.forwardRef(({bsPrefix:t,type:e,size:n,htmlSize:r,id:s,className:i,isValid:o=!1,isInvalid:c=!1,plaintext:u,readOnly:h,as:f="input",...g},p)=>{const{controlId:y}=S.useContext(Vc);return t=Yt(t,"form-control"),a.jsx(f,{...g,type:e,size:r,ref:p,readOnly:h,id:s||y,className:It(i,u?`${t}-plaintext`:t,n&&`${t}-${n}`,e==="color"&&`${t}-color`,o&&"is-valid",c&&"is-invalid")})});cB.displayName="FormControl";const uB=Object.assign(cB,{Feedback:B1}),dB=S.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},s)=>(e=Yt(e,"form-floating"),a.jsx(n,{ref:s,className:It(t,e),...r})));dB.displayName="FormFloating";const aA=S.forwardRef(({controlId:t,as:e="div",...n},r)=>{const s=S.useMemo(()=>({controlId:t}),[t]);return a.jsx(Vc.Provider,{value:s,children:a.jsx(e,{...n,ref:r})})});aA.displayName="FormGroup";const hB=S.forwardRef(({as:t="label",bsPrefix:e,column:n=!1,visuallyHidden:r=!1,className:s,htmlFor:i,...o},c)=>{const{controlId:u}=S.useContext(Vc);e=Yt(e,"form-label");let h="col-form-label";typeof n=="string"&&(h=`${h} ${h}-${n}`);const f=It(s,e,r&&"visually-hidden",n&&h);return i=i||u,n?a.jsx(z,{ref:c,as:"label",className:f,htmlFor:i,...o}):a.jsx(t,{ref:c,className:f,htmlFor:i,...o})});hB.displayName="FormLabel";const fB=S.forwardRef(({bsPrefix:t,className:e,id:n,...r},s)=>{const{controlId:i}=S.useContext(Vc);return t=Yt(t,"form-range"),a.jsx("input",{...r,type:"range",ref:s,className:It(e,t),id:n||i})});fB.displayName="FormRange";const mB=S.forwardRef(({bsPrefix:t,size:e,htmlSize:n,className:r,isValid:s=!1,isInvalid:i=!1,id:o,...c},u)=>{const{controlId:h}=S.useContext(Vc);return t=Yt(t,"form-select"),a.jsx("select",{...c,size:n,ref:u,className:It(r,t,e&&`${t}-${e}`,s&&"is-valid",i&&"is-invalid"),id:o||h})});mB.displayName="FormSelect";const pB=S.forwardRef(({bsPrefix:t,className:e,as:n="small",muted:r,...s},i)=>(t=Yt(t,"form-text"),a.jsx(n,{...s,ref:i,className:It(e,t,r&&"text-muted")})));pB.displayName="FormText";const gB=S.forwardRef((t,e)=>a.jsx(bb,{...t,ref:e,type:"switch"}));gB.displayName="Switch";const BQ=Object.assign(gB,{Input:bb.Input,Label:bb.Label}),yB=S.forwardRef(({bsPrefix:t,className:e,children:n,controlId:r,label:s,...i},o)=>(t=Yt(t,"form-floating"),a.jsxs(aA,{ref:o,className:It(e,t),controlId:r,...i,children:[n,a.jsx("label",{htmlFor:r,children:s})]})));yB.displayName="FloatingLabel";const UQ={_ref:pt.any,validated:pt.bool,as:pt.elementType},iA=S.forwardRef(({className:t,validated:e,as:n="form",...r},s)=>a.jsx(n,{...r,ref:s,className:It(t,e&&"was-validated")}));iA.displayName="Form";iA.propTypes=UQ;const v=Object.assign(iA,{Group:aA,Control:uB,Floating:dB,Check:bb,Switch:BQ,Label:hB,Text:pB,Range:fB,Select:mB,FloatingLabel:yB}),U1=S.forwardRef(({className:t,bsPrefix:e,as:n="span",...r},s)=>(e=Yt(e,"input-group-text"),a.jsx(n,{ref:s,className:It(t,e),...r})));U1.displayName="InputGroupText";const zQ=t=>a.jsx(U1,{children:a.jsx(gy,{type:"checkbox",...t})}),qQ=t=>a.jsx(U1,{children:a.jsx(gy,{type:"radio",...t})}),vB=S.forwardRef(({bsPrefix:t,size:e,hasValidation:n,className:r,as:s="div",...i},o)=>{t=Yt(t,"input-group");const c=S.useMemo(()=>({}),[]);return a.jsx(F1.Provider,{value:c,children:a.jsx(s,{ref:o,...i,className:It(r,t,e&&`${t}-${e}`,n&&"has-validation")})})});vB.displayName="InputGroup";const LO=Object.assign(vB,{Text:U1,Radio:qQ,Checkbox:zQ}),RO=t=>!t||typeof t=="function"?t:e=>{t.current=e};function $Q(t,e){const n=RO(t),r=RO(e);return s=>{n&&n(s),r&&r(s)}}function yy(t,e){return S.useMemo(()=>$Q(t,e),[t,e])}const xB=S.createContext(null),VQ=["as","active","eventKey"];function HQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function oA({key:t,onClick:e,active:n,id:r,role:s,disabled:i}){const o=S.useContext(gh),c=S.useContext(D1),u=S.useContext(xB);let h=n;const f={role:s};if(c){!s&&c.role==="tablist"&&(f.role="tab");const g=c.getControllerId(t??null),p=c.getControlledId(t??null);f[Hm("event-key")]=t,f.id=g||r,h=n==null&&t!=null?c.activeKey===t:n,(h||!(u!=null&&u.unmountOnExit)&&!(u!=null&&u.mountOnEnter))&&(f["aria-controls"]=p)}return f.role==="tab"&&(f["aria-selected"]=h,h||(f.tabIndex=-1),i&&(f.tabIndex=-1,f["aria-disabled"]=!0)),f.onClick=ya(g=>{i||(e==null||e(g),t!=null&&o&&!g.isPropagationStopped()&&o(t,g))}),[f,{isActive:h}]}const bB=S.forwardRef((t,e)=>{let{as:n=HT,active:r,eventKey:s}=t,i=HQ(t,VQ);const[o,c]=oA(Object.assign({key:Sm(s,i.href),active:r},i));return o[Hm("active")]=c.isActive,a.jsx(n,Object.assign({},i,o,{ref:e}))});bB.displayName="NavItem";const GQ=["as","onSelect","activeKey","role","onKeyDown"];function WQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const kO=()=>{},OO=Hm("event-key"),wB=S.forwardRef((t,e)=>{let{as:n="div",onSelect:r,activeKey:s,role:i,onKeyDown:o}=t,c=WQ(t,GQ);const u=R7(),h=S.useRef(!1),f=S.useContext(gh),g=S.useContext(xB);let p,y;g&&(i=i||"tablist",s=g.activeKey,p=g.getControlledId,y=g.getControllerId);const w=S.useRef(null),E=I=>{const D=w.current;if(!D)return null;const T=Ac(D,`[${OO}]:not([aria-disabled=true])`),F=D.querySelector("[aria-selected=true]");if(!F||F!==document.activeElement)return null;const _=T.indexOf(F);if(_===-1)return null;let R=_+I;return R>=T.length&&(R=0),R<0&&(R=T.length-1),T[R]},j=(I,D)=>{I!=null&&(r==null||r(I,D),f==null||f(I,D))},C=I=>{if(o==null||o(I),!g)return;let D;switch(I.key){case"ArrowLeft":case"ArrowUp":D=E(-1);break;case"ArrowRight":case"ArrowDown":D=E(1);break;default:return}D&&(I.preventDefault(),j(D.dataset[OQ("EventKey")]||null,I),h.current=!0,u())};S.useEffect(()=>{if(w.current&&h.current){const I=w.current.querySelector(`[${OO}][aria-selected=true]`);I==null||I.focus()}h.current=!1});const O=yy(e,w);return a.jsx(gh.Provider,{value:j,children:a.jsx(D1.Provider,{value:{role:i,activeKey:Sm(s),getControlledId:p||kO,getControllerId:y||kO},children:a.jsx(n,Object.assign({},c,{onKeyDown:C,ref:O,role:i}))})})});wB.displayName="Nav";const _B=Object.assign(wB,{Item:bB}),EB=S.forwardRef(({bsPrefix:t,active:e,disabled:n,eventKey:r,className:s,variant:i,action:o,as:c,...u},h)=>{t=Yt(t,"list-group-item");const[f,g]=oA({key:Sm(r,u.href),active:e,...u}),p=Ph(w=>{if(n){w.preventDefault(),w.stopPropagation();return}f.onClick(w)});n&&u.tabIndex===void 0&&(u.tabIndex=-1,u["aria-disabled"]=!0);const y=c||(o?u.href?"a":"button":"div");return a.jsx(y,{ref:h,...u,...f,onClick:p,className:It(s,t,g.isActive&&"active",n&&"disabled",i&&`${t}-${i}`,o&&`${t}-action`)})});EB.displayName="ListGroupItem";const jB=S.forwardRef((t,e)=>{const{className:n,bsPrefix:r,variant:s,horizontal:i,numbered:o,as:c="div",...u}=k1(t,{activeKey:"onSelect"}),h=Yt(r,"list-group");let f;return i&&(f=i===!0?"horizontal":`horizontal-${i}`),a.jsx(_B,{ref:e,...u,as:c,className:It(n,h,s&&`${h}-${s}`,f&&`${h}-${f}`,o&&`${h}-numbered`)})});jB.displayName="ListGroup";const eE=Object.assign(jB,{Item:EB});function tE(t){t===void 0&&(t=dy());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function KQ(t){const e=S.useRef(t);return e.current=t,e}function YQ(t){const e=KQ(t);S.useEffect(()=>()=>e.current(),[])}function XQ(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const IO=Hm("modal-open");class lA{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return XQ(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",s=this.getElement();e.style={overflow:s.style.overflow,[r]:s.style[r]},e.scrollBarWidth&&(n[r]=`${parseInt(Mc(s,r)||"0",10)+e.scrollBarWidth}px`),s.setAttribute(IO,""),Mc(s,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(IO),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const nE=(t,e)=>O1?t==null?(e||dy()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function RC(t,e){const n=M1(),[r,s]=S.useState(()=>nE(t,n==null?void 0:n.document));if(!r){const i=nE(t);i&&s(i)}return S.useEffect(()=>{},[e,r]),S.useEffect(()=>{const i=nE(t);i!==r&&s(i)},[t,r]),r}function JQ({children:t,in:e,onExited:n,mountOnEnter:r,unmountOnExit:s}){const i=S.useRef(null),o=S.useRef(e),c=ya(n);S.useEffect(()=>{e?o.current=!0:c(i.current)},[e,c]);const u=yy(i,Ih(t)),h=S.cloneElement(t,{ref:u});return e?h:s||!o.current&&r?null:h}const QQ=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function ZQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function eZ(t){let{onEnter:e,onEntering:n,onEntered:r,onExit:s,onExiting:i,onExited:o,addEndListener:c,children:u}=t,h=ZQ(t,QQ);const f=S.useRef(null),g=yy(f,Ih(u)),p=D=>T=>{D&&f.current&&D(f.current,T)},y=S.useCallback(p(e),[e]),w=S.useCallback(p(n),[n]),E=S.useCallback(p(r),[r]),j=S.useCallback(p(s),[s]),C=S.useCallback(p(i),[i]),O=S.useCallback(p(o),[o]),I=S.useCallback(p(c),[c]);return Object.assign({},h,{nodeRef:f},e&&{onEnter:y},n&&{onEntering:w},r&&{onEntered:E},s&&{onExit:j},i&&{onExiting:C},o&&{onExited:O},c&&{addEndListener:I},{children:typeof u=="function"?(D,T)=>u(D,Object.assign({},T,{ref:g})):S.cloneElement(u,{ref:g})})}const tZ=["component"];function nZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const rZ=S.forwardRef((t,e)=>{let{component:n}=t,r=nZ(t,tZ);const s=eZ(r);return a.jsx(n,Object.assign({ref:e},s))});function sZ({in:t,onTransition:e}){const n=S.useRef(null),r=S.useRef(!0),s=ya(e);return fO(()=>{if(!n.current)return;let i=!1;return s({in:t,element:n.current,initial:r.current,isStale:()=>i}),()=>{i=!0}},[t,s]),fO(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function aZ({children:t,in:e,onExited:n,onEntered:r,transition:s}){const[i,o]=S.useState(!e);e&&i&&o(!1);const c=sZ({in:!!e,onTransition:h=>{const f=()=>{h.isStale()||(h.in?r==null||r(h.element,h.initial):(o(!0),n==null||n(h.element)))};Promise.resolve(s(h)).then(f,g=>{throw h.in||o(!0),g})}}),u=yy(c,Ih(t));return i&&!e?null:S.cloneElement(t,{ref:u})}function kC(t,e,n){return t?a.jsx(rZ,Object.assign({},n,{component:t})):e?a.jsx(aZ,Object.assign({},n,{transition:e})):a.jsx(JQ,Object.assign({},n))}const iZ=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function oZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}let rE;function lZ(t){return rE||(rE=new lA({ownerDocument:t==null?void 0:t.document})),rE}function cZ(t){const e=M1(),n=t||lZ(e),r=S.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:S.useCallback(s=>{r.current.dialog=s},[]),setBackdropRef:S.useCallback(s=>{r.current.backdrop=s},[])})}const SB=S.forwardRef((t,e)=>{let{show:n=!1,role:r="dialog",className:s,style:i,children:o,backdrop:c=!0,keyboard:u=!0,onBackdropClick:h,onEscapeKeyDown:f,transition:g,runTransition:p,backdropTransition:y,runBackdropTransition:w,autoFocus:E=!0,enforceFocus:j=!0,restoreFocus:C=!0,restoreFocusOptions:O,renderDialog:I,renderBackdrop:D=Ye=>a.jsx("div",Object.assign({},Ye)),manager:T,container:F,onShow:_,onHide:R=()=>{},onExit:b,onExited:A,onExiting:L,onEnter:U,onEntering:P,onEntered:K}=t,G=oZ(t,iZ);const re=M1(),Z=RC(F),me=cZ(T),ie=N7(),W=T7(n),[ye,Q]=S.useState(!n),ne=S.useRef(null);S.useImperativeHandle(e,()=>me,[me]),O1&&!W&&n&&(ne.current=tE(re==null?void 0:re.document)),n&&ye&&Q(!1);const te=ya(()=>{if(me.add(),_e.current=Oc(document,"keydown",je),Ie.current=Oc(document,"focus",()=>setTimeout(xe),!0),_&&_(),E){var Ye,jt;const Ze=tE((Ye=(jt=me.dialog)==null?void 0:jt.ownerDocument)!=null?Ye:re==null?void 0:re.document);me.dialog&&Ze&&!S0(me.dialog,Ze)&&(ne.current=Ze,me.dialog.focus())}}),X=ya(()=>{if(me.remove(),_e.current==null||_e.current(),Ie.current==null||Ie.current(),C){var Ye;(Ye=ne.current)==null||Ye.focus==null||Ye.focus(O),ne.current=null}});S.useEffect(()=>{!n||!Z||te()},[n,Z,te]),S.useEffect(()=>{ye&&X()},[ye,X]),YQ(()=>{X()});const xe=ya(()=>{if(!j||!ie()||!me.isTopModal())return;const Ye=tE(re==null?void 0:re.document);me.dialog&&Ye&&!S0(me.dialog,Ye)&&me.dialog.focus()}),Ne=ya(Ye=>{Ye.target===Ye.currentTarget&&(h==null||h(Ye),c===!0&&R())}),je=ya(Ye=>{u&&E7(Ye)&&me.isTopModal()&&(f==null||f(Ye),Ye.defaultPrevented||R())}),Ie=S.useRef(),_e=S.useRef(),Ue=(...Ye)=>{Q(!0),A==null||A(...Ye)};if(!Z)return null;const tt=Object.assign({role:r,ref:me.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},G,{style:i,className:s,tabIndex:-1});let ct=I?I(tt):a.jsx("div",Object.assign({},tt,{children:S.cloneElement(o,{role:"document"})}));ct=kC(g,p,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:b,onExiting:L,onExited:Ue,onEnter:U,onEntering:P,onEntered:K,children:ct});let ut=null;return c&&(ut=D({ref:me.setBackdropRef,onClick:Ne}),ut=kC(y,w,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:ut})),a.jsx(a.Fragment,{children:sh.createPortal(a.jsxs(a.Fragment,{children:[ut,ct]}),Z)})});SB.displayName="Modal";const uZ=Object.assign(SB,{Manager:lA});function OC(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function dZ(t,e){t.classList?t.classList.add(e):OC(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function PO(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function hZ(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=PO(t.className,e):t.setAttribute("class",PO(t.className&&t.className.baseVal||"",e))}const Pf={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class CB extends lA{adjustAndStore(e,n,r){const s=n.style[e];n.dataset[e]=s,Mc(n,{[e]:`${parseFloat(Mc(n,e))+r}px`})}restore(e,n){const r=n.dataset[e];r!==void 0&&(delete n.dataset[e],Mc(n,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(dZ(n,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";Ac(n,Pf.FIXED_CONTENT).forEach(i=>this.adjustAndStore(r,i,e.scrollBarWidth)),Ac(n,Pf.STICKY_CONTENT).forEach(i=>this.adjustAndStore(s,i,-e.scrollBarWidth)),Ac(n,Pf.NAVBAR_TOGGLER).forEach(i=>this.adjustAndStore(s,i,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();hZ(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";Ac(n,Pf.FIXED_CONTENT).forEach(i=>this.restore(r,i)),Ac(n,Pf.STICKY_CONTENT).forEach(i=>this.restore(s,i)),Ac(n,Pf.NAVBAR_TOGGLER).forEach(i=>this.restore(s,i))}}let sE;function fZ(t){return sE||(sE=new CB(t)),sE}const NB=S.createContext({onHide(){}}),mZ=S.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:r,children:s,...i},o)=>{const c=S.useContext(NB),u=Ph(()=>{c==null||c.onHide(),r==null||r()});return a.jsxs("div",{ref:o,...i,children:[s,n&&a.jsx(WT,{"aria-label":t,variant:e,onClick:u})]})}),TB=S.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},s)=>(e=Yt(e,"nav-item"),a.jsx(n,{ref:s,className:It(t,e),...r})));TB.displayName="NavItem";const cA=S.forwardRef(({bsPrefix:t,className:e,as:n=GT,active:r,eventKey:s,disabled:i=!1,...o},c)=>{t=Yt(t,"nav-link");const[u,h]=oA({key:Sm(s,o.href),active:r,disabled:i,...o});return a.jsx(n,{...o,...u,ref:c,disabled:i,className:It(e,t,i&&"disabled",h.isActive&&"active")})});cA.displayName="NavLink";const AB=S.forwardRef((t,e)=>{const{as:n="div",bsPrefix:r,variant:s,fill:i=!1,justify:o=!1,navbar:c,navbarScroll:u,className:h,activeKey:f,...g}=k1(t,{activeKey:"onSelect"}),p=Yt(r,"nav");let y,w,E=!1;const j=S.useContext(Dh),C=S.useContext(A7);return j?(y=j.bsPrefix,E=c??!0):C&&({cardHeaderBsPrefix:w}=C),a.jsx(_B,{as:n,ref:e,activeKey:f,className:It(h,{[p]:!E,[`${y}-nav`]:E,[`${y}-nav-scroll`]:E&&u,[`${w}-${s}`]:!!w,[`${p}-${s}`]:!!s,[`${p}-fill`]:i,[`${p}-justified`]:o}),...g})});AB.displayName="Nav";const hn=Object.assign(AB,{Item:TB,Link:cA}),LB=S.forwardRef(({bsPrefix:t,className:e,as:n,...r},s)=>{t=Yt(t,"navbar-brand");const i=n||(r.href?"a":"span");return a.jsx(i,{...r,ref:s,className:It(e,t)})});LB.displayName="NavbarBrand";const RB=S.forwardRef(({children:t,bsPrefix:e,...n},r)=>{e=Yt(e,"navbar-collapse");const s=S.useContext(Dh);return a.jsx(C7,{in:!!(s&&s.expanded),...n,children:a.jsx("div",{ref:r,className:e,children:t})})});RB.displayName="NavbarCollapse";const kB=S.forwardRef(({bsPrefix:t,className:e,children:n,label:r="Toggle navigation",as:s="button",onClick:i,...o},c)=>{t=Yt(t,"navbar-toggler");const{onToggle:u,expanded:h}=S.useContext(Dh)||{},f=Ph(g=>{i&&i(g),u&&u()});return s==="button"&&(o.type="button"),a.jsx(s,{...o,ref:c,onClick:f,"aria-label":r,className:It(e,t,!h&&"collapsed"),children:n||a.jsx("span",{className:`${t}-icon`})})});kB.displayName="NavbarToggle";const IC=new WeakMap,DO=(t,e)=>{if(!t||!e)return;const n=IC.get(e)||new Map;IC.set(e,n);let r=n.get(t);return r||(r=e.matchMedia(t),r.refCount=0,n.set(r.media,r)),r};function pZ(t,e=typeof window>"u"?void 0:window){const n=DO(t,e),[r,s]=S.useState(()=>n?n.matches:!1);return sA(()=>{let i=DO(t,e);if(!i)return s(!1);let o=IC.get(e);const c=()=>{s(i.matches)};return i.refCount++,i.addListener(c),c(),()=>{i.removeListener(c),i.refCount--,i.refCount<=0&&(o==null||o.delete(i.media)),i=void 0}},[t]),r}function gZ(t){const e=Object.keys(t);function n(c,u){return c===u?u:c?`${c} and ${u}`:u}function r(c){return e[Math.min(e.indexOf(c)+1,e.length-1)]}function s(c){const u=r(c);let h=t[u];return typeof h=="number"?h=`${h-.2}px`:h=`calc(${h} - 0.2px)`,`(max-width: ${h})`}function i(c){let u=t[c];return typeof u=="number"&&(u=`${u}px`),`(min-width: ${u})`}function o(c,u,h){let f;typeof c=="object"?(f=c,h=u,u=!0):(u=u||!0,f={[c]:u});let g=S.useMemo(()=>Object.entries(f).reduce((p,[y,w])=>((w==="up"||w===!0)&&(p=n(p,i(y))),(w==="down"||w===!0)&&(p=n(p,s(y))),p),""),[JSON.stringify(f)]);return pZ(g,h)}return o}const yZ=gZ({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),OB=S.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},s)=>(e=Yt(e,"offcanvas-body"),a.jsx(n,{ref:s,className:It(t,e),...r})));OB.displayName="OffcanvasBody";const vZ={[Zo]:"show",[Rc]:"show"},IB=S.forwardRef(({bsPrefix:t,className:e,children:n,in:r=!1,mountOnEnter:s=!1,unmountOnExit:i=!1,appear:o=!1,...c},u)=>(t=Yt(t,"offcanvas"),a.jsx($T,{ref:u,addEndListener:qT,in:r,mountOnEnter:s,unmountOnExit:i,appear:o,...c,childRef:Ih(n),children:(h,f)=>S.cloneElement(n,{...f,className:It(e,n.props.className,(h===Zo||h===_0)&&`${t}-toggling`,vZ[h])})})));IB.displayName="OffcanvasToggling";const PB=S.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:r=!1,...s},i)=>(t=Yt(t,"offcanvas-header"),a.jsx(mZ,{ref:i,...s,className:It(e,t),closeLabel:n,closeButton:r})));PB.displayName="OffcanvasHeader";const xZ=DX("h5"),DB=S.forwardRef(({className:t,bsPrefix:e,as:n=xZ,...r},s)=>(e=Yt(e,"offcanvas-title"),a.jsx(n,{ref:s,className:It(t,e),...r})));DB.displayName="OffcanvasTitle";function bZ(t){return a.jsx(IB,{...t})}function wZ(t){return a.jsx(yb,{...t})}const MB=S.forwardRef(({bsPrefix:t,className:e,children:n,"aria-labelledby":r,placement:s="start",responsive:i,show:o=!1,backdrop:c=!0,keyboard:u=!0,scroll:h=!1,onEscapeKeyDown:f,onShow:g,onHide:p,container:y,autoFocus:w=!0,enforceFocus:E=!0,restoreFocus:j=!0,restoreFocusOptions:C,onEntered:O,onExit:I,onExiting:D,onEnter:T,onEntering:F,onExited:_,backdropClassName:R,manager:b,renderStaticNode:A=!1,...L},U)=>{const P=S.useRef();t=Yt(t,"offcanvas");const[K,G]=S.useState(!1),re=Ph(p),Z=yZ(i||"xs","up");S.useEffect(()=>{G(i?o&&!Z:o)},[o,i,Z]);const me=S.useMemo(()=>({onHide:re}),[re]);function ie(){return b||(h?(P.current||(P.current=new CB({handleContainerOverflow:!1})),P.current):fZ())}const W=(te,...X)=>{te&&(te.style.visibility="visible"),T==null||T(te,...X)},ye=(te,...X)=>{te&&(te.style.visibility=""),_==null||_(...X)},Q=S.useCallback(te=>a.jsx("div",{...te,className:It(`${t}-backdrop`,R)}),[R,t]),ne=te=>a.jsx("div",{...te,...L,className:It(e,i?`${t}-${i}`:t,`${t}-${s}`),"aria-labelledby":r,children:n});return a.jsxs(a.Fragment,{children:[!K&&(i||A)&&ne({}),a.jsx(NB.Provider,{value:me,children:a.jsx(uZ,{show:K,ref:U,backdrop:c,container:y,keyboard:u,autoFocus:w,enforceFocus:E&&!h,restoreFocus:j,restoreFocusOptions:C,onEscapeKeyDown:f,onShow:g,onHide:re,onEnter:W,onEntering:F,onEntered:O,onExit:I,onExiting:D,onExited:ye,manager:ie(),transition:bZ,backdropTransition:wZ,renderBackdrop:Q,renderDialog:ne})})]})});MB.displayName="Offcanvas";const Vu=Object.assign(MB,{Body:OB,Header:PB,Title:DB}),FB=S.forwardRef(({onHide:t,...e},n)=>{const r=S.useContext(Dh),s=Ph(()=>{r==null||r.onToggle==null||r.onToggle(),t==null||t()});return a.jsx(Vu,{ref:n,show:!!(r!=null&&r.expanded),...e,renderStaticNode:!0,onHide:s})});FB.displayName="NavbarOffcanvas";const BB=S.forwardRef(({className:t,bsPrefix:e,as:n="span",...r},s)=>(e=Yt(e,"navbar-text"),a.jsx(n,{ref:s,className:It(t,e),...r})));BB.displayName="NavbarText";const UB=S.forwardRef((t,e)=>{const{bsPrefix:n,expand:r=!0,variant:s="light",bg:i,fixed:o,sticky:c,className:u,as:h="nav",expanded:f,onToggle:g,onSelect:p,collapseOnSelect:y=!1,...w}=k1(t,{expanded:"onToggle"}),E=Yt(n,"navbar"),j=S.useCallback((...I)=>{p==null||p(...I),y&&f&&(g==null||g(!1))},[p,y,f,g]);w.role===void 0&&h!=="nav"&&(w.role="navigation");let C=`${E}-expand`;typeof r=="string"&&(C=`${C}-${r}`);const O=S.useMemo(()=>({onToggle:()=>g==null?void 0:g(!f),bsPrefix:E,expanded:!!f,expand:r}),[E,f,r,g]);return a.jsx(Dh.Provider,{value:O,children:a.jsx(gh.Provider,{value:j,children:a.jsx(h,{ref:e,...w,className:It(u,E,r&&C,s&&`${E}-${s}`,i&&`bg-${i}`,c&&`sticky-${c}`,o&&`fixed-${o}`)})})})});UB.displayName="Navbar";const ox=Object.assign(UB,{Brand:LB,Collapse:RB,Offcanvas:FB,Text:BB,Toggle:kB}),zB=S.forwardRef(({id:t,title:e,children:n,bsPrefix:r,className:s,rootCloseEvent:i,menuRole:o,disabled:c,active:u,renderMenuOnMount:h,menuVariant:f,...g},p)=>{const y=Yt(void 0,"nav-item");return a.jsxs(ah,{ref:p,...g,className:It(s,y),children:[a.jsx(ah.Toggle,{id:t,eventKey:null,active:u,disabled:c,childBsPrefix:r,as:cA,children:e}),a.jsx(ah.Menu,{role:o,renderOnMount:h,rootCloseEvent:i,variant:f,children:n})]})});zB.displayName="NavDropdown";const wt=Object.assign(zB,{Item:ah.Item,ItemText:ah.ItemText,Divider:ah.Divider,Header:ah.Header}),_Z=()=>{};function EZ(t,e,{disabled:n,clickTrigger:r}={}){const s=e||_Z;q7(t,s,{disabled:n,clickTrigger:r});const i=ya(o=>{E7(o)&&s(o)});S.useEffect(()=>{if(n||t==null)return;const o=dy(Yx(t));let c=(o.defaultView||window).event;const u=Oc(o,"keyup",h=>{if(h===c){c=void 0;return}i(h)});return()=>{u()}},[t,n,i])}const qB=S.forwardRef((t,e)=>{const{flip:n,offset:r,placement:s,containerPadding:i,popperConfig:o={},transition:c,runTransition:u}=t,[h,f]=NC(),[g,p]=NC(),y=yy(f,e),w=RC(t.container),E=RC(t.target),[j,C]=S.useState(!t.show),O=z7(E,h,$7({placement:s,enableEvents:!!t.show,containerPadding:i||5,flip:n,offset:r,arrowElement:g,popperConfig:o}));t.show&&j&&C(!1);const I=(...L)=>{C(!0),t.onExited&&t.onExited(...L)},D=t.show||!j;if(EZ(h,t.onHide,{disabled:!t.rootClose||t.rootCloseDisabled,clickTrigger:t.rootCloseEvent}),!D)return null;const{onExit:T,onExiting:F,onEnter:_,onEntering:R,onEntered:b}=t;let A=t.children(Object.assign({},O.attributes.popper,{style:O.styles.popper,ref:y}),{popper:O,placement:s,show:!!t.show,arrowProps:Object.assign({},O.attributes.arrow,{style:O.styles.arrow,ref:p})});return A=kC(c,u,{in:!!t.show,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:A,onExit:T,onExiting:F,onExited:I,onEnter:_,onEntering:R,onEntered:b}),w?sh.createPortal(A,w):null});qB.displayName="Overlay";const $B=S.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},s)=>(e=Yt(e,"popover-header"),a.jsx(n,{ref:s,className:It(t,e),...r})));$B.displayName="PopoverHeader";const uA=S.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},s)=>(e=Yt(e,"popover-body"),a.jsx(n,{ref:s,className:It(t,e),...r})));uA.displayName="PopoverBody";function VB(t,e){let n=t;return t==="left"?n=e?"end":"start":t==="right"&&(n=e?"start":"end"),n}function HB(t="absolute"){return{position:t,top:"0",left:"0",opacity:"0",pointerEvents:"none"}}const jZ=S.forwardRef(({bsPrefix:t,placement:e="right",className:n,style:r,children:s,body:i,arrowProps:o,hasDoneInitialMeasure:c,popper:u,show:h,...f},g)=>{const p=Yt(t,"popover"),y=zT(),[w]=(e==null?void 0:e.split("-"))||[],E=VB(w,y);let j=r;return h&&!c&&(j={...r,...HB(u==null?void 0:u.strategy)}),a.jsxs("div",{ref:g,role:"tooltip",style:j,"x-placement":w,className:It(n,p,w&&`bs-popover-${E}`),...f,children:[a.jsx("div",{className:"popover-arrow",...o}),i?a.jsx(uA,{children:s}):s]})}),SZ=Object.assign(jZ,{Header:$B,Body:uA,POPPER_OFFSET:[0,8]}),GB=S.forwardRef(({bsPrefix:t,placement:e="right",className:n,style:r,children:s,arrowProps:i,hasDoneInitialMeasure:o,popper:c,show:u,...h},f)=>{t=Yt(t,"tooltip");const g=zT(),[p]=(e==null?void 0:e.split("-"))||[],y=VB(p,g);let w=r;return u&&!o&&(w={...r,...HB(c==null?void 0:c.strategy)}),a.jsxs("div",{ref:f,style:w,role:"tooltip","x-placement":p,className:It(n,t,`bs-tooltip-${y}`),...h,children:[a.jsx("div",{className:"tooltip-arrow",...i}),a.jsx("div",{className:`${t}-inner`,children:s})]})});GB.displayName="Tooltip";const Gt=Object.assign(GB,{TOOLTIP_OFFSET:[0,6]});function CZ(t){const e=S.useRef(null),n=Yt(void 0,"popover"),r=Yt(void 0,"tooltip"),s=S.useMemo(()=>({name:"offset",options:{offset:()=>{if(t)return t;if(e.current){if(OC(e.current,n))return SZ.POPPER_OFFSET;if(OC(e.current,r))return Gt.TOOLTIP_OFFSET}return[0,0]}}}),[t,n,r]);return[e,[s]]}function NZ(t,e){const{ref:n}=t,{ref:r}=e;t.ref=n.__wrapped||(n.__wrapped=s=>n(gb(s))),e.ref=r.__wrapped||(r.__wrapped=s=>r(gb(s)))}const WB=S.forwardRef(({children:t,transition:e=yb,popperConfig:n={},rootClose:r=!1,placement:s="top",show:i=!1,...o},c)=>{const u=S.useRef({}),[h,f]=S.useState(null),[g,p]=CZ(o.offset),y=hy(c,g),w=e===!0?yb:e||void 0,E=Ph(j=>{f(j),n==null||n.onFirstUpdate==null||n.onFirstUpdate(j)});return sA(()=>{h&&o.target&&(u.current.scheduleUpdate==null||u.current.scheduleUpdate())},[h,o.target]),S.useEffect(()=>{i||f(null)},[i]),a.jsx(qB,{...o,ref:y,popperConfig:{...n,modifiers:p.concat(n.modifiers||[]),onFirstUpdate:E},transition:w,rootClose:r,placement:s,show:i,children:(j,{arrowProps:C,popper:O,show:I})=>{var D;NZ(j,C);const T=O==null?void 0:O.placement,F=Object.assign(u.current,{state:O==null?void 0:O.state,scheduleUpdate:O==null?void 0:O.update,placement:T,outOfBoundaries:(O==null||(D=O.state)==null||(D=D.modifiersData.hide)==null?void 0:D.isReferenceHidden)||!1,strategy:n.strategy}),_=!!h;return typeof t=="function"?t({...j,placement:T,show:I,...!e&&I&&{className:"show"},popper:F,arrowProps:C,hasDoneInitialMeasure:_}):S.cloneElement(t,{...j,placement:T,arrowProps:C,popper:F,hasDoneInitialMeasure:_,className:It(t.props.className,!e&&I&&"show"),style:{...t.props.style,...j.style}})}})});WB.displayName="Overlay";function TZ(t){return t&&typeof t=="object"?t:{show:t,hide:t}}function MO(t,e,n){const[r]=e,s=r.currentTarget,i=r.relatedTarget||r.nativeEvent[n];(!i||i!==s)&&!S0(s,i)&&t(...e)}pt.oneOf(["click","hover","focus"]);const Xt=({trigger:t=["hover","focus"],overlay:e,children:n,popperConfig:r={},show:s,defaultShow:i=!1,onToggle:o,delay:c,placement:u,flip:h=u&&u.indexOf("auto")!==-1,...f})=>{const g=S.useRef(null),p=hy(g,Ih(n)),y=QX(),w=S.useRef(""),[E,j]=x7(s,i,o),C=TZ(c),{onFocus:O,onBlur:I,onClick:D}=typeof n!="function"?S.Children.only(n).props:{},T=G=>{p(gb(G))},F=S.useCallback(()=>{if(y.clear(),w.current="show",!C.show){j(!0);return}y.set(()=>{w.current==="show"&&j(!0)},C.show)},[C.show,j,y]),_=S.useCallback(()=>{if(y.clear(),w.current="hide",!C.hide){j(!1);return}y.set(()=>{w.current==="hide"&&j(!1)},C.hide)},[C.hide,j,y]),R=S.useCallback((...G)=>{F(),O==null||O(...G)},[F,O]),b=S.useCallback((...G)=>{_(),I==null||I(...G)},[_,I]),A=S.useCallback((...G)=>{j(!E),D==null||D(...G)},[D,j,E]),L=S.useCallback((...G)=>{MO(F,G,"fromElement")},[F]),U=S.useCallback((...G)=>{MO(_,G,"toElement")},[_]),P=t==null?[]:[].concat(t),K={ref:T};return P.indexOf("click")!==-1&&(K.onClick=A),P.indexOf("focus")!==-1&&(K.onFocus=R,K.onBlur=b),P.indexOf("hover")!==-1&&(K.onMouseOver=L,K.onMouseOut=U),a.jsxs(a.Fragment,{children:[typeof n=="function"?n(K):S.cloneElement(n,K),a.jsx(WB,{...f,show:E,onHide:_,flip:h,placement:u,popperConfig:r,target:g.current,children:e})]})},V=S.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},s)=>{const i=Yt(t,"row"),o=b7(),c=w7(),u=`${i}-cols`,h=[];return o.forEach(f=>{const g=r[f];delete r[f];let p;g!=null&&typeof g=="object"?{cols:p}=g:p=g;const y=f!==c?`-${f}`:"";p!=null&&h.push(`${u}${y}-${p}`)}),a.jsx(n,{ref:s,...r,className:It(e,i,...h)})});V.displayName="Row";const Sr=S.forwardRef(({bsPrefix:t,variant:e,animation:n="border",size:r,as:s="div",className:i,...o},c)=>{t=Yt(t,"spinner");const u=`${t}-${n}`;return a.jsx(s,{ref:c,...o,className:It(i,u,r&&`${u}-${r}`,e&&`text-${e}`)})});Sr.displayName="Spinner";const Lr=S.forwardRef(({bsPrefix:t,className:e,striped:n,bordered:r,borderless:s,hover:i,size:o,variant:c,responsive:u,...h},f)=>{const g=Yt(t,"table"),p=It(e,g,c&&`${g}-${c}`,o&&`${g}-${o}`,n&&`${g}-${typeof n=="string"?`striped-${n}`:"striped"}`,r&&`${g}-bordered`,s&&`${g}-borderless`,i&&`${g}-hover`),y=a.jsx("table",{...h,className:p,ref:f});if(u){let w=`${g}-responsive`;return typeof u=="string"&&(w=`${w}-${u}`),a.jsx("div",{className:w,children:y})}return y});var Eg={},FO;function AZ(){if(FO)return Eg;FO=1,Object.defineProperty(Eg,"__esModule",{value:!0}),Eg.parse=o,Eg.serialize=h;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,i=(()=>{const p=function(){};return p.prototype=Object.create(null),p})();function o(p,y){const w=new i,E=p.length;if(E<2)return w;const j=(y==null?void 0:y.decode)||f;let C=0;do{const O=p.indexOf("=",C);if(O===-1)break;const I=p.indexOf(";",C),D=I===-1?E:I;if(O>D){C=p.lastIndexOf(";",O-1)+1;continue}const T=c(p,C,O),F=u(p,O,T),_=p.slice(T,F);if(w[_]===void 0){let R=c(p,O+1,D),b=u(p,D,R);const A=j(p.slice(R,b));w[_]=A}C=D+1}while(C<E);return w}function c(p,y,w){do{const E=p.charCodeAt(y);if(E!==32&&E!==9)return y}while(++y<w);return w}function u(p,y,w){for(;y>w;){const E=p.charCodeAt(--y);if(E!==32&&E!==9)return y+1}return w}function h(p,y,w){const E=(w==null?void 0:w.encode)||encodeURIComponent;if(!t.test(p))throw new TypeError(`argument name is invalid: ${p}`);const j=E(y);if(!e.test(j))throw new TypeError(`argument val is invalid: ${y}`);let C=p+"="+j;if(!w)return C;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);C+="; Max-Age="+w.maxAge}if(w.domain){if(!n.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);C+="; Domain="+w.domain}if(w.path){if(!r.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);C+="; Path="+w.path}if(w.expires){if(!g(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);C+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(C+="; HttpOnly"),w.secure&&(C+="; Secure"),w.partitioned&&(C+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":C+="; Priority=Low";break;case"medium":C+="; Priority=Medium";break;case"high":C+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":C+="; SameSite=Strict";break;case"lax":C+="; SameSite=Lax";break;case"none":C+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return C}function f(p){if(p.indexOf("%")===-1)return p;try{return decodeURIComponent(p)}catch{return p}}function g(p){return s.call(p)==="[object Date]"}return Eg}AZ();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var BO="popstate";function LZ(t={}){function e(r,s){let{pathname:i,search:o,hash:c}=r.location;return PC("",{pathname:i,search:o,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:C0(s)}return kZ(e,n,null,t)}function Qr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Wl(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function RZ(){return Math.random().toString(36).substring(2,10)}function UO(t,e){return{usr:t.state,key:t.key,idx:e}}function PC(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Gm(e):e,state:n,key:e&&e.key||r||RZ()}}function C0({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Gm(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function kZ(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,c="POP",u=null,h=f();h==null&&(h=0,o.replaceState({...o.state,idx:h},""));function f(){return(o.state||{idx:null}).idx}function g(){c="POP";let j=f(),C=j==null?null:j-h;h=j,u&&u({action:c,location:E.location,delta:C})}function p(j,C){c="PUSH";let O=PC(E.location,j,C);h=f()+1;let I=UO(O,h),D=E.createHref(O);try{o.pushState(I,"",D)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;s.location.assign(D)}i&&u&&u({action:c,location:E.location,delta:1})}function y(j,C){c="REPLACE";let O=PC(E.location,j,C);h=f();let I=UO(O,h),D=E.createHref(O);o.replaceState(I,"",D),i&&u&&u({action:c,location:E.location,delta:0})}function w(j){let C=s.location.origin!=="null"?s.location.origin:s.location.href,O=typeof j=="string"?j:C0(j);return O=O.replace(/ $/,"%20"),Qr(C,`No window.location.(origin|href) available to create URL for href: ${O}`),new URL(O,C)}let E={get action(){return c},get location(){return t(s,o)},listen(j){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(BO,g),u=j,()=>{s.removeEventListener(BO,g),u=null}},createHref(j){return e(s,j)},createURL:w,encodeLocation(j){let C=w(j);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:p,replace:y,go(j){return o.go(j)}};return E}function KB(t,e,n="/"){return OZ(t,e,n,!1)}function OZ(t,e,n,r){let s=typeof e=="string"?Gm(e):e,i=ld(s.pathname||"/",n);if(i==null)return null;let o=YB(t);IZ(o);let c=null;for(let u=0;c==null&&u<o.length;++u){let h=HZ(i);c=$Z(o[u],h,r)}return c}function YB(t,e=[],n=[],r=""){let s=(i,o,c)=>{let u={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(Qr(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length));let h=Fc([r,u.relativePath]),f=n.concat(u);i.children&&i.children.length>0&&(Qr(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),YB(i.children,e,f,h)),!(i.path==null&&!i.index)&&e.push({path:h,score:zZ(h,i.index),routesMeta:f})};return t.forEach((i,o)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))s(i,o);else for(let u of XB(i.path))s(i,o,u)}),e}function XB(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=XB(r.join("/")),c=[];return c.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&c.push(...o),c.map(u=>t.startsWith("/")&&u===""?"/":u)}function IZ(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:qZ(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var PZ=/^:[\w-]+$/,DZ=3,MZ=2,FZ=1,BZ=10,UZ=-2,zO=t=>t==="*";function zZ(t,e){let n=t.split("/"),r=n.length;return n.some(zO)&&(r+=UZ),e&&(r+=MZ),n.filter(s=>!zO(s)).reduce((s,i)=>s+(PZ.test(i)?DZ:i===""?FZ:BZ),r)}function qZ(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function $Z(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",o=[];for(let c=0;c<r.length;++c){let u=r[c],h=c===r.length-1,f=i==="/"?e:e.slice(i.length)||"/",g=wb({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},f),p=u.route;if(!g&&h&&n&&!r[r.length-1].route.index&&(g=wb({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!g)return null;Object.assign(s,g.params),o.push({params:s,pathname:Fc([i,g.pathname]),pathnameBase:YZ(Fc([i,g.pathnameBase])),route:p}),g.pathnameBase!=="/"&&(i=Fc([i,g.pathnameBase]))}return o}function wb(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=VZ(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((h,{paramName:f,isOptional:g},p)=>{if(f==="*"){let w=c[p]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const y=c[p];return g&&!y?h[f]=void 0:h[f]=(y||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:o,pattern:t}}function VZ(t,e=!1,n=!0){Wl(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,u)=>(r.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function HZ(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wl(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ld(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function GZ(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Gm(t):t;return{pathname:n?n.startsWith("/")?n:WZ(n,e):e,search:XZ(r),hash:JZ(s)}}function WZ(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function aE(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function KZ(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function JB(t){let e=KZ(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function QB(t,e,n,r=!1){let s;typeof t=="string"?s=Gm(t):(s={...t},Qr(!s.pathname||!s.pathname.includes("?"),aE("?","pathname","search",s)),Qr(!s.pathname||!s.pathname.includes("#"),aE("#","pathname","hash",s)),Qr(!s.search||!s.search.includes("#"),aE("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,c;if(o==null)c=n;else{let g=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),g-=1;s.pathname=p.join("/")}c=g>=0?e[g]:"/"}let u=GZ(s,c),h=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||f)&&(u.pathname+="/"),u}var Fc=t=>t.join("/").replace(/\/\/+/g,"/"),YZ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),XZ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,JZ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function QZ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var ZB=["POST","PUT","PATCH","DELETE"];new Set(ZB);var ZZ=["GET",...ZB];new Set(ZZ);var Wm=S.createContext(null);Wm.displayName="DataRouter";var z1=S.createContext(null);z1.displayName="DataRouterState";var e9=S.createContext({isTransitioning:!1});e9.displayName="ViewTransition";var eee=S.createContext(new Map);eee.displayName="Fetchers";var tee=S.createContext(null);tee.displayName="Await";var sc=S.createContext(null);sc.displayName="Navigation";var vy=S.createContext(null);vy.displayName="Location";var ru=S.createContext({outlet:null,matches:[],isDataRoute:!1});ru.displayName="Route";var dA=S.createContext(null);dA.displayName="RouteError";function nee(t,{relative:e}={}){Qr(xy(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=S.useContext(sc),{hash:s,pathname:i,search:o}=by(t,{relative:e}),c=i;return n!=="/"&&(c=i==="/"?n:Fc([n,i])),r.createHref({pathname:c,search:o,hash:s})}function xy(){return S.useContext(vy)!=null}function Mh(){return Qr(xy(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(vy).location}var t9="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function n9(t){S.useContext(sc).static||S.useLayoutEffect(t)}function ree(){let{isDataRoute:t}=S.useContext(ru);return t?gee():see()}function see(){Qr(xy(),"useNavigate() may be used only in the context of a <Router> component.");let t=S.useContext(Wm),{basename:e,navigator:n}=S.useContext(sc),{matches:r}=S.useContext(ru),{pathname:s}=Mh(),i=JSON.stringify(JB(r)),o=S.useRef(!1);return n9(()=>{o.current=!0}),S.useCallback((u,h={})=>{if(Wl(o.current,t9),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=QB(u,JSON.parse(i),s,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Fc([e,f.pathname])),(h.replace?n.replace:n.push)(f,h.state,h)},[e,n,i,s,t])}S.createContext(null);function by(t,{relative:e}={}){let{matches:n}=S.useContext(ru),{pathname:r}=Mh(),s=JSON.stringify(JB(n));return S.useMemo(()=>QB(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function aee(t,e){return r9(t,e)}function r9(t,e,n,r){var O;Qr(xy(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:i}=S.useContext(sc),{matches:o}=S.useContext(ru),c=o[o.length-1],u=c?c.params:{},h=c?c.pathname:"/",f=c?c.pathnameBase:"/",g=c&&c.route;{let I=g&&g.path||"";s9(h,!g||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let p=Mh(),y;if(e){let I=typeof e=="string"?Gm(e):e;Qr(f==="/"||((O=I.pathname)==null?void 0:O.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${I.pathname}" was given in the \`location\` prop.`),y=I}else y=p;let w=y.pathname||"/",E=w;if(f!=="/"){let I=f.replace(/^\//,"").split("/");E="/"+w.replace(/^\//,"").split("/").slice(I.length).join("/")}let j=!i&&n&&n.matches&&n.matches.length>0?n.matches:KB(t,{pathname:E});Wl(g||j!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Wl(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=uee(j&&j.map(I=>Object.assign({},I,{params:Object.assign({},u,I.params),pathname:Fc([f,s.encodeLocation?s.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?f:Fc([f,s.encodeLocation?s.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),o,n,r);return e&&C?S.createElement(vy.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},C):C}function iee(){let t=pee(),e=QZ(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:i},"ErrorBoundary")," or"," ",S.createElement("code",{style:i},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:s},n):null,o)}var oee=S.createElement(iee,null),lee=class extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?S.createElement(ru.Provider,{value:this.props.routeContext},S.createElement(dA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function cee({routeContext:t,match:e,children:n}){let r=S.useContext(Wm);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(ru.Provider,{value:t},n)}function uee(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,i=n==null?void 0:n.errors;if(i!=null){let u=s.findIndex(h=>h.route.id&&(i==null?void 0:i[h.route.id])!==void 0);Qr(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,u+1))}let o=!1,c=-1;if(n)for(let u=0;u<s.length;u++){let h=s[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:f,errors:g}=n,p=h.route.loader&&!f.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||p){o=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,h,f)=>{let g,p=!1,y=null,w=null;n&&(g=i&&h.route.id?i[h.route.id]:void 0,y=h.route.errorElement||oee,o&&(c<0&&f===0?(s9("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,w=null):c===f&&(p=!0,w=h.route.hydrateFallbackElement||null)));let E=e.concat(s.slice(0,f+1)),j=()=>{let C;return g?C=y:p?C=w:h.route.Component?C=S.createElement(h.route.Component,null):h.route.element?C=h.route.element:C=u,S.createElement(cee,{match:h,routeContext:{outlet:u,matches:E,isDataRoute:n!=null},children:C})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?S.createElement(lee,{location:n.location,revalidation:n.revalidation,component:y,error:g,children:j(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):j()},null)}function hA(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dee(t){let e=S.useContext(Wm);return Qr(e,hA(t)),e}function hee(t){let e=S.useContext(z1);return Qr(e,hA(t)),e}function fee(t){let e=S.useContext(ru);return Qr(e,hA(t)),e}function fA(t){let e=fee(t),n=e.matches[e.matches.length-1];return Qr(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function mee(){return fA("useRouteId")}function pee(){var r;let t=S.useContext(dA),e=hee("useRouteError"),n=fA("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function gee(){let{router:t}=dee("useNavigate"),e=fA("useNavigate"),n=S.useRef(!1);return n9(()=>{n.current=!0}),S.useCallback(async(s,i={})=>{Wl(n.current,t9),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var qO={};function s9(t,e,n){!e&&!qO[t]&&(qO[t]=!0,Wl(!1,n))}S.memo(yee);function yee({routes:t,future:e,state:n}){return r9(t,void 0,n,e)}function Uf(t){Qr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function vee({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){Qr(!xy(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),c=S.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof n=="string"&&(n=Gm(n));let{pathname:u="/",search:h="",hash:f="",state:g=null,key:p="default"}=n,y=S.useMemo(()=>{let w=ld(u,o);return w==null?null:{location:{pathname:w,search:h,hash:f,state:g,key:p},navigationType:r}},[o,u,h,f,g,p,r]);return Wl(y!=null,`<Router basename="${o}"> is not able to match the URL "${u}${h}${f}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:S.createElement(sc.Provider,{value:c},S.createElement(vy.Provider,{children:e,value:y}))}function xee({children:t,location:e}){return aee(DC(t),e)}function DC(t,e=[]){let n=[];return S.Children.forEach(t,(r,s)=>{if(!S.isValidElement(r))return;let i=[...e,s];if(r.type===S.Fragment){n.push.apply(n,DC(r.props.children,i));return}Qr(r.type===Uf,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Qr(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=DC(r.props.children,i)),n.push(o)}),n}var Jx="get",Qx="application/x-www-form-urlencoded";function q1(t){return t!=null&&typeof t.tagName=="string"}function bee(t){return q1(t)&&t.tagName.toLowerCase()==="button"}function wee(t){return q1(t)&&t.tagName.toLowerCase()==="form"}function _ee(t){return q1(t)&&t.tagName.toLowerCase()==="input"}function Eee(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function jee(t,e){return t.button===0&&(!e||e==="_self")&&!Eee(t)}var lx=null;function See(){if(lx===null)try{new FormData(document.createElement("form"),0),lx=!1}catch{lx=!0}return lx}var Cee=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function iE(t){return t!=null&&!Cee.has(t)?(Wl(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Qx}"`),null):t}function Nee(t,e){let n,r,s,i,o;if(wee(t)){let c=t.getAttribute("action");r=c?ld(c,e):null,n=t.getAttribute("method")||Jx,s=iE(t.getAttribute("enctype"))||Qx,i=new FormData(t)}else if(bee(t)||_ee(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||c.getAttribute("action");if(r=u?ld(u,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||Jx,s=iE(t.getAttribute("formenctype"))||iE(c.getAttribute("enctype"))||Qx,i=new FormData(c,t),!See()){let{name:h,type:f,value:g}=t;if(f==="image"){let p=h?`${h}.`:"";i.append(`${p}x`,"0"),i.append(`${p}y`,"0")}else h&&i.append(h,g)}}else{if(q1(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Jx,r=null,s=Qx,o=t}return i&&s==="text/plain"&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:o}}function mA(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function Tee(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Aee(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Lee(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let o=await Tee(i,n);return o.links?o.links():[]}return[]}));return Iee(r.flat(1).filter(Aee).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function $O(t,e,n,r,s,i){let o=(u,h)=>n[h]?u.route.id!==n[h].route.id:!0,c=(u,h)=>{var f;return n[h].pathname!==u.pathname||((f=n[h].route.path)==null?void 0:f.endsWith("*"))&&n[h].params["*"]!==u.params["*"]};return i==="assets"?e.filter((u,h)=>o(u,h)||c(u,h)):i==="data"?e.filter((u,h)=>{var g;let f=r.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(o(u,h)||c(u,h))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function Ree(t,e,{includeHydrateFallback:n}={}){return kee(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function kee(t){return[...new Set(t)]}function Oee(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Iee(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(Oee(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function Pee(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function Dee(){let t=S.useContext(Wm);return mA(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Mee(){let t=S.useContext(z1);return mA(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var pA=S.createContext(void 0);pA.displayName="FrameworkContext";function a9(){let t=S.useContext(pA);return mA(t,"You must render this element inside a <HydratedRouter> element"),t}function Fee(t,e){let n=S.useContext(pA),[r,s]=S.useState(!1),[i,o]=S.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:h,onMouseLeave:f,onTouchStart:g}=e,p=S.useRef(null);S.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let E=C=>{C.forEach(O=>{o(O.isIntersecting)})},j=new IntersectionObserver(E,{threshold:.5});return p.current&&j.observe(p.current),()=>{j.disconnect()}}},[t]),S.useEffect(()=>{if(r){let E=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(E)}}},[r]);let y=()=>{s(!0)},w=()=>{s(!1),o(!1)};return n?t!=="intent"?[i,p,{}]:[i,p,{onFocus:jg(c,y),onBlur:jg(u,w),onMouseEnter:jg(h,y),onMouseLeave:jg(f,w),onTouchStart:jg(g,y)}]:[!1,p,{}]}function jg(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Bee({page:t,...e}){let{router:n}=Dee(),r=S.useMemo(()=>KB(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?S.createElement(zee,{page:t,matches:r,...e}):null}function Uee(t){let{manifest:e,routeModules:n}=a9(),[r,s]=S.useState([]);return S.useEffect(()=>{let i=!1;return Lee(t,e,n).then(o=>{i||s(o)}),()=>{i=!0}},[t,e,n]),r}function zee({page:t,matches:e,...n}){let r=Mh(),{manifest:s,routeModules:i}=a9(),{loaderData:o,matches:c}=Mee(),u=S.useMemo(()=>$O(t,e,c,s,r,"data"),[t,e,c,s,r]),h=S.useMemo(()=>$O(t,e,c,s,r,"assets"),[t,e,c,s,r]),f=S.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let y=new Set,w=!1;if(e.forEach(j=>{var O;let C=s.routes[j.route.id];!C||!C.hasLoader||(!u.some(I=>I.route.id===j.route.id)&&j.route.id in o&&((O=i[j.route.id])!=null&&O.shouldRevalidate)||C.hasClientLoader?w=!0:y.add(j.route.id))}),y.size===0)return[];let E=Pee(t);return w&&y.size>0&&E.searchParams.set("_routes",e.filter(j=>y.has(j.route.id)).map(j=>j.route.id).join(",")),[E.pathname+E.search]},[o,r,s,u,e,t,i]),g=S.useMemo(()=>Ree(h,s),[h,s]),p=Uee(h);return S.createElement(S.Fragment,null,f.map(y=>S.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...n})),g.map(y=>S.createElement("link",{key:y,rel:"modulepreload",href:y,...n})),p.map(({key:y,link:w})=>S.createElement("link",{key:y,...w})))}function qee(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var i9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{i9&&(window.__reactRouterVersion="7.2.0")}catch{}function $ee({basename:t,children:e,window:n}){let r=S.useRef();r.current==null&&(r.current=LZ({window:n,v5Compat:!0}));let s=r.current,[i,o]=S.useState({action:s.action,location:s.location}),c=S.useCallback(u=>{S.startTransition(()=>o(u))},[o]);return S.useLayoutEffect(()=>s.listen(c),[s,c]),S.createElement(vee,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:s})}var o9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,N0=S.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:o,state:c,target:u,to:h,preventScrollReset:f,viewTransition:g,...p},y){let{basename:w}=S.useContext(sc),E=typeof h=="string"&&o9.test(h),j,C=!1;if(typeof h=="string"&&E&&(j=h,i9))try{let b=new URL(window.location.href),A=h.startsWith("//")?new URL(b.protocol+h):new URL(h),L=ld(A.pathname,w);A.origin===b.origin&&L!=null?h=L+A.search+A.hash:C=!0}catch{Wl(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=nee(h,{relative:s}),[I,D,T]=Fee(r,p),F=Gee(h,{replace:o,state:c,target:u,preventScrollReset:f,relative:s,viewTransition:g});function _(b){e&&e(b),b.defaultPrevented||F(b)}let R=S.createElement("a",{...p,...T,href:j||O,onClick:C||i?e:_,ref:qee(y,D),target:u,"data-discover":!E&&n==="render"?"true":void 0});return I&&!E?S.createElement(S.Fragment,null,R,S.createElement(Bee,{page:O})):R});N0.displayName="Link";var Mt=S.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:o,viewTransition:c,children:u,...h},f){let g=by(o,{relative:h.relative}),p=Mh(),y=S.useContext(z1),{navigator:w,basename:E}=S.useContext(sc),j=y!=null&&Jee(g)&&c===!0,C=w.encodeLocation?w.encodeLocation(g).pathname:g.pathname,O=p.pathname,I=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(O=O.toLowerCase(),I=I?I.toLowerCase():null,C=C.toLowerCase()),I&&E&&(I=ld(I,E)||I);const D=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let T=O===C||!s&&O.startsWith(C)&&O.charAt(D)==="/",F=I!=null&&(I===C||!s&&I.startsWith(C)&&I.charAt(C.length)==="/"),_={isActive:T,isPending:F,isTransitioning:j},R=T?e:void 0,b;typeof r=="function"?b=r(_):b=[r,T?"active":null,F?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let A=typeof i=="function"?i(_):i;return S.createElement(N0,{...h,"aria-current":R,className:b,ref:f,style:A,to:o,viewTransition:c},typeof u=="function"?u(_):u)});Mt.displayName="NavLink";var Vee=S.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:o=Jx,action:c,onSubmit:u,relative:h,preventScrollReset:f,viewTransition:g,...p},y)=>{let w=Yee(),E=Xee(c,{relative:h}),j=o.toLowerCase()==="get"?"get":"post",C=typeof c=="string"&&o9.test(c),O=I=>{if(u&&u(I),I.defaultPrevented)return;I.preventDefault();let D=I.nativeEvent.submitter,T=(D==null?void 0:D.getAttribute("formmethod"))||o;w(D||I.currentTarget,{fetcherKey:e,method:T,navigate:n,replace:s,state:i,relative:h,preventScrollReset:f,viewTransition:g})};return S.createElement("form",{ref:y,method:j,action:E,onSubmit:r?u:O,...p,"data-discover":!C&&t==="render"?"true":void 0})});Vee.displayName="Form";function Hee(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function l9(t){let e=S.useContext(Wm);return Qr(e,Hee(t)),e}function Gee(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:o}={}){let c=ree(),u=Mh(),h=by(t,{relative:i});return S.useCallback(f=>{if(jee(f,e)){f.preventDefault();let g=n!==void 0?n:C0(u)===C0(h);c(t,{replace:g,state:r,preventScrollReset:s,relative:i,viewTransition:o})}},[u,c,h,n,r,e,t,s,i,o])}var Wee=0,Kee=()=>`__${String(++Wee)}__`;function Yee(){let{router:t}=l9("useSubmit"),{basename:e}=S.useContext(sc),n=mee();return S.useCallback(async(r,s={})=>{let{action:i,method:o,encType:c,formData:u,body:h}=Nee(r,e);if(s.navigate===!1){let f=s.fetcherKey||Kee();await t.fetch(f,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:u,body:h,formMethod:s.method||o,formEncType:s.encType||c,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:u,body:h,formMethod:s.method||o,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function Xee(t,{relative:e}={}){let{basename:n}=S.useContext(sc),r=S.useContext(ru);Qr(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...by(t||".",{relative:e})},o=Mh();if(t==null){i.search=o.search;let c=new URLSearchParams(i.search),u=c.getAll("index");if(u.some(f=>f==="")){c.delete("index"),u.filter(g=>g).forEach(g=>c.append("index",g));let f=c.toString();i.search=f?`?${f}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Fc([n,i.pathname])),C0(i)}function Jee(t,e={}){let n=S.useContext(e9);Qr(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=l9("useViewTransitionState"),s=by(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=ld(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=ld(n.nextLocation.pathname,r)||n.nextLocation.pathname;return wb(s.pathname,o)!=null||wb(s.pathname,i)!=null}new TextEncoder;function Qee(){return a.jsxs(a.Fragment,{children:[a.jsx("h1",{children:"Page Not Found"}),a.jsx("p",{className:"d-inline",children:"Go back to the "}),a.jsx(N0,{style:{textDecoration:"none"},to:"/",exact:"true",children:"homepage."})]})}var VO={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c9=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Zee=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],c=t[n++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},u9={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,c=o?t[s+1]:0,u=s+2<t.length,h=u?t[s+2]:0,f=i>>2,g=(i&3)<<4|c>>4;let p=(c&15)<<2|h>>6,y=h&63;u||(y=64,o||(p=64)),r.push(n[f],n[g],n[p],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(c9(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Zee(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const h=s<t.length?n[t.charAt(s)]:64;++s;const g=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||c==null||h==null||g==null)throw new ete;const p=i<<2|c>>4;if(r.push(p),h!==64){const y=c<<4&240|h>>2;if(r.push(y),g!==64){const w=h<<6&192|g;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ete extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tte=function(t){const e=c9(t);return u9.encodeByteArray(e,!0)},_b=function(t){return tte(t).replace(/\./g,"")},d9=function(t){try{return u9.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nte(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rte=()=>nte().__FIREBASE_DEFAULTS__,ste=()=>{if(typeof process>"u"||typeof VO>"u")return;const t=VO.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ate=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&d9(t[1]);return e&&JSON.parse(e)},$1=()=>{try{return rte()||ste()||ate()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},h9=t=>{var e,n;return(n=(e=$1())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},f9=t=>{const e=h9(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},m9=()=>{var t;return(t=$1())===null||t===void 0?void 0:t.config},p9=t=>{var e;return(e=$1())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ite{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g9(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[_b(JSON.stringify(n)),_b(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ua(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ote(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ua())}function lte(){var t;const e=(t=$1())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cte(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function y9(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ute(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dte(){const t=Ua();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function hte(){return!lte()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function v9(){try{return typeof indexedDB=="object"}catch{return!1}}function x9(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function fte(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mte="FirebaseError";class Po extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=mte,Object.setPrototypeOf(this,Po.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fh.prototype.create)}}class Fh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?pte(i,r):"Error",c=`${this.serviceName}: ${o} (${s}).`;return new Po(s,c,r)}}function pte(t,e){return t.replace(gte,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const gte=/\{\$([^}]+)}/g;function yte(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function T0(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(HO(i)&&HO(o)){if(!T0(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function HO(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function vte(t,e){const n=new xte(t,e);return n.subscribe.bind(n)}class xte{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");bte(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=oE),s.error===void 0&&(s.error=oE),s.complete===void 0&&(s.complete=oE);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bte(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function oE(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wte=1e3,_te=2,Ete=4*60*60*1e3,jte=.5;function GO(t,e=wte,n=_te){const r=e*Math.pow(n,t),s=Math.round(jte*r*(Math.random()-.5)*2);return Math.min(Ete,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(t){return t&&t._delegate?t._delegate:t}class ko{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ste{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ite;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Nte(e))try{this.getOrInitializeService({instanceIdentifier:eh})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=eh){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=eh){return this.instances.has(e)}getOptions(e=eh){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(i);r===c&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Cte(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=eh){return this.component?this.component.multipleInstances?e:eh:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Cte(t){return t===eh?void 0:t}function Nte(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tte{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Ste(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Rn||(Rn={}));const Ate={debug:Rn.DEBUG,verbose:Rn.VERBOSE,info:Rn.INFO,warn:Rn.WARN,error:Rn.ERROR,silent:Rn.SILENT},Lte=Rn.INFO,Rte={[Rn.DEBUG]:"log",[Rn.VERBOSE]:"log",[Rn.INFO]:"info",[Rn.WARN]:"warn",[Rn.ERROR]:"error"},kte=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=Rte[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class V1{constructor(e){this.name=e,this._logLevel=Lte,this._logHandler=kte,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Rn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ate[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Rn.DEBUG,...e),this._logHandler(this,Rn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Rn.VERBOSE,...e),this._logHandler(this,Rn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Rn.INFO,...e),this._logHandler(this,Rn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Rn.WARN,...e),this._logHandler(this,Rn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Rn.ERROR,...e),this._logHandler(this,Rn.ERROR,...e)}}const Ote=(t,e)=>e.some(n=>t instanceof n);let WO,KO;function Ite(){return WO||(WO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Pte(){return KO||(KO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const b9=new WeakMap,MC=new WeakMap,w9=new WeakMap,lE=new WeakMap,gA=new WeakMap;function Dte(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Zu(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&b9.set(n,t)}).catch(()=>{}),gA.set(e,t),e}function Mte(t){if(MC.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});MC.set(t,e)}let FC={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return MC.get(t);if(e==="objectStoreNames")return t.objectStoreNames||w9.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zu(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Fte(t){FC=t(FC)}function Bte(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(cE(this),e,...n);return w9.set(r,e.sort?e.sort():[e]),Zu(r)}:Pte().includes(t)?function(...e){return t.apply(cE(this),e),Zu(b9.get(this))}:function(...e){return Zu(t.apply(cE(this),e))}}function Ute(t){return typeof t=="function"?Bte(t):(t instanceof IDBTransaction&&Mte(t),Ote(t,Ite())?new Proxy(t,FC):t)}function Zu(t){if(t instanceof IDBRequest)return Dte(t);if(lE.has(t))return lE.get(t);const e=Ute(t);return e!==t&&(lE.set(t,e),gA.set(e,t)),e}const cE=t=>gA.get(t);function _9(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),c=Zu(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Zu(o.result),u.oldVersion,u.newVersion,Zu(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const zte=["get","getKey","getAll","getAllKeys","count"],qte=["put","add","delete","clear"],uE=new Map;function YO(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(uE.get(e))return uE.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=qte.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||zte.includes(n)))return;const i=async function(o,...c){const u=this.transaction(o,s?"readwrite":"readonly");let h=u.store;return r&&(h=h.index(c.shift())),(await Promise.all([h[n](...c),s&&u.done]))[0]};return uE.set(e,i),i}Fte(t=>({...t,get:(e,n,r)=>YO(e,n)||t.get(e,n,r),has:(e,n)=>!!YO(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $te{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Vte(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Vte(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const BC="@firebase/app",XO="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc=new V1("@firebase/app"),Hte="@firebase/app-compat",Gte="@firebase/analytics-compat",Wte="@firebase/analytics",Kte="@firebase/app-check-compat",Yte="@firebase/app-check",Xte="@firebase/auth",Jte="@firebase/auth-compat",Qte="@firebase/database",Zte="@firebase/data-connect",ene="@firebase/database-compat",tne="@firebase/functions",nne="@firebase/functions-compat",rne="@firebase/installations",sne="@firebase/installations-compat",ane="@firebase/messaging",ine="@firebase/messaging-compat",one="@firebase/performance",lne="@firebase/performance-compat",cne="@firebase/remote-config",une="@firebase/remote-config-compat",dne="@firebase/storage",hne="@firebase/storage-compat",fne="@firebase/firestore",mne="@firebase/vertexai",pne="@firebase/firestore-compat",gne="firebase",yne="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC="[DEFAULT]",vne={[BC]:"fire-core",[Hte]:"fire-core-compat",[Wte]:"fire-analytics",[Gte]:"fire-analytics-compat",[Yte]:"fire-app-check",[Kte]:"fire-app-check-compat",[Xte]:"fire-auth",[Jte]:"fire-auth-compat",[Qte]:"fire-rtdb",[Zte]:"fire-data-connect",[ene]:"fire-rtdb-compat",[tne]:"fire-fn",[nne]:"fire-fn-compat",[rne]:"fire-iid",[sne]:"fire-iid-compat",[ane]:"fire-fcm",[ine]:"fire-fcm-compat",[one]:"fire-perf",[lne]:"fire-perf-compat",[cne]:"fire-rc",[une]:"fire-rc-compat",[dne]:"fire-gcs",[hne]:"fire-gcs-compat",[fne]:"fire-fst",[pne]:"fire-fst-compat",[mne]:"fire-vertex","fire-js":"fire-js",[gne]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb=new Map,xne=new Map,zC=new Map;function JO(t,e){try{t.container.addComponent(e)}catch(n){Hc.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ll(t){const e=t.name;if(zC.has(e))return Hc.debug(`There were multiple attempts to register component ${e}.`),!1;zC.set(e,t);for(const n of Eb.values())JO(n,t);for(const n of xne.values())JO(n,t);return!0}function _d(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function tl(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bne={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ed=new Fh("app","Firebase",bne);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wne{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ko("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ed.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh=yne;function E9(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:UC,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw ed.create("bad-app-name",{appName:String(s)});if(n||(n=m9()),!n)throw ed.create("no-options");const i=Eb.get(s);if(i){if(T0(n,i.options)&&T0(r,i.config))return i;throw ed.create("duplicate-app",{appName:s})}const o=new Tte(s);for(const u of zC.values())o.addComponent(u);const c=new wne(n,r,o);return Eb.set(s,c),c}function H1(t=UC){const e=Eb.get(t);if(!e&&t===UC&&m9())return E9();if(!e)throw ed.create("no-app",{appName:t});return e}function xi(t,e,n){var r;let s=(r=vne[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const c=[`Unable to register library "${s}" with version "${e}":`];i&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hc.warn(c.join(" "));return}ll(new ko(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _ne="firebase-heartbeat-database",Ene=1,A0="firebase-heartbeat-store";let dE=null;function j9(){return dE||(dE=_9(_ne,Ene,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(A0)}catch(n){console.warn(n)}}}}).catch(t=>{throw ed.create("idb-open",{originalErrorMessage:t.message})})),dE}async function jne(t){try{const n=(await j9()).transaction(A0),r=await n.objectStore(A0).get(S9(t));return await n.done,r}catch(e){if(e instanceof Po)Hc.warn(e.message);else{const n=ed.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Hc.warn(n.message)}}}async function QO(t,e){try{const r=(await j9()).transaction(A0,"readwrite");await r.objectStore(A0).put(e,S9(t)),await r.done}catch(n){if(n instanceof Po)Hc.warn(n.message);else{const r=ed.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Hc.warn(r.message)}}}function S9(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sne=1024,Cne=30;class Nne{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Ane(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=ZO();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>Cne){const o=Lne(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Hc.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ZO(),{heartbeatsToSend:r,unsentEntries:s}=Tne(this._heartbeatsCache.heartbeats),i=_b(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Hc.warn(n),""}}}function ZO(){return new Date().toISOString().substring(0,10)}function Tne(t,e=Sne){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),eI(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),eI(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Ane{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return v9()?x9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await jne(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return QO(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return QO(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function eI(t){return _b(JSON.stringify({version:2,heartbeats:t})).length}function Lne(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rne(t){ll(new ko("platform-logger",e=>new $te(e),"PRIVATE")),ll(new ko("heartbeat",e=>new Nne(e),"PRIVATE")),xi(BC,XO,t),xi(BC,XO,"esm2017"),xi("fire-js","")}Rne("");var tI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var td,C9;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(_,R){function b(){}b.prototype=R.prototype,_.D=R.prototype,_.prototype=new b,_.prototype.constructor=_,_.C=function(A,L,U){for(var P=Array(arguments.length-2),K=2;K<arguments.length;K++)P[K-2]=arguments[K];return R.prototype[L].apply(A,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(_,R,b){b||(b=0);var A=Array(16);if(typeof R=="string")for(var L=0;16>L;++L)A[L]=R.charCodeAt(b++)|R.charCodeAt(b++)<<8|R.charCodeAt(b++)<<16|R.charCodeAt(b++)<<24;else for(L=0;16>L;++L)A[L]=R[b++]|R[b++]<<8|R[b++]<<16|R[b++]<<24;R=_.g[0],b=_.g[1],L=_.g[2];var U=_.g[3],P=R+(U^b&(L^U))+A[0]+3614090360&4294967295;R=b+(P<<7&4294967295|P>>>25),P=U+(L^R&(b^L))+A[1]+3905402710&4294967295,U=R+(P<<12&4294967295|P>>>20),P=L+(b^U&(R^b))+A[2]+606105819&4294967295,L=U+(P<<17&4294967295|P>>>15),P=b+(R^L&(U^R))+A[3]+3250441966&4294967295,b=L+(P<<22&4294967295|P>>>10),P=R+(U^b&(L^U))+A[4]+4118548399&4294967295,R=b+(P<<7&4294967295|P>>>25),P=U+(L^R&(b^L))+A[5]+1200080426&4294967295,U=R+(P<<12&4294967295|P>>>20),P=L+(b^U&(R^b))+A[6]+2821735955&4294967295,L=U+(P<<17&4294967295|P>>>15),P=b+(R^L&(U^R))+A[7]+4249261313&4294967295,b=L+(P<<22&4294967295|P>>>10),P=R+(U^b&(L^U))+A[8]+1770035416&4294967295,R=b+(P<<7&4294967295|P>>>25),P=U+(L^R&(b^L))+A[9]+2336552879&4294967295,U=R+(P<<12&4294967295|P>>>20),P=L+(b^U&(R^b))+A[10]+4294925233&4294967295,L=U+(P<<17&4294967295|P>>>15),P=b+(R^L&(U^R))+A[11]+2304563134&4294967295,b=L+(P<<22&4294967295|P>>>10),P=R+(U^b&(L^U))+A[12]+1804603682&4294967295,R=b+(P<<7&4294967295|P>>>25),P=U+(L^R&(b^L))+A[13]+4254626195&4294967295,U=R+(P<<12&4294967295|P>>>20),P=L+(b^U&(R^b))+A[14]+2792965006&4294967295,L=U+(P<<17&4294967295|P>>>15),P=b+(R^L&(U^R))+A[15]+1236535329&4294967295,b=L+(P<<22&4294967295|P>>>10),P=R+(L^U&(b^L))+A[1]+4129170786&4294967295,R=b+(P<<5&4294967295|P>>>27),P=U+(b^L&(R^b))+A[6]+3225465664&4294967295,U=R+(P<<9&4294967295|P>>>23),P=L+(R^b&(U^R))+A[11]+643717713&4294967295,L=U+(P<<14&4294967295|P>>>18),P=b+(U^R&(L^U))+A[0]+3921069994&4294967295,b=L+(P<<20&4294967295|P>>>12),P=R+(L^U&(b^L))+A[5]+3593408605&4294967295,R=b+(P<<5&4294967295|P>>>27),P=U+(b^L&(R^b))+A[10]+38016083&4294967295,U=R+(P<<9&4294967295|P>>>23),P=L+(R^b&(U^R))+A[15]+3634488961&4294967295,L=U+(P<<14&4294967295|P>>>18),P=b+(U^R&(L^U))+A[4]+3889429448&4294967295,b=L+(P<<20&4294967295|P>>>12),P=R+(L^U&(b^L))+A[9]+568446438&4294967295,R=b+(P<<5&4294967295|P>>>27),P=U+(b^L&(R^b))+A[14]+3275163606&4294967295,U=R+(P<<9&4294967295|P>>>23),P=L+(R^b&(U^R))+A[3]+4107603335&4294967295,L=U+(P<<14&4294967295|P>>>18),P=b+(U^R&(L^U))+A[8]+1163531501&4294967295,b=L+(P<<20&4294967295|P>>>12),P=R+(L^U&(b^L))+A[13]+2850285829&4294967295,R=b+(P<<5&4294967295|P>>>27),P=U+(b^L&(R^b))+A[2]+4243563512&4294967295,U=R+(P<<9&4294967295|P>>>23),P=L+(R^b&(U^R))+A[7]+1735328473&4294967295,L=U+(P<<14&4294967295|P>>>18),P=b+(U^R&(L^U))+A[12]+2368359562&4294967295,b=L+(P<<20&4294967295|P>>>12),P=R+(b^L^U)+A[5]+4294588738&4294967295,R=b+(P<<4&4294967295|P>>>28),P=U+(R^b^L)+A[8]+2272392833&4294967295,U=R+(P<<11&4294967295|P>>>21),P=L+(U^R^b)+A[11]+1839030562&4294967295,L=U+(P<<16&4294967295|P>>>16),P=b+(L^U^R)+A[14]+4259657740&4294967295,b=L+(P<<23&4294967295|P>>>9),P=R+(b^L^U)+A[1]+2763975236&4294967295,R=b+(P<<4&4294967295|P>>>28),P=U+(R^b^L)+A[4]+1272893353&4294967295,U=R+(P<<11&4294967295|P>>>21),P=L+(U^R^b)+A[7]+4139469664&4294967295,L=U+(P<<16&4294967295|P>>>16),P=b+(L^U^R)+A[10]+3200236656&4294967295,b=L+(P<<23&4294967295|P>>>9),P=R+(b^L^U)+A[13]+681279174&4294967295,R=b+(P<<4&4294967295|P>>>28),P=U+(R^b^L)+A[0]+3936430074&4294967295,U=R+(P<<11&4294967295|P>>>21),P=L+(U^R^b)+A[3]+3572445317&4294967295,L=U+(P<<16&4294967295|P>>>16),P=b+(L^U^R)+A[6]+76029189&4294967295,b=L+(P<<23&4294967295|P>>>9),P=R+(b^L^U)+A[9]+3654602809&4294967295,R=b+(P<<4&4294967295|P>>>28),P=U+(R^b^L)+A[12]+3873151461&4294967295,U=R+(P<<11&4294967295|P>>>21),P=L+(U^R^b)+A[15]+530742520&4294967295,L=U+(P<<16&4294967295|P>>>16),P=b+(L^U^R)+A[2]+3299628645&4294967295,b=L+(P<<23&4294967295|P>>>9),P=R+(L^(b|~U))+A[0]+4096336452&4294967295,R=b+(P<<6&4294967295|P>>>26),P=U+(b^(R|~L))+A[7]+1126891415&4294967295,U=R+(P<<10&4294967295|P>>>22),P=L+(R^(U|~b))+A[14]+2878612391&4294967295,L=U+(P<<15&4294967295|P>>>17),P=b+(U^(L|~R))+A[5]+4237533241&4294967295,b=L+(P<<21&4294967295|P>>>11),P=R+(L^(b|~U))+A[12]+1700485571&4294967295,R=b+(P<<6&4294967295|P>>>26),P=U+(b^(R|~L))+A[3]+2399980690&4294967295,U=R+(P<<10&4294967295|P>>>22),P=L+(R^(U|~b))+A[10]+4293915773&4294967295,L=U+(P<<15&4294967295|P>>>17),P=b+(U^(L|~R))+A[1]+2240044497&4294967295,b=L+(P<<21&4294967295|P>>>11),P=R+(L^(b|~U))+A[8]+1873313359&4294967295,R=b+(P<<6&4294967295|P>>>26),P=U+(b^(R|~L))+A[15]+4264355552&4294967295,U=R+(P<<10&4294967295|P>>>22),P=L+(R^(U|~b))+A[6]+2734768916&4294967295,L=U+(P<<15&4294967295|P>>>17),P=b+(U^(L|~R))+A[13]+1309151649&4294967295,b=L+(P<<21&4294967295|P>>>11),P=R+(L^(b|~U))+A[4]+4149444226&4294967295,R=b+(P<<6&4294967295|P>>>26),P=U+(b^(R|~L))+A[11]+3174756917&4294967295,U=R+(P<<10&4294967295|P>>>22),P=L+(R^(U|~b))+A[2]+718787259&4294967295,L=U+(P<<15&4294967295|P>>>17),P=b+(U^(L|~R))+A[9]+3951481745&4294967295,_.g[0]=_.g[0]+R&4294967295,_.g[1]=_.g[1]+(L+(P<<21&4294967295|P>>>11))&4294967295,_.g[2]=_.g[2]+L&4294967295,_.g[3]=_.g[3]+U&4294967295}r.prototype.u=function(_,R){R===void 0&&(R=_.length);for(var b=R-this.blockSize,A=this.B,L=this.h,U=0;U<R;){if(L==0)for(;U<=b;)s(this,_,U),U+=this.blockSize;if(typeof _=="string"){for(;U<R;)if(A[L++]=_.charCodeAt(U++),L==this.blockSize){s(this,A),L=0;break}}else for(;U<R;)if(A[L++]=_[U++],L==this.blockSize){s(this,A),L=0;break}}this.h=L,this.o+=R},r.prototype.v=function(){var _=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);_[0]=128;for(var R=1;R<_.length-8;++R)_[R]=0;var b=8*this.o;for(R=_.length-8;R<_.length;++R)_[R]=b&255,b/=256;for(this.u(_),_=Array(16),R=b=0;4>R;++R)for(var A=0;32>A;A+=8)_[b++]=this.g[R]>>>A&255;return _};function i(_,R){var b=c;return Object.prototype.hasOwnProperty.call(b,_)?b[_]:b[_]=R(_)}function o(_,R){this.h=R;for(var b=[],A=!0,L=_.length-1;0<=L;L--){var U=_[L]|0;A&&U==R||(b[L]=U,A=!1)}this.g=b}var c={};function u(_){return-128<=_&&128>_?i(_,function(R){return new o([R|0],0>R?-1:0)}):new o([_|0],0>_?-1:0)}function h(_){if(isNaN(_)||!isFinite(_))return g;if(0>_)return j(h(-_));for(var R=[],b=1,A=0;_>=b;A++)R[A]=_/b|0,b*=4294967296;return new o(R,0)}function f(_,R){if(_.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(_.charAt(0)=="-")return j(f(_.substring(1),R));if(0<=_.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=h(Math.pow(R,8)),A=g,L=0;L<_.length;L+=8){var U=Math.min(8,_.length-L),P=parseInt(_.substring(L,L+U),R);8>U?(U=h(Math.pow(R,U)),A=A.j(U).add(h(P))):(A=A.j(b),A=A.add(h(P)))}return A}var g=u(0),p=u(1),y=u(16777216);t=o.prototype,t.m=function(){if(E(this))return-j(this).m();for(var _=0,R=1,b=0;b<this.g.length;b++){var A=this.i(b);_+=(0<=A?A:4294967296+A)*R,R*=4294967296}return _},t.toString=function(_){if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(w(this))return"0";if(E(this))return"-"+j(this).toString(_);for(var R=h(Math.pow(_,6)),b=this,A="";;){var L=D(b,R).g;b=C(b,L.j(R));var U=((0<b.g.length?b.g[0]:b.h)>>>0).toString(_);if(b=L,w(b))return U+A;for(;6>U.length;)U="0"+U;A=U+A}},t.i=function(_){return 0>_?0:_<this.g.length?this.g[_]:this.h};function w(_){if(_.h!=0)return!1;for(var R=0;R<_.g.length;R++)if(_.g[R]!=0)return!1;return!0}function E(_){return _.h==-1}t.l=function(_){return _=C(this,_),E(_)?-1:w(_)?0:1};function j(_){for(var R=_.g.length,b=[],A=0;A<R;A++)b[A]=~_.g[A];return new o(b,~_.h).add(p)}t.abs=function(){return E(this)?j(this):this},t.add=function(_){for(var R=Math.max(this.g.length,_.g.length),b=[],A=0,L=0;L<=R;L++){var U=A+(this.i(L)&65535)+(_.i(L)&65535),P=(U>>>16)+(this.i(L)>>>16)+(_.i(L)>>>16);A=P>>>16,U&=65535,P&=65535,b[L]=P<<16|U}return new o(b,b[b.length-1]&-2147483648?-1:0)};function C(_,R){return _.add(j(R))}t.j=function(_){if(w(this)||w(_))return g;if(E(this))return E(_)?j(this).j(j(_)):j(j(this).j(_));if(E(_))return j(this.j(j(_)));if(0>this.l(y)&&0>_.l(y))return h(this.m()*_.m());for(var R=this.g.length+_.g.length,b=[],A=0;A<2*R;A++)b[A]=0;for(A=0;A<this.g.length;A++)for(var L=0;L<_.g.length;L++){var U=this.i(A)>>>16,P=this.i(A)&65535,K=_.i(L)>>>16,G=_.i(L)&65535;b[2*A+2*L]+=P*G,O(b,2*A+2*L),b[2*A+2*L+1]+=U*G,O(b,2*A+2*L+1),b[2*A+2*L+1]+=P*K,O(b,2*A+2*L+1),b[2*A+2*L+2]+=U*K,O(b,2*A+2*L+2)}for(A=0;A<R;A++)b[A]=b[2*A+1]<<16|b[2*A];for(A=R;A<2*R;A++)b[A]=0;return new o(b,0)};function O(_,R){for(;(_[R]&65535)!=_[R];)_[R+1]+=_[R]>>>16,_[R]&=65535,R++}function I(_,R){this.g=_,this.h=R}function D(_,R){if(w(R))throw Error("division by zero");if(w(_))return new I(g,g);if(E(_))return R=D(j(_),R),new I(j(R.g),j(R.h));if(E(R))return R=D(_,j(R)),new I(j(R.g),R.h);if(30<_.g.length){if(E(_)||E(R))throw Error("slowDivide_ only works with positive integers.");for(var b=p,A=R;0>=A.l(_);)b=T(b),A=T(A);var L=F(b,1),U=F(A,1);for(A=F(A,2),b=F(b,2);!w(A);){var P=U.add(A);0>=P.l(_)&&(L=L.add(b),U=P),A=F(A,1),b=F(b,1)}return R=C(_,L.j(R)),new I(L,R)}for(L=g;0<=_.l(R);){for(b=Math.max(1,Math.floor(_.m()/R.m())),A=Math.ceil(Math.log(b)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),U=h(b),P=U.j(R);E(P)||0<P.l(_);)b-=A,U=h(b),P=U.j(R);w(U)&&(U=p),L=L.add(U),_=C(_,P)}return new I(L,_)}t.A=function(_){return D(this,_).h},t.and=function(_){for(var R=Math.max(this.g.length,_.g.length),b=[],A=0;A<R;A++)b[A]=this.i(A)&_.i(A);return new o(b,this.h&_.h)},t.or=function(_){for(var R=Math.max(this.g.length,_.g.length),b=[],A=0;A<R;A++)b[A]=this.i(A)|_.i(A);return new o(b,this.h|_.h)},t.xor=function(_){for(var R=Math.max(this.g.length,_.g.length),b=[],A=0;A<R;A++)b[A]=this.i(A)^_.i(A);return new o(b,this.h^_.h)};function T(_){for(var R=_.g.length+1,b=[],A=0;A<R;A++)b[A]=_.i(A)<<1|_.i(A-1)>>>31;return new o(b,_.h)}function F(_,R){var b=R>>5;R%=32;for(var A=_.g.length-b,L=[],U=0;U<A;U++)L[U]=0<R?_.i(U+b)>>>R|_.i(U+b+1)<<32-R:_.i(U+b);return new o(L,_.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,C9=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=f,td=o}).apply(typeof tI<"u"?tI:typeof self<"u"?self:typeof window<"u"?window:{});var cx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var N9,Dg,T9,Zx,qC,A9,L9,R9;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(N,q,Y){return N==Array.prototype||N==Object.prototype||(N[q]=Y.value),N};function n(N){N=[typeof globalThis=="object"&&globalThis,N,typeof window=="object"&&window,typeof self=="object"&&self,typeof cx=="object"&&cx];for(var q=0;q<N.length;++q){var Y=N[q];if(Y&&Y.Math==Math)return Y}throw Error("Cannot find global object")}var r=n(this);function s(N,q){if(q)e:{var Y=r;N=N.split(".");for(var ce=0;ce<N.length-1;ce++){var Ae=N[ce];if(!(Ae in Y))break e;Y=Y[Ae]}N=N[N.length-1],ce=Y[N],q=q(ce),q!=ce&&q!=null&&e(Y,N,{configurable:!0,writable:!0,value:q})}}function i(N,q){N instanceof String&&(N+="");var Y=0,ce=!1,Ae={next:function(){if(!ce&&Y<N.length){var De=Y++;return{value:q(De,N[De]),done:!1}}return ce=!0,{done:!0,value:void 0}}};return Ae[Symbol.iterator]=function(){return Ae},Ae}s("Array.prototype.values",function(N){return N||function(){return i(this,function(q,Y){return Y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},c=this||self;function u(N){var q=typeof N;return q=q!="object"?q:N?Array.isArray(N)?"array":q:"null",q=="array"||q=="object"&&typeof N.length=="number"}function h(N){var q=typeof N;return q=="object"&&N!=null||q=="function"}function f(N,q,Y){return N.call.apply(N.bind,arguments)}function g(N,q,Y){if(!N)throw Error();if(2<arguments.length){var ce=Array.prototype.slice.call(arguments,2);return function(){var Ae=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ae,ce),N.apply(q,Ae)}}return function(){return N.apply(q,arguments)}}function p(N,q,Y){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:g,p.apply(null,arguments)}function y(N,q){var Y=Array.prototype.slice.call(arguments,1);return function(){var ce=Y.slice();return ce.push.apply(ce,arguments),N.apply(this,ce)}}function w(N,q){function Y(){}Y.prototype=q.prototype,N.aa=q.prototype,N.prototype=new Y,N.prototype.constructor=N,N.Qb=function(ce,Ae,De){for(var ht=Array(arguments.length-2),Mn=2;Mn<arguments.length;Mn++)ht[Mn-2]=arguments[Mn];return q.prototype[Ae].apply(ce,ht)}}function E(N){const q=N.length;if(0<q){const Y=Array(q);for(let ce=0;ce<q;ce++)Y[ce]=N[ce];return Y}return[]}function j(N,q){for(let Y=1;Y<arguments.length;Y++){const ce=arguments[Y];if(u(ce)){const Ae=N.length||0,De=ce.length||0;N.length=Ae+De;for(let ht=0;ht<De;ht++)N[Ae+ht]=ce[ht]}else N.push(ce)}}class C{constructor(q,Y){this.i=q,this.j=Y,this.h=0,this.g=null}get(){let q;return 0<this.h?(this.h--,q=this.g,this.g=q.next,q.next=null):q=this.i(),q}}function O(N){return/^[\s\xa0]*$/.test(N)}function I(){var N=c.navigator;return N&&(N=N.userAgent)?N:""}function D(N){return D[" "](N),N}D[" "]=function(){};var T=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function F(N,q,Y){for(const ce in N)q.call(Y,N[ce],ce,N)}function _(N,q){for(const Y in N)q.call(void 0,N[Y],Y,N)}function R(N){const q={};for(const Y in N)q[Y]=N[Y];return q}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(N,q){let Y,ce;for(let Ae=1;Ae<arguments.length;Ae++){ce=arguments[Ae];for(Y in ce)N[Y]=ce[Y];for(let De=0;De<b.length;De++)Y=b[De],Object.prototype.hasOwnProperty.call(ce,Y)&&(N[Y]=ce[Y])}}function L(N){var q=1;N=N.split(":");const Y=[];for(;0<q&&N.length;)Y.push(N.shift()),q--;return N.length&&Y.push(N.join(":")),Y}function U(N){c.setTimeout(()=>{throw N},0)}function P(){var N=ie;let q=null;return N.g&&(q=N.g,N.g=N.g.next,N.g||(N.h=null),q.next=null),q}class K{constructor(){this.h=this.g=null}add(q,Y){const ce=G.get();ce.set(q,Y),this.h?this.h.next=ce:this.g=ce,this.h=ce}}var G=new C(()=>new re,N=>N.reset());class re{constructor(){this.next=this.g=this.h=null}set(q,Y){this.h=q,this.g=Y,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,me=!1,ie=new K,W=()=>{const N=c.Promise.resolve(void 0);Z=()=>{N.then(ye)}};var ye=()=>{for(var N;N=P();){try{N.h.call(N.g)}catch(Y){U(Y)}var q=G;q.j(N),100>q.h&&(q.h++,N.next=q.g,q.g=N)}me=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ne(N,q){this.type=N,this.g=this.target=q,this.defaultPrevented=!1}ne.prototype.h=function(){this.defaultPrevented=!0};var te=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var N=!1,q=Object.defineProperty({},"passive",{get:function(){N=!0}});try{const Y=()=>{};c.addEventListener("test",Y,q),c.removeEventListener("test",Y,q)}catch{}return N}();function X(N,q){if(ne.call(this,N?N.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,N){var Y=this.type=N.type,ce=N.changedTouches&&N.changedTouches.length?N.changedTouches[0]:null;if(this.target=N.target||N.srcElement,this.g=q,q=N.relatedTarget){if(T){e:{try{D(q.nodeName);var Ae=!0;break e}catch{}Ae=!1}Ae||(q=null)}}else Y=="mouseover"?q=N.fromElement:Y=="mouseout"&&(q=N.toElement);this.relatedTarget=q,ce?(this.clientX=ce.clientX!==void 0?ce.clientX:ce.pageX,this.clientY=ce.clientY!==void 0?ce.clientY:ce.pageY,this.screenX=ce.screenX||0,this.screenY=ce.screenY||0):(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0),this.button=N.button,this.key=N.key||"",this.ctrlKey=N.ctrlKey,this.altKey=N.altKey,this.shiftKey=N.shiftKey,this.metaKey=N.metaKey,this.pointerId=N.pointerId||0,this.pointerType=typeof N.pointerType=="string"?N.pointerType:xe[N.pointerType]||"",this.state=N.state,this.i=N,N.defaultPrevented&&X.aa.h.call(this)}}w(X,ne);var xe={2:"touch",3:"pen",4:"mouse"};X.prototype.h=function(){X.aa.h.call(this);var N=this.i;N.preventDefault?N.preventDefault():N.returnValue=!1};var Ne="closure_listenable_"+(1e6*Math.random()|0),je=0;function Ie(N,q,Y,ce,Ae){this.listener=N,this.proxy=null,this.src=q,this.type=Y,this.capture=!!ce,this.ha=Ae,this.key=++je,this.da=this.fa=!1}function _e(N){N.da=!0,N.listener=null,N.proxy=null,N.src=null,N.ha=null}function Ue(N){this.src=N,this.g={},this.h=0}Ue.prototype.add=function(N,q,Y,ce,Ae){var De=N.toString();N=this.g[De],N||(N=this.g[De]=[],this.h++);var ht=ct(N,q,ce,Ae);return-1<ht?(q=N[ht],Y||(q.fa=!1)):(q=new Ie(q,this.src,De,!!ce,Ae),q.fa=Y,N.push(q)),q};function tt(N,q){var Y=q.type;if(Y in N.g){var ce=N.g[Y],Ae=Array.prototype.indexOf.call(ce,q,void 0),De;(De=0<=Ae)&&Array.prototype.splice.call(ce,Ae,1),De&&(_e(q),N.g[Y].length==0&&(delete N.g[Y],N.h--))}}function ct(N,q,Y,ce){for(var Ae=0;Ae<N.length;++Ae){var De=N[Ae];if(!De.da&&De.listener==q&&De.capture==!!Y&&De.ha==ce)return Ae}return-1}var ut="closure_lm_"+(1e6*Math.random()|0),Ye={};function jt(N,q,Y,ce,Ae){if(Array.isArray(q)){for(var De=0;De<q.length;De++)jt(N,q[De],Y,ce,Ae);return null}return Y=xt(Y),N&&N[Ne]?N.K(q,Y,h(ce)?!!ce.capture:!1,Ae):Ze(N,q,Y,!1,ce,Ae)}function Ze(N,q,Y,ce,Ae,De){if(!q)throw Error("Invalid event type");var ht=h(Ae)?!!Ae.capture:!!Ae,Mn=sr(N);if(Mn||(N[ut]=Mn=new Ue(N)),Y=Mn.add(q,Y,ce,ht,De),Y.proxy)return Y;if(ce=Ut(),Y.proxy=ce,ce.src=N,ce.listener=Y,N.addEventListener)te||(Ae=ht),Ae===void 0&&(Ae=!1),N.addEventListener(q.toString(),ce,Ae);else if(N.attachEvent)N.attachEvent(yn(q.toString()),ce);else if(N.addListener&&N.removeListener)N.addListener(ce);else throw Error("addEventListener and attachEvent are unavailable.");return Y}function Ut(){function N(Y){return q.call(N.src,N.listener,Y)}const q=ur;return N}function Cn(N,q,Y,ce,Ae){if(Array.isArray(q))for(var De=0;De<q.length;De++)Cn(N,q[De],Y,ce,Ae);else ce=h(ce)?!!ce.capture:!!ce,Y=xt(Y),N&&N[Ne]?(N=N.i,q=String(q).toString(),q in N.g&&(De=N.g[q],Y=ct(De,Y,ce,Ae),-1<Y&&(_e(De[Y]),Array.prototype.splice.call(De,Y,1),De.length==0&&(delete N.g[q],N.h--)))):N&&(N=sr(N))&&(q=N.g[q.toString()],N=-1,q&&(N=ct(q,Y,ce,Ae)),(Y=-1<N?q[N]:null)&&fn(Y))}function fn(N){if(typeof N!="number"&&N&&!N.da){var q=N.src;if(q&&q[Ne])tt(q.i,N);else{var Y=N.type,ce=N.proxy;q.removeEventListener?q.removeEventListener(Y,ce,N.capture):q.detachEvent?q.detachEvent(yn(Y),ce):q.addListener&&q.removeListener&&q.removeListener(ce),(Y=sr(q))?(tt(Y,N),Y.h==0&&(Y.src=null,q[ut]=null)):_e(N)}}}function yn(N){return N in Ye?Ye[N]:Ye[N]="on"+N}function ur(N,q){if(N.da)N=!0;else{q=new X(q,this);var Y=N.listener,ce=N.ha||N.src;N.fa&&fn(N),N=Y.call(ce,q)}return N}function sr(N){return N=N[ut],N instanceof Ue?N:null}var We="__closure_events_fn_"+(1e9*Math.random()>>>0);function xt(N){return typeof N=="function"?N:(N[We]||(N[We]=function(q){return N.handleEvent(q)}),N[We])}function Dt(){Q.call(this),this.i=new Ue(this),this.M=this,this.F=null}w(Dt,Q),Dt.prototype[Ne]=!0,Dt.prototype.removeEventListener=function(N,q,Y,ce){Cn(this,N,q,Y,ce)};function Rt(N,q){var Y,ce=N.F;if(ce)for(Y=[];ce;ce=ce.F)Y.push(ce);if(N=N.M,ce=q.type||q,typeof q=="string")q=new ne(q,N);else if(q instanceof ne)q.target=q.target||N;else{var Ae=q;q=new ne(ce,N),A(q,Ae)}if(Ae=!0,Y)for(var De=Y.length-1;0<=De;De--){var ht=q.g=Y[De];Ae=on(ht,ce,!0,q)&&Ae}if(ht=q.g=N,Ae=on(ht,ce,!0,q)&&Ae,Ae=on(ht,ce,!1,q)&&Ae,Y)for(De=0;De<Y.length;De++)ht=q.g=Y[De],Ae=on(ht,ce,!1,q)&&Ae}Dt.prototype.N=function(){if(Dt.aa.N.call(this),this.i){var N=this.i,q;for(q in N.g){for(var Y=N.g[q],ce=0;ce<Y.length;ce++)_e(Y[ce]);delete N.g[q],N.h--}}this.F=null},Dt.prototype.K=function(N,q,Y,ce){return this.i.add(String(N),q,!1,Y,ce)},Dt.prototype.L=function(N,q,Y,ce){return this.i.add(String(N),q,!0,Y,ce)};function on(N,q,Y,ce){if(q=N.i.g[String(q)],!q)return!0;q=q.concat();for(var Ae=!0,De=0;De<q.length;++De){var ht=q[De];if(ht&&!ht.da&&ht.capture==Y){var Mn=ht.listener,Is=ht.ha||ht.src;ht.fa&&tt(N.i,ht),Ae=Mn.call(Is,ce)!==!1&&Ae}}return Ae&&!ce.defaultPrevented}function Gr(N,q,Y){if(typeof N=="function")Y&&(N=p(N,Y));else if(N&&typeof N.handleEvent=="function")N=p(N.handleEvent,N);else throw Error("Invalid listener argument");return 2147483647<Number(q)?-1:c.setTimeout(N,q||0)}function Jn(N){N.g=Gr(()=>{N.g=null,N.i&&(N.i=!1,Jn(N))},N.l);const q=N.h;N.h=null,N.m.apply(null,q)}class ws extends Q{constructor(q,Y){super(),this.m=q,this.l=Y,this.h=null,this.i=!1,this.g=null}j(q){this.h=arguments,this.g?this.i=!0:Jn(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function es(N){Q.call(this),this.h=N,this.g={}}w(es,Q);var Br=[];function Vn(N){F(N.g,function(q,Y){this.g.hasOwnProperty(Y)&&fn(q)},N),N.g={}}es.prototype.N=function(){es.aa.N.call(this),Vn(this)},es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ur=c.JSON.stringify,zr=c.JSON.parse,Hn=class{stringify(N){return c.JSON.stringify(N,void 0)}parse(N){return c.JSON.parse(N,void 0)}};function Wr(){}Wr.prototype.h=null;function yr(N){return N.h||(N.h=N.i())}function sa(){}var ms={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ps(){ne.call(this,"d")}w(ps,ne);function mr(){ne.call(this,"c")}w(mr,ne);var Cr={},gs=null;function aa(){return gs=gs||new Dt}Cr.La="serverreachability";function Hs(N){ne.call(this,Cr.La,N)}w(Hs,ne);function ts(N){const q=aa();Rt(q,new Hs(q))}Cr.STAT_EVENT="statevent";function Ha(N,q){ne.call(this,Cr.STAT_EVENT,N),this.stat=q}w(Ha,ne);function bn(N){const q=aa();Rt(q,new Ha(q,N))}Cr.Ma="timingevent";function Ft(N,q){ne.call(this,Cr.Ma,N),this.size=q}w(Ft,ne);function Ca(N,q){if(typeof N!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){N()},q)}function ii(){this.g=!0}ii.prototype.xa=function(){this.g=!1};function Bo(N,q,Y,ce,Ae,De){N.info(function(){if(N.g)if(De)for(var ht="",Mn=De.split("&"),Is=0;Is<Mn.length;Is++){var Fn=Mn[Is].split("=");if(1<Fn.length){var Gs=Fn[0];Fn=Fn[1];var Ps=Gs.split("_");ht=2<=Ps.length&&Ps[1]=="type"?ht+(Gs+"="+Fn+"&"):ht+(Gs+"=redacted&")}}else ht=null;else ht=De;return"XMLHTTP REQ ("+ce+") [attempt "+Ae+"]: "+q+`
`+Y+`
`+ht})}function no(N,q,Y,ce,Ae,De,ht){N.info(function(){return"XMLHTTP RESP ("+ce+") [ attempt "+Ae+"]: "+q+`
`+Y+`
`+De+" "+ht})}function ee(N,q,Y,ce){N.info(function(){return"XMLHTTP TEXT ("+q+"): "+le(N,Y)+(ce?" "+ce:"")})}function de(N,q){N.info(function(){return"TIMEOUT: "+q})}ii.prototype.info=function(){};function le(N,q){if(!N.g)return q;if(!q)return null;try{var Y=JSON.parse(q);if(Y){for(N=0;N<Y.length;N++)if(Array.isArray(Y[N])){var ce=Y[N];if(!(2>ce.length)){var Ae=ce[1];if(Array.isArray(Ae)&&!(1>Ae.length)){var De=Ae[0];if(De!="noop"&&De!="stop"&&De!="close")for(var ht=1;ht<Ae.length;ht++)Ae[ht]=""}}}}return Ur(Y)}catch{return q}}var ue={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},he={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},fe;function Ce(){}w(Ce,Wr),Ce.prototype.g=function(){return new XMLHttpRequest},Ce.prototype.i=function(){return{}},fe=new Ce;function Me(N,q,Y,ce){this.j=N,this.i=q,this.l=Y,this.R=ce||1,this.U=new es(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}var Re={},Oe={};function Qe(N,q,Y){N.L=1,N.v=Ga(xr(q)),N.m=Y,N.P=!0,nt(N,null)}function nt(N,q){N.F=Date.now(),at(N),N.A=xr(N.v);var Y=N.A,ce=N.R;Array.isArray(ce)||(ce=[String(ce)]),ci(Y.i,"t",ce),N.C=0,Y=N.j.J,N.h=new Le,N.g=sv(N.j,Y?q:null,!N.m),0<N.O&&(N.M=new ws(p(N.Y,N,N.g),N.O)),q=N.U,Y=N.g,ce=N.ca;var Ae="readystatechange";Array.isArray(Ae)||(Ae&&(Br[0]=Ae.toString()),Ae=Br);for(var De=0;De<Ae.length;De++){var ht=jt(Y,Ae[De],ce||q.handleEvent,!1,q.h||q);if(!ht)break;q.g[ht.key]=ht}q=N.H?R(N.H):{},N.m?(N.u||(N.u="POST"),q["Content-Type"]="application/x-www-form-urlencoded",N.g.ea(N.A,N.u,N.m,q)):(N.u="GET",N.g.ea(N.A,N.u,null,q)),ts(),Bo(N.i,N.u,N.A,N.l,N.R,N.m)}Me.prototype.ca=function(N){N=N.target;const q=this.M;q&&ar(N)==3?q.j():this.Y(N)},Me.prototype.Y=function(N){try{if(N==this.g)e:{const Ps=ar(this.g);var q=this.g.Ba();const uc=this.g.Z();if(!(3>Ps)&&(Ps!=3||this.g&&(this.h.h||this.g.oa()||Os(this.g)))){this.J||Ps!=4||q==7||(q==8||0>=uc?ts(3):ts(2)),Dn(this);var Y=this.g.Z();this.X=Y;t:if(mt(this)){var ce=Os(this.g);N="";var Ae=ce.length,De=ar(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){An(this),ln(this);var ht="";break t}this.h.i=new c.TextDecoder}for(q=0;q<Ae;q++)this.h.h=!0,N+=this.h.i.decode(ce[q],{stream:!(De&&q==Ae-1)});ce.length=0,this.h.g+=N,this.C=0,ht=this.h.g}else ht=this.g.oa();if(this.o=Y==200,no(this.i,this.u,this.A,this.l,this.R,Ps,Y),this.o){if(this.T&&!this.K){t:{if(this.g){var Mn,Is=this.g;if((Mn=Is.g?Is.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(Mn)){var Fn=Mn;break t}}Fn=null}if(Y=Fn)ee(this.i,this.l,Y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vr(this,Y);else{this.o=!1,this.s=3,bn(12),An(this),ln(this);break e}}if(this.P){Y=!0;let ua;for(;!this.J&&this.C<ht.length;)if(ua=st(this,ht),ua==Oe){Ps==4&&(this.s=4,bn(14),Y=!1),ee(this.i,this.l,null,"[Incomplete Response]");break}else if(ua==Re){this.s=4,bn(15),ee(this.i,this.l,ht,"[Invalid Chunk]"),Y=!1;break}else ee(this.i,this.l,ua,null),vr(this,ua);if(mt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ps!=4||ht.length!=0||this.h.h||(this.s=1,bn(16),Y=!1),this.o=this.o&&Y,!Y)ee(this.i,this.l,ht,"[Invalid Chunked Response]"),An(this),ln(this);else if(0<ht.length&&!this.W){this.W=!0;var Gs=this.j;Gs.g==this&&Gs.ba&&!Gs.M&&(Gs.j.info("Great, no buffering proxy detected. Bytes received: "+ht.length),Rd(Gs),Gs.M=!0,bn(11))}}else ee(this.i,this.l,ht,null),vr(this,ht);Ps==4&&An(this),this.o&&!this.J&&(Ps==4?tv(this.j,this):(this.o=!1,at(this)))}else Kr(this.g),Y==400&&0<ht.indexOf("Unknown SID")?(this.s=3,bn(12)):(this.s=0,bn(13)),An(this),ln(this)}}}catch{}finally{}};function mt(N){return N.g?N.u=="GET"&&N.L!=2&&N.j.Ca:!1}function st(N,q){var Y=N.C,ce=q.indexOf(`
`,Y);return ce==-1?Oe:(Y=Number(q.substring(Y,ce)),isNaN(Y)?Re:(ce+=1,ce+Y>q.length?Oe:(q=q.slice(ce,ce+Y),N.C=ce+Y,q)))}Me.prototype.cancel=function(){this.J=!0,An(this)};function at(N){N.S=Date.now()+N.I,Bt(N,N.I)}function Bt(N,q){if(N.B!=null)throw Error("WatchDog timer not null");N.B=Ca(p(N.ba,N),q)}function Dn(N){N.B&&(c.clearTimeout(N.B),N.B=null)}Me.prototype.ba=function(){this.B=null;const N=Date.now();0<=N-this.S?(de(this.i,this.A),this.L!=2&&(ts(),bn(17)),An(this),this.s=2,ln(this)):Bt(this,this.S-N)};function ln(N){N.j.G==0||N.J||tv(N.j,N)}function An(N){Dn(N);var q=N.M;q&&typeof q.ma=="function"&&q.ma(),N.M=null,Vn(N.U),N.g&&(q=N.g,N.g=null,q.abort(),q.ma())}function vr(N,q){try{var Y=N.j;if(Y.G!=0&&(Y.g==N||ns(Y.h,N))){if(!N.K&&ns(Y.h,N)&&Y.G==3){try{var ce=Y.Da.g.parse(q)}catch{ce=null}if(Array.isArray(ce)&&ce.length==3){var Ae=ce;if(Ae[0]==0){e:if(!Y.u){if(Y.g)if(Y.g.F+3e3<N.F)af(Y),Aa(Y);else break e;kp(Y),bn(18)}}else Y.za=Ae[1],0<Y.za-Y.T&&37500>Ae[2]&&Y.F&&Y.v==0&&!Y.C&&(Y.C=Ca(p(Y.Za,Y),6e3));if(1>=ro(Y.h)&&Y.ca){try{Y.ca()}catch{}Y.ca=void 0}}else cc(Y,11)}else if((N.K||Y.g==N)&&af(Y),!O(q))for(Ae=Y.Da.g.parse(q),q=0;q<Ae.length;q++){let Fn=Ae[q];if(Y.T=Fn[0],Fn=Fn[1],Y.G==2)if(Fn[0]=="c"){Y.K=Fn[1],Y.ia=Fn[2];const Gs=Fn[3];Gs!=null&&(Y.la=Gs,Y.j.info("VER="+Y.la));const Ps=Fn[4];Ps!=null&&(Y.Aa=Ps,Y.j.info("SVER="+Y.Aa));const uc=Fn[5];uc!=null&&typeof uc=="number"&&0<uc&&(ce=1.5*uc,Y.L=ce,Y.j.info("backChannelRequestTimeoutMs_="+ce)),ce=Y;const ua=N.g;if(ua){const wl=ua.g?ua.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wl){var De=ce.h;De.g||wl.indexOf("spdy")==-1&&wl.indexOf("quic")==-1&&wl.indexOf("h2")==-1||(De.j=De.l,De.g=new Set,De.h&&(so(De,De.h),De.h=null))}if(ce.D){const Ip=ua.g?ua.g.getResponseHeader("X-HTTP-Session-Id"):null;Ip&&(ce.ya=Ip,Ln(ce.I,ce.D,Ip))}}Y.G=3,Y.l&&Y.l.ua(),Y.ba&&(Y.R=Date.now()-N.F,Y.j.info("Handshake RTT: "+Y.R+"ms")),ce=Y;var ht=N;if(ce.qa=rv(ce,ce.J?ce.ia:null,ce.W),ht.K){Na(ce.h,ht);var Mn=ht,Is=ce.L;Is&&(Mn.I=Is),Mn.B&&(Dn(Mn),at(Mn)),ce.g=ht}else Zy(ce);0<Y.i.length&&lc(Y)}else Fn[0]!="stop"&&Fn[0]!="close"||cc(Y,7);else Y.G==3&&(Fn[0]=="stop"||Fn[0]=="close"?Fn[0]=="stop"?cc(Y,7):fi(Y):Fn[0]!="noop"&&Y.l&&Y.l.ta(Fn),Y.v=0)}}ts(4)}catch{}}var _s=class{constructor(N,q){this.g=N,this.map=q}};function ia(N){this.l=N||10,c.PerformanceNavigationTiming?(N=c.performance.getEntriesByType("navigation"),N=0<N.length&&(N[0].nextHopProtocol=="hq"||N[0].nextHopProtocol=="h2")):N=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=N?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function oa(N){return N.h?!0:N.g?N.g.size>=N.j:!1}function ro(N){return N.h?1:N.g?N.g.size:0}function ns(N,q){return N.h?N.h==q:N.g?N.g.has(q):!1}function so(N,q){N.g?N.g.add(q):N.h=q}function Na(N,q){N.h&&N.h==q?N.h=null:N.g&&N.g.has(q)&&N.g.delete(q)}ia.prototype.cancel=function(){if(this.i=rs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const N of this.g.values())N.cancel();this.g.clear()}};function rs(N){if(N.h!=null)return N.i.concat(N.h.D);if(N.g!=null&&N.g.size!==0){let q=N.i;for(const Y of N.g.values())q=q.concat(Y.D);return q}return E(N.i)}function pl(N){if(N.V&&typeof N.V=="function")return N.V();if(typeof Map<"u"&&N instanceof Map||typeof Set<"u"&&N instanceof Set)return Array.from(N.values());if(typeof N=="string")return N.split("");if(u(N)){for(var q=[],Y=N.length,ce=0;ce<Y;ce++)q.push(N[ce]);return q}q=[],Y=0;for(ce in N)q[Y++]=N[ce];return q}function Uo(N){if(N.na&&typeof N.na=="function")return N.na();if(!N.V||typeof N.V!="function"){if(typeof Map<"u"&&N instanceof Map)return Array.from(N.keys());if(!(typeof Set<"u"&&N instanceof Set)){if(u(N)||typeof N=="string"){var q=[];N=N.length;for(var Y=0;Y<N;Y++)q.push(Y);return q}q=[],Y=0;for(const ce in N)q[Y++]=ce;return q}}}function ao(N,q){if(N.forEach&&typeof N.forEach=="function")N.forEach(q,void 0);else if(u(N)||typeof N=="string")Array.prototype.forEach.call(N,q,void 0);else for(var Y=Uo(N),ce=pl(N),Ae=ce.length,De=0;De<Ae;De++)q.call(void 0,ce[De],Y&&Y[De],N)}var gl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yl(N,q){if(N){N=N.split("&");for(var Y=0;Y<N.length;Y++){var ce=N[Y].indexOf("="),Ae=null;if(0<=ce){var De=N[Y].substring(0,ce);Ae=N[Y].substring(ce+1)}else De=N[Y];q(De,Ae?decodeURIComponent(Ae.replace(/\+/g," ")):"")}}}function Ti(N){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,N instanceof Ti){this.h=N.h,io(this,N.j),this.o=N.o,this.g=N.g,Ai(this,N.s),this.l=N.l;var q=N.i,Y=new oi;Y.i=q.i,q.g&&(Y.g=new Map(q.g),Y.h=q.h),vl(this,Y),this.m=N.m}else N&&(q=String(N).match(gl))?(this.h=!1,io(this,q[1]||"",!0),this.o=Es(q[2]||""),this.g=Es(q[3]||"",!0),Ai(this,q[4]),this.l=Es(q[5]||"",!0),vl(this,q[6]||"",!0),this.m=Es(q[7]||"")):(this.h=!1,this.i=new oi(null,this.h))}Ti.prototype.toString=function(){var N=[],q=this.j;q&&N.push(ss(q,ic,!0),":");var Y=this.g;return(Y||q=="file")&&(N.push("//"),(q=this.o)&&N.push(ss(q,ic,!0),"@"),N.push(encodeURIComponent(String(Y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Y=this.s,Y!=null&&N.push(":",String(Y))),(Y=this.l)&&(this.g&&Y.charAt(0)!="/"&&N.push("/"),N.push(ss(Y,Y.charAt(0)=="/"?oc:Wa,!0))),(Y=this.i.toString())&&N.push("?",Y),(Y=this.m)&&N.push("#",ss(Y,Ad)),N.join("")};function xr(N){return new Ti(N)}function io(N,q,Y){N.j=Y?Es(q,!0):q,N.j&&(N.j=N.j.replace(/:$/,""))}function Ai(N,q){if(q){if(q=Number(q),isNaN(q)||0>q)throw Error("Bad port number "+q);N.s=q}else N.s=null}function vl(N,q,Y){q instanceof oi?(N.i=q,zo(N.i,N.h)):(Y||(q=ss(q,Td)),N.i=new oi(q,N.h))}function Ln(N,q,Y){N.i.set(q,Y)}function Ga(N){return Ln(N,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),N}function Es(N,q){return N?q?decodeURI(N.replace(/%25/g,"%2525")):decodeURIComponent(N):""}function ss(N,q,Y){return typeof N=="string"?(N=encodeURI(N).replace(q,Li),Y&&(N=N.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N):null}function Li(N){return N=N.charCodeAt(0),"%"+(N>>4&15).toString(16)+(N&15).toString(16)}var ic=/[#\/\?@]/g,Wa=/[#\?:]/g,oc=/[#\?]/g,Td=/[#\?@]/g,Ad=/#/g;function oi(N,q){this.h=this.g=null,this.i=N||null,this.j=!!q}function la(N){N.g||(N.g=new Map,N.h=0,N.i&&yl(N.i,function(q,Y){N.add(decodeURIComponent(q.replace(/\+/g," ")),Y)}))}t=oi.prototype,t.add=function(N,q){la(this),this.i=null,N=Ta(this,N);var Y=this.g.get(N);return Y||this.g.set(N,Y=[]),Y.push(q),this.h+=1,this};function as(N,q){la(N),q=Ta(N,q),N.g.has(q)&&(N.i=null,N.h-=N.g.get(q).length,N.g.delete(q))}function li(N,q){return la(N),q=Ta(N,q),N.g.has(q)}t.forEach=function(N,q){la(this),this.g.forEach(function(Y,ce){Y.forEach(function(Ae){N.call(q,Ae,ce,this)},this)},this)},t.na=function(){la(this);const N=Array.from(this.g.values()),q=Array.from(this.g.keys()),Y=[];for(let ce=0;ce<q.length;ce++){const Ae=N[ce];for(let De=0;De<Ae.length;De++)Y.push(q[ce])}return Y},t.V=function(N){la(this);let q=[];if(typeof N=="string")li(this,N)&&(q=q.concat(this.g.get(Ta(this,N))));else{N=Array.from(this.g.values());for(let Y=0;Y<N.length;Y++)q=q.concat(N[Y])}return q},t.set=function(N,q){return la(this),this.i=null,N=Ta(this,N),li(this,N)&&(this.h-=this.g.get(N).length),this.g.set(N,[q]),this.h+=1,this},t.get=function(N,q){return N?(N=this.V(N),0<N.length?String(N[0]):q):q};function ci(N,q,Y){as(N,q),0<Y.length&&(N.i=null,N.g.set(Ta(N,q),E(Y)),N.h+=Y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const N=[],q=Array.from(this.g.keys());for(var Y=0;Y<q.length;Y++){var ce=q[Y];const De=encodeURIComponent(String(ce)),ht=this.V(ce);for(ce=0;ce<ht.length;ce++){var Ae=De;ht[ce]!==""&&(Ae+="="+encodeURIComponent(String(ht[ce]))),N.push(Ae)}}return this.i=N.join("&")};function Ta(N,q){return q=String(q),N.j&&(q=q.toLowerCase()),q}function zo(N,q){q&&!N.j&&(la(N),N.i=null,N.g.forEach(function(Y,ce){var Ae=ce.toLowerCase();ce!=Ae&&(as(this,ce),ci(this,Ae,Y))},N)),N.j=q}function qo(N,q){const Y=new ii;if(c.Image){const ce=new Image;ce.onload=y(ca,Y,"TestLoadImage: loaded",!0,q,ce),ce.onerror=y(ca,Y,"TestLoadImage: error",!1,q,ce),ce.onabort=y(ca,Y,"TestLoadImage: abort",!1,q,ce),ce.ontimeout=y(ca,Y,"TestLoadImage: timeout",!1,q,ce),c.setTimeout(function(){ce.ontimeout&&ce.ontimeout()},1e4),ce.src=N}else q(!1)}function $o(N,q){const Y=new ii,ce=new AbortController,Ae=setTimeout(()=>{ce.abort(),ca(Y,"TestPingServer: timeout",!1,q)},1e4);fetch(N,{signal:ce.signal}).then(De=>{clearTimeout(Ae),De.ok?ca(Y,"TestPingServer: ok",!0,q):ca(Y,"TestPingServer: server error",!1,q)}).catch(()=>{clearTimeout(Ae),ca(Y,"TestPingServer: error",!1,q)})}function ca(N,q,Y,ce,Ae){try{Ae&&(Ae.onload=null,Ae.onerror=null,Ae.onabort=null,Ae.ontimeout=null),ce(Y)}catch{}}function Ri(){this.g=new Hn}function Ka(N,q,Y){const ce=Y||"";try{ao(N,function(Ae,De){let ht=Ae;h(Ae)&&(ht=Ur(Ae)),q.push(ce+De+"="+encodeURIComponent(ht))})}catch(Ae){throw q.push(ce+"type="+encodeURIComponent("_badmap")),Ae}}function ks(N){this.l=N.Ub||null,this.j=N.eb||!1}w(ks,Wr),ks.prototype.g=function(){return new ui(this.l,this.j)},ks.prototype.i=function(N){return function(){return N}}({});function ui(N,q){Dt.call(this),this.D=N,this.o=q,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(ui,Dt),t=ui.prototype,t.open=function(N,q){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=N,this.A=q,this.readyState=1,hi(this)},t.send=function(N){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const q={headers:this.u,method:this.B,credentials:this.m,cache:void 0};N&&(q.body=N),(this.D||c).fetch(new Request(this.A,q)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,di(this)),this.readyState=0},t.Sa=function(N){if(this.g&&(this.l=N,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=N.headers,this.readyState=2,hi(this)),this.g&&(this.readyState=3,hi(this),this.g)))if(this.responseType==="arraybuffer")N.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in N){if(this.j=N.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vo(this)}else N.text().then(this.Ra.bind(this),this.ga.bind(this))};function Vo(N){N.j.read().then(N.Pa.bind(N)).catch(N.ga.bind(N))}t.Pa=function(N){if(this.g){if(this.o&&N.value)this.response.push(N.value);else if(!this.o){var q=N.value?N.value:new Uint8Array(0);(q=this.v.decode(q,{stream:!N.done}))&&(this.response=this.responseText+=q)}N.done?di(this):hi(this),this.readyState==3&&Vo(this)}},t.Ra=function(N){this.g&&(this.response=this.responseText=N,di(this))},t.Qa=function(N){this.g&&(this.response=N,di(this))},t.ga=function(){this.g&&di(this)};function di(N){N.readyState=4,N.l=null,N.j=null,N.v=null,hi(N)}t.setRequestHeader=function(N,q){this.u.append(N,q)},t.getResponseHeader=function(N){return this.h&&this.h.get(N.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const N=[],q=this.h.entries();for(var Y=q.next();!Y.done;)Y=Y.value,N.push(Y[0]+": "+Y[1]),Y=q.next();return N.join(`\r
`)};function hi(N){N.onreadystatechange&&N.onreadystatechange.call(N)}Object.defineProperty(ui.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(N){this.m=N?"include":"same-origin"}});function H(N){let q="";return F(N,function(Y,ce){q+=ce,q+=":",q+=Y,q+=`\r
`}),q}function ae(N,q,Y){e:{for(ce in Y){var ce=!1;break e}ce=!0}ce||(Y=H(Y),typeof N=="string"?Y!=null&&encodeURIComponent(String(Y)):Ln(N,q,Y))}function pe(N){Dt.call(this),this.headers=new Map,this.o=N||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(pe,Dt);var Be=/^https?$/i,Ht=["POST","PUT"];t=pe.prototype,t.Ha=function(N){this.J=N},t.ea=function(N,q,Y,ce){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+N);q=q?q.toUpperCase():"GET",this.D=N,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():fe.g(),this.v=this.o?yr(this.o):yr(fe),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(q,String(N),!0),this.B=!1}catch(De){Ct(this,De);return}if(N=Y||"",Y=new Map(this.headers),ce)if(Object.getPrototypeOf(ce)===Object.prototype)for(var Ae in ce)Y.set(Ae,ce[Ae]);else if(typeof ce.keys=="function"&&typeof ce.get=="function")for(const De of ce.keys())Y.set(De,ce.get(De));else throw Error("Unknown input type for opt_headers: "+String(ce));ce=Array.from(Y.keys()).find(De=>De.toLowerCase()=="content-type"),Ae=c.FormData&&N instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Ht,q,void 0))||ce||Ae||Y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[De,ht]of Y)this.g.setRequestHeader(De,ht);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{En(this),this.u=!0,this.g.send(N),this.u=!1}catch(De){Ct(this,De)}};function Ct(N,q){N.h=!1,N.g&&(N.j=!0,N.g.abort(),N.j=!1),N.l=q,N.m=5,wn(N),Qn(N)}function wn(N){N.A||(N.A=!0,Rt(N,"complete"),Rt(N,"error"))}t.abort=function(N){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=N||7,Rt(this,"complete"),Rt(this,"abort"),Qn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qn(this,!0)),pe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?vn(this):this.bb())},t.bb=function(){vn(this)};function vn(N){if(N.h&&typeof o<"u"&&(!N.v[1]||ar(N)!=4||N.Z()!=2)){if(N.u&&ar(N)==4)Gr(N.Ea,0,N);else if(Rt(N,"readystatechange"),ar(N)==4){N.h=!1;try{const ht=N.Z();e:switch(ht){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var q=!0;break e;default:q=!1}var Y;if(!(Y=q)){var ce;if(ce=ht===0){var Ae=String(N.D).match(gl)[1]||null;!Ae&&c.self&&c.self.location&&(Ae=c.self.location.protocol.slice(0,-1)),ce=!Be.test(Ae?Ae.toLowerCase():"")}Y=ce}if(Y)Rt(N,"complete"),Rt(N,"success");else{N.m=6;try{var De=2<ar(N)?N.g.statusText:""}catch{De=""}N.l=De+" ["+N.Z()+"]",wn(N)}}finally{Qn(N)}}}}function Qn(N,q){if(N.g){En(N);const Y=N.g,ce=N.v[0]?()=>{}:null;N.g=null,N.v=null,q||Rt(N,"ready");try{Y.onreadystatechange=ce}catch{}}}function En(N){N.I&&(c.clearTimeout(N.I),N.I=null)}t.isActive=function(){return!!this.g};function ar(N){return N.g?N.g.readyState:0}t.Z=function(){try{return 2<ar(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(N){if(this.g){var q=this.g.responseText;return N&&q.indexOf(N)==0&&(q=q.substring(N.length)),zr(q)}};function Os(N){try{if(!N.g)return null;if("response"in N.g)return N.g.response;switch(N.H){case"":case"text":return N.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in N.g)return N.g.mozResponseArrayBuffer}return null}catch{return null}}function Kr(N){const q={};N=(N.g&&2<=ar(N)&&N.g.getAllResponseHeaders()||"").split(`\r
`);for(let ce=0;ce<N.length;ce++){if(O(N[ce]))continue;var Y=L(N[ce]);const Ae=Y[0];if(Y=Y[1],typeof Y!="string")continue;Y=Y.trim();const De=q[Ae]||[];q[Ae]=De,De.push(Y)}_(q,function(ce){return ce.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function qr(N,q,Y){return Y&&Y.internalChannelParams&&Y.internalChannelParams[N]||q}function $r(N){this.Aa=0,this.i=[],this.j=new ii,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qr("failFast",!1,N),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qr("baseRetryDelayMs",5e3,N),this.cb=qr("retryDelaySeedMs",1e4,N),this.Wa=qr("forwardChannelMaxRetries",2,N),this.wa=qr("forwardChannelRequestTimeoutMs",2e4,N),this.pa=N&&N.xmlHttpFactory||void 0,this.Xa=N&&N.Tb||void 0,this.Ca=N&&N.useFetchStreams||!1,this.L=void 0,this.J=N&&N.supportsCrossDomainXhr||!1,this.K="",this.h=new ia(N&&N.concurrentRequestLimit),this.Da=new Ri,this.P=N&&N.fastHandshake||!1,this.O=N&&N.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=N&&N.Rb||!1,N&&N.xa&&this.j.xa(),N&&N.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&N&&N.detectBufferingProxy||!1,this.ja=void 0,N&&N.longPollingTimeout&&0<N.longPollingTimeout&&(this.ja=N.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=$r.prototype,t.la=8,t.G=1,t.connect=function(N,q,Y,ce){bn(0),this.W=N,this.H=q||{},Y&&ce!==void 0&&(this.H.OSID=Y,this.H.OAID=ce),this.F=this.X,this.I=rv(this,null,this.W),lc(this)};function fi(N){if(oo(N),N.G==3){var q=N.U++,Y=xr(N.I);if(Ln(Y,"SID",N.K),Ln(Y,"RID",q),Ln(Y,"TYPE","terminate"),Ld(N,Y),q=new Me(N,N.j,q),q.L=2,q.v=Ga(xr(Y)),Y=!1,c.navigator&&c.navigator.sendBeacon)try{Y=c.navigator.sendBeacon(q.v.toString(),"")}catch{}!Y&&c.Image&&(new Image().src=q.v,Y=!0),Y||(q.g=sv(q.j,null),q.g.ea(q.v)),q.F=Date.now(),at(q)}nv(N)}function Aa(N){N.g&&(Rd(N),N.g.cancel(),N.g=null)}function oo(N){Aa(N),N.u&&(c.clearTimeout(N.u),N.u=null),af(N),N.h.cancel(),N.s&&(typeof N.s=="number"&&c.clearTimeout(N.s),N.s=null)}function lc(N){if(!oa(N.h)&&!N.s){N.s=!0;var q=N.Ga;Z||W(),me||(Z(),me=!0),ie.add(q,N),N.B=0}}function du(N,q){return ro(N.h)>=N.h.j-(N.s?1:0)?!1:N.s?(N.i=q.D.concat(N.i),!0):N.G==1||N.G==2||N.B>=(N.Va?0:N.Wa)?!1:(N.s=Ca(p(N.Ga,N,q),Op(N,N.B)),N.B++,!0)}t.Ga=function(N){if(this.s)if(this.s=null,this.G==1){if(!N){this.U=Math.floor(1e5*Math.random()),N=this.U++;const Ae=new Me(this,this.j,N);let De=this.o;if(this.S&&(De?(De=R(De),A(De,this.S)):De=this.S),this.m!==null||this.O||(Ae.H=De,De=null),this.P)e:{for(var q=0,Y=0;Y<this.i.length;Y++){t:{var ce=this.i[Y];if("__data__"in ce.map&&(ce=ce.map.__data__,typeof ce=="string")){ce=ce.length;break t}ce=void 0}if(ce===void 0)break;if(q+=ce,4096<q){q=Y;break e}if(q===4096||Y===this.i.length-1){q=Y+1;break e}}q=1e3}else q=1e3;q=Qy(this,Ae,q),Y=xr(this.I),Ln(Y,"RID",N),Ln(Y,"CVER",22),this.D&&Ln(Y,"X-HTTP-Session-Id",this.D),Ld(this,Y),De&&(this.O?q="headers="+encodeURIComponent(String(H(De)))+"&"+q:this.m&&ae(Y,this.m,De)),so(this.h,Ae),this.Ua&&Ln(Y,"TYPE","init"),this.P?(Ln(Y,"$req",q),Ln(Y,"SID","null"),Ae.T=!0,Qe(Ae,Y,null)):Qe(Ae,Y,q),this.G=2}}else this.G==3&&(N?xl(this,N):this.i.length==0||oa(this.h)||xl(this))};function xl(N,q){var Y;q?Y=q.l:Y=N.U++;const ce=xr(N.I);Ln(ce,"SID",N.K),Ln(ce,"RID",Y),Ln(ce,"AID",N.T),Ld(N,ce),N.m&&N.o&&ae(ce,N.m,N.o),Y=new Me(N,N.j,Y,N.B+1),N.m===null&&(Y.H=N.o),q&&(N.i=q.D.concat(N.i)),q=Qy(N,Y,1e3),Y.I=Math.round(.5*N.wa)+Math.round(.5*N.wa*Math.random()),so(N.h,Y),Qe(Y,ce,q)}function Ld(N,q){N.H&&F(N.H,function(Y,ce){Ln(q,ce,Y)}),N.l&&ao({},function(Y,ce){Ln(q,ce,Y)})}function Qy(N,q,Y){Y=Math.min(N.i.length,Y);var ce=N.l?p(N.l.Na,N.l,N):null;e:{var Ae=N.i;let De=-1;for(;;){const ht=["count="+Y];De==-1?0<Y?(De=Ae[0].g,ht.push("ofs="+De)):De=0:ht.push("ofs="+De);let Mn=!0;for(let Is=0;Is<Y;Is++){let Fn=Ae[Is].g;const Gs=Ae[Is].map;if(Fn-=De,0>Fn)De=Math.max(0,Ae[Is].g-100),Mn=!1;else try{Ka(Gs,ht,"req"+Fn+"_")}catch{ce&&ce(Gs)}}if(Mn){ce=ht.join("&");break e}}}return N=N.i.splice(0,Y),q.D=N,ce}function Zy(N){if(!N.g&&!N.u){N.Y=1;var q=N.Fa;Z||W(),me||(Z(),me=!0),ie.add(q,N),N.v=0}}function kp(N){return N.g||N.u||3<=N.v?!1:(N.Y++,N.u=Ca(p(N.Fa,N),Op(N,N.v)),N.v++,!0)}t.Fa=function(){if(this.u=null,ev(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var N=2*this.R;this.j.info("BP detection timer enabled: "+N),this.A=Ca(p(this.ab,this),N)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,bn(10),Aa(this),ev(this))};function Rd(N){N.A!=null&&(c.clearTimeout(N.A),N.A=null)}function ev(N){N.g=new Me(N,N.j,"rpc",N.Y),N.m===null&&(N.g.H=N.o),N.g.O=0;var q=xr(N.qa);Ln(q,"RID","rpc"),Ln(q,"SID",N.K),Ln(q,"AID",N.T),Ln(q,"CI",N.F?"0":"1"),!N.F&&N.ja&&Ln(q,"TO",N.ja),Ln(q,"TYPE","xmlhttp"),Ld(N,q),N.m&&N.o&&ae(q,N.m,N.o),N.L&&(N.g.I=N.L);var Y=N.g;N=N.ia,Y.L=1,Y.v=Ga(xr(q)),Y.m=null,Y.P=!0,nt(Y,N)}t.Za=function(){this.C!=null&&(this.C=null,Aa(this),kp(this),bn(19))};function af(N){N.C!=null&&(c.clearTimeout(N.C),N.C=null)}function tv(N,q){var Y=null;if(N.g==q){af(N),Rd(N),N.g=null;var ce=2}else if(ns(N.h,q))Y=q.D,Na(N.h,q),ce=1;else return;if(N.G!=0){if(q.o)if(ce==1){Y=q.m?q.m.length:0,q=Date.now()-q.F;var Ae=N.B;ce=aa(),Rt(ce,new Ft(ce,Y)),lc(N)}else Zy(N);else if(Ae=q.s,Ae==3||Ae==0&&0<q.X||!(ce==1&&du(N,q)||ce==2&&kp(N)))switch(Y&&0<Y.length&&(q=N.h,q.i=q.i.concat(Y)),Ae){case 1:cc(N,5);break;case 4:cc(N,10);break;case 3:cc(N,6);break;default:cc(N,2)}}}function Op(N,q){let Y=N.Ta+Math.floor(Math.random()*N.cb);return N.isActive()||(Y*=2),Y*q}function cc(N,q){if(N.j.info("Error code "+q),q==2){var Y=p(N.fb,N),ce=N.Xa;const Ae=!ce;ce=new Ti(ce||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||io(ce,"https"),Ga(ce),Ae?qo(ce.toString(),Y):$o(ce.toString(),Y)}else bn(2);N.G=0,N.l&&N.l.sa(q),nv(N),oo(N)}t.fb=function(N){N?(this.j.info("Successfully pinged google.com"),bn(2)):(this.j.info("Failed to ping google.com"),bn(1))};function nv(N){if(N.G=0,N.ka=[],N.l){const q=rs(N.h);(q.length!=0||N.i.length!=0)&&(j(N.ka,q),j(N.ka,N.i),N.h.i.length=0,E(N.i),N.i.length=0),N.l.ra()}}function rv(N,q,Y){var ce=Y instanceof Ti?xr(Y):new Ti(Y);if(ce.g!="")q&&(ce.g=q+"."+ce.g),Ai(ce,ce.s);else{var Ae=c.location;ce=Ae.protocol,q=q?q+"."+Ae.hostname:Ae.hostname,Ae=+Ae.port;var De=new Ti(null);ce&&io(De,ce),q&&(De.g=q),Ae&&Ai(De,Ae),Y&&(De.l=Y),ce=De}return Y=N.D,q=N.ya,Y&&q&&Ln(ce,Y,q),Ln(ce,"VER",N.la),Ld(N,ce),ce}function sv(N,q,Y){if(q&&!N.J)throw Error("Can't create secondary domain capable XhrIo object.");return q=N.Ca&&!N.pa?new pe(new ks({eb:Y})):new pe(N.pa),q.Ha(N.J),q}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function av(){}t=av.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function of(){}of.prototype.g=function(N,q){return new Ya(N,q)};function Ya(N,q){Dt.call(this),this.g=new $r(q),this.l=N,this.h=q&&q.messageUrlParams||null,N=q&&q.messageHeaders||null,q&&q.clientProtocolHeaderRequired&&(N?N["X-Client-Protocol"]="webchannel":N={"X-Client-Protocol":"webchannel"}),this.g.o=N,N=q&&q.initMessageHeaders||null,q&&q.messageContentType&&(N?N["X-WebChannel-Content-Type"]=q.messageContentType:N={"X-WebChannel-Content-Type":q.messageContentType}),q&&q.va&&(N?N["X-WebChannel-Client-Profile"]=q.va:N={"X-WebChannel-Client-Profile":q.va}),this.g.S=N,(N=q&&q.Sb)&&!O(N)&&(this.g.m=N),this.v=q&&q.supportsCrossDomainXhr||!1,this.u=q&&q.sendRawJson||!1,(q=q&&q.httpSessionIdParam)&&!O(q)&&(this.g.D=q,N=this.h,N!==null&&q in N&&(N=this.h,q in N&&delete N[q])),this.j=new bl(this)}w(Ya,Dt),Ya.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ya.prototype.close=function(){fi(this.g)},Ya.prototype.o=function(N){var q=this.g;if(typeof N=="string"){var Y={};Y.__data__=N,N=Y}else this.u&&(Y={},Y.__data__=Ur(N),N=Y);q.i.push(new _s(q.Ya++,N)),q.G==3&&lc(q)},Ya.prototype.N=function(){this.g.l=null,delete this.j,fi(this.g),delete this.g,Ya.aa.N.call(this)};function iv(N){ps.call(this),N.__headers__&&(this.headers=N.__headers__,this.statusCode=N.__status__,delete N.__headers__,delete N.__status__);var q=N.__sm__;if(q){e:{for(const Y in q){N=Y;break e}N=void 0}(this.i=N)&&(N=this.i,q=q!==null&&N in q?q[N]:void 0),this.data=q}else this.data=N}w(iv,ps);function ov(){mr.call(this),this.status=1}w(ov,mr);function bl(N){this.g=N}w(bl,av),bl.prototype.ua=function(){Rt(this.g,"a")},bl.prototype.ta=function(N){Rt(this.g,new iv(N))},bl.prototype.sa=function(N){Rt(this.g,new ov)},bl.prototype.ra=function(){Rt(this.g,"b")},of.prototype.createWebChannel=of.prototype.g,Ya.prototype.send=Ya.prototype.o,Ya.prototype.open=Ya.prototype.m,Ya.prototype.close=Ya.prototype.close,R9=function(){return new of},L9=function(){return aa()},A9=Cr,qC={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ue.NO_ERROR=0,ue.TIMEOUT=8,ue.HTTP_ERROR=6,Zx=ue,he.COMPLETE="complete",T9=he,sa.EventType=ms,ms.OPEN="a",ms.CLOSE="b",ms.ERROR="c",ms.MESSAGE="d",Dt.prototype.listen=Dt.prototype.K,Dg=sa,pe.prototype.listenOnce=pe.prototype.L,pe.prototype.getLastError=pe.prototype.Ka,pe.prototype.getLastErrorCode=pe.prototype.Ba,pe.prototype.getStatus=pe.prototype.Z,pe.prototype.getResponseJson=pe.prototype.Oa,pe.prototype.getResponseText=pe.prototype.oa,pe.prototype.send=pe.prototype.ea,pe.prototype.setWithCredentials=pe.prototype.Ha,N9=pe}).apply(typeof cx<"u"?cx:typeof self<"u"?self:typeof window<"u"?window:{});const nI="@firebase/firestore",rI="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ia.UNAUTHENTICATED=new Ia(null),Ia.GOOGLE_CREDENTIALS=new Ia("google-credentials-uid"),Ia.FIRST_PARTY=new Ia("first-party-uid"),Ia.MOCK_USER=new Ia("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Km="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh=new V1("@firebase/firestore");function zf(){return yh.logLevel}function bt(t,...e){if(yh.logLevel<=Rn.DEBUG){const n=e.map(yA);yh.debug(`Firestore (${Km}): ${t}`,...n)}}function Gc(t,...e){if(yh.logLevel<=Rn.ERROR){const n=e.map(yA);yh.error(`Firestore (${Km}): ${t}`,...n)}}function Cm(t,...e){if(yh.logLevel<=Rn.WARN){const n=e.map(yA);yh.warn(`Firestore (${Km}): ${t}`,...n)}}function yA(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(t="Unexpected state"){const e=`FIRESTORE (${Km}) INTERNAL ASSERTION FAILED: `+t;throw Gc(e),new Error(e)}function tr(t,e){t||tn()}function un(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const it={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ot extends Po{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kne{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ia.UNAUTHENTICATED))}shutdown(){}}class One{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Ine{constructor(e){this.t=e,this.currentUser=Ia.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){tr(this.o===void 0);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new nd;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new nd,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},c=u=>{bt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(bt("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new nd)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(bt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(tr(typeof r.accessToken=="string"),new k9(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tr(e===null||typeof e=="string"),new Ia(e)}}class Pne{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ia.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Dne{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Pne(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ia.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Mne{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,tl(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){tr(this.o===void 0);const r=i=>{i.error!=null&&bt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,bt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{bt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):bt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new sI(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(tr(typeof n.token=="string"),this.R=n.token,new sI(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fne(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=Fne(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Pn(t,e){return t<e?-1:t>e?1:0}function Nm(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI=-62135596800,iI=1e6;class qs{static now(){return qs.fromMillis(Date.now())}static fromDate(e){return qs.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*iI);return new qs(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ot(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ot(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<aI)throw new Ot(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ot(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/iI}_compareTo(e){return this.seconds===e.seconds?Pn(this.nanoseconds,e.nanoseconds):Pn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-aI;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{static fromTimestamp(e){return new an(e)}static min(){return new an(new qs(0,0))}static max(){return new an(new qs(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI="__name__";class Ol{constructor(e,n,r){n===void 0?n=0:n>e.length&&tn(),r===void 0?r=e.length-n:r>e.length-n&&tn(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ol.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ol?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Ol.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Math.sign(e.length-n.length)}static compareSegments(e,n){const r=Ol.isNumericId(e),s=Ol.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Ol.extractNumericId(e).compare(Ol.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return td.fromString(e.substring(4,e.length-2))}}class Vr extends Ol{construct(e,n,r){return new Vr(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ot(it.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Vr(n)}static emptyPath(){return new Vr([])}}const Bne=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class va extends Ol{construct(e,n,r){return new va(e,n,r)}static isValidIdentifier(e){return Bne.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),va.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===oI}static keyField(){return new va([oI])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Ot(it.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new Ot(it.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Ot(it.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else c==="`"?(o=!o,s++):c!=="."||o?(r+=c,s++):(i(),s++)}if(i(),o)throw new Ot(it.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new va(n)}static emptyPath(){return new va([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.path=e}static fromPath(e){return new qt(Vr.fromString(e))}static fromName(e){return new qt(Vr.fromString(e).popFirst(5))}static empty(){return new qt(Vr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Vr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Vr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qt(new Vr(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0=-1;function Une(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=an.fromTimestamp(r===1e9?new qs(n+1,0):new qs(n,r));return new cd(s,qt.empty(),e)}function zne(t){return new cd(t.readTime,t.key,L0)}class cd{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new cd(an.min(),qt.empty(),L0)}static max(){return new cd(an.max(),qt.empty(),L0)}}function qne(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=qt.comparator(t.documentKey,e.documentKey),n!==0?n:Pn(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ne="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Vne{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ym(t){if(t.code!==it.FAILED_PRECONDITION||t.message!==$ne)throw t;bt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&tn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Je((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Je?n:Je.resolve(n)}catch(n){return Je.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Je.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Je.reject(n)}static resolve(e){return new Je((n,r)=>{n(e)})}static reject(e){return new Je((n,r)=>{r(e)})}static waitFor(e){return new Je((n,r)=>{let s=0,i=0,o=!1;e.forEach(c=>{++s,c.next(()=>{++i,o&&i===s&&n()},u=>r(u))}),o=!0,i===s&&n()})}static or(e){let n=Je.resolve(!1);for(const r of e)n=n.next(s=>s?Je.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new Je((r,s)=>{const i=e.length,o=new Array(i);let c=0;for(let u=0;u<i;u++){const h=u;n(e[h]).next(f=>{o[h]=f,++c,c===i&&r(o)},f=>s(f))}})}static doWhile(e,n){return new Je((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function Hne(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Xm(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}G1.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA=-1;function W1(t){return t==null}function jb(t){return t===0&&1/t==-1/0}function Gne(t){return typeof t=="number"&&Number.isInteger(t)&&!jb(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I9="";function Wne(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=lI(e)),e=Kne(t.get(n),e);return lI(e)}function Kne(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case I9:n+="";break;default:n+=i}}return n}function lI(t){return t+I9+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ed(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function P9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,n){this.comparator=e,this.root=n||ga.EMPTY}insert(e,n){return new Zr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ga.BLACK,null,null))}remove(e){return new Zr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ga.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ux(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ux(this.root,e,this.comparator,!1)}getReverseIterator(){return new ux(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ux(this.root,e,this.comparator,!0)}}class ux{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ga{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??ga.RED,this.left=s??ga.EMPTY,this.right=i??ga.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new ga(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ga.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return ga.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ga.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ga.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw tn();const e=this.left.check();if(e!==this.right.check())throw tn();return e+(this.isRed()?0:1)}}ga.EMPTY=null,ga.RED=!0,ga.BLACK=!1;ga.EMPTY=new class{constructor(){this.size=0}get key(){throw tn()}get value(){throw tn()}get color(){throw tn()}get left(){throw tn()}get right(){throw tn()}copy(e,n,r,s,i){return this}insert(e,n,r){return new ga(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this.comparator=e,this.data=new Zr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new uI(this.data.getIterator())}getIteratorFrom(e){return new uI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof $s)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new $s(this.comparator);return n.data=e,n}}class uI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e){this.fields=e,e.sort(va.comparator)}static empty(){return new qi([])}unionWith(e){let n=new $s(va.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new qi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Nm(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new D9("Invalid base64 string: "+i):i}}(e);return new Ea(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Ea(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ea.EMPTY_BYTE_STRING=new Ea("");const Yne=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ud(t){if(tr(!!t),typeof t=="string"){let e=0;const n=Yne.exec(t);if(tr(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xs(t.seconds),nanos:xs(t.nanos)}}function xs(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function dd(t){return typeof t=="string"?Ea.fromBase64String(t):Ea.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M9="server_timestamp",F9="__type__",B9="__previous_value__",U9="__local_write_time__";function xA(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[F9])===null||n===void 0?void 0:n.stringValue)===M9}function K1(t){const e=t.mapValue.fields[B9];return xA(e)?K1(e):e}function R0(t){const e=ud(t.mapValue.fields[U9].timestampValue);return new qs(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xne{constructor(e,n,r,s,i,o,c,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=h}}const Sb="(default)";class k0{constructor(e,n){this.projectId=e,this.database=n||Sb}static empty(){return new k0("","")}get isDefaultDatabase(){return this.database===Sb}isEqual(e){return e instanceof k0&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z9="__type__",Jne="__max__",dx={mapValue:{}},q9="__vector__",Cb="value";function hd(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?xA(t)?4:Zne(t)?9007199254740991:Qne(t)?10:11:tn()}function Kl(t,e){if(t===e)return!0;const n=hd(t);if(n!==hd(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return R0(t).isEqual(R0(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=ud(s.timestampValue),c=ud(i.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return dd(s.bytesValue).isEqual(dd(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return xs(s.geoPointValue.latitude)===xs(i.geoPointValue.latitude)&&xs(s.geoPointValue.longitude)===xs(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return xs(s.integerValue)===xs(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=xs(s.doubleValue),c=xs(i.doubleValue);return o===c?jb(o)===jb(c):isNaN(o)&&isNaN(c)}return!1}(t,e);case 9:return Nm(t.arrayValue.values||[],e.arrayValue.values||[],Kl);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},c=i.mapValue.fields||{};if(cI(o)!==cI(c))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(c[u]===void 0||!Kl(o[u],c[u])))return!1;return!0}(t,e);default:return tn()}}function O0(t,e){return(t.values||[]).find(n=>Kl(n,e))!==void 0}function Tm(t,e){if(t===e)return 0;const n=hd(t),r=hd(e);if(n!==r)return Pn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pn(t.booleanValue,e.booleanValue);case 2:return function(i,o){const c=xs(i.integerValue||i.doubleValue),u=xs(o.integerValue||o.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return dI(t.timestampValue,e.timestampValue);case 4:return dI(R0(t),R0(e));case 5:return Pn(t.stringValue,e.stringValue);case 6:return function(i,o){const c=dd(i),u=dd(o);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const c=i.split("/"),u=o.split("/");for(let h=0;h<c.length&&h<u.length;h++){const f=Pn(c[h],u[h]);if(f!==0)return f}return Pn(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const c=Pn(xs(i.latitude),xs(o.latitude));return c!==0?c:Pn(xs(i.longitude),xs(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return hI(t.arrayValue,e.arrayValue);case 10:return function(i,o){var c,u,h,f;const g=i.fields||{},p=o.fields||{},y=(c=g[Cb])===null||c===void 0?void 0:c.arrayValue,w=(u=p[Cb])===null||u===void 0?void 0:u.arrayValue,E=Pn(((h=y==null?void 0:y.values)===null||h===void 0?void 0:h.length)||0,((f=w==null?void 0:w.values)===null||f===void 0?void 0:f.length)||0);return E!==0?E:hI(y,w)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===dx.mapValue&&o===dx.mapValue)return 0;if(i===dx.mapValue)return 1;if(o===dx.mapValue)return-1;const c=i.fields||{},u=Object.keys(c),h=o.fields||{},f=Object.keys(h);u.sort(),f.sort();for(let g=0;g<u.length&&g<f.length;++g){const p=Pn(u[g],f[g]);if(p!==0)return p;const y=Tm(c[u[g]],h[f[g]]);if(y!==0)return y}return Pn(u.length,f.length)}(t.mapValue,e.mapValue);default:throw tn()}}function dI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Pn(t,e);const n=ud(t),r=ud(e),s=Pn(n.seconds,r.seconds);return s!==0?s:Pn(n.nanos,r.nanos)}function hI(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Tm(n[s],r[s]);if(i)return i}return Pn(n.length,r.length)}function Am(t){return $C(t)}function $C(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ud(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return dd(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return qt.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=$C(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${$C(n.fields[o])}`;return s+"}"}(t.mapValue):tn()}function eb(t){switch(hd(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=K1(t);return e?16+eb(e):16;case 5:return 2*t.stringValue.length;case 6:return dd(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+eb(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Ed(r.fields,(i,o)=>{s+=i.length+eb(o)}),s}(t.mapValue);default:throw tn()}}function VC(t){return!!t&&"integerValue"in t}function bA(t){return!!t&&"arrayValue"in t}function fI(t){return!!t&&"nullValue"in t}function mI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function tb(t){return!!t&&"mapValue"in t}function Qne(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[z9])===null||n===void 0?void 0:n.stringValue)===q9}function Xg(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ed(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Xg(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xg(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Zne(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Jne}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e){this.value=e}static empty(){return new gi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!tb(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xg(n)}setAll(e){let n=va.emptyPath(),r={},s=[];e.forEach((o,c)=>{if(!n.isImmediateParentOf(c)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=c.popLast()}o?r[c.lastSegment()]=Xg(o):s.push(c.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());tb(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Kl(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];tb(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ed(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new gi(Xg(this.value))}}function $9(t){const e=[];return Ed(t.fields,(n,r)=>{const s=new va([n]);if(tb(r)){const i=$9(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new qi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e,n,r,s,i,o,c){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=c}static newInvalidDocument(e){return new Pa(e,0,an.min(),an.min(),an.min(),gi.empty(),0)}static newFoundDocument(e,n,r,s){return new Pa(e,1,n,an.min(),r,s,0)}static newNoDocument(e,n){return new Pa(e,2,n,an.min(),an.min(),gi.empty(),0)}static newUnknownDocument(e,n){return new Pa(e,3,n,an.min(),an.min(),gi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(an.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=an.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Pa&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pa(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e,n){this.position=e,this.inclusive=n}}function pI(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=qt.comparator(qt.fromName(o.referenceValue),n.key):r=Tm(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function gI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Kl(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e,n="asc"){this.field=e,this.dir=n}}function ere(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V9{}class Bs extends V9{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new nre(e,n,r):n==="array-contains"?new are(e,r):n==="in"?new ire(e,r):n==="not-in"?new ore(e,r):n==="array-contains-any"?new lre(e,r):new Bs(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new rre(e,r):new sre(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Tm(n,this.value)):n!==null&&hd(this.value)===hd(n)&&this.matchesComparison(Tm(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return tn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yl extends V9{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Yl(e,n)}matches(e){return H9(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function H9(t){return t.op==="and"}function G9(t){return tre(t)&&H9(t)}function tre(t){for(const e of t.filters)if(e instanceof Yl)return!1;return!0}function HC(t){if(t instanceof Bs)return t.field.canonicalString()+t.op.toString()+Am(t.value);if(G9(t))return t.filters.map(e=>HC(e)).join(",");{const e=t.filters.map(n=>HC(n)).join(",");return`${t.op}(${e})`}}function W9(t,e){return t instanceof Bs?function(r,s){return s instanceof Bs&&r.op===s.op&&r.field.isEqual(s.field)&&Kl(r.value,s.value)}(t,e):t instanceof Yl?function(r,s){return s instanceof Yl&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,c)=>i&&W9(o,s.filters[c]),!0):!1}(t,e):void tn()}function K9(t){return t instanceof Bs?function(n){return`${n.field.canonicalString()} ${n.op} ${Am(n.value)}`}(t):t instanceof Yl?function(n){return n.op.toString()+" {"+n.getFilters().map(K9).join(" ,")+"}"}(t):"Filter"}class nre extends Bs{constructor(e,n,r){super(e,n,r),this.key=qt.fromName(r.referenceValue)}matches(e){const n=qt.comparator(e.key,this.key);return this.matchesComparison(n)}}class rre extends Bs{constructor(e,n){super(e,"in",n),this.keys=Y9("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class sre extends Bs{constructor(e,n){super(e,"not-in",n),this.keys=Y9("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Y9(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>qt.fromName(r.referenceValue))}class are extends Bs{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return bA(n)&&O0(n.arrayValue,this.value)}}class ire extends Bs{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&O0(this.value.arrayValue,n)}}class ore extends Bs{constructor(e,n){super(e,"not-in",n)}matches(e){if(O0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!O0(this.value.arrayValue,n)}}class lre extends Bs{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!bA(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>O0(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cre{constructor(e,n=null,r=[],s=[],i=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=c,this.le=null}}function yI(t,e=null,n=[],r=[],s=null,i=null,o=null){return new cre(t,e,n,r,s,i,o)}function wA(t){const e=un(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>HC(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),W1(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Am(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Am(r)).join(",")),e.le=n}return e.le}function _A(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!ere(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!W9(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!gI(t.startAt,e.startAt)&&gI(t.endAt,e.endAt)}function GC(t){return qt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e,n=null,r=[],s=[],i=null,o="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=c,this.endAt=u,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function ure(t,e,n,r,s,i,o,c){return new Y1(t,e,n,r,s,i,o,c)}function X9(t){return new Y1(t)}function vI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function dre(t){return t.collectionGroup!==null}function Jg(t){const e=un(t);if(e.he===null){e.he=[];const n=new Set;for(const i of e.explicitOrderBy)e.he.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new $s(va.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(c=c.add(h.field))})}),c})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.he.push(new Tb(i,r))}),n.has(va.keyField().canonicalString())||e.he.push(new Tb(va.keyField(),r))}return e.he}function zl(t){const e=un(t);return e.Pe||(e.Pe=hre(e,Jg(t))),e.Pe}function hre(t,e){if(t.limitType==="F")return yI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Tb(s.field,i)});const n=t.endAt?new Nb(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Nb(t.startAt.position,t.startAt.inclusive):null;return yI(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function WC(t,e,n){return new Y1(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function X1(t,e){return _A(zl(t),zl(e))&&t.limitType===e.limitType}function J9(t){return`${wA(zl(t))}|lt:${t.limitType}`}function qf(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>K9(s)).join(", ")}]`),W1(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Am(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Am(s)).join(",")),`Target(${r})`}(zl(t))}; limitType=${t.limitType})`}function J1(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):qt.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Jg(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,c,u){const h=pI(o,c,u);return o.inclusive?h<=0:h<0}(r.startAt,Jg(r),s)||r.endAt&&!function(o,c,u){const h=pI(o,c,u);return o.inclusive?h>=0:h>0}(r.endAt,Jg(r),s))}(t,e)}function fre(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Q9(t){return(e,n)=>{let r=!1;for(const s of Jg(t)){const i=mre(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function mre(t,e,n){const r=t.field.isKeyField()?qt.comparator(e.key,n.key):function(i,o,c){const u=o.data.field(i),h=c.data.field(i);return u!==null&&h!==null?Tm(u,h):tn()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return tn()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ed(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return P9(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pre=new Zr(qt.comparator);function Wc(){return pre}const Z9=new Zr(qt.comparator);function Mg(...t){let e=Z9;for(const n of t)e=e.insert(n.key,n);return e}function eU(t){let e=Z9;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ih(){return Qg()}function tU(){return Qg()}function Qg(){return new Uh(t=>t.toString(),(t,e)=>t.isEqual(e))}const gre=new Zr(qt.comparator),yre=new $s(qt.comparator);function kn(...t){let e=yre;for(const n of t)e=e.add(n);return e}const vre=new $s(Pn);function xre(){return vre}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jb(e)?"-0":e}}function nU(t){return{integerValue:""+t}}function bre(t,e){return Gne(e)?nU(e):EA(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(){this._=void 0}}function wre(t,e,n){return t instanceof Ab?function(s,i){const o={fields:{[F9]:{stringValue:M9},[U9]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&xA(i)&&(i=K1(i)),i&&(o.fields[B9]=i),{mapValue:o}}(n,e):t instanceof I0?sU(t,e):t instanceof P0?aU(t,e):function(s,i){const o=rU(s,i),c=xI(o)+xI(s.Ie);return VC(o)&&VC(s.Ie)?nU(c):EA(s.serializer,c)}(t,e)}function _re(t,e,n){return t instanceof I0?sU(t,e):t instanceof P0?aU(t,e):n}function rU(t,e){return t instanceof Lb?function(r){return VC(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Ab extends Q1{}class I0 extends Q1{constructor(e){super(),this.elements=e}}function sU(t,e){const n=iU(e);for(const r of t.elements)n.some(s=>Kl(s,r))||n.push(r);return{arrayValue:{values:n}}}class P0 extends Q1{constructor(e){super(),this.elements=e}}function aU(t,e){let n=iU(e);for(const r of t.elements)n=n.filter(s=>!Kl(s,r));return{arrayValue:{values:n}}}class Lb extends Q1{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function xI(t){return xs(t.integerValue||t.doubleValue)}function iU(t){return bA(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Ere(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof I0&&s instanceof I0||r instanceof P0&&s instanceof P0?Nm(r.elements,s.elements,Kl):r instanceof Lb&&s instanceof Lb?Kl(r.Ie,s.Ie):r instanceof Ab&&s instanceof Ab}(t.transform,e.transform)}class jre{constructor(e,n){this.version=e,this.transformResults=n}}class al{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new al}static exists(e){return new al(void 0,e)}static updateTime(e){return new al(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nb(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Z1{}function oU(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new jA(t.key,al.none()):new _y(t.key,t.data,al.none());{const n=t.data,r=gi.empty();let s=new $s(va.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new jd(t.key,r,new qi(s.toArray()),al.none())}}function Sre(t,e,n){t instanceof _y?function(s,i,o){const c=s.value.clone(),u=wI(s.fieldTransforms,i,o.transformResults);c.setAll(u),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):t instanceof jd?function(s,i,o){if(!nb(s.precondition,i))return void i.convertToUnknownDocument(o.version);const c=wI(s.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(lU(s)),u.setAll(c),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Zg(t,e,n,r){return t instanceof _y?function(i,o,c,u){if(!nb(i.precondition,o))return c;const h=i.value.clone(),f=_I(i.fieldTransforms,u,o);return h.setAll(f),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof jd?function(i,o,c,u){if(!nb(i.precondition,o))return c;const h=_I(i.fieldTransforms,u,o),f=o.data;return f.setAll(lU(i)),f.setAll(h),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),c===null?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(i,o,c){return nb(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(t,e,n)}function Cre(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=rU(r.transform,s||null);i!=null&&(n===null&&(n=gi.empty()),n.set(r.field,i))}return n||null}function bI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Nm(r,s,(i,o)=>Ere(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class _y extends Z1{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class jd extends Z1{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function lU(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function wI(t,e,n){const r=new Map;tr(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,c=e.data.field(i.field);r.set(i.field,_re(o,c,n[s]))}return r}function _I(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,wre(i,o,e))}return r}class jA extends Z1{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Nre extends Z1{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tre{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&Sre(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Zg(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Zg(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=tU();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let c=this.applyToLocalView(o,i.mutatedFields);c=n.has(s.key)?null:c;const u=oU(o,c);u!==null&&r.set(s.key,u),o.isValidDocument()||o.convertToNoDocument(an.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),kn())}isEqual(e){return this.batchId===e.batchId&&Nm(this.mutations,e.mutations,(n,r)=>bI(n,r))&&Nm(this.baseMutations,e.baseMutations,(n,r)=>bI(n,r))}}class SA{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){tr(e.mutations.length===r.length);let s=function(){return gre}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new SA(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Are{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lre{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ts,Un;function Rre(t){switch(t){case it.OK:return tn();case it.CANCELLED:case it.UNKNOWN:case it.DEADLINE_EXCEEDED:case it.RESOURCE_EXHAUSTED:case it.INTERNAL:case it.UNAVAILABLE:case it.UNAUTHENTICATED:return!1;case it.INVALID_ARGUMENT:case it.NOT_FOUND:case it.ALREADY_EXISTS:case it.PERMISSION_DENIED:case it.FAILED_PRECONDITION:case it.ABORTED:case it.OUT_OF_RANGE:case it.UNIMPLEMENTED:case it.DATA_LOSS:return!0;default:return tn()}}function cU(t){if(t===void 0)return Gc("GRPC error has no .code"),it.UNKNOWN;switch(t){case Ts.OK:return it.OK;case Ts.CANCELLED:return it.CANCELLED;case Ts.UNKNOWN:return it.UNKNOWN;case Ts.DEADLINE_EXCEEDED:return it.DEADLINE_EXCEEDED;case Ts.RESOURCE_EXHAUSTED:return it.RESOURCE_EXHAUSTED;case Ts.INTERNAL:return it.INTERNAL;case Ts.UNAVAILABLE:return it.UNAVAILABLE;case Ts.UNAUTHENTICATED:return it.UNAUTHENTICATED;case Ts.INVALID_ARGUMENT:return it.INVALID_ARGUMENT;case Ts.NOT_FOUND:return it.NOT_FOUND;case Ts.ALREADY_EXISTS:return it.ALREADY_EXISTS;case Ts.PERMISSION_DENIED:return it.PERMISSION_DENIED;case Ts.FAILED_PRECONDITION:return it.FAILED_PRECONDITION;case Ts.ABORTED:return it.ABORTED;case Ts.OUT_OF_RANGE:return it.OUT_OF_RANGE;case Ts.UNIMPLEMENTED:return it.UNIMPLEMENTED;case Ts.DATA_LOSS:return it.DATA_LOSS;default:return tn()}}(Un=Ts||(Ts={}))[Un.OK=0]="OK",Un[Un.CANCELLED=1]="CANCELLED",Un[Un.UNKNOWN=2]="UNKNOWN",Un[Un.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Un[Un.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Un[Un.NOT_FOUND=5]="NOT_FOUND",Un[Un.ALREADY_EXISTS=6]="ALREADY_EXISTS",Un[Un.PERMISSION_DENIED=7]="PERMISSION_DENIED",Un[Un.UNAUTHENTICATED=16]="UNAUTHENTICATED",Un[Un.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Un[Un.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Un[Un.ABORTED=10]="ABORTED",Un[Un.OUT_OF_RANGE=11]="OUT_OF_RANGE",Un[Un.UNIMPLEMENTED=12]="UNIMPLEMENTED",Un[Un.INTERNAL=13]="INTERNAL",Un[Un.UNAVAILABLE=14]="UNAVAILABLE",Un[Un.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kre(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ore=new td([4294967295,4294967295],0);function EI(t){const e=kre().encode(t),n=new C9;return n.update(e),new Uint8Array(n.digest())}function jI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new td([n,r],0),new td([s,i],0)]}class CA{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Fg(`Invalid padding: ${n}`);if(r<0)throw new Fg(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Fg(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Fg(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=td.fromNumber(this.Ee)}Ae(e,n,r){let s=e.add(n.multiply(td.fromNumber(r)));return s.compare(Ore)===1&&(s=new td([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=EI(e),[r,s]=jI(n);for(let i=0;i<this.hashCount;i++){const o=this.Ae(r,s,i);if(!this.Re(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new CA(i,s,n);return r.forEach(c=>o.insert(c)),o}insert(e){if(this.Ee===0)return;const n=EI(e),[r,s]=jI(n);for(let i=0;i<this.hashCount;i++){const o=this.Ae(r,s,i);this.Ve(o)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Fg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Ey.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ew(an.min(),s,new Zr(Pn),Wc(),kn())}}class Ey{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ey(r,n,kn(),kn(),kn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e,n,r,s){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=s}}class uU{constructor(e,n){this.targetId=e,this.ge=n}}class dU{constructor(e,n,r=Ea.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class SI{constructor(){this.pe=0,this.ye=CI(),this.we=Ea.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=kn(),n=kn(),r=kn();return this.ye.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:tn()}}),new Ey(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=CI()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,tr(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class Ire{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Wc(),this.$e=hx(),this.Ke=hx(),this.Ue=new Zr(Pn)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:tn()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,s)=>{this.Je(s)&&n(s)})}Ze(e){const n=e.targetId,r=e.ge.count,s=this.Xe(n);if(s){const i=s.target;if(GC(i))if(r===0){const o=new qt(i.path);this.ze(n,o,Pa.newNoDocument(o,an.min()))}else tr(r===1);else{const o=this.et(n);if(o!==r){const c=this.tt(e),u=c?this.nt(c,e,o):1;if(u!==0){this.Ye(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,h)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,c;try{o=dd(r).toUint8Array()}catch(u){if(u instanceof D9)return Cm("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new CA(o,s,i)}catch(u){return Cm(u instanceof Fg?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.Ee===0?null:c}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.ke.it(),c=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(c)||(this.ze(n,i,null),s++)}),s}ot(e){const n=new Map;this.qe.forEach((i,o)=>{const c=this.Xe(o);if(c){if(i.current&&GC(c.target)){const u=new qt(c.target.path);this._t(u).has(o)||this.ut(o,u)||this.ze(o,u,Pa.newNoDocument(u,e))}i.ve&&(n.set(o,i.Fe()),i.Me())}});let r=kn();this.Ke.forEach((i,o)=>{let c=!0;o.forEachWhile(u=>{const h=this.Xe(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(i))}),this.Qe.forEach((i,o)=>o.setReadTime(e));const s=new ew(e,n,this.Ue,this.Qe,r);return this.Qe=Wc(),this.$e=hx(),this.Ke=hx(),this.Ue=new Zr(Pn),s}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const s=this.He(e);this.ut(e,n)?s.xe(n,1):s.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new SI,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new $s(Pn),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new $s(Pn),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||bt("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new SI),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function hx(){return new Zr(qt.comparator)}function CI(){return new Zr(qt.comparator)}const Pre={asc:"ASCENDING",desc:"DESCENDING"},Dre={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Mre={and:"AND",or:"OR"};class Fre{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function KC(t,e){return t.useProto3Json||W1(e)?e:{value:e}}function Rb(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hU(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Bre(t,e){return Rb(t,e.toTimestamp())}function ql(t){return tr(!!t),an.fromTimestamp(function(n){const r=ud(n);return new qs(r.seconds,r.nanos)}(t))}function NA(t,e){return YC(t,e).canonicalString()}function YC(t,e){const n=function(s){return new Vr(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function fU(t){const e=Vr.fromString(t);return tr(vU(e)),e}function XC(t,e){return NA(t.databaseId,e.path)}function hE(t,e){const n=fU(e);if(n.get(1)!==t.databaseId.projectId)throw new Ot(it.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ot(it.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new qt(pU(n))}function mU(t,e){return NA(t.databaseId,e)}function Ure(t){const e=fU(t);return e.length===4?Vr.emptyPath():pU(e)}function JC(t){return new Vr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function pU(t){return tr(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function NI(t,e,n){return{name:XC(t,e),fields:n.value.mapValue.fields}}function zre(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:tn()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(h,f){return h.useProto3Json?(tr(f===void 0||typeof f=="string"),Ea.fromBase64String(f||"")):(tr(f===void 0||f instanceof Buffer||f instanceof Uint8Array),Ea.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&function(h){const f=h.code===void 0?it.UNKNOWN:cU(h.code);return new Ot(f,h.message||"")}(o);n=new dU(r,s,i,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=hE(t,r.document.name),i=ql(r.document.updateTime),o=r.document.createTime?ql(r.document.createTime):an.min(),c=new gi({mapValue:{fields:r.document.fields}}),u=Pa.newFoundDocument(s,i,o,c),h=r.targetIds||[],f=r.removedTargetIds||[];n=new rb(h,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=hE(t,r.document),i=r.readTime?ql(r.readTime):an.min(),o=Pa.newNoDocument(s,i),c=r.removedTargetIds||[];n=new rb([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=hE(t,r.document),i=r.removedTargetIds||[];n=new rb([],i,s,null)}else{if(!("filter"in e))return tn();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new Lre(s,i),c=r.targetId;n=new uU(c,o)}}return n}function qre(t,e){let n;if(e instanceof _y)n={update:NI(t,e.key,e.value)};else if(e instanceof jA)n={delete:XC(t,e.key)};else if(e instanceof jd)n={update:NI(t,e.key,e.data),updateMask:Jre(e.fieldMask)};else{if(!(e instanceof Nre))return tn();n={verify:XC(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const c=o.transform;if(c instanceof Ab)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof I0)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof P0)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Lb)return{fieldPath:o.field.canonicalString(),increment:c.Ie};throw tn()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:Bre(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:tn()}(t,e.precondition)),n}function $re(t,e){return t&&t.length>0?(tr(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?ql(s.updateTime):ql(i);return o.isEqual(an.min())&&(o=ql(i)),new jre(o,s.transformResults||[])}(n,e))):[]}function Vre(t,e){return{documents:[mU(t,e.path)]}}function Hre(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=mU(t,s);const i=function(h){if(h.length!==0)return yU(Yl.create(h,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(h){if(h.length!==0)return h.map(f=>function(p){return{field:$f(p.field),direction:Kre(p.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const c=KC(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ht:n,parent:s}}function Gre(t){let e=Ure(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){tr(r===1);const f=n.from[0];f.allDescendants?s=f.collectionId:e=e.child(f.collectionId)}let i=[];n.where&&(i=function(g){const p=gU(g);return p instanceof Yl&&G9(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(g){return g.map(p=>function(w){return new Tb(Vf(w.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(p))}(n.orderBy));let c=null;n.limit&&(c=function(g){let p;return p=typeof g=="object"?g.value:g,W1(p)?null:p}(n.limit));let u=null;n.startAt&&(u=function(g){const p=!!g.before,y=g.values||[];return new Nb(y,p)}(n.startAt));let h=null;return n.endAt&&(h=function(g){const p=!g.before,y=g.values||[];return new Nb(y,p)}(n.endAt)),ure(e,s,o,i,c,"F",u,h)}function Wre(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return tn()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function gU(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Vf(n.unaryFilter.field);return Bs.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Vf(n.unaryFilter.field);return Bs.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Vf(n.unaryFilter.field);return Bs.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Vf(n.unaryFilter.field);return Bs.create(o,"!=",{nullValue:"NULL_VALUE"});default:return tn()}}(t):t.fieldFilter!==void 0?function(n){return Bs.create(Vf(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return tn()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Yl.create(n.compositeFilter.filters.map(r=>gU(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return tn()}}(n.compositeFilter.op))}(t):tn()}function Kre(t){return Pre[t]}function Yre(t){return Dre[t]}function Xre(t){return Mre[t]}function $f(t){return{fieldPath:t.canonicalString()}}function Vf(t){return va.fromServerFormat(t.fieldPath)}function yU(t){return t instanceof Bs?function(n){if(n.op==="=="){if(mI(n.value))return{unaryFilter:{field:$f(n.field),op:"IS_NAN"}};if(fI(n.value))return{unaryFilter:{field:$f(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(mI(n.value))return{unaryFilter:{field:$f(n.field),op:"IS_NOT_NAN"}};if(fI(n.value))return{unaryFilter:{field:$f(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$f(n.field),op:Yre(n.op),value:n.value}}}(t):t instanceof Yl?function(n){const r=n.getFilters().map(s=>yU(s));return r.length===1?r[0]:{compositeFilter:{op:Xre(n.op),filters:r}}}(t):tn()}function Jre(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function vU(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,n,r,s,i=an.min(),o=an.min(),c=Ea.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new Hu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Hu(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qre{constructor(e){this.Tt=e}}function Zre(t){const e=Gre({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?WC(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ese{constructor(){this.Tn=new tse}addToCollectionParentIndex(e,n){return this.Tn.add(n),Je.resolve()}getCollectionParents(e,n){return Je.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return Je.resolve()}deleteFieldIndex(e,n){return Je.resolve()}deleteAllFieldIndexes(e){return Je.resolve()}createTargetIndexes(e,n){return Je.resolve()}getDocumentsMatchingTarget(e,n){return Je.resolve(null)}getIndexType(e,n){return Je.resolve(0)}getFieldIndexes(e,n){return Je.resolve([])}getNextCollectionGroupToUpdate(e){return Je.resolve(null)}getMinOffset(e,n){return Je.resolve(cd.min())}getMinOffsetFromCollectionGroup(e,n){return Je.resolve(cd.min())}updateCollectionGroup(e,n,r){return Je.resolve()}updateIndexEntries(e,n){return Je.resolve()}}class tse{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new $s(Vr.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new $s(Vr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xU=41943040;class pi{static withCacheSize(e){return new pi(e,pi.DEFAULT_COLLECTION_PERCENTILE,pi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pi.DEFAULT_COLLECTION_PERCENTILE=10,pi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pi.DEFAULT=new pi(xU,pi.DEFAULT_COLLECTION_PERCENTILE,pi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pi.DISABLED=new pi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Lm(0)}static Un(){return new Lm(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI="LruGarbageCollector",nse=1048576;function LI([t,e],[n,r]){const s=Pn(t,n);return s===0?Pn(e,r):s}class rse{constructor(e){this.Hn=e,this.buffer=new $s(LI),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();LI(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class sse{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){bt(AI,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Xm(n)?bt(AI,"Ignoring IndexedDB error during garbage collection: ",n):await Ym(n)}await this.er(3e5)})}}class ase{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Je.resolve(G1.ae);const r=new rse(n);return this.tr.forEachTarget(e,s=>r.Zn(s.sequenceNumber)).next(()=>this.tr.rr(e,s=>r.Zn(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(bt("LruGarbageCollector","Garbage collection skipped; disabled"),Je.resolve(TI)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(bt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),TI):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,s,i,o,c,u,h;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(bt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),s=this.params.maximumSequenceNumbersToCollect):s=g,o=Date.now(),this.nthSequenceNumber(e,s))).next(g=>(r=g,c=Date.now(),this.removeTargets(e,r,n))).next(g=>(i=g,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(h=Date.now(),zf()<=Rn.DEBUG&&bt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${s} in `+(c-o)+`ms
	Removed ${i} targets in `+(u-c)+`ms
	Removed ${g} documents in `+(h-u)+`ms
Total Duration: ${h-f}ms`),Je.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:g})))}}function ise(t,e){return new ase(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ose{constructor(){this.changes=new Uh(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Pa.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Je.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lse{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cse{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Zg(r.mutation,s,qi.empty(),qs.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,kn()).next(()=>r))}getLocalViewOfDocuments(e,n,r=kn()){const s=ih();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Mg();return i.forEach((c,u)=>{o=o.insert(c,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ih();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,kn()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,c)=>{n.set(o,c)})})}computeViews(e,n,r,s){let i=Wc();const o=Qg(),c=function(){return Qg()}();return n.forEach((u,h)=>{const f=r.get(h.key);s.has(h.key)&&(f===void 0||f.mutation instanceof jd)?i=i.insert(h.key,h):f!==void 0?(o.set(h.key,f.mutation.getFieldMask()),Zg(f.mutation,h,f.mutation.getFieldMask(),qs.now())):o.set(h.key,qi.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((h,f)=>o.set(h,f)),n.forEach((h,f)=>{var g;return c.set(h,new lse(f,(g=o.get(h))!==null&&g!==void 0?g:null))}),c))}recalculateAndSaveOverlays(e,n){const r=Qg();let s=new Zr((o,c)=>o-c),i=kn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const c of o)c.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let f=r.get(u)||qi.empty();f=c.applyToLocalView(h,f),r.set(u,f);const g=(s.get(c.batchId)||kn()).add(u);s=s.insert(c.batchId,g)})}).next(()=>{const o=[],c=s.getReverseIterator();for(;c.hasNext();){const u=c.getNext(),h=u.key,f=u.value,g=tU();f.forEach(p=>{if(!i.has(p)){const y=oU(n.get(p),r.get(p));y!==null&&g.set(p,y),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,g))}return Je.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return qt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):dre(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):Je.resolve(ih());let c=L0,u=i;return o.next(h=>Je.forEach(h,(f,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),i.get(f)?Je.resolve():this.remoteDocumentCache.getEntry(e,f).next(p=>{u=u.insert(f,p)}))).next(()=>this.populateOverlays(e,h,i)).next(()=>this.computeViews(e,u,h,kn())).next(f=>({batchId:c,changes:eU(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new qt(n)).next(r=>{let s=Mg();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Mg();return this.indexManager.getCollectionParents(e,i).next(c=>Je.forEach(c,u=>{const h=function(g,p){return new Y1(p,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,h,r,s).next(f=>{f.forEach((g,p)=>{o=o.insert(g,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((u,h)=>{const f=h.getKey();o.get(f)===null&&(o=o.insert(f,Pa.newInvalidDocument(f)))});let c=Mg();return o.forEach((u,h)=>{const f=i.get(u);f!==void 0&&Zg(f.mutation,h,qi.empty(),qs.now()),J1(n,h)&&(c=c.insert(u,h))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class use{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return Je.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:ql(s.createTime)}}(n)),Je.resolve()}getNamedQuery(e,n){return Je.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(s){return{name:s.name,query:Zre(s.bundledQuery),readTime:ql(s.readTime)}}(n)),Je.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dse{constructor(){this.overlays=new Zr(qt.comparator),this.Rr=new Map}getOverlay(e,n){return Je.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ih();return Je.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.Et(e,n,i)}),Je.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Rr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Rr.delete(r)),Je.resolve()}getOverlaysForCollection(e,n,r){const s=ih(),i=n.length+1,o=new qt(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const u=c.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return Je.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Zr((h,f)=>h-f);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let f=i.get(h.largestBatchId);f===null&&(f=ih(),i=i.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}const c=ih(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,f)=>c.set(h,f)),!(c.size()>=s)););return Je.resolve(c)}Et(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Rr.get(s.largestBatchId).delete(r.key);this.Rr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Are(n,r));let i=this.Rr.get(n);i===void 0&&(i=kn(),this.Rr.set(n,i)),this.Rr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hse{constructor(){this.sessionToken=Ea.EMPTY_BYTE_STRING}getSessionToken(e){return Je.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Je.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(){this.Vr=new $s(Xs.mr),this.gr=new $s(Xs.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new Xs(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new Xs(e,n))}Sr(e,n){e.forEach(r=>this.removeReference(r,n))}br(e){const n=new qt(new Vr([])),r=new Xs(n,e),s=new Xs(n,e+1),i=[];return this.gr.forEachInRange([r,s],o=>{this.wr(o),i.push(o.key)}),i}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new qt(new Vr([])),r=new Xs(n,e),s=new Xs(n,e+1);let i=kn();return this.gr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Xs(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Xs{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return qt.comparator(e.key,n.key)||Pn(e.Cr,n.Cr)}static pr(e,n){return Pn(e.Cr,n.Cr)||qt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fse{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new $s(Xs.mr)}checkEmpty(e){return Je.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Tre(i,n,r,s);this.mutationQueue.push(o);for(const c of s)this.Mr=this.Mr.add(new Xs(c.key,i)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Je.resolve(o)}lookupMutationBatch(e,n){return Je.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Nr(r),i=s<0?0:s;return Je.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Je.resolve(this.mutationQueue.length===0?vA:this.Fr-1)}getAllMutationBatches(e){return Je.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Xs(n,0),s=new Xs(n,Number.POSITIVE_INFINITY),i=[];return this.Mr.forEachInRange([r,s],o=>{const c=this.Or(o.Cr);i.push(c)}),Je.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new $s(Pn);return n.forEach(s=>{const i=new Xs(s,0),o=new Xs(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([i,o],c=>{r=r.add(c.Cr)})}),Je.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;qt.isDocumentKey(i)||(i=i.child(""));const o=new Xs(new qt(i),0);let c=new $s(Pn);return this.Mr.forEachWhile(u=>{const h=u.key.path;return!!r.isPrefixOf(h)&&(h.length===s&&(c=c.add(u.Cr)),!0)},o),Je.resolve(this.Br(c))}Br(e){const n=[];return e.forEach(r=>{const s=this.Or(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){tr(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return Je.forEach(n.mutations,s=>{const i=new Xs(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new Xs(n,0),s=this.Mr.firstAfterOrEqual(r);return Je.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Je.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mse{constructor(e){this.kr=e,this.docs=function(){return new Zr(qt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Je.resolve(r?r.document.mutableCopy():Pa.newInvalidDocument(n))}getEntries(e,n){let r=Wc();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Pa.newInvalidDocument(s))}),Je.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Wc();const o=n.path,c=new qt(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){const{key:h,value:{document:f}}=u.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||qne(zne(f),r)<=0||(s.has(f.key)||J1(n,f))&&(i=i.insert(f.key,f.mutableCopy()))}return Je.resolve(i)}getAllFromCollectionGroup(e,n,r,s){tn()}qr(e,n){return Je.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new pse(this)}getSize(e){return Je.resolve(this.size)}}class pse extends ose{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(r)}),Je.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gse{constructor(e){this.persistence=e,this.Qr=new Uh(n=>wA(n),_A),this.lastRemoteSnapshotVersion=an.min(),this.highestTargetId=0,this.$r=0,this.Kr=new TA,this.targetCount=0,this.Ur=Lm.Kn()}forEachTarget(e,n){return this.Qr.forEach((r,s)=>n(s)),Je.resolve()}getLastRemoteSnapshotVersion(e){return Je.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Je.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),Je.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),Je.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new Lm(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,Je.resolve()}updateTargetData(e,n){return this.zn(n),Je.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.br(n.targetId),this.targetCount-=1,Je.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Qr.forEach((o,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Qr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),Je.waitFor(i).next(()=>s)}getTargetCount(e){return Je.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return Je.resolve(r)}addMatchingKeys(e,n,r){return this.Kr.yr(n,r),Je.resolve()}removeMatchingKeys(e,n,r){this.Kr.Sr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),Je.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Kr.br(n),Je.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Kr.vr(n);return Je.resolve(r)}containsKey(e,n){return Je.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new G1(0),this.zr=!1,this.zr=!0,this.jr=new hse,this.referenceDelegate=e(this),this.Hr=new gse(this),this.indexManager=new ese,this.remoteDocumentCache=function(s){return new mse(s)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new Qre(n),this.Yr=new use(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new dse,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new fse(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){bt("MemoryPersistence","Starting transaction:",e);const s=new yse(this.Gr.next());return this.referenceDelegate.Zr(),r(s).next(i=>this.referenceDelegate.Xr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}ei(e,n){return Je.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class yse extends Vne{constructor(e){super(),this.currentSequenceNumber=e}}class AA{constructor(e){this.persistence=e,this.ti=new TA,this.ni=null}static ri(e){return new AA(e)}get ii(){if(this.ni)return this.ni;throw tn()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),Je.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),Je.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),Je.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(s=>this.ii.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.ii.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Je.forEach(this.ii,r=>{const s=qt.fromPath(r);return this.si(e,s).next(i=>{i||n.removeEntry(s,an.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return Je.or([()=>Je.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class kb{constructor(e,n){this.persistence=e,this.oi=new Uh(r=>Wne(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=ise(this,n)}static ri(e,n){return new kb(e,n)}Zr(){}Xr(e){return Je.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return Je.forEach(this.oi,(r,s)=>this.ar(e,r,s).next(i=>i?Je.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.qr(e,o=>this.ar(e,o,n).next(c=>{c||(r++,i.removeEntry(o,an.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),Je.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),Je.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),Je.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),Je.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=eb(e.data.value)),n}ar(e,n,r){return Je.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.oi.get(n);return Je.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=s}static Yi(e,n){let r=kn(),s=kn();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new LA(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vse{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xse{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return hte()?8:Hne(Ua())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.rs(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ss(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new vse;return this._s(e,n,o).next(c=>{if(i.result=c,this.Xi)return this.us(e,n,o,c.size)})}).next(()=>i.result)}us(e,n,r,s){return r.documentReadCount<this.es?(zf()<=Rn.DEBUG&&bt("QueryEngine","SDK will not create cache indexes for query:",qf(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Je.resolve()):(zf()<=Rn.DEBUG&&bt("QueryEngine","Query:",qf(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ts*s?(zf()<=Rn.DEBUG&&bt("QueryEngine","The SDK decides to create cache indexes for query:",qf(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zl(n))):Je.resolve())}rs(e,n){if(vI(n))return Je.resolve(null);let r=zl(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=WC(n,null,"F"),r=zl(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=kn(...i);return this.ns.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{const h=this.cs(n,c);return this.ls(n,h,o,u.readTime)?this.rs(e,WC(n,null,"F")):this.hs(e,h,n,u)}))})))}ss(e,n,r,s){return vI(n)||s.isEqual(an.min())?Je.resolve(null):this.ns.getDocuments(e,r).next(i=>{const o=this.cs(n,i);return this.ls(n,o,r,s)?Je.resolve(null):(zf()<=Rn.DEBUG&&bt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),qf(n)),this.hs(e,o,n,Une(s,L0)).next(c=>c))})}cs(e,n){let r=new $s(Q9(e));return n.forEach((s,i)=>{J1(e,i)&&(r=r.add(i))}),r}ls(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}_s(e,n,r){return zf()<=Rn.DEBUG&&bt("QueryEngine","Using full collection scan to execute query:",qf(n)),this.ns.getDocumentsMatchingQuery(e,n,cd.min(),r)}hs(e,n,r,s){return this.ns.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA="LocalStore",bse=3e8;class wse{constructor(e,n,r,s){this.persistence=e,this.Ps=n,this.serializer=s,this.Ts=new Zr(Pn),this.Is=new Uh(i=>wA(i),_A),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cse(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function _se(t,e,n,r){return new wse(t,e,n,r)}async function wU(t,e){const n=un(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],c=[];let u=kn();for(const h of s){o.push(h.batchId);for(const f of h.mutations)u=u.add(f.key)}for(const h of i){c.push(h.batchId);for(const f of h.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(h=>({Rs:h,removedBatchIds:o,addedBatchIds:c}))})})}function Ese(t,e){const n=un(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.ds.newChangeBuffer({trackRemovals:!0});return function(c,u,h,f){const g=h.batch,p=g.keys();let y=Je.resolve();return p.forEach(w=>{y=y.next(()=>f.getEntry(u,w)).next(E=>{const j=h.docVersions.get(w);tr(j!==null),E.version.compareTo(j)<0&&(g.applyToRemoteDocument(E,h),E.isValidDocument()&&(E.setReadTime(h.commitVersion),f.addEntry(E)))})}),y.next(()=>c.mutationQueue.removeMutationBatch(u,g))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=kn();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(u=u.add(c.batch.mutations[h].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function _U(t){const e=un(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function jse(t,e){const n=un(t),r=e.snapshotVersion;let s=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.ds.newChangeBuffer({trackRemovals:!0});s=n.Ts;const c=[];e.targetChanges.forEach((f,g)=>{const p=s.get(g);if(!p)return;c.push(n.Hr.removeMatchingKeys(i,f.removedDocuments,g).next(()=>n.Hr.addMatchingKeys(i,f.addedDocuments,g)));let y=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(g)!==null?y=y.withResumeToken(Ea.EMPTY_BYTE_STRING,an.min()).withLastLimboFreeSnapshotVersion(an.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,r)),s=s.insert(g,y),function(E,j,C){return E.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=bse?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(p,y,f)&&c.push(n.Hr.updateTargetData(i,y))});let u=Wc(),h=kn();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(i,f))}),c.push(Sse(i,o,e.documentUpdates).next(f=>{u=f.Vs,h=f.fs})),!r.isEqual(an.min())){const f=n.Hr.getLastRemoteSnapshotVersion(i).next(g=>n.Hr.setTargetsMetadata(i,i.currentSequenceNumber,r));c.push(f)}return Je.waitFor(c).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,h)).next(()=>u)}).then(i=>(n.Ts=s,i))}function Sse(t,e,n){let r=kn(),s=kn();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Wc();return n.forEach((c,u)=>{const h=i.get(c);u.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(c)),u.isNoDocument()&&u.version.isEqual(an.min())?(e.removeEntry(c,u.readTime),o=o.insert(c,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),o=o.insert(c,u)):bt(RA,"Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",u.version)}),{Vs:o,fs:s}})}function Cse(t,e){const n=un(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=vA),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Nse(t,e){const n=un(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Hr.getTargetData(r,e).next(i=>i?(s=i,Je.resolve(s)):n.Hr.allocateTargetId(r).next(o=>(s=new Hu(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ts.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function QC(t,e,n){const r=un(t),s=r.Ts.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Xm(o))throw o;bt(RA,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ts=r.Ts.remove(e),r.Is.delete(s.target)}function RI(t,e,n){const r=un(t);let s=an.min(),i=kn();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,h,f){const g=un(u),p=g.Is.get(f);return p!==void 0?Je.resolve(g.Ts.get(p)):g.Hr.getTargetData(h,f)}(r,o,zl(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(o,c.targetId).next(u=>{i=u})}).next(()=>r.Ps.getDocumentsMatchingQuery(o,e,n?s:an.min(),n?i:kn())).next(c=>(Tse(r,fre(e),c),{documents:c,gs:i})))}function Tse(t,e,n){let r=t.Es.get(e)||an.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Es.set(e,r)}class kI{constructor(){this.activeTargetIds=xre()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ase{constructor(){this.ho=new kI,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new kI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lse{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI="ConnectivityMonitor";class II{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){bt(OI,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){bt(OI,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fx=null;function ZC(){return fx===null?fx=function(){return 268435456+Math.round(2147483648*Math.random())}():fx++,"0x"+fx.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="RestConnection",Rse={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kse{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${s}`,this.wo=this.databaseId.database===Sb?`project_id=${r}`:`project_id=${r}&database_id=${s}`}So(e,n,r,s,i){const o=ZC(),c=this.bo(e,n.toUriEncodedString());bt(fE,`Sending RPC '${e}' ${o}:`,c,r);const u={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(u,s,i),this.vo(e,c,u,r).then(h=>(bt(fE,`Received RPC '${e}' ${o}: `,h),h),h=>{throw Cm(fE,`RPC '${e}' ${o} failed with error: `,h,"url: ",c,"request:",r),h})}Co(e,n,r,s,i,o){return this.So(e,n,r,s,i)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Km}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}bo(e,n){const r=Rse[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ose{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka="WebChannelConnection";class Ise extends kse{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,s){const i=ZC();return new Promise((o,c)=>{const u=new N9;u.setWithCredentials(!0),u.listenOnce(T9.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Zx.NO_ERROR:const f=u.getResponseJson();bt(ka,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(f)),o(f);break;case Zx.TIMEOUT:bt(ka,`RPC '${e}' ${i} timed out`),c(new Ot(it.DEADLINE_EXCEEDED,"Request time out"));break;case Zx.HTTP_ERROR:const g=u.getStatus();if(bt(ka,`RPC '${e}' ${i} failed with status:`,g,"response text:",u.getResponseText()),g>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const y=p==null?void 0:p.error;if(y&&y.status&&y.message){const w=function(j){const C=j.toLowerCase().replace(/_/g,"-");return Object.values(it).indexOf(C)>=0?C:it.UNKNOWN}(y.status);c(new Ot(w,y.message))}else c(new Ot(it.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new Ot(it.UNAVAILABLE,"Connection failed."));break;default:tn()}}finally{bt(ka,`RPC '${e}' ${i} completed.`)}});const h=JSON.stringify(s);bt(ka,`RPC '${e}' ${i} sending request:`,s),u.send(n,"POST",h,r,15)})}Wo(e,n,r){const s=ZC(),i=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=R9(),c=L9(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Do(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=i.join("");bt(ka,`Creating RPC '${e}' stream ${s}: ${f}`,u);const g=o.createWebChannel(f,u);let p=!1,y=!1;const w=new Ose({Fo:j=>{y?bt(ka,`Not sending because RPC '${e}' stream ${s} is closed:`,j):(p||(bt(ka,`Opening RPC '${e}' stream ${s} transport.`),g.open(),p=!0),bt(ka,`RPC '${e}' stream ${s} sending:`,j),g.send(j))},Mo:()=>g.close()}),E=(j,C,O)=>{j.listen(C,I=>{try{O(I)}catch(D){setTimeout(()=>{throw D},0)}})};return E(g,Dg.EventType.OPEN,()=>{y||(bt(ka,`RPC '${e}' stream ${s} transport opened.`),w.Qo())}),E(g,Dg.EventType.CLOSE,()=>{y||(y=!0,bt(ka,`RPC '${e}' stream ${s} transport closed`),w.Ko())}),E(g,Dg.EventType.ERROR,j=>{y||(y=!0,Cm(ka,`RPC '${e}' stream ${s} transport errored:`,j),w.Ko(new Ot(it.UNAVAILABLE,"The operation could not be completed")))}),E(g,Dg.EventType.MESSAGE,j=>{var C;if(!y){const O=j.data[0];tr(!!O);const I=O,D=(I==null?void 0:I.error)||((C=I[0])===null||C===void 0?void 0:C.error);if(D){bt(ka,`RPC '${e}' stream ${s} received error:`,D);const T=D.status;let F=function(b){const A=Ts[b];if(A!==void 0)return cU(A)}(T),_=D.message;F===void 0&&(F=it.INTERNAL,_="Unknown error status: "+T+" with message "+D.message),y=!0,w.Ko(new Ot(F,_)),g.close()}else bt(ka,`RPC '${e}' stream ${s} received:`,O),w.Uo(O)}}),E(c,A9.STAT_EVENT,j=>{j.stat===qC.PROXY?bt(ka,`RPC '${e}' stream ${s} detected buffering proxy`):j.stat===qC.NOPROXY&&bt(ka,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{w.$o()},0),w}}function mE(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(t){return new Fre(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=s,this.jo=i,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),s=Math.max(0,n-r);s>0&&bt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI="PersistentStream";class jU{constructor(e,n,r,s,i,o,c,u){this.Ti=e,this.n_=r,this.r_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new EU(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===it.RESOURCE_EXHAUSTED?(Gc(n.toString()),Gc("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===it.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.i_===n&&this.V_(r,s)},r=>{e(()=>{const s=new Ot(it.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(s)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{r(()=>this.m_(s))}),this.stream.onMessage(s=>{r(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return bt(PI,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(bt(PI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Pse extends jU{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=zre(this.serializer,e),r=function(i){if(!("targetChange"in i))return an.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?an.min():o.readTime?ql(o.readTime):an.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=JC(this.serializer),n.addTarget=function(i,o){let c;const u=o.target;if(c=GC(u)?{documents:Vre(i,u)}:{query:Hre(i,u).ht},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=hU(i,o.resumeToken);const h=KC(i,o.expectedCount);h!==null&&(c.expectedCount=h)}else if(o.snapshotVersion.compareTo(an.min())>0){c.readTime=Rb(i,o.snapshotVersion.toTimestamp());const h=KC(i,o.expectedCount);h!==null&&(c.expectedCount=h)}return c}(this.serializer,e);const r=Wre(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=JC(this.serializer),n.removeTarget=e,this.I_(n)}}class Dse extends jU{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return tr(!!e.streamToken),this.lastStreamToken=e.streamToken,tr(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){tr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=$re(e.writeResults,e.commitTime),r=ql(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=JC(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>qre(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mse{}class Fse extends Mse{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new Ot(it.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.So(e,YC(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ot(it.UNKNOWN,i.toString())})}Co(e,n,r,s,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Co(e,YC(n,r),s,o,c,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ot(it.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class Bse{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Gc(n),this.N_=!1):bt("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh="RemoteStore";class Use{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=i,this.z_.To(o=>{r.enqueueAndForget(async()=>{zh(this)&&(bt(vh,"Restarting streams for network reachability change."),await async function(u){const h=un(u);h.W_.add(4),await jy(h),h.j_.set("Unknown"),h.W_.delete(4),await nw(h)}(this))})}),this.j_=new Bse(r,s)}}async function nw(t){if(zh(t))for(const e of t.G_)await e(!0)}async function jy(t){for(const e of t.G_)await e(!1)}function SU(t,e){const n=un(t);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),PA(n)?IA(n):Jm(n).c_()&&OA(n,e))}function kA(t,e){const n=un(t),r=Jm(n);n.U_.delete(e),r.c_()&&CU(n,e),n.U_.size===0&&(r.c_()?r.P_():zh(n)&&n.j_.set("Unknown"))}function OA(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(an.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Jm(t).y_(e)}function CU(t,e){t.H_.Ne(e),Jm(t).w_(e)}function IA(t){t.H_=new Ire({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.U_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Jm(t).start(),t.j_.B_()}function PA(t){return zh(t)&&!Jm(t).u_()&&t.U_.size>0}function zh(t){return un(t).W_.size===0}function NU(t){t.H_=void 0}async function zse(t){t.j_.set("Online")}async function qse(t){t.U_.forEach((e,n)=>{OA(t,e)})}async function $se(t,e){NU(t),PA(t)?(t.j_.q_(e),IA(t)):t.j_.set("Unknown")}async function Vse(t,e,n){if(t.j_.set("Online"),e instanceof dU&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const c of i.targetIds)s.U_.has(c)&&(await s.remoteSyncer.rejectListen(c,o),s.U_.delete(c),s.H_.removeTarget(c))}(t,e)}catch(r){bt(vh,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ob(t,r)}else if(e instanceof rb?t.H_.We(e):e instanceof uU?t.H_.Ze(e):t.H_.je(e),!n.isEqual(an.min()))try{const r=await _U(t.localStore);n.compareTo(r)>=0&&await function(i,o){const c=i.H_.ot(o);return c.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const f=i.U_.get(h);f&&i.U_.set(h,f.withResumeToken(u.resumeToken,o))}}),c.targetMismatches.forEach((u,h)=>{const f=i.U_.get(u);if(!f)return;i.U_.set(u,f.withResumeToken(Ea.EMPTY_BYTE_STRING,f.snapshotVersion)),CU(i,u);const g=new Hu(f.target,u,h,f.sequenceNumber);OA(i,g)}),i.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){bt(vh,"Failed to raise snapshot:",r),await Ob(t,r)}}async function Ob(t,e,n){if(!Xm(e))throw e;t.W_.add(1),await jy(t),t.j_.set("Offline"),n||(n=()=>_U(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{bt(vh,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await nw(t)})}function TU(t,e){return e().catch(n=>Ob(t,n,e))}async function rw(t){const e=un(t),n=fd(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:vA;for(;Hse(e);)try{const s=await Cse(e.localStore,r);if(s===null){e.K_.length===0&&n.P_();break}r=s.batchId,Gse(e,s)}catch(s){await Ob(e,s)}AU(e)&&LU(e)}function Hse(t){return zh(t)&&t.K_.length<10}function Gse(t,e){t.K_.push(e);const n=fd(t);n.c_()&&n.S_&&n.b_(e.mutations)}function AU(t){return zh(t)&&!fd(t).u_()&&t.K_.length>0}function LU(t){fd(t).start()}async function Wse(t){fd(t).C_()}async function Kse(t){const e=fd(t);for(const n of t.K_)e.b_(n.mutations)}async function Yse(t,e,n){const r=t.K_.shift(),s=SA.from(r,e,n);await TU(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await rw(t)}async function Xse(t,e){e&&fd(t).S_&&await async function(r,s){if(function(o){return Rre(o)&&o!==it.ABORTED}(s.code)){const i=r.K_.shift();fd(r).h_(),await TU(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await rw(r)}}(t,e),AU(t)&&LU(t)}async function DI(t,e){const n=un(t);n.asyncQueue.verifyOperationInProgress(),bt(vh,"RemoteStore received new credentials");const r=zh(n);n.W_.add(3),await jy(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await nw(n)}async function Jse(t,e){const n=un(t);e?(n.W_.delete(2),await nw(n)):e||(n.W_.add(2),await jy(n),n.j_.set("Unknown"))}function Jm(t){return t.J_||(t.J_=function(n,r,s){const i=un(n);return i.M_(),new Pse(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{xo:zse.bind(null,t),No:qse.bind(null,t),Lo:$se.bind(null,t),p_:Vse.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),PA(t)?IA(t):t.j_.set("Unknown")):(await t.J_.stop(),NU(t))})),t.J_}function fd(t){return t.Y_||(t.Y_=function(n,r,s){const i=un(n);return i.M_(),new Dse(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:Wse.bind(null,t),Lo:Xse.bind(null,t),D_:Kse.bind(null,t),v_:Yse.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await rw(t)):(await t.Y_.stop(),t.K_.length>0&&(bt(vh,`Stopping write stream with ${t.K_.length} pending writes`),t.K_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new nd,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,c=new DA(e,n,o,s,i);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ot(it.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function MA(t,e){if(Gc("AsyncQueue",`${e}: ${t}`),Xm(t))return new Ot(it.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{static emptySet(e){return new im(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||qt.comparator(n.key,r.key):(n,r)=>qt.comparator(n.key,r.key),this.keyedMap=Mg(),this.sortedSet=new Zr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof im)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new im;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(){this.Z_=new Zr(qt.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):tn():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Rm{constructor(e,n,r,s,i,o,c,u,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(c=>{o.push({type:0,doc:c})}),new Rm(e,n,im.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&X1(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qse{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class Zse{constructor(){this.queries=FI(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const s=un(n),i=s.queries;s.queries=FI(),i.forEach((o,c)=>{for(const u of c.ta)u.onError(r)})})(this,new Ot(it.ABORTED,"Firestore shutting down"))}}function FI(){return new Uh(t=>J9(t),X1)}async function eae(t,e){const n=un(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.na()&&e.ra()&&(r=2):(i=new Qse,r=e.ra()?0:1);try{switch(r){case 0:i.ea=await n.onListen(s,!0);break;case 1:i.ea=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const c=MA(o,`Initialization of query '${qf(e.query)}' failed`);return void e.onError(c)}n.queries.set(s,i),i.ta.push(e),e.sa(n.onlineState),i.ea&&e.oa(i.ea)&&FA(n)}async function tae(t,e){const n=un(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.ta.indexOf(e);o>=0&&(i.ta.splice(o,1),i.ta.length===0?s=e.ra()?0:1:!i.na()&&e.ra()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function nae(t,e){const n=un(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const c of o.ta)c.oa(s)&&(r=!0);o.ea=s}}r&&FA(n)}function rae(t,e,n){const r=un(t),s=r.queries.get(e);if(s)for(const i of s.ta)i.onError(n);r.queries.delete(e)}function FA(t){t.ia.forEach(e=>{e.next()})}var eN,BI;(BI=eN||(eN={}))._a="default",BI.Cache="cache";class sae{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Rm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Rm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==eN.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{constructor(e){this.key=e}}class kU{constructor(e){this.key=e}}class aae{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=kn(),this.mutatedKeys=kn(),this.ya=Q9(e),this.wa=new im(this.ya)}get Sa(){return this.fa}ba(e,n){const r=n?n.Da:new MI,s=n?n.wa:this.wa;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,c=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((f,g)=>{const p=s.get(f),y=J1(this.query,g)?g:null,w=!!p&&this.mutatedKeys.has(p.key),E=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let j=!1;p&&y?p.data.isEqual(y.data)?w!==E&&(r.track({type:3,doc:y}),j=!0):this.va(p,y)||(r.track({type:2,doc:y}),j=!0,(u&&this.ya(y,u)>0||h&&this.ya(y,h)<0)&&(c=!0)):!p&&y?(r.track({type:0,doc:y}),j=!0):p&&!y&&(r.track({type:1,doc:p}),j=!0,(u||h)&&(c=!0)),j&&(y?(o=o.add(y),i=E?i.add(f):i.delete(f)):(o=o.delete(f),i=i.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),i=i.delete(f.key),r.track({type:1,doc:f})}return{wa:o,Da:r,ls:c,mutatedKeys:i}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort((f,g)=>function(y,w){const E=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tn()}};return E(y)-E(w)}(f.type,g.type)||this.ya(f.doc,g.doc)),this.Ca(r),s=s!=null&&s;const c=n&&!s?this.Fa():[],u=this.pa.size===0&&this.current&&!s?1:0,h=u!==this.ga;return this.ga=u,o.length!==0||h?{snapshot:new Rm(this.query,e.wa,i,o,e.mutatedKeys,u===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:c}:{Ma:c}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new MI,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=kn(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new kU(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new RU(r))}),n}Oa(e){this.fa=e.gs,this.pa=kn();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return Rm.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const BA="SyncEngine";class iae{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class oae{constructor(e){this.key=e,this.Ba=!1}}class lae{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new Uh(c=>J9(c),X1),this.qa=new Map,this.Qa=new Set,this.$a=new Zr(qt.comparator),this.Ka=new Map,this.Ua=new TA,this.Wa={},this.Ga=new Map,this.za=Lm.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function cae(t,e,n=!0){const r=FU(t);let s;const i=r.ka.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Na()):s=await OU(r,e,n,!0),s}async function uae(t,e){const n=FU(t);await OU(n,e,!0,!1)}async function OU(t,e,n,r){const s=await Nse(t.localStore,zl(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let c;return r&&(c=await dae(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&SU(t.remoteStore,s),c}async function dae(t,e,n,r,s){t.Ha=(g,p,y)=>async function(E,j,C,O){let I=j.view.ba(C);I.ls&&(I=await RI(E.localStore,j.query,!1).then(({documents:_})=>j.view.ba(_,I)));const D=O&&O.targetChanges.get(j.targetId),T=O&&O.targetMismatches.get(j.targetId)!=null,F=j.view.applyChanges(I,E.isPrimaryClient,D,T);return zI(E,j.targetId,F.Ma),F.snapshot}(t,g,p,y);const i=await RI(t.localStore,e,!0),o=new aae(e,i.gs),c=o.ba(i.documents),u=Ey.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),h=o.applyChanges(c,t.isPrimaryClient,u);zI(t,n,h.Ma);const f=new iae(e,n,o);return t.ka.set(e,f),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),h.snapshot}async function hae(t,e,n){const r=un(t),s=r.ka.get(e),i=r.qa.get(s.targetId);if(i.length>1)return r.qa.set(s.targetId,i.filter(o=>!X1(o,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await QC(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&kA(r.remoteStore,s.targetId),tN(r,s.targetId)}).catch(Ym)):(tN(r,s.targetId),await QC(r.localStore,s.targetId,!0))}async function fae(t,e){const n=un(t),r=n.ka.get(e),s=n.qa.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),kA(n.remoteStore,r.targetId))}async function mae(t,e,n){const r=wae(t);try{const s=await function(o,c){const u=un(o),h=qs.now(),f=c.reduce((y,w)=>y.add(w.key),kn());let g,p;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let w=Wc(),E=kn();return u.ds.getEntries(y,f).next(j=>{w=j,w.forEach((C,O)=>{O.isValidDocument()||(E=E.add(C))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,w)).next(j=>{g=j;const C=[];for(const O of c){const I=Cre(O,g.get(O.key).overlayedDocument);I!=null&&C.push(new jd(O.key,I,$9(I.value.mapValue),al.exists(!0)))}return u.mutationQueue.addMutationBatch(y,h,C,c)}).next(j=>{p=j;const C=j.applyToLocalDocumentSet(g,E);return u.documentOverlayCache.saveOverlays(y,j.batchId,C)})}).then(()=>({batchId:p.batchId,changes:eU(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,c,u){let h=o.Wa[o.currentUser.toKey()];h||(h=new Zr(Pn)),h=h.insert(c,u),o.Wa[o.currentUser.toKey()]=h}(r,s.batchId,n),await Sy(r,s.changes),await rw(r.remoteStore)}catch(s){const i=MA(s,"Failed to persist write");n.reject(i)}}async function IU(t,e){const n=un(t);try{const r=await jse(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Ka.get(i);o&&(tr(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Ba=!0:s.modifiedDocuments.size>0?tr(o.Ba):s.removedDocuments.size>0&&(tr(o.Ba),o.Ba=!1))}),await Sy(n,r,e)}catch(r){await Ym(r)}}function UI(t,e,n){const r=un(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ka.forEach((i,o)=>{const c=o.view.sa(e);c.snapshot&&s.push(c.snapshot)}),function(o,c){const u=un(o);u.onlineState=c;let h=!1;u.queries.forEach((f,g)=>{for(const p of g.ta)p.sa(c)&&(h=!0)}),h&&FA(u)}(r.eventManager,e),s.length&&r.La.p_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function pae(t,e,n){const r=un(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Ka.get(e),i=s&&s.key;if(i){let o=new Zr(qt.comparator);o=o.insert(i,Pa.newNoDocument(i,an.min()));const c=kn().add(i),u=new ew(an.min(),new Map,new Zr(Pn),o,c);await IU(r,u),r.$a=r.$a.remove(i),r.Ka.delete(e),UA(r)}else await QC(r.localStore,e,!1).then(()=>tN(r,e,n)).catch(Ym)}async function gae(t,e){const n=un(t),r=e.batch.batchId;try{const s=await Ese(n.localStore,e);DU(n,r,null),PU(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Sy(n,s)}catch(s){await Ym(s)}}async function yae(t,e,n){const r=un(t);try{const s=await function(o,c){const u=un(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let f;return u.mutationQueue.lookupMutationBatch(h,c).next(g=>(tr(g!==null),f=g.keys(),u.mutationQueue.removeMutationBatch(h,g))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,f,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,f)).next(()=>u.localDocuments.getDocuments(h,f))})}(r.localStore,e);DU(r,e,n),PU(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Sy(r,s)}catch(s){await Ym(s)}}function PU(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function DU(t,e,n){const r=un(t);let s=r.Wa[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Wa[r.currentUser.toKey()]=s}}function tN(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ua.br(e).forEach(r=>{t.Ua.containsKey(r)||MU(t,r)})}function MU(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(kA(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ka.delete(n),UA(t))}function zI(t,e,n){for(const r of n)r instanceof RU?(t.Ua.addReference(r.key,e),vae(t,r)):r instanceof kU?(bt(BA,"Document no longer in limbo: "+r.key),t.Ua.removeReference(r.key,e),t.Ua.containsKey(r.key)||MU(t,r.key)):tn()}function vae(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(bt(BA,"New document in limbo: "+n),t.Qa.add(r),UA(t))}function UA(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new qt(Vr.fromString(e)),r=t.za.next();t.Ka.set(r,new oae(n)),t.$a=t.$a.insert(n,r),SU(t.remoteStore,new Hu(zl(X9(n.path)),r,"TargetPurposeLimboResolution",G1.ae))}}async function Sy(t,e,n){const r=un(t),s=[],i=[],o=[];r.ka.isEmpty()||(r.ka.forEach((c,u)=>{o.push(r.Ha(u,e,n).then(h=>{var f;if((h||n)&&r.isPrimaryClient){const g=h?!h.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(h){s.push(h);const g=LA.Yi(u.targetId,h);i.push(g)}}))}),await Promise.all(o),r.La.p_(s),await async function(u,h){const f=un(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>Je.forEach(h,p=>Je.forEach(p.Hi,y=>f.persistence.referenceDelegate.addReference(g,p.targetId,y)).next(()=>Je.forEach(p.Ji,y=>f.persistence.referenceDelegate.removeReference(g,p.targetId,y)))))}catch(g){if(!Xm(g))throw g;bt(RA,"Failed to update sequence numbers: "+g)}for(const g of h){const p=g.targetId;if(!g.fromCache){const y=f.Ts.get(p),w=y.snapshotVersion,E=y.withLastLimboFreeSnapshotVersion(w);f.Ts=f.Ts.insert(p,E)}}}(r.localStore,i))}async function xae(t,e){const n=un(t);if(!n.currentUser.isEqual(e)){bt(BA,"User change. New user:",e.toKey());const r=await wU(n.localStore,e);n.currentUser=e,function(i,o){i.Ga.forEach(c=>{c.forEach(u=>{u.reject(new Ot(it.CANCELLED,o))})}),i.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Sy(n,r.Rs)}}function bae(t,e){const n=un(t),r=n.Ka.get(e);if(r&&r.Ba)return kn().add(r.key);{let s=kn();const i=n.qa.get(e);if(!i)return s;for(const o of i){const c=n.ka.get(o);s=s.unionWith(c.view.Sa)}return s}}function FU(t){const e=un(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=IU.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bae.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pae.bind(null,e),e.La.p_=nae.bind(null,e.eventManager),e.La.Ja=rae.bind(null,e.eventManager),e}function wae(t){const e=un(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gae.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yae.bind(null,e),e}class Ib{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=tw(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return _se(this.persistence,new xse,e.initialUser,this.serializer)}Xa(e){return new bU(AA.ri,this.serializer)}Za(e){return new Ase}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ib.provider={build:()=>new Ib};class _ae extends Ib{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){tr(this.persistence.referenceDelegate instanceof kb);const r=this.persistence.referenceDelegate.garbageCollector;return new sse(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?pi.withCacheSize(this.cacheSizeBytes):pi.DEFAULT;return new bU(r=>kb.ri(r,n),this.serializer)}}class nN{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>UI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=xae.bind(null,this.syncEngine),await Jse(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Zse}()}createDatastore(e){const n=tw(e.databaseInfo.databaseId),r=function(i){return new Ise(i)}(e.databaseInfo);return function(i,o,c,u){return new Fse(i,o,c,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,c){return new Use(r,s,i,o,c)}(this.localStore,this.datastore,e.asyncQueue,n=>UI(this.syncEngine,n,0),function(){return II.D()?new II:new Lse}())}createSyncEngine(e,n){return function(s,i,o,c,u,h,f){const g=new lae(s,i,o,c,u,h);return f&&(g.ja=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=un(s);bt(vh,"RemoteStore shutting down."),i.W_.add(5),await jy(i),i.z_.shutdown(),i.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}nN.provider={build:()=>new nN};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eae{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Gc("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md="FirestoreClient";class jae{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Ia.UNAUTHENTICATED,this.clientId=O9.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{bt(md,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(bt(md,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new nd;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=MA(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function pE(t,e){t.asyncQueue.verifyOperationInProgress(),bt(md,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await wU(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function qI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Sae(t);bt(md,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>DI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>DI(e.remoteStore,s)),t._onlineComponents=e}async function Sae(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){bt(md,"Using user provided OfflineComponentProvider");try{await pE(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===it.FAILED_PRECONDITION||s.code===it.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Cm("Error using user provided cache. Falling back to memory cache: "+n),await pE(t,new Ib)}}else bt(md,"Using default OfflineComponentProvider"),await pE(t,new _ae(void 0));return t._offlineComponents}async function BU(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(bt(md,"Using user provided OnlineComponentProvider"),await qI(t,t._uninitializedComponentsProvider._online)):(bt(md,"Using default OnlineComponentProvider"),await qI(t,new nN))),t._onlineComponents}function Cae(t){return BU(t).then(e=>e.syncEngine)}async function Nae(t){const e=await BU(t),n=e.eventManager;return n.onListen=cae.bind(null,e.syncEngine),n.onUnlisten=hae.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=uae.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=fae.bind(null,e.syncEngine),n}function Tae(t,e,n={}){const r=new nd;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,c,u,h){const f=new Eae({next:p=>{f.su(),o.enqueueAndForget(()=>tae(i,g)),p.fromCache&&u.source==="server"?h.reject(new Ot(it.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(p)},error:p=>h.reject(p)}),g=new sae(c,f,{includeMetadataChanges:!0,Ta:!0});return eae(i,g)}(await Nae(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UU(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zU(t,e,n){if(!n)throw new Ot(it.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Aae(t,e,n,r){if(e===!0&&r===!0)throw new Ot(it.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function VI(t){if(!qt.isDocumentKey(t))throw new Ot(it.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function HI(t){if(qt.isDocumentKey(t))throw new Ot(it.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function zA(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":tn()}function xh(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ot(it.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=zA(t);throw new Ot(it.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qU="firestore.googleapis.com",GI=!0;class WI{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ot(it.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qU,this.ssl=GI}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:GI;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=xU;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<nse)throw new Ot(it.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Aae("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=UU((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Ot(it.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Ot(it.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Ot(it.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sw{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new WI({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ot(it.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ot(it.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new WI(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new kne;switch(r.type){case"firstParty":return new Dne(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ot(it.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=$I.get(n);r&&(bt("ComponentProvider","Removing Datastore"),$I.delete(n),r.terminate())}(this),Promise.resolve()}}function Lae(t,e,n,r={}){var s;const i=(t=xh(t,sw))._getSettings(),o=`${e}:${n}`;if(i.host!==qU&&i.host!==o&&Cm("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=Ia.MOCK_USER;else{c=g9(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new Ot(it.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ia(h)}t._authCredentials=new One(new k9(c,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new aw(this.firestore,e,this._query)}}class To{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new To(this.firestore,e,this._key)}}class rd extends aw{constructor(e,n,r){super(e,n,X9(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new To(this.firestore,null,new qt(e))}withConverter(e){return new rd(this.firestore,e,this._path)}}function Jt(t,e,...n){if(t=ds(t),zU("collection","path",e),t instanceof sw){const r=Vr.fromString(e,...n);return HI(r),new rd(t,null,r)}{if(!(t instanceof To||t instanceof rd))throw new Ot(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Vr.fromString(e,...n));return HI(r),new rd(t.firestore,null,r)}}function gt(t,e,...n){if(t=ds(t),arguments.length===1&&(e=O9.newId()),zU("doc","path",e),t instanceof sw){const r=Vr.fromString(e,...n);return VI(r),new To(t,null,new qt(r))}{if(!(t instanceof To||t instanceof rd))throw new Ot(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Vr.fromString(e,...n));return VI(r),new To(t.firestore,t instanceof rd?t.converter:null,new qt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI="AsyncQueue";class YI{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new EU(this,"async_queue_retry"),this.Su=()=>{const r=mE();r&&bt(KI,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=mE();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=mE();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new nd;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Xm(e))throw e;bt(KI,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const s=function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),c}(r);throw Gc("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const s=DA.createAndSchedule(this,e,n,r,i=>this.Fu(i));return this.fu.push(s),s}Du(){this.gu&&tn()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class Cy extends sw{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new YI,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new YI(e),this._firestoreClient=void 0,await e}}}function Rae(t,e){const n=typeof t=="object"?t:H1(),r=typeof t=="string"?t:Sb,s=_d(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=f9("firestore");i&&Lae(s,...i)}return s}function $U(t){if(t._terminated)throw new Ot(it.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||kae(t),t._firestoreClient}function kae(t){var e,n,r;const s=t._freezeSettings(),i=function(c,u,h,f){return new Xne(c,u,h,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,UU(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new jae(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(c){const u=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e){this._byteString=e}static fromBase64String(e){try{return new km(Ea.fromBase64String(e))}catch(n){throw new Ot(it.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new km(Ea.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ot(it.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new va(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ot(it.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ot(it.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pn(this._lat,e._lat)||Pn(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oae=/^__.*__$/;class Iae{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new jd(e,this.data,this.fieldMask,n,this.fieldTransforms):new _y(e,this.data,n,this.fieldTransforms)}}class VU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new jd(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function HU(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tn()}}class HA{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Bu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new HA(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ku({path:r,Qu:!1});return s.$u(e),s}Ku(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ku({path:r,Qu:!1});return s.Bu(),s}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Pb(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(HU(this.Lu)&&Oae.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Pae{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||tw(e)}ju(e,n,r,s=!1){return new HA({Lu:e,methodName:n,zu:r,path:va.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function GU(t){const e=t._freezeSettings(),n=tw(t._databaseId);return new Pae(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Dae(t,e,n,r,s,i={}){const o=t.ju(i.merge||i.mergeFields?2:0,e,n,s);GA("Data must be an object, but it was:",o,r);const c=WU(r,o);let u,h;if(i.merge)u=new qi(o.fieldMask),h=o.fieldTransforms;else if(i.mergeFields){const f=[];for(const g of i.mergeFields){const p=rN(e,g,n);if(!o.contains(p))throw new Ot(it.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);YU(f,p)||f.push(p)}u=new qi(f),h=o.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,h=o.fieldTransforms;return new Iae(new gi(c),u,h)}class ow extends qA{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ow}}function Mae(t,e,n,r){const s=t.ju(1,e,n);GA("Data must be an object, but it was:",s,r);const i=[],o=gi.empty();Ed(r,(u,h)=>{const f=WA(e,u,n);h=ds(h);const g=s.Ku(f);if(h instanceof ow)i.push(f);else{const p=lw(h,g);p!=null&&(i.push(f),o.set(f,p))}});const c=new qi(i);return new VU(o,c,s.fieldTransforms)}function Fae(t,e,n,r,s,i){const o=t.ju(1,e,n),c=[rN(e,r,n)],u=[s];if(i.length%2!=0)throw new Ot(it.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)c.push(rN(e,i[p])),u.push(i[p+1]);const h=[],f=gi.empty();for(let p=c.length-1;p>=0;--p)if(!YU(h,c[p])){const y=c[p];let w=u[p];w=ds(w);const E=o.Ku(y);if(w instanceof ow)h.push(y);else{const j=lw(w,E);j!=null&&(h.push(y),f.set(y,j))}}const g=new qi(h);return new VU(f,g,o.fieldTransforms)}function lw(t,e){if(KU(t=ds(t)))return GA("Unsupported field value:",e,t),WU(t,e);if(t instanceof qA)return function(r,s){if(!HU(s.Lu))throw s.Wu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const c of r){let u=lw(c,s.Uu(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=ds(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return bre(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=qs.fromDate(r);return{timestampValue:Rb(s.serializer,i)}}if(r instanceof qs){const i=new qs(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Rb(s.serializer,i)}}if(r instanceof $A)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof km)return{bytesValue:hU(s.serializer,r._byteString)};if(r instanceof To){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:NA(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof VA)return function(o,c){return{mapValue:{fields:{[z9]:{stringValue:q9},[Cb]:{arrayValue:{values:o.toArray().map(h=>{if(typeof h!="number")throw c.Wu("VectorValues must only contain numeric values.");return EA(c.serializer,h)})}}}}}}(r,s);throw s.Wu(`Unsupported field value: ${zA(r)}`)}(t,e)}function WU(t,e){const n={};return P9(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ed(t,(r,s)=>{const i=lw(s,e.qu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function KU(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof qs||t instanceof $A||t instanceof km||t instanceof To||t instanceof qA||t instanceof VA)}function GA(t,e,n){if(!KU(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=zA(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function rN(t,e,n){if((e=ds(e))instanceof iw)return e._internalPath;if(typeof e=="string")return WA(t,e);throw Pb("Field path arguments must be of type string or ",t,!1,void 0,n)}const Bae=new RegExp("[~\\*/\\[\\]]");function WA(t,e,n){if(e.search(Bae)>=0)throw Pb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new iw(...e.split("."))._internalPath}catch{throw Pb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Pb(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${r}`),o&&(u+=` in document ${s}`),u+=")"),new Ot(it.INVALID_ARGUMENT,c+t+u)}function YU(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XU{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new To(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Uae(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(JU("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Uae extends XU{data(){return super.data()}}function JU(t,e){return typeof e=="string"?WA(t,e):e instanceof iw?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zae(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ot(it.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qae{convertValue(e,n="none"){switch(hd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xs(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(dd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw tn()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ed(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[Cb].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>xs(o.doubleValue));return new VA(i)}convertGeoPoint(e){return new $A(xs(e.latitude),xs(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=K1(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(R0(e));default:return null}}convertTimestamp(e){const n=ud(e);return new qs(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Vr.fromString(e);tr(vU(r));const s=new k0(r.get(1),r.get(3)),i=new qt(r.popFirst(5));return s.isEqual(n)||Gc(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $ae(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Vae extends XU{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new sb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(JU("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class sb extends Vae{data(e={}){return super.data(e)}}class Hae{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new mx(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new sb(this._firestore,this._userDataWriter,r.key,r,new mx(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ot(it.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(c=>{const u=new sb(s._firestore,s._userDataWriter,c.doc.key,c.doc,new mx(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>i||c.type!==3).map(c=>{const u=new sb(s._firestore,s._userDataWriter,c.doc.key,c.doc,new mx(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,f=-1;return c.type!==0&&(h=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),f=o.indexOf(c.doc.key)),{type:Gae(c.type),doc:u,oldIndex:h,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Gae(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tn()}}class Wae extends qae{constructor(e){super(),this.firestore=e}convertBytes(e){return new km(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new To(this.firestore,null,n)}}function Rr(t){t=xh(t,aw);const e=xh(t.firestore,Cy),n=$U(e),r=new Wae(e);return zae(t._query),Tae(n,t._query).then(s=>new Hae(e,r,t,s))}function rn(t,e,n,...r){t=xh(t,To);const s=xh(t.firestore,Cy),i=GU(s);let o;return o=typeof(e=ds(e))=="string"||e instanceof iw?Fae(i,"updateDoc",t._key,e,n,r):Mae(i,"updateDoc",t._key,e),KA(s,[o.toMutation(t._key,al.exists(!0))])}function kr(t){return KA(xh(t.firestore,Cy),[new jA(t._key,al.none())])}function Or(t,e){const n=xh(t.firestore,Cy),r=gt(t),s=$ae(t.converter,e);return KA(n,[Dae(GU(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,al.exists(!1))]).then(()=>r)}function KA(t,e){return function(r,s){const i=new nd;return r.asyncQueue.enqueueAndForget(async()=>mae(await Cae(r),s,i)),i.promise}($U(t),e)}(function(e,n=!0){(function(s){Km=s})(Bh),ll(new ko("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),c=new Cy(new Ine(r.getProvider("auth-internal")),new Mne(o,r.getProvider("app-check-internal")),function(h,f){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Ot(it.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new k0(h.options.projectId,f)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),xi(nI,rI,e),xi(nI,rI,"esm2017")})();var Kae="firebase",Yae="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xi(Kae,Yae,"app");const QU="@firebase/installations",YA="0.6.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZU=1e4,ez=`w:${YA}`,tz="FIS_v2",Xae="https://firebaseinstallations.googleapis.com/v1",Jae=60*60*1e3,Qae="installations",Zae="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eie={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},bh=new Fh(Qae,Zae,eie);function nz(t){return t instanceof Po&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rz({projectId:t}){return`${Xae}/projects/${t}/installations`}function sz(t){return{token:t.token,requestStatus:2,expiresIn:nie(t.expiresIn),creationTime:Date.now()}}async function az(t,e){const r=(await e.json()).error;return bh.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function iz({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function tie(t,{refreshToken:e}){const n=iz(t);return n.append("Authorization",rie(e)),n}async function oz(t){const e=await t();return e.status>=500&&e.status<600?t():e}function nie(t){return Number(t.replace("s","000"))}function rie(t){return`${tz} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sie({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=rz(t),s=iz(t),i=e.getImmediate({optional:!0});if(i){const h=await i.getHeartbeatsHeader();h&&s.append("x-firebase-client",h)}const o={fid:n,authVersion:tz,appId:t.appId,sdkVersion:ez},c={method:"POST",headers:s,body:JSON.stringify(o)},u=await oz(()=>fetch(r,c));if(u.ok){const h=await u.json();return{fid:h.fid||n,registrationStatus:2,refreshToken:h.refreshToken,authToken:sz(h.authToken)}}else throw await az("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lz(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aie(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iie=/^[cdef][\w-]{21}$/,sN="";function oie(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=lie(t);return iie.test(n)?n:sN}catch{return sN}}function lie(t){return aie(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cz=new Map;function uz(t,e){const n=cw(t);dz(n,e),cie(n,e)}function dz(t,e){const n=cz.get(t);if(n)for(const r of n)r(e)}function cie(t,e){const n=uie();n&&n.postMessage({key:t,fid:e}),die()}let oh=null;function uie(){return!oh&&"BroadcastChannel"in self&&(oh=new BroadcastChannel("[Firebase] FID Change"),oh.onmessage=t=>{dz(t.data.key,t.data.fid)}),oh}function die(){cz.size===0&&oh&&(oh.close(),oh=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hie="firebase-installations-database",fie=1,wh="firebase-installations-store";let gE=null;function XA(){return gE||(gE=_9(hie,fie,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(wh)}}})),gE}async function Db(t,e){const n=cw(t),s=(await XA()).transaction(wh,"readwrite"),i=s.objectStore(wh),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&uz(t,e.fid),e}async function hz(t){const e=cw(t),r=(await XA()).transaction(wh,"readwrite");await r.objectStore(wh).delete(e),await r.done}async function uw(t,e){const n=cw(t),s=(await XA()).transaction(wh,"readwrite"),i=s.objectStore(wh),o=await i.get(n),c=e(o);return c===void 0?await i.delete(n):await i.put(c,n),await s.done,c&&(!o||o.fid!==c.fid)&&uz(t,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JA(t){let e;const n=await uw(t.appConfig,r=>{const s=mie(r),i=pie(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===sN?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function mie(t){const e=t||{fid:oie(),registrationStatus:0};return fz(e)}function pie(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(bh.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=gie(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:yie(t)}:{installationEntry:e}}async function gie(t,e){try{const n=await sie(t,e);return Db(t.appConfig,n)}catch(n){throw nz(n)&&n.customData.serverCode===409?await hz(t.appConfig):await Db(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function yie(t){let e=await XI(t.appConfig);for(;e.registrationStatus===1;)await lz(100),e=await XI(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await JA(t);return r||n}return e}function XI(t){return uw(t,e=>{if(!e)throw bh.create("installation-not-found");return fz(e)})}function fz(t){return vie(t)?{fid:t.fid,registrationStatus:0}:t}function vie(t){return t.registrationStatus===1&&t.registrationTime+ZU<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xie({appConfig:t,heartbeatServiceProvider:e},n){const r=bie(t,n),s=tie(t,n),i=e.getImmediate({optional:!0});if(i){const h=await i.getHeartbeatsHeader();h&&s.append("x-firebase-client",h)}const o={installation:{sdkVersion:ez,appId:t.appId}},c={method:"POST",headers:s,body:JSON.stringify(o)},u=await oz(()=>fetch(r,c));if(u.ok){const h=await u.json();return sz(h)}else throw await az("Generate Auth Token",u)}function bie(t,{fid:e}){return`${rz(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QA(t,e=!1){let n;const r=await uw(t.appConfig,i=>{if(!mz(i))throw bh.create("not-registered");const o=i.authToken;if(!e&&Eie(o))return i;if(o.requestStatus===1)return n=wie(t,e),i;{if(!navigator.onLine)throw bh.create("app-offline");const c=Sie(i);return n=_ie(t,c),c}});return n?await n:r.authToken}async function wie(t,e){let n=await JI(t.appConfig);for(;n.authToken.requestStatus===1;)await lz(100),n=await JI(t.appConfig);const r=n.authToken;return r.requestStatus===0?QA(t,e):r}function JI(t){return uw(t,e=>{if(!mz(e))throw bh.create("not-registered");const n=e.authToken;return Cie(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function _ie(t,e){try{const n=await xie(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Db(t.appConfig,r),n}catch(n){if(nz(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await hz(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Db(t.appConfig,r)}throw n}}function mz(t){return t!==void 0&&t.registrationStatus===2}function Eie(t){return t.requestStatus===2&&!jie(t)}function jie(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Jae}function Sie(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function Cie(t){return t.requestStatus===1&&t.requestTime+ZU<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nie(t){const e=t,{installationEntry:n,registrationPromise:r}=await JA(e);return r?r.catch(console.error):QA(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tie(t,e=!1){const n=t;return await Aie(n),(await QA(n,e)).token}async function Aie(t){const{registrationPromise:e}=await JA(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lie(t){if(!t||!t.options)throw yE("App Configuration");if(!t.name)throw yE("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw yE(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function yE(t){return bh.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pz="installations",Rie="installations-internal",kie=t=>{const e=t.getProvider("app").getImmediate(),n=Lie(e),r=_d(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Oie=t=>{const e=t.getProvider("app").getImmediate(),n=_d(e,pz).getImmediate();return{getId:()=>Nie(n),getToken:s=>Tie(n,s)}};function Iie(){ll(new ko(pz,kie,"PUBLIC")),ll(new ko(Rie,Oie,"PRIVATE"))}Iie();xi(QU,YA);xi(QU,YA,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb="analytics",Pie="firebase_id",Die="origin",Mie=60*1e3,Fie="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ZA="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi=new V1("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bie={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Gi=new Fh("analytics","Analytics",Bie);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uie(t){if(!t.startsWith(ZA)){const e=Gi.create("invalid-gtag-resource",{gtagURL:t});return bi.warn(e.message),""}return t}function gz(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function zie(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function qie(t,e){const n=zie("firebase-js-sdk-policy",{createScriptURL:Uie}),r=document.createElement("script"),s=`${ZA}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function $ie(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Vie(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const u=(await gz(n)).find(h=>h.measurementId===s);u&&await e[u.appId]}}catch(c){bi.error(c)}t("config",s,i)}async function Hie(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const c=await gz(n);for(const u of o){const h=c.find(g=>g.measurementId===u),f=h&&e[h.appId];if(f)i.push(f);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){bi.error(i)}}function Gie(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[c,u]=o;await Hie(t,e,n,c,u)}else if(i==="config"){const[c,u]=o;await Vie(t,e,n,r,c,u)}else if(i==="consent"){const[c,u]=o;t("consent",c,u)}else if(i==="get"){const[c,u,h]=o;t("get",c,u,h)}else if(i==="set"){const[c]=o;t("set",c)}else t(i,...o)}catch(c){bi.error(c)}}return s}function Wie(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=Gie(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function Kie(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(ZA)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yie=30,Xie=1e3;class Jie{constructor(e={},n=Xie){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const yz=new Jie;function Qie(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Zie(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:Qie(r)},i=Fie.replace("{app-id}",n),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let c="";try{const u=await o.json();!((e=u.error)===null||e===void 0)&&e.message&&(c=u.error.message)}catch{}throw Gi.create("config-fetch-failed",{httpStatus:o.status,responseMessage:c})}return o.json()}async function eoe(t,e=yz,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw Gi.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw Gi.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new roe;return setTimeout(async()=>{c.abort()},Mie),vz({appId:r,apiKey:s,measurementId:i},o,c,e)}async function vz(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=yz){var i;const{appId:o,measurementId:c}=t;try{await toe(r,e)}catch(u){if(c)return bi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:c};throw u}try{const u=await Zie(t);return s.deleteThrottleMetadata(o),u}catch(u){const h=u;if(!noe(h)){if(s.deleteThrottleMetadata(o),c)return bi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:o,measurementId:c};throw u}const f=Number((i=h==null?void 0:h.customData)===null||i===void 0?void 0:i.httpStatus)===503?GO(n,s.intervalMillis,Yie):GO(n,s.intervalMillis),g={throttleEndTimeMillis:Date.now()+f,backoffCount:n+1};return s.setThrottleMetadata(o,g),bi.debug(`Calling attemptFetch again in ${f} millis`),vz(t,g,r,s)}}function toe(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(Gi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function noe(t){if(!(t instanceof Po)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class roe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function soe(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o=Object.assign(Object.assign({},r),{send_to:i});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aoe(){if(v9())try{await x9()}catch(t){return bi.warn(Gi.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return bi.warn(Gi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function ioe(t,e,n,r,s,i,o){var c;const u=eoe(t);u.then(y=>{n[y.measurementId]=y.appId,t.options.measurementId&&y.measurementId!==t.options.measurementId&&bi.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${y.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(y=>bi.error(y)),e.push(u);const h=aoe().then(y=>{if(y)return r.getId()}),[f,g]=await Promise.all([u,h]);Kie(i)||qie(i,f.measurementId),s("js",new Date);const p=(c=o==null?void 0:o.config)!==null&&c!==void 0?c:{};return p[Die]="firebase",p.update=!0,g!=null&&(p[Pie]=g),s("config",f.measurementId,p),f.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ooe{constructor(e){this.app=e}_delete(){return delete e0[this.app.options.appId],Promise.resolve()}}let e0={},QI=[];const ZI={};let vE="dataLayer",loe="gtag",eP,xz,tP=!1;function coe(){const t=[];if(y9()&&t.push("This is a browser extension environment."),fte()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=Gi.create("invalid-analytics-context",{errorInfo:e});bi.warn(n.message)}}function uoe(t,e,n){coe();const r=t.options.appId;if(!r)throw Gi.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)bi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Gi.create("no-api-key");if(e0[r]!=null)throw Gi.create("already-exists",{id:r});if(!tP){$ie(vE);const{wrappedGtag:i,gtagCore:o}=Wie(e0,QI,ZI,vE,loe);xz=i,eP=o,tP=!0}return e0[r]=ioe(t,QI,ZI,e,eP,vE,n),new ooe(t)}function doe(t=H1()){t=ds(t);const e=_d(t,Mb);return e.isInitialized()?e.getImmediate():hoe(t)}function hoe(t,e={}){const n=_d(t,Mb);if(n.isInitialized()){const s=n.getImmediate();if(T0(e,n.getOptions()))return s;throw Gi.create("already-initialized")}return n.initialize({options:e})}function foe(t,e,n,r){t=ds(t),soe(xz,e0[t.app.options.appId],e,n,r).catch(s=>bi.error(s))}const nP="@firebase/analytics",rP="0.10.11";function moe(){ll(new ko(Mb,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return uoe(r,s,n)},"PUBLIC")),ll(new ko("analytics-internal",t,"PRIVATE")),xi(nP,rP),xi(nP,rP,"esm2017");function t(e){try{const n=e.getProvider(Mb).getImmediate();return{logEvent:(r,s,i)=>foe(n,r,s,i)}}catch(n){throw Gi.create("interop-component-reg-failed",{reason:n})}}}moe();function eL(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function qh(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function c(f){try{h(r.next(f))}catch(g){o(g)}}function u(f){try{h(r.throw(f))}catch(g){o(g)}}function h(f){f.done?i(f.value):s(f.value).then(c,u)}h((r=r.apply(t,e||[])).next())})}function bz(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const poe=bz,wz=new Fh("auth","Firebase",bz());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb=new V1("@firebase/auth");function goe(t,...e){Fb.logLevel<=Rn.WARN&&Fb.warn(`Auth (${Bh}): ${t}`,...e)}function ab(t,...e){Fb.logLevel<=Rn.ERROR&&Fb.error(`Auth (${Bh}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(t,...e){throw tL(t,...e)}function $l(t,...e){return tL(t,...e)}function _z(t,e,n){const r=Object.assign(Object.assign({},poe()),{[e]:n});return new Fh("auth","Firebase",r).create(e,{appName:t.name})}function uh(t){return _z(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tL(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return wz.create(t,...e)}function sn(t,e,...n){if(!t)throw tL(e,...n)}function Ic(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ab(e),new Error(e)}function Yc(t,e){t||Ic(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function yoe(){return sP()==="http:"||sP()==="https:"}function sP(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function voe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yoe()||y9()||"connection"in navigator)?navigator.onLine:!0}function xoe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e,n){this.shortDelay=e,this.longDelay=n,Yc(n>e,"Short delay should be less than long delay!"),this.isMobile=ote()||ute()}get(){return voe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nL(t,e){Yc(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ez{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ic("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ic("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ic("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const boe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const woe=new Ny(3e4,6e4);function rL(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Qm(t,e,n,r,s={}){return jz(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const c=wy(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:u},i);return cte()||(h.referrerPolicy="no-referrer"),Ez.fetch()(Sz(t,t.config.apiHost,n,c),h)})}async function jz(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},boe),e);try{const s=new Eoe(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw px(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const c=i.ok?o.errorMessage:o.error.message,[u,h]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw px(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw px(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw px(t,"user-disabled",o);const f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw _z(t,f,h);Kc(t,f)}}catch(s){if(s instanceof Po)throw s;Kc(t,"network-request-failed",{message:String(s)})}}async function _oe(t,e,n,r,s={}){const i=await Qm(t,e,n,r,s);return"mfaPendingCredential"in i&&Kc(t,"multi-factor-auth-required",{_serverResponse:i}),i}function Sz(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?nL(t.config,s):`${t.config.apiScheme}://${s}`}class Eoe{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r($l(this.auth,"network-request-failed")),woe.get())})}}function px(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=$l(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function joe(t,e){return Qm(t,"POST","/v1/accounts:delete",e)}async function Cz(t,e){return Qm(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Soe(t,e=!1){const n=ds(t),r=await n.getIdToken(e),s=sL(r);sn(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:t0(xE(s.auth_time)),issuedAtTime:t0(xE(s.iat)),expirationTime:t0(xE(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function xE(t){return Number(t)*1e3}function sL(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ab("JWT malformed, contained fewer than 3 sections"),null;try{const s=d9(n);return s?JSON.parse(s):(ab("Failed to decode base64 JWT payload"),null)}catch(s){return ab("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function aP(t){const e=sL(t);return sn(e,"internal-error"),sn(typeof e.exp<"u","internal-error"),sn(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D0(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Po&&Coe(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Coe({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Noe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=t0(this.lastLoginAt),this.creationTime=t0(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bb(t){var e;const n=t.auth,r=await t.getIdToken(),s=await D0(t,Cz(n,{idToken:r}));sn(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?Nz(i.providerUserInfo):[],c=Aoe(t.providerData,o),u=t.isAnonymous,h=!(t.email&&i.passwordHash)&&!(c!=null&&c.length),f=u?h:!1,g={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:c,metadata:new iN(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,g)}async function Toe(t){const e=ds(t);await Bb(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Aoe(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Nz(t){return t.map(e=>{var{providerId:n}=e,r=eL(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Loe(t,e){const n=await jz(t,{},async()=>{const r=wy({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=Sz(t,s,"/v1/token",`key=${i}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Ez.fetch()(o,{method:"POST",headers:c,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Roe(t,e){return Qm(t,"POST","/v2/accounts:revokeToken",rL(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){sn(e.idToken,"internal-error"),sn(typeof e.idToken<"u","internal-error"),sn(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):aP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){sn(e.length!==0,"internal-error");const n=aP(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(sn(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await Loe(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new om;return r&&(sn(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(sn(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(sn(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new om,this.toJSON())}_performRefresh(){return Ic("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ku(t,e){sn(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Pc{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=eL(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Noe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new iN(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await D0(this,this.stsTokenManager.getToken(this.auth,e));return sn(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Soe(this,e)}reload(){return Toe(this)}_assign(e){this!==e&&(sn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Pc(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){sn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Bb(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(tl(this.auth.app))return Promise.reject(uh(this.auth));const e=await this.getIdToken();return await D0(this,joe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,c,u,h,f;const g=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,y=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,E=(c=n.tenantId)!==null&&c!==void 0?c:void 0,j=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,C=(h=n.createdAt)!==null&&h!==void 0?h:void 0,O=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:I,emailVerified:D,isAnonymous:T,providerData:F,stsTokenManager:_}=n;sn(I&&_,e,"internal-error");const R=om.fromJSON(this.name,_);sn(typeof I=="string",e,"internal-error"),ku(g,e.name),ku(p,e.name),sn(typeof D=="boolean",e,"internal-error"),sn(typeof T=="boolean",e,"internal-error"),ku(y,e.name),ku(w,e.name),ku(E,e.name),ku(j,e.name),ku(C,e.name),ku(O,e.name);const b=new Pc({uid:I,auth:e,email:p,emailVerified:D,displayName:g,isAnonymous:T,photoURL:w,phoneNumber:y,tenantId:E,stsTokenManager:R,createdAt:C,lastLoginAt:O});return F&&Array.isArray(F)&&(b.providerData=F.map(A=>Object.assign({},A))),j&&(b._redirectEventId=j),b}static async _fromIdTokenResponse(e,n,r=!1){const s=new om;s.updateFromServerResponse(n);const i=new Pc({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Bb(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];sn(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?Nz(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),c=new om;c.updateFromIdToken(r);const u=new Pc({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:o}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new iN(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP=new Map;function Dc(t){Yc(t instanceof Function,"Expected a class definition");let e=iP.get(t);return e?(Yc(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,iP.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tz{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Tz.type="NONE";const oP=Tz;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ib(t,e,n){return`firebase:${t}:${e}:${n}`}class lm{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=ib(this.userKey,s.apiKey,i),this.fullPersistenceKey=ib("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Pc._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new lm(Dc(oP),e,r);const s=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let i=s[0]||Dc(oP);const o=ib(r,e.config.apiKey,e.name);let c=null;for(const h of n)try{const f=await h._get(o);if(f){const g=Pc._fromJSON(e,f);h!==i&&(c=g),i=h;break}}catch{}const u=s.filter(h=>h._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new lm(i,e,r):(i=u[0],c&&await i._set(o,c.toJSON()),await Promise.all(n.map(async h=>{if(h!==i)try{await h._remove(o)}catch{}})),new lm(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lP(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(kz(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Az(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Iz(e))return"Blackberry";if(Pz(e))return"Webos";if(Lz(e))return"Safari";if((e.includes("chrome/")||Rz(e))&&!e.includes("edge/"))return"Chrome";if(Oz(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Az(t=Ua()){return/firefox\//i.test(t)}function Lz(t=Ua()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Rz(t=Ua()){return/crios\//i.test(t)}function kz(t=Ua()){return/iemobile/i.test(t)}function Oz(t=Ua()){return/android/i.test(t)}function Iz(t=Ua()){return/blackberry/i.test(t)}function Pz(t=Ua()){return/webos/i.test(t)}function aL(t=Ua()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function koe(t=Ua()){var e;return aL(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Ooe(){return dte()&&document.documentMode===10}function Dz(t=Ua()){return aL(t)||Oz(t)||Pz(t)||Iz(t)||/windows phone/i.test(t)||kz(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mz(t,e=[]){let n;switch(t){case"Browser":n=lP(Ua());break;case"Worker":n=`${lP(Ua())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Bh}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ioe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,c)=>{try{const u=e(i);o(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Poe(t,e={}){return Qm(t,"GET","/v2/passwordPolicy",rL(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Doe=6;class Moe{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Doe,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,c;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(s=u.containsLowercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(i=u.containsUppercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Foe{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cP(this),this.idTokenSubscription=new cP(this),this.beforeStateQueue=new Ioe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wz,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Dc(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await lm.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Cz(this,{idToken:e}),r=await Pc._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(tl(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=s==null?void 0:s._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===c)&&(u!=null&&u.user)&&(s=u.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return sn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Bb(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=xoe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(tl(this.app))return Promise.reject(uh(this));const n=e?ds(e):null;return n&&sn(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&sn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return tl(this.app)?Promise.reject(uh(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return tl(this.app)?Promise.reject(uh(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Dc(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Poe(this),n=new Moe(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Fh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Roe(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Dc(e)||this._popupRedirectResolver;sn(n,this,"argument-error"),this.redirectPersistenceManager=await lm.create(this,[Dc(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(sn(c,this,"internal-error"),c.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,s);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return sn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Mz(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(tl(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&goe(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function iL(t){return ds(t)}class cP{constructor(e){this.auth=e,this.observer=null,this.addObserver=vte(n=>this.observer=n)}get next(){return sn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oL={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Boe(t){oL=t}function Uoe(t){return oL.loadJS(t)}function zoe(){return oL.gapiScript}function qoe(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $oe(t,e){const n=_d(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(T0(i,e??{}))return s;Kc(s,"already-initialized")}return n.initialize({options:e})}function Voe(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Dc);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Hoe(t,e,n){const r=iL(t);sn(r._canInitEmulator,r,"emulator-config-failed"),sn(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=Fz(e),{host:o,port:c}=Goe(e),u=c===null?"":`:${c}`;r.config.emulator={url:`${i}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:c,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),Woe()}function Fz(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Goe(t){const e=Fz(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:uP(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:uP(o)}}}function uP(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Woe(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bz{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ic("not implemented")}_getIdTokenResponse(e){return Ic("not implemented")}_linkToIdToken(e,n){return Ic("not implemented")}_getReauthenticationResolver(e){return Ic("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cm(t,e){return _oe(t,"POST","/v1/accounts:signInWithIdp",rL(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Koe="http://localhost";class _h extends Bz{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new _h(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Kc("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=eL(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new _h(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return cm(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,cm(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,cm(e,n)}buildRequest(){const e={requestUri:Koe,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=wy(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uz{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty extends Uz{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu extends Ty{constructor(){super("facebook.com")}static credential(e){return _h._fromParams({providerId:Uu.PROVIDER_ID,signInMethod:Uu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Uu.credentialFromTaggedObject(e)}static credentialFromError(e){return Uu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Uu.credential(e.oauthAccessToken)}catch{return null}}}Uu.FACEBOOK_SIGN_IN_METHOD="facebook.com";Uu.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc extends Ty{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return _h._fromParams({providerId:kc.PROVIDER_ID,signInMethod:kc.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return kc.credentialFromTaggedObject(e)}static credentialFromError(e){return kc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return kc.credential(n,r)}catch{return null}}}kc.GOOGLE_SIGN_IN_METHOD="google.com";kc.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu extends Ty{constructor(){super("github.com")}static credential(e){return _h._fromParams({providerId:zu.PROVIDER_ID,signInMethod:zu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zu.credentialFromTaggedObject(e)}static credentialFromError(e){return zu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zu.credential(e.oauthAccessToken)}catch{return null}}}zu.GITHUB_SIGN_IN_METHOD="github.com";zu.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu extends Ty{constructor(){super("twitter.com")}static credential(e,n){return _h._fromParams({providerId:qu.PROVIDER_ID,signInMethod:qu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return qu.credentialFromTaggedObject(e)}static credentialFromError(e){return qu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return qu.credential(n,r)}catch{return null}}}qu.TWITTER_SIGN_IN_METHOD="twitter.com";qu.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Pc._fromIdTokenResponse(e,r,s),o=dP(r);return new Om({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=dP(r);return new Om({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function dP(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub extends Po{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Ub.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Ub(e,n,r,s)}}function zz(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Ub._fromErrorAndOperation(t,i,e,r):i})}async function Yoe(t,e,n=!1){const r=await D0(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Om._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xoe(t,e,n=!1){const{auth:r}=t;if(tl(r.app))return Promise.reject(uh(r));const s="reauthenticate";try{const i=await D0(t,zz(r,s,e,t),n);sn(i.idToken,r,"internal-error");const o=sL(i.idToken);sn(o,r,"internal-error");const{sub:c}=o;return sn(t.uid===c,r,"user-mismatch"),Om._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Kc(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Joe(t,e,n=!1){if(tl(t.app))return Promise.reject(uh(t));const r="signIn",s=await zz(t,r,e),i=await Om._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function Qoe(t,e,n,r){return ds(t).onIdTokenChanged(e,n,r)}function Zoe(t,e,n){return ds(t).beforeAuthStateChanged(e,n)}function ele(t,e,n,r){return ds(t).onAuthStateChanged(e,n,r)}const zb="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qz{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(zb,"1"),this.storage.removeItem(zb),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tle=1e3,nle=10;class $z extends qz{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Dz(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,c,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);Ooe()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,nle):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},tle)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}$z.type="LOCAL";const rle=$z;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vz extends qz{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Vz.type="SESSION";const Hz=Vz;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sle(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new dw(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(o).map(async h=>h(n.origin,i)),u=await sle(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dw.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lL(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ale{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((c,u)=>{const h=lL("",20);s.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(g){const p=g;if(p.data.eventId===h)switch(p.data.status){case"ack":clearTimeout(f),i=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),c(p.data.response);break;default:clearTimeout(f),clearTimeout(i),u(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(){return window}function ile(t){Vl().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gz(){return typeof Vl().WorkerGlobalScope<"u"&&typeof Vl().importScripts=="function"}async function ole(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lle(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function cle(){return Gz()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wz="firebaseLocalStorageDb",ule=1,qb="firebaseLocalStorage",Kz="fbase_key";class Ay{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function hw(t,e){return t.transaction([qb],e?"readwrite":"readonly").objectStore(qb)}function dle(){const t=indexedDB.deleteDatabase(Wz);return new Ay(t).toPromise()}function oN(){const t=indexedDB.open(Wz,ule);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(qb,{keyPath:Kz})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(qb)?e(r):(r.close(),await dle(),e(await oN()))})})}async function hP(t,e,n){const r=hw(t,!0).put({[Kz]:e,value:n});return new Ay(r).toPromise()}async function hle(t,e){const n=hw(t,!1).get(e),r=await new Ay(n).toPromise();return r===void 0?null:r.value}function fP(t,e){const n=hw(t,!0).delete(e);return new Ay(n).toPromise()}const fle=800,mle=3;class Yz{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await oN(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>mle)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Gz()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dw._getInstance(cle()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await ole(),!this.activeServiceWorker)return;this.sender=new ale(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||lle()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await oN();return await hP(e,zb,"1"),await fP(e,zb),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>hP(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>hle(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>fP(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=hw(s,!1).getAll();return new Ay(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),fle)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Yz.type="LOCAL";const ple=Yz;new Ny(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gle(t,e){return e?Dc(e):(sn(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL extends Bz{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return cm(e,this._buildIdpRequest())}_linkToIdToken(e,n){return cm(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return cm(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function yle(t){return Joe(t.auth,new cL(t),t.bypassAuthState)}function vle(t){const{auth:e,user:n}=t;return sn(n,e,"internal-error"),Xoe(n,new cL(t),t.bypassAuthState)}async function xle(t){const{auth:e,user:n}=t;return sn(n,e,"internal-error"),Yoe(n,new cL(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xz{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:c}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yle;case"linkViaPopup":case"linkViaRedirect":return xle;case"reauthViaPopup":case"reauthViaRedirect":return vle;default:Kc(this.auth,"internal-error")}}resolve(e){Yc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ble=new Ny(2e3,1e4);class Zf extends Xz{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Zf.currentPopupAction&&Zf.currentPopupAction.cancel(),Zf.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return sn(e,this.auth,"internal-error"),e}async onExecution(){Yc(this.filter.length===1,"Popup operations only handle one event");const e=lL();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject($l(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject($l(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zf.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($l(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ble.get())};e()}}Zf.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wle="pendingRedirect",ob=new Map;class _le extends Xz{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ob.get(this.auth._key());if(!e){try{const r=await Ele(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ob.set(this.auth._key(),e)}return this.bypassAuthState||ob.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Ele(t,e){const n=Cle(e),r=Sle(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function jle(t,e){ob.set(t._key(),e)}function Sle(t){return Dc(t._redirectPersistence)}function Cle(t){return ib(wle,t.config.apiKey,t.name)}async function Nle(t,e,n=!1){if(tl(t.app))return Promise.reject(uh(t));const r=iL(t),s=gle(r,e),o=await new _le(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tle=10*60*1e3;class Ale{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Lle(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Jz(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError($l(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Tle&&this.cachedEventUids.clear(),this.cachedEventUids.has(mP(e))}saveEventToCache(e){this.cachedEventUids.add(mP(e)),this.lastProcessedEventTime=Date.now()}}function mP(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Jz({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Lle(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Jz(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rle(t,e={}){return Qm(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kle=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ole=/^https?/;async function Ile(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Rle(t);for(const n of e)try{if(Ple(n))return}catch{}Kc(t,"unauthorized-domain")}function Ple(t){const e=aN(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Ole.test(n))return!1;if(kle.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dle=new Ny(3e4,6e4);function pP(){const t=Vl().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Mle(t){return new Promise((e,n)=>{var r,s,i;function o(){pP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{pP(),n($l(t,"network-request-failed"))},timeout:Dle.get()})}if(!((s=(r=Vl().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Vl().gapi)===null||i===void 0)&&i.load)o();else{const c=qoe("iframefcb");return Vl()[c]=()=>{gapi.load?o():n($l(t,"network-request-failed"))},Uoe(`${zoe()}?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw lb=null,e})}let lb=null;function Fle(t){return lb=lb||Mle(t),lb}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ble=new Ny(5e3,15e3),Ule="__/auth/iframe",zle="emulator/auth/iframe",qle={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$le=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Vle(t){const e=t.config;sn(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?nL(e,zle):`https://${t.config.authDomain}/${Ule}`,r={apiKey:e.apiKey,appName:t.name,v:Bh},s=$le.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${wy(r).slice(1)}`}async function Hle(t){const e=await Fle(t),n=Vl().gapi;return sn(n,t,"internal-error"),e.open({where:document.body,url:Vle(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qle,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=$l(t,"network-request-failed"),c=Vl().setTimeout(()=>{i(o)},Ble.get());function u(){Vl().clearTimeout(c),s(r)}r.ping(u).then(u,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gle={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Wle=500,Kle=600,Yle="_blank",Xle="http://localhost";class gP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Jle(t,e,n,r=Wle,s=Kle){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const u=Object.assign(Object.assign({},Gle),{width:r.toString(),height:s.toString(),top:i,left:o}),h=Ua().toLowerCase();n&&(c=Rz(h)?Yle:n),Az(h)&&(e=e||Xle,u.scrollbars="yes");const f=Object.entries(u).reduce((p,[y,w])=>`${p}${y}=${w},`,"");if(koe(h)&&c!=="_self")return Qle(e||"",c),new gP(null);const g=window.open(e||"",c,f);sn(g,t,"popup-blocked");try{g.focus()}catch{}return new gP(g)}function Qle(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zle="__/auth/handler",ece="emulator/auth/handler",tce=encodeURIComponent("fac");async function yP(t,e,n,r,s,i){sn(t.config.authDomain,t,"auth-domain-config-required"),sn(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Bh,eventId:s};if(e instanceof Uz){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",yte(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,g]of Object.entries({}))o[f]=g}if(e instanceof Ty){const f=e.getScopes().filter(g=>g!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const c=o;for(const f of Object.keys(c))c[f]===void 0&&delete c[f];const u=await t._getAppCheckToken(),h=u?`#${tce}=${encodeURIComponent(u)}`:"";return`${nce(t)}?${wy(c).slice(1)}${h}`}function nce({config:t}){return t.emulator?nL(t,ece):`https://${t.authDomain}/${Zle}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="webStorageSupport";class rce{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Hz,this._completeRedirectFn=Nle,this._overrideRedirectResult=jle}async _openPopup(e,n,r,s){var i;Yc((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await yP(e,n,r,aN(),s);return Jle(e,o,lL())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await yP(e,n,r,aN(),s);return ile(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Yc(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Hle(e),r=new Ale(e);return n.register("authEvent",s=>(sn(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(bE,{type:bE},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[bE];o!==void 0&&n(!!o),Kc(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Ile(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Dz()||Lz()||aL()}}const sce=rce;var vP="@firebase/auth",xP="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ace{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){sn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ice(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function oce(t){ll(new ko("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;sn(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Mz(t)},h=new Foe(r,s,i,u);return Voe(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ll(new ko("auth-internal",e=>{const n=iL(e.getProvider("auth").getImmediate());return(r=>new ace(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),xi(vP,xP,ice(t)),xi(vP,xP,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lce=5*60,cce=p9("authIdTokenMaxAge")||lce;let bP=null;const uce=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>cce)return;const s=n==null?void 0:n.token;bP!==s&&(bP=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function dce(t=H1()){const e=_d(t,"auth");if(e.isInitialized())return e.getImmediate();const n=$oe(t,{popupRedirectResolver:sce,persistence:[ple,rle,Hz]}),r=p9("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=uce(i.toString());Zoe(n,o,()=>o(n.currentUser)),Qoe(n,c=>o(c))}}const s=h9("auth");return s&&Hoe(n,`http://${s}`),n}function hce(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Boe({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=$l("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",hce().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});oce("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qz="firebasestorage.googleapis.com",Zz="storageBucket",fce=2*60*1e3,mce=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends Po{constructor(e,n,r=0){super(wE(e),`Firebase Storage: ${n} (${wE(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,fs.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return wE(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var hs;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(hs||(hs={}));function wE(t){return"storage/"+t}function uL(){const t="An unknown error occurred, please check the error payload for server response.";return new fs(hs.UNKNOWN,t)}function pce(t){return new fs(hs.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function gce(t){return new fs(hs.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function yce(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new fs(hs.UNAUTHENTICATED,t)}function vce(){return new fs(hs.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function xce(t){return new fs(hs.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function bce(){return new fs(hs.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function wce(){return new fs(hs.CANCELED,"User canceled the upload/download.")}function _ce(t){return new fs(hs.INVALID_URL,"Invalid URL '"+t+"'.")}function Ece(t){return new fs(hs.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function jce(){return new fs(hs.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Zz+"' property when initializing the app?")}function Sce(){return new fs(hs.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Cce(){return new fs(hs.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Nce(t){return new fs(hs.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function lN(t){return new fs(hs.INVALID_ARGUMENT,t)}function eq(){return new fs(hs.APP_DELETED,"The Firebase app was deleted.")}function Tce(t){return new fs(hs.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function n0(t,e){return new fs(hs.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Sg(t){throw new fs(hs.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=$i.makeFromUrl(e,n)}catch{return new $i(e,"")}if(r.path==="")return r;throw Ece(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(D){D.path.charAt(D.path.length-1)==="/"&&(D.path_=D.path_.slice(0,-1))}const o="(/(.*))?$",c=new RegExp("^gs://"+s+o,"i"),u={bucket:1,path:3};function h(D){D.path_=decodeURIComponent(D.path)}const f="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",y=new RegExp(`^https?://${g}/${f}/b/${s}/o${p}`,"i"),w={bucket:1,path:3},E=n===Qz?"(?:storage.googleapis.com|storage.cloud.google.com)":n,j="([^?#]*)",C=new RegExp(`^https?://${E}/${s}/${j}`,"i"),I=[{regex:c,indices:u,postModify:i},{regex:y,indices:w,postModify:h},{regex:C,indices:{bucket:1,path:2},postModify:h}];for(let D=0;D<I.length;D++){const T=I[D],F=T.regex.exec(e);if(F){const _=F[T.indices.bucket];let R=F[T.indices.path];R||(R=""),r=new $i(_,R),T.postModify(r);break}}if(r==null)throw _ce(e);return r}}class Ace{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lce(t,e,n){let r=1,s=null,i=null,o=!1,c=0;function u(){return c===2}let h=!1;function f(...j){h||(h=!0,e.apply(null,j))}function g(j){s=setTimeout(()=>{s=null,t(y,u())},j)}function p(){i&&clearTimeout(i)}function y(j,...C){if(h){p();return}if(j){p(),f.call(null,j,...C);return}if(u()||o){p(),f.call(null,j,...C);return}r<64&&(r*=2);let I;c===1?(c=2,I=0):I=(r+Math.random())*1e3,g(I)}let w=!1;function E(j){w||(w=!0,p(),!h&&(s!==null?(j||(c=2),clearTimeout(s),g(0)):j||(c=1)))}return g(0),i=setTimeout(()=>{o=!0,E(!0)},n),E}function Rce(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kce(t){return t!==void 0}function Oce(t){return typeof t=="object"&&!Array.isArray(t)}function dL(t){return typeof t=="string"||t instanceof String}function wP(t){return hL()&&t instanceof Blob}function hL(){return typeof Blob<"u"}function _P(t,e,n,r){if(r<e)throw lN(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw lN(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function tq(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var dh;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(dh||(dh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ice(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pce{constructor(e,n,r,s,i,o,c,u,h,f,g,p=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=c,this.errorCallback_=u,this.timeout_=h,this.progressCallback_=f,this.connectionFactory_=g,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,w)=>{this.resolve_=y,this.reject_=w,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new gx(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=c=>{const u=c.loaded,h=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,h)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const c=i.getErrorCode()===dh.NO_ERROR,u=i.getStatus();if(!c||Ice(u,this.additionalRetryCodes_)&&this.retry){const f=i.getErrorCode()===dh.ABORT;r(!1,new gx(!1,null,f));return}const h=this.successCodes_.indexOf(u)!==-1;r(!0,new gx(h,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,c=s.connection;if(s.wasSuccessCode)try{const u=this.callback_(c,c.getResponse());kce(u)?i(u):i()}catch(u){o(u)}else if(c!==null){const u=uL();u.serverResponse=c.getErrorText(),this.errorCallback_?o(this.errorCallback_(c,u)):o(u)}else if(s.canceled){const u=this.appDelete_?eq():wce();o(u)}else{const u=bce();o(u)}};this.canceled_?n(!1,new gx(!1,null,!0)):this.backoffId_=Lce(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Rce(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class gx{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Dce(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Mce(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Fce(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Bce(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Uce(t,e,n,r,s,i,o=!0){const c=tq(t.urlParams),u=t.url+c,h=Object.assign({},t.headers);return Fce(h,e),Dce(h,n),Mce(h,i),Bce(h,r),new Pce(u,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zce(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function qce(...t){const e=zce();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(hL())return new Blob(t);throw new fs(hs.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function $ce(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vce(t){if(typeof atob>"u")throw Nce("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dl={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class _E{constructor(e,n){this.data=e,this.contentType=n||null}}function Hce(t,e){switch(t){case Dl.RAW:return new _E(nq(e));case Dl.BASE64:case Dl.BASE64URL:return new _E(rq(t,e));case Dl.DATA_URL:return new _E(Wce(e),Kce(e))}throw uL()}function nq(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Gce(t){let e;try{e=decodeURIComponent(t)}catch{throw n0(Dl.DATA_URL,"Malformed data URL.")}return nq(e)}function rq(t,e){switch(t){case Dl.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw n0(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Dl.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw n0(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Vce(e)}catch(s){throw s.message.includes("polyfill")?s:n0(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class sq{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw n0(Dl.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Yce(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Wce(t){const e=new sq(t);return e.base64?rq(Dl.BASE64,e.rest):Gce(e.rest)}function Kce(t){return new sq(t).contentType}function Yce(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,n){let r=0,s="";wP(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(wP(this.data_)){const r=this.data_,s=$ce(r,e,n);return s===null?null:new $u(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new $u(r,!0)}}static getBlob(...e){if(hL()){const n=e.map(r=>r instanceof $u?r.data_:r);return new $u(qce.apply(null,n))}else{const n=e.map(o=>dL(o)?Hce(Dl.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let c=0;c<o.length;c++)s[i++]=o[c]}),new $u(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aq(t){let e;try{e=JSON.parse(t)}catch{return null}return Oce(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xce(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Jce(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function iq(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qce(t,e){return e}class Qa{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||Qce}}let yx=null;function Zce(t){return!dL(t)||t.length<2?t:iq(t)}function oq(){if(yx)return yx;const t=[];t.push(new Qa("bucket")),t.push(new Qa("generation")),t.push(new Qa("metageneration")),t.push(new Qa("name","fullPath",!0));function e(i,o){return Zce(o)}const n=new Qa("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new Qa("size");return s.xform=r,t.push(s),t.push(new Qa("timeCreated")),t.push(new Qa("updated")),t.push(new Qa("md5Hash",null,!0)),t.push(new Qa("cacheControl",null,!0)),t.push(new Qa("contentDisposition",null,!0)),t.push(new Qa("contentEncoding",null,!0)),t.push(new Qa("contentLanguage",null,!0)),t.push(new Qa("contentType",null,!0)),t.push(new Qa("metadata","customMetadata",!0)),yx=t,yx}function eue(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new $i(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function tue(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return eue(r,t),r}function lq(t,e,n){const r=aq(e);return r===null?null:tue(t,r,n)}function nue(t,e,n,r){const s=aq(e);if(s===null||!dL(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(h=>{const f=t.bucket,g=t.fullPath,p="/b/"+o(f)+"/o/"+o(g),y=fw(p,n,r),w=tq({alt:"media",token:h});return y+w})[0]}function rue(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class fL{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cq(t){if(!t)throw uL()}function sue(t,e){function n(r,s){const i=lq(t,s,e);return cq(i!==null),i}return n}function aue(t,e){function n(r,s){const i=lq(t,s,e);return cq(i!==null),nue(i,s,t.host,t._protocol)}return n}function uq(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=vce():s=yce():n.getStatus()===402?s=gce(t.bucket):n.getStatus()===403?s=xce(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function dq(t){const e=uq(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=pce(t.path)),i.serverResponse=s.serverResponse,i}return n}function iue(t,e,n){const r=e.fullServerUrl(),s=fw(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,c=new fL(s,i,aue(t,n),o);return c.errorHandler=dq(e),c}function oue(t,e){const n=e.fullServerUrl(),r=fw(n,t.host,t._protocol),s="DELETE",i=t.maxOperationRetryTime;function o(u,h){}const c=new fL(r,s,o,i);return c.successCodes=[200,204],c.errorHandler=dq(e),c}function lue(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function cue(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=lue(null,e)),r}function uue(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function c(){let I="";for(let D=0;D<2;D++)I=I+Math.random().toString().slice(2);return I}const u=c();o["Content-Type"]="multipart/related; boundary="+u;const h=cue(e,r,s),f=rue(h,n),g="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+u+`\r
Content-Type: `+h.contentType+`\r
\r
`,p=`\r
--`+u+"--",y=$u.getBlob(g,r,p);if(y===null)throw Sce();const w={name:h.fullPath},E=fw(i,t.host,t._protocol),j="POST",C=t.maxUploadRetryTime,O=new fL(E,j,sue(t,n),C);return O.urlParams=w,O.headers=o,O.body=y.uploadData(),O.errorHandler=uq(e),O}class due{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=dh.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=dh.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=dh.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw Sg("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Sg("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Sg("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Sg("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Sg("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class hue extends due{initXhr(){this.xhr_.responseType="text"}}function mL(){return new hue}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n){this._service=e,n instanceof $i?this._location=n:this._location=$i.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Eh(e,n)}get root(){const e=new $i(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return iq(this._location.path)}get storage(){return this._service}get parent(){const e=Xce(this._location.path);if(e===null)return null;const n=new $i(this._location.bucket,e);return new Eh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Tce(e)}}function fue(t,e,n){t._throwIfRoot("uploadBytes");const r=uue(t.storage,t._location,oq(),new $u(e,!0),n);return t.storage.makeRequestWithTokens(r,mL).then(s=>({metadata:s,ref:t}))}function mue(t){t._throwIfRoot("getDownloadURL");const e=iue(t.storage,t._location,oq());return t.storage.makeRequestWithTokens(e,mL).then(n=>{if(n===null)throw Cce();return n})}function pue(t){t._throwIfRoot("deleteObject");const e=oue(t.storage,t._location);return t.storage.makeRequestWithTokens(e,mL)}function gue(t,e){const n=Jce(t._location.path,e),r=new $i(t._location.bucket,n);return new Eh(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yue(t){return/^[A-Za-z]+:\/\//.test(t)}function vue(t,e){return new Eh(t,e)}function hq(t,e){if(t instanceof pL){const n=t;if(n._bucket==null)throw jce();const r=new Eh(n,n._bucket);return e!=null?hq(r,e):r}else return e!==void 0?gue(t,e):t}function xue(t,e){if(e&&yue(e)){if(t instanceof pL)return vue(t,e);throw lN("To use ref(service, url), the first argument must be a Storage instance.")}else return hq(t,e)}function EP(t,e){const n=e==null?void 0:e[Zz];return n==null?null:$i.makeFromBucketSpec(n,t)}function bue(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:g9(s,t.app.options.projectId))}class pL{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=Qz,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=fce,this._maxUploadRetryTime=mce,this._requests=new Set,s!=null?this._bucket=$i.makeFromBucketSpec(s,this._host):this._bucket=EP(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=$i.makeFromBucketSpec(this._url,e):this._bucket=EP(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){_P("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){_P("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(tl(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Eh(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new Ace(eq());{const o=Uce(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const jP="@firebase/storage",SP="0.13.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fq="storage";function Qt(t,e,n){return t=ds(t),fue(t,e,n)}function Zt(t){return t=ds(t),mue(t)}function wue(t){return t=ds(t),pue(t)}function Wt(t,e){return t=ds(t),xue(t,e)}function mq(t=H1(),e){t=ds(t);const r=_d(t,fq).getImmediate({identifier:e}),s=f9("storage");return s&&_ue(r,...s),r}function _ue(t,e,n,r={}){bue(t,e,n,r)}function Eue(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new pL(n,r,s,e,Bh)}function jue(){ll(new ko(fq,Eue,"PUBLIC").setMultipleInstances(!0)),xi(jP,SP,""),xi(jP,SP,"esm2017")}jue();const Sue={apiKey:"AIzaSyDILvqKWcUJpQ5ajHPKPlEqZmjEc9M5htE",authDomain:"infoguide-13007.firebaseapp.com",projectId:"infoguide-13007",storageBucket:"infoguide-13007.firebasestorage.app",messagingSenderId:"118200673394",appId:"1:118200673394:web:d50f8387ddf29df1ba8eeb",measurementId:"G-T2BCB6JJ9X"},mw=E9(Sue),Cue=dce(mw);new kc;const Ve=Rae(mw),en=mq(mw);doe(mw);/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function Nue(t,e,n){return(e=Aue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ot(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CP(Object(n),!0).forEach(function(r){Nue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Aue(t){var e=Tue(t,"string");return typeof e=="symbol"?e:e+""}const NP=()=>{};let gL={},pq={},gq=null,yq={mark:NP,measure:NP};try{typeof window<"u"&&(gL=window),typeof document<"u"&&(pq=document),typeof MutationObserver<"u"&&(gq=MutationObserver),typeof performance<"u"&&(yq=performance)}catch{}const{userAgent:TP=""}=gL.navigator||{},pd=gL,Tr=pq,AP=gq,vx=yq;pd.document;const su=!!Tr.documentElement&&!!Tr.head&&typeof Tr.addEventListener=="function"&&typeof Tr.createElement=="function",vq=~TP.indexOf("MSIE")||~TP.indexOf("Trident/");var Lue=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,Rue=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,xq={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},kue={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},bq=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],za="classic",pw="duotone",Oue="sharp",Iue="sharp-duotone",wq=[za,pw,Oue,Iue],Pue={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},Due={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},Mue=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),Fue={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},Bue=["fak","fa-kit","fakd","fa-kit-duotone"],LP={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},Uue=["kit"],zue={kit:{"fa-kit":"fak"}},que=["fak","fakd"],$ue={kit:{fak:"fa-kit"}},RP={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},xx={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Vue=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],Hue=["fak","fa-kit","fakd","fa-kit-duotone"],Gue={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},Wue={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},Kue={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},cN={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},Yue=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],uN=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...Vue,...Yue],Xue=["solid","regular","light","thin","duotone","brands"],_q=[1,2,3,4,5,6,7,8,9,10],Jue=_q.concat([11,12,13,14,15,16,17,18,19,20]),Que=[...Object.keys(Kue),...Xue,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",xx.GROUP,xx.SWAP_OPACITY,xx.PRIMARY,xx.SECONDARY].concat(_q.map(t=>"".concat(t,"x"))).concat(Jue.map(t=>"w-".concat(t))),Zue={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const Xc="___FONT_AWESOME___",dN=16,Eq="fa",jq="svg-inline--fa",jh="data-fa-i2svg",hN="data-fa-pseudo-element",ede="data-fa-pseudo-element-pending",yL="data-prefix",vL="data-icon",kP="fontawesome-i2svg",tde="async",nde=["HTML","HEAD","STYLE","SCRIPT"],Sq=(()=>{try{return!0}catch{return!1}})();function Ly(t){return new Proxy(t,{get(e,n){return n in e?e[n]:e[za]}})}const Cq=ot({},xq);Cq[za]=ot(ot(ot(ot({},{"fa-duotone":"duotone"}),xq[za]),LP.kit),LP["kit-duotone"]);const rde=Ly(Cq),fN=ot({},Fue);fN[za]=ot(ot(ot(ot({},{duotone:"fad"}),fN[za]),RP.kit),RP["kit-duotone"]);const OP=Ly(fN),mN=ot({},cN);mN[za]=ot(ot({},mN[za]),$ue.kit);const xL=Ly(mN),pN=ot({},Wue);pN[za]=ot(ot({},pN[za]),zue.kit);Ly(pN);const sde=Lue,Nq="fa-layers-text",ade=Rue,ide=ot({},Pue);Ly(ide);const ode=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],EE=kue,lde=[...Uue,...Que],r0=pd.FontAwesomeConfig||{};function cde(t){var e=Tr.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function ude(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}Tr&&typeof Tr.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[n,r]=e;const s=ude(cde(n));s!=null&&(r0[r]=s)});const Tq={styleDefault:"solid",familyDefault:za,cssPrefix:Eq,replacementClass:jq,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};r0.familyPrefix&&(r0.cssPrefix=r0.familyPrefix);const Im=ot(ot({},Tq),r0);Im.autoReplaceSvg||(Im.observeMutations=!1);const Lt={};Object.keys(Tq).forEach(t=>{Object.defineProperty(Lt,t,{enumerable:!0,set:function(e){Im[t]=e,s0.forEach(n=>n(Lt))},get:function(){return Im[t]}})});Object.defineProperty(Lt,"familyPrefix",{enumerable:!0,set:function(t){Im.cssPrefix=t,s0.forEach(e=>e(Lt))},get:function(){return Im.cssPrefix}});pd.FontAwesomeConfig=Lt;const s0=[];function dde(t){return s0.push(t),()=>{s0.splice(s0.indexOf(t),1)}}const Ou=dN,Ml={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function hde(t){if(!t||!su)return;const e=Tr.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;const n=Tr.head.childNodes;let r=null;for(let s=n.length-1;s>-1;s--){const i=n[s],o=(i.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=i)}return Tr.head.insertBefore(e,r),t}const fde="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function M0(){let t=12,e="";for(;t-- >0;)e+=fde[Math.random()*62|0];return e}function Zm(t){const e=[];for(let n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function bL(t){return t.classList?Zm(t.classList):(t.getAttribute("class")||"").split(" ").filter(e=>e)}function Aq(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function mde(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,'="').concat(Aq(t[n]),'" '),"").trim()}function gw(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,": ").concat(t[n].trim(),";"),"")}function wL(t){return t.size!==Ml.size||t.x!==Ml.x||t.y!==Ml.y||t.rotate!==Ml.rotate||t.flipX||t.flipY}function pde(t){let{transform:e,containerWidth:n,iconWidth:r}=t;const s={transform:"translate(".concat(n/2," 256)")},i="translate(".concat(e.x*32,", ").concat(e.y*32,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),c="rotate(".concat(e.rotate," 0 0)"),u={transform:"".concat(i," ").concat(o," ").concat(c)},h={transform:"translate(".concat(r/2*-1," -256)")};return{outer:s,inner:u,path:h}}function gde(t){let{transform:e,width:n=dN,height:r=dN,startCentered:s=!1}=t,i="";return s&&vq?i+="translate(".concat(e.x/Ou-n/2,"em, ").concat(e.y/Ou-r/2,"em) "):s?i+="translate(calc(-50% + ".concat(e.x/Ou,"em), calc(-50% + ").concat(e.y/Ou,"em)) "):i+="translate(".concat(e.x/Ou,"em, ").concat(e.y/Ou,"em) "),i+="scale(".concat(e.size/Ou*(e.flipX?-1:1),", ").concat(e.size/Ou*(e.flipY?-1:1),") "),i+="rotate(".concat(e.rotate,"deg) "),i}var yde=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function Lq(){const t=Eq,e=jq,n=Lt.cssPrefix,r=Lt.replacementClass;let s=yde;if(n!==t||r!==e){const i=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),c=new RegExp("\\.".concat(e),"g");s=s.replace(i,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(c,".".concat(r))}return s}let IP=!1;function jE(){Lt.autoAddCss&&!IP&&(hde(Lq()),IP=!0)}var vde={mixout(){return{dom:{css:Lq,insertCss:jE}}},hooks(){return{beforeDOMElementCreation(){jE()},beforeI2svg(){jE()}}}};const Jc=pd||{};Jc[Xc]||(Jc[Xc]={});Jc[Xc].styles||(Jc[Xc].styles={});Jc[Xc].hooks||(Jc[Xc].hooks={});Jc[Xc].shims||(Jc[Xc].shims=[]);var Fl=Jc[Xc];const Rq=[],kq=function(){Tr.removeEventListener("DOMContentLoaded",kq),$b=1,Rq.map(t=>t())};let $b=!1;su&&($b=(Tr.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Tr.readyState),$b||Tr.addEventListener("DOMContentLoaded",kq));function xde(t){su&&($b?setTimeout(t,0):Rq.push(t))}function Ry(t){const{tag:e,attributes:n={},children:r=[]}=t;return typeof t=="string"?Aq(t):"<".concat(e," ").concat(mde(n),">").concat(r.map(Ry).join(""),"</").concat(e,">")}function PP(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var SE=function(e,n,r,s){var i=Object.keys(e),o=i.length,c=n,u,h,f;for(r===void 0?(u=1,f=e[i[0]]):(u=0,f=r);u<o;u++)h=i[u],f=c(f,e[h],h,e);return f};function bde(t){const e=[];let n=0;const r=t.length;for(;n<r;){const s=t.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){const i=t.charCodeAt(n++);(i&64512)==56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),n--)}else e.push(s)}return e}function gN(t){const e=bde(t);return e.length===1?e[0].toString(16):null}function wde(t,e){const n=t.length;let r=t.charCodeAt(e),s;return r>=55296&&r<=56319&&n>e+1&&(s=t.charCodeAt(e+1),s>=56320&&s<=57343)?(r-55296)*1024+s-56320+65536:r}function DP(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return!!r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function yN(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:r=!1}=n,s=DP(e);typeof Fl.hooks.addPack=="function"&&!r?Fl.hooks.addPack(t,DP(e)):Fl.styles[t]=ot(ot({},Fl.styles[t]||{}),s),t==="fas"&&yN("fa",e)}const{styles:F0,shims:_de}=Fl,Oq=Object.keys(xL),Ede=Oq.reduce((t,e)=>(t[e]=Object.keys(xL[e]),t),{});let _L=null,Iq={},Pq={},Dq={},Mq={},Fq={};function jde(t){return~lde.indexOf(t)}function Sde(t,e){const n=e.split("-"),r=n[0],s=n.slice(1).join("-");return r===t&&s!==""&&!jde(s)?s:null}const Bq=()=>{const t=r=>SE(F0,(s,i,o)=>(s[o]=SE(i,r,{}),s),{});Iq=t((r,s,i)=>(s[3]&&(r[s[3]]=i),s[2]&&s[2].filter(c=>typeof c=="number").forEach(c=>{r[c.toString(16)]=i}),r)),Pq=t((r,s,i)=>(r[i]=i,s[2]&&s[2].filter(c=>typeof c=="string").forEach(c=>{r[c]=i}),r)),Fq=t((r,s,i)=>{const o=s[2];return r[i]=i,o.forEach(c=>{r[c]=i}),r});const e="far"in F0||Lt.autoFetchSvg,n=SE(_de,(r,s)=>{const i=s[0];let o=s[1];const c=s[2];return o==="far"&&!e&&(o="fas"),typeof i=="string"&&(r.names[i]={prefix:o,iconName:c}),typeof i=="number"&&(r.unicodes[i.toString(16)]={prefix:o,iconName:c}),r},{names:{},unicodes:{}});Dq=n.names,Mq=n.unicodes,_L=yw(Lt.styleDefault,{family:Lt.familyDefault})};dde(t=>{_L=yw(t.styleDefault,{family:Lt.familyDefault})});Bq();function EL(t,e){return(Iq[t]||{})[e]}function Cde(t,e){return(Pq[t]||{})[e]}function lh(t,e){return(Fq[t]||{})[e]}function Uq(t){return Dq[t]||{prefix:null,iconName:null}}function Nde(t){const e=Mq[t],n=EL("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function gd(){return _L}const zq=()=>({prefix:null,iconName:null,rest:[]});function Tde(t){let e=za;const n=Oq.reduce((r,s)=>(r[s]="".concat(Lt.cssPrefix,"-").concat(s),r),{});return wq.forEach(r=>{(t.includes(n[r])||t.some(s=>Ede[r].includes(s)))&&(e=r)}),e}function yw(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:n=za}=e,r=rde[n][t];if(n===pw&&!t)return"fad";const s=OP[n][t]||OP[n][r],i=t in Fl.styles?t:null;return s||i||null}function Ade(t){let e=[],n=null;return t.forEach(r=>{const s=Sde(Lt.cssPrefix,r);s?n=s:r&&e.push(r)}),{iconName:n,rest:e}}function MP(t){return t.sort().filter((e,n,r)=>r.indexOf(e)===n)}function vw(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:n=!1}=e;let r=null;const s=uN.concat(Hue),i=MP(t.filter(g=>s.includes(g))),o=MP(t.filter(g=>!uN.includes(g))),c=i.filter(g=>(r=g,!bq.includes(g))),[u=null]=c,h=Tde(i),f=ot(ot({},Ade(o)),{},{prefix:yw(u,{family:h})});return ot(ot(ot({},f),Ode({values:t,family:h,styles:F0,config:Lt,canonical:f,givenPrefix:r})),Lde(n,r,f))}function Lde(t,e,n){let{prefix:r,iconName:s}=n;if(t||!r||!s)return{prefix:r,iconName:s};const i=e==="fa"?Uq(s):{},o=lh(r,s);return s=i.iconName||o||s,r=i.prefix||r,r==="far"&&!F0.far&&F0.fas&&!Lt.autoFetchSvg&&(r="fas"),{prefix:r,iconName:s}}const Rde=wq.filter(t=>t!==za||t!==pw),kde=Object.keys(cN).filter(t=>t!==za).map(t=>Object.keys(cN[t])).flat();function Ode(t){const{values:e,family:n,canonical:r,givenPrefix:s="",styles:i={},config:o={}}=t,c=n===pw,u=e.includes("fa-duotone")||e.includes("fad"),h=o.familyDefault==="duotone",f=r.prefix==="fad"||r.prefix==="fa-duotone";if(!c&&(u||h||f)&&(r.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(r.prefix="fab"),!r.prefix&&Rde.includes(n)&&(Object.keys(i).find(p=>kde.includes(p))||o.autoFetchSvg)){const p=Mue.get(n).defaultShortPrefixId;r.prefix=p,r.iconName=lh(r.prefix,r.iconName)||r.iconName}return(r.prefix==="fa"||s==="fa")&&(r.prefix=gd()||"fas"),r}class Ide{constructor(){this.definitions={}}add(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];const s=n.reduce(this._pullDefinitions,{});Object.keys(s).forEach(i=>{this.definitions[i]=ot(ot({},this.definitions[i]||{}),s[i]),yN(i,s[i]);const o=xL[za][i];o&&yN(o,s[i]),Bq()})}reset(){this.definitions={}}_pullDefinitions(e,n){const r=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(r).map(s=>{const{prefix:i,iconName:o,icon:c}=r[s],u=c[2];e[i]||(e[i]={}),u.length>0&&u.forEach(h=>{typeof h=="string"&&(e[i][h]=c)}),e[i][o]=c}),e}}let FP=[],em={};const um={},Pde=Object.keys(um);function Dde(t,e){let{mixoutsTo:n}=e;return FP=t,em={},Object.keys(um).forEach(r=>{Pde.indexOf(r)===-1&&delete um[r]}),FP.forEach(r=>{const s=r.mixout?r.mixout():{};if(Object.keys(s).forEach(i=>{typeof s[i]=="function"&&(n[i]=s[i]),typeof s[i]=="object"&&Object.keys(s[i]).forEach(o=>{n[i]||(n[i]={}),n[i][o]=s[i][o]})}),r.hooks){const i=r.hooks();Object.keys(i).forEach(o=>{em[o]||(em[o]=[]),em[o].push(i[o])})}r.provides&&r.provides(um)}),n}function vN(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];return(em[t]||[]).forEach(o=>{e=o.apply(null,[e,...r])}),e}function Sh(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(em[t]||[]).forEach(i=>{i.apply(null,n)})}function yd(){const t=arguments[0],e=Array.prototype.slice.call(arguments,1);return um[t]?um[t].apply(null,e):void 0}function xN(t){t.prefix==="fa"&&(t.prefix="fas");let{iconName:e}=t;const n=t.prefix||gd();if(e)return e=lh(n,e)||e,PP(qq.definitions,n,e)||PP(Fl.styles,n,e)}const qq=new Ide,Mde=()=>{Lt.autoReplaceSvg=!1,Lt.observeMutations=!1,Sh("noAuto")},Fde={i2svg:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return su?(Sh("beforeI2svg",t),yd("pseudoElements2svg",t),yd("i2svg",t)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e}=t;Lt.autoReplaceSvg===!1&&(Lt.autoReplaceSvg=!0),Lt.observeMutations=!0,xde(()=>{Ude({autoReplaceSvgRoot:e}),Sh("watch",t)})}},Bde={icon:t=>{if(t===null)return null;if(typeof t=="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:lh(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){const e=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],n=yw(t[0]);return{prefix:n,iconName:lh(n,e)||e}}if(typeof t=="string"&&(t.indexOf("".concat(Lt.cssPrefix,"-"))>-1||t.match(sde))){const e=vw(t.split(" "),{skipLookups:!0});return{prefix:e.prefix||gd(),iconName:lh(e.prefix,e.iconName)||e.iconName}}if(typeof t=="string"){const e=gd();return{prefix:e,iconName:lh(e,t)||t}}}},Ji={noAuto:Mde,config:Lt,dom:Fde,parse:Bde,library:qq,findIconDefinition:xN,toHtml:Ry},Ude=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e=Tr}=t;(Object.keys(Fl.styles).length>0||Lt.autoFetchSvg)&&su&&Lt.autoReplaceSvg&&Ji.dom.i2svg({node:e})};function xw(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(n=>Ry(n))}}),Object.defineProperty(t,"node",{get:function(){if(!su)return;const n=Tr.createElement("div");return n.innerHTML=t.html,n.children}}),t}function zde(t){let{children:e,main:n,mask:r,attributes:s,styles:i,transform:o}=t;if(wL(o)&&n.found&&!r.found){const{width:c,height:u}=n,h={x:c/u/2,y:.5};s.style=gw(ot(ot({},i),{},{"transform-origin":"".concat(h.x+o.x/16,"em ").concat(h.y+o.y/16,"em")}))}return[{tag:"svg",attributes:s,children:e}]}function qde(t){let{prefix:e,iconName:n,children:r,attributes:s,symbol:i}=t;const o=i===!0?"".concat(e,"-").concat(Lt.cssPrefix,"-").concat(n):i;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:ot(ot({},s),{},{id:o}),children:r}]}]}function jL(t){const{icons:{main:e,mask:n},prefix:r,iconName:s,transform:i,symbol:o,title:c,maskId:u,titleId:h,extra:f,watchable:g=!1}=t,{width:p,height:y}=n.found?n:e,w=que.includes(r),E=[Lt.replacementClass,s?"".concat(Lt.cssPrefix,"-").concat(s):""].filter(T=>f.classes.indexOf(T)===-1).filter(T=>T!==""||!!T).concat(f.classes).join(" ");let j={children:[],attributes:ot(ot({},f.attributes),{},{"data-prefix":r,"data-icon":s,class:E,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(p," ").concat(y)})};const C=w&&!~f.classes.indexOf("fa-fw")?{width:"".concat(p/y*16*.0625,"em")}:{};g&&(j.attributes[jh]=""),c&&(j.children.push({tag:"title",attributes:{id:j.attributes["aria-labelledby"]||"title-".concat(h||M0())},children:[c]}),delete j.attributes.title);const O=ot(ot({},j),{},{prefix:r,iconName:s,main:e,mask:n,maskId:u,transform:i,symbol:o,styles:ot(ot({},C),f.styles)}),{children:I,attributes:D}=n.found&&e.found?yd("generateAbstractMask",O)||{children:[],attributes:{}}:yd("generateAbstractIcon",O)||{children:[],attributes:{}};return O.children=I,O.attributes=D,o?qde(O):zde(O)}function BP(t){const{content:e,width:n,height:r,transform:s,title:i,extra:o,watchable:c=!1}=t,u=ot(ot(ot({},o.attributes),i?{title:i}:{}),{},{class:o.classes.join(" ")});c&&(u[jh]="");const h=ot({},o.styles);wL(s)&&(h.transform=gde({transform:s,startCentered:!0,width:n,height:r}),h["-webkit-transform"]=h.transform);const f=gw(h);f.length>0&&(u.style=f);const g=[];return g.push({tag:"span",attributes:u,children:[e]}),i&&g.push({tag:"span",attributes:{class:"sr-only"},children:[i]}),g}function $de(t){const{content:e,title:n,extra:r}=t,s=ot(ot(ot({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),i=gw(r.styles);i.length>0&&(s.style=i);const o=[];return o.push({tag:"span",attributes:s,children:[e]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}const{styles:CE}=Fl;function bN(t){const e=t[0],n=t[1],[r]=t.slice(4);let s=null;return Array.isArray(r)?s={tag:"g",attributes:{class:"".concat(Lt.cssPrefix,"-").concat(EE.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Lt.cssPrefix,"-").concat(EE.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(Lt.cssPrefix,"-").concat(EE.PRIMARY),fill:"currentColor",d:r[1]}}]}:s={tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:e,height:n,icon:s}}const Vde={found:!1,width:512,height:512};function Hde(t,e){!Sq&&!Lt.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function wN(t,e){let n=e;return e==="fa"&&Lt.styleDefault!==null&&(e=gd()),new Promise((r,s)=>{if(n==="fa"){const i=Uq(t)||{};t=i.iconName||t,e=i.prefix||e}if(t&&e&&CE[e]&&CE[e][t]){const i=CE[e][t];return r(bN(i))}Hde(t,e),r(ot(ot({},Vde),{},{icon:Lt.showMissingIcons&&t?yd("missingIconAbstract")||{}:{}}))})}const UP=()=>{},_N=Lt.measurePerformance&&vx&&vx.mark&&vx.measure?vx:{mark:UP,measure:UP},Bg='FA "6.7.2"',Gde=t=>(_N.mark("".concat(Bg," ").concat(t," begins")),()=>$q(t)),$q=t=>{_N.mark("".concat(Bg," ").concat(t," ends")),_N.measure("".concat(Bg," ").concat(t),"".concat(Bg," ").concat(t," begins"),"".concat(Bg," ").concat(t," ends"))};var SL={begin:Gde,end:$q};const cb=()=>{};function zP(t){return typeof(t.getAttribute?t.getAttribute(jh):null)=="string"}function Wde(t){const e=t.getAttribute?t.getAttribute(yL):null,n=t.getAttribute?t.getAttribute(vL):null;return e&&n}function Kde(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(Lt.replacementClass)}function Yde(){return Lt.autoReplaceSvg===!0?ub.replace:ub[Lt.autoReplaceSvg]||ub.replace}function Xde(t){return Tr.createElementNS("http://www.w3.org/2000/svg",t)}function Jde(t){return Tr.createElement(t)}function Vq(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:n=t.tag==="svg"?Xde:Jde}=e;if(typeof t=="string")return Tr.createTextNode(t);const r=n(t.tag);return Object.keys(t.attributes||[]).forEach(function(i){r.setAttribute(i,t.attributes[i])}),(t.children||[]).forEach(function(i){r.appendChild(Vq(i,{ceFn:n}))}),r}function Qde(t){let e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}const ub={replace:function(t){const e=t[0];if(e.parentNode)if(t[1].forEach(n=>{e.parentNode.insertBefore(Vq(n),e)}),e.getAttribute(jh)===null&&Lt.keepOriginalSource){let n=Tr.createComment(Qde(e));e.parentNode.replaceChild(n,e)}else e.remove()},nest:function(t){const e=t[0],n=t[1];if(~bL(e).indexOf(Lt.replacementClass))return ub.replace(t);const r=new RegExp("".concat(Lt.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){const i=n[0].attributes.class.split(" ").reduce((o,c)=>(c===Lt.replacementClass||c.match(r)?o.toSvg.push(c):o.toNode.push(c),o),{toNode:[],toSvg:[]});n[0].attributes.class=i.toSvg.join(" "),i.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",i.toNode.join(" "))}const s=n.map(i=>Ry(i)).join(`
`);e.setAttribute(jh,""),e.innerHTML=s}};function qP(t){t()}function Hq(t,e){const n=typeof e=="function"?e:cb;if(t.length===0)n();else{let r=qP;Lt.mutateApproach===tde&&(r=pd.requestAnimationFrame||qP),r(()=>{const s=Yde(),i=SL.begin("mutate");t.map(s),i(),n()})}}let CL=!1;function Gq(){CL=!0}function EN(){CL=!1}let Vb=null;function $P(t){if(!AP||!Lt.observeMutations)return;const{treeCallback:e=cb,nodeCallback:n=cb,pseudoElementsCallback:r=cb,observeMutationsRoot:s=Tr}=t;Vb=new AP(i=>{if(CL)return;const o=gd();Zm(i).forEach(c=>{if(c.type==="childList"&&c.addedNodes.length>0&&!zP(c.addedNodes[0])&&(Lt.searchPseudoElements&&r(c.target),e(c.target)),c.type==="attributes"&&c.target.parentNode&&Lt.searchPseudoElements&&r(c.target.parentNode),c.type==="attributes"&&zP(c.target)&&~ode.indexOf(c.attributeName))if(c.attributeName==="class"&&Wde(c.target)){const{prefix:u,iconName:h}=vw(bL(c.target));c.target.setAttribute(yL,u||o),h&&c.target.setAttribute(vL,h)}else Kde(c.target)&&n(c.target)})}),su&&Vb.observe(s,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function Zde(){Vb&&Vb.disconnect()}function ehe(t){const e=t.getAttribute("style");let n=[];return e&&(n=e.split(";").reduce((r,s)=>{const i=s.split(":"),o=i[0],c=i.slice(1);return o&&c.length>0&&(r[o]=c.join(":").trim()),r},{})),n}function the(t){const e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=t.innerText!==void 0?t.innerText.trim():"";let s=vw(bL(t));return s.prefix||(s.prefix=gd()),e&&n&&(s.prefix=e,s.iconName=n),s.iconName&&s.prefix||(s.prefix&&r.length>0&&(s.iconName=Cde(s.prefix,t.innerText)||EL(s.prefix,gN(t.innerText))),!s.iconName&&Lt.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(s.iconName=t.firstChild.data)),s}function nhe(t){const e=Zm(t.attributes).reduce((s,i)=>(s.name!=="class"&&s.name!=="style"&&(s[i.name]=i.value),s),{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return Lt.autoA11y&&(n?e["aria-labelledby"]="".concat(Lt.replacementClass,"-title-").concat(r||M0()):(e["aria-hidden"]="true",e.focusable="false")),e}function rhe(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Ml,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function VP(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:n,prefix:r,rest:s}=the(t),i=nhe(t),o=vN("parseNodeAttributes",{},t);let c=e.styleParser?ehe(t):[];return ot({iconName:n,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:r,transform:Ml,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:c,attributes:i}},o)}const{styles:she}=Fl;function Wq(t){const e=Lt.autoReplaceSvg==="nest"?VP(t,{styleParser:!1}):VP(t);return~e.extra.classes.indexOf(Nq)?yd("generateLayersText",t,e):yd("generateSvgReplacementMutation",t,e)}function ahe(){return[...Bue,...uN]}function HP(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!su)return Promise.resolve();const n=Tr.documentElement.classList,r=f=>n.add("".concat(kP,"-").concat(f)),s=f=>n.remove("".concat(kP,"-").concat(f)),i=Lt.autoFetchSvg?ahe():bq.concat(Object.keys(she));i.includes("fa")||i.push("fa");const o=[".".concat(Nq,":not([").concat(jh,"])")].concat(i.map(f=>".".concat(f,":not([").concat(jh,"])"))).join(", ");if(o.length===0)return Promise.resolve();let c=[];try{c=Zm(t.querySelectorAll(o))}catch{}if(c.length>0)r("pending"),s("complete");else return Promise.resolve();const u=SL.begin("onTree"),h=c.reduce((f,g)=>{try{const p=Wq(g);p&&f.push(p)}catch(p){Sq||p.name==="MissingIcon"&&console.error(p)}return f},[]);return new Promise((f,g)=>{Promise.all(h).then(p=>{Hq(p,()=>{r("active"),r("complete"),s("pending"),typeof e=="function"&&e(),u(),f()})}).catch(p=>{u(),g(p)})})}function ihe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;Wq(t).then(n=>{n&&Hq([n],e)})}function ohe(t){return function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=(e||{}).icon?e:xN(e||{});let{mask:s}=n;return s&&(s=(s||{}).icon?s:xN(s||{})),t(r,ot(ot({},n),{},{mask:s}))}}const lhe=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=Ml,symbol:r=!1,mask:s=null,maskId:i=null,title:o=null,titleId:c=null,classes:u=[],attributes:h={},styles:f={}}=e;if(!t)return;const{prefix:g,iconName:p,icon:y}=t;return xw(ot({type:"icon"},t),()=>(Sh("beforeDOMElementCreation",{iconDefinition:t,params:e}),Lt.autoA11y&&(o?h["aria-labelledby"]="".concat(Lt.replacementClass,"-title-").concat(c||M0()):(h["aria-hidden"]="true",h.focusable="false")),jL({icons:{main:bN(y),mask:s?bN(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:g,iconName:p,transform:ot(ot({},Ml),n),symbol:r,title:o,maskId:i,titleId:c,extra:{attributes:h,styles:f,classes:u}})))};var che={mixout(){return{icon:ohe(lhe)}},hooks(){return{mutationObserverCallbacks(t){return t.treeCallback=HP,t.nodeCallback=ihe,t}}},provides(t){t.i2svg=function(e){const{node:n=Tr,callback:r=()=>{}}=e;return HP(n,r)},t.generateSvgReplacementMutation=function(e,n){const{iconName:r,title:s,titleId:i,prefix:o,transform:c,symbol:u,mask:h,maskId:f,extra:g}=n;return new Promise((p,y)=>{Promise.all([wN(r,o),h.iconName?wN(h.iconName,h.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(w=>{let[E,j]=w;p([e,jL({icons:{main:E,mask:j},prefix:o,iconName:r,transform:c,symbol:u,maskId:f,title:s,titleId:i,extra:g,watchable:!0})])}).catch(y)})},t.generateAbstractIcon=function(e){let{children:n,attributes:r,main:s,transform:i,styles:o}=e;const c=gw(o);c.length>0&&(r.style=c);let u;return wL(i)&&(u=yd("generateAbstractTransformGrouping",{main:s,transform:i,containerWidth:s.width,iconWidth:s.width})),n.push(u||s.icon),{children:n,attributes:r}}}},uhe={mixout(){return{layer(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:n=[]}=e;return xw({type:"layer"},()=>{Sh("beforeDOMElementCreation",{assembler:t,params:e});let r=[];return t(s=>{Array.isArray(s)?s.map(i=>{r=r.concat(i.abstract)}):r=r.concat(s.abstract)}),[{tag:"span",attributes:{class:["".concat(Lt.cssPrefix,"-layers"),...n].join(" ")},children:r}]})}}}},dhe={mixout(){return{counter(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:n=null,classes:r=[],attributes:s={},styles:i={}}=e;return xw({type:"counter",content:t},()=>(Sh("beforeDOMElementCreation",{content:t,params:e}),$de({content:t.toString(),title:n,extra:{attributes:s,styles:i,classes:["".concat(Lt.cssPrefix,"-layers-counter"),...r]}})))}}}},hhe={mixout(){return{text(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=Ml,title:r=null,classes:s=[],attributes:i={},styles:o={}}=e;return xw({type:"text",content:t},()=>(Sh("beforeDOMElementCreation",{content:t,params:e}),BP({content:t,transform:ot(ot({},Ml),n),title:r,extra:{attributes:i,styles:o,classes:["".concat(Lt.cssPrefix,"-layers-text"),...s]}})))}}},provides(t){t.generateLayersText=function(e,n){const{title:r,transform:s,extra:i}=n;let o=null,c=null;if(vq){const u=parseInt(getComputedStyle(e).fontSize,10),h=e.getBoundingClientRect();o=h.width/u,c=h.height/u}return Lt.autoA11y&&!r&&(i.attributes["aria-hidden"]="true"),Promise.resolve([e,BP({content:e.innerHTML,width:o,height:c,transform:s,title:r,extra:i,watchable:!0})])}}};const fhe=new RegExp('"',"ug"),GP=[1105920,1112319],WP=ot(ot(ot(ot({},{FontAwesome:{normal:"fas",400:"fas"}}),Due),Zue),Gue),jN=Object.keys(WP).reduce((t,e)=>(t[e.toLowerCase()]=WP[e],t),{}),mhe=Object.keys(jN).reduce((t,e)=>{const n=jN[e];return t[e]=n[900]||[...Object.entries(n)][0][1],t},{});function phe(t){const e=t.replace(fhe,""),n=wde(e,0),r=n>=GP[0]&&n<=GP[1],s=e.length===2?e[0]===e[1]:!1;return{value:gN(s?e[0]:e),isSecondary:r||s}}function ghe(t,e){const n=t.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(e),s=isNaN(r)?"normal":r;return(jN[n]||{})[s]||mhe[n]}function KP(t,e){const n="".concat(ede).concat(e.replace(":","-"));return new Promise((r,s)=>{if(t.getAttribute(n)!==null)return r();const o=Zm(t.children).filter(p=>p.getAttribute(hN)===e)[0],c=pd.getComputedStyle(t,e),u=c.getPropertyValue("font-family"),h=u.match(ade),f=c.getPropertyValue("font-weight"),g=c.getPropertyValue("content");if(o&&!h)return t.removeChild(o),r();if(h&&g!=="none"&&g!==""){const p=c.getPropertyValue("content");let y=ghe(u,f);const{value:w,isSecondary:E}=phe(p),j=h[0].startsWith("FontAwesome");let C=EL(y,w),O=C;if(j){const I=Nde(w);I.iconName&&I.prefix&&(C=I.iconName,y=I.prefix)}if(C&&!E&&(!o||o.getAttribute(yL)!==y||o.getAttribute(vL)!==O)){t.setAttribute(n,O),o&&t.removeChild(o);const I=rhe(),{extra:D}=I;D.attributes[hN]=e,wN(C,y).then(T=>{const F=jL(ot(ot({},I),{},{icons:{main:T,mask:zq()},prefix:y,iconName:O,extra:D,watchable:!0})),_=Tr.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?t.insertBefore(_,t.firstChild):t.appendChild(_),_.outerHTML=F.map(R=>Ry(R)).join(`
`),t.removeAttribute(n),r()}).catch(s)}else r()}else r()})}function yhe(t){return Promise.all([KP(t,"::before"),KP(t,"::after")])}function vhe(t){return t.parentNode!==document.head&&!~nde.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(hN)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function YP(t){if(su)return new Promise((e,n)=>{const r=Zm(t.querySelectorAll("*")).filter(vhe).map(yhe),s=SL.begin("searchPseudoElements");Gq(),Promise.all(r).then(()=>{s(),EN(),e()}).catch(()=>{s(),EN(),n()})})}var xhe={hooks(){return{mutationObserverCallbacks(t){return t.pseudoElementsCallback=YP,t}}},provides(t){t.pseudoElements2svg=function(e){const{node:n=Tr}=e;Lt.searchPseudoElements&&YP(n)}}};let XP=!1;var bhe={mixout(){return{dom:{unwatch(){Gq(),XP=!0}}}},hooks(){return{bootstrap(){$P(vN("mutationObserverCallbacks",{}))},noAuto(){Zde()},watch(t){const{observeMutationsRoot:e}=t;XP?EN():$P(vN("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}};const JP=t=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce((n,r)=>{const s=r.toLowerCase().split("-"),i=s[0];let o=s.slice(1).join("-");if(i&&o==="h")return n.flipX=!0,n;if(i&&o==="v")return n.flipY=!0,n;if(o=parseFloat(o),isNaN(o))return n;switch(i){case"grow":n.size=n.size+o;break;case"shrink":n.size=n.size-o;break;case"left":n.x=n.x-o;break;case"right":n.x=n.x+o;break;case"up":n.y=n.y-o;break;case"down":n.y=n.y+o;break;case"rotate":n.rotate=n.rotate+o;break}return n},e)};var whe={mixout(){return{parse:{transform:t=>JP(t)}}},hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-transform");return n&&(t.transform=JP(n)),t}}},provides(t){t.generateAbstractTransformGrouping=function(e){let{main:n,transform:r,containerWidth:s,iconWidth:i}=e;const o={transform:"translate(".concat(s/2," 256)")},c="translate(".concat(r.x*32,", ").concat(r.y*32,") "),u="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),h="rotate(".concat(r.rotate," 0 0)"),f={transform:"".concat(c," ").concat(u," ").concat(h)},g={transform:"translate(".concat(i/2*-1," -256)")},p={outer:o,inner:f,path:g};return{tag:"g",attributes:ot({},p.outer),children:[{tag:"g",attributes:ot({},p.inner),children:[{tag:n.icon.tag,children:n.icon.children,attributes:ot(ot({},n.icon.attributes),p.path)}]}]}}}};const NE={x:0,y:0,width:"100%",height:"100%"};function QP(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function _he(t){return t.tag==="g"?t.children:[t]}var Ehe={hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-mask"),r=n?vw(n.split(" ").map(s=>s.trim())):zq();return r.prefix||(r.prefix=gd()),t.mask=r,t.maskId=e.getAttribute("data-fa-mask-id"),t}}},provides(t){t.generateAbstractMask=function(e){let{children:n,attributes:r,main:s,mask:i,maskId:o,transform:c}=e;const{width:u,icon:h}=s,{width:f,icon:g}=i,p=pde({transform:c,containerWidth:f,iconWidth:u}),y={tag:"rect",attributes:ot(ot({},NE),{},{fill:"white"})},w=h.children?{children:h.children.map(QP)}:{},E={tag:"g",attributes:ot({},p.inner),children:[QP(ot({tag:h.tag,attributes:ot(ot({},h.attributes),p.path)},w))]},j={tag:"g",attributes:ot({},p.outer),children:[E]},C="mask-".concat(o||M0()),O="clip-".concat(o||M0()),I={tag:"mask",attributes:ot(ot({},NE),{},{id:C,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[y,j]},D={tag:"defs",children:[{tag:"clipPath",attributes:{id:O},children:_he(g)},I]};return n.push(D,{tag:"rect",attributes:ot({fill:"currentColor","clip-path":"url(#".concat(O,")"),mask:"url(#".concat(C,")")},NE)}),{children:n,attributes:r}}}},jhe={provides(t){let e=!1;pd.matchMedia&&(e=pd.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){const n=[],r={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};n.push({tag:"path",attributes:ot(ot({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const i=ot(ot({},s),{},{attributeName:"opacity"}),o={tag:"circle",attributes:ot(ot({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||o.children.push({tag:"animate",attributes:ot(ot({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:ot(ot({},i),{},{values:"1;0;1;1;0;1;"})}),n.push(o),n.push({tag:"path",attributes:ot(ot({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:ot(ot({},i),{},{values:"1;0;0;0;0;1;"})}]}),e||n.push({tag:"path",attributes:ot(ot({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:ot(ot({},i),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:n}}}},She={hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-symbol"),r=n===null?!1:n===""?!0:n;return t.symbol=r,t}}}},Che=[vde,che,uhe,dhe,hhe,xhe,bhe,whe,Ehe,jhe,She];Dde(Che,{mixoutsTo:Ji});Ji.noAuto;Ji.config;Ji.library;Ji.dom;const SN=Ji.parse;Ji.findIconDefinition;Ji.toHtml;const Nhe=Ji.icon;Ji.layer;Ji.text;Ji.counter;function ZP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Pl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZP(Object(n),!0).forEach(function(r){tm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hb(t){"@babel/helpers - typeof";return Hb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hb(t)}function tm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function The(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function Ahe(t,e){if(t==null)return{};var n=The(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function CN(t){return Lhe(t)||Rhe(t)||khe(t)||Ohe()}function Lhe(t){if(Array.isArray(t))return NN(t)}function Rhe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function khe(t,e){if(t){if(typeof t=="string")return NN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NN(t,e)}}function NN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ohe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ihe(t){var e,n=t.beat,r=t.fade,s=t.beatFade,i=t.bounce,o=t.shake,c=t.flash,u=t.spin,h=t.spinPulse,f=t.spinReverse,g=t.pulse,p=t.fixedWidth,y=t.inverse,w=t.border,E=t.listItem,j=t.flip,C=t.size,O=t.rotation,I=t.pull,D=(e={"fa-beat":n,"fa-fade":r,"fa-beat-fade":s,"fa-bounce":i,"fa-shake":o,"fa-flash":c,"fa-spin":u,"fa-spin-reverse":f,"fa-spin-pulse":h,"fa-pulse":g,"fa-fw":p,"fa-inverse":y,"fa-border":w,"fa-li":E,"fa-flip":j===!0,"fa-flip-horizontal":j==="horizontal"||j==="both","fa-flip-vertical":j==="vertical"||j==="both"},tm(e,"fa-".concat(C),typeof C<"u"&&C!==null),tm(e,"fa-rotate-".concat(O),typeof O<"u"&&O!==null&&O!==0),tm(e,"fa-pull-".concat(I),typeof I<"u"&&I!==null),tm(e,"fa-swap-opacity",t.swapOpacity),e);return Object.keys(D).map(function(T){return D[T]?T:null}).filter(function(T){return T})}function Phe(t){return t=t-0,t===t}function Kq(t){return Phe(t)?t:(t=t.replace(/[\-_\s]+(.)?/g,function(e,n){return n?n.toUpperCase():""}),t.substr(0,1).toLowerCase()+t.substr(1))}var Dhe=["style"];function Mhe(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Fhe(t){return t.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,n){var r=n.indexOf(":"),s=Kq(n.slice(0,r)),i=n.slice(r+1).trim();return s.startsWith("webkit")?e[Mhe(s)]=i:e[s]=i,e},{})}function Yq(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var r=(e.children||[]).map(function(u){return Yq(t,u)}),s=Object.keys(e.attributes||{}).reduce(function(u,h){var f=e.attributes[h];switch(h){case"class":u.attrs.className=f,delete e.attributes.class;break;case"style":u.attrs.style=Fhe(f);break;default:h.indexOf("aria-")===0||h.indexOf("data-")===0?u.attrs[h.toLowerCase()]=f:u.attrs[Kq(h)]=f}return u},{attrs:{}}),i=n.style,o=i===void 0?{}:i,c=Ahe(n,Dhe);return s.attrs.style=Pl(Pl({},s.attrs.style),o),t.apply(void 0,[e.tag,Pl(Pl({},s.attrs),c)].concat(CN(r)))}var Xq=!1;try{Xq=!0}catch{}function Bhe(){if(!Xq&&console&&typeof console.error=="function"){var t;(t=console).error.apply(t,arguments)}}function eD(t){if(t&&Hb(t)==="object"&&t.prefix&&t.iconName&&t.icon)return t;if(SN.icon)return SN.icon(t);if(t===null)return null;if(t&&Hb(t)==="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}function TE(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?tm({},t,e):{}}var tD={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},we=er.forwardRef(function(t,e){var n=Pl(Pl({},tD),t),r=n.icon,s=n.mask,i=n.symbol,o=n.className,c=n.title,u=n.titleId,h=n.maskId,f=eD(r),g=TE("classes",[].concat(CN(Ihe(n)),CN((o||"").split(" ")))),p=TE("transform",typeof n.transform=="string"?SN.transform(n.transform):n.transform),y=TE("mask",eD(s)),w=Nhe(f,Pl(Pl(Pl(Pl({},g),p),y),{},{symbol:i,title:c,titleId:u,maskId:h}));if(!w)return Bhe("Could not find icon",f),null;var E=w.abstract,j={ref:e};return Object.keys(n).forEach(function(C){tD.hasOwnProperty(C)||(j[C]=n[C])}),Uhe(E[0],j)});we.displayName="FontAwesomeIcon";we.propTypes={beat:pt.bool,border:pt.bool,beatFade:pt.bool,bounce:pt.bool,className:pt.string,fade:pt.bool,flash:pt.bool,mask:pt.oneOfType([pt.object,pt.array,pt.string]),maskId:pt.string,fixedWidth:pt.bool,inverse:pt.bool,flip:pt.oneOf([!0,!1,"horizontal","vertical","both"]),icon:pt.oneOfType([pt.object,pt.array,pt.string]),listItem:pt.bool,pull:pt.oneOf(["right","left"]),pulse:pt.bool,rotation:pt.oneOf([0,90,180,270]),shake:pt.bool,size:pt.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:pt.bool,spinPulse:pt.bool,spinReverse:pt.bool,symbol:pt.oneOfType([pt.bool,pt.string]),title:pt.string,titleId:pt.string,transform:pt.oneOfType([pt.string,pt.object]),swapOpacity:pt.bool};var Uhe=Yq.bind(null,er.createElement);/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const Jq={prefix:"fas",iconName:"binoculars",icon:[512,512,[],"f1e5","M128 32l32 0c17.7 0 32 14.3 32 32l0 32L96 96l0-32c0-17.7 14.3-32 32-32zm64 96l0 320c0 17.7-14.3 32-32 32L32 480c-17.7 0-32-14.3-32-32l0-59.1c0-34.6 9.4-68.6 27.2-98.3C40.9 267.8 49.7 242.4 53 216L60.5 156c2-16 15.6-28 31.8-28l99.8 0zm227.8 0c16.1 0 29.8 12 31.8 28L459 216c3.3 26.4 12.1 51.8 25.8 74.6c17.8 29.7 27.2 63.7 27.2 98.3l0 59.1c0 17.7-14.3 32-32 32l-128 0c-17.7 0-32-14.3-32-32l0-320 99.8 0zM320 64c0-17.7 14.3-32 32-32l32 0c17.7 0 32 14.3 32 32l0 32-96 0 0-32zm-32 64l0 160-64 0 0-160 64 0z"]},zhe={prefix:"fas",iconName:"bars",icon:[448,512,["navicon"],"f0c9","M0 96C0 78.3 14.3 64 32 64l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 128C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32L32 448c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"]},qhe={prefix:"fas",iconName:"people-group",icon:[640,512,[],"e533","M72 88a56 56 0 1 1 112 0A56 56 0 1 1 72 88zM64 245.7C54 256.9 48 271.8 48 288s6 31.1 16 42.3l0-84.7zm144.4-49.3C178.7 222.7 160 261.2 160 304c0 34.3 12 65.8 32 90.5l0 21.5c0 17.7-14.3 32-32 32l-64 0c-17.7 0-32-14.3-32-32l0-26.8C26.2 371.2 0 332.7 0 288c0-61.9 50.1-112 112-112l32 0c24 0 46.2 7.5 64.4 20.3zM448 416l0-21.5c20-24.7 32-56.2 32-90.5c0-42.8-18.7-81.3-48.4-107.7C449.8 183.5 472 176 496 176l32 0c61.9 0 112 50.1 112 112c0 44.7-26.2 83.2-64 101.2l0 26.8c0 17.7-14.3 32-32 32l-64 0c-17.7 0-32-14.3-32-32zm8-328a56 56 0 1 1 112 0A56 56 0 1 1 456 88zM576 245.7l0 84.7c10-11.3 16-26.1 16-42.3s-6-31.1-16-42.3zM320 32a64 64 0 1 1 0 128 64 64 0 1 1 0-128zM240 304c0 16.2 6 31 16 42.3l0-84.7c-10 11.3-16 26.1-16 42.3zm144-42.3l0 84.7c10-11.3 16-26.1 16-42.3s-6-31.1-16-42.3zM448 304c0 44.7-26.2 83.2-64 101.2l0 42.8c0 17.7-14.3 32-32 32l-64 0c-17.7 0-32-14.3-32-32l0-42.8c-37.8-18-64-56.5-64-101.2c0-61.9 50.1-112 112-112l32 0c61.9 0 112 50.1 112 112z"]},$he={prefix:"fas",iconName:"flag",icon:[448,512,[127988,61725],"f024","M64 32C64 14.3 49.7 0 32 0S0 14.3 0 32L0 64 0 368 0 480c0 17.7 14.3 32 32 32s32-14.3 32-32l0-128 64.3-16.1c41.1-10.3 84.6-5.5 122.5 13.4c44.2 22.1 95.5 24.8 141.7 7.4l34.7-13c12.5-4.7 20.8-16.6 20.8-30l0-247.7c0-23-24.2-38-44.8-27.7l-9.6 4.8c-46.3 23.2-100.8 23.2-147.1 0c-35.1-17.6-75.4-22-113.5-12.5L64 48l0-16z"]},Vhe={prefix:"fas",iconName:"pen-to-square",icon:[512,512,["edit"],"f044","M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160L0 416c0 53 43 96 96 96l256 0c53 0 96-43 96-96l0-96c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 96c0 17.7-14.3 32-32 32L96 448c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l96 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 64z"]},Ir=Vhe,Hhe={prefix:"fas",iconName:"bag-shopping",icon:[448,512,["shopping-bag"],"f290","M160 112c0-35.3 28.7-64 64-64s64 28.7 64 64l0 48-128 0 0-48zm-48 48l-64 0c-26.5 0-48 21.5-48 48L0 416c0 53 43 96 96 96l256 0c53 0 96-43 96-96l0-208c0-26.5-21.5-48-48-48l-64 0 0-48C336 50.1 285.9 0 224 0S112 50.1 112 112l0 48zm24 48a24 24 0 1 1 0 48 24 24 0 1 1 0-48zm152 24a24 24 0 1 1 48 0 24 24 0 1 1 -48 0z"]},Ghe=Hhe,Whe={prefix:"fas",iconName:"truck-medical",icon:[640,512,[128657,"ambulance"],"f0f9","M0 48C0 21.5 21.5 0 48 0L368 0c26.5 0 48 21.5 48 48l0 48 50.7 0c17 0 33.3 6.7 45.3 18.7L589.3 192c12 12 18.7 28.3 18.7 45.3l0 18.7 0 32 0 64c17.7 0 32 14.3 32 32s-14.3 32-32 32l-32 0c0 53-43 96-96 96s-96-43-96-96l-128 0c0 53-43 96-96 96s-96-43-96-96l-16 0c-26.5 0-48-21.5-48-48L0 48zM416 256l128 0 0-18.7L466.7 160 416 160l0 96zM160 464a48 48 0 1 0 0-96 48 48 0 1 0 0 96zm368-48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM176 80l0 48-48 0c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l48 0 0 48c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-48 48 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-48 0 0-48c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16z"]},Khe=Whe,Yhe={prefix:"fas",iconName:"umbrella-beach",icon:[576,512,[127958],"f5ca","M346.3 271.8l-60.1-21.9L214 448 32 448c-17.7 0-32 14.3-32 32s14.3 32 32 32l512 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-261.9 0 64.1-176.2zm121.1-.2l-3.3 9.1 67.7 24.6c18.1 6.6 38-4.2 39.6-23.4c6.5-78.5-23.9-155.5-80.8-208.5c2 8 3.2 16.3 3.4 24.8l.2 6c1.8 57-7.3 113.8-26.8 167.4zM462 99.1c-1.1-34.4-22.5-64.8-54.4-77.4c-.9-.4-1.9-.7-2.8-1.1c-33-11.7-69.8-2.4-93.1 23.8l-4 4.5C272.4 88.3 245 134.2 226.8 184l-3.3 9.1L434 269.7l3.3-9.1c18.1-49.8 26.6-102.5 24.9-155.5l-.2-6zM107.2 112.9c-11.1 15.7-2.8 36.8 15.3 43.4l71 25.8 3.3-9.1c19.5-53.6 49.1-103 87.1-145.5l4-4.5c6.2-6.9 13.1-13 20.5-18.2c-79.6 2.5-154.7 42.2-201.2 108z"]},Xhe={prefix:"fas",iconName:"gauge",icon:[512,512,["dashboard","gauge-med","tachometer-alt-average"],"f624","M0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm320 96c0-26.9-16.5-49.9-40-59.3L280 88c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 204.7c-23.5 9.5-40 32.5-40 59.3c0 35.3 28.7 64 64 64s64-28.7 64-64zM144 176a32 32 0 1 0 0-64 32 32 0 1 0 0 64zm-16 80a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm288 32a32 32 0 1 0 0-64 32 32 0 1 0 0 64zM400 144a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"]},Jhe=Xhe,Qhe={prefix:"fas",iconName:"bullhorn",icon:[512,512,[128226,128363],"f0a1","M480 32c0-12.9-7.8-24.6-19.8-29.6s-25.7-2.2-34.9 6.9L381.7 53c-48 48-113.1 75-181 75l-8.7 0-32 0-96 0c-35.3 0-64 28.7-64 64l0 96c0 35.3 28.7 64 64 64l0 128c0 17.7 14.3 32 32 32l64 0c17.7 0 32-14.3 32-32l0-128 8.7 0c67.9 0 133 27 181 75l43.6 43.6c9.2 9.2 22.9 11.9 34.9 6.9s19.8-16.6 19.8-29.6l0-147.6c18.6-8.8 32-32.5 32-60.4s-13.4-51.6-32-60.4L480 32zm-64 76.7L416 240l0 131.3C357.2 317.8 280.5 288 200.7 288l-8.7 0 0-96 8.7 0c79.8 0 156.5-29.8 215.3-83.3z"]},Zhe={prefix:"fas",iconName:"ban",icon:[512,512,[128683,"cancel"],"f05e","M367.2 412.5L99.5 144.8C77.1 176.1 64 214.5 64 256c0 106 86 192 192 192c41.5 0 79.9-13.1 111.2-35.5zm45.3-45.3C434.9 335.9 448 297.5 448 256c0-106-86-192-192-192c-41.5 0-79.9 13.1-111.2 35.5L412.5 367.2zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z"]},nn=Zhe,efe={prefix:"fas",iconName:"passport",icon:[448,512,[],"f5ab","M0 64C0 28.7 28.7 0 64 0L384 0c35.3 0 64 28.7 64 64l0 384c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 64zM183 278.8c-27.9-13.2-48.4-39.4-53.7-70.8l39.1 0c1.6 30.4 7.7 53.8 14.6 70.8zm41.3 9.2l-.3 0-.3 0c-2.4-3.5-5.7-8.9-9.1-16.5c-6-13.6-12.4-34.3-14.2-63.5l47.1 0c-1.8 29.2-8.1 49.9-14.2 63.5c-3.4 7.6-6.7 13-9.1 16.5zm40.7-9.2c6.8-17.1 12.9-40.4 14.6-70.8l39.1 0c-5.3 31.4-25.8 57.6-53.7 70.8zM279.6 176c-1.6-30.4-7.7-53.8-14.6-70.8c27.9 13.2 48.4 39.4 53.7 70.8l-39.1 0zM223.7 96l.3 0 .3 0c2.4 3.5 5.7 8.9 9.1 16.5c6 13.6 12.4 34.3 14.2 63.5l-47.1 0c1.8-29.2 8.1-49.9 14.2-63.5c3.4-7.6 6.7-13 9.1-16.5zM183 105.2c-6.8 17.1-12.9 40.4-14.6 70.8l-39.1 0c5.3-31.4 25.8-57.6 53.7-70.8zM352 192A128 128 0 1 0 96 192a128 128 0 1 0 256 0zM112 384c-8.8 0-16 7.2-16 16s7.2 16 16 16l224 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-224 0z"]},tfe={prefix:"fas",iconName:"user-group",icon:[640,512,[128101,"user-friends"],"f500","M96 128a128 128 0 1 1 256 0A128 128 0 1 1 96 128zM0 482.3C0 383.8 79.8 304 178.3 304l91.4 0C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7L29.7 512C13.3 512 0 498.7 0 482.3zM609.3 512l-137.8 0c5.4-9.4 8.6-20.3 8.6-32l0-8c0-60.7-27.1-115.2-69.8-151.8c2.4-.1 4.7-.2 7.1-.2l61.4 0C567.8 320 640 392.2 640 481.3c0 17-13.8 30.7-30.7 30.7zM432 256c-31 0-59-12.6-79.3-32.9C372.4 196.5 384 163.6 384 128c0-26.8-6.6-52.1-18.3-74.3C384.3 40.1 407.2 32 432 32c61.9 0 112 50.1 112 112s-50.1 112-112 112z"]},nfe={prefix:"fas",iconName:"person-walking",icon:[320,512,[128694,"walking"],"f554","M160 48a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zM126.5 199.3c-1 .4-1.9 .8-2.9 1.2l-8 3.5c-16.4 7.3-29 21.2-34.7 38.2l-2.6 7.8c-5.6 16.8-23.7 25.8-40.5 20.2s-25.8-23.7-20.2-40.5l2.6-7.8c11.4-34.1 36.6-61.9 69.4-76.5l8-3.5c20.8-9.2 43.3-14 66.1-14c44.6 0 84.8 26.8 101.9 67.9L281 232.7l21.4 10.7c15.8 7.9 22.2 27.1 14.3 42.9s-27.1 22.2-42.9 14.3L247 287.3c-10.3-5.2-18.4-13.8-22.8-24.5l-9.6-23-19.3 65.5 49.5 54c5.4 5.9 9.2 13 11.2 20.8l23 92.1c4.3 17.1-6.1 34.5-23.3 38.8s-34.5-6.1-38.8-23.3l-22-88.1-70.7-77.1c-14.8-16.1-20.3-38.6-14.7-59.7l16.9-63.5zM68.7 398l25-62.4c2.1 3 4.5 5.8 7 8.6l40.7 44.4-14.5 36.2c-2.4 6-6 11.5-10.6 16.1L54.6 502.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L68.7 398z"]},rfe=nfe,TN={prefix:"fas",iconName:"fire",icon:[448,512,[128293],"f06d","M159.3 5.4c7.8-7.3 19.9-7.2 27.7 .1c27.6 25.9 53.5 53.8 77.7 84c11-14.4 23.5-30.1 37-42.9c7.9-7.4 20.1-7.4 28 .1c34.6 33 63.9 76.6 84.5 118c20.3 40.8 33.8 82.5 33.8 111.9C448 404.2 348.2 512 224 512C98.4 512 0 404.1 0 276.5c0-38.4 17.8-85.3 45.4-131.7C73.3 97.7 112.7 48.6 159.3 5.4zM225.7 416c25.3 0 47.7-7 68.8-21c42.1-29.4 53.4-88.2 28.1-134.4c-4.5-9-16-9.6-22.5-2l-25.2 29.3c-6.6 7.6-18.5 7.4-24.7-.5c-16.5-21-46-58.5-62.8-79.8c-6.3-8-18.3-8.1-24.7-.1c-33.8 42.5-50.8 69.3-50.8 99.4C112 375.4 162.6 416 225.7 416z"]},sfe={prefix:"fas",iconName:"chart-bar",icon:[512,512,["bar-chart"],"f080","M32 32c17.7 0 32 14.3 32 32l0 336c0 8.8 7.2 16 16 16l400 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L80 480c-44.2 0-80-35.8-80-80L0 64C0 46.3 14.3 32 32 32zm96 96c0-17.7 14.3-32 32-32l192 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-192 0c-17.7 0-32-14.3-32-32zm32 64l128 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 96l256 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-256 0c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},afe=sfe,ife={prefix:"fas",iconName:"handshake",icon:[640,512,[],"f2b5","M323.4 85.2l-96.8 78.4c-16.1 13-19.2 36.4-7 53.1c12.9 17.8 38 21.3 55.3 7.8l99.3-77.2c7-5.4 17-4.2 22.5 2.8s4.2 17-2.8 22.5l-20.9 16.2L512 316.8 512 128l-.7 0-3.9-2.5L434.8 79c-15.3-9.8-33.2-15-51.4-15c-21.8 0-43 7.5-60 21.2zm22.8 124.4l-51.7 40.2C263 274.4 217.3 268 193.7 235.6c-22.2-30.5-16.6-73.1 12.7-96.8l83.2-67.3c-11.6-4.9-24.1-7.4-36.8-7.4C234 64 215.7 69.6 200 80l-72 48 0 224 28.2 0 91.4 83.4c19.6 17.9 49.9 16.5 67.8-3.1c5.5-6.1 9.2-13.2 11.1-20.6l17 15.6c19.5 17.9 49.9 16.6 67.8-2.9c4.5-4.9 7.8-10.6 9.9-16.5c19.4 13 45.8 10.3 62.1-7.5c17.9-19.5 16.6-49.9-2.9-67.8l-134.2-123zM16 128c-8.8 0-16 7.2-16 16L0 352c0 17.7 14.3 32 32 32l32 0c17.7 0 32-14.3 32-32l0-224-80 0zM48 320a16 16 0 1 1 0 32 16 16 0 1 1 0-32zM544 128l0 224c0 17.7 14.3 32 32 32l32 0c17.7 0 32-14.3 32-32l0-208c0-8.8-7.2-16-16-16l-80 0zm32 208a16 16 0 1 1 32 0 16 16 0 1 1 -32 0z"]},ofe={prefix:"fas",iconName:"spa",icon:[576,512,[],"f5bb","M183.1 235.3c33.7 20.7 62.9 48.1 85.8 80.5c7 9.9 13.4 20.3 19.1 31c5.7-10.8 12.1-21.1 19.1-31c22.9-32.4 52.1-59.8 85.8-80.5C437.6 207.8 490.1 192 546 192l9.9 0c11.1 0 20.1 9 20.1 20.1C576 360.1 456.1 480 308.1 480L288 480l-20.1 0C119.9 480 0 360.1 0 212.1C0 201 9 192 20.1 192l9.9 0c55.9 0 108.4 15.8 153.1 43.3zM301.5 37.6c15.7 16.9 61.1 71.8 84.4 164.6c-38 21.6-71.4 50.8-97.9 85.6c-26.5-34.8-59.9-63.9-97.9-85.6c23.2-92.8 68.6-147.7 84.4-164.6C278 33.9 282.9 32 288 32s10 1.9 13.5 5.6z"]},lfe={prefix:"fas",iconName:"ferry",icon:[576,512,[],"e4ea","M224 0L352 0c17.7 0 32 14.3 32 32l75.1 0c20.6 0 31.6 24.3 18.1 39.8L456 96 120 96 98.8 71.8C85.3 56.3 96.3 32 116.9 32L192 32c0-17.7 14.3-32 32-32zM96 128l384 0c17.7 0 32 14.3 32 32l0 123.5c0 13.3-4.2 26.3-11.9 37.2l-51.4 71.9c-1.9 1.1-3.7 2.2-5.5 3.5c-15.5 10.7-34 18-51 19.9l-16.5 0c-17.1-1.8-35-9-50.8-19.9c-22.1-15.5-51.6-15.5-73.7 0c-14.8 10.2-32.5 18-50.6 19.9l-16.6 0c-17-1.8-35.6-9.2-51-19.9c-1.8-1.3-3.7-2.4-5.6-3.5L75.9 320.7C68.2 309.8 64 296.8 64 283.5L64 160c0-17.7 14.3-32 32-32zm32 64l0 96 320 0 0-96-320 0zM306.5 421.9C329 437.4 356.5 448 384 448c26.9 0 55.3-10.8 77.4-26.1c0 0 0 0 0 0c11.9-8.5 28.1-7.8 39.2 1.7c14.4 11.9 32.5 21 50.6 25.2c17.2 4 27.9 21.2 23.9 38.4s-21.2 27.9-38.4 23.9c-24.5-5.7-44.9-16.5-58.2-25C449.5 501.7 417 512 384 512c-31.9 0-60.6-9.9-80.4-18.9c-5.8-2.7-11.1-5.3-15.6-7.7c-4.5 2.4-9.7 5.1-15.6 7.7c-19.8 9-48.5 18.9-80.4 18.9c-33 0-65.5-10.3-94.5-25.8c-13.4 8.4-33.7 19.3-58.2 25c-17.2 4-34.4-6.7-38.4-23.9s6.7-34.4 23.9-38.4c18.1-4.2 36.2-13.3 50.6-25.2c11.1-9.4 27.3-10.1 39.2-1.7c0 0 0 0 0 0C136.7 437.2 165.1 448 192 448c27.5 0 55-10.6 77.5-26.1c11.1-7.9 25.9-7.9 37 0z"]},cfe={prefix:"fas",iconName:"arrows-rotate",icon:[512,512,[128472,"refresh","sync"],"f021","M105.1 202.6c7.7-21.8 20.2-42.3 37.8-59.8c62.5-62.5 163.8-62.5 226.3 0L386.3 160 352 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l111.5 0c0 0 0 0 0 0l.4 0c17.7 0 32-14.3 32-32l0-112c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 35.2L414.4 97.6c-87.5-87.5-229.3-87.5-316.8 0C73.2 122 55.6 150.7 44.8 181.4c-5.9 16.7 2.9 34.9 19.5 40.8s34.9-2.9 40.8-19.5zM39 289.3c-5 1.5-9.8 4.2-13.7 8.2c-4 4-6.7 8.8-8.1 14c-.3 1.2-.6 2.5-.8 3.8c-.3 1.7-.4 3.4-.4 5.1L16 432c0 17.7 14.3 32 32 32s32-14.3 32-32l0-35.1 17.6 17.5c0 0 0 0 0 0c87.5 87.4 229.3 87.4 316.7 0c24.4-24.4 42.1-53.1 52.9-83.8c5.9-16.7-2.9-34.9-19.5-40.8s-34.9 2.9-40.8 19.5c-7.7 21.8-20.2 42.3-37.8 59.8c-62.5 62.5-163.8 62.5-226.3 0l-.1-.1L125.6 352l34.4 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L48.4 288c-1.6 0-3.2 .1-4.8 .3s-3.1 .5-4.6 1z"]},Pr=cfe,Qq={prefix:"fas",iconName:"leaf",icon:[512,512,[],"f06c","M272 96c-78.6 0-145.1 51.5-167.7 122.5c33.6-17 71.5-26.5 111.7-26.5l88 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-16 0-72 0s0 0 0 0c-16.6 0-32.7 1.9-48.3 5.4c-25.9 5.9-49.9 16.4-71.4 30.7c0 0 0 0 0 0C38.3 298.8 0 364.9 0 440l0 16c0 13.3 10.7 24 24 24s24-10.7 24-24l0-16c0-48.7 20.7-92.5 53.8-123.2C121.6 392.3 190.3 448 272 448l1 0c132.1-.7 239-130.9 239-291.4c0-42.6-7.5-83.1-21.1-119.6c-2.6-6.9-12.7-6.6-16.2-.1C455.9 72.1 418.7 96 376 96L272 96z"]},ufe={prefix:"fas",iconName:"wine-glass",icon:[320,512,[127863],"f4e3","M32.1 29.3C33.5 12.8 47.4 0 64 0L256 0c16.6 0 30.5 12.8 31.9 29.3l14 168.4c6 72-42.5 135.2-109.9 150.6l0 99.6 48 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-80 0-80 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l48 0 0-99.6C60.6 333 12.1 269.8 18.1 197.8l14-168.4zm56 98.7l143.8 0-5.3-64L93.4 64l-5.3 64z"]},dfe={prefix:"fas",iconName:"square-parking",icon:[448,512,[127359,"parking"],"f540","M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zM192 256l48 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-48 0 0 64zm48 64l-48 0 0 32c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-64 0-120c0-22.1 17.9-40 40-40l72 0c53 0 96 43 96 96s-43 96-96 96z"]},hfe=dfe,ffe={prefix:"fas",iconName:"bus",icon:[576,512,[128653],"f207","M288 0C422.4 0 512 35.2 512 80l0 16 0 32c17.7 0 32 14.3 32 32l0 64c0 17.7-14.3 32-32 32l0 160c0 17.7-14.3 32-32 32l0 32c0 17.7-14.3 32-32 32l-32 0c-17.7 0-32-14.3-32-32l0-32-192 0 0 32c0 17.7-14.3 32-32 32l-32 0c-17.7 0-32-14.3-32-32l0-32c-17.7 0-32-14.3-32-32l0-160c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32c0 0 0 0 0 0l0-32s0 0 0 0l0-16C64 35.2 153.6 0 288 0zM128 160l0 96c0 17.7 14.3 32 32 32l112 0 0-160-112 0c-17.7 0-32 14.3-32 32zM304 288l112 0c17.7 0 32-14.3 32-32l0-96c0-17.7-14.3-32-32-32l-112 0 0 160zM144 400a32 32 0 1 0 0-64 32 32 0 1 0 0 64zm288 0a32 32 0 1 0 0-64 32 32 0 1 0 0 64zM384 80c0-8.8-7.2-16-16-16L208 64c-8.8 0-16 7.2-16 16s7.2 16 16 16l160 0c8.8 0 16-7.2 16-16z"]},mfe={prefix:"fas",iconName:"shop",icon:[640,512,["store-alt"],"f54f","M36.8 192l566.3 0c20.3 0 36.8-16.5 36.8-36.8c0-7.3-2.2-14.4-6.2-20.4L558.2 21.4C549.3 8 534.4 0 518.3 0L121.7 0c-16 0-31 8-39.9 21.4L6.2 134.7c-4 6.1-6.2 13.2-6.2 20.4C0 175.5 16.5 192 36.8 192zM64 224l0 160 0 80c0 26.5 21.5 48 48 48l224 0c26.5 0 48-21.5 48-48l0-80 0-160-64 0 0 160-192 0 0-160-64 0zm448 0l0 256c0 17.7 14.3 32 32 32s32-14.3 32-32l0-256-64 0z"]},pfe={prefix:"fas",iconName:"calendar-xmark",icon:[448,512,["calendar-times"],"f273","M128 0c17.7 0 32 14.3 32 32l0 32 128 0 0-32c0-17.7 14.3-32 32-32s32 14.3 32 32l0 32 48 0c26.5 0 48 21.5 48 48l0 48L0 160l0-48C0 85.5 21.5 64 48 64l48 0 0-32c0-17.7 14.3-32 32-32zM0 192l448 0 0 272c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 192zM305 305c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-47 47-47-47c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l47 47-47 47c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l47-47 47 47c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-47-47 47-47z"]},Pt={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M135.2 17.7L128 32 32 32C14.3 32 0 46.3 0 64S14.3 96 32 96l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-96 0-7.2-14.3C307.4 6.8 296.3 0 284.2 0L163.8 0c-12.1 0-23.2 6.8-28.6 17.7zM416 128L32 128 53.2 467c1.6 25.3 22.6 45 47.9 45l245.8 0c25.3 0 46.3-19.7 47.9-45L416 128z"]},gfe={prefix:"fas",iconName:"tag",icon:[448,512,[127991],"f02b","M0 80L0 229.5c0 17 6.7 33.3 18.7 45.3l176 176c25 25 65.5 25 90.5 0L418.7 317.3c25-25 25-65.5 0-90.5l-176-176c-12-12-28.3-18.7-45.3-18.7L48 32C21.5 32 0 53.5 0 80zm112 32a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"]},yfe={prefix:"fas",iconName:"dumbbell",icon:[640,512,[],"f44b","M96 64c0-17.7 14.3-32 32-32l32 0c17.7 0 32 14.3 32 32l0 160 0 64 0 160c0 17.7-14.3 32-32 32l-32 0c-17.7 0-32-14.3-32-32l0-64-32 0c-17.7 0-32-14.3-32-32l0-64c-17.7 0-32-14.3-32-32s14.3-32 32-32l0-64c0-17.7 14.3-32 32-32l32 0 0-64zm448 0l0 64 32 0c17.7 0 32 14.3 32 32l0 64c17.7 0 32 14.3 32 32s-14.3 32-32 32l0 64c0 17.7-14.3 32-32 32l-32 0 0 64c0 17.7-14.3 32-32 32l-32 0c-17.7 0-32-14.3-32-32l0-160 0-64 0-160c0-17.7 14.3-32 32-32l32 0c17.7 0 32 14.3 32 32zM416 224l0 64-192 0 0-64 192 0z"]},vfe={prefix:"fas",iconName:"ship",icon:[576,512,[128674],"f21a","M192 32c0-17.7 14.3-32 32-32L352 0c17.7 0 32 14.3 32 32l0 32 48 0c26.5 0 48 21.5 48 48l0 128 44.4 14.8c23.1 7.7 29.5 37.5 11.5 53.9l-101 92.6c-16.2 9.4-34.7 15.1-50.9 15.1c-19.6 0-40.8-7.7-59.2-20.3c-22.1-15.5-51.6-15.5-73.7 0c-17.1 11.8-38 20.3-59.2 20.3c-16.2 0-34.7-5.7-50.9-15.1l-101-92.6c-18-16.5-11.6-46.2 11.5-53.9L96 240l0-128c0-26.5 21.5-48 48-48l48 0 0-32zM160 218.7l107.8-35.9c13.1-4.4 27.3-4.4 40.5 0L416 218.7l0-90.7-256 0 0 90.7zM306.5 421.9C329 437.4 356.5 448 384 448c26.9 0 55.4-10.8 77.4-26.1c0 0 0 0 0 0c11.9-8.5 28.1-7.8 39.2 1.7c14.4 11.9 32.5 21 50.6 25.2c17.2 4 27.9 21.2 23.9 38.4s-21.2 27.9-38.4 23.9c-24.5-5.7-44.9-16.5-58.2-25C449.5 501.7 417 512 384 512c-31.9 0-60.6-9.9-80.4-18.9c-5.8-2.7-11.1-5.3-15.6-7.7c-4.5 2.4-9.7 5.1-15.6 7.7c-19.8 9-48.5 18.9-80.4 18.9c-33 0-65.5-10.3-94.5-25.8c-13.4 8.4-33.7 19.3-58.2 25c-17.2 4-34.4-6.7-38.4-23.9s6.7-34.4 23.9-38.4c18.1-4.2 36.2-13.3 50.6-25.2c11.1-9.4 27.3-10.1 39.2-1.7c0 0 0 0 0 0C136.7 437.2 165.1 448 192 448c27.5 0 55-10.6 77.5-26.1c11.1-7.9 25.9-7.9 37 0z"]},xfe={prefix:"fas",iconName:"utensils",icon:[448,512,[127860,61685,"cutlery"],"f2e7","M416 0C400 0 288 32 288 176l0 112c0 35.3 28.7 64 64 64l32 0 0 128c0 17.7 14.3 32 32 32s32-14.3 32-32l0-128 0-112 0-208c0-17.7-14.3-32-32-32zM64 16C64 7.8 57.9 1 49.7 .1S34.2 4.6 32.4 12.5L2.1 148.8C.7 155.1 0 161.5 0 167.9c0 45.9 35.1 83.6 80 87.7L80 480c0 17.7 14.3 32 32 32s32-14.3 32-32l0-224.4c44.9-4.1 80-41.8 80-87.7c0-6.4-.7-12.8-2.1-19.1L191.6 12.5c-1.8-8-9.3-13.3-17.4-12.4S160 7.8 160 16l0 134.2c0 5.4-4.4 9.8-9.8 9.8c-5.1 0-9.3-3.9-9.8-9L127.9 14.6C127.2 6.3 120.3 0 112 0s-15.2 6.3-15.9 14.6L83.7 151c-.5 5.1-4.7 9-9.8 9c-5.4 0-9.8-4.4-9.8-9.8L64 16zm48.3 152l-.3 0-.3 0 .3-.7 .3 .7z"]},bfe={prefix:"fas",iconName:"book-open-reader",icon:[512,512,["book-reader"],"f5da","M160 96a96 96 0 1 1 192 0A96 96 0 1 1 160 96zm80 152l0 264-48.4-24.2c-20.9-10.4-43.5-17-66.8-19.3l-96-9.6C12.5 457.2 0 443.5 0 427L0 224c0-17.7 14.3-32 32-32l30.3 0c63.6 0 125.6 19.6 177.7 56zm32 264l0-264c52.1-36.4 114.1-56 177.7-56l30.3 0c17.7 0 32 14.3 32 32l0 203c0 16.4-12.5 30.2-28.8 31.8l-96 9.6c-23.2 2.3-45.9 8.9-66.8 19.3L272 512z"]},wfe=bfe,_fe={prefix:"fas",iconName:"medal",icon:[512,512,[127941],"f5a2","M4.1 38.2C1.4 34.2 0 29.4 0 24.6C0 11 11 0 24.6 0L133.9 0c11.2 0 21.7 5.9 27.4 15.5l68.5 114.1c-48.2 6.1-91.3 28.6-123.4 61.9L4.1 38.2zm503.7 0L405.6 191.5c-32.1-33.3-75.2-55.8-123.4-61.9L350.7 15.5C356.5 5.9 366.9 0 378.1 0L487.4 0C501 0 512 11 512 24.6c0 4.8-1.4 9.6-4.1 13.6zM80 336a176 176 0 1 1 352 0A176 176 0 1 1 80 336zm184.4-94.9c-3.4-7-13.3-7-16.8 0l-22.4 45.4c-1.4 2.8-4 4.7-7 5.1L168 298.9c-7.7 1.1-10.7 10.5-5.2 16l36.3 35.4c2.2 2.2 3.2 5.2 2.7 8.3l-8.6 49.9c-1.3 7.6 6.7 13.5 13.6 9.9l44.8-23.6c2.7-1.4 6-1.4 8.7 0l44.8 23.6c6.9 3.6 14.9-2.2 13.6-9.9l-8.6-49.9c-.5-3 .5-6.1 2.7-8.3l36.3-35.4c5.6-5.4 2.5-14.8-5.2-16l-50.1-7.3c-3-.4-5.7-2.4-7-5.1l-22.4-45.4z"]},AN={prefix:"fas",iconName:"bell",icon:[448,512,[128276,61602],"f0f3","M224 0c-17.7 0-32 14.3-32 32l0 19.2C119 66 64 130.6 64 208l0 18.8c0 47-17.3 92.4-48.5 127.6l-7.4 8.3c-8.4 9.4-10.4 22.9-5.3 34.4S19.4 416 32 416l384 0c12.6 0 24-7.4 29.2-18.9s3.1-25-5.3-34.4l-7.4-8.3C401.3 319.2 384 273.9 384 226.8l0-18.8c0-77.4-55-142-128-156.8L256 32c0-17.7-14.3-32-32-32zm45.3 493.3c12-12 18.7-28.3 18.7-45.3l-64 0-64 0c0 17 6.7 33.3 18.7 45.3s28.3 18.7 45.3 18.7s33.3-6.7 45.3-18.7z"]},Zq={prefix:"fas",iconName:"person-swimming",icon:[576,512,[127946,"swimmer"],"f5c4","M309.5 178.4L447.9 297.1c-1.6 .9-3.2 2-4.8 3c-18 12.4-40.1 20.3-59.2 20.3c-19.6 0-40.8-7.7-59.2-20.3c-22.1-15.5-51.6-15.5-73.7 0c-17.1 11.8-38 20.3-59.2 20.3c-10.1 0-21.1-2.2-31.9-6.2C163.1 193.2 262.2 96 384 96l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-64 0c-26.9 0-52.3 6.6-74.5 18.4zM160 160A64 64 0 1 1 32 160a64 64 0 1 1 128 0zM306.5 325.9C329 341.4 356.5 352 384 352c26.9 0 55.4-10.8 77.4-26.1c0 0 0 0 0 0c11.9-8.5 28.1-7.8 39.2 1.7c14.4 11.9 32.5 21 50.6 25.2c17.2 4 27.9 21.2 23.9 38.4s-21.2 27.9-38.4 23.9c-24.5-5.7-44.9-16.5-58.2-25C449.5 405.7 417 416 384 416c-31.9 0-60.6-9.9-80.4-18.9c-5.8-2.7-11.1-5.3-15.6-7.7c-4.5 2.4-9.7 5.1-15.6 7.7c-19.8 9-48.5 18.9-80.4 18.9c-33 0-65.5-10.3-94.5-25.8c-13.4 8.4-33.7 19.3-58.2 25c-17.2 4-34.4-6.7-38.4-23.9s6.7-34.4 23.9-38.4c18.1-4.2 36.2-13.3 50.6-25.2c11.1-9.4 27.3-10.1 39.2-1.7c0 0 0 0 0 0C136.7 341.2 165.1 352 192 352c27.5 0 55-10.6 77.5-26.1c11.1-7.9 25.9-7.9 37 0z"]},nD=Zq,Efe={prefix:"fas",iconName:"hospital",icon:[640,512,[127973,62589,"hospital-alt","hospital-wide"],"f0f8","M192 48c0-26.5 21.5-48 48-48L400 0c26.5 0 48 21.5 48 48l0 464-80 0 0-80c0-26.5-21.5-48-48-48s-48 21.5-48 48l0 80-80 0 0-464zM48 96l112 0 0 416L48 512c-26.5 0-48-21.5-48-48L0 320l80 0c8.8 0 16-7.2 16-16s-7.2-16-16-16L0 288l0-64 80 0c8.8 0 16-7.2 16-16s-7.2-16-16-16L0 192l0-48c0-26.5 21.5-48 48-48zm544 0c26.5 0 48 21.5 48 48l0 48-80 0c-8.8 0-16 7.2-16 16s7.2 16 16 16l80 0 0 64-80 0c-8.8 0-16 7.2-16 16s7.2 16 16 16l80 0 0 144c0 26.5-21.5 48-48 48l-112 0 0-416 112 0zM312 64c-8.8 0-16 7.2-16 16l0 24-24 0c-8.8 0-16 7.2-16 16l0 16c0 8.8 7.2 16 16 16l24 0 0 24c0 8.8 7.2 16 16 16l16 0c8.8 0 16-7.2 16-16l0-24 24 0c8.8 0 16-7.2 16-16l0-16c0-8.8-7.2-16-16-16l-24 0 0-24c0-8.8-7.2-16-16-16l-16 0z"]},jfe={prefix:"fas",iconName:"link",icon:[640,512,[128279,"chain"],"f0c1","M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z"]},Sfe={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"]},Cfe=Sfe,Dr={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 144L48 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0 0 144c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144 144 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-144 0 0-144z"]},Nfe={prefix:"fas",iconName:"sign-hanging",icon:[512,512,["sign"],"f4d9","M96 0c17.7 0 32 14.3 32 32l0 32 352 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-352 0 0 352c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-352-32 0C14.3 128 0 113.7 0 96S14.3 64 32 64l32 0 0-32C64 14.3 78.3 0 96 0zm96 160l256 0c17.7 0 32 14.3 32 32l0 160c0 17.7-14.3 32-32 32l-256 0c-17.7 0-32-14.3-32-32l0-160c0-17.7 14.3-32 32-32z"]},nr={prefix:"fas",iconName:"circle-plus",icon:[512,512,["plus-circle"],"f055","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM232 344l0-64-64 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l64 0 0-64c0-13.3 10.7-24 24-24s24 10.7 24 24l0 64 64 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-64 0 0 64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"]},LN={prefix:"fas",iconName:"calendar-day",icon:[448,512,[],"f783","M128 0c17.7 0 32 14.3 32 32l0 32 128 0 0-32c0-17.7 14.3-32 32-32s32 14.3 32 32l0 32 48 0c26.5 0 48 21.5 48 48l0 48L0 160l0-48C0 85.5 21.5 64 48 64l48 0 0-32c0-17.7 14.3-32 32-32zM0 192l448 0 0 272c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 192zm80 64c-8.8 0-16 7.2-16 16l0 96c0 8.8 7.2 16 16 16l96 0c8.8 0 16-7.2 16-16l0-96c0-8.8-7.2-16-16-16l-96 0z"]},Tfe={prefix:"fas",iconName:"water-ladder",icon:[576,512,["ladder-water","swimming-pool"],"f5c5","M128 127.7C128 74.9 170.9 32 223.7 32c48.3 0 89 36 95 83.9l1 8.2c2.2 17.5-10.2 33.5-27.8 35.7s-33.5-10.2-35.7-27.8l-1-8.2c-2-15.9-15.5-27.8-31.5-27.8c-17.5 0-31.7 14.2-31.7 31.7l0 96.3 192 0 0-96.3C384 74.9 426.9 32 479.7 32c48.3 0 89 36 95 83.9l1 8.2c2.2 17.5-10.2 33.5-27.8 35.7s-33.5-10.2-35.7-27.8l-1-8.2c-2-15.9-15.5-27.8-31.5-27.8c-17.5 0-31.7 14.2-31.7 31.7L448 361c-1.6 1-3.3 2-4.8 3.1c-18 12.4-40.1 20.3-59.2 20.3c0 0 0 0 0 0l0-96.5-192 0 0 96.5c-19 0-41.2-7.9-59.1-20.3c-1.6-1.1-3.2-2.2-4.9-3.1l0-233.3zM306.5 389.9C329 405.4 356.5 416 384 416c26.9 0 55.4-10.8 77.4-26.1c0 0 0 0 0 0c11.9-8.5 28.1-7.8 39.2 1.7c14.4 11.9 32.5 21 50.6 25.2c17.2 4 27.9 21.2 23.9 38.4s-21.2 27.9-38.4 23.9c-24.5-5.7-44.9-16.5-58.2-25C449.5 469.7 417 480 384 480c-31.9 0-60.6-9.9-80.4-18.9c-5.8-2.7-11.1-5.3-15.6-7.7c-4.5 2.4-9.7 5.1-15.6 7.7c-19.8 9-48.5 18.9-80.4 18.9c-33 0-65.5-10.3-94.5-25.8c-13.4 8.4-33.7 19.3-58.2 25c-17.2 4-34.4-6.7-38.4-23.9s6.7-34.4 23.9-38.4c18.1-4.2 36.2-13.3 50.6-25.2c11.1-9.4 27.3-10.1 39.2-1.7c0 0 0 0 0 0C136.7 405.2 165.1 416 192 416c27.5 0 55-10.6 77.5-26.1c11.1-7.9 25.9-7.9 37 0z"]},Afe=Tfe,rD={prefix:"fas",iconName:"hotel",icon:[512,512,[127976],"f594","M0 32C0 14.3 14.3 0 32 0L480 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l0 384c17.7 0 32 14.3 32 32s-14.3 32-32 32l-176 0 0-48c0-26.5-21.5-48-48-48s-48 21.5-48 48l0 48L32 512c-17.7 0-32-14.3-32-32s14.3-32 32-32L32 64C14.3 64 0 49.7 0 32zm96 80l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zM240 96c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zm112 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zM112 192c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zm112 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zM328 384c13.3 0 24.3-10.9 21-23.8c-10.6-41.5-48.2-72.2-93-72.2s-82.5 30.7-93 72.2c-3.3 12.8 7.8 23.8 21 23.8l144 0z"]},Lfe={prefix:"fas",iconName:"mug-saucer",icon:[640,512,["coffee"],"f0f4","M96 64c0-17.7 14.3-32 32-32l320 0 64 0c70.7 0 128 57.3 128 128s-57.3 128-128 128l-32 0c0 53-43 96-96 96l-192 0c-53 0-96-43-96-96L96 64zM480 224l32 0c35.3 0 64-28.7 64-64s-28.7-64-64-64l-32 0 0 128zM32 416l512 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 480c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},Rfe=Lfe,kfe={prefix:"fas",iconName:"plane",icon:[576,512,[],"f072","M482.3 192c34.2 0 93.7 29 93.7 64c0 36-59.5 64-93.7 64l-116.6 0L265.2 495.9c-5.7 10-16.3 16.1-27.8 16.1l-56.2 0c-10.6 0-18.3-10.2-15.4-20.4l49-171.6L112 320 68.8 377.6c-3 4-7.8 6.4-12.8 6.4l-42 0c-7.8 0-14-6.3-14-14c0-1.3 .2-2.6 .5-3.9L32 256 .5 145.9c-.4-1.3-.5-2.6-.5-3.9c0-7.8 6.3-14 14-14l42 0c5 0 9.8 2.4 12.8 6.4L112 192l102.9 0-49-171.6C162.9 10.2 170.6 0 181.2 0l56.2 0c11.5 0 22.1 6.2 27.8 16.1L365.7 192l116.6 0z"]},Ofe={prefix:"fas",iconName:"video",icon:[576,512,["video-camera"],"f03d","M0 128C0 92.7 28.7 64 64 64l256 0c35.3 0 64 28.7 64 64l0 256c0 35.3-28.7 64-64 64L64 448c-35.3 0-64-28.7-64-64L0 128zM559.1 99.8c10.4 5.6 16.9 16.4 16.9 28.2l0 256c0 11.8-6.5 22.6-16.9 28.2s-23 5-32.9-1.6l-96-64L416 337.1l0-17.1 0-128 0-17.1 14.2-9.5 96-64c9.8-6.5 22.4-7.2 32.9-1.6z"]},Ife=Ofe;class ra{constructor(){this.name="",this.link="",this.image="",this.color="",this.caption="",this.logo=""}toJSON(){return{...this}}}const ep=new ra;ep.name="ACCOMMODATION ESTABLISHMENTS";ep.link="accommodations";ep.image="https://firebasestorage.googleapis.com/v0/b/infoguide-13007.firebasestorage.app/o/homeButtons%2Faccommodations.png?alt=media&token=b925b582-a826-4c41-867c-c0d0b395c73d";ep.color="#A051EE";ep.caption="Find the best places to stay.";ep.icon="hotel";const tp=new ra;tp.name="RESTAURANTS";tp.link="restaurants";tp.image="https://firebasestorage.googleapis.com/v0/b/infoguide-13007.firebasestorage.app/o/homeButtons%2Fboracaydine.png?alt=media&token=b0afdc72-a651-4f2c-a825-a9059bc5314d";tp.color="#DA3C3C";tp.caption="Explore the best dining spots.";tp.icon="restaurant";const np=new ra;np.name="SPA & WELLNESS CENTERS";np.link="spaAndWellnessCentres";np.image="https://firebasestorage.googleapis.com/v0/b/infoguide-13007.firebasestorage.app/o/homeButtons%2Fspawellnessbackground.png?alt=media&token=ba96844e-1608-4438-95fc-902ff797c6a1";np.color="#2D8B3C";np.caption="Relax and rejuvenate.";np.icon="spa";const rp=new ra;rp.name="M.I.C.E. FACILITIES";rp.link="MICEFacilities";rp.image="https://firebasestorage.googleapis.com/v0/b/infoguide-13007.firebasestorage.app/o/homeButtons%2Fmicebackground.jpg?alt=media&token=10a7509d-39a0-4781-a2e8-fb4ca240e95c";rp.color="#008080";rp.caption="Meet, innovate, and collaborate.";rp.icon="building";const sp=new ra;sp.name="TOURIST LAND & AIR TRANSPORT OPERATORS";sp.link="touristLandAndAirTransportOperators";sp.image="https://firebasestorage.googleapis.com/v0/b/infoguide-13007.firebasestorage.app/o/homeButtons%2Ftouristlandandairtransfer-min.png?alt=media&token=9c991c65-624f-4b18-9b6e-ff803068c7ba";sp.color="#F3DB3B";sp.caption="Reliable transport options.";sp.icon="plane";const ap=new ra;ap.name="TRAVEL AND TOUR OPERATORS";ap.link="travelAndTourOperators";ap.image="https://firebasestorage.googleapis.com/v0/b/infoguide-13007.firebasestorage.app/o/homeButtons%2FtravelAndToursbackground-min.png?alt=media&token=41c0c7d3-697a-4031-8043-1fe7996bd29b";ap.color="#4682B4";ap.caption="Plan your next adventure.";ap.icon="flag";const ip=new ra;ip.name="TOUR GUIDES";ip.link="tourguides";ip.image="https://firebasestorage.googleapis.com/v0/b/infoguide-13007.firebasestorage.app/o/homeButtons%2Ftourguidesboracay.png?alt=media&token=b66c7bcf-4935-4c18-bda9-d07197397eb6";ip.color="#FF8A00";ip.caption="Experience guided tours.";ip.icon="mic";const op=new ra;op.name="TOURIST & SPECIALTY SHOPS";op.link="touristAndSpecialtyShops";op.image="https://firebasestorage.googleapis.com/v0/b/infoguide-13007.firebasestorage.app/o/homeButtons%2Ftouristshops.jpg?alt=media&token=c3aaa527-0878-426f-92f2-5ed4f348bdbd";op.color="#8B4513";op.caption="Shop for souvenirs and gifts.";op.icon="shopping";const lp=new ra;lp.name="MAINLAND MALAY HOTELS";lp.link="mainlandMalayHotels";lp.image="";lp.color="#E6A8D7";lp.caption="Comfortable stays on the mainland.";lp.icon="hotel";const cp=new ra;cp.name="RECREATIONAL RESORTS";cp.link="resorts";cp.image="";cp.color="#86D8B7";cp.caption="Relax and unwind in nature.";cp.icon="umbrella-beach";const up=new ra;up.name="TOURIST ACTIVITY PROVIDERS";up.link="touristActivityProviders";up.image="";up.color="#F7B787";up.caption="Exciting experiences for travelers.";up.icon="running";const dp=new ra;dp.name="EVENTS PLANNING COMPANIES";dp.link="eventsPlanning";dp.image="";dp.color="#B1A7F2";dp.caption="Plan your perfect event.";dp.icon="calendar-check";const hp=new ra;hp.name="PASSENGER SHIPLINES";hp.link="passengerShipLines";hp.image="";hp.color="#A52A2A";hp.caption="Sail across destinations.";hp.icon="ship";const fp=new ra;fp.name="GYMS & FITNESS CENTERS";fp.link="gymnsAndFitnessClubs";fp.image="";fp.color="#E13F6A";fp.caption="Stay fit and active.";fp.icon="gym";const mp=new ra;mp.name="BARS & PARTY CLUBS";mp.link="barsAndPartyClubs";mp.image="";mp.color="#191970";mp.caption="Enjoy the nightlife.";mp.icon="bar";const pp=new ra;pp.name="CAFE & COWORKING SPACES";pp.link="cafeAndCoworking";pp.image="";pp.color="#B2F130";pp.caption="Work and relax in cafes.";pp.icon="cafe";const gp=new ra;gp.name="MAINLAND PARKING SPACE";gp.link="parkingSpaces";gp.image="";gp.color="#F3B03B";gp.caption="Find convenient parking.";gp.icon="parking";const yp=new ra;yp.name="HOSPITALS AND CLINICS";yp.link="hospitalsAndClinics";yp.image="";yp.color="#04D9A4";yp.caption="Healthcare facilities.";yp.icon="hospital";class RN{constructor(){this.id="",this.name="",this.category="",this.body=[{subtitle:"",body:"",image:null,image_source:""}],this.images=[],this.operatinghours=[],this.accessibility="",this.headerImage=null,this.address={street:"",barangay:"",town:"",region:"",province:"",country:"",lat:"",long:""},this.link="",this.geo="",this.note="",this.tags=[],this.slogan="",this.subcategory="",this.lowest=[],this.maxPax="",this.serviceProviders=[]}toJSON(){return{...this}}}const e$=["Water Sports","Aqua Sports","Cruise Activities","Land Activities","Aerial Activities","Wellness Activities","Cultural Experiences"],kN={"Water Sports":["Surfing","Kayaking","Paddle Boarding","Jet Skiing","Parasailing","Wakeboarding","Floatable Rides"],"Aqua Sports":["Swimming","Scuba Diving","Snorkeling","Free Diving","Helmet Diving"],"Cruise Activities":["Sail Boat","Party Boat","Island Hopping","Sunset Cruise","Luxury Yacht Tour","River Cruise","Glass-Bottom Boat Tour"],"Land Activities":["Island Land Tour","Mainland Tour","Hiking & Trekking","Bike Tour","Camping & Glamping","ATV & Buggy Car Adventures","Rock Climbing","Wildlife Safari & Bird Watching","Horseback Riding"],"Aerial Activities":["Ziplining","Bungee Jumping","Helicopter & Small Aircraft Tours"],"Wellness Activities":["Yoga & Meditation Retreats","Spa & Massage Therapy","Cold Spring Escapade"],"Cultural Experiences":["Heritage & Historical Tours","Traditional Dance & Music Shows","Local Food & Culinary Tours","Handicraft & Artisan Workshops","Religious & Pilgrimage Tours","Farm & Agri-Tourism"]};/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const Pfe={prefix:"far",iconName:"comment-dots",icon:[512,512,[128172,62075,"commenting"],"f4ad","M168.2 384.9c-15-5.4-31.7-3.1-44.6 6.4c-8.2 6-22.3 14.8-39.4 22.7c5.6-14.7 9.9-31.3 11.3-49.4c1-12.9-3.3-25.7-11.8-35.5C60.4 302.8 48 272 48 240c0-79.5 83.3-160 208-160s208 80.5 208 160s-83.3 160-208 160c-31.6 0-61.3-5.5-87.8-15.1zM26.3 423.8c-1.6 2.7-3.3 5.4-5.1 8.1l-.3 .5c-1.6 2.3-3.2 4.6-4.8 6.9c-3.5 4.7-7.3 9.3-11.3 13.5c-4.6 4.6-5.9 11.4-3.4 17.4c2.5 6 8.3 9.9 14.8 9.9c5.1 0 10.2-.3 15.3-.8l.7-.1c4.4-.5 8.8-1.1 13.2-1.9c.8-.1 1.6-.3 2.4-.5c17.8-3.5 34.9-9.5 50.1-16.1c22.9-10 42.4-21.9 54.3-30.6c31.8 11.5 67 17.9 104.1 17.9c141.4 0 256-93.1 256-208S397.4 32 256 32S0 125.1 0 240c0 45.1 17.7 86.8 47.7 120.9c-1.9 24.5-11.4 46.3-21.4 62.9zM144 272a32 32 0 1 0 0-64 32 32 0 1 0 0 64zm144-32a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm80 32a32 32 0 1 0 0-64 32 32 0 1 0 0 64z"]},Dfe=Pfe,Mfe={prefix:"far",iconName:"calendar-check",icon:[448,512,[],"f274","M128 0c13.3 0 24 10.7 24 24l0 40 144 0 0-40c0-13.3 10.7-24 24-24s24 10.7 24 24l0 40 40 0c35.3 0 64 28.7 64 64l0 16 0 48 0 256c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 192l0-48 0-16C0 92.7 28.7 64 64 64l40 0 0-40c0-13.3 10.7-24 24-24zM400 192L48 192l0 256c0 8.8 7.2 16 16 16l320 0c8.8 0 16-7.2 16-16l0-256zM329 297L217 409c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47 95-95c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"]};let t$=class{constructor(){this.id="",this.dateTimeStart="",this.dateTimeEnd="",this.category="",this.title="",this.body=[{subtitle:"",body:"",image:null,image_source:""}],this.headerImage=null,this.headerImageSource=[],this.tags=[],this.references=[],this.socials=[],this.origin=[]}toJSON(){return{...this}}};const n$=["Advisories","News","Reminders","Announcements","Holidays","Events","Guidelines","Policies","Emergency Alerts","Community Updates","Opportunities","Public Notices","Press Releases"];class r${constructor(){this.id="",this.title="",this.classification="",this.purpose="",this.date="",this.body=[{subtitle:"",body:"",image:null,image_source:""}],this.headerImage=null,this.tags=[],this.references=[],this.name="",this.email="",this.social=""}toJSON(){return{...this}}}const s$=["Informative","Inspirational","Ranking","Tourism Awards and Recognitions","Promotional and Marketing","Educational","Opinions and Review"],a$={Informative:["Statistical Reports","News","Awards and Recognitions","Tourism Projects","Tourism Trends","Popularity Ranking","Technology"],"Promotional and Marketing":["Travel Deals and Promotions","Itinerary-Based","Cultural Exploration","Events or Festival Coverage","Destination Highlight"],"Tourism Awards and Recognitions":["Tourism Enterprises Awards","International Awards and Recognition","National Awards and Recognitions","Sports Tourism Awards"],Ranking:["Best Hotels","Best Restaurants","Best Tourism Frontliners","Best Spa and Wellness Centers","Best Tourism Shops","Best Bars and Party Clubs","Best Buffet Restaurants"],Inspirational:["Story-Telling","Sustainable Tourism","Biography"],Educational:["Travel Tips","Practical or How-To","Budgeting and Financial Planning","Safety and Health"],"Opinions and Review":["Product and Service Reviews","Case Study"]};class i${constructor(){this.id="",this.dateTimeStart="",this.dateTimeEnd="",this.category="",this.title="",this.body=[{subtitle:"",body:"",image:null,image_source:""}],this.headerImage=null,this.headerImageSource=[],this.tags=[],this.references=[],this.socials=[],this.origin=[]}toJSON(){return{...this}}}const o$=["Concerts & Live Music","Festivals & Celebrations","Sports Events","Conferences & Seminars","Workshops & Training","Networking Events","Charity & Fundraisers","Community Gatherings","Art Exhibitions & Cultural Events","Theater & Performing Arts","Food & Beverage Festivals","Tech & Startup Events","Trade Shows & Expos","Wellness & Fitness Events","Educational Events","Business & Corporate Events","Gaming & eSports Tournaments","Movie Screenings & Film Festivals","Religious & Spiritual Events","Travel & Adventure Activities"],Ffe=er.createContext();function Bfe({children:t}){const[e,n]=S.useState(null),[r,s]=S.useState(!1),[i,o]=S.useState(!0);S.useEffect(()=>ele(Cue,c),[]);async function c(h){h?(n({...h}),s(!0)):(n(null),s(!1)),o(!1)}const u={currentUser:e,userLoggedIn:r,loading:i};return a.jsx(Ffe.Provider,{value:u,children:!i&&t})}const sD="/infoguideapp/assets/logo_with_title-CN6_RRCy.png",Ufe="/infoguideapp/assets/logoWhiteText-yUESBW3F.png";function zfe(){const[t,e]=S.useState(!1),[n,r]=S.useState(null),[s,i]=S.useState(window.innerWidth>768),[o,c]=S.useState(!1),u=()=>c(!1),h=()=>c(!0);S.useEffect(()=>{const g=()=>{i(window.innerWidth>1200)},p=()=>{e(window.scrollY>50)};return window.addEventListener("resize",g),window.addEventListener("scroll",p),()=>{window.removeEventListener("resize",g),window.removeEventListener("scroll",p)}},[]);const f=a.jsx("div",{className:"sidebar-sticky  pt-5",children:a.jsxs(hn,{className:"d-flex justify-content-center",children:[a.jsx("hr",{}),a.jsxs(hn.Link,{className:"ms-lg-2 mb-1",id:"basic-nav-sidebar",as:Mt,to:"/",children:[a.jsx(we,{icon:AN,size:"md",className:" pe-2",fixedWidth:!0})," UPDATES"]}),a.jsxs(hn.Link,{className:"ms-lg-2 mb-1",id:"basic-nav-sidebar",as:Mt,to:"/",children:[a.jsx(we,{icon:TN,size:"md",className:"  pe-2",fixedWidth:!0})," DEALS"]}),a.jsxs(hn.Link,{className:"ms-lg-2 mb-1",id:"basic-nav-sidebar",as:Mt,to:"/",children:[a.jsx(we,{icon:LN,size:"md",className:" pe-2",fixedWidth:!0})," INCOMING EVENTS"]})]})});return a.jsxs("div",{className:"navbar-wrapper",children:[a.jsx("div",{className:`navbar-top ${t?"hide":""}`,children:a.jsxs(B,{fluid:!0,className:"d-flex justify-content-between align-items-center",children:[a.jsx(ox.Brand,{as:N0,to:"/",children:a.jsx(Xx,{className:"ms-lg-2 me-lg-2 logo-top",src:sD,alt:"Logo"})}),a.jsxs("div",{className:"d-none d-xl-flex align-items-center",children:[a.jsx(v,{className:"d-flex ms-lg-2 me-lg-2",style:{maxWidth:"200px"},children:a.jsxs(LO,{children:[a.jsx(uB,{type:"search",placeholder:"Search","aria-label":"Search",disabled:!0,style:{fontSize:"0.8rem",padding:"0.3rem"}}),a.jsx(LO.Text,{style:{fontSize:"0.8rem"},children:a.jsx(we,{icon:Cfe})})]})}),a.jsx(hn.Link,{className:"ms-lg-2 me-lg-2",id:"navlink-top",as:Mt,to:"/",children:"PH"}),a.jsx(hn.Link,{className:"ms-lg-2 me-lg-2",id:"navlink-top",as:Mt,to:"/",children:"ENG (US)"})]})]})}),a.jsx(ox,{expand:"xl",className:`app-navbar ${t?"scrolled":""}`,children:a.jsxs(B,{fluid:!0,children:[s?null:a.jsx(se,{variant:"link",onClick:h,className:"me-2 text-white",children:a.jsx(we,{icon:zhe,size:"lg"})}),t&&a.jsx(ox.Brand,{as:N0,to:"/",className:"ps-3",children:a.jsx(Xx,{className:"ms-lg-2 me-lg-2",src:Ufe,alt:"Logo",height:"25"})}),s?a.jsx(ox.Collapse,{id:"basic-navbar-nav",children:a.jsxs(hn,{className:"d-flex justify-content-center w-100",children:[a.jsxs(hn.Link,{className:"ms-lg-2 navlink",as:Mt,to:"/",children:[a.jsx(we,{icon:AN,size:"md",className:"notification",fixedWidth:!0})," UPDATES"]}),a.jsxs(hn.Link,{className:"ms-lg-2 navlink",as:Mt,to:"/",children:[a.jsx(we,{icon:TN,size:"md",className:"deals",fixedWidth:!0})," DEALS"]}),a.jsxs(hn.Link,{className:"ms-lg-2 navlink",as:Mt,to:"/",children:[a.jsx(we,{icon:LN,size:"md",className:"events",fixedWidth:!0})," EVENTS"]}),a.jsx(hn.Link,{className:"ms-lg-2 navlink",size:"md",as:Mt,to:"/",children:"TOURISM STORIES"}),a.jsxs(wt,{className:"ms-lg-2",show:s?n==="experience":void 0,onMouseEnter:s?()=>r("experience"):void 0,onMouseLeave:s?()=>r(null):void 0,title:"EXPERIENCE",id:"basic-nav-dropdown",children:[a.jsxs(wt,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2",title:"HOSPITALITY AND LODGING",id:"basic-nav-dropdown-title",children:[a.jsx(wt.Item,{as:Mt,className:"",id:"basic-nav-dropdown-item",children:"BORACAY ACCOMMODATIONS"}),a.jsx(wt.Divider,{}),a.jsx(wt.Item,{as:Mt,className:"",id:"basic-nav-dropdown-item",children:"MAINLAND MALAY HOTELS"}),a.jsx(wt.Divider,{}),a.jsx(wt.Item,{as:Mt,className:"",id:"basic-nav-dropdown-item",children:"RECREATIONAL RESORTS"})]}),a.jsx(wt.Divider,{}),a.jsxs(wt,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2 ",title:"FOODS AND BEVERAGES",id:"basic-nav-dropdown-title",children:[a.jsx(wt.Item,{as:Mt,id:"basic-nav-dropdown-item",children:"RESTAURANTS"}),a.jsx(wt.Divider,{}),a.jsx(wt.Item,{as:Mt,id:"basic-nav-dropdown-item",children:"BARS AND PARTY CLUBS"}),a.jsx(wt.Divider,{}),a.jsx(wt.Item,{as:Mt,id:"basic-nav-dropdown-item",children:"CAFES AND COWORKINGS"})]}),a.jsx(wt.Divider,{}),a.jsxs(wt,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2 ",title:"TOURISM AND LEISURE",id:"basic-nav-dropdown-title",children:[a.jsx(wt.Item,{as:Mt,id:"basic-nav-dropdown-item",children:"TOUR GUIDES"}),a.jsx(wt.Divider,{}),a.jsx(wt.Item,{as:Mt,id:"basic-nav-dropdown-item",children:"TRAVEL AND TOUR OPERATORS"}),a.jsx(wt.Divider,{}),a.jsx(wt.Item,{as:Mt,id:"basic-nav-dropdown-item",children:"TOURIST ACTIVITY PROVIDERS"}),a.jsx(wt.Divider,{}),a.jsx(wt.Item,{as:Mt,id:"basic-nav-dropdown-item",children:"EVENT PLANNING COMPANIES"}),a.jsx(wt.Divider,{}),a.jsx(wt.Item,{as:Mt,id:"basic-nav-dropdown-item",children:"M.I.C.E FACILITIES"}),a.jsx(wt.Divider,{}),a.jsx(wt.Item,{as:Mt,id:"basic-nav-dropdown-item",children:"TOURISTS AND SPECIALTY SHOPS"})]}),a.jsx(wt.Divider,{}),a.jsxs(wt,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2 ",title:"TRANSPORT AND PARKING",id:"basic-nav-dropdown-title",children:[a.jsx(wt.Item,{as:Mt,id:"basic-nav-dropdown-item",children:"TOURIST LAND AND AIR TRANSPORTS"}),a.jsx(wt.Divider,{}),a.jsx(wt.Item,{as:Mt,id:"basic-nav-dropdown-item",children:"PASSENGER SHIPS"}),a.jsx(wt.Divider,{}),a.jsx(wt.Item,{as:Mt,id:"basic-nav-dropdown-item",children:"PARKING SPACES"})]}),a.jsx(wt.Divider,{}),a.jsxs(wt,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2 ",title:"HEALTH AND WELLNESS",id:"basic-nav-dropdown-title",children:[a.jsx(wt.Item,{as:Mt,id:"basic-nav-dropdown-item",children:"SPA AND WELLNESS CENTERS"}),a.jsx(wt.Divider,{}),a.jsx(wt.Item,{as:Mt,id:"basic-nav-dropdown-item",children:"GYMS AND FITNESS CENTERS"})]}),a.jsx(wt.Divider,{}),a.jsx(wt,{className:"ms-lg-2 me-lg-2 ",title:"HEALTHCARE",id:"basic-nav-dropdown-title",children:a.jsx(hn.Link,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2  ",id:"basic-nav-dropdown-title",as:Mt,to:"/",children:"HOSPITALS AND CLINICS"})}),a.jsx(wt.Divider,{}),a.jsxs(hn.Link,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2 ",id:"basic-nav-dropdown-title",as:Mt,to:"/",children:[a.jsx(we,{icon:Zq,size:"md",fixedWidth:!0})," ACTIVITIES"]}),a.jsx(wt.Divider,{}),a.jsxs(hn.Link,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2  ",id:"basic-nav-dropdown-title",as:Mt,to:"/",children:[a.jsx(we,{icon:Jq,size:"md",fixedWidth:!0})," ATTRACTIONS"]})]}),a.jsxs(wt,{className:"ms-lg-2 me-lg-2 ",show:s?n==="essentials":void 0,onMouseEnter:s?()=>r("essentials"):void 0,onMouseLeave:s?()=>r(null):void 0,title:"ESSENTIALS",id:"basic-nav-dropdown",children:[a.jsx(hn.Link,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2  ",id:"basic-nav-dropdown-title",as:Mt,to:"/",children:"EMERGENCY HOTLINES"}),a.jsx(wt.Divider,{}),a.jsx(hn.Link,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2  ",id:"basic-nav-dropdown-title",as:Mt,to:"/",children:"TOURIST REQUIREMENTS"}),a.jsx(wt.Divider,{}),a.jsx(hn.Link,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2  ",id:"basic-nav-dropdown-title",as:Mt,to:"/",children:"TARIFF RATES"}),a.jsx(wt.Divider,{}),a.jsx(hn.Link,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2  ",id:"basic-nav-dropdown-title",as:Mt,to:"/",children:"BEACH LAWS"}),a.jsx(wt.Divider,{}),a.jsx(hn.Link,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2  ",id:"basic-nav-dropdown-title",as:Mt,to:"/",children:"CALENDAR OF EVENTS"}),a.jsx(wt.Divider,{}),a.jsx(hn.Link,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2  ",id:"basic-nav-dropdown-title",as:Mt,to:"/",children:"LIFESTYLES AND FACILITIES"}),a.jsx(wt.Divider,{}),a.jsx(hn.Link,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2  ",id:"basic-nav-dropdown-title",as:Mt,to:"/",children:"VIRTUAL TOUR GUIDE"}),a.jsx(wt.Divider,{}),a.jsx(hn.Link,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2  ",id:"basic-nav-dropdown-title",as:Mt,to:"/",children:"HELPFUL LINKS"}),a.jsx(wt.Divider,{}),a.jsx(hn.Link,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2  ",id:"basic-nav-dropdown-title",as:Mt,to:"/",children:"TOURIST FAQS"})]}),a.jsxs(hn.Link,{className:"ms-lg-2 me-lg-2  navlink",as:Mt,to:"/",children:[a.jsx(we,{icon:Qq,size:"xs",className:"sustainable",fixedWidth:!0})," SUSTAINABLE TOURISM"]}),a.jsxs(wt,{className:"ms-lg-2 me-lg-2 ",show:s?n==="others":void 0,onMouseEnter:s?()=>r("others"):void 0,onMouseLeave:s?()=>r(null):void 0,title:"OTHERS",id:"basic-nav-dropdown",children:[a.jsx(hn.Link,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2 ",id:"basic-nav-dropdown-title",as:Mt,to:"/",children:"GALLERY"}),a.jsx(wt.Divider,{}),a.jsx(hn.Link,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2 ",id:"basic-nav-dropdown-title",as:Mt,to:"/",children:"TOURISM FRONTLINERS"}),a.jsx(wt.Divider,{}),a.jsxs(wt,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2 ",id:"basic-nav-dropdown-title",title:"TOURISM DATA",children:[a.jsx(hn.Link,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2  ",id:"basic-nav-dropdown-item",as:Mt,to:"/",children:"TOURISTS ARRIVALS"}),a.jsx(wt.Divider,{}),a.jsx(hn.Link,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2  ",id:"basic-nav-dropdown-item",as:Mt,to:"/",children:"CRUISE SHIPS ARRIVALS"}),a.jsx(wt.Divider,{}),a.jsx(hn.Link,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2  ",id:"basic-nav-dropdown-item",as:Mt,to:"/",children:"FLIGHT DATA"}),a.jsx(wt.Divider,{}),a.jsx(hn.Link,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2  ",id:"basic-nav-dropdown-item",as:Mt,to:"/",children:"M.I.C.E. REPORTS"})]}),a.jsx(wt.Divider,{}),a.jsxs(wt,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2  ",title:"ACHIEVEMENTS",id:"basic-nav-dropdown-title",children:[a.jsx(hn.Link,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2  ",id:"basic-nav-dropdown-item",as:Mt,to:"/",children:"AWARDS AND RECOGNITIONS"}),a.jsx(wt.Divider,{}),a.jsx(hn.Link,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2  ",id:"basic-nav-dropdown-item",as:Mt,to:"/",children:"TRAVEL EXPOS, EXHIBITS, CONVENTIONS, B2B AND ROADSHOWS"}),a.jsx(wt.Divider,{}),a.jsx(hn.Link,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2  ",id:"basic-nav-dropdown-item",as:Mt,to:"/",children:"TOURISM PROJECTS"}),a.jsx(wt.Divider,{}),a.jsx(hn.Link,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2  ",id:"basic-nav-dropdown-item",as:Mt,to:"/",children:"TOURISM MARKETS"})]}),a.jsx(wt.Divider,{}),a.jsx(hn.Link,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2  ",id:"basic-nav-dropdown-title",as:Mt,to:"/",children:"ABOUT MALAY-BORACAY"}),a.jsx(wt.Divider,{}),a.jsx(hn.Link,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2  ",id:"basic-nav-dropdown-title",as:Mt,to:"/",children:"ABOUT US"}),a.jsx(wt.Divider,{}),a.jsx(hn.Link,{className:"ms-lg-2 me-lg-2 ms-md-2 ms-sm-2  ",id:"basic-nav-dropdown-title",as:Mt,to:"/",children:"FEEDBACK"})]}),a.jsx(hn.Link,{className:"ms-lg-2 navlink",as:Mt,to:"/",children:"COMPLAINT"})]})}):a.jsxs(Vu,{show:o,onHide:u,placement:"start",children:[a.jsx(Vu.Header,{closeButton:!0,children:a.jsx(Xx,{className:"ms-lg-2 me-lg-2 logo-top",src:sD,alt:"Logo"})}),a.jsx(Vu.Body,{children:f})]})]})})]})}const qfe=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Pm(t,e,n){const r=$fe(t),{webkitRelativePath:s}=t,i=typeof e=="string"?e:typeof s=="string"&&s.length>0?s:`./${t.name}`;return typeof r.path!="string"&&aD(r,"path",i),aD(r,"relativePath",i),r}function $fe(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const r=e.split(".").pop().toLowerCase(),s=qfe.get(r);s&&Object.defineProperty(t,"type",{value:s,writable:!1,configurable:!1,enumerable:!0})}return t}function aD(t,e,n){Object.defineProperty(t,e,{value:n,writable:!1,configurable:!1,enumerable:!0})}const Vfe=[".DS_Store","Thumbs.db"];function Hfe(t){return qh(this,void 0,void 0,function*(){return Gb(t)&&Gfe(t.dataTransfer)?Xfe(t.dataTransfer,t.type):Wfe(t)?Kfe(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?Yfe(t):[]})}function Gfe(t){return Gb(t)}function Wfe(t){return Gb(t)&&Gb(t.target)}function Gb(t){return typeof t=="object"&&t!==null}function Kfe(t){return ON(t.target.files).map(e=>Pm(e))}function Yfe(t){return qh(this,void 0,void 0,function*(){return(yield Promise.all(t.map(n=>n.getFile()))).map(n=>Pm(n))})}function Xfe(t,e){return qh(this,void 0,void 0,function*(){if(t.items){const n=ON(t.items).filter(s=>s.kind==="file");if(e!=="drop")return n;const r=yield Promise.all(n.map(Jfe));return iD(l$(r))}return iD(ON(t.files).map(n=>Pm(n)))})}function iD(t){return t.filter(e=>Vfe.indexOf(e.name)===-1)}function ON(t){if(t===null)return[];const e=[];for(let n=0;n<t.length;n++){const r=t[n];e.push(r)}return e}function Jfe(t){if(typeof t.webkitGetAsEntry!="function")return oD(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?c$(e):oD(t,e)}function l$(t){return t.reduce((e,n)=>[...e,...Array.isArray(n)?l$(n):[n]],[])}function oD(t,e){return qh(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const i=yield t.getAsFileSystemHandle();if(i===null)throw new Error(`${t} is not a File`);if(i!==void 0){const o=yield i.getFile();return o.handle=i,Pm(o)}}const r=t.getAsFile();if(!r)throw new Error(`${t} is not a File`);return Pm(r,(n=e==null?void 0:e.fullPath)!==null&&n!==void 0?n:void 0)})}function Qfe(t){return qh(this,void 0,void 0,function*(){return t.isDirectory?c$(t):Zfe(t)})}function c$(t){const e=t.createReader();return new Promise((n,r)=>{const s=[];function i(){e.readEntries(o=>qh(this,void 0,void 0,function*(){if(o.length){const c=Promise.all(o.map(Qfe));s.push(c),i()}else try{const c=yield Promise.all(s);n(c)}catch(c){r(c)}}),o=>{r(o)})}i()})}function Zfe(t){return qh(this,void 0,void 0,function*(){return new Promise((e,n)=>{t.file(r=>{const s=Pm(r,t.fullPath);e(s)},r=>{n(r)})})})}var bx={},lD;function eme(){return lD||(lD=1,bx.__esModule=!0,bx.default=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(",");if(n.length===0)return!0;var r=t.name||"",s=(t.type||"").toLowerCase(),i=s.replace(/\/.*$/,"");return n.some(function(o){var c=o.trim().toLowerCase();return c.charAt(0)==="."?r.toLowerCase().endsWith(c):c.endsWith("/*")?i===c.replace(/\/.*$/,""):s===c})}return!0}),bx}var tme=eme();const AE=rc(tme);function cD(t){return sme(t)||rme(t)||d$(t)||nme()}function nme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sme(t){if(Array.isArray(t))return IN(t)}function uD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function dD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uD(Object(n),!0).forEach(function(r){u$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function u$(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B0(t,e){return ome(t)||ime(t,e)||d$(t,e)||ame()}function ame(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d$(t,e){if(t){if(typeof t=="string")return IN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IN(t,e)}}function IN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ime(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],s=!0,i=!1,o,c;try{for(n=n.call(t);!(s=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));s=!0);}catch(u){i=!0,c=u}finally{try{!s&&n.return!=null&&n.return()}finally{if(i)throw c}}return r}}function ome(t){if(Array.isArray(t))return t}var lme=typeof AE=="function"?AE:AE.default,cme="file-invalid-type",ume="file-too-large",dme="file-too-small",hme="too-many-files",fme=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=e.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:cme,message:"File type must be ".concat(r)}},hD=function(e){return{code:ume,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},fD=function(e){return{code:dme,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},mme={code:hme,message:"Too many files"};function h$(t,e){var n=t.type==="application/x-moz-file"||lme(t,e);return[n,n?null:fme(e)]}function f$(t,e,n){if(th(t.size))if(th(e)&&th(n)){if(t.size>n)return[!1,hD(n)];if(t.size<e)return[!1,fD(e)]}else{if(th(e)&&t.size<e)return[!1,fD(e)];if(th(n)&&t.size>n)return[!1,hD(n)]}return[!0,null]}function th(t){return t!=null}function pme(t){var e=t.files,n=t.accept,r=t.minSize,s=t.maxSize,i=t.multiple,o=t.maxFiles,c=t.validator;return!i&&e.length>1||i&&o>=1&&e.length>o?!1:e.every(function(u){var h=h$(u,n),f=B0(h,1),g=f[0],p=f$(u,r,s),y=B0(p,1),w=y[0],E=c?c(u):null;return g&&w&&!E})}function Wb(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function wx(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function mD(t){t.preventDefault()}function gme(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function yme(t){return t.indexOf("Edge/")!==-1}function vme(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return gme(t)||yme(t)}function Nl(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var s=arguments.length,i=new Array(s>1?s-1:0),o=1;o<s;o++)i[o-1]=arguments[o];return e.some(function(c){return!Wb(r)&&c&&c.apply(void 0,[r].concat(i)),Wb(r)})}}function xme(){return"showOpenFilePicker"in window}function bme(t){if(th(t)){var e=Object.entries(t).filter(function(n){var r=B0(n,2),s=r[0],i=r[1],o=!0;return m$(s)||(console.warn('Skipped "'.concat(s,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(i)||!i.every(p$))&&(console.warn('Skipped "'.concat(s,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(n,r){var s=B0(r,2),i=s[0],o=s[1];return dD(dD({},n),{},u$({},i,o))},{});return[{description:"Files",accept:e}]}return t}function wme(t){if(th(t))return Object.entries(t).reduce(function(e,n){var r=B0(n,2),s=r[0],i=r[1];return[].concat(cD(e),[s],cD(i))},[]).filter(function(e){return m$(e)||p$(e)}).join(",")}function _me(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function Eme(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function m$(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function p$(t){return/^.*\.[\w]+$/.test(t)}var jme=["children"],Sme=["open"],Cme=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Nme=["refKey","onChange","onClick"];function Tme(t){return Rme(t)||Lme(t)||g$(t)||Ame()}function Ame(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Rme(t){if(Array.isArray(t))return PN(t)}function LE(t,e){return Ime(t)||Ome(t,e)||g$(t,e)||kme()}function kme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g$(t,e){if(t){if(typeof t=="string")return PN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PN(t,e)}}function PN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ome(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],s=!0,i=!1,o,c;try{for(n=n.call(t);!(s=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));s=!0);}catch(u){i=!0,c=u}finally{try{!s&&n.return!=null&&n.return()}finally{if(i)throw c}}return r}}function Ime(t){if(Array.isArray(t))return t}function pD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Jr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pD(Object(n),!0).forEach(function(r){DN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DN(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kb(t,e){if(t==null)return{};var n=Pme(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Pme(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var NL=S.forwardRef(function(t,e){var n=t.children,r=Kb(t,jme),s=Vt(r),i=s.open,o=Kb(s,Sme);return S.useImperativeHandle(e,function(){return{open:i}},[i]),er.createElement(S.Fragment,null,n(Jr(Jr({},o),{},{open:i})))});NL.displayName="Dropzone";var y$={disabled:!1,getFilesFromEvent:Hfe,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};NL.defaultProps=y$;NL.propTypes={children:pt.func,accept:pt.objectOf(pt.arrayOf(pt.string)),multiple:pt.bool,preventDropOnDocument:pt.bool,noClick:pt.bool,noKeyboard:pt.bool,noDrag:pt.bool,noDragEventsBubbling:pt.bool,minSize:pt.number,maxSize:pt.number,maxFiles:pt.number,disabled:pt.bool,getFilesFromEvent:pt.func,onFileDialogCancel:pt.func,onFileDialogOpen:pt.func,useFsAccessApi:pt.bool,autoFocus:pt.bool,onDragEnter:pt.func,onDragLeave:pt.func,onDragOver:pt.func,onDrop:pt.func,onDropAccepted:pt.func,onDropRejected:pt.func,onError:pt.func,validator:pt.func};var MN={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Vt(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Jr(Jr({},y$),t),n=e.accept,r=e.disabled,s=e.getFilesFromEvent,i=e.maxSize,o=e.minSize,c=e.multiple,u=e.maxFiles,h=e.onDragEnter,f=e.onDragLeave,g=e.onDragOver,p=e.onDrop,y=e.onDropAccepted,w=e.onDropRejected,E=e.onFileDialogCancel,j=e.onFileDialogOpen,C=e.useFsAccessApi,O=e.autoFocus,I=e.preventDropOnDocument,D=e.noClick,T=e.noKeyboard,F=e.noDrag,_=e.noDragEventsBubbling,R=e.onError,b=e.validator,A=S.useMemo(function(){return wme(n)},[n]),L=S.useMemo(function(){return bme(n)},[n]),U=S.useMemo(function(){return typeof j=="function"?j:gD},[j]),P=S.useMemo(function(){return typeof E=="function"?E:gD},[E]),K=S.useRef(null),G=S.useRef(null),re=S.useReducer(Dme,MN),Z=LE(re,2),me=Z[0],ie=Z[1],W=me.isFocused,ye=me.isFileDialogActive,Q=S.useRef(typeof window<"u"&&window.isSecureContext&&C&&xme()),ne=function(){!Q.current&&ye&&setTimeout(function(){if(G.current){var xt=G.current.files;xt.length||(ie({type:"closeDialog"}),P())}},300)};S.useEffect(function(){return window.addEventListener("focus",ne,!1),function(){window.removeEventListener("focus",ne,!1)}},[G,ye,P,Q]);var te=S.useRef([]),X=function(xt){K.current&&K.current.contains(xt.target)||(xt.preventDefault(),te.current=[])};S.useEffect(function(){return I&&(document.addEventListener("dragover",mD,!1),document.addEventListener("drop",X,!1)),function(){I&&(document.removeEventListener("dragover",mD),document.removeEventListener("drop",X))}},[K,I]),S.useEffect(function(){return!r&&O&&K.current&&K.current.focus(),function(){}},[K,O,r]);var xe=S.useCallback(function(We){R?R(We):console.error(We)},[R]),Ne=S.useCallback(function(We){We.preventDefault(),We.persist(),fn(We),te.current=[].concat(Tme(te.current),[We.target]),wx(We)&&Promise.resolve(s(We)).then(function(xt){if(!(Wb(We)&&!_)){var Dt=xt.length,Rt=Dt>0&&pme({files:xt,accept:A,minSize:o,maxSize:i,multiple:c,maxFiles:u,validator:b}),on=Dt>0&&!Rt;ie({isDragAccept:Rt,isDragReject:on,isDragActive:!0,type:"setDraggedFiles"}),h&&h(We)}}).catch(function(xt){return xe(xt)})},[s,h,xe,_,A,o,i,c,u,b]),je=S.useCallback(function(We){We.preventDefault(),We.persist(),fn(We);var xt=wx(We);if(xt&&We.dataTransfer)try{We.dataTransfer.dropEffect="copy"}catch{}return xt&&g&&g(We),!1},[g,_]),Ie=S.useCallback(function(We){We.preventDefault(),We.persist(),fn(We);var xt=te.current.filter(function(Rt){return K.current&&K.current.contains(Rt)}),Dt=xt.indexOf(We.target);Dt!==-1&&xt.splice(Dt,1),te.current=xt,!(xt.length>0)&&(ie({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),wx(We)&&f&&f(We))},[K,f,_]),_e=S.useCallback(function(We,xt){var Dt=[],Rt=[];We.forEach(function(on){var Gr=h$(on,A),Jn=LE(Gr,2),ws=Jn[0],es=Jn[1],Br=f$(on,o,i),Vn=LE(Br,2),Ur=Vn[0],zr=Vn[1],Hn=b?b(on):null;if(ws&&Ur&&!Hn)Dt.push(on);else{var Wr=[es,zr];Hn&&(Wr=Wr.concat(Hn)),Rt.push({file:on,errors:Wr.filter(function(yr){return yr})})}}),(!c&&Dt.length>1||c&&u>=1&&Dt.length>u)&&(Dt.forEach(function(on){Rt.push({file:on,errors:[mme]})}),Dt.splice(0)),ie({acceptedFiles:Dt,fileRejections:Rt,isDragReject:Rt.length>0,type:"setFiles"}),p&&p(Dt,Rt,xt),Rt.length>0&&w&&w(Rt,xt),Dt.length>0&&y&&y(Dt,xt)},[ie,c,A,o,i,u,p,y,w,b]),Ue=S.useCallback(function(We){We.preventDefault(),We.persist(),fn(We),te.current=[],wx(We)&&Promise.resolve(s(We)).then(function(xt){Wb(We)&&!_||_e(xt,We)}).catch(function(xt){return xe(xt)}),ie({type:"reset"})},[s,_e,xe,_]),tt=S.useCallback(function(){if(Q.current){ie({type:"openDialog"}),U();var We={multiple:c,types:L};window.showOpenFilePicker(We).then(function(xt){return s(xt)}).then(function(xt){_e(xt,null),ie({type:"closeDialog"})}).catch(function(xt){_me(xt)?(P(xt),ie({type:"closeDialog"})):Eme(xt)?(Q.current=!1,G.current?(G.current.value=null,G.current.click()):xe(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):xe(xt)});return}G.current&&(ie({type:"openDialog"}),U(),G.current.value=null,G.current.click())},[ie,U,P,C,_e,xe,L,c]),ct=S.useCallback(function(We){!K.current||!K.current.isEqualNode(We.target)||(We.key===" "||We.key==="Enter"||We.keyCode===32||We.keyCode===13)&&(We.preventDefault(),tt())},[K,tt]),ut=S.useCallback(function(){ie({type:"focus"})},[]),Ye=S.useCallback(function(){ie({type:"blur"})},[]),jt=S.useCallback(function(){D||(vme()?setTimeout(tt,0):tt())},[D,tt]),Ze=function(xt){return r?null:xt},Ut=function(xt){return T?null:Ze(xt)},Cn=function(xt){return F?null:Ze(xt)},fn=function(xt){_&&xt.stopPropagation()},yn=S.useMemo(function(){return function(){var We=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},xt=We.refKey,Dt=xt===void 0?"ref":xt,Rt=We.role,on=We.onKeyDown,Gr=We.onFocus,Jn=We.onBlur,ws=We.onClick,es=We.onDragEnter,Br=We.onDragOver,Vn=We.onDragLeave,Ur=We.onDrop,zr=Kb(We,Cme);return Jr(Jr(DN({onKeyDown:Ut(Nl(on,ct)),onFocus:Ut(Nl(Gr,ut)),onBlur:Ut(Nl(Jn,Ye)),onClick:Ze(Nl(ws,jt)),onDragEnter:Cn(Nl(es,Ne)),onDragOver:Cn(Nl(Br,je)),onDragLeave:Cn(Nl(Vn,Ie)),onDrop:Cn(Nl(Ur,Ue)),role:typeof Rt=="string"&&Rt!==""?Rt:"presentation"},Dt,K),!r&&!T?{tabIndex:0}:{}),zr)}},[K,ct,ut,Ye,jt,Ne,je,Ie,Ue,T,F,r]),ur=S.useCallback(function(We){We.stopPropagation()},[]),sr=S.useMemo(function(){return function(){var We=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},xt=We.refKey,Dt=xt===void 0?"ref":xt,Rt=We.onChange,on=We.onClick,Gr=Kb(We,Nme),Jn=DN({accept:A,multiple:c,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Ze(Nl(Rt,Ue)),onClick:Ze(Nl(on,ur)),tabIndex:-1},Dt,G);return Jr(Jr({},Jn),Gr)}},[G,n,c,Ue,r]);return Jr(Jr({},me),{},{isFocused:W&&!r,getRootProps:yn,getInputProps:sr,rootRef:K,inputRef:G,open:Ze(tt)})}function Dme(t,e){switch(e.type){case"focus":return Jr(Jr({},t),{},{isFocused:!0});case"blur":return Jr(Jr({},t),{},{isFocused:!1});case"openDialog":return Jr(Jr({},MN),{},{isFileDialogActive:!0});case"closeDialog":return Jr(Jr({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return Jr(Jr({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return Jr(Jr({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return Jr({},MN);default:return t}}function gD(){}/*!
* sweetalert2 v11.17.2
* Released under the MIT License.
*/function v$(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function Mme(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function yD(t,e){return t.get(v$(t,e))}function Fme(t,e,n){Mme(t,e),e.set(t,n)}function Bme(t,e,n){return t.set(v$(t,e),n),n}const Ume=100,zt={},zme=()=>{zt.previousActiveElement instanceof HTMLElement?(zt.previousActiveElement.focus(),zt.previousActiveElement=null):document.body&&document.body.focus()},qme=t=>new Promise(e=>{if(!t)return e();const n=window.scrollX,r=window.scrollY;zt.restoreFocusTimeout=setTimeout(()=>{zme(),e()},Ume),window.scrollTo(n,r)}),x$="swal2-",$me=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],Fe=$me.reduce((t,e)=>(t[e]=x$+e,t),{}),Vme=["success","warning","info","question","error"],Yb=Vme.reduce((t,e)=>(t[e]=x$+e,t),{}),b$="SweetAlert2:",TL=t=>t.charAt(0).toUpperCase()+t.slice(1),si=t=>{console.warn(`${b$} ${typeof t=="object"?t.join(" "):t}`)},$h=t=>{console.error(`${b$} ${t}`)},vD=[],Hme=t=>{vD.includes(t)||(vD.push(t),si(t))},w$=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;Hme(`"${t}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},bw=t=>typeof t=="function"?t():t,AL=t=>t&&typeof t.toPromise=="function",ky=t=>AL(t)?t.toPromise():Promise.resolve(t),LL=t=>t&&Promise.resolve(t)===t,ai=()=>document.body.querySelector(`.${Fe.container}`),Oy=t=>{const e=ai();return e?e.querySelector(t):null},Qi=t=>Oy(`.${t}`),Xn=()=>Qi(Fe.popup),vp=()=>Qi(Fe.icon),Gme=()=>Qi(Fe["icon-content"]),_$=()=>Qi(Fe.title),RL=()=>Qi(Fe["html-container"]),E$=()=>Qi(Fe.image),kL=()=>Qi(Fe["progress-steps"]),ww=()=>Qi(Fe["validation-message"]),Xl=()=>Oy(`.${Fe.actions} .${Fe.confirm}`),xp=()=>Oy(`.${Fe.actions} .${Fe.cancel}`),Vh=()=>Oy(`.${Fe.actions} .${Fe.deny}`),Wme=()=>Qi(Fe["input-label"]),bp=()=>Oy(`.${Fe.loader}`),Iy=()=>Qi(Fe.actions),j$=()=>Qi(Fe.footer),_w=()=>Qi(Fe["timer-progress-bar"]),OL=()=>Qi(Fe.close),Kme=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,IL=()=>{const t=Xn();if(!t)return[];const e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(e).sort((i,o)=>{const c=parseInt(i.getAttribute("tabindex")||"0"),u=parseInt(o.getAttribute("tabindex")||"0");return c>u?1:c<u?-1:0}),r=t.querySelectorAll(Kme),s=Array.from(r).filter(i=>i.getAttribute("tabindex")!=="-1");return[...new Set(n.concat(s))].filter(i=>wi(i))},PL=()=>Bc(document.body,Fe.shown)&&!Bc(document.body,Fe["toast-shown"])&&!Bc(document.body,Fe["no-backdrop"]),Ew=()=>{const t=Xn();return t?Bc(t,Fe.toast):!1},Yme=()=>{const t=Xn();return t?t.hasAttribute("data-loading"):!1},Zi=(t,e)=>{if(t.textContent="",e){const r=new DOMParser().parseFromString(e,"text/html"),s=r.querySelector("head");s&&Array.from(s.childNodes).forEach(o=>{t.appendChild(o)});const i=r.querySelector("body");i&&Array.from(i.childNodes).forEach(o=>{o instanceof HTMLVideoElement||o instanceof HTMLAudioElement?t.appendChild(o.cloneNode(!0)):t.appendChild(o)})}},Bc=(t,e)=>{if(!e)return!1;const n=e.split(/\s+/);for(let r=0;r<n.length;r++)if(!t.classList.contains(n[r]))return!1;return!0},Xme=(t,e)=>{Array.from(t.classList).forEach(n=>{!Object.values(Fe).includes(n)&&!Object.values(Yb).includes(n)&&!Object.values(e.showClass||{}).includes(n)&&t.classList.remove(n)})},Yi=(t,e,n)=>{if(Xme(t,e),!e.customClass)return;const r=e.customClass[n];if(r){if(typeof r!="string"&&!r.forEach){si(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof r}"`);return}zn(t,r)}},jw=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${Fe.popup} > .${Fe[e]}`);case"checkbox":return t.querySelector(`.${Fe.popup} > .${Fe.checkbox} input`);case"radio":return t.querySelector(`.${Fe.popup} > .${Fe.radio} input:checked`)||t.querySelector(`.${Fe.popup} > .${Fe.radio} input:first-child`);case"range":return t.querySelector(`.${Fe.popup} > .${Fe.range} input`);default:return t.querySelector(`.${Fe.popup} > .${Fe.input}`)}},S$=t=>{if(t.focus(),t.type!=="file"){const e=t.value;t.value="",t.value=e}},C$=(t,e,n)=>{!t||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(r=>{Array.isArray(t)?t.forEach(s=>{n?s.classList.add(r):s.classList.remove(r)}):n?t.classList.add(r):t.classList.remove(r)}))},zn=(t,e)=>{C$(t,e,!0)},Oo=(t,e)=>{C$(t,e,!1)},Gu=(t,e)=>{const n=Array.from(t.children);for(let r=0;r<n.length;r++){const s=n[r];if(s instanceof HTMLElement&&Bc(s,e))return s}},hh=(t,e,n)=>{n===`${parseInt(n)}`&&(n=parseInt(n)),n||parseInt(n)===0?t.style.setProperty(e,typeof n=="number"?`${n}px`:n):t.style.removeProperty(e)},na=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";t&&(t.style.display=e)},qa=t=>{t&&(t.style.display="none")},DL=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";t&&new MutationObserver(()=>{Py(t,t.innerHTML,e)}).observe(t,{childList:!0,subtree:!0})},xD=(t,e,n,r)=>{const s=t.querySelector(e);s&&s.style.setProperty(n,r)},Py=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";e?na(t,n):qa(t)},wi=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),Jme=()=>!wi(Xl())&&!wi(Vh())&&!wi(xp()),bD=t=>t.scrollHeight>t.clientHeight,N$=t=>{const e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),r=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||r>0},ML=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=_w();n&&wi(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition=`width ${t/1e3}s linear`,n.style.width="0%"},10))},Qme=()=>{const t=_w();if(!t)return;const e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const n=parseInt(window.getComputedStyle(t).width),r=e/n*100;t.style.width=`${r}%`},Zme=()=>typeof window>"u"||typeof document>"u",epe=`
 <div aria-labelledby="${Fe.title}" aria-describedby="${Fe["html-container"]}" class="${Fe.popup}" tabindex="-1">
   <button type="button" class="${Fe.close}"></button>
   <ul class="${Fe["progress-steps"]}"></ul>
   <div class="${Fe.icon}"></div>
   <img class="${Fe.image}" />
   <h2 class="${Fe.title}" id="${Fe.title}"></h2>
   <div class="${Fe["html-container"]}" id="${Fe["html-container"]}"></div>
   <input class="${Fe.input}" id="${Fe.input}" />
   <input type="file" class="${Fe.file}" />
   <div class="${Fe.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${Fe.select}" id="${Fe.select}"></select>
   <div class="${Fe.radio}"></div>
   <label class="${Fe.checkbox}">
     <input type="checkbox" id="${Fe.checkbox}" />
     <span class="${Fe.label}"></span>
   </label>
   <textarea class="${Fe.textarea}" id="${Fe.textarea}"></textarea>
   <div class="${Fe["validation-message"]}" id="${Fe["validation-message"]}"></div>
   <div class="${Fe.actions}">
     <div class="${Fe.loader}"></div>
     <button type="button" class="${Fe.confirm}"></button>
     <button type="button" class="${Fe.deny}"></button>
     <button type="button" class="${Fe.cancel}"></button>
   </div>
   <div class="${Fe.footer}"></div>
   <div class="${Fe["timer-progress-bar-container"]}">
     <div class="${Fe["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),tpe=()=>{const t=ai();return t?(t.remove(),Oo([document.documentElement,document.body],[Fe["no-backdrop"],Fe["toast-shown"],Fe["has-column"]]),!0):!1},Xd=()=>{zt.currentInstance.resetValidationMessage()},npe=()=>{const t=Xn(),e=Gu(t,Fe.input),n=Gu(t,Fe.file),r=t.querySelector(`.${Fe.range} input`),s=t.querySelector(`.${Fe.range} output`),i=Gu(t,Fe.select),o=t.querySelector(`.${Fe.checkbox} input`),c=Gu(t,Fe.textarea);e.oninput=Xd,n.onchange=Xd,i.onchange=Xd,o.onchange=Xd,c.oninput=Xd,r.oninput=()=>{Xd(),s.value=r.value},r.onchange=()=>{Xd(),s.value=r.value}},rpe=t=>typeof t=="string"?document.querySelector(t):t,spe=t=>{const e=Xn();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")},ape=t=>{window.getComputedStyle(t).direction==="rtl"&&zn(ai(),Fe.rtl)},ipe=t=>{const e=tpe();if(Zme()){$h("SweetAlert2 requires document to initialize");return}const n=document.createElement("div");n.className=Fe.container,e&&zn(n,Fe["no-transition"]),Zi(n,epe),n.dataset.swal2Theme=t.theme;const r=rpe(t.target);r.appendChild(n),spe(t),ape(r),npe()},FL=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):typeof t=="object"?ope(t,e):t&&Zi(e,t)},ope=(t,e)=>{t.jquery?lpe(e,t):Zi(e,t.toString())},lpe=(t,e)=>{if(t.textContent="",0 in e)for(let n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},cpe=(t,e)=>{const n=Iy(),r=bp();!n||!r||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?qa(n):na(n),Yi(n,e,"actions"),upe(n,r,e),Zi(r,e.loaderHtml||""),Yi(r,e,"loader"))};function upe(t,e,n){const r=Xl(),s=Vh(),i=xp();!r||!s||!i||(RE(r,"confirm",n),RE(s,"deny",n),RE(i,"cancel",n),dpe(r,s,i,n),n.reverseButtons&&(n.toast?(t.insertBefore(i,r),t.insertBefore(s,r)):(t.insertBefore(i,e),t.insertBefore(s,e),t.insertBefore(r,e))))}function dpe(t,e,n,r){if(!r.buttonsStyling){Oo([t,e,n],Fe.styled);return}zn([t,e,n],Fe.styled),r.confirmButtonColor&&(t.style.backgroundColor=r.confirmButtonColor,zn(t,Fe["default-outline"])),r.denyButtonColor&&(e.style.backgroundColor=r.denyButtonColor,zn(e,Fe["default-outline"])),r.cancelButtonColor&&(n.style.backgroundColor=r.cancelButtonColor,zn(n,Fe["default-outline"]))}function RE(t,e,n){const r=TL(e);Py(t,n[`show${r}Button`],"inline-block"),Zi(t,n[`${e}ButtonText`]||""),t.setAttribute("aria-label",n[`${e}ButtonAriaLabel`]||""),t.className=Fe[e],Yi(t,n,`${e}Button`)}const hpe=(t,e)=>{const n=OL();n&&(Zi(n,e.closeButtonHtml||""),Yi(n,e,"closeButton"),Py(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel||""))},fpe=(t,e)=>{const n=ai();n&&(mpe(n,e.backdrop),ppe(n,e.position),gpe(n,e.grow),Yi(n,e,"container"))};function mpe(t,e){typeof e=="string"?t.style.background=e:e||zn([document.documentElement,document.body],Fe["no-backdrop"])}function ppe(t,e){e&&(e in Fe?zn(t,Fe[e]):(si('The "position" parameter is not valid, defaulting to "center"'),zn(t,Fe.center)))}function gpe(t,e){e&&zn(t,Fe[`grow-${e}`])}var jr={innerParams:new WeakMap,domCache:new WeakMap};const ype=["input","file","range","select","radio","checkbox","textarea"],vpe=(t,e)=>{const n=Xn();if(!n)return;const r=jr.innerParams.get(t),s=!r||e.input!==r.input;ype.forEach(i=>{const o=Gu(n,Fe[i]);o&&(wpe(i,e.inputAttributes),o.className=Fe[i],s&&qa(o))}),e.input&&(s&&xpe(e),_pe(e))},xpe=t=>{if(!t.input)return;if(!vs[t.input]){$h(`Unexpected type of input! Expected ${Object.keys(vs).join(" | ")}, got "${t.input}"`);return}const e=T$(t.input);if(!e)return;const n=vs[t.input](e,t);na(e),t.inputAutoFocus&&setTimeout(()=>{S$(n)})},bpe=t=>{for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;["id","type","value","style"].includes(n)||t.removeAttribute(n)}},wpe=(t,e)=>{const n=Xn();if(!n)return;const r=jw(n,t);if(r){bpe(r);for(const s in e)r.setAttribute(s,e[s])}},_pe=t=>{if(!t.input)return;const e=T$(t.input);e&&Yi(e,t,"input")},BL=(t,e)=>{!t.placeholder&&e.inputPlaceholder&&(t.placeholder=e.inputPlaceholder)},Dy=(t,e,n)=>{if(n.inputLabel){const r=document.createElement("label"),s=Fe["input-label"];r.setAttribute("for",t.id),r.className=s,typeof n.customClass=="object"&&zn(r,n.customClass.inputLabel),r.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",r)}},T$=t=>{const e=Xn();if(e)return Gu(e,Fe[t]||Fe.input)},Xb=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:LL(e)||si(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},vs={};vs.text=vs.email=vs.password=vs.number=vs.tel=vs.url=vs.search=vs.date=vs["datetime-local"]=vs.time=vs.week=vs.month=(t,e)=>(Xb(t,e.inputValue),Dy(t,t,e),BL(t,e),t.type=e.input,t);vs.file=(t,e)=>(Dy(t,t,e),BL(t,e),t);vs.range=(t,e)=>{const n=t.querySelector("input"),r=t.querySelector("output");return Xb(n,e.inputValue),n.type=e.input,Xb(r,e.inputValue),Dy(n,t,e),t};vs.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const n=document.createElement("option");Zi(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return Dy(t,t,e),t};vs.radio=t=>(t.textContent="",t);vs.checkbox=(t,e)=>{const n=jw(Xn(),"checkbox");n.value="1",n.checked=!!e.inputValue;const r=t.querySelector("span");return Zi(r,e.inputPlaceholder||e.inputLabel),n};vs.textarea=(t,e)=>{Xb(t,e.inputValue),BL(t,e),Dy(t,t,e);const n=r=>parseInt(window.getComputedStyle(r).marginLeft)+parseInt(window.getComputedStyle(r).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const r=parseInt(window.getComputedStyle(Xn()).width),s=()=>{if(!document.body.contains(t))return;const i=t.offsetWidth+n(t);i>r?Xn().style.width=`${i}px`:hh(Xn(),"width",e.width)};new MutationObserver(s).observe(t,{attributes:!0,attributeFilter:["style"]})}}),t};const Epe=(t,e)=>{const n=RL();n&&(DL(n),Yi(n,e,"htmlContainer"),e.html?(FL(e.html,n),na(n,"block")):e.text?(n.textContent=e.text,na(n,"block")):qa(n),vpe(t,e))},jpe=(t,e)=>{const n=j$();n&&(DL(n),Py(n,e.footer,"block"),e.footer&&FL(e.footer,n),Yi(n,e,"footer"))},Spe=(t,e)=>{const n=jr.innerParams.get(t),r=vp();if(!r)return;if(n&&e.icon===n.icon){_D(r,e),wD(r,e);return}if(!e.icon&&!e.iconHtml){qa(r);return}if(e.icon&&Object.keys(Yb).indexOf(e.icon)===-1){$h(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),qa(r);return}na(r),_D(r,e),wD(r,e),zn(r,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",A$)},wD=(t,e)=>{for(const[n,r]of Object.entries(Yb))e.icon!==n&&Oo(t,r);zn(t,e.icon&&Yb[e.icon]),Tpe(t,e),A$(),Yi(t,e,"icon")},A$=()=>{const t=Xn();if(!t)return;const e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let r=0;r<n.length;r++)n[r].style.backgroundColor=e},Cpe=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,Npe=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,_D=(t,e)=>{if(!e.icon&&!e.iconHtml)return;let n=t.innerHTML,r="";e.iconHtml?r=ED(e.iconHtml):e.icon==="success"?(r=Cpe,n=n.replace(/ style=".*?"/g,"")):e.icon==="error"?r=Npe:e.icon&&(r=ED({question:"?",warning:"!",info:"i"}[e.icon])),n.trim()!==r.trim()&&Zi(t,r)},Tpe=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])xD(t,n,"background-color",e.iconColor);xD(t,".swal2-success-ring","border-color",e.iconColor)}},ED=t=>`<div class="${Fe["icon-content"]}">${t}</div>`,Ape=(t,e)=>{const n=E$();if(n){if(!e.imageUrl){qa(n);return}na(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt||""),hh(n,"width",e.imageWidth),hh(n,"height",e.imageHeight),n.className=Fe.image,Yi(n,e,"image")}};let UL=!1,L$=0,R$=0,k$=0,O$=0;const Lpe=t=>{t.addEventListener("mousedown",Jb),document.body.addEventListener("mousemove",Qb),t.addEventListener("mouseup",Zb),t.addEventListener("touchstart",Jb),document.body.addEventListener("touchmove",Qb),t.addEventListener("touchend",Zb)},Rpe=t=>{t.removeEventListener("mousedown",Jb),document.body.removeEventListener("mousemove",Qb),t.removeEventListener("mouseup",Zb),t.removeEventListener("touchstart",Jb),document.body.removeEventListener("touchmove",Qb),t.removeEventListener("touchend",Zb)},Jb=t=>{const e=Xn();if(t.target===e||vp().contains(t.target)){UL=!0;const n=I$(t);L$=n.clientX,R$=n.clientY,k$=parseInt(e.style.insetInlineStart)||0,O$=parseInt(e.style.insetBlockStart)||0,zn(e,"swal2-dragging")}},Qb=t=>{const e=Xn();if(UL){let{clientX:n,clientY:r}=I$(t);e.style.insetInlineStart=`${k$+(n-L$)}px`,e.style.insetBlockStart=`${O$+(r-R$)}px`}},Zb=()=>{const t=Xn();UL=!1,Oo(t,"swal2-dragging")},I$=t=>{let e=0,n=0;return t.type.startsWith("mouse")?(e=t.clientX,n=t.clientY):t.type.startsWith("touch")&&(e=t.touches[0].clientX,n=t.touches[0].clientY),{clientX:e,clientY:n}},kpe=(t,e)=>{const n=ai(),r=Xn();if(!(!n||!r)){if(e.toast){hh(n,"width",e.width),r.style.width="100%";const s=bp();s&&r.insertBefore(s,vp())}else hh(r,"width",e.width);hh(r,"padding",e.padding),e.color&&(r.style.color=e.color),e.background&&(r.style.background=e.background),qa(ww()),Ope(r,e),e.draggable&&!e.toast?(zn(r,Fe.draggable),Lpe(r)):(Oo(r,Fe.draggable),Rpe(r))}},Ope=(t,e)=>{const n=e.showClass||{};t.className=`${Fe.popup} ${wi(t)?n.popup:""}`,e.toast?(zn([document.documentElement,document.body],Fe["toast-shown"]),zn(t,Fe.toast)):zn(t,Fe.modal),Yi(t,e,"popup"),typeof e.customClass=="string"&&zn(t,e.customClass),e.icon&&zn(t,Fe[`icon-${e.icon}`])},Ipe=(t,e)=>{const n=kL();if(!n)return;const{progressSteps:r,currentProgressStep:s}=e;if(!r||r.length===0||s===void 0){qa(n);return}na(n),n.textContent="",s>=r.length&&si("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),r.forEach((i,o)=>{const c=Ppe(i);if(n.appendChild(c),o===s&&zn(c,Fe["active-progress-step"]),o!==r.length-1){const u=Dpe(e);n.appendChild(u)}})},Ppe=t=>{const e=document.createElement("li");return zn(e,Fe["progress-step"]),Zi(e,t),e},Dpe=t=>{const e=document.createElement("li");return zn(e,Fe["progress-step-line"]),t.progressStepsDistance&&hh(e,"width",t.progressStepsDistance),e},Mpe=(t,e)=>{const n=_$();n&&(DL(n),Py(n,e.title||e.titleText,"block"),e.title&&FL(e.title,n),e.titleText&&(n.innerText=e.titleText),Yi(n,e,"title"))},P$=(t,e)=>{kpe(t,e),fpe(t,e),Ipe(t,e),Spe(t,e),Ape(t,e),Mpe(t,e),hpe(t,e),Epe(t,e),cpe(t,e),jpe(t,e);const n=Xn();typeof e.didRender=="function"&&n&&e.didRender(n),zt.eventEmitter.emit("didRender",n)},Fpe=()=>wi(Xn()),D$=()=>{var t;return(t=Xl())===null||t===void 0?void 0:t.click()},Bpe=()=>{var t;return(t=Vh())===null||t===void 0?void 0:t.click()},Upe=()=>{var t;return(t=xp())===null||t===void 0?void 0:t.click()},wp=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),M$=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},zpe=(t,e,n)=>{M$(t),e.toast||(t.keydownHandler=r=>$pe(e,r,n),t.keydownTarget=e.keydownListenerCapture?window:Xn(),t.keydownListenerCapture=e.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},FN=(t,e)=>{var n;const r=IL();if(r.length){t=t+e,t===r.length?t=0:t===-1&&(t=r.length-1),r[t].focus();return}(n=Xn())===null||n===void 0||n.focus()},F$=["ArrowRight","ArrowDown"],qpe=["ArrowLeft","ArrowUp"],$pe=(t,e,n)=>{t&&(e.isComposing||e.keyCode===229||(t.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?Vpe(e,t):e.key==="Tab"?Hpe(e):[...F$,...qpe].includes(e.key)?Gpe(e.key):e.key==="Escape"&&Wpe(e,t,n)))},Vpe=(t,e)=>{if(!bw(e.allowEnterKey))return;const n=jw(Xn(),e.input);if(t.target&&n&&t.target instanceof HTMLElement&&t.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(e.input))return;D$(),t.preventDefault()}},Hpe=t=>{const e=t.target,n=IL();let r=-1;for(let s=0;s<n.length;s++)if(e===n[s]){r=s;break}t.shiftKey?FN(r,-1):FN(r,1),t.stopPropagation(),t.preventDefault()},Gpe=t=>{const e=Iy(),n=Xl(),r=Vh(),s=xp();if(!e||!n||!r||!s)return;const i=[n,r,s];if(document.activeElement instanceof HTMLElement&&!i.includes(document.activeElement))return;const o=F$.includes(t)?"nextElementSibling":"previousElementSibling";let c=document.activeElement;if(c){for(let u=0;u<e.children.length;u++){if(c=c[o],!c)return;if(c instanceof HTMLButtonElement&&wi(c))break}c instanceof HTMLButtonElement&&c.focus()}},Wpe=(t,e,n)=>{bw(e.allowEscapeKey)&&(t.preventDefault(),n(wp.esc))};var Dm={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Kpe=()=>{const t=ai();Array.from(document.body.children).forEach(n=>{n.contains(t)||(n.hasAttribute("aria-hidden")&&n.setAttribute("data-previous-aria-hidden",n.getAttribute("aria-hidden")||""),n.setAttribute("aria-hidden","true"))})},B$=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},U$=typeof window<"u"&&!!window.GestureEvent,Ype=()=>{if(U$&&!Bc(document.body,Fe.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,zn(document.body,Fe.iosfix),Xpe()}},Xpe=()=>{const t=ai();if(!t)return;let e;t.ontouchstart=n=>{e=Jpe(n)},t.ontouchmove=n=>{e&&(n.preventDefault(),n.stopPropagation())}},Jpe=t=>{const e=t.target,n=ai(),r=RL();return!n||!r||Qpe(t)||Zpe(t)?!1:e===n||!bD(n)&&e instanceof HTMLElement&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(bD(r)&&r.contains(e))},Qpe=t=>t.touches&&t.touches.length&&t.touches[0].touchType==="stylus",Zpe=t=>t.touches&&t.touches.length>1,ege=()=>{if(Bc(document.body,Fe.iosfix)){const t=parseInt(document.body.style.top,10);Oo(document.body,Fe.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},tge=()=>{const t=document.createElement("div");t.className=Fe["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e};let dm=null;const nge=t=>{dm===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&(dm=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${dm+tge()}px`)},rge=()=>{dm!==null&&(document.body.style.paddingRight=`${dm}px`,dm=null)};function z$(t,e,n,r){Ew()?jD(t,r):(qme(n).then(()=>jD(t,r)),M$(zt)),U$?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),PL()&&(rge(),ege(),B$()),sge()}function sge(){Oo([document.documentElement,document.body],[Fe.shown,Fe["height-auto"],Fe["no-backdrop"],Fe["toast-shown"]])}function Wu(t){t=ige(t);const e=Dm.swalPromiseResolve.get(this),n=age(this);this.isAwaitingPromise?t.isDismissed||(My(this),e(t)):n&&e(t)}const age=t=>{const e=Xn();if(!e)return!1;const n=jr.innerParams.get(t);if(!n||Bc(e,n.hideClass.popup))return!1;Oo(e,n.showClass.popup),zn(e,n.hideClass.popup);const r=ai();return Oo(r,n.showClass.backdrop),zn(r,n.hideClass.backdrop),oge(t,e,n),!0};function q$(t){const e=Dm.swalPromiseReject.get(this);My(this),e&&e(t)}const My=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,jr.innerParams.get(t)||t._destroy())},ige=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),oge=(t,e,n)=>{var r;const s=ai(),i=N$(e);typeof n.willClose=="function"&&n.willClose(e),(r=zt.eventEmitter)===null||r===void 0||r.emit("willClose",e),i?lge(t,e,s,n.returnFocus,n.didClose):z$(t,s,n.returnFocus,n.didClose)},lge=(t,e,n,r,s)=>{zt.swalCloseEventFinishedCallback=z$.bind(null,t,n,r,s);const i=function(o){if(o.target===e){var c;(c=zt.swalCloseEventFinishedCallback)===null||c===void 0||c.call(zt),delete zt.swalCloseEventFinishedCallback,e.removeEventListener("animationend",i),e.removeEventListener("transitionend",i)}};e.addEventListener("animationend",i),e.addEventListener("transitionend",i)},jD=(t,e)=>{setTimeout(()=>{var n;typeof e=="function"&&e.bind(t.params)(),(n=zt.eventEmitter)===null||n===void 0||n.emit("didClose"),t._destroy&&t._destroy()})},Mm=t=>{let e=Xn();if(e||new ve,e=Xn(),!e)return;const n=bp();Ew()?qa(vp()):cge(e,t),na(n),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},cge=(t,e)=>{const n=Iy(),r=bp();!n||!r||(!e&&wi(Xl())&&(e=Xl()),na(n),e&&(qa(e),r.setAttribute("data-button-to-replace",e.className),n.insertBefore(r,e)),zn([t,n],Fe.loading))},uge=(t,e)=>{e.input==="select"||e.input==="radio"?pge(t,e):["text","email","number","tel","textarea"].some(n=>n===e.input)&&(AL(e.inputValue)||LL(e.inputValue))&&(Mm(Xl()),gge(t,e))},dge=(t,e)=>{const n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return hge(n);case"radio":return fge(n);case"file":return mge(n);default:return e.inputAutoTrim?n.value.trim():n.value}},hge=t=>t.checked?1:0,fge=t=>t.checked?t.value:null,mge=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,pge=(t,e)=>{const n=Xn();if(!n)return;const r=s=>{e.input==="select"?yge(n,e1(s),e):e.input==="radio"&&vge(n,e1(s),e)};AL(e.inputOptions)||LL(e.inputOptions)?(Mm(Xl()),ky(e.inputOptions).then(s=>{t.hideLoading(),r(s)})):typeof e.inputOptions=="object"?r(e.inputOptions):$h(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},gge=(t,e)=>{const n=t.getInput();n&&(qa(n),ky(e.inputValue).then(r=>{n.value=e.input==="number"?`${parseFloat(r)||0}`:`${r}`,na(n),n.focus(),t.hideLoading()}).catch(r=>{$h(`Error in inputValue promise: ${r}`),n.value="",na(n),n.focus(),t.hideLoading()}))};function yge(t,e,n){const r=Gu(t,Fe.select);if(!r)return;const s=(i,o,c)=>{const u=document.createElement("option");u.value=c,Zi(u,o),u.selected=$$(c,n.inputValue),i.appendChild(u)};e.forEach(i=>{const o=i[0],c=i[1];if(Array.isArray(c)){const u=document.createElement("optgroup");u.label=o,u.disabled=!1,r.appendChild(u),c.forEach(h=>s(u,h[1],h[0]))}else s(r,c,o)}),r.focus()}function vge(t,e,n){const r=Gu(t,Fe.radio);if(!r)return;e.forEach(i=>{const o=i[0],c=i[1],u=document.createElement("input"),h=document.createElement("label");u.type="radio",u.name=Fe.radio,u.value=o,$$(o,n.inputValue)&&(u.checked=!0);const f=document.createElement("span");Zi(f,c),f.className=Fe.label,h.appendChild(u),h.appendChild(f),r.appendChild(h)});const s=r.querySelectorAll("input");s.length&&s[0].focus()}const e1=t=>{const e=[];return t instanceof Map?t.forEach((n,r)=>{let s=n;typeof s=="object"&&(s=e1(s)),e.push([r,s])}):Object.keys(t).forEach(n=>{let r=t[n];typeof r=="object"&&(r=e1(r)),e.push([n,r])}),e},$$=(t,e)=>!!e&&e.toString()===t.toString(),xge=t=>{const e=jr.innerParams.get(t);t.disableButtons(),e.input?V$(t,"confirm"):qL(t,!0)},bge=t=>{const e=jr.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?V$(t,"deny"):zL(t,!1)},wge=(t,e)=>{t.disableButtons(),e(wp.cancel)},V$=(t,e)=>{const n=jr.innerParams.get(t);if(!n.input){$h(`The "input" parameter is needed to be set when using returnInputValueOn${TL(e)}`);return}const r=t.getInput(),s=dge(t,n);n.inputValidator?_ge(t,s,e):r&&!r.checkValidity()?(t.enableButtons(),t.showValidationMessage(n.validationMessage||r.validationMessage)):e==="deny"?zL(t,s):qL(t,s)},_ge=(t,e,n)=>{const r=jr.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>ky(r.inputValidator(e,r.validationMessage))).then(i=>{t.enableButtons(),t.enableInput(),i?t.showValidationMessage(i):n==="deny"?zL(t,e):qL(t,e)})},zL=(t,e)=>{const n=jr.innerParams.get(t||void 0);n.showLoaderOnDeny&&Mm(Vh()),n.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>ky(n.preDeny(e,n.validationMessage))).then(s=>{s===!1?(t.hideLoading(),My(t)):t.close({isDenied:!0,value:typeof s>"u"?e:s})}).catch(s=>H$(t||void 0,s))):t.close({isDenied:!0,value:e})},SD=(t,e)=>{t.close({isConfirmed:!0,value:e})},H$=(t,e)=>{t.rejectPromise(e)},qL=(t,e)=>{const n=jr.innerParams.get(t||void 0);n.showLoaderOnConfirm&&Mm(),n.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>ky(n.preConfirm(e,n.validationMessage))).then(s=>{wi(ww())||s===!1?(t.hideLoading(),My(t)):SD(t,typeof s>"u"?e:s)}).catch(s=>H$(t||void 0,s))):SD(t,e)};function t1(){const t=jr.innerParams.get(this);if(!t)return;const e=jr.domCache.get(this);qa(e.loader),Ew()?t.icon&&na(vp()):Ege(e),Oo([e.popup,e.actions],Fe.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const Ege=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?na(e[0],"inline-block"):Jme()&&qa(t.actions)};function G$(){const t=jr.innerParams.get(this),e=jr.domCache.get(this);return e?jw(e.popup,t.input):null}function W$(t,e,n){const r=jr.domCache.get(t);e.forEach(s=>{r[s].disabled=n})}function K$(t,e){const n=Xn();if(!(!n||!t))if(t.type==="radio"){const r=n.querySelectorAll(`[name="${Fe.radio}"]`);for(let s=0;s<r.length;s++)r[s].disabled=e}else t.disabled=e}function Y$(){W$(this,["confirmButton","denyButton","cancelButton"],!1)}function X$(){W$(this,["confirmButton","denyButton","cancelButton"],!0)}function J$(){K$(this.getInput(),!1)}function Q$(){K$(this.getInput(),!0)}function Z$(t){const e=jr.domCache.get(this),n=jr.innerParams.get(this);Zi(e.validationMessage,t),e.validationMessage.className=Fe["validation-message"],n.customClass&&n.customClass.validationMessage&&zn(e.validationMessage,n.customClass.validationMessage),na(e.validationMessage);const r=this.getInput();r&&(r.setAttribute("aria-invalid","true"),r.setAttribute("aria-describedby",Fe["validation-message"]),S$(r),zn(r,Fe.inputerror))}function eV(){const t=jr.domCache.get(this);t.validationMessage&&qa(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),Oo(e,Fe.inputerror))}const hm={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},jge=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],Sge={allowEnterKey:void 0},Cge=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],tV=t=>Object.prototype.hasOwnProperty.call(hm,t),nV=t=>jge.indexOf(t)!==-1,rV=t=>Sge[t],Nge=t=>{tV(t)||si(`Unknown parameter "${t}"`)},Tge=t=>{Cge.includes(t)&&si(`The parameter "${t}" is incompatible with toasts`)},Age=t=>{const e=rV(t);e&&w$(t,e)},sV=t=>{t.backdrop===!1&&t.allowOutsideClick&&si('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t.theme&&!["light","dark","auto","borderless"].includes(t.theme)&&si(`Invalid theme "${t.theme}". Expected "light", "dark", "auto", or "borderless"`);for(const e in t)Nge(e),t.toast&&Tge(e),Age(e)};function aV(t){const e=ai(),n=Xn(),r=jr.innerParams.get(this);if(!n||Bc(n,r.hideClass.popup)){si("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const s=Lge(t),i=Object.assign({},r,s);sV(i),e.dataset.swal2Theme=i.theme,P$(this,i),jr.innerParams.set(this,i),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const Lge=t=>{const e={};return Object.keys(t).forEach(n=>{nV(n)?e[n]=t[n]:si(`Invalid parameter to update: ${n}`)}),e};function iV(){const t=jr.domCache.get(this),e=jr.innerParams.get(this);if(!e){oV(this);return}t.popup&&zt.swalCloseEventFinishedCallback&&(zt.swalCloseEventFinishedCallback(),delete zt.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),zt.eventEmitter.emit("didDestroy"),Rge(this)}const Rge=t=>{oV(t),delete t.params,delete zt.keydownHandler,delete zt.keydownTarget,delete zt.currentInstance},oV=t=>{t.isAwaitingPromise?(kE(jr,t),t.isAwaitingPromise=!0):(kE(Dm,t),kE(jr,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},kE=(t,e)=>{for(const n in t)t[n].delete(e)};var kge=Object.freeze({__proto__:null,_destroy:iV,close:Wu,closeModal:Wu,closePopup:Wu,closeToast:Wu,disableButtons:X$,disableInput:Q$,disableLoading:t1,enableButtons:Y$,enableInput:J$,getInput:G$,handleAwaitingPromise:My,hideLoading:t1,rejectPromise:q$,resetValidationMessage:eV,showValidationMessage:Z$,update:aV});const Oge=(t,e,n)=>{t.toast?Ige(t,e,n):(Dge(e),Mge(e),Fge(t,e,n))},Ige=(t,e,n)=>{e.popup.onclick=()=>{t&&(Pge(t)||t.timer||t.input)||n(wp.close)}},Pge=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let n1=!1;const Dge=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=()=>{},e.target===t.container&&(n1=!0)}}},Mge=t=>{t.container.onmousedown=e=>{e.target===t.container&&e.preventDefault(),t.popup.onmouseup=function(n){t.popup.onmouseup=()=>{},(n.target===t.popup||n.target instanceof HTMLElement&&t.popup.contains(n.target))&&(n1=!0)}}},Fge=(t,e,n)=>{e.container.onclick=r=>{if(n1){n1=!1;return}r.target===e.container&&bw(t.allowOutsideClick)&&n(wp.backdrop)}},Bge=t=>typeof t=="object"&&t.jquery,CD=t=>t instanceof Element||Bge(t),Uge=t=>{const e={};return typeof t[0]=="object"&&!CD(t[0])?Object.assign(e,t[0]):["title","html","icon"].forEach((n,r)=>{const s=t[r];typeof s=="string"||CD(s)?e[n]=s:s!==void 0&&$h(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof s}`)}),e};function zge(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new this(...e)}function qge(t){class e extends this{_main(r,s){return super._main(r,Object.assign({},t,s))}}return e}const $ge=()=>zt.timeout&&zt.timeout.getTimerLeft(),lV=()=>{if(zt.timeout)return Qme(),zt.timeout.stop()},cV=()=>{if(zt.timeout){const t=zt.timeout.start();return ML(t),t}},Vge=()=>{const t=zt.timeout;return t&&(t.running?lV():cV())},Hge=t=>{if(zt.timeout){const e=zt.timeout.increase(t);return ML(e,!0),e}},Gge=()=>!!(zt.timeout&&zt.timeout.isRunning());let ND=!1;const BN={};function Wge(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";BN[t]=this,ND||(document.body.addEventListener("click",Kge),ND=!0)}const Kge=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const n in BN){const r=e.getAttribute(n);if(r){BN[n].fire({template:r});return}}};let Yge=class{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,n){const r=this._getHandlersByEventName(e);r.includes(n)||r.push(n)}once(e,n){var r=this;const s=function(){r.removeListener(e,s);for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];n.apply(r,o)};this.on(e,s)}emit(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];this._getHandlersByEventName(e).forEach(i=>{try{i.apply(this,r)}catch(o){console.error(o)}})}removeListener(e,n){const r=this._getHandlersByEventName(e),s=r.indexOf(n);s>-1&&r.splice(s,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}};zt.eventEmitter=new Yge;const Xge=(t,e)=>{zt.eventEmitter.on(t,e)},Jge=(t,e)=>{zt.eventEmitter.once(t,e)},Qge=(t,e)=>{if(!t){zt.eventEmitter.reset();return}e?zt.eventEmitter.removeListener(t,e):zt.eventEmitter.removeAllListeners(t)};var Zge=Object.freeze({__proto__:null,argsToParams:Uge,bindClickHandler:Wge,clickCancel:Upe,clickConfirm:D$,clickDeny:Bpe,enableLoading:Mm,fire:zge,getActions:Iy,getCancelButton:xp,getCloseButton:OL,getConfirmButton:Xl,getContainer:ai,getDenyButton:Vh,getFocusableElements:IL,getFooter:j$,getHtmlContainer:RL,getIcon:vp,getIconContent:Gme,getImage:E$,getInputLabel:Wme,getLoader:bp,getPopup:Xn,getProgressSteps:kL,getTimerLeft:$ge,getTimerProgressBar:_w,getTitle:_$,getValidationMessage:ww,increaseTimer:Hge,isDeprecatedParameter:rV,isLoading:Yme,isTimerRunning:Gge,isUpdatableParameter:nV,isValidParameter:tV,isVisible:Fpe,mixin:qge,off:Qge,on:Xge,once:Jge,resumeTimer:cV,showLoading:Mm,stopTimer:lV,toggleTimer:Vge});class e0e{constructor(e,n){this.callback=e,this.remaining=n,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const n=this.running;return n&&this.stop(),this.remaining+=e,n&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const uV=["swal-title","swal-html","swal-footer"],t0e=t=>{const e=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!e)return{};const n=e.content;return c0e(n),Object.assign(n0e(n),r0e(n),s0e(n),a0e(n),i0e(n),o0e(n),l0e(n,uV))},n0e=t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach(r=>{Ch(r,["name","value"]);const s=r.getAttribute("name"),i=r.getAttribute("value");!s||!i||(typeof hm[s]=="boolean"?e[s]=i!=="false":typeof hm[s]=="object"?e[s]=JSON.parse(i):e[s]=i)}),e},r0e=t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(r=>{const s=r.getAttribute("name"),i=r.getAttribute("value");!s||!i||(e[s]=new Function(`return ${i}`)())}),e},s0e=t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach(r=>{Ch(r,["type","color","aria-label"]);const s=r.getAttribute("type");!s||!["confirm","cancel","deny"].includes(s)||(e[`${s}ButtonText`]=r.innerHTML,e[`show${TL(s)}Button`]=!0,r.hasAttribute("color")&&(e[`${s}ButtonColor`]=r.getAttribute("color")),r.hasAttribute("aria-label")&&(e[`${s}ButtonAriaLabel`]=r.getAttribute("aria-label")))}),e},a0e=t=>{const e={},n=t.querySelector("swal-image");return n&&(Ch(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt")||void 0)),e},i0e=t=>{const e={},n=t.querySelector("swal-icon");return n&&(Ch(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e},o0e=t=>{const e={},n=t.querySelector("swal-input");n&&(Ch(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));const r=Array.from(t.querySelectorAll("swal-input-option"));return r.length&&(e.inputOptions={},r.forEach(s=>{Ch(s,["value"]);const i=s.getAttribute("value");if(!i)return;const o=s.innerHTML;e.inputOptions[i]=o})),e},l0e=(t,e)=>{const n={};for(const r in e){const s=e[r],i=t.querySelector(s);i&&(Ch(i,[]),n[s.replace(/^swal-/,"")]=i.innerHTML.trim())}return n},c0e=t=>{const e=uV.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(n=>{const r=n.tagName.toLowerCase();e.includes(r)||si(`Unrecognized element <${r}>`)})},Ch=(t,e)=>{Array.from(t.attributes).forEach(n=>{e.indexOf(n.name)===-1&&si([`Unrecognized attribute "${n.name}" on <${t.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},dV=10,u0e=t=>{const e=ai(),n=Xn();typeof t.willOpen=="function"&&t.willOpen(n),zt.eventEmitter.emit("willOpen",n);const s=window.getComputedStyle(document.body).overflowY;f0e(e,n,t),setTimeout(()=>{d0e(e,n)},dV),PL()&&(h0e(e,t.scrollbarPadding,s),Kpe()),!Ew()&&!zt.previousActiveElement&&(zt.previousActiveElement=document.activeElement),typeof t.didOpen=="function"&&setTimeout(()=>t.didOpen(n)),zt.eventEmitter.emit("didOpen",n),Oo(e,Fe["no-transition"])},r1=t=>{const e=Xn();if(t.target!==e)return;const n=ai();e.removeEventListener("animationend",r1),e.removeEventListener("transitionend",r1),n.style.overflowY="auto"},d0e=(t,e)=>{N$(e)?(t.style.overflowY="hidden",e.addEventListener("animationend",r1),e.addEventListener("transitionend",r1)):t.style.overflowY="auto"},h0e=(t,e,n)=>{Ype(),e&&n!=="hidden"&&nge(n),setTimeout(()=>{t.scrollTop=0})},f0e=(t,e,n)=>{zn(t,n.showClass.backdrop),n.animation?(e.style.setProperty("opacity","0","important"),na(e,"grid"),setTimeout(()=>{zn(e,n.showClass.popup),e.style.removeProperty("opacity")},dV)):na(e,"grid"),zn([document.documentElement,document.body],Fe.shown),n.heightAuto&&n.backdrop&&!n.toast&&zn([document.documentElement,document.body],Fe["height-auto"])};var TD={email:(t,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function m0e(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=TD.email),t.input==="url"&&(t.inputValidator=TD.url))}function p0e(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(si('Target parameter is not valid, defaulting to "body"'),t.target="body")}function g0e(t){m0e(t),t.showLoaderOnConfirm&&!t.preConfirm&&si(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),p0e(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),ipe(t)}let Il;var _x=new WeakMap;class bs{constructor(){if(Fme(this,_x,void 0),typeof window>"u")return;Il=this;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];const s=Object.freeze(this.constructor.argsToParams(n));this.params=s,this.isAwaitingPromise=!1,Bme(_x,this,this._main(Il.params))}_main(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(sV(Object.assign({},n,e)),zt.currentInstance){const i=Dm.swalPromiseResolve.get(zt.currentInstance),{isAwaitingPromise:o}=zt.currentInstance;zt.currentInstance._destroy(),o||i({isDismissed:!0}),PL()&&B$()}zt.currentInstance=Il;const r=v0e(e,n);g0e(r),Object.freeze(r),zt.timeout&&(zt.timeout.stop(),delete zt.timeout),clearTimeout(zt.restoreFocusTimeout);const s=x0e(Il);return P$(Il,r),jr.innerParams.set(Il,r),y0e(Il,s,r)}then(e){return yD(_x,this).then(e)}finally(e){return yD(_x,this).finally(e)}}const y0e=(t,e,n)=>new Promise((r,s)=>{const i=o=>{t.close({isDismissed:!0,dismiss:o})};Dm.swalPromiseResolve.set(t,r),Dm.swalPromiseReject.set(t,s),e.confirmButton.onclick=()=>{xge(t)},e.denyButton.onclick=()=>{bge(t)},e.cancelButton.onclick=()=>{wge(t,i)},e.closeButton.onclick=()=>{i(wp.close)},Oge(n,e,i),zpe(zt,n,i),uge(t,n),u0e(n),b0e(zt,n,i),w0e(e,n),setTimeout(()=>{e.container.scrollTop=0})}),v0e=(t,e)=>{const n=t0e(t),r=Object.assign({},hm,e,n,t);return r.showClass=Object.assign({},hm.showClass,r.showClass),r.hideClass=Object.assign({},hm.hideClass,r.hideClass),r.animation===!1&&(r.showClass={backdrop:"swal2-noanimation"},r.hideClass={}),r},x0e=t=>{const e={popup:Xn(),container:ai(),actions:Iy(),confirmButton:Xl(),denyButton:Vh(),cancelButton:xp(),loader:bp(),closeButton:OL(),validationMessage:ww(),progressSteps:kL()};return jr.domCache.set(t,e),e},b0e=(t,e,n)=>{const r=_w();qa(r),e.timer&&(t.timeout=new e0e(()=>{n("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(na(r),Yi(r,e,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&ML(e.timer)})))},w0e=(t,e)=>{if(!e.toast){if(!bw(e.allowEnterKey)){w$("allowEnterKey"),j0e();return}_0e(t)||E0e(t,e)||FN(-1,1)}},_0e=t=>{const e=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const n of e)if(n instanceof HTMLElement&&wi(n))return n.focus(),!0;return!1},E0e=(t,e)=>e.focusDeny&&wi(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&wi(t.cancelButton)?(t.cancelButton.focus(),!0):e.focusConfirm&&wi(t.confirmButton)?(t.confirmButton.focus(),!0):!1,j0e=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const t=new Date,e=localStorage.getItem("swal-initiation");e?(t.getTime()-Date.parse(e))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const n=document.createElement("audio");n.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",n.loop=!0,document.body.appendChild(n),setTimeout(()=>{n.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${t}`)}bs.prototype.disableButtons=X$;bs.prototype.enableButtons=Y$;bs.prototype.getInput=G$;bs.prototype.disableInput=Q$;bs.prototype.enableInput=J$;bs.prototype.hideLoading=t1;bs.prototype.disableLoading=t1;bs.prototype.showValidationMessage=Z$;bs.prototype.resetValidationMessage=eV;bs.prototype.close=Wu;bs.prototype.closePopup=Wu;bs.prototype.closeModal=Wu;bs.prototype.closeToast=Wu;bs.prototype.rejectPromise=q$;bs.prototype.update=aV;bs.prototype._destroy=iV;Object.assign(bs,Zge);Object.keys(kge).forEach(t=>{bs[t]=function(){return Il&&Il[t]?Il[t](...arguments):null}});bs.DismissReason=wp;bs.version="11.17.2";const ve=bs;ve.default=ve;typeof document<"u"&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}}(document,':root{--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-footer-border-color: #eee;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-input-background: transparent;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);color:inherit;font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:var(--swal2-border-radius);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:var(--swal2-input-background);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:var(--swal2-background);box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');var OE,AD;function S0e(){if(AD)return OE;AD=1;function t(){this.__data__=[],this.size=0}return OE=t,OE}var IE,LD;function hV(){if(LD)return IE;LD=1;function t(e,n){return e===n||e!==e&&n!==n}return IE=t,IE}var PE,RD;function Sw(){if(RD)return PE;RD=1;var t=hV();function e(n,r){for(var s=n.length;s--;)if(t(n[s][0],r))return s;return-1}return PE=e,PE}var DE,kD;function C0e(){if(kD)return DE;kD=1;var t=Sw(),e=Array.prototype,n=e.splice;function r(s){var i=this.__data__,o=t(i,s);if(o<0)return!1;var c=i.length-1;return o==c?i.pop():n.call(i,o,1),--this.size,!0}return DE=r,DE}var ME,OD;function N0e(){if(OD)return ME;OD=1;var t=Sw();function e(n){var r=this.__data__,s=t(r,n);return s<0?void 0:r[s][1]}return ME=e,ME}var FE,ID;function T0e(){if(ID)return FE;ID=1;var t=Sw();function e(n){return t(this.__data__,n)>-1}return FE=e,FE}var BE,PD;function A0e(){if(PD)return BE;PD=1;var t=Sw();function e(n,r){var s=this.__data__,i=t(s,n);return i<0?(++this.size,s.push([n,r])):s[i][1]=r,this}return BE=e,BE}var UE,DD;function Cw(){if(DD)return UE;DD=1;var t=S0e(),e=C0e(),n=N0e(),r=T0e(),s=A0e();function i(o){var c=-1,u=o==null?0:o.length;for(this.clear();++c<u;){var h=o[c];this.set(h[0],h[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=n,i.prototype.has=r,i.prototype.set=s,UE=i,UE}var zE,MD;function L0e(){if(MD)return zE;MD=1;var t=Cw();function e(){this.__data__=new t,this.size=0}return zE=e,zE}var qE,FD;function R0e(){if(FD)return qE;FD=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return qE=t,qE}var $E,BD;function k0e(){if(BD)return $E;BD=1;function t(e){return this.__data__.get(e)}return $E=t,$E}var VE,UD;function O0e(){if(UD)return VE;UD=1;function t(e){return this.__data__.has(e)}return VE=t,VE}var HE,zD;function fV(){if(zD)return HE;zD=1;var t=typeof Co=="object"&&Co&&Co.Object===Object&&Co;return HE=t,HE}var GE,qD;function au(){if(qD)return GE;qD=1;var t=fV(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return GE=n,GE}var WE,$D;function $L(){if($D)return WE;$D=1;var t=au(),e=t.Symbol;return WE=e,WE}var KE,VD;function I0e(){if(VD)return KE;VD=1;var t=$L(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,s=t?t.toStringTag:void 0;function i(o){var c=n.call(o,s),u=o[s];try{o[s]=void 0;var h=!0}catch{}var f=r.call(o);return h&&(c?o[s]=u:delete o[s]),f}return KE=i,KE}var YE,HD;function P0e(){if(HD)return YE;HD=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return YE=n,YE}var XE,GD;function Nw(){if(GD)return XE;GD=1;var t=$L(),e=I0e(),n=P0e(),r="[object Null]",s="[object Undefined]",i=t?t.toStringTag:void 0;function o(c){return c==null?c===void 0?s:r:i&&i in Object(c)?e(c):n(c)}return XE=o,XE}var JE,WD;function mV(){if(WD)return JE;WD=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return JE=t,JE}var QE,KD;function pV(){if(KD)return QE;KD=1;var t=Nw(),e=mV(),n="[object AsyncFunction]",r="[object Function]",s="[object GeneratorFunction]",i="[object Proxy]";function o(c){if(!e(c))return!1;var u=t(c);return u==r||u==s||u==n||u==i}return QE=o,QE}var ZE,YD;function D0e(){if(YD)return ZE;YD=1;var t=au(),e=t["__core-js_shared__"];return ZE=e,ZE}var ej,XD;function M0e(){if(XD)return ej;XD=1;var t=D0e(),e=function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!e&&e in r}return ej=n,ej}var tj,JD;function gV(){if(JD)return tj;JD=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return tj=n,tj}var nj,QD;function F0e(){if(QD)return nj;QD=1;var t=pV(),e=M0e(),n=mV(),r=gV(),s=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,c=Object.prototype,u=o.toString,h=c.hasOwnProperty,f=RegExp("^"+u.call(h).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function g(p){if(!n(p)||e(p))return!1;var y=t(p)?f:i;return y.test(r(p))}return nj=g,nj}var rj,ZD;function B0e(){if(ZD)return rj;ZD=1;function t(e,n){return e==null?void 0:e[n]}return rj=t,rj}var sj,e6;function _p(){if(e6)return sj;e6=1;var t=F0e(),e=B0e();function n(r,s){var i=e(r,s);return t(i)?i:void 0}return sj=n,sj}var aj,t6;function VL(){if(t6)return aj;t6=1;var t=_p(),e=au(),n=t(e,"Map");return aj=n,aj}var ij,n6;function Tw(){if(n6)return ij;n6=1;var t=_p(),e=t(Object,"create");return ij=e,ij}var oj,r6;function U0e(){if(r6)return oj;r6=1;var t=Tw();function e(){this.__data__=t?t(null):{},this.size=0}return oj=e,oj}var lj,s6;function z0e(){if(s6)return lj;s6=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return lj=t,lj}var cj,a6;function q0e(){if(a6)return cj;a6=1;var t=Tw(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function s(i){var o=this.__data__;if(t){var c=o[i];return c===e?void 0:c}return r.call(o,i)?o[i]:void 0}return cj=s,cj}var uj,i6;function $0e(){if(i6)return uj;i6=1;var t=Tw(),e=Object.prototype,n=e.hasOwnProperty;function r(s){var i=this.__data__;return t?i[s]!==void 0:n.call(i,s)}return uj=r,uj}var dj,o6;function V0e(){if(o6)return dj;o6=1;var t=Tw(),e="__lodash_hash_undefined__";function n(r,s){var i=this.__data__;return this.size+=this.has(r)?0:1,i[r]=t&&s===void 0?e:s,this}return dj=n,dj}var hj,l6;function H0e(){if(l6)return hj;l6=1;var t=U0e(),e=z0e(),n=q0e(),r=$0e(),s=V0e();function i(o){var c=-1,u=o==null?0:o.length;for(this.clear();++c<u;){var h=o[c];this.set(h[0],h[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=n,i.prototype.has=r,i.prototype.set=s,hj=i,hj}var fj,c6;function G0e(){if(c6)return fj;c6=1;var t=H0e(),e=Cw(),n=VL();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return fj=r,fj}var mj,u6;function W0e(){if(u6)return mj;u6=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return mj=t,mj}var pj,d6;function Aw(){if(d6)return pj;d6=1;var t=W0e();function e(n,r){var s=n.__data__;return t(r)?s[typeof r=="string"?"string":"hash"]:s.map}return pj=e,pj}var gj,h6;function K0e(){if(h6)return gj;h6=1;var t=Aw();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return gj=e,gj}var yj,f6;function Y0e(){if(f6)return yj;f6=1;var t=Aw();function e(n){return t(this,n).get(n)}return yj=e,yj}var vj,m6;function X0e(){if(m6)return vj;m6=1;var t=Aw();function e(n){return t(this,n).has(n)}return vj=e,vj}var xj,p6;function J0e(){if(p6)return xj;p6=1;var t=Aw();function e(n,r){var s=t(this,n),i=s.size;return s.set(n,r),this.size+=s.size==i?0:1,this}return xj=e,xj}var bj,g6;function yV(){if(g6)return bj;g6=1;var t=G0e(),e=K0e(),n=Y0e(),r=X0e(),s=J0e();function i(o){var c=-1,u=o==null?0:o.length;for(this.clear();++c<u;){var h=o[c];this.set(h[0],h[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=n,i.prototype.has=r,i.prototype.set=s,bj=i,bj}var wj,y6;function Q0e(){if(y6)return wj;y6=1;var t=Cw(),e=VL(),n=yV(),r=200;function s(i,o){var c=this.__data__;if(c instanceof t){var u=c.__data__;if(!e||u.length<r-1)return u.push([i,o]),this.size=++c.size,this;c=this.__data__=new n(u)}return c.set(i,o),this.size=c.size,this}return wj=s,wj}var _j,v6;function Z0e(){if(v6)return _j;v6=1;var t=Cw(),e=L0e(),n=R0e(),r=k0e(),s=O0e(),i=Q0e();function o(c){var u=this.__data__=new t(c);this.size=u.size}return o.prototype.clear=e,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=s,o.prototype.set=i,_j=o,_j}var Ej,x6;function eye(){if(x6)return Ej;x6=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return Ej=e,Ej}var jj,b6;function tye(){if(b6)return jj;b6=1;function t(e){return this.__data__.has(e)}return jj=t,jj}var Sj,w6;function nye(){if(w6)return Sj;w6=1;var t=yV(),e=eye(),n=tye();function r(s){var i=-1,o=s==null?0:s.length;for(this.__data__=new t;++i<o;)this.add(s[i])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,Sj=r,Sj}var Cj,_6;function rye(){if(_6)return Cj;_6=1;function t(e,n){for(var r=-1,s=e==null?0:e.length;++r<s;)if(n(e[r],r,e))return!0;return!1}return Cj=t,Cj}var Nj,E6;function sye(){if(E6)return Nj;E6=1;function t(e,n){return e.has(n)}return Nj=t,Nj}var Tj,j6;function vV(){if(j6)return Tj;j6=1;var t=nye(),e=rye(),n=sye(),r=1,s=2;function i(o,c,u,h,f,g){var p=u&r,y=o.length,w=c.length;if(y!=w&&!(p&&w>y))return!1;var E=g.get(o),j=g.get(c);if(E&&j)return E==c&&j==o;var C=-1,O=!0,I=u&s?new t:void 0;for(g.set(o,c),g.set(c,o);++C<y;){var D=o[C],T=c[C];if(h)var F=p?h(T,D,C,c,o,g):h(D,T,C,o,c,g);if(F!==void 0){if(F)continue;O=!1;break}if(I){if(!e(c,function(_,R){if(!n(I,R)&&(D===_||f(D,_,u,h,g)))return I.push(R)})){O=!1;break}}else if(!(D===T||f(D,T,u,h,g))){O=!1;break}}return g.delete(o),g.delete(c),O}return Tj=i,Tj}var Aj,S6;function aye(){if(S6)return Aj;S6=1;var t=au(),e=t.Uint8Array;return Aj=e,Aj}var Lj,C6;function iye(){if(C6)return Lj;C6=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(s,i){r[++n]=[i,s]}),r}return Lj=t,Lj}var Rj,N6;function oye(){if(N6)return Rj;N6=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(s){r[++n]=s}),r}return Rj=t,Rj}var kj,T6;function lye(){if(T6)return kj;T6=1;var t=$L(),e=aye(),n=hV(),r=vV(),s=iye(),i=oye(),o=1,c=2,u="[object Boolean]",h="[object Date]",f="[object Error]",g="[object Map]",p="[object Number]",y="[object RegExp]",w="[object Set]",E="[object String]",j="[object Symbol]",C="[object ArrayBuffer]",O="[object DataView]",I=t?t.prototype:void 0,D=I?I.valueOf:void 0;function T(F,_,R,b,A,L,U){switch(R){case O:if(F.byteLength!=_.byteLength||F.byteOffset!=_.byteOffset)return!1;F=F.buffer,_=_.buffer;case C:return!(F.byteLength!=_.byteLength||!L(new e(F),new e(_)));case u:case h:case p:return n(+F,+_);case f:return F.name==_.name&&F.message==_.message;case y:case E:return F==_+"";case g:var P=s;case w:var K=b&o;if(P||(P=i),F.size!=_.size&&!K)return!1;var G=U.get(F);if(G)return G==_;b|=c,U.set(F,_);var re=r(P(F),P(_),b,A,L,U);return U.delete(F),re;case j:if(D)return D.call(F)==D.call(_)}return!1}return kj=T,kj}var Oj,A6;function cye(){if(A6)return Oj;A6=1;function t(e,n){for(var r=-1,s=n.length,i=e.length;++r<s;)e[i+r]=n[r];return e}return Oj=t,Oj}var Ij,L6;function HL(){if(L6)return Ij;L6=1;var t=Array.isArray;return Ij=t,Ij}var Pj,R6;function uye(){if(R6)return Pj;R6=1;var t=cye(),e=HL();function n(r,s,i){var o=s(r);return e(r)?o:t(o,i(r))}return Pj=n,Pj}var Dj,k6;function dye(){if(k6)return Dj;k6=1;function t(e,n){for(var r=-1,s=e==null?0:e.length,i=0,o=[];++r<s;){var c=e[r];n(c,r,e)&&(o[i++]=c)}return o}return Dj=t,Dj}var Mj,O6;function hye(){if(O6)return Mj;O6=1;function t(){return[]}return Mj=t,Mj}var Fj,I6;function fye(){if(I6)return Fj;I6=1;var t=dye(),e=hye(),n=Object.prototype,r=n.propertyIsEnumerable,s=Object.getOwnPropertySymbols,i=s?function(o){return o==null?[]:(o=Object(o),t(s(o),function(c){return r.call(o,c)}))}:e;return Fj=i,Fj}var Bj,P6;function mye(){if(P6)return Bj;P6=1;function t(e,n){for(var r=-1,s=Array(e);++r<e;)s[r]=n(r);return s}return Bj=t,Bj}var Uj,D6;function Lw(){if(D6)return Uj;D6=1;function t(e){return e!=null&&typeof e=="object"}return Uj=t,Uj}var zj,M6;function pye(){if(M6)return zj;M6=1;var t=Nw(),e=Lw(),n="[object Arguments]";function r(s){return e(s)&&t(s)==n}return zj=r,zj}var qj,F6;function gye(){if(F6)return qj;F6=1;var t=pye(),e=Lw(),n=Object.prototype,r=n.hasOwnProperty,s=n.propertyIsEnumerable,i=t(function(){return arguments}())?t:function(o){return e(o)&&r.call(o,"callee")&&!s.call(o,"callee")};return qj=i,qj}var Ug={exports:{}},$j,B6;function yye(){if(B6)return $j;B6=1;function t(){return!1}return $j=t,$j}Ug.exports;var U6;function xV(){return U6||(U6=1,function(t,e){var n=au(),r=yye(),s=e&&!e.nodeType&&e,i=s&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===s,c=o?n.Buffer:void 0,u=c?c.isBuffer:void 0,h=u||r;t.exports=h}(Ug,Ug.exports)),Ug.exports}var Vj,z6;function vye(){if(z6)return Vj;z6=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,s){var i=typeof r;return s=s??t,!!s&&(i=="number"||i!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<s}return Vj=n,Vj}var Hj,q6;function bV(){if(q6)return Hj;q6=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return Hj=e,Hj}var Gj,$6;function xye(){if($6)return Gj;$6=1;var t=Nw(),e=bV(),n=Lw(),r="[object Arguments]",s="[object Array]",i="[object Boolean]",o="[object Date]",c="[object Error]",u="[object Function]",h="[object Map]",f="[object Number]",g="[object Object]",p="[object RegExp]",y="[object Set]",w="[object String]",E="[object WeakMap]",j="[object ArrayBuffer]",C="[object DataView]",O="[object Float32Array]",I="[object Float64Array]",D="[object Int8Array]",T="[object Int16Array]",F="[object Int32Array]",_="[object Uint8Array]",R="[object Uint8ClampedArray]",b="[object Uint16Array]",A="[object Uint32Array]",L={};L[O]=L[I]=L[D]=L[T]=L[F]=L[_]=L[R]=L[b]=L[A]=!0,L[r]=L[s]=L[j]=L[i]=L[C]=L[o]=L[c]=L[u]=L[h]=L[f]=L[g]=L[p]=L[y]=L[w]=L[E]=!1;function U(P){return n(P)&&e(P.length)&&!!L[t(P)]}return Gj=U,Gj}var Wj,V6;function bye(){if(V6)return Wj;V6=1;function t(e){return function(n){return e(n)}}return Wj=t,Wj}var zg={exports:{}};zg.exports;var H6;function wye(){return H6||(H6=1,function(t,e){var n=fV(),r=e&&!e.nodeType&&e,s=r&&!0&&t&&!t.nodeType&&t,i=s&&s.exports===r,o=i&&n.process,c=function(){try{var u=s&&s.require&&s.require("util").types;return u||o&&o.binding&&o.binding("util")}catch{}}();t.exports=c}(zg,zg.exports)),zg.exports}var Kj,G6;function wV(){if(G6)return Kj;G6=1;var t=xye(),e=bye(),n=wye(),r=n&&n.isTypedArray,s=r?e(r):t;return Kj=s,Kj}var Yj,W6;function _ye(){if(W6)return Yj;W6=1;var t=mye(),e=gye(),n=HL(),r=xV(),s=vye(),i=wV(),o=Object.prototype,c=o.hasOwnProperty;function u(h,f){var g=n(h),p=!g&&e(h),y=!g&&!p&&r(h),w=!g&&!p&&!y&&i(h),E=g||p||y||w,j=E?t(h.length,String):[],C=j.length;for(var O in h)(f||c.call(h,O))&&!(E&&(O=="length"||y&&(O=="offset"||O=="parent")||w&&(O=="buffer"||O=="byteLength"||O=="byteOffset")||s(O,C)))&&j.push(O);return j}return Yj=u,Yj}var Xj,K6;function Eye(){if(K6)return Xj;K6=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,s=typeof r=="function"&&r.prototype||t;return n===s}return Xj=e,Xj}var Jj,Y6;function jye(){if(Y6)return Jj;Y6=1;function t(e,n){return function(r){return e(n(r))}}return Jj=t,Jj}var Qj,X6;function Sye(){if(X6)return Qj;X6=1;var t=jye(),e=t(Object.keys,Object);return Qj=e,Qj}var Zj,J6;function Cye(){if(J6)return Zj;J6=1;var t=Eye(),e=Sye(),n=Object.prototype,r=n.hasOwnProperty;function s(i){if(!t(i))return e(i);var o=[];for(var c in Object(i))r.call(i,c)&&c!="constructor"&&o.push(c);return o}return Zj=s,Zj}var eS,Q6;function Nye(){if(Q6)return eS;Q6=1;var t=pV(),e=bV();function n(r){return r!=null&&e(r.length)&&!t(r)}return eS=n,eS}var tS,Z6;function Tye(){if(Z6)return tS;Z6=1;var t=_ye(),e=Cye(),n=Nye();function r(s){return n(s)?t(s):e(s)}return tS=r,tS}var nS,e5;function Aye(){if(e5)return nS;e5=1;var t=uye(),e=fye(),n=Tye();function r(s){return t(s,n,e)}return nS=r,nS}var rS,t5;function Lye(){if(t5)return rS;t5=1;var t=Aye(),e=1,n=Object.prototype,r=n.hasOwnProperty;function s(i,o,c,u,h,f){var g=c&e,p=t(i),y=p.length,w=t(o),E=w.length;if(y!=E&&!g)return!1;for(var j=y;j--;){var C=p[j];if(!(g?C in o:r.call(o,C)))return!1}var O=f.get(i),I=f.get(o);if(O&&I)return O==o&&I==i;var D=!0;f.set(i,o),f.set(o,i);for(var T=g;++j<y;){C=p[j];var F=i[C],_=o[C];if(u)var R=g?u(_,F,C,o,i,f):u(F,_,C,i,o,f);if(!(R===void 0?F===_||h(F,_,c,u,f):R)){D=!1;break}T||(T=C=="constructor")}if(D&&!T){var b=i.constructor,A=o.constructor;b!=A&&"constructor"in i&&"constructor"in o&&!(typeof b=="function"&&b instanceof b&&typeof A=="function"&&A instanceof A)&&(D=!1)}return f.delete(i),f.delete(o),D}return rS=s,rS}var sS,n5;function Rye(){if(n5)return sS;n5=1;var t=_p(),e=au(),n=t(e,"DataView");return sS=n,sS}var aS,r5;function kye(){if(r5)return aS;r5=1;var t=_p(),e=au(),n=t(e,"Promise");return aS=n,aS}var iS,s5;function Oye(){if(s5)return iS;s5=1;var t=_p(),e=au(),n=t(e,"Set");return iS=n,iS}var oS,a5;function Iye(){if(a5)return oS;a5=1;var t=_p(),e=au(),n=t(e,"WeakMap");return oS=n,oS}var lS,i5;function Pye(){if(i5)return lS;i5=1;var t=Rye(),e=VL(),n=kye(),r=Oye(),s=Iye(),i=Nw(),o=gV(),c="[object Map]",u="[object Object]",h="[object Promise]",f="[object Set]",g="[object WeakMap]",p="[object DataView]",y=o(t),w=o(e),E=o(n),j=o(r),C=o(s),O=i;return(t&&O(new t(new ArrayBuffer(1)))!=p||e&&O(new e)!=c||n&&O(n.resolve())!=h||r&&O(new r)!=f||s&&O(new s)!=g)&&(O=function(I){var D=i(I),T=D==u?I.constructor:void 0,F=T?o(T):"";if(F)switch(F){case y:return p;case w:return c;case E:return h;case j:return f;case C:return g}return D}),lS=O,lS}var cS,o5;function Dye(){if(o5)return cS;o5=1;var t=Z0e(),e=vV(),n=lye(),r=Lye(),s=Pye(),i=HL(),o=xV(),c=wV(),u=1,h="[object Arguments]",f="[object Array]",g="[object Object]",p=Object.prototype,y=p.hasOwnProperty;function w(E,j,C,O,I,D){var T=i(E),F=i(j),_=T?f:s(E),R=F?f:s(j);_=_==h?g:_,R=R==h?g:R;var b=_==g,A=R==g,L=_==R;if(L&&o(E)){if(!o(j))return!1;T=!0,b=!1}if(L&&!b)return D||(D=new t),T||c(E)?e(E,j,C,O,I,D):n(E,j,_,C,O,I,D);if(!(C&u)){var U=b&&y.call(E,"__wrapped__"),P=A&&y.call(j,"__wrapped__");if(U||P){var K=U?E.value():E,G=P?j.value():j;return D||(D=new t),I(K,G,C,O,D)}}return L?(D||(D=new t),r(E,j,C,O,I,D)):!1}return cS=w,cS}var uS,l5;function Mye(){if(l5)return uS;l5=1;var t=Dye(),e=Lw();function n(r,s,i,o,c){return r===s?!0:r==null||s==null||!e(r)&&!e(s)?r!==r&&s!==s:t(r,s,i,o,n,c)}return uS=n,uS}var dS,c5;function Fye(){if(c5)return dS;c5=1;var t=Mye();function e(n,r){return t(n,r)}return dS=e,dS}var Bye=Fye();const Cg=rc(Bye);var _V=typeof global=="object"&&global&&global.Object===Object&&global,Uye=typeof self=="object"&&self&&self.Object===Object&&self,ac=_V||Uye||Function("return this")(),Jl=ac.Symbol,EV=Object.prototype,zye=EV.hasOwnProperty,qye=EV.toString,Ng=Jl?Jl.toStringTag:void 0;function $ye(t){var e=zye.call(t,Ng),n=t[Ng];try{t[Ng]=void 0;var r=!0}catch{}var s=qye.call(t);return r&&(e?t[Ng]=n:delete t[Ng]),s}var Vye=Object.prototype,Hye=Vye.toString;function Gye(t){return Hye.call(t)}var Wye="[object Null]",Kye="[object Undefined]",u5=Jl?Jl.toStringTag:void 0;function Hh(t){return t==null?t===void 0?Kye:Wye:u5&&u5 in Object(t)?$ye(t):Gye(t)}function Ql(t){return t!=null&&typeof t=="object"}var Yye="[object Symbol]";function GL(t){return typeof t=="symbol"||Ql(t)&&Hh(t)==Yye}function Xye(t,e){for(var n=-1,r=t==null?0:t.length,s=Array(r);++n<r;)s[n]=e(t[n],n,t);return s}var Zl=Array.isArray,d5=Jl?Jl.prototype:void 0,h5=d5?d5.toString:void 0;function jV(t){if(typeof t=="string")return t;if(Zl(t))return Xye(t,jV)+"";if(GL(t))return h5?h5.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function cl(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function SV(t){return t}var Jye="[object AsyncFunction]",Qye="[object Function]",Zye="[object GeneratorFunction]",eve="[object Proxy]";function WL(t){if(!cl(t))return!1;var e=Hh(t);return e==Qye||e==Zye||e==Jye||e==eve}var hS=ac["__core-js_shared__"],f5=function(){var t=/[^.]+$/.exec(hS&&hS.keys&&hS.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function tve(t){return!!f5&&f5 in t}var nve=Function.prototype,rve=nve.toString;function Gh(t){if(t!=null){try{return rve.call(t)}catch{}try{return t+""}catch{}}return""}var sve=/[\\^$.*+?()[\]{}|]/g,ave=/^\[object .+?Constructor\]$/,ive=Function.prototype,ove=Object.prototype,lve=ive.toString,cve=ove.hasOwnProperty,uve=RegExp("^"+lve.call(cve).replace(sve,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function dve(t){if(!cl(t)||tve(t))return!1;var e=WL(t)?uve:ave;return e.test(Gh(t))}function hve(t,e){return t==null?void 0:t[e]}function Wh(t,e){var n=hve(t,e);return dve(n)?n:void 0}var UN=Wh(ac,"WeakMap"),m5=Object.create,fve=function(){function t(){}return function(e){if(!cl(e))return{};if(m5)return m5(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function mve(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function CV(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var pve=800,gve=16,yve=Date.now;function vve(t){var e=0,n=0;return function(){var r=yve(),s=gve-(r-n);if(n=r,s>0){if(++e>=pve)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function xve(t){return function(){return t}}var s1=function(){try{var t=Wh(Object,"defineProperty");return t({},"",{}),t}catch{}}(),bve=s1?function(t,e){return s1(t,"toString",{configurable:!0,enumerable:!1,value:xve(e),writable:!0})}:SV,wve=vve(bve);function _ve(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var Eve=9007199254740991,jve=/^(?:0|[1-9]\d*)$/;function NV(t,e){var n=typeof t;return e=e??Eve,!!e&&(n=="number"||n!="symbol"&&jve.test(t))&&t>-1&&t%1==0&&t<e}function KL(t,e,n){e=="__proto__"&&s1?s1(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Fy(t,e){return t===e||t!==t&&e!==e}var Sve=Object.prototype,Cve=Sve.hasOwnProperty;function TV(t,e,n){var r=t[e];(!(Cve.call(t,e)&&Fy(r,n))||n===void 0&&!(e in t))&&KL(t,e,n)}function By(t,e,n,r){var s=!n;n||(n={});for(var i=-1,o=e.length;++i<o;){var c=e[i],u=void 0;u===void 0&&(u=t[c]),s?KL(n,c,u):TV(n,c,u)}return n}var p5=Math.max;function Nve(t,e,n){return e=p5(e===void 0?t.length-1:e,0),function(){for(var r=arguments,s=-1,i=p5(r.length-e,0),o=Array(i);++s<i;)o[s]=r[e+s];s=-1;for(var c=Array(e+1);++s<e;)c[s]=r[s];return c[e]=n(o),mve(t,this,c)}}function Tve(t,e){return wve(Nve(t,e,SV),t+"")}var Ave=9007199254740991;function AV(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Ave}function Rw(t){return t!=null&&AV(t.length)&&!WL(t)}function Lve(t,e,n){if(!cl(n))return!1;var r=typeof e;return(r=="number"?Rw(n)&&NV(e,n.length):r=="string"&&e in n)?Fy(n[e],t):!1}function Rve(t){return Tve(function(e,n){var r=-1,s=n.length,i=s>1?n[s-1]:void 0,o=s>2?n[2]:void 0;for(i=t.length>3&&typeof i=="function"?(s--,i):void 0,o&&Lve(n[0],n[1],o)&&(i=s<3?void 0:i,s=1),e=Object(e);++r<s;){var c=n[r];c&&t(e,c,r,i)}return e})}var kve=Object.prototype;function YL(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||kve;return t===n}function Ove(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Ive="[object Arguments]";function g5(t){return Ql(t)&&Hh(t)==Ive}var LV=Object.prototype,Pve=LV.hasOwnProperty,Dve=LV.propertyIsEnumerable,zN=g5(function(){return arguments}())?g5:function(t){return Ql(t)&&Pve.call(t,"callee")&&!Dve.call(t,"callee")};function Mve(){return!1}var RV=typeof Vi=="object"&&Vi&&!Vi.nodeType&&Vi,y5=RV&&typeof Hi=="object"&&Hi&&!Hi.nodeType&&Hi,Fve=y5&&y5.exports===RV,v5=Fve?ac.Buffer:void 0,Bve=v5?v5.isBuffer:void 0,U0=Bve||Mve,Uve="[object Arguments]",zve="[object Array]",qve="[object Boolean]",$ve="[object Date]",Vve="[object Error]",Hve="[object Function]",Gve="[object Map]",Wve="[object Number]",Kve="[object Object]",Yve="[object RegExp]",Xve="[object Set]",Jve="[object String]",Qve="[object WeakMap]",Zve="[object ArrayBuffer]",exe="[object DataView]",txe="[object Float32Array]",nxe="[object Float64Array]",rxe="[object Int8Array]",sxe="[object Int16Array]",axe="[object Int32Array]",ixe="[object Uint8Array]",oxe="[object Uint8ClampedArray]",lxe="[object Uint16Array]",cxe="[object Uint32Array]",Nr={};Nr[txe]=Nr[nxe]=Nr[rxe]=Nr[sxe]=Nr[axe]=Nr[ixe]=Nr[oxe]=Nr[lxe]=Nr[cxe]=!0;Nr[Uve]=Nr[zve]=Nr[Zve]=Nr[qve]=Nr[exe]=Nr[$ve]=Nr[Vve]=Nr[Hve]=Nr[Gve]=Nr[Wve]=Nr[Kve]=Nr[Yve]=Nr[Xve]=Nr[Jve]=Nr[Qve]=!1;function uxe(t){return Ql(t)&&AV(t.length)&&!!Nr[Hh(t)]}function XL(t){return function(e){return t(e)}}var kV=typeof Vi=="object"&&Vi&&!Vi.nodeType&&Vi,a0=kV&&typeof Hi=="object"&&Hi&&!Hi.nodeType&&Hi,dxe=a0&&a0.exports===kV,fS=dxe&&_V.process,Fm=function(){try{var t=a0&&a0.require&&a0.require("util").types;return t||fS&&fS.binding&&fS.binding("util")}catch{}}(),x5=Fm&&Fm.isTypedArray,JL=x5?XL(x5):uxe,hxe=Object.prototype,fxe=hxe.hasOwnProperty;function OV(t,e){var n=Zl(t),r=!n&&zN(t),s=!n&&!r&&U0(t),i=!n&&!r&&!s&&JL(t),o=n||r||s||i,c=o?Ove(t.length,String):[],u=c.length;for(var h in t)(e||fxe.call(t,h))&&!(o&&(h=="length"||s&&(h=="offset"||h=="parent")||i&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||NV(h,u)))&&c.push(h);return c}function IV(t,e){return function(n){return t(e(n))}}var mxe=IV(Object.keys,Object),pxe=Object.prototype,gxe=pxe.hasOwnProperty;function yxe(t){if(!YL(t))return mxe(t);var e=[];for(var n in Object(t))gxe.call(t,n)&&n!="constructor"&&e.push(n);return e}function QL(t){return Rw(t)?OV(t):yxe(t)}function vxe(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var xxe=Object.prototype,bxe=xxe.hasOwnProperty;function wxe(t){if(!cl(t))return vxe(t);var e=YL(t),n=[];for(var r in t)r=="constructor"&&(e||!bxe.call(t,r))||n.push(r);return n}function Uy(t){return Rw(t)?OV(t,!0):wxe(t)}var _xe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Exe=/^\w*$/;function jxe(t,e){if(Zl(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||GL(t)?!0:Exe.test(t)||!_xe.test(t)||e!=null&&t in Object(e)}var z0=Wh(Object,"create");function Sxe(){this.__data__=z0?z0(null):{},this.size=0}function Cxe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Nxe="__lodash_hash_undefined__",Txe=Object.prototype,Axe=Txe.hasOwnProperty;function Lxe(t){var e=this.__data__;if(z0){var n=e[t];return n===Nxe?void 0:n}return Axe.call(e,t)?e[t]:void 0}var Rxe=Object.prototype,kxe=Rxe.hasOwnProperty;function Oxe(t){var e=this.__data__;return z0?e[t]!==void 0:kxe.call(e,t)}var Ixe="__lodash_hash_undefined__";function Pxe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=z0&&e===void 0?Ixe:e,this}function Nh(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Nh.prototype.clear=Sxe;Nh.prototype.delete=Cxe;Nh.prototype.get=Lxe;Nh.prototype.has=Oxe;Nh.prototype.set=Pxe;function Dxe(){this.__data__=[],this.size=0}function kw(t,e){for(var n=t.length;n--;)if(Fy(t[n][0],e))return n;return-1}var Mxe=Array.prototype,Fxe=Mxe.splice;function Bxe(t){var e=this.__data__,n=kw(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Fxe.call(e,n,1),--this.size,!0}function Uxe(t){var e=this.__data__,n=kw(e,t);return n<0?void 0:e[n][1]}function zxe(t){return kw(this.__data__,t)>-1}function qxe(t,e){var n=this.__data__,r=kw(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function iu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}iu.prototype.clear=Dxe;iu.prototype.delete=Bxe;iu.prototype.get=Uxe;iu.prototype.has=zxe;iu.prototype.set=qxe;var q0=Wh(ac,"Map");function $xe(){this.size=0,this.__data__={hash:new Nh,map:new(q0||iu),string:new Nh}}function Vxe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Ow(t,e){var n=t.__data__;return Vxe(e)?n[typeof e=="string"?"string":"hash"]:n.map}function Hxe(t){var e=Ow(this,t).delete(t);return this.size-=e?1:0,e}function Gxe(t){return Ow(this,t).get(t)}function Wxe(t){return Ow(this,t).has(t)}function Kxe(t,e){var n=Ow(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function ou(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ou.prototype.clear=$xe;ou.prototype.delete=Hxe;ou.prototype.get=Gxe;ou.prototype.has=Wxe;ou.prototype.set=Kxe;var Yxe="Expected a function";function ZL(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Yxe);var n=function(){var r=arguments,s=e?e.apply(this,r):r[0],i=n.cache;if(i.has(s))return i.get(s);var o=t.apply(this,r);return n.cache=i.set(s,o)||i,o};return n.cache=new(ZL.Cache||ou),n}ZL.Cache=ou;var Xxe=500;function Jxe(t){var e=ZL(t,function(r){return n.size===Xxe&&n.clear(),r}),n=e.cache;return e}var Qxe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Zxe=/\\(\\)?/g,ebe=Jxe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Qxe,function(n,r,s,i){e.push(s?i.replace(Zxe,"$1"):r||n)}),e});function tbe(t){return t==null?"":jV(t)}function PV(t,e){return Zl(t)?t:jxe(t,e)?[t]:ebe(tbe(t))}function DV(t){if(typeof t=="string"||GL(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function MV(t,e){e=PV(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[DV(e[n++])];return n&&n==r?t:void 0}function nbe(t,e,n){var r=t==null?void 0:MV(t,e);return r===void 0?n:r}function FV(t,e){for(var n=-1,r=e.length,s=t.length;++n<r;)t[s+n]=e[n];return t}var e3=IV(Object.getPrototypeOf,Object),rbe="[object Object]",sbe=Function.prototype,abe=Object.prototype,BV=sbe.toString,ibe=abe.hasOwnProperty,obe=BV.call(Object);function lbe(t){if(!Ql(t)||Hh(t)!=rbe)return!1;var e=e3(t);if(e===null)return!0;var n=ibe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&BV.call(n)==obe}function cbe(t,e,n){var r=-1,s=t.length;e<0&&(e=-e>s?0:s+e),n=n>s?s:n,n<0&&(n+=s),s=e>n?0:n-e>>>0,e>>>=0;for(var i=Array(s);++r<s;)i[r]=t[r+e];return i}function ube(){this.__data__=new iu,this.size=0}function dbe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function hbe(t){return this.__data__.get(t)}function fbe(t){return this.__data__.has(t)}var mbe=200;function pbe(t,e){var n=this.__data__;if(n instanceof iu){var r=n.__data__;if(!q0||r.length<mbe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new ou(r)}return n.set(t,e),this.size=n.size,this}function Hl(t){var e=this.__data__=new iu(t);this.size=e.size}Hl.prototype.clear=ube;Hl.prototype.delete=dbe;Hl.prototype.get=hbe;Hl.prototype.has=fbe;Hl.prototype.set=pbe;function gbe(t,e){return t&&By(e,QL(e),t)}function ybe(t,e){return t&&By(e,Uy(e),t)}var UV=typeof Vi=="object"&&Vi&&!Vi.nodeType&&Vi,b5=UV&&typeof Hi=="object"&&Hi&&!Hi.nodeType&&Hi,vbe=b5&&b5.exports===UV,w5=vbe?ac.Buffer:void 0,_5=w5?w5.allocUnsafe:void 0;function zV(t,e){if(e)return t.slice();var n=t.length,r=_5?_5(n):new t.constructor(n);return t.copy(r),r}function xbe(t,e){for(var n=-1,r=t==null?0:t.length,s=0,i=[];++n<r;){var o=t[n];e(o,n,t)&&(i[s++]=o)}return i}function qV(){return[]}var bbe=Object.prototype,wbe=bbe.propertyIsEnumerable,E5=Object.getOwnPropertySymbols,t3=E5?function(t){return t==null?[]:(t=Object(t),xbe(E5(t),function(e){return wbe.call(t,e)}))}:qV;function _be(t,e){return By(t,t3(t),e)}var Ebe=Object.getOwnPropertySymbols,$V=Ebe?function(t){for(var e=[];t;)FV(e,t3(t)),t=e3(t);return e}:qV;function jbe(t,e){return By(t,$V(t),e)}function VV(t,e,n){var r=e(t);return Zl(t)?r:FV(r,n(t))}function qN(t){return VV(t,QL,t3)}function Sbe(t){return VV(t,Uy,$V)}var $N=Wh(ac,"DataView"),VN=Wh(ac,"Promise"),HN=Wh(ac,"Set"),j5="[object Map]",Cbe="[object Object]",S5="[object Promise]",C5="[object Set]",N5="[object WeakMap]",T5="[object DataView]",Nbe=Gh($N),Tbe=Gh(q0),Abe=Gh(VN),Lbe=Gh(HN),Rbe=Gh(UN),el=Hh;($N&&el(new $N(new ArrayBuffer(1)))!=T5||q0&&el(new q0)!=j5||VN&&el(VN.resolve())!=S5||HN&&el(new HN)!=C5||UN&&el(new UN)!=N5)&&(el=function(t){var e=Hh(t),n=e==Cbe?t.constructor:void 0,r=n?Gh(n):"";if(r)switch(r){case Nbe:return T5;case Tbe:return j5;case Abe:return S5;case Lbe:return C5;case Rbe:return N5}return e});var kbe=Object.prototype,Obe=kbe.hasOwnProperty;function Ibe(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&Obe.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var a1=ac.Uint8Array;function n3(t){var e=new t.constructor(t.byteLength);return new a1(e).set(new a1(t)),e}function Pbe(t,e){var n=e?n3(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var Dbe=/\w*$/;function Mbe(t){var e=new t.constructor(t.source,Dbe.exec(t));return e.lastIndex=t.lastIndex,e}var A5=Jl?Jl.prototype:void 0,L5=A5?A5.valueOf:void 0;function Fbe(t){return L5?Object(L5.call(t)):{}}function HV(t,e){var n=e?n3(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var Bbe="[object Boolean]",Ube="[object Date]",zbe="[object Map]",qbe="[object Number]",$be="[object RegExp]",Vbe="[object Set]",Hbe="[object String]",Gbe="[object Symbol]",Wbe="[object ArrayBuffer]",Kbe="[object DataView]",Ybe="[object Float32Array]",Xbe="[object Float64Array]",Jbe="[object Int8Array]",Qbe="[object Int16Array]",Zbe="[object Int32Array]",e1e="[object Uint8Array]",t1e="[object Uint8ClampedArray]",n1e="[object Uint16Array]",r1e="[object Uint32Array]";function s1e(t,e,n){var r=t.constructor;switch(e){case Wbe:return n3(t);case Bbe:case Ube:return new r(+t);case Kbe:return Pbe(t,n);case Ybe:case Xbe:case Jbe:case Qbe:case Zbe:case e1e:case t1e:case n1e:case r1e:return HV(t,n);case zbe:return new r;case qbe:case Hbe:return new r(t);case $be:return Mbe(t);case Vbe:return new r;case Gbe:return Fbe(t)}}function GV(t){return typeof t.constructor=="function"&&!YL(t)?fve(e3(t)):{}}var a1e="[object Map]";function i1e(t){return Ql(t)&&el(t)==a1e}var R5=Fm&&Fm.isMap,o1e=R5?XL(R5):i1e,l1e="[object Set]";function c1e(t){return Ql(t)&&el(t)==l1e}var k5=Fm&&Fm.isSet,u1e=k5?XL(k5):c1e,d1e=1,h1e=2,f1e=4,WV="[object Arguments]",m1e="[object Array]",p1e="[object Boolean]",g1e="[object Date]",y1e="[object Error]",KV="[object Function]",v1e="[object GeneratorFunction]",x1e="[object Map]",b1e="[object Number]",YV="[object Object]",w1e="[object RegExp]",_1e="[object Set]",E1e="[object String]",j1e="[object Symbol]",S1e="[object WeakMap]",C1e="[object ArrayBuffer]",N1e="[object DataView]",T1e="[object Float32Array]",A1e="[object Float64Array]",L1e="[object Int8Array]",R1e="[object Int16Array]",k1e="[object Int32Array]",O1e="[object Uint8Array]",I1e="[object Uint8ClampedArray]",P1e="[object Uint16Array]",D1e="[object Uint32Array]",_r={};_r[WV]=_r[m1e]=_r[C1e]=_r[N1e]=_r[p1e]=_r[g1e]=_r[T1e]=_r[A1e]=_r[L1e]=_r[R1e]=_r[k1e]=_r[x1e]=_r[b1e]=_r[YV]=_r[w1e]=_r[_1e]=_r[E1e]=_r[j1e]=_r[O1e]=_r[I1e]=_r[P1e]=_r[D1e]=!0;_r[y1e]=_r[KV]=_r[S1e]=!1;function i0(t,e,n,r,s,i){var o,c=e&d1e,u=e&h1e,h=e&f1e;if(o!==void 0)return o;if(!cl(t))return t;var f=Zl(t);if(f){if(o=Ibe(t),!c)return CV(t,o)}else{var g=el(t),p=g==KV||g==v1e;if(U0(t))return zV(t,c);if(g==YV||g==WV||p&&!s){if(o=u||p?{}:GV(t),!c)return u?jbe(t,ybe(o,t)):_be(t,gbe(o,t))}else{if(!_r[g])return s?t:{};o=s1e(t,g,c)}}i||(i=new Hl);var y=i.get(t);if(y)return y;i.set(t,o),u1e(t)?t.forEach(function(j){o.add(i0(j,e,n,j,t,i))}):o1e(t)&&t.forEach(function(j,C){o.set(C,i0(j,e,n,C,t,i))});var w=h?u?Sbe:qN:u?Uy:QL,E=f?void 0:w(t);return _ve(E||t,function(j,C){E&&(C=j,j=t[C]),TV(o,C,i0(j,e,n,C,t,i))}),o}var M1e=4;function F1e(t){return i0(t,M1e)}var B1e=1,U1e=4;function fm(t){return i0(t,B1e|U1e)}var z1e="__lodash_hash_undefined__";function q1e(t){return this.__data__.set(t,z1e),this}function $1e(t){return this.__data__.has(t)}function i1(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new ou;++e<n;)this.add(t[e])}i1.prototype.add=i1.prototype.push=q1e;i1.prototype.has=$1e;function V1e(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function H1e(t,e){return t.has(e)}var G1e=1,W1e=2;function XV(t,e,n,r,s,i){var o=n&G1e,c=t.length,u=e.length;if(c!=u&&!(o&&u>c))return!1;var h=i.get(t),f=i.get(e);if(h&&f)return h==e&&f==t;var g=-1,p=!0,y=n&W1e?new i1:void 0;for(i.set(t,e),i.set(e,t);++g<c;){var w=t[g],E=e[g];if(r)var j=o?r(E,w,g,e,t,i):r(w,E,g,t,e,i);if(j!==void 0){if(j)continue;p=!1;break}if(y){if(!V1e(e,function(C,O){if(!H1e(y,O)&&(w===C||s(w,C,n,r,i)))return y.push(O)})){p=!1;break}}else if(!(w===E||s(w,E,n,r,i))){p=!1;break}}return i.delete(t),i.delete(e),p}function K1e(t){var e=-1,n=Array(t.size);return t.forEach(function(r,s){n[++e]=[s,r]}),n}function Y1e(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var X1e=1,J1e=2,Q1e="[object Boolean]",Z1e="[object Date]",ewe="[object Error]",twe="[object Map]",nwe="[object Number]",rwe="[object RegExp]",swe="[object Set]",awe="[object String]",iwe="[object Symbol]",owe="[object ArrayBuffer]",lwe="[object DataView]",O5=Jl?Jl.prototype:void 0,mS=O5?O5.valueOf:void 0;function cwe(t,e,n,r,s,i,o){switch(n){case lwe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case owe:return!(t.byteLength!=e.byteLength||!i(new a1(t),new a1(e)));case Q1e:case Z1e:case nwe:return Fy(+t,+e);case ewe:return t.name==e.name&&t.message==e.message;case rwe:case awe:return t==e+"";case twe:var c=K1e;case swe:var u=r&X1e;if(c||(c=Y1e),t.size!=e.size&&!u)return!1;var h=o.get(t);if(h)return h==e;r|=J1e,o.set(t,e);var f=XV(c(t),c(e),r,s,i,o);return o.delete(t),f;case iwe:if(mS)return mS.call(t)==mS.call(e)}return!1}var uwe=1,dwe=Object.prototype,hwe=dwe.hasOwnProperty;function fwe(t,e,n,r,s,i){var o=n&uwe,c=qN(t),u=c.length,h=qN(e),f=h.length;if(u!=f&&!o)return!1;for(var g=u;g--;){var p=c[g];if(!(o?p in e:hwe.call(e,p)))return!1}var y=i.get(t),w=i.get(e);if(y&&w)return y==e&&w==t;var E=!0;i.set(t,e),i.set(e,t);for(var j=o;++g<u;){p=c[g];var C=t[p],O=e[p];if(r)var I=o?r(O,C,p,e,t,i):r(C,O,p,t,e,i);if(!(I===void 0?C===O||s(C,O,n,r,i):I)){E=!1;break}j||(j=p=="constructor")}if(E&&!j){var D=t.constructor,T=e.constructor;D!=T&&"constructor"in t&&"constructor"in e&&!(typeof D=="function"&&D instanceof D&&typeof T=="function"&&T instanceof T)&&(E=!1)}return i.delete(t),i.delete(e),E}var mwe=1,I5="[object Arguments]",P5="[object Array]",Ex="[object Object]",pwe=Object.prototype,D5=pwe.hasOwnProperty;function gwe(t,e,n,r,s,i){var o=Zl(t),c=Zl(e),u=o?P5:el(t),h=c?P5:el(e);u=u==I5?Ex:u,h=h==I5?Ex:h;var f=u==Ex,g=h==Ex,p=u==h;if(p&&U0(t)){if(!U0(e))return!1;o=!0,f=!1}if(p&&!f)return i||(i=new Hl),o||JL(t)?XV(t,e,n,r,s,i):cwe(t,e,u,n,r,s,i);if(!(n&mwe)){var y=f&&D5.call(t,"__wrapped__"),w=g&&D5.call(e,"__wrapped__");if(y||w){var E=y?t.value():t,j=w?e.value():e;return i||(i=new Hl),s(E,j,n,r,i)}}return p?(i||(i=new Hl),fwe(t,e,n,r,s,i)):!1}function JV(t,e,n,r,s){return t===e?!0:t==null||e==null||!Ql(t)&&!Ql(e)?t!==t&&e!==e:gwe(t,e,n,r,JV,s)}function ywe(t){return function(e,n,r){for(var s=-1,i=Object(e),o=r(e),c=o.length;c--;){var u=o[++s];if(n(i[u],u,i)===!1)break}return e}}var vwe=ywe();function GN(t,e,n){(n!==void 0&&!Fy(t[e],n)||n===void 0&&!(e in t))&&KL(t,e,n)}function xwe(t){return Ql(t)&&Rw(t)}function WN(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function bwe(t){return By(t,Uy(t))}function wwe(t,e,n,r,s,i,o){var c=WN(t,n),u=WN(e,n),h=o.get(u);if(h){GN(t,n,h);return}var f=i?i(c,u,n+"",t,e,o):void 0,g=f===void 0;if(g){var p=Zl(u),y=!p&&U0(u),w=!p&&!y&&JL(u);f=u,p||y||w?Zl(c)?f=c:xwe(c)?f=CV(c):y?(g=!1,f=zV(u,!0)):w?(g=!1,f=HV(u,!0)):f=[]:lbe(u)||zN(u)?(f=c,zN(c)?f=bwe(c):(!cl(c)||WL(c))&&(f=GV(u))):g=!1}g&&(o.set(u,f),s(f,u,r,i,o),o.delete(u)),GN(t,n,f)}function QV(t,e,n,r,s){t!==e&&vwe(e,function(i,o){if(s||(s=new Hl),cl(i))wwe(t,e,o,n,QV,r,s);else{var c=r?r(WN(t,o),i,o+"",t,e,s):void 0;c===void 0&&(c=i),GN(t,o,c)}},Uy)}function _we(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}function Ewe(t,e){return e.length<2?t:MV(t,cbe(e,0,-1))}function $0(t,e){return JV(t,e)}var sd=Rve(function(t,e,n){QV(t,e,n)});function jwe(t,e){return e=PV(e,t),t=Ewe(t,e),t==null||delete t[DV(_we(e))]}function Swe(t,e){return t==null?!0:jwe(t,e)}var Tt=(t=>(t[t.TYPE=3]="TYPE",t[t.LEVEL=12]="LEVEL",t[t.ATTRIBUTE=13]="ATTRIBUTE",t[t.BLOT=14]="BLOT",t[t.INLINE=7]="INLINE",t[t.BLOCK=11]="BLOCK",t[t.BLOCK_BLOT=10]="BLOCK_BLOT",t[t.INLINE_BLOT=6]="INLINE_BLOT",t[t.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",t[t.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",t[t.ANY=15]="ANY",t))(Tt||{});class ec{constructor(e,n,r={}){this.attrName=e,this.keyName=n;const s=Tt.TYPE&Tt.ATTRIBUTE;this.scope=r.scope!=null?r.scope&Tt.LEVEL|s:Tt.ATTRIBUTE,r.whitelist!=null&&(this.whitelist=r.whitelist)}static keys(e){return Array.from(e.attributes).map(n=>n.name)}add(e,n){return this.canAdd(e,n)?(e.setAttribute(this.keyName,n),!0):!1}canAdd(e,n){return this.whitelist==null?!0:typeof n=="string"?this.whitelist.indexOf(n.replace(/["']/g,""))>-1:this.whitelist.indexOf(n)>-1}remove(e){e.removeAttribute(this.keyName)}value(e){const n=e.getAttribute(this.keyName);return this.canAdd(e,n)&&n?n:""}}class mm extends Error{constructor(e){e="[Parchment] "+e,super(e),this.message=e,this.name=this.constructor.name}}const ZV=class KN{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(e,n=!1){if(e==null)return null;if(this.blots.has(e))return this.blots.get(e)||null;if(n){let r=null;try{r=e.parentNode}catch{return null}return this.find(r,n)}return null}create(e,n,r){const s=this.query(n);if(s==null)throw new mm(`Unable to create ${n} blot`);const i=s,o=n instanceof Node||n.nodeType===Node.TEXT_NODE?n:i.create(r),c=new i(e,o,r);return KN.blots.set(c.domNode,c),c}find(e,n=!1){return KN.find(e,n)}query(e,n=Tt.ANY){let r;return typeof e=="string"?r=this.types[e]||this.attributes[e]:e instanceof Text||e.nodeType===Node.TEXT_NODE?r=this.types.text:typeof e=="number"?e&Tt.LEVEL&Tt.BLOCK?r=this.types.block:e&Tt.LEVEL&Tt.INLINE&&(r=this.types.inline):e instanceof Element&&((e.getAttribute("class")||"").split(/\s+/).some(s=>(r=this.classes[s],!!r)),r=r||this.tags[e.tagName]),r==null?null:"scope"in r&&n&Tt.LEVEL&r.scope&&n&Tt.TYPE&r.scope?r:null}register(...e){return e.map(n=>{const r="blotName"in n,s="attrName"in n;if(!r&&!s)throw new mm("Invalid definition");if(r&&n.blotName==="abstract")throw new mm("Cannot register abstract class");const i=r?n.blotName:s?n.attrName:void 0;return this.types[i]=n,s?typeof n.keyName=="string"&&(this.attributes[n.keyName]=n):r&&(n.className&&(this.classes[n.className]=n),n.tagName&&(Array.isArray(n.tagName)?n.tagName=n.tagName.map(o=>o.toUpperCase()):n.tagName=n.tagName.toUpperCase(),(Array.isArray(n.tagName)?n.tagName:[n.tagName]).forEach(o=>{(this.tags[o]==null||n.className==null)&&(this.tags[o]=n)}))),n})}};ZV.blots=new WeakMap;let Bm=ZV;function M5(t,e){return(t.getAttribute("class")||"").split(/\s+/).filter(n=>n.indexOf(`${e}-`)===0)}class Cwe extends ec{static keys(e){return(e.getAttribute("class")||"").split(/\s+/).map(n=>n.split("-").slice(0,-1).join("-"))}add(e,n){return this.canAdd(e,n)?(this.remove(e),e.classList.add(`${this.keyName}-${n}`),!0):!1}remove(e){M5(e,this.keyName).forEach(n=>{e.classList.remove(n)}),e.classList.length===0&&e.removeAttribute("class")}value(e){const n=(M5(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,n)?n:""}}const dl=Cwe;function pS(t){const e=t.split("-"),n=e.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("");return e[0]+n}class Nwe extends ec{static keys(e){return(e.getAttribute("style")||"").split(";").map(n=>n.split(":")[0].trim())}add(e,n){return this.canAdd(e,n)?(e.style[pS(this.keyName)]=n,!0):!1}remove(e){e.style[pS(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")}value(e){const n=e.style[pS(this.keyName)];return this.canAdd(e,n)?n:""}}const Sd=Nwe;class Twe{constructor(e){this.attributes={},this.domNode=e,this.build()}attribute(e,n){n?e.add(this.domNode,n)&&(e.value(this.domNode)!=null?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])}build(){this.attributes={};const e=Bm.find(this.domNode);if(e==null)return;const n=ec.keys(this.domNode),r=dl.keys(this.domNode),s=Sd.keys(this.domNode);n.concat(r).concat(s).forEach(i=>{const o=e.scroll.query(i,Tt.ATTRIBUTE);o instanceof ec&&(this.attributes[o.attrName]=o)})}copy(e){Object.keys(this.attributes).forEach(n=>{const r=this.attributes[n].value(this.domNode);e.format(n,r)})}move(e){this.copy(e),Object.keys(this.attributes).forEach(n=>{this.attributes[n].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((e,n)=>(e[n]=this.attributes[n].value(this.domNode),e),{})}}const Iw=Twe,eH=class{constructor(e,n){this.scroll=e,this.domNode=n,Bm.blots.set(n,this),this.prev=null,this.next=null}static create(e){if(this.tagName==null)throw new mm("Blot definition missing tagName");let n,r;return Array.isArray(this.tagName)?(typeof e=="string"?(r=e.toUpperCase(),parseInt(r,10).toString()===r&&(r=parseInt(r,10))):typeof e=="number"&&(r=e),typeof r=="number"?n=document.createElement(this.tagName[r-1]):r&&this.tagName.indexOf(r)>-1?n=document.createElement(r):n=document.createElement(this.tagName[0])):n=document.createElement(this.tagName),this.className&&n.classList.add(this.className),n}get statics(){return this.constructor}attach(){}clone(){const e=this.domNode.cloneNode(!1);return this.scroll.create(e)}detach(){this.parent!=null&&this.parent.removeChild(this),Bm.blots.delete(this.domNode)}deleteAt(e,n){this.isolate(e,n).remove()}formatAt(e,n,r,s){const i=this.isolate(e,n);if(this.scroll.query(r,Tt.BLOT)!=null&&s)i.wrap(r,s);else if(this.scroll.query(r,Tt.ATTRIBUTE)!=null){const o=this.scroll.create(this.statics.scope);i.wrap(o),o.format(r,s)}}insertAt(e,n,r){const s=r==null?this.scroll.create("text",n):this.scroll.create(n,r),i=this.split(e);this.parent.insertBefore(s,i||void 0)}isolate(e,n){const r=this.split(e);if(r==null)throw new Error("Attempt to isolate at end");return r.split(n),r}length(){return 1}offset(e=this.parent){return this.parent==null||this===e?0:this.parent.children.offset(this)+this.parent.offset(e)}optimize(e){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(e,n){const r=typeof e=="string"?this.scroll.create(e,n):e;return this.parent!=null&&(this.parent.insertBefore(r,this.next||void 0),this.remove()),r}split(e,n){return e===0?this:this.next}update(e,n){}wrap(e,n){const r=typeof e=="string"?this.scroll.create(e,n):e;if(this.parent!=null&&this.parent.insertBefore(r,this.next||void 0),typeof r.appendChild!="function")throw new mm(`Cannot wrap ${e}`);return r.appendChild(this),r}};eH.blotName="abstract";let tH=eH;const nH=class extends tH{static value(e){return!0}index(e,n){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(n,1):-1}position(e,n){let r=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return e>0&&(r+=1),[this.parent.domNode,r]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};nH.scope=Tt.INLINE_BLOT;let Awe=nH;const Da=Awe;class Lwe{constructor(){this.head=null,this.tail=null,this.length=0}append(...e){if(this.insertBefore(e[0],null),e.length>1){const n=e.slice(1);this.append(...n)}}at(e){const n=this.iterator();let r=n();for(;r&&e>0;)e-=1,r=n();return r}contains(e){const n=this.iterator();let r=n();for(;r;){if(r===e)return!0;r=n()}return!1}indexOf(e){const n=this.iterator();let r=n(),s=0;for(;r;){if(r===e)return s;s+=1,r=n()}return-1}insertBefore(e,n){e!=null&&(this.remove(e),e.next=n,n!=null?(e.prev=n.prev,n.prev!=null&&(n.prev.next=e),n.prev=e,n===this.head&&(this.head=e)):this.tail!=null?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)}offset(e){let n=0,r=this.head;for(;r!=null;){if(r===e)return n;n+=r.length(),r=r.next}return-1}remove(e){this.contains(e)&&(e.prev!=null&&(e.prev.next=e.next),e.next!=null&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)}iterator(e=this.head){return()=>{const n=e;return e!=null&&(e=e.next),n}}find(e,n=!1){const r=this.iterator();let s=r();for(;s;){const i=s.length();if(e<i||n&&e===i&&(s.next==null||s.next.length()!==0))return[s,e];e-=i,s=r()}return[null,0]}forEach(e){const n=this.iterator();let r=n();for(;r;)e(r),r=n()}forEachAt(e,n,r){if(n<=0)return;const[s,i]=this.find(e);let o=e-i;const c=this.iterator(s);let u=c();for(;u&&o<e+n;){const h=u.length();e>o?r(u,e-o,Math.min(n,o+h-e)):r(u,0,Math.min(h,e+n-o)),o+=h,u=c()}}map(e){return this.reduce((n,r)=>(n.push(e(r)),n),[])}reduce(e,n){const r=this.iterator();let s=r();for(;s;)n=e(n,s),s=r();return n}}function F5(t,e){const n=e.find(t);if(n)return n;try{return e.create(t)}catch{const r=e.create(Tt.INLINE);return Array.from(t.childNodes).forEach(s=>{r.domNode.appendChild(s)}),t.parentNode&&t.parentNode.replaceChild(r.domNode,t),r.attach(),r}}const rH=class Pu extends tH{constructor(e,n){super(e,n),this.uiNode=null,this.build()}appendChild(e){this.insertBefore(e)}attach(){super.attach(),this.children.forEach(e=>{e.attach()})}attachUI(e){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=e,Pu.uiClass&&this.uiNode.classList.add(Pu.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new Lwe,Array.from(this.domNode.childNodes).filter(e=>e!==this.uiNode).reverse().forEach(e=>{try{const n=F5(e,this.scroll);this.insertBefore(n,this.children.head||void 0)}catch(n){if(n instanceof mm)return;throw n}})}deleteAt(e,n){if(e===0&&n===this.length())return this.remove();this.children.forEachAt(e,n,(r,s,i)=>{r.deleteAt(s,i)})}descendant(e,n=0){const[r,s]=this.children.find(n);return e.blotName==null&&e(r)||e.blotName!=null&&r instanceof e?[r,s]:r instanceof Pu?r.descendant(e,s):[null,-1]}descendants(e,n=0,r=Number.MAX_VALUE){let s=[],i=r;return this.children.forEachAt(n,r,(o,c,u)=>{(e.blotName==null&&e(o)||e.blotName!=null&&o instanceof e)&&s.push(o),o instanceof Pu&&(s=s.concat(o.descendants(e,c,i))),i-=u}),s}detach(){this.children.forEach(e=>{e.detach()}),super.detach()}enforceAllowedChildren(){let e=!1;this.children.forEach(n=>{e||this.statics.allowedChildren.some(r=>n instanceof r)||(n.statics.scope===Tt.BLOCK_BLOT?(n.next!=null&&this.splitAfter(n),n.prev!=null&&this.splitAfter(n.prev),n.parent.unwrap(),e=!0):n instanceof Pu?n.unwrap():n.remove())})}formatAt(e,n,r,s){this.children.forEachAt(e,n,(i,o,c)=>{i.formatAt(o,c,r,s)})}insertAt(e,n,r){const[s,i]=this.children.find(e);if(s)s.insertAt(i,n,r);else{const o=r==null?this.scroll.create("text",n):this.scroll.create(n,r);this.appendChild(o)}}insertBefore(e,n){e.parent!=null&&e.parent.children.remove(e);let r=null;this.children.insertBefore(e,n||null),e.parent=this,n!=null&&(r=n.domNode),(this.domNode.parentNode!==e.domNode||this.domNode.nextSibling!==r)&&this.domNode.insertBefore(e.domNode,r),e.attach()}length(){return this.children.reduce((e,n)=>e+n.length(),0)}moveChildren(e,n){this.children.forEach(r=>{e.insertBefore(r,n)})}optimize(e){if(super.optimize(e),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const n=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(n)}else this.remove()}path(e,n=!1){const[r,s]=this.children.find(e,n),i=[[this,e]];return r instanceof Pu?i.concat(r.path(s,n)):(r!=null&&i.push([r,s]),i)}removeChild(e){this.children.remove(e)}replaceWith(e,n){const r=typeof e=="string"?this.scroll.create(e,n):e;return r instanceof Pu&&this.moveChildren(r),super.replaceWith(r)}split(e,n=!1){if(!n){if(e===0)return this;if(e===this.length())return this.next}const r=this.clone();return this.parent&&this.parent.insertBefore(r,this.next||void 0),this.children.forEachAt(e,this.length(),(s,i,o)=>{const c=s.split(i,n);c!=null&&r.appendChild(c)}),r}splitAfter(e){const n=this.clone();for(;e.next!=null;)n.appendChild(e.next);return this.parent&&this.parent.insertBefore(n,this.next||void 0),n}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(e,n){const r=[],s=[];e.forEach(i=>{i.target===this.domNode&&i.type==="childList"&&(r.push(...i.addedNodes),s.push(...i.removedNodes))}),s.forEach(i=>{if(i.parentNode!=null&&i.tagName!=="IFRAME"&&document.body.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const o=this.scroll.find(i);o!=null&&(o.domNode.parentNode==null||o.domNode.parentNode===this.domNode)&&o.detach()}),r.filter(i=>i.parentNode===this.domNode&&i!==this.uiNode).sort((i,o)=>i===o?0:i.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(i=>{let o=null;i.nextSibling!=null&&(o=this.scroll.find(i.nextSibling));const c=F5(i,this.scroll);(c.next!==o||c.next==null)&&(c.parent!=null&&c.parent.removeChild(this),this.insertBefore(c,o||void 0))}),this.enforceAllowedChildren()}};rH.uiClass="";let Rwe=rH;const il=Rwe;function kwe(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}const Hf=class Gf extends il{static create(e){return super.create(e)}static formats(e,n){const r=n.query(Gf.blotName);if(!(r!=null&&e.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,n){super(e,n),this.attributes=new Iw(this.domNode)}format(e,n){if(e===this.statics.blotName&&!n)this.children.forEach(r=>{r instanceof Gf||(r=r.wrap(Gf.blotName,!0)),this.attributes.copy(r)}),this.unwrap();else{const r=this.scroll.query(e,Tt.INLINE);if(r==null)return;r instanceof ec?this.attributes.attribute(r,n):n&&(e!==this.statics.blotName||this.formats()[e]!==n)&&this.replaceWith(e,n)}}formats(){const e=this.attributes.values(),n=this.statics.formats(this.domNode,this.scroll);return n!=null&&(e[this.statics.blotName]=n),e}formatAt(e,n,r,s){this.formats()[r]!=null||this.scroll.query(r,Tt.ATTRIBUTE)?this.isolate(e,n).format(r,s):super.formatAt(e,n,r,s)}optimize(e){super.optimize(e);const n=this.formats();if(Object.keys(n).length===0)return this.unwrap();const r=this.next;r instanceof Gf&&r.prev===this&&kwe(n,r.formats())&&(r.moveChildren(this),r.remove())}replaceWith(e,n){const r=super.replaceWith(e,n);return this.attributes.copy(r),r}update(e,n){super.update(e,n),e.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}wrap(e,n){const r=super.wrap(e,n);return r instanceof Gf&&this.attributes.move(r),r}};Hf.allowedChildren=[Hf,Da],Hf.blotName="inline",Hf.scope=Tt.INLINE_BLOT,Hf.tagName="SPAN";let Owe=Hf;const r3=Owe,Wf=class YN extends il{static create(e){return super.create(e)}static formats(e,n){const r=n.query(YN.blotName);if(!(r!=null&&e.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,n){super(e,n),this.attributes=new Iw(this.domNode)}format(e,n){const r=this.scroll.query(e,Tt.BLOCK);r!=null&&(r instanceof ec?this.attributes.attribute(r,n):e===this.statics.blotName&&!n?this.replaceWith(YN.blotName):n&&(e!==this.statics.blotName||this.formats()[e]!==n)&&this.replaceWith(e,n))}formats(){const e=this.attributes.values(),n=this.statics.formats(this.domNode,this.scroll);return n!=null&&(e[this.statics.blotName]=n),e}formatAt(e,n,r,s){this.scroll.query(r,Tt.BLOCK)!=null?this.format(r,s):super.formatAt(e,n,r,s)}insertAt(e,n,r){if(r==null||this.scroll.query(n,Tt.INLINE)!=null)super.insertAt(e,n,r);else{const s=this.split(e);if(s!=null){const i=this.scroll.create(n,r);s.parent.insertBefore(i,s)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(e,n){const r=super.replaceWith(e,n);return this.attributes.copy(r),r}update(e,n){super.update(e,n),e.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}};Wf.blotName="block",Wf.scope=Tt.BLOCK_BLOT,Wf.tagName="P",Wf.allowedChildren=[r3,Wf,Da];let Iwe=Wf;const V0=Iwe,XN=class extends il{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(e,n){super.deleteAt(e,n),this.enforceAllowedChildren()}formatAt(e,n,r,s){super.formatAt(e,n,r,s),this.enforceAllowedChildren()}insertAt(e,n,r){super.insertAt(e,n,r),this.enforceAllowedChildren()}optimize(e){super.optimize(e),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};XN.blotName="container",XN.scope=Tt.BLOCK_BLOT;let Pwe=XN;const Pw=Pwe;class Dwe extends Da{static formats(e,n){}format(e,n){super.formatAt(0,this.length(),e,n)}formatAt(e,n,r,s){e===0&&n===this.length()?this.format(r,s):super.formatAt(e,n,r,s)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const eo=Dwe,Mwe={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},Fwe=100,Kf=class extends il{constructor(e,n){super(null,n),this.registry=e,this.scroll=this,this.build(),this.observer=new MutationObserver(r=>{this.update(r)}),this.observer.observe(this.domNode,Mwe),this.attach()}create(e,n){return this.registry.create(this,e,n)}find(e,n=!1){const r=this.registry.find(e,n);return r?r.scroll===this?r:n?this.find(r.scroll.domNode.parentNode,!0):null:null}query(e,n=Tt.ANY){return this.registry.query(e,n)}register(...e){return this.registry.register(...e)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(e,n){this.update(),e===0&&n===this.length()?this.children.forEach(r=>{r.remove()}):super.deleteAt(e,n)}formatAt(e,n,r,s){this.update(),super.formatAt(e,n,r,s)}insertAt(e,n,r){this.update(),super.insertAt(e,n,r)}optimize(e=[],n={}){super.optimize(n);const r=n.mutationsMap||new WeakMap;let s=Array.from(this.observer.takeRecords());for(;s.length>0;)e.push(s.pop());const i=(u,h=!0)=>{u==null||u===this||u.domNode.parentNode!=null&&(r.has(u.domNode)||r.set(u.domNode,[]),h&&i(u.parent))},o=u=>{r.has(u.domNode)&&(u instanceof il&&u.children.forEach(o),r.delete(u.domNode),u.optimize(n))};let c=e;for(let u=0;c.length>0;u+=1){if(u>=Fwe)throw new Error("[Parchment] Maximum optimize iterations reached");for(c.forEach(h=>{const f=this.find(h.target,!0);f!=null&&(f.domNode===h.target&&(h.type==="childList"?(i(this.find(h.previousSibling,!1)),Array.from(h.addedNodes).forEach(g=>{const p=this.find(g,!1);i(p,!1),p instanceof il&&p.children.forEach(y=>{i(y,!1)})})):h.type==="attributes"&&i(f.prev)),i(f))}),this.children.forEach(o),c=Array.from(this.observer.takeRecords()),s=c.slice();s.length>0;)e.push(s.pop())}}update(e,n={}){e=e||this.observer.takeRecords();const r=new WeakMap;e.map(s=>{const i=this.find(s.target,!0);return i==null?null:r.has(i.domNode)?(r.get(i.domNode).push(s),null):(r.set(i.domNode,[s]),i)}).forEach(s=>{s!=null&&s!==this&&r.has(s.domNode)&&s.update(r.get(s.domNode)||[],n)}),n.mutationsMap=r,r.has(this.domNode)&&super.update(r.get(this.domNode),n),this.optimize(e,n)}};Kf.blotName="scroll",Kf.defaultChild=V0,Kf.allowedChildren=[V0,Pw],Kf.scope=Tt.BLOCK_BLOT,Kf.tagName="DIV";let Bwe=Kf;const s3=Bwe,JN=class sH extends Da{static create(e){return document.createTextNode(e)}static value(e){return e.data}constructor(e,n){super(e,n),this.text=this.statics.value(this.domNode)}deleteAt(e,n){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+n)}index(e,n){return this.domNode===e?n:-1}insertAt(e,n,r){r==null?(this.text=this.text.slice(0,e)+n+this.text.slice(e),this.domNode.data=this.text):super.insertAt(e,n,r)}length(){return this.text.length}optimize(e){super.optimize(e),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof sH&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(e,n=!1){return[this.domNode,e]}split(e,n=!1){if(!n){if(e===0)return this;if(e===this.length())return this.next}const r=this.scroll.create(this.domNode.splitText(e));return this.parent.insertBefore(r,this.next||void 0),this.text=this.statics.value(this.domNode),r}update(e,n){e.some(r=>r.type==="characterData"&&r.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};JN.blotName="text",JN.scope=Tt.INLINE_BLOT;let Uwe=JN;const o1=Uwe,zwe=Object.freeze(Object.defineProperty({__proto__:null,Attributor:ec,AttributorStore:Iw,BlockBlot:V0,ClassAttributor:dl,ContainerBlot:Pw,EmbedBlot:eo,InlineBlot:r3,LeafBlot:Da,ParentBlot:il,Registry:Bm,Scope:Tt,ScrollBlot:s3,StyleAttributor:Sd,TextBlot:o1},Symbol.toStringTag,{value:"Module"}));var jx={exports:{}},gS,B5;function qwe(){if(B5)return gS;B5=1;var t=-1,e=1,n=0;function r(L,U,P,K,G){if(L===U)return L?[[n,L]]:[];if(P!=null){var re=b(L,U,P);if(re)return re}var Z=c(L,U),me=L.substring(0,Z);L=L.substring(Z),U=U.substring(Z),Z=h(L,U);var ie=L.substring(L.length-Z);L=L.substring(0,L.length-Z),U=U.substring(0,U.length-Z);var W=s(L,U);return me&&W.unshift([n,me]),ie&&W.push([n,ie]),O(W,G),K&&g(W),W}function s(L,U){var P;if(!L)return[[e,U]];if(!U)return[[t,L]];var K=L.length>U.length?L:U,G=L.length>U.length?U:L,re=K.indexOf(G);if(re!==-1)return P=[[e,K.substring(0,re)],[n,G],[e,K.substring(re+G.length)]],L.length>U.length&&(P[0][0]=P[2][0]=t),P;if(G.length===1)return[[t,L],[e,U]];var Z=f(L,U);if(Z){var me=Z[0],ie=Z[1],W=Z[2],ye=Z[3],Q=Z[4],ne=r(me,W),te=r(ie,ye);return ne.concat([[n,Q]],te)}return i(L,U)}function i(L,U){for(var P=L.length,K=U.length,G=Math.ceil((P+K)/2),re=G,Z=2*G,me=new Array(Z),ie=new Array(Z),W=0;W<Z;W++)me[W]=-1,ie[W]=-1;me[re+1]=0,ie[re+1]=0;for(var ye=P-K,Q=ye%2!==0,ne=0,te=0,X=0,xe=0,Ne=0;Ne<G;Ne++){for(var je=-Ne+ne;je<=Ne-te;je+=2){var Ie=re+je,_e;je===-Ne||je!==Ne&&me[Ie-1]<me[Ie+1]?_e=me[Ie+1]:_e=me[Ie-1]+1;for(var Ue=_e-je;_e<P&&Ue<K&&L.charAt(_e)===U.charAt(Ue);)_e++,Ue++;if(me[Ie]=_e,_e>P)te+=2;else if(Ue>K)ne+=2;else if(Q){var tt=re+ye-je;if(tt>=0&&tt<Z&&ie[tt]!==-1){var ct=P-ie[tt];if(_e>=ct)return o(L,U,_e,Ue)}}}for(var ut=-Ne+X;ut<=Ne-xe;ut+=2){var tt=re+ut,ct;ut===-Ne||ut!==Ne&&ie[tt-1]<ie[tt+1]?ct=ie[tt+1]:ct=ie[tt-1]+1;for(var Ye=ct-ut;ct<P&&Ye<K&&L.charAt(P-ct-1)===U.charAt(K-Ye-1);)ct++,Ye++;if(ie[tt]=ct,ct>P)xe+=2;else if(Ye>K)X+=2;else if(!Q){var Ie=re+ye-ut;if(Ie>=0&&Ie<Z&&me[Ie]!==-1){var _e=me[Ie],Ue=re+_e-Ie;if(ct=P-ct,_e>=ct)return o(L,U,_e,Ue)}}}}return[[t,L],[e,U]]}function o(L,U,P,K){var G=L.substring(0,P),re=U.substring(0,K),Z=L.substring(P),me=U.substring(K),ie=r(G,re),W=r(Z,me);return ie.concat(W)}function c(L,U){if(!L||!U||L.charAt(0)!==U.charAt(0))return 0;for(var P=0,K=Math.min(L.length,U.length),G=K,re=0;P<G;)L.substring(re,G)==U.substring(re,G)?(P=G,re=P):K=G,G=Math.floor((K-P)/2+P);return I(L.charCodeAt(G-1))&&G--,G}function u(L,U){var P=L.length,K=U.length;if(P==0||K==0)return 0;P>K?L=L.substring(P-K):P<K&&(U=U.substring(0,P));var G=Math.min(P,K);if(L==U)return G;for(var re=0,Z=1;;){var me=L.substring(G-Z),ie=U.indexOf(me);if(ie==-1)return re;Z+=ie,(ie==0||L.substring(G-Z)==U.substring(0,Z))&&(re=Z,Z++)}}function h(L,U){if(!L||!U||L.slice(-1)!==U.slice(-1))return 0;for(var P=0,K=Math.min(L.length,U.length),G=K,re=0;P<G;)L.substring(L.length-G,L.length-re)==U.substring(U.length-G,U.length-re)?(P=G,re=P):K=G,G=Math.floor((K-P)/2+P);return D(L.charCodeAt(L.length-G))&&G--,G}function f(L,U){var P=L.length>U.length?L:U,K=L.length>U.length?U:L;if(P.length<4||K.length*2<P.length)return null;function G(te,X,xe){for(var Ne=te.substring(xe,xe+Math.floor(te.length/4)),je=-1,Ie="",_e,Ue,tt,ct;(je=X.indexOf(Ne,je+1))!==-1;){var ut=c(te.substring(xe),X.substring(je)),Ye=h(te.substring(0,xe),X.substring(0,je));Ie.length<Ye+ut&&(Ie=X.substring(je-Ye,je)+X.substring(je,je+ut),_e=te.substring(0,xe-Ye),Ue=te.substring(xe+ut),tt=X.substring(0,je-Ye),ct=X.substring(je+ut))}return Ie.length*2>=te.length?[_e,Ue,tt,ct,Ie]:null}var re=G(P,K,Math.ceil(P.length/4)),Z=G(P,K,Math.ceil(P.length/2)),me;if(!re&&!Z)return null;Z?re?me=re[4].length>Z[4].length?re:Z:me=Z:me=re;var ie,W,ye,Q;L.length>U.length?(ie=me[0],W=me[1],ye=me[2],Q=me[3]):(ye=me[0],Q=me[1],ie=me[2],W=me[3]);var ne=me[4];return[ie,W,ye,Q,ne]}function g(L){for(var U=!1,P=[],K=0,G=null,re=0,Z=0,me=0,ie=0,W=0;re<L.length;)L[re][0]==n?(P[K++]=re,Z=ie,me=W,ie=0,W=0,G=L[re][1]):(L[re][0]==e?ie+=L[re][1].length:W+=L[re][1].length,G&&G.length<=Math.max(Z,me)&&G.length<=Math.max(ie,W)&&(L.splice(P[K-1],0,[t,G]),L[P[K-1]+1][0]=e,K--,K--,re=K>0?P[K-1]:-1,Z=0,me=0,ie=0,W=0,G=null,U=!0)),re++;for(U&&O(L),C(L),re=1;re<L.length;){if(L[re-1][0]==t&&L[re][0]==e){var ye=L[re-1][1],Q=L[re][1],ne=u(ye,Q),te=u(Q,ye);ne>=te?(ne>=ye.length/2||ne>=Q.length/2)&&(L.splice(re,0,[n,Q.substring(0,ne)]),L[re-1][1]=ye.substring(0,ye.length-ne),L[re+1][1]=Q.substring(ne),re++):(te>=ye.length/2||te>=Q.length/2)&&(L.splice(re,0,[n,ye.substring(0,te)]),L[re-1][0]=e,L[re-1][1]=Q.substring(0,Q.length-te),L[re+1][0]=t,L[re+1][1]=ye.substring(te),re++),re++}re++}}var p=/[^a-zA-Z0-9]/,y=/\s/,w=/[\r\n]/,E=/\n\r?\n$/,j=/^\r?\n\r?\n/;function C(L){function U(te,X){if(!te||!X)return 6;var xe=te.charAt(te.length-1),Ne=X.charAt(0),je=xe.match(p),Ie=Ne.match(p),_e=je&&xe.match(y),Ue=Ie&&Ne.match(y),tt=_e&&xe.match(w),ct=Ue&&Ne.match(w),ut=tt&&te.match(E),Ye=ct&&X.match(j);return ut||Ye?5:tt||ct?4:je&&!_e&&Ue?3:_e||Ue?2:je||Ie?1:0}for(var P=1;P<L.length-1;){if(L[P-1][0]==n&&L[P+1][0]==n){var K=L[P-1][1],G=L[P][1],re=L[P+1][1],Z=h(K,G);if(Z){var me=G.substring(G.length-Z);K=K.substring(0,K.length-Z),G=me+G.substring(0,G.length-Z),re=me+re}for(var ie=K,W=G,ye=re,Q=U(K,G)+U(G,re);G.charAt(0)===re.charAt(0);){K+=G.charAt(0),G=G.substring(1)+re.charAt(0),re=re.substring(1);var ne=U(K,G)+U(G,re);ne>=Q&&(Q=ne,ie=K,W=G,ye=re)}L[P-1][1]!=ie&&(ie?L[P-1][1]=ie:(L.splice(P-1,1),P--),L[P][1]=W,ye?L[P+1][1]=ye:(L.splice(P+1,1),P--))}P++}}function O(L,U){L.push([n,""]);for(var P=0,K=0,G=0,re="",Z="",me;P<L.length;){if(P<L.length-1&&!L[P][1]){L.splice(P,1);continue}switch(L[P][0]){case e:G++,Z+=L[P][1],P++;break;case t:K++,re+=L[P][1],P++;break;case n:var ie=P-G-K-1;if(U){if(ie>=0&&F(L[ie][1])){var W=L[ie][1].slice(-1);if(L[ie][1]=L[ie][1].slice(0,-1),re=W+re,Z=W+Z,!L[ie][1]){L.splice(ie,1),P--;var ye=ie-1;L[ye]&&L[ye][0]===e&&(G++,Z=L[ye][1]+Z,ye--),L[ye]&&L[ye][0]===t&&(K++,re=L[ye][1]+re,ye--),ie=ye}}if(T(L[P][1])){var W=L[P][1].charAt(0);L[P][1]=L[P][1].slice(1),re+=W,Z+=W}}if(P<L.length-1&&!L[P][1]){L.splice(P,1);break}if(re.length>0||Z.length>0){re.length>0&&Z.length>0&&(me=c(Z,re),me!==0&&(ie>=0?L[ie][1]+=Z.substring(0,me):(L.splice(0,0,[n,Z.substring(0,me)]),P++),Z=Z.substring(me),re=re.substring(me)),me=h(Z,re),me!==0&&(L[P][1]=Z.substring(Z.length-me)+L[P][1],Z=Z.substring(0,Z.length-me),re=re.substring(0,re.length-me)));var Q=G+K;re.length===0&&Z.length===0?(L.splice(P-Q,Q),P=P-Q):re.length===0?(L.splice(P-Q,Q,[e,Z]),P=P-Q+1):Z.length===0?(L.splice(P-Q,Q,[t,re]),P=P-Q+1):(L.splice(P-Q,Q,[t,re],[e,Z]),P=P-Q+2)}P!==0&&L[P-1][0]===n?(L[P-1][1]+=L[P][1],L.splice(P,1)):P++,G=0,K=0,re="",Z="";break}}L[L.length-1][1]===""&&L.pop();var ne=!1;for(P=1;P<L.length-1;)L[P-1][0]===n&&L[P+1][0]===n&&(L[P][1].substring(L[P][1].length-L[P-1][1].length)===L[P-1][1]?(L[P][1]=L[P-1][1]+L[P][1].substring(0,L[P][1].length-L[P-1][1].length),L[P+1][1]=L[P-1][1]+L[P+1][1],L.splice(P-1,1),ne=!0):L[P][1].substring(0,L[P+1][1].length)==L[P+1][1]&&(L[P-1][1]+=L[P+1][1],L[P][1]=L[P][1].substring(L[P+1][1].length)+L[P+1][1],L.splice(P+1,1),ne=!0)),P++;ne&&O(L,U)}function I(L){return L>=55296&&L<=56319}function D(L){return L>=56320&&L<=57343}function T(L){return D(L.charCodeAt(0))}function F(L){return I(L.charCodeAt(L.length-1))}function _(L){for(var U=[],P=0;P<L.length;P++)L[P][1].length>0&&U.push(L[P]);return U}function R(L,U,P,K){return F(L)||T(K)?null:_([[n,L],[t,U],[e,P],[n,K]])}function b(L,U,P){var K=typeof P=="number"?{index:P,length:0}:P.oldRange,G=typeof P=="number"?null:P.newRange,re=L.length,Z=U.length;if(K.length===0&&(G===null||G.length===0)){var me=K.index,ie=L.slice(0,me),W=L.slice(me),ye=G?G.index:null;e:{var Q=me+Z-re;if(ye!==null&&ye!==Q||Q<0||Q>Z)break e;var ne=U.slice(0,Q),te=U.slice(Q);if(te!==W)break e;var X=Math.min(me,Q),xe=ie.slice(0,X),Ne=ne.slice(0,X);if(xe!==Ne)break e;var je=ie.slice(X),Ie=ne.slice(X);return R(xe,je,Ie,W)}e:{if(ye!==null&&ye!==me)break e;var _e=me,ne=U.slice(0,_e),te=U.slice(_e);if(ne!==ie)break e;var Ue=Math.min(re-_e,Z-_e),tt=W.slice(W.length-Ue),ct=te.slice(te.length-Ue);if(tt!==ct)break e;var je=W.slice(0,W.length-Ue),Ie=te.slice(0,te.length-Ue);return R(ie,je,Ie,tt)}}if(K.length>0&&G&&G.length===0)e:{var xe=L.slice(0,K.index),tt=L.slice(K.index+K.length),X=xe.length,Ue=tt.length;if(Z<X+Ue)break e;var Ne=U.slice(0,X),ct=U.slice(Z-Ue);if(xe!==Ne||tt!==ct)break e;var je=L.slice(X,re-Ue),Ie=U.slice(X,Z-Ue);return R(xe,je,Ie,tt)}return null}function A(L,U,P,K){return r(L,U,P,K,!0)}return A.INSERT=e,A.DELETE=t,A.EQUAL=n,gS=A,gS}var qg={exports:{}};qg.exports;var U5;function aH(){return U5||(U5=1,function(t,e){var n=200,r="__lodash_hash_undefined__",s=9007199254740991,i="[object Arguments]",o="[object Array]",c="[object Boolean]",u="[object Date]",h="[object Error]",f="[object Function]",g="[object GeneratorFunction]",p="[object Map]",y="[object Number]",w="[object Object]",E="[object Promise]",j="[object RegExp]",C="[object Set]",O="[object String]",I="[object Symbol]",D="[object WeakMap]",T="[object ArrayBuffer]",F="[object DataView]",_="[object Float32Array]",R="[object Float64Array]",b="[object Int8Array]",A="[object Int16Array]",L="[object Int32Array]",U="[object Uint8Array]",P="[object Uint8ClampedArray]",K="[object Uint16Array]",G="[object Uint32Array]",re=/[\\^$.*+?()[\]{}|]/g,Z=/\w*$/,me=/^\[object .+?Constructor\]$/,ie=/^(?:0|[1-9]\d*)$/,W={};W[i]=W[o]=W[T]=W[F]=W[c]=W[u]=W[_]=W[R]=W[b]=W[A]=W[L]=W[p]=W[y]=W[w]=W[j]=W[C]=W[O]=W[I]=W[U]=W[P]=W[K]=W[G]=!0,W[h]=W[f]=W[D]=!1;var ye=typeof Co=="object"&&Co&&Co.Object===Object&&Co,Q=typeof self=="object"&&self&&self.Object===Object&&self,ne=ye||Q||Function("return this")(),te=e&&!e.nodeType&&e,X=te&&!0&&t&&!t.nodeType&&t,xe=X&&X.exports===te;function Ne(H,ae){return H.set(ae[0],ae[1]),H}function je(H,ae){return H.add(ae),H}function Ie(H,ae){for(var pe=-1,Be=H?H.length:0;++pe<Be&&ae(H[pe],pe,H)!==!1;);return H}function _e(H,ae){for(var pe=-1,Be=ae.length,Ht=H.length;++pe<Be;)H[Ht+pe]=ae[pe];return H}function Ue(H,ae,pe,Be){for(var Ht=-1,Ct=H?H.length:0;++Ht<Ct;)pe=ae(pe,H[Ht],Ht,H);return pe}function tt(H,ae){for(var pe=-1,Be=Array(H);++pe<H;)Be[pe]=ae(pe);return Be}function ct(H,ae){return H==null?void 0:H[ae]}function ut(H){var ae=!1;if(H!=null&&typeof H.toString!="function")try{ae=!!(H+"")}catch{}return ae}function Ye(H){var ae=-1,pe=Array(H.size);return H.forEach(function(Be,Ht){pe[++ae]=[Ht,Be]}),pe}function jt(H,ae){return function(pe){return H(ae(pe))}}function Ze(H){var ae=-1,pe=Array(H.size);return H.forEach(function(Be){pe[++ae]=Be}),pe}var Ut=Array.prototype,Cn=Function.prototype,fn=Object.prototype,yn=ne["__core-js_shared__"],ur=function(){var H=/[^.]+$/.exec(yn&&yn.keys&&yn.keys.IE_PROTO||"");return H?"Symbol(src)_1."+H:""}(),sr=Cn.toString,We=fn.hasOwnProperty,xt=fn.toString,Dt=RegExp("^"+sr.call(We).replace(re,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Rt=xe?ne.Buffer:void 0,on=ne.Symbol,Gr=ne.Uint8Array,Jn=jt(Object.getPrototypeOf,Object),ws=Object.create,es=fn.propertyIsEnumerable,Br=Ut.splice,Vn=Object.getOwnPropertySymbols,Ur=Rt?Rt.isBuffer:void 0,zr=jt(Object.keys,Object),Hn=Es(ne,"DataView"),Wr=Es(ne,"Map"),yr=Es(ne,"Promise"),sa=Es(ne,"Set"),ms=Es(ne,"WeakMap"),ps=Es(Object,"create"),mr=as(Hn),Cr=as(Wr),gs=as(yr),aa=as(sa),Hs=as(ms),ts=on?on.prototype:void 0,Ha=ts?ts.valueOf:void 0;function bn(H){var ae=-1,pe=H?H.length:0;for(this.clear();++ae<pe;){var Be=H[ae];this.set(Be[0],Be[1])}}function Ft(){this.__data__=ps?ps(null):{}}function Ca(H){return this.has(H)&&delete this.__data__[H]}function ii(H){var ae=this.__data__;if(ps){var pe=ae[H];return pe===r?void 0:pe}return We.call(ae,H)?ae[H]:void 0}function Bo(H){var ae=this.__data__;return ps?ae[H]!==void 0:We.call(ae,H)}function no(H,ae){var pe=this.__data__;return pe[H]=ps&&ae===void 0?r:ae,this}bn.prototype.clear=Ft,bn.prototype.delete=Ca,bn.prototype.get=ii,bn.prototype.has=Bo,bn.prototype.set=no;function ee(H){var ae=-1,pe=H?H.length:0;for(this.clear();++ae<pe;){var Be=H[ae];this.set(Be[0],Be[1])}}function de(){this.__data__=[]}function le(H){var ae=this.__data__,pe=vr(ae,H);if(pe<0)return!1;var Be=ae.length-1;return pe==Be?ae.pop():Br.call(ae,pe,1),!0}function ue(H){var ae=this.__data__,pe=vr(ae,H);return pe<0?void 0:ae[pe][1]}function he(H){return vr(this.__data__,H)>-1}function fe(H,ae){var pe=this.__data__,Be=vr(pe,H);return Be<0?pe.push([H,ae]):pe[Be][1]=ae,this}ee.prototype.clear=de,ee.prototype.delete=le,ee.prototype.get=ue,ee.prototype.has=he,ee.prototype.set=fe;function Ce(H){var ae=-1,pe=H?H.length:0;for(this.clear();++ae<pe;){var Be=H[ae];this.set(Be[0],Be[1])}}function Me(){this.__data__={hash:new bn,map:new(Wr||ee),string:new bn}}function Le(H){return Ga(this,H).delete(H)}function Re(H){return Ga(this,H).get(H)}function Oe(H){return Ga(this,H).has(H)}function Qe(H,ae){return Ga(this,H).set(H,ae),this}Ce.prototype.clear=Me,Ce.prototype.delete=Le,Ce.prototype.get=Re,Ce.prototype.has=Oe,Ce.prototype.set=Qe;function nt(H){this.__data__=new ee(H)}function mt(){this.__data__=new ee}function st(H){return this.__data__.delete(H)}function at(H){return this.__data__.get(H)}function Bt(H){return this.__data__.has(H)}function Dn(H,ae){var pe=this.__data__;if(pe instanceof ee){var Be=pe.__data__;if(!Wr||Be.length<n-1)return Be.push([H,ae]),this;pe=this.__data__=new Ce(Be)}return pe.set(H,ae),this}nt.prototype.clear=mt,nt.prototype.delete=st,nt.prototype.get=at,nt.prototype.has=Bt,nt.prototype.set=Dn;function ln(H,ae){var pe=zo(H)||Ta(H)?tt(H.length,String):[],Be=pe.length,Ht=!!Be;for(var Ct in H)We.call(H,Ct)&&!(Ht&&(Ct=="length"||Td(Ct,Be)))&&pe.push(Ct);return pe}function An(H,ae,pe){var Be=H[ae];(!(We.call(H,ae)&&ci(Be,pe))||pe===void 0&&!(ae in H))&&(H[ae]=pe)}function vr(H,ae){for(var pe=H.length;pe--;)if(ci(H[pe][0],ae))return pe;return-1}function _s(H,ae){return H&&Ai(ae,Vo(ae),H)}function ia(H,ae,pe,Be,Ht,Ct,wn){var vn;if(Be&&(vn=Ct?Be(H,Ht,Ct,wn):Be(H)),vn!==void 0)return vn;if(!ks(H))return H;var Qn=zo(H);if(Qn){if(vn=ic(H),!ae)return io(H,vn)}else{var En=Li(H),ar=En==f||En==g;if(ca(H))return rs(H,ae);if(En==w||En==i||ar&&!Ct){if(ut(H))return Ct?H:{};if(vn=Wa(ar?{}:H),!ae)return vl(H,_s(vn,H))}else{if(!W[En])return Ct?H:{};vn=oc(H,En,ia,ae)}}wn||(wn=new nt);var Os=wn.get(H);if(Os)return Os;if(wn.set(H,vn),!Qn)var Kr=pe?Ln(H):Vo(H);return Ie(Kr||H,function(qr,$r){Kr&&($r=qr,qr=H[$r]),An(vn,$r,ia(qr,ae,pe,Be,$r,H,wn))}),vn}function oa(H){return ks(H)?ws(H):{}}function ro(H,ae,pe){var Be=ae(H);return zo(H)?Be:_e(Be,pe(H))}function ns(H){return xt.call(H)}function so(H){if(!ks(H)||oi(H))return!1;var ae=Ri(H)||ut(H)?Dt:me;return ae.test(as(H))}function Na(H){if(!la(H))return zr(H);var ae=[];for(var pe in Object(H))We.call(H,pe)&&pe!="constructor"&&ae.push(pe);return ae}function rs(H,ae){if(ae)return H.slice();var pe=new H.constructor(H.length);return H.copy(pe),pe}function pl(H){var ae=new H.constructor(H.byteLength);return new Gr(ae).set(new Gr(H)),ae}function Uo(H,ae){var pe=ae?pl(H.buffer):H.buffer;return new H.constructor(pe,H.byteOffset,H.byteLength)}function ao(H,ae,pe){var Be=ae?pe(Ye(H),!0):Ye(H);return Ue(Be,Ne,new H.constructor)}function gl(H){var ae=new H.constructor(H.source,Z.exec(H));return ae.lastIndex=H.lastIndex,ae}function yl(H,ae,pe){var Be=ae?pe(Ze(H),!0):Ze(H);return Ue(Be,je,new H.constructor)}function Ti(H){return Ha?Object(Ha.call(H)):{}}function xr(H,ae){var pe=ae?pl(H.buffer):H.buffer;return new H.constructor(pe,H.byteOffset,H.length)}function io(H,ae){var pe=-1,Be=H.length;for(ae||(ae=Array(Be));++pe<Be;)ae[pe]=H[pe];return ae}function Ai(H,ae,pe,Be){pe||(pe={});for(var Ht=-1,Ct=ae.length;++Ht<Ct;){var wn=ae[Ht],vn=void 0;An(pe,wn,vn===void 0?H[wn]:vn)}return pe}function vl(H,ae){return Ai(H,ss(H),ae)}function Ln(H){return ro(H,Vo,ss)}function Ga(H,ae){var pe=H.__data__;return Ad(ae)?pe[typeof ae=="string"?"string":"hash"]:pe.map}function Es(H,ae){var pe=ct(H,ae);return so(pe)?pe:void 0}var ss=Vn?jt(Vn,Object):di,Li=ns;(Hn&&Li(new Hn(new ArrayBuffer(1)))!=F||Wr&&Li(new Wr)!=p||yr&&Li(yr.resolve())!=E||sa&&Li(new sa)!=C||ms&&Li(new ms)!=D)&&(Li=function(H){var ae=xt.call(H),pe=ae==w?H.constructor:void 0,Be=pe?as(pe):void 0;if(Be)switch(Be){case mr:return F;case Cr:return p;case gs:return E;case aa:return C;case Hs:return D}return ae});function ic(H){var ae=H.length,pe=H.constructor(ae);return ae&&typeof H[0]=="string"&&We.call(H,"index")&&(pe.index=H.index,pe.input=H.input),pe}function Wa(H){return typeof H.constructor=="function"&&!la(H)?oa(Jn(H)):{}}function oc(H,ae,pe,Be){var Ht=H.constructor;switch(ae){case T:return pl(H);case c:case u:return new Ht(+H);case F:return Uo(H,Be);case _:case R:case b:case A:case L:case U:case P:case K:case G:return xr(H,Be);case p:return ao(H,Be,pe);case y:case O:return new Ht(H);case j:return gl(H);case C:return yl(H,Be,pe);case I:return Ti(H)}}function Td(H,ae){return ae=ae??s,!!ae&&(typeof H=="number"||ie.test(H))&&H>-1&&H%1==0&&H<ae}function Ad(H){var ae=typeof H;return ae=="string"||ae=="number"||ae=="symbol"||ae=="boolean"?H!=="__proto__":H===null}function oi(H){return!!ur&&ur in H}function la(H){var ae=H&&H.constructor,pe=typeof ae=="function"&&ae.prototype||fn;return H===pe}function as(H){if(H!=null){try{return sr.call(H)}catch{}try{return H+""}catch{}}return""}function li(H){return ia(H,!0,!0)}function ci(H,ae){return H===ae||H!==H&&ae!==ae}function Ta(H){return $o(H)&&We.call(H,"callee")&&(!es.call(H,"callee")||xt.call(H)==i)}var zo=Array.isArray;function qo(H){return H!=null&&Ka(H.length)&&!Ri(H)}function $o(H){return ui(H)&&qo(H)}var ca=Ur||hi;function Ri(H){var ae=ks(H)?xt.call(H):"";return ae==f||ae==g}function Ka(H){return typeof H=="number"&&H>-1&&H%1==0&&H<=s}function ks(H){var ae=typeof H;return!!H&&(ae=="object"||ae=="function")}function ui(H){return!!H&&typeof H=="object"}function Vo(H){return qo(H)?ln(H):Na(H)}function di(){return[]}function hi(){return!1}t.exports=li}(qg,qg.exports)),qg.exports}var $g={exports:{}};$g.exports;var z5;function iH(){return z5||(z5=1,function(t,e){var n=200,r="__lodash_hash_undefined__",s=1,i=2,o=9007199254740991,c="[object Arguments]",u="[object Array]",h="[object AsyncFunction]",f="[object Boolean]",g="[object Date]",p="[object Error]",y="[object Function]",w="[object GeneratorFunction]",E="[object Map]",j="[object Number]",C="[object Null]",O="[object Object]",I="[object Promise]",D="[object Proxy]",T="[object RegExp]",F="[object Set]",_="[object String]",R="[object Symbol]",b="[object Undefined]",A="[object WeakMap]",L="[object ArrayBuffer]",U="[object DataView]",P="[object Float32Array]",K="[object Float64Array]",G="[object Int8Array]",re="[object Int16Array]",Z="[object Int32Array]",me="[object Uint8Array]",ie="[object Uint8ClampedArray]",W="[object Uint16Array]",ye="[object Uint32Array]",Q=/[\\^$.*+?()[\]{}|]/g,ne=/^\[object .+?Constructor\]$/,te=/^(?:0|[1-9]\d*)$/,X={};X[P]=X[K]=X[G]=X[re]=X[Z]=X[me]=X[ie]=X[W]=X[ye]=!0,X[c]=X[u]=X[L]=X[f]=X[U]=X[g]=X[p]=X[y]=X[E]=X[j]=X[O]=X[T]=X[F]=X[_]=X[A]=!1;var xe=typeof Co=="object"&&Co&&Co.Object===Object&&Co,Ne=typeof self=="object"&&self&&self.Object===Object&&self,je=xe||Ne||Function("return this")(),Ie=e&&!e.nodeType&&e,_e=Ie&&!0&&t&&!t.nodeType&&t,Ue=_e&&_e.exports===Ie,tt=Ue&&xe.process,ct=function(){try{return tt&&tt.binding&&tt.binding("util")}catch{}}(),ut=ct&&ct.isTypedArray;function Ye(H,ae){for(var pe=-1,Be=H==null?0:H.length,Ht=0,Ct=[];++pe<Be;){var wn=H[pe];ae(wn,pe,H)&&(Ct[Ht++]=wn)}return Ct}function jt(H,ae){for(var pe=-1,Be=ae.length,Ht=H.length;++pe<Be;)H[Ht+pe]=ae[pe];return H}function Ze(H,ae){for(var pe=-1,Be=H==null?0:H.length;++pe<Be;)if(ae(H[pe],pe,H))return!0;return!1}function Ut(H,ae){for(var pe=-1,Be=Array(H);++pe<H;)Be[pe]=ae(pe);return Be}function Cn(H){return function(ae){return H(ae)}}function fn(H,ae){return H.has(ae)}function yn(H,ae){return H==null?void 0:H[ae]}function ur(H){var ae=-1,pe=Array(H.size);return H.forEach(function(Be,Ht){pe[++ae]=[Ht,Be]}),pe}function sr(H,ae){return function(pe){return H(ae(pe))}}function We(H){var ae=-1,pe=Array(H.size);return H.forEach(function(Be){pe[++ae]=Be}),pe}var xt=Array.prototype,Dt=Function.prototype,Rt=Object.prototype,on=je["__core-js_shared__"],Gr=Dt.toString,Jn=Rt.hasOwnProperty,ws=function(){var H=/[^.]+$/.exec(on&&on.keys&&on.keys.IE_PROTO||"");return H?"Symbol(src)_1."+H:""}(),es=Rt.toString,Br=RegExp("^"+Gr.call(Jn).replace(Q,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Vn=Ue?je.Buffer:void 0,Ur=je.Symbol,zr=je.Uint8Array,Hn=Rt.propertyIsEnumerable,Wr=xt.splice,yr=Ur?Ur.toStringTag:void 0,sa=Object.getOwnPropertySymbols,ms=Vn?Vn.isBuffer:void 0,ps=sr(Object.keys,Object),mr=ss(je,"DataView"),Cr=ss(je,"Map"),gs=ss(je,"Promise"),aa=ss(je,"Set"),Hs=ss(je,"WeakMap"),ts=ss(Object,"create"),Ha=as(mr),bn=as(Cr),Ft=as(gs),Ca=as(aa),ii=as(Hs),Bo=Ur?Ur.prototype:void 0,no=Bo?Bo.valueOf:void 0;function ee(H){var ae=-1,pe=H==null?0:H.length;for(this.clear();++ae<pe;){var Be=H[ae];this.set(Be[0],Be[1])}}function de(){this.__data__=ts?ts(null):{},this.size=0}function le(H){var ae=this.has(H)&&delete this.__data__[H];return this.size-=ae?1:0,ae}function ue(H){var ae=this.__data__;if(ts){var pe=ae[H];return pe===r?void 0:pe}return Jn.call(ae,H)?ae[H]:void 0}function he(H){var ae=this.__data__;return ts?ae[H]!==void 0:Jn.call(ae,H)}function fe(H,ae){var pe=this.__data__;return this.size+=this.has(H)?0:1,pe[H]=ts&&ae===void 0?r:ae,this}ee.prototype.clear=de,ee.prototype.delete=le,ee.prototype.get=ue,ee.prototype.has=he,ee.prototype.set=fe;function Ce(H){var ae=-1,pe=H==null?0:H.length;for(this.clear();++ae<pe;){var Be=H[ae];this.set(Be[0],Be[1])}}function Me(){this.__data__=[],this.size=0}function Le(H){var ae=this.__data__,pe=rs(ae,H);if(pe<0)return!1;var Be=ae.length-1;return pe==Be?ae.pop():Wr.call(ae,pe,1),--this.size,!0}function Re(H){var ae=this.__data__,pe=rs(ae,H);return pe<0?void 0:ae[pe][1]}function Oe(H){return rs(this.__data__,H)>-1}function Qe(H,ae){var pe=this.__data__,Be=rs(pe,H);return Be<0?(++this.size,pe.push([H,ae])):pe[Be][1]=ae,this}Ce.prototype.clear=Me,Ce.prototype.delete=Le,Ce.prototype.get=Re,Ce.prototype.has=Oe,Ce.prototype.set=Qe;function nt(H){var ae=-1,pe=H==null?0:H.length;for(this.clear();++ae<pe;){var Be=H[ae];this.set(Be[0],Be[1])}}function mt(){this.size=0,this.__data__={hash:new ee,map:new(Cr||Ce),string:new ee}}function st(H){var ae=Es(this,H).delete(H);return this.size-=ae?1:0,ae}function at(H){return Es(this,H).get(H)}function Bt(H){return Es(this,H).has(H)}function Dn(H,ae){var pe=Es(this,H),Be=pe.size;return pe.set(H,ae),this.size+=pe.size==Be?0:1,this}nt.prototype.clear=mt,nt.prototype.delete=st,nt.prototype.get=at,nt.prototype.has=Bt,nt.prototype.set=Dn;function ln(H){var ae=-1,pe=H==null?0:H.length;for(this.__data__=new nt;++ae<pe;)this.add(H[ae])}function An(H){return this.__data__.set(H,r),this}function vr(H){return this.__data__.has(H)}ln.prototype.add=ln.prototype.push=An,ln.prototype.has=vr;function _s(H){var ae=this.__data__=new Ce(H);this.size=ae.size}function ia(){this.__data__=new Ce,this.size=0}function oa(H){var ae=this.__data__,pe=ae.delete(H);return this.size=ae.size,pe}function ro(H){return this.__data__.get(H)}function ns(H){return this.__data__.has(H)}function so(H,ae){var pe=this.__data__;if(pe instanceof Ce){var Be=pe.__data__;if(!Cr||Be.length<n-1)return Be.push([H,ae]),this.size=++pe.size,this;pe=this.__data__=new nt(Be)}return pe.set(H,ae),this.size=pe.size,this}_s.prototype.clear=ia,_s.prototype.delete=oa,_s.prototype.get=ro,_s.prototype.has=ns,_s.prototype.set=so;function Na(H,ae){var pe=Ta(H),Be=!pe&&ci(H),Ht=!pe&&!Be&&qo(H),Ct=!pe&&!Be&&!Ht&&ui(H),wn=pe||Be||Ht||Ct,vn=wn?Ut(H.length,String):[],Qn=vn.length;for(var En in H)Jn.call(H,En)&&!(wn&&(En=="length"||Ht&&(En=="offset"||En=="parent")||Ct&&(En=="buffer"||En=="byteLength"||En=="byteOffset")||oc(En,Qn)))&&vn.push(En);return vn}function rs(H,ae){for(var pe=H.length;pe--;)if(li(H[pe][0],ae))return pe;return-1}function pl(H,ae,pe){var Be=ae(H);return Ta(H)?Be:jt(Be,pe(H))}function Uo(H){return H==null?H===void 0?b:C:yr&&yr in Object(H)?Li(H):la(H)}function ao(H){return ks(H)&&Uo(H)==c}function gl(H,ae,pe,Be,Ht){return H===ae?!0:H==null||ae==null||!ks(H)&&!ks(ae)?H!==H&&ae!==ae:yl(H,ae,pe,Be,gl,Ht)}function yl(H,ae,pe,Be,Ht,Ct){var wn=Ta(H),vn=Ta(ae),Qn=wn?u:Wa(H),En=vn?u:Wa(ae);Qn=Qn==c?O:Qn,En=En==c?O:En;var ar=Qn==O,Os=En==O,Kr=Qn==En;if(Kr&&qo(H)){if(!qo(ae))return!1;wn=!0,ar=!1}if(Kr&&!ar)return Ct||(Ct=new _s),wn||ui(H)?Ai(H,ae,pe,Be,Ht,Ct):vl(H,ae,Qn,pe,Be,Ht,Ct);if(!(pe&s)){var qr=ar&&Jn.call(H,"__wrapped__"),$r=Os&&Jn.call(ae,"__wrapped__");if(qr||$r){var fi=qr?H.value():H,Aa=$r?ae.value():ae;return Ct||(Ct=new _s),Ht(fi,Aa,pe,Be,Ct)}}return Kr?(Ct||(Ct=new _s),Ln(H,ae,pe,Be,Ht,Ct)):!1}function Ti(H){if(!Ka(H)||Ad(H))return!1;var ae=ca(H)?Br:ne;return ae.test(as(H))}function xr(H){return ks(H)&&Ri(H.length)&&!!X[Uo(H)]}function io(H){if(!oi(H))return ps(H);var ae=[];for(var pe in Object(H))Jn.call(H,pe)&&pe!="constructor"&&ae.push(pe);return ae}function Ai(H,ae,pe,Be,Ht,Ct){var wn=pe&s,vn=H.length,Qn=ae.length;if(vn!=Qn&&!(wn&&Qn>vn))return!1;var En=Ct.get(H);if(En&&Ct.get(ae))return En==ae;var ar=-1,Os=!0,Kr=pe&i?new ln:void 0;for(Ct.set(H,ae),Ct.set(ae,H);++ar<vn;){var qr=H[ar],$r=ae[ar];if(Be)var fi=wn?Be($r,qr,ar,ae,H,Ct):Be(qr,$r,ar,H,ae,Ct);if(fi!==void 0){if(fi)continue;Os=!1;break}if(Kr){if(!Ze(ae,function(Aa,oo){if(!fn(Kr,oo)&&(qr===Aa||Ht(qr,Aa,pe,Be,Ct)))return Kr.push(oo)})){Os=!1;break}}else if(!(qr===$r||Ht(qr,$r,pe,Be,Ct))){Os=!1;break}}return Ct.delete(H),Ct.delete(ae),Os}function vl(H,ae,pe,Be,Ht,Ct,wn){switch(pe){case U:if(H.byteLength!=ae.byteLength||H.byteOffset!=ae.byteOffset)return!1;H=H.buffer,ae=ae.buffer;case L:return!(H.byteLength!=ae.byteLength||!Ct(new zr(H),new zr(ae)));case f:case g:case j:return li(+H,+ae);case p:return H.name==ae.name&&H.message==ae.message;case T:case _:return H==ae+"";case E:var vn=ur;case F:var Qn=Be&s;if(vn||(vn=We),H.size!=ae.size&&!Qn)return!1;var En=wn.get(H);if(En)return En==ae;Be|=i,wn.set(H,ae);var ar=Ai(vn(H),vn(ae),Be,Ht,Ct,wn);return wn.delete(H),ar;case R:if(no)return no.call(H)==no.call(ae)}return!1}function Ln(H,ae,pe,Be,Ht,Ct){var wn=pe&s,vn=Ga(H),Qn=vn.length,En=Ga(ae),ar=En.length;if(Qn!=ar&&!wn)return!1;for(var Os=Qn;Os--;){var Kr=vn[Os];if(!(wn?Kr in ae:Jn.call(ae,Kr)))return!1}var qr=Ct.get(H);if(qr&&Ct.get(ae))return qr==ae;var $r=!0;Ct.set(H,ae),Ct.set(ae,H);for(var fi=wn;++Os<Qn;){Kr=vn[Os];var Aa=H[Kr],oo=ae[Kr];if(Be)var lc=wn?Be(oo,Aa,Kr,ae,H,Ct):Be(Aa,oo,Kr,H,ae,Ct);if(!(lc===void 0?Aa===oo||Ht(Aa,oo,pe,Be,Ct):lc)){$r=!1;break}fi||(fi=Kr=="constructor")}if($r&&!fi){var du=H.constructor,xl=ae.constructor;du!=xl&&"constructor"in H&&"constructor"in ae&&!(typeof du=="function"&&du instanceof du&&typeof xl=="function"&&xl instanceof xl)&&($r=!1)}return Ct.delete(H),Ct.delete(ae),$r}function Ga(H){return pl(H,Vo,ic)}function Es(H,ae){var pe=H.__data__;return Td(ae)?pe[typeof ae=="string"?"string":"hash"]:pe.map}function ss(H,ae){var pe=yn(H,ae);return Ti(pe)?pe:void 0}function Li(H){var ae=Jn.call(H,yr),pe=H[yr];try{H[yr]=void 0;var Be=!0}catch{}var Ht=es.call(H);return Be&&(ae?H[yr]=pe:delete H[yr]),Ht}var ic=sa?function(H){return H==null?[]:(H=Object(H),Ye(sa(H),function(ae){return Hn.call(H,ae)}))}:di,Wa=Uo;(mr&&Wa(new mr(new ArrayBuffer(1)))!=U||Cr&&Wa(new Cr)!=E||gs&&Wa(gs.resolve())!=I||aa&&Wa(new aa)!=F||Hs&&Wa(new Hs)!=A)&&(Wa=function(H){var ae=Uo(H),pe=ae==O?H.constructor:void 0,Be=pe?as(pe):"";if(Be)switch(Be){case Ha:return U;case bn:return E;case Ft:return I;case Ca:return F;case ii:return A}return ae});function oc(H,ae){return ae=ae??o,!!ae&&(typeof H=="number"||te.test(H))&&H>-1&&H%1==0&&H<ae}function Td(H){var ae=typeof H;return ae=="string"||ae=="number"||ae=="symbol"||ae=="boolean"?H!=="__proto__":H===null}function Ad(H){return!!ws&&ws in H}function oi(H){var ae=H&&H.constructor,pe=typeof ae=="function"&&ae.prototype||Rt;return H===pe}function la(H){return es.call(H)}function as(H){if(H!=null){try{return Gr.call(H)}catch{}try{return H+""}catch{}}return""}function li(H,ae){return H===ae||H!==H&&ae!==ae}var ci=ao(function(){return arguments}())?ao:function(H){return ks(H)&&Jn.call(H,"callee")&&!Hn.call(H,"callee")},Ta=Array.isArray;function zo(H){return H!=null&&Ri(H.length)&&!ca(H)}var qo=ms||hi;function $o(H,ae){return gl(H,ae)}function ca(H){if(!Ka(H))return!1;var ae=Uo(H);return ae==y||ae==w||ae==h||ae==D}function Ri(H){return typeof H=="number"&&H>-1&&H%1==0&&H<=o}function Ka(H){var ae=typeof H;return H!=null&&(ae=="object"||ae=="function")}function ks(H){return H!=null&&typeof H=="object"}var ui=ut?Cn(ut):xr;function Vo(H){return zo(H)?Na(H):io(H)}function di(){return[]}function hi(){return!1}t.exports=$o}($g,$g.exports)),$g.exports}var Sx={},q5;function $we(){if(q5)return Sx;q5=1,Object.defineProperty(Sx,"__esModule",{value:!0});const t=aH(),e=iH();var n;return function(r){function s(u={},h={},f=!1){typeof u!="object"&&(u={}),typeof h!="object"&&(h={});let g=t(h);f||(g=Object.keys(g).reduce((p,y)=>(g[y]!=null&&(p[y]=g[y]),p),{}));for(const p in u)u[p]!==void 0&&h[p]===void 0&&(g[p]=u[p]);return Object.keys(g).length>0?g:void 0}r.compose=s;function i(u={},h={}){typeof u!="object"&&(u={}),typeof h!="object"&&(h={});const f=Object.keys(u).concat(Object.keys(h)).reduce((g,p)=>(e(u[p],h[p])||(g[p]=h[p]===void 0?null:h[p]),g),{});return Object.keys(f).length>0?f:void 0}r.diff=i;function o(u={},h={}){u=u||{};const f=Object.keys(h).reduce((g,p)=>(h[p]!==u[p]&&u[p]!==void 0&&(g[p]=h[p]),g),{});return Object.keys(u).reduce((g,p)=>(u[p]!==h[p]&&h[p]===void 0&&(g[p]=null),g),f)}r.invert=o;function c(u,h,f=!1){if(typeof u!="object")return h;if(typeof h!="object")return;if(!f)return h;const g=Object.keys(h).reduce((p,y)=>(u[y]===void 0&&(p[y]=h[y]),p),{});return Object.keys(g).length>0?g:void 0}r.transform=c}(n||(n={})),Sx.default=n,Sx}var Cx={},$5;function oH(){if($5)return Cx;$5=1,Object.defineProperty(Cx,"__esModule",{value:!0});var t;return function(e){function n(r){return typeof r.delete=="number"?r.delete:typeof r.retain=="number"?r.retain:typeof r.retain=="object"&&r.retain!==null?1:typeof r.insert=="string"?r.insert.length:1}e.length=n}(t||(t={})),Cx.default=t,Cx}var Nx={},V5;function Vwe(){if(V5)return Nx;V5=1,Object.defineProperty(Nx,"__esModule",{value:!0});const t=oH();class e{constructor(r){this.ops=r,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(r){r||(r=1/0);const s=this.ops[this.index];if(s){const i=this.offset,o=t.default.length(s);if(r>=o-i?(r=o-i,this.index+=1,this.offset=0):this.offset+=r,typeof s.delete=="number")return{delete:r};{const c={};return s.attributes&&(c.attributes=s.attributes),typeof s.retain=="number"?c.retain=r:typeof s.retain=="object"&&s.retain!==null?c.retain=s.retain:typeof s.insert=="string"?c.insert=s.insert.substr(i,r):c.insert=s.insert,c}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?t.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const r=this.ops[this.index];return r?typeof r.delete=="number"?"delete":typeof r.retain=="number"||typeof r.retain=="object"&&r.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const r=this.offset,s=this.index,i=this.next(),o=this.ops.slice(this.index);return this.offset=r,this.index=s,[i].concat(o)}}else return[]}}return Nx.default=e,Nx}var H5;function Hwe(){return H5||(H5=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.AttributeMap=e.OpIterator=e.Op=void 0;const n=qwe(),r=aH(),s=iH(),i=$we();e.AttributeMap=i.default;const o=oH();e.Op=o.default;const c=Vwe();e.OpIterator=c.default;const u="\0",h=(g,p)=>{if(typeof g!="object"||g===null)throw new Error(`cannot retain a ${typeof g}`);if(typeof p!="object"||p===null)throw new Error(`cannot retain a ${typeof p}`);const y=Object.keys(g)[0];if(!y||y!==Object.keys(p)[0])throw new Error(`embed types not matched: ${y} != ${Object.keys(p)[0]}`);return[y,g[y],p[y]]};class f{constructor(p){Array.isArray(p)?this.ops=p:p!=null&&Array.isArray(p.ops)?this.ops=p.ops:this.ops=[]}static registerEmbed(p,y){this.handlers[p]=y}static unregisterEmbed(p){delete this.handlers[p]}static getHandler(p){const y=this.handlers[p];if(!y)throw new Error(`no handlers for embed type "${p}"`);return y}insert(p,y){const w={};return typeof p=="string"&&p.length===0?this:(w.insert=p,y!=null&&typeof y=="object"&&Object.keys(y).length>0&&(w.attributes=y),this.push(w))}delete(p){return p<=0?this:this.push({delete:p})}retain(p,y){if(typeof p=="number"&&p<=0)return this;const w={retain:p};return y!=null&&typeof y=="object"&&Object.keys(y).length>0&&(w.attributes=y),this.push(w)}push(p){let y=this.ops.length,w=this.ops[y-1];if(p=r(p),typeof w=="object"){if(typeof p.delete=="number"&&typeof w.delete=="number")return this.ops[y-1]={delete:w.delete+p.delete},this;if(typeof w.delete=="number"&&p.insert!=null&&(y-=1,w=this.ops[y-1],typeof w!="object"))return this.ops.unshift(p),this;if(s(p.attributes,w.attributes)){if(typeof p.insert=="string"&&typeof w.insert=="string")return this.ops[y-1]={insert:w.insert+p.insert},typeof p.attributes=="object"&&(this.ops[y-1].attributes=p.attributes),this;if(typeof p.retain=="number"&&typeof w.retain=="number")return this.ops[y-1]={retain:w.retain+p.retain},typeof p.attributes=="object"&&(this.ops[y-1].attributes=p.attributes),this}}return y===this.ops.length?this.ops.push(p):this.ops.splice(y,0,p),this}chop(){const p=this.ops[this.ops.length-1];return p&&typeof p.retain=="number"&&!p.attributes&&this.ops.pop(),this}filter(p){return this.ops.filter(p)}forEach(p){this.ops.forEach(p)}map(p){return this.ops.map(p)}partition(p){const y=[],w=[];return this.forEach(E=>{(p(E)?y:w).push(E)}),[y,w]}reduce(p,y){return this.ops.reduce(p,y)}changeLength(){return this.reduce((p,y)=>y.insert?p+o.default.length(y):y.delete?p-y.delete:p,0)}length(){return this.reduce((p,y)=>p+o.default.length(y),0)}slice(p=0,y=1/0){const w=[],E=new c.default(this.ops);let j=0;for(;j<y&&E.hasNext();){let C;j<p?C=E.next(p-j):(C=E.next(y-j),w.push(C)),j+=o.default.length(C)}return new f(w)}compose(p){const y=new c.default(this.ops),w=new c.default(p.ops),E=[],j=w.peek();if(j!=null&&typeof j.retain=="number"&&j.attributes==null){let O=j.retain;for(;y.peekType()==="insert"&&y.peekLength()<=O;)O-=y.peekLength(),E.push(y.next());j.retain-O>0&&w.next(j.retain-O)}const C=new f(E);for(;y.hasNext()||w.hasNext();)if(w.peekType()==="insert")C.push(w.next());else if(y.peekType()==="delete")C.push(y.next());else{const O=Math.min(y.peekLength(),w.peekLength()),I=y.next(O),D=w.next(O);if(D.retain){const T={};if(typeof I.retain=="number")T.retain=typeof D.retain=="number"?O:D.retain;else if(typeof D.retain=="number")I.retain==null?T.insert=I.insert:T.retain=I.retain;else{const _=I.retain==null?"insert":"retain",[R,b,A]=h(I[_],D.retain),L=f.getHandler(R);T[_]={[R]:L.compose(b,A,_==="retain")}}const F=i.default.compose(I.attributes,D.attributes,typeof I.retain=="number");if(F&&(T.attributes=F),C.push(T),!w.hasNext()&&s(C.ops[C.ops.length-1],T)){const _=new f(y.rest());return C.concat(_).chop()}}else typeof D.delete=="number"&&(typeof I.retain=="number"||typeof I.retain=="object"&&I.retain!==null)&&C.push(D)}return C.chop()}concat(p){const y=new f(this.ops.slice());return p.ops.length>0&&(y.push(p.ops[0]),y.ops=y.ops.concat(p.ops.slice(1))),y}diff(p,y){if(this.ops===p.ops)return new f;const w=[this,p].map(I=>I.map(D=>{if(D.insert!=null)return typeof D.insert=="string"?D.insert:u;const T=I===p?"on":"with";throw new Error("diff() called "+T+" non-document")}).join("")),E=new f,j=n(w[0],w[1],y,!0),C=new c.default(this.ops),O=new c.default(p.ops);return j.forEach(I=>{let D=I[1].length;for(;D>0;){let T=0;switch(I[0]){case n.INSERT:T=Math.min(O.peekLength(),D),E.push(O.next(T));break;case n.DELETE:T=Math.min(D,C.peekLength()),C.next(T),E.delete(T);break;case n.EQUAL:T=Math.min(C.peekLength(),O.peekLength(),D);const F=C.next(T),_=O.next(T);s(F.insert,_.insert)?E.retain(T,i.default.diff(F.attributes,_.attributes)):E.push(_).delete(T);break}D-=T}}),E.chop()}eachLine(p,y=`
`){const w=new c.default(this.ops);let E=new f,j=0;for(;w.hasNext();){if(w.peekType()!=="insert")return;const C=w.peek(),O=o.default.length(C)-w.peekLength(),I=typeof C.insert=="string"?C.insert.indexOf(y,O)-O:-1;if(I<0)E.push(w.next());else if(I>0)E.push(w.next(I));else{if(p(E,w.next(1).attributes||{},j)===!1)return;j+=1,E=new f}}E.length()>0&&p(E,{},j)}invert(p){const y=new f;return this.reduce((w,E)=>{if(E.insert)y.delete(o.default.length(E));else{if(typeof E.retain=="number"&&E.attributes==null)return y.retain(E.retain),w+E.retain;if(E.delete||typeof E.retain=="number"){const j=E.delete||E.retain;return p.slice(w,w+j).forEach(O=>{E.delete?y.push(O):E.retain&&E.attributes&&y.retain(o.default.length(O),i.default.invert(E.attributes,O.attributes))}),w+j}else if(typeof E.retain=="object"&&E.retain!==null){const j=p.slice(w,w+1),C=new c.default(j.ops).next(),[O,I,D]=h(E.retain,C.insert),T=f.getHandler(O);return y.retain({[O]:T.invert(I,D)},i.default.invert(E.attributes,C.attributes)),w+1}}return w},0),y.chop()}transform(p,y=!1){if(y=!!y,typeof p=="number")return this.transformPosition(p,y);const w=p,E=new c.default(this.ops),j=new c.default(w.ops),C=new f;for(;E.hasNext()||j.hasNext();)if(E.peekType()==="insert"&&(y||j.peekType()!=="insert"))C.retain(o.default.length(E.next()));else if(j.peekType()==="insert")C.push(j.next());else{const O=Math.min(E.peekLength(),j.peekLength()),I=E.next(O),D=j.next(O);if(I.delete)continue;if(D.delete)C.push(D);else{const T=I.retain,F=D.retain;let _=typeof F=="object"&&F!==null?F:O;if(typeof T=="object"&&T!==null&&typeof F=="object"&&F!==null){const R=Object.keys(T)[0];if(R===Object.keys(F)[0]){const b=f.getHandler(R);b&&(_={[R]:b.transform(T[R],F[R],y)})}}C.retain(_,i.default.transform(I.attributes,D.attributes,y))}}return C.chop()}transformPosition(p,y=!1){y=!!y;const w=new c.default(this.ops);let E=0;for(;w.hasNext()&&E<=p;){const j=w.peekLength(),C=w.peekType();if(w.next(),C==="delete"){p-=Math.min(j,p-E);continue}else C==="insert"&&(E<p||!y)&&(p+=j);E+=j}return p}}f.Op=o.default,f.OpIterator=c.default,f.AttributeMap=i.default,f.handlers={},e.default=f,t.exports=f,t.exports.default=f}(jx,jx.exports)),jx.exports}var No=Hwe();const Nt=rc(No);class hl extends eo{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}hl.blotName="break";hl.tagName="BR";let ul=class extends o1{};const Gwe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Dw(t){return t.replace(/[&<>"']/g,e=>Gwe[e])}const kl=class kl extends r3{static compare(e,n){const r=kl.order.indexOf(e),s=kl.order.indexOf(n);return r>=0||s>=0?r-s:e===n?0:e<n?-1:1}formatAt(e,n,r,s){if(kl.compare(this.statics.blotName,r)<0&&this.scroll.query(r,Tt.BLOT)){const i=this.isolate(e,n);s&&i.wrap(r,s)}else super.formatAt(e,n,r,s)}optimize(e){if(super.optimize(e),this.parent instanceof kl&&kl.compare(this.statics.blotName,this.parent.statics.blotName)>0){const n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}};be(kl,"allowedChildren",[kl,hl,eo,ul]),be(kl,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let tc=kl;const G5=1;class wa extends V0{constructor(){super(...arguments);be(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=lH(this)),this.cache.delta}deleteAt(n,r){super.deleteAt(n,r),this.cache={}}formatAt(n,r,s,i){r<=0||(this.scroll.query(s,Tt.BLOCK)?n+r===this.length()&&this.format(s,i):super.formatAt(n,Math.min(r,this.length()-n-1),s,i),this.cache={})}insertAt(n,r,s){if(s!=null){super.insertAt(n,r,s),this.cache={};return}if(r.length===0)return;const i=r.split(`
`),o=i.shift();o.length>0&&(n<this.length()-1||this.children.tail==null?super.insertAt(Math.min(n,this.length()-1),o):this.children.tail.insertAt(this.children.tail.length(),o),this.cache={});let c=this;i.reduce((u,h)=>(c=c.split(u,!0),c.insertAt(0,h),h.length),n+o.length)}insertBefore(n,r){const{head:s}=this.children;super.insertBefore(n,r),s instanceof hl&&s.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+G5),this.cache.length}moveChildren(n,r){super.moveChildren(n,r),this.cache={}}optimize(n){super.optimize(n),this.cache={}}path(n){return super.path(n,!0)}removeChild(n){super.removeChild(n),this.cache={}}split(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(r&&(n===0||n>=this.length()-G5)){const i=this.clone();return n===0?(this.parent.insertBefore(i,this),this):(this.parent.insertBefore(i,this.next),i)}const s=super.split(n,r);return this.cache={},s}}wa.blotName="block";wa.tagName="P";wa.defaultChild=hl;wa.allowedChildren=[hl,tc,eo,ul];class So extends eo{attach(){super.attach(),this.attributes=new Iw(this.domNode)}delta(){return new Nt().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(e,n){const r=this.scroll.query(e,Tt.BLOCK_ATTRIBUTE);r!=null&&this.attributes.attribute(r,n)}formatAt(e,n,r,s){this.format(r,s)}insertAt(e,n,r){if(r!=null){super.insertAt(e,n,r);return}const s=n.split(`
`),i=s.pop(),o=s.map(u=>{const h=this.scroll.create(wa.blotName);return h.insertAt(0,u),h}),c=this.split(e);o.forEach(u=>{this.parent.insertBefore(u,c)}),i&&this.parent.insertBefore(this.scroll.create("text",i),c)}}So.scope=Tt.BLOCK_BLOT;function lH(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.descendants(Da).reduce((n,r)=>r.length()===0?n:n.insert(r.value(),Eo(r,{},e)),new Nt).insert(`
`,Eo(t))}function Eo(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return t==null||("formats"in t&&typeof t.formats=="function"&&(e={...e,...t.formats()},n&&delete e["code-token"]),t.parent==null||t.parent.statics.blotName==="scroll"||t.parent.statics.scope!==t.statics.scope)?e:Eo(t.parent,e,n)}const wo=class wo extends eo{static value(){}constructor(e,n,r){super(e,n),this.selection=r,this.textNode=document.createTextNode(wo.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(e,n){if(this.savedLength!==0){super.format(e,n);return}let r=this,s=0;for(;r!=null&&r.statics.scope!==Tt.BLOCK_BLOT;)s+=r.offset(r.parent),r=r.parent;r!=null&&(this.savedLength=wo.CONTENTS.length,r.optimize(),r.formatAt(s,wo.CONTENTS.length,e,n),this.savedLength=0)}index(e,n){return e===this.textNode?0:super.index(e,n)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const e=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const n=this.prev instanceof ul?this.prev:null,r=n?n.length():0,s=this.next instanceof ul?this.next:null,i=s?s.text:"",{textNode:o}=this,c=o.data.split(wo.CONTENTS).join("");o.data=wo.CONTENTS;let u;if(n)u=n,(c||s)&&(n.insertAt(n.length(),c+i),s&&s.remove());else if(s)u=s,s.insertAt(0,c);else{const h=document.createTextNode(c);u=this.scroll.create(h),this.parent.insertBefore(u,this)}if(this.remove(),e){const h=(p,y)=>n&&p===n.domNode?y:p===o?r+y-1:s&&p===s.domNode?r+c.length+y:null,f=h(e.start.node,e.start.offset),g=h(e.end.node,e.end.offset);if(f!==null&&g!==null)return{startNode:u.domNode,startOffset:f,endNode:u.domNode,endOffset:g}}return null}update(e,n){if(e.some(r=>r.type==="characterData"&&r.target===this.textNode)){const r=this.restore();r&&(n.range=r)}}optimize(e){super.optimize(e);let{parent:n}=this;for(;n;){if(n.domNode.tagName==="A"){this.savedLength=wo.CONTENTS.length,n.isolate(this.offset(n),this.length()).unwrap(),this.savedLength=0;break}n=n.parent}}value(){return""}};be(wo,"blotName","cursor"),be(wo,"className","ql-cursor"),be(wo,"tagName","span"),be(wo,"CONTENTS","\uFEFF");let Um=wo;var yS={exports:{}},W5;function Wwe(){return W5||(W5=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(u,h,f){this.fn=u,this.context=h,this.once=f||!1}function i(u,h,f,g,p){if(typeof f!="function")throw new TypeError("The listener must be a function");var y=new s(f,g||u,p),w=n?n+h:h;return u._events[w]?u._events[w].fn?u._events[w]=[u._events[w],y]:u._events[w].push(y):(u._events[w]=y,u._eventsCount++),u}function o(u,h){--u._eventsCount===0?u._events=new r:delete u._events[h]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var h=[],f,g;if(this._eventsCount===0)return h;for(g in f=this._events)e.call(f,g)&&h.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(f)):h},c.prototype.listeners=function(h){var f=n?n+h:h,g=this._events[f];if(!g)return[];if(g.fn)return[g.fn];for(var p=0,y=g.length,w=new Array(y);p<y;p++)w[p]=g[p].fn;return w},c.prototype.listenerCount=function(h){var f=n?n+h:h,g=this._events[f];return g?g.fn?1:g.length:0},c.prototype.emit=function(h,f,g,p,y,w){var E=n?n+h:h;if(!this._events[E])return!1;var j=this._events[E],C=arguments.length,O,I;if(j.fn){switch(j.once&&this.removeListener(h,j.fn,void 0,!0),C){case 1:return j.fn.call(j.context),!0;case 2:return j.fn.call(j.context,f),!0;case 3:return j.fn.call(j.context,f,g),!0;case 4:return j.fn.call(j.context,f,g,p),!0;case 5:return j.fn.call(j.context,f,g,p,y),!0;case 6:return j.fn.call(j.context,f,g,p,y,w),!0}for(I=1,O=new Array(C-1);I<C;I++)O[I-1]=arguments[I];j.fn.apply(j.context,O)}else{var D=j.length,T;for(I=0;I<D;I++)switch(j[I].once&&this.removeListener(h,j[I].fn,void 0,!0),C){case 1:j[I].fn.call(j[I].context);break;case 2:j[I].fn.call(j[I].context,f);break;case 3:j[I].fn.call(j[I].context,f,g);break;case 4:j[I].fn.call(j[I].context,f,g,p);break;default:if(!O)for(T=1,O=new Array(C-1);T<C;T++)O[T-1]=arguments[T];j[I].fn.apply(j[I].context,O)}}return!0},c.prototype.on=function(h,f,g){return i(this,h,f,g,!1)},c.prototype.once=function(h,f,g){return i(this,h,f,g,!0)},c.prototype.removeListener=function(h,f,g,p){var y=n?n+h:h;if(!this._events[y])return this;if(!f)return o(this,y),this;var w=this._events[y];if(w.fn)w.fn===f&&(!p||w.once)&&(!g||w.context===g)&&o(this,y);else{for(var E=0,j=[],C=w.length;E<C;E++)(w[E].fn!==f||p&&!w[E].once||g&&w[E].context!==g)&&j.push(w[E]);j.length?this._events[y]=j.length===1?j[0]:j:o(this,y)}return this},c.prototype.removeAllListeners=function(h){var f;return h?(f=n?n+h:h,this._events[f]&&o(this,f)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c}(yS)),yS.exports}var Kwe=Wwe();const Ywe=rc(Kwe),QN=new WeakMap,ZN=["error","warn","log","info"];let eT="warn";function cH(t){if(eT&&ZN.indexOf(t)<=ZN.indexOf(eT)){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];console[t](...n)}}function lu(t){return ZN.reduce((e,n)=>(e[n]=cH.bind(console,n,t),e),{})}lu.level=t=>{eT=t};cH.level=lu.level;const vS=lu("quill:events"),Xwe=["selectionchange","mousedown","mouseup","click"];Xwe.forEach(t=>{document.addEventListener(t,function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];Array.from(document.querySelectorAll(".ql-container")).forEach(s=>{const i=QN.get(s);i&&i.emitter&&i.emitter.handleDOM(...n)})})});class _t extends Ywe{constructor(){super(),this.domListeners={},this.on("error",vS.error)}emit(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return vS.log.call(vS,...n),super.emit(...n)}handleDOM(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];(this.domListeners[e.type]||[]).forEach(i=>{let{node:o,handler:c}=i;(e.target===o||o.contains(e.target))&&c(e,...r)})}listenDOM(e,n,r){this.domListeners[e]||(this.domListeners[e]=[]),this.domListeners[e].push({node:n,handler:r})}}be(_t,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),be(_t,"sources",{API:"api",SILENT:"silent",USER:"user"});const xS=lu("quill:selection");let Th=class{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=e,this.length=n}},Jwe=class{constructor(e,n){this.emitter=n,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new Th(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,_t.sources.USER),1)}),this.emitter.on(_t.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const r=this.getNativeRange();r!=null&&r.start.node!==this.cursor.textNode&&this.emitter.once(_t.events.SCROLL_UPDATE,(s,i)=>{try{this.root.contains(r.start.node)&&this.root.contains(r.end.node)&&this.setNativeRange(r.start.node,r.start.offset,r.end.node,r.end.offset);const o=i.some(c=>c.type==="characterData"||c.type==="childList"||c.type==="attributes"&&c.target===this.root);this.update(o?_t.sources.SILENT:s)}catch{}})}),this.emitter.on(_t.events.SCROLL_OPTIMIZE,(r,s)=>{if(s.range){const{startNode:i,startOffset:o,endNode:c,endOffset:u}=s.range;this.setNativeRange(i,o,c,u),this.update(_t.sources.SILENT)}}),this.update(_t.sources.SILENT)}handleComposition(){this.emitter.on(_t.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(_t.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const e=this.cursor.restore();if(!e)return;setTimeout(()=>{this.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(_t.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(e,n){this.scroll.update();const r=this.getNativeRange();if(!(r==null||!r.native.collapsed||this.scroll.query(e,Tt.BLOCK))){if(r.start.node!==this.cursor.textNode){const s=this.scroll.find(r.start.node,!1);if(s==null)return;if(s instanceof Da){const i=s.split(r.start.offset);s.parent.insertBefore(this.cursor,i)}else s.insertBefore(this.cursor,r.start.node);this.cursor.attach()}this.cursor.format(e,n),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const r=this.scroll.length();e=Math.min(e,r-1),n=Math.min(e+n,r-1)-e;let s,[i,o]=this.scroll.leaf(e);if(i==null)return null;if(n>0&&o===i.length()){const[f]=this.scroll.leaf(e+1);if(f){const[g]=this.scroll.line(e),[p]=this.scroll.line(e+1);g===p&&(i=f,o=0)}}[s,o]=i.position(o,!0);const c=document.createRange();if(n>0)return c.setStart(s,o),[i,o]=this.scroll.leaf(e+n),i==null?null:([s,o]=i.position(o,!0),c.setEnd(s,o),c.getBoundingClientRect());let u="left",h;if(s instanceof Text){if(!s.data.length)return null;o<s.data.length?(c.setStart(s,o),c.setEnd(s,o+1)):(c.setStart(s,o-1),c.setEnd(s,o),u="right"),h=c.getBoundingClientRect()}else{if(!(i.domNode instanceof Element))return null;h=i.domNode.getBoundingClientRect(),o>0&&(u="right")}return{bottom:h.top+h.height,height:h.height,left:h[u],right:h[u],top:h.top,width:0}}getNativeRange(){const e=document.getSelection();if(e==null||e.rangeCount<=0)return null;const n=e.getRangeAt(0);if(n==null)return null;const r=this.normalizeNative(n);return xS.info("getNativeRange",r),r}getRange(){const e=this.scroll.domNode;if("isConnected"in e&&!e.isConnected)return[null,null];const n=this.getNativeRange();return n==null?[null,null]:[this.normalizedToRange(n),n]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&bS(this.root,document.activeElement)}normalizedToRange(e){const n=[[e.start.node,e.start.offset]];e.native.collapsed||n.push([e.end.node,e.end.offset]);const r=n.map(o=>{const[c,u]=o,h=this.scroll.find(c,!0),f=h.offset(this.scroll);return u===0?f:h instanceof Da?f+h.index(c,u):f+h.length()}),s=Math.min(Math.max(...r),this.scroll.length()-1),i=Math.min(s,...r);return new Th(i,s-i)}normalizeNative(e){if(!bS(this.root,e.startContainer)||!e.collapsed&&!bS(this.root,e.endContainer))return null;const n={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[n.start,n.end].forEach(r=>{let{node:s,offset:i}=r;for(;!(s instanceof Text)&&s.childNodes.length>0;)if(s.childNodes.length>i)s=s.childNodes[i],i=0;else if(s.childNodes.length===i)s=s.lastChild,s instanceof Text?i=s.data.length:s.childNodes.length>0?i=s.childNodes.length:i=s.childNodes.length+1;else break;r.node=s,r.offset=i}),n}rangeToNative(e){const n=this.scroll.length(),r=(s,i)=>{s=Math.min(n-1,s);const[o,c]=this.scroll.leaf(s);return o?o.position(c,i):[null,-1]};return[...r(e.index,!1),...r(e.index+e.length,!0)]}setNativeRange(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:n,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(xS.info("setNativeRange",e,n,r,s),e!=null&&(this.root.parentNode==null||e.parentNode==null||r.parentNode==null))return;const o=document.getSelection();if(o!=null)if(e!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:c}=this.getNativeRange()||{};if(c==null||i||e!==c.startContainer||n!==c.startOffset||r!==c.endContainer||s!==c.endOffset){e instanceof Element&&e.tagName==="BR"&&(n=Array.from(e.parentNode.childNodes).indexOf(e),e=e.parentNode),r instanceof Element&&r.tagName==="BR"&&(s=Array.from(r.parentNode.childNodes).indexOf(r),r=r.parentNode);const u=document.createRange();u.setStart(e,n),u.setEnd(r,s),o.removeAllRanges(),o.addRange(u)}}else o.removeAllRanges(),this.root.blur()}setRange(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_t.sources.API;if(typeof n=="string"&&(r=n,n=!1),xS.info("setRange",e),e!=null){const s=this.rangeToNative(e);this.setNativeRange(...s,n)}else this.setNativeRange(null);this.update(r)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_t.sources.USER;const n=this.lastRange,[r,s]=this.getRange();if(this.lastRange=r,this.lastNative=s,this.lastRange!=null&&(this.savedRange=this.lastRange),!$0(n,this.lastRange)){if(!this.composing&&s!=null&&s.native.collapsed&&s.start.node!==this.cursor.textNode){const o=this.cursor.restore();o&&this.setNativeRange(o.startNode,o.startOffset,o.endNode,o.endOffset)}const i=[_t.events.SELECTION_CHANGE,fm(this.lastRange),fm(n),e];this.emitter.emit(_t.events.EDITOR_CHANGE,...i),e!==_t.sources.SILENT&&this.emitter.emit(...i)}}};function bS(t,e){try{e.parentNode}catch{return!1}return t.contains(e)}const Qwe=/^[ -~]*$/;class Zwe{constructor(e){this.scroll=e,this.delta=this.getDelta()}applyDelta(e){this.scroll.update();let n=this.scroll.length();this.scroll.batchStart();const r=K5(e),s=new Nt;return t2e(r.ops.slice()).reduce((o,c)=>{const u=No.Op.length(c);let h=c.attributes||{},f=!1,g=!1;if(c.insert!=null){if(s.retain(u),typeof c.insert=="string"){const w=c.insert;g=!w.endsWith(`
`)&&(n<=o||!!this.scroll.descendant(So,o)[0]),this.scroll.insertAt(o,w);const[E,j]=this.scroll.line(o);let C=sd({},Eo(E));if(E instanceof wa){const[O]=E.descendant(Da,j);O&&(C=sd(C,Eo(O)))}h=No.AttributeMap.diff(C,h)||{}}else if(typeof c.insert=="object"){const w=Object.keys(c.insert)[0];if(w==null)return o;const E=this.scroll.query(w,Tt.INLINE)!=null;if(E)(n<=o||this.scroll.descendant(So,o)[0])&&(g=!0);else if(o>0){const[j,C]=this.scroll.descendant(Da,o-1);j instanceof ul?j.value()[C]!==`
`&&(f=!0):j instanceof eo&&j.statics.scope===Tt.INLINE_BLOT&&(f=!0)}if(this.scroll.insertAt(o,w,c.insert[w]),E){const[j]=this.scroll.descendant(Da,o);if(j){const C=sd({},Eo(j));h=No.AttributeMap.diff(C,h)||{}}}}n+=u}else if(s.push(c),c.retain!==null&&typeof c.retain=="object"){const w=Object.keys(c.retain)[0];if(w==null)return o;this.scroll.updateEmbedAt(o,w,c.retain[w])}Object.keys(h).forEach(w=>{this.scroll.formatAt(o,u,w,h[w])});const p=f?1:0,y=g?1:0;return n+=p+y,s.retain(p),s.delete(y),o+u+p+y},0),s.reduce((o,c)=>typeof c.delete=="number"?(this.scroll.deleteAt(o,c.delete),o):o+No.Op.length(c),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(r)}deleteText(e,n){return this.scroll.deleteAt(e,n),this.update(new Nt().retain(e).delete(n))}formatLine(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(r).forEach(i=>{this.scroll.lines(e,Math.max(n,1)).forEach(o=>{o.format(i,r[i])})}),this.scroll.optimize();const s=new Nt().retain(e).retain(n,fm(r));return this.update(s)}formatText(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(r).forEach(i=>{this.scroll.formatAt(e,n,i,r[i])});const s=new Nt().retain(e).retain(n,fm(r));return this.update(s)}getContents(e,n){return this.delta.slice(e,e+n)}getDelta(){return this.scroll.lines().reduce((e,n)=>e.concat(n.delta()),new Nt)}getFormat(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=[],s=[];n===0?this.scroll.path(e).forEach(c=>{const[u]=c;u instanceof wa?r.push(u):u instanceof Da&&s.push(u)}):(r=this.scroll.lines(e,n),s=this.scroll.descendants(Da,e,n));const[i,o]=[r,s].map(c=>{const u=c.shift();if(u==null)return{};let h=Eo(u);for(;Object.keys(h).length>0;){const f=c.shift();if(f==null)return h;h=e2e(Eo(f),h)}return h});return{...i,...o}}getHTML(e,n){const[r,s]=this.scroll.line(e);if(r){const i=r.length();return r.length()>=s+n&&!(s===0&&n===i)?H0(r,s,n,!0):H0(this.scroll,e,n,!0)}return""}getText(e,n){return this.getContents(e,n).filter(r=>typeof r.insert=="string").map(r=>r.insert).join("")}insertContents(e,n){const r=K5(n),s=new Nt().retain(e).concat(r);return this.scroll.insertContents(e,r),this.update(s)}insertEmbed(e,n,r){return this.scroll.insertAt(e,n,r),this.update(new Nt().retain(e).insert({[n]:r}))}insertText(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return n=n.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(e,n),Object.keys(r).forEach(s=>{this.scroll.formatAt(e,n.length,s,r[s])}),this.update(new Nt().retain(e).insert(n,fm(r)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const e=this.scroll.children.head;if((e==null?void 0:e.statics.blotName)!==wa.blotName)return!1;const n=e;return n.children.length>1?!1:n.children.head instanceof hl}removeFormat(e,n){const r=this.getText(e,n),[s,i]=this.scroll.line(e+n);let o=0,c=new Nt;s!=null&&(o=s.length()-i,c=s.delta().slice(i,i+o-1).insert(`
`));const h=this.getContents(e,n+o).diff(new Nt().insert(r).concat(c)),f=new Nt().retain(e).concat(h);return this.applyDelta(f)}update(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const s=this.delta;if(n.length===1&&n[0].type==="characterData"&&n[0].target.data.match(Qwe)&&this.scroll.find(n[0].target)){const i=this.scroll.find(n[0].target),o=Eo(i),c=i.offset(this.scroll),u=n[0].oldValue.replace(Um.CONTENTS,""),h=new Nt().insert(u),f=new Nt().insert(i.value()),g=r&&{oldRange:Y5(r.oldRange,-c),newRange:Y5(r.newRange,-c)};e=new Nt().retain(c).concat(h.diff(f,g)).reduce((y,w)=>w.insert?y.insert(w.insert,o):y.push(w),new Nt),this.delta=s.compose(e)}else this.delta=this.getDelta(),(!e||!$0(s.compose(e),this.delta))&&(e=s.diff(this.delta,r));return e}}function Yf(t,e,n){if(t.length===0){const[y]=wS(n.pop());return e<=0?`</li></${y}>`:`</li></${y}>${Yf([],e-1,n)}`}const[{child:r,offset:s,length:i,indent:o,type:c},...u]=t,[h,f]=wS(c);if(o>e)return n.push(c),o===e+1?`<${h}><li${f}>${H0(r,s,i)}${Yf(u,o,n)}`:`<${h}><li>${Yf(t,e+1,n)}`;const g=n[n.length-1];if(o===e&&c===g)return`</li><li${f}>${H0(r,s,i)}${Yf(u,o,n)}`;const[p]=wS(n.pop());return`</li></${p}>${Yf(t,e-1,n)}`}function H0(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in t&&typeof t.html=="function")return t.html(e,n);if(t instanceof ul)return Dw(t.value().slice(e,e+n)).replaceAll(" ","&nbsp;");if(t instanceof il){if(t.statics.blotName==="list-container"){const h=[];return t.children.forEachAt(e,n,(f,g,p)=>{const y="formats"in f&&typeof f.formats=="function"?f.formats():{};h.push({child:f,offset:g,length:p,indent:y.indent||0,type:y.list})}),Yf(h,-1,[])}const s=[];if(t.children.forEachAt(e,n,(h,f,g)=>{s.push(H0(h,f,g))}),r||t.statics.blotName==="list")return s.join("");const{outerHTML:i,innerHTML:o}=t.domNode,[c,u]=i.split(`>${o}<`);return c==="<table"?`<table style="border: 1px solid #000;">${s.join("")}<${u}`:`${c}>${s.join("")}<${u}`}return t.domNode instanceof Element?t.domNode.outerHTML:""}function e2e(t,e){return Object.keys(e).reduce((n,r)=>{if(t[r]==null)return n;const s=e[r];return s===t[r]?n[r]=s:Array.isArray(s)?s.indexOf(t[r])<0?n[r]=s.concat([t[r]]):n[r]=s:n[r]=[s,t[r]],n},{})}function wS(t){const e=t==="ordered"?"ol":"ul";switch(t){case"checked":return[e,' data-list="checked"'];case"unchecked":return[e,' data-list="unchecked"'];default:return[e,""]}}function K5(t){return t.reduce((e,n)=>{if(typeof n.insert=="string"){const r=n.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return e.insert(r,n.attributes)}return e.push(n)},new Nt)}function Y5(t,e){let{index:n,length:r}=t;return new Th(n+e,r)}function t2e(t){const e=[];return t.forEach(n=>{typeof n.insert=="string"?n.insert.split(`
`).forEach((s,i)=>{i&&e.push({insert:`
`,attributes:n.attributes}),s&&e.push({insert:s,attributes:n.attributes})}):e.push(n)}),e}class fl{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=e,this.options=n}}be(fl,"DEFAULTS",{});const Tx="\uFEFF";class a3 extends eo{constructor(e,n){super(e,n),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(r=>{this.contentNode.appendChild(r)}),this.leftGuard=document.createTextNode(Tx),this.rightGuard=document.createTextNode(Tx),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(e,n){return e===this.leftGuard?0:e===this.rightGuard?1:super.index(e,n)}restore(e){let n=null,r;const s=e.data.split(Tx).join("");if(e===this.leftGuard)if(this.prev instanceof ul){const i=this.prev.length();this.prev.insertAt(i,s),n={startNode:this.prev.domNode,startOffset:i+s.length}}else r=document.createTextNode(s),this.parent.insertBefore(this.scroll.create(r),this),n={startNode:r,startOffset:s.length};else e===this.rightGuard&&(this.next instanceof ul?(this.next.insertAt(0,s),n={startNode:this.next.domNode,startOffset:s.length}):(r=document.createTextNode(s),this.parent.insertBefore(this.scroll.create(r),this.next),n={startNode:r,startOffset:s.length}));return e.data=Tx,n}update(e,n){e.forEach(r=>{if(r.type==="characterData"&&(r.target===this.leftGuard||r.target===this.rightGuard)){const s=this.restore(r.target);s&&(n.range=s)}})}}class n2e{constructor(e,n){be(this,"isComposing",!1);this.scroll=e,this.emitter=n,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",e=>{this.isComposing||this.handleCompositionStart(e)}),this.scroll.domNode.addEventListener("compositionend",e=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(e)})})}handleCompositionStart(e){const n=e.target instanceof Node?this.scroll.find(e.target,!0):null;n&&!(n instanceof a3)&&(this.emitter.emit(_t.events.COMPOSITION_BEFORE_START,e),this.scroll.batchStart(),this.emitter.emit(_t.events.COMPOSITION_START,e),this.isComposing=!0)}handleCompositionEnd(e){this.emitter.emit(_t.events.COMPOSITION_BEFORE_END,e),this.scroll.batchEnd(),this.emitter.emit(_t.events.COMPOSITION_END,e),this.isComposing=!1}}const b0=class b0{constructor(e,n){be(this,"modules",{});this.quill=e,this.options=n}init(){Object.keys(this.options.modules).forEach(e=>{this.modules[e]==null&&this.addModule(e)})}addModule(e){const n=this.quill.constructor.import(`modules/${e}`);return this.modules[e]=new n(this.quill,this.options.modules[e]||{}),this.modules[e]}};be(b0,"DEFAULTS",{modules:{}}),be(b0,"themes",{default:b0});let zm=b0;const r2e=t=>t.parentElement||t.getRootNode().host||null,s2e=t=>{const e=t.getBoundingClientRect(),n="offsetWidth"in t&&Math.abs(e.width)/t.offsetWidth||1,r="offsetHeight"in t&&Math.abs(e.height)/t.offsetHeight||1;return{top:e.top,right:e.left+t.clientWidth*n,bottom:e.top+t.clientHeight*r,left:e.left}},Ax=t=>{const e=parseInt(t,10);return Number.isNaN(e)?0:e},X5=(t,e,n,r,s,i)=>t<n&&e>r?0:t<n?-(n-t+s):e>r?e-t>r-n?t+s-n:e-r+i:0,a2e=(t,e)=>{var i,o,c;const n=t.ownerDocument;let r=e,s=t;for(;s;){const u=s===n.body,h=u?{top:0,right:((i=window.visualViewport)==null?void 0:i.width)??n.documentElement.clientWidth,bottom:((o=window.visualViewport)==null?void 0:o.height)??n.documentElement.clientHeight,left:0}:s2e(s),f=getComputedStyle(s),g=X5(r.left,r.right,h.left,h.right,Ax(f.scrollPaddingLeft),Ax(f.scrollPaddingRight)),p=X5(r.top,r.bottom,h.top,h.bottom,Ax(f.scrollPaddingTop),Ax(f.scrollPaddingBottom));if(g||p)if(u)(c=n.defaultView)==null||c.scrollBy(g,p);else{const{scrollLeft:y,scrollTop:w}=s;p&&(s.scrollTop+=p),g&&(s.scrollLeft+=g);const E=s.scrollLeft-y,j=s.scrollTop-w;r={left:r.left-E,top:r.top-j,right:r.right-E,bottom:r.bottom-j}}s=u||f.position==="fixed"?null:r2e(s)}},i2e=100,o2e=["block","break","cursor","inline","scroll","text"],l2e=(t,e,n)=>{const r=new Bm;return o2e.forEach(s=>{const i=e.query(s);i&&r.register(i)}),t.forEach(s=>{let i=e.query(s);i||n.error(`Cannot register "${s}" specified in "formats" config. Are you sure it was registered?`);let o=0;for(;i;)if(r.register(i),i="blotName"in i?i.requiredContainer??null:null,o+=1,o>i2e){n.error(`Cycle detected in registering blot requiredContainer: "${s}"`);break}}),r},pm=lu("quill"),Lx=new Bm;il.uiClass="ql-ui";const Qo=class Qo{static debug(e){e===!0&&(e="log"),lu.level(e)}static find(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return QN.get(e)||Lx.find(e,n)}static import(e){return this.imports[e]==null&&pm.error(`Cannot import ${e}. Are you sure it was registered?`),this.imports[e]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const e=arguments.length<=0?void 0:arguments[0],n=!!(!(arguments.length<=1)&&arguments[1]),r="attrName"in e?e.attrName:e.blotName;typeof r=="string"?this.register(`formats/${r}`,e,n):Object.keys(e).forEach(s=>{this.register(s,e[s],n)})}else{const e=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],r=!!(!(arguments.length<=2)&&arguments[2]);this.imports[e]!=null&&!r&&pm.warn(`Overwriting ${e} with`,n),this.imports[e]=n,(e.startsWith("blots/")||e.startsWith("formats/"))&&n&&typeof n!="boolean"&&n.blotName!=="abstract"&&Lx.register(n),typeof n.register=="function"&&n.register(Lx)}}constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=c2e(e,n),this.container=this.options.container,this.container==null){pm.error("Invalid Quill container",e);return}this.options.debug&&Qo.debug(this.options.debug);const r=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",QN.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new _t;const s=s3.blotName,i=this.options.registry.query(s);if(!i||!("blotName"in i))throw new Error(`Cannot initialize Quill without "${s}" blot`);if(this.scroll=new i(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new Zwe(this.scroll),this.selection=new Jwe(this.scroll,this.emitter),this.composition=new n2e(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(_t.events.EDITOR_CHANGE,o=>{o===_t.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(_t.events.SCROLL_UPDATE,(o,c)=>{const u=this.selection.lastRange,[h]=this.selection.getRange(),f=u&&h?{oldRange:u,newRange:h}:void 0;Yo.call(this,()=>this.editor.update(null,c,f),o)}),this.emitter.on(_t.events.SCROLL_EMBED_UPDATE,(o,c)=>{const u=this.selection.lastRange,[h]=this.selection.getRange(),f=u&&h?{oldRange:u,newRange:h}:void 0;Yo.call(this,()=>{const g=new Nt().retain(o.offset(this)).retain({[o.statics.blotName]:c});return this.editor.update(g,[],f)},Qo.sources.USER)}),r){const o=this.clipboard.convert({html:`${r}<p><br></p>`,text:`
`});this.setContents(o)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof e=="string"){const r=e;e=document.createElement("div"),e.classList.add(r)}return this.container.insertBefore(e,n),e}blur(){this.selection.setRange(null)}deleteText(e,n,r){return[e,n,,r]=Cc(e,n,r),Yo.call(this,()=>this.editor.deleteText(e,n),r,e,-1*n)}disable(){this.enable(!1)}editReadOnly(e){this.allowReadOnlyEdits=!0;const n=e();return this.allowReadOnlyEdits=!1,n}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}focus(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),e.preventScroll||this.scrollSelectionIntoView()}format(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_t.sources.API;return Yo.call(this,()=>{const s=this.getSelection(!0);let i=new Nt;if(s==null)return i;if(this.scroll.query(e,Tt.BLOCK))i=this.editor.formatLine(s.index,s.length,{[e]:n});else{if(s.length===0)return this.selection.format(e,n),i;i=this.editor.formatText(s.index,s.length,{[e]:n})}return this.setSelection(s,_t.sources.SILENT),i},r)}formatLine(e,n,r,s,i){let o;return[e,n,o,i]=Cc(e,n,r,s,i),Yo.call(this,()=>this.editor.formatLine(e,n,o),i,e,0)}formatText(e,n,r,s,i){let o;return[e,n,o,i]=Cc(e,n,r,s,i),Yo.call(this,()=>this.editor.formatText(e,n,o),i,e,0)}getBounds(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=null;if(typeof e=="number"?r=this.selection.getBounds(e,n):r=this.selection.getBounds(e.index,e.length),!r)return null;const s=this.container.getBoundingClientRect();return{bottom:r.bottom-s.top,height:r.height,left:r.left-s.left,right:r.right-s.left,top:r.top-s.top,width:r.width}}getContents(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-e;return[e,n]=Cc(e,n),this.editor.getContents(e,n)}getFormat(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof e=="number"?this.editor.getFormat(e,n):this.editor.getFormat(e.index,e.length)}getIndex(e){return e.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(e){return this.scroll.leaf(e)}getLine(e){return this.scroll.line(e)}getLines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof e!="number"?this.scroll.lines(e.index,e.length):this.scroll.lines(e,n)}getModule(e){return this.theme.modules[e]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(n=n??this.getLength()-e),[e,n]=Cc(e,n),this.editor.getHTML(e,n)}getText(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(n=n??this.getLength()-e),[e,n]=Cc(e,n),this.editor.getText(e,n)}hasFocus(){return this.selection.hasFocus()}insertEmbed(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Qo.sources.API;return Yo.call(this,()=>this.editor.insertEmbed(e,n,r),s,e)}insertText(e,n,r,s,i){let o;return[e,,o,i]=Cc(e,0,r,s,i),Yo.call(this,()=>this.editor.insertText(e,n,o),i,e,n.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(e,n,r){return[e,n,,r]=Cc(e,n,r),Yo.call(this,()=>this.editor.removeFormat(e,n),r,e)}scrollRectIntoView(e){a2e(this.root,e)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const e=this.selection.lastRange,n=e&&this.selection.getBounds(e.index,e.length);n&&this.scrollRectIntoView(n)}setContents(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_t.sources.API;return Yo.call(this,()=>{e=new Nt(e);const r=this.getLength(),s=this.editor.deleteText(0,r),i=this.editor.insertContents(0,e),o=this.editor.deleteText(this.getLength()-1,1);return s.compose(i).compose(o)},n)}setSelection(e,n,r){e==null?this.selection.setRange(null,n||Qo.sources.API):([e,n,,r]=Cc(e,n,r),this.selection.setRange(new Th(Math.max(0,e),n),r),r!==_t.sources.SILENT&&this.scrollSelectionIntoView())}setText(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_t.sources.API;const r=new Nt().insert(e);return this.setContents(r,n)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_t.sources.USER;const n=this.scroll.update(e);return this.selection.update(e),n}updateContents(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_t.sources.API;return Yo.call(this,()=>(e=new Nt(e),this.editor.applyDelta(e)),n,!0)}};be(Qo,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:Lx,theme:"default"}),be(Qo,"events",_t.events),be(Qo,"sources",_t.sources),be(Qo,"version","2.0.3"),be(Qo,"imports",{delta:Nt,parchment:zwe,"core/module":fl,"core/theme":zm});let Ke=Qo;function J5(t){return typeof t=="string"?document.querySelector(t):t}function _S(t){return Object.entries(t??{}).reduce((e,n)=>{let[r,s]=n;return{...e,[r]:s===!0?{}:s}},{})}function Q5(t){return Object.fromEntries(Object.entries(t).filter(e=>e[1]!==void 0))}function c2e(t,e){const n=J5(t);if(!n)throw new Error("Invalid Quill container");const s=!e.theme||e.theme===Ke.DEFAULTS.theme?zm:Ke.import(`themes/${e.theme}`);if(!s)throw new Error(`Invalid theme ${e.theme}. Did you register it?`);const{modules:i,...o}=Ke.DEFAULTS,{modules:c,...u}=s.DEFAULTS;let h=_S(e.modules);h!=null&&h.toolbar&&h.toolbar.constructor!==Object&&(h={...h,toolbar:{container:h.toolbar}});const f=sd({},_S(i),_S(c),h),g={...o,...Q5(u),...Q5(e)};let p=e.registry;return p?e.formats&&pm.warn('Ignoring "formats" option because "registry" is specified'):p=e.formats?l2e(e.formats,g.registry,pm):g.registry,{...g,registry:p,container:n,theme:s,modules:Object.entries(f).reduce((y,w)=>{let[E,j]=w;if(!j)return y;const C=Ke.import(`modules/${E}`);return C==null?(pm.error(`Cannot load ${E} module. Are you sure you registered it?`),y):{...y,[E]:sd({},C.DEFAULTS||{},j)}},{}),bounds:J5(g.bounds)}}function Yo(t,e,n,r){if(!this.isEnabled()&&e===_t.sources.USER&&!this.allowReadOnlyEdits)return new Nt;let s=n==null?null:this.getSelection();const i=this.editor.delta,o=t();if(s!=null&&(n===!0&&(n=s.index),r==null?s=Z5(s,o,e):r!==0&&(s=Z5(s,n,r,e)),this.setSelection(s,_t.sources.SILENT)),o.length()>0){const c=[_t.events.TEXT_CHANGE,o,i,e];this.emitter.emit(_t.events.EDITOR_CHANGE,...c),e!==_t.sources.SILENT&&this.emitter.emit(...c)}return o}function Cc(t,e,n,r,s){let i={};return typeof t.index=="number"&&typeof t.length=="number"?typeof e!="number"?(s=r,r=n,n=e,e=t.length,t=t.index):(e=t.length,t=t.index):typeof e!="number"&&(s=r,r=n,n=e,e=0),typeof n=="object"?(i=n,s=r):typeof n=="string"&&(r!=null?i[n]=r:s=n),s=s||_t.sources.API,[t,e,i,s]}function Z5(t,e,n,r){const s=typeof n=="number"?n:0;if(t==null)return null;let i,o;return e&&typeof e.transformPosition=="function"?[i,o]=[t.index,t.index+t.length].map(c=>e.transformPosition(c,r!==_t.sources.USER)):[i,o]=[t.index,t.index+t.length].map(c=>c<e||c===e&&r===_t.sources.USER?c:s>=0?c+s:Math.max(e,c+s)),new Th(i,o-i)}class Kh extends Pw{}function eM(t){return t instanceof wa||t instanceof So}function tM(t){return typeof t.updateContent=="function"}class Xf extends s3{constructor(e,n,r){let{emitter:s}=r;super(e,n),this.emitter=s,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",i=>this.handleDragStart(i))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const e=this.batch;this.batch=!1,this.update(e)}emitMount(e){this.emitter.emit(_t.events.SCROLL_BLOT_MOUNT,e)}emitUnmount(e){this.emitter.emit(_t.events.SCROLL_BLOT_UNMOUNT,e)}emitEmbedUpdate(e,n){this.emitter.emit(_t.events.SCROLL_EMBED_UPDATE,e,n)}deleteAt(e,n){const[r,s]=this.line(e),[i]=this.line(e+n);if(super.deleteAt(e,n),i!=null&&r!==i&&s>0){if(r instanceof So||i instanceof So){this.optimize();return}const o=i.children.head instanceof hl?null:i.children.head;r.moveChildren(i,o),r.remove()}this.optimize()}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",e?"true":"false")}formatAt(e,n,r,s){super.formatAt(e,n,r,s),this.optimize()}insertAt(e,n,r){if(e>=this.length())if(r==null||this.scroll.query(n,Tt.BLOCK)==null){const s=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(s),r==null&&n.endsWith(`
`)?s.insertAt(0,n.slice(0,-1),r):s.insertAt(0,n,r)}else{const s=this.scroll.create(n,r);this.appendChild(s)}else super.insertAt(e,n,r);this.optimize()}insertBefore(e,n){if(e.statics.scope===Tt.INLINE_BLOT){const r=this.scroll.create(this.statics.defaultChild.blotName);r.appendChild(e),super.insertBefore(r,n)}else super.insertBefore(e,n)}insertContents(e,n){const r=this.deltaToRenderBlocks(n.concat(new Nt().insert(`
`))),s=r.pop();if(s==null)return;this.batchStart();const i=r.shift();if(i){const u=i.type==="block"&&(i.delta.length()===0||!this.descendant(So,e)[0]&&e<this.length()),h=i.type==="block"?i.delta:new Nt().insert({[i.key]:i.value});ES(this,e,h);const f=i.type==="block"?1:0,g=e+h.length()+f;u&&this.insertAt(g-1,`
`);const p=Eo(this.line(e)[0]),y=No.AttributeMap.diff(p,i.attributes)||{};Object.keys(y).forEach(w=>{this.formatAt(g-1,1,w,y[w])}),e=g}let[o,c]=this.children.find(e);if(r.length&&(o&&(o=o.split(c),c=0),r.forEach(u=>{if(u.type==="block"){const h=this.createBlock(u.attributes,o||void 0);ES(h,0,u.delta)}else{const h=this.create(u.key,u.value);this.insertBefore(h,o||void 0),Object.keys(u.attributes).forEach(f=>{h.format(f,u.attributes[f])})}})),s.type==="block"&&s.delta.length()){const u=o?o.offset(o.scroll)+c:this.length();ES(this,u,s.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(e){const n=this.path(e).pop();if(!n)return[null,-1];const[r,s]=n;return r instanceof Da?[r,s]:[null,-1]}line(e){return e===this.length()?this.line(e-1):this.descendant(eM,e)}lines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const r=(s,i,o)=>{let c=[],u=o;return s.children.forEachAt(i,o,(h,f,g)=>{eM(h)?c.push(h):h instanceof Pw&&(c=c.concat(r(h,f,u))),u-=g}),c};return r(this,e,n)}optimize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(e,n),e.length>0&&this.emitter.emit(_t.events.SCROLL_OPTIMIZE,e,n))}path(e){return super.path(e).slice(1)}remove(){}update(e){if(this.batch){Array.isArray(e)&&(this.batch=this.batch.concat(e));return}let n=_t.sources.USER;typeof e=="string"&&(n=e),Array.isArray(e)||(e=this.observer.takeRecords()),e=e.filter(r=>{let{target:s}=r;const i=this.find(s,!0);return i&&!tM(i)}),e.length>0&&this.emitter.emit(_t.events.SCROLL_BEFORE_UPDATE,n,e),super.update(e.concat([])),e.length>0&&this.emitter.emit(_t.events.SCROLL_UPDATE,n,e)}updateEmbedAt(e,n,r){const[s]=this.descendant(i=>i instanceof So,e);s&&s.statics.blotName===n&&tM(s)&&s.updateContent(r)}handleDragStart(e){e.preventDefault()}deltaToRenderBlocks(e){const n=[];let r=new Nt;return e.forEach(s=>{const i=s==null?void 0:s.insert;if(i)if(typeof i=="string"){const o=i.split(`
`);o.slice(0,-1).forEach(u=>{r.insert(u,s.attributes),n.push({type:"block",delta:r,attributes:s.attributes??{}}),r=new Nt});const c=o[o.length-1];c&&r.insert(c,s.attributes)}else{const o=Object.keys(i)[0];if(!o)return;this.query(o,Tt.INLINE)?r.push(s):(r.length()&&n.push({type:"block",delta:r,attributes:{}}),r=new Nt,n.push({type:"blockEmbed",key:o,value:i[o],attributes:s.attributes??{}}))}}),r.length()&&n.push({type:"block",delta:r,attributes:{}}),n}createBlock(e,n){let r;const s={};Object.entries(e).forEach(c=>{let[u,h]=c;this.query(u,Tt.BLOCK&Tt.BLOT)!=null?r=u:s[u]=h});const i=this.create(r||this.statics.defaultChild.blotName,r?e[r]:void 0);this.insertBefore(i,n||void 0);const o=i.length();return Object.entries(s).forEach(c=>{let[u,h]=c;i.formatAt(0,o,u,h)}),i}}be(Xf,"blotName","scroll"),be(Xf,"className","ql-editor"),be(Xf,"tagName","DIV"),be(Xf,"defaultChild",wa),be(Xf,"allowedChildren",[wa,So,Kh]);function ES(t,e,n){n.reduce((r,s)=>{const i=No.Op.length(s);let o=s.attributes||{};if(s.insert!=null){if(typeof s.insert=="string"){const c=s.insert;t.insertAt(r,c);const[u]=t.descendant(Da,r),h=Eo(u);o=No.AttributeMap.diff(h,o)||{}}else if(typeof s.insert=="object"){const c=Object.keys(s.insert)[0];if(c==null)return r;if(t.insertAt(r,c,s.insert[c]),t.scroll.query(c,Tt.INLINE)!=null){const[h]=t.descendant(Da,r),f=Eo(h);o=No.AttributeMap.diff(f,o)||{}}}}return Object.keys(o).forEach(c=>{t.formatAt(r,i,c,o[c])}),r+i},e)}const i3={scope:Tt.BLOCK,whitelist:["right","center","justify"]},u2e=new ec("align","align",i3),uH=new dl("align","ql-align",i3),dH=new Sd("align","text-align",i3);class hH extends Sd{value(e){let n=super.value(e);return n.startsWith("rgb(")?(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${n.split(",").map(s=>`00${parseInt(s,10).toString(16)}`.slice(-2)).join("")}`):n}}const d2e=new dl("color","ql-color",{scope:Tt.INLINE}),o3=new hH("color","color",{scope:Tt.INLINE}),h2e=new dl("background","ql-bg",{scope:Tt.INLINE}),l3=new hH("background","background-color",{scope:Tt.INLINE});class Yh extends Kh{static create(e){const n=super.create(e);return n.setAttribute("spellcheck","false"),n}code(e,n){return this.children.map(r=>r.length()<=1?"":r.domNode.innerText).join(`
`).slice(e,e+n)}html(e,n){return`<pre>
${Dw(this.code(e,n))}
</pre>`}}class Ma extends wa{static register(){Ke.register(Yh)}}be(Ma,"TAB","  ");class c3 extends tc{}c3.blotName="code";c3.tagName="CODE";Ma.blotName="code-block";Ma.className="ql-code-block";Ma.tagName="DIV";Yh.blotName="code-block-container";Yh.className="ql-code-block-container";Yh.tagName="DIV";Yh.allowedChildren=[Ma];Ma.allowedChildren=[ul,hl,Um];Ma.requiredContainer=Yh;const u3={scope:Tt.BLOCK,whitelist:["rtl"]},fH=new ec("direction","dir",u3),mH=new dl("direction","ql-direction",u3),pH=new Sd("direction","direction",u3),gH={scope:Tt.INLINE,whitelist:["serif","monospace"]},yH=new dl("font","ql-font",gH);class f2e extends Sd{value(e){return super.value(e).replace(/["']/g,"")}}const vH=new f2e("font","font-family",gH),xH=new dl("size","ql-size",{scope:Tt.INLINE,whitelist:["small","large","huge"]}),bH=new Sd("size","font-size",{scope:Tt.INLINE,whitelist:["10px","18px","32px"]}),m2e=lu("quill:keyboard"),p2e=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class Mw extends fl{static match(e,n){return["altKey","ctrlKey","metaKey","shiftKey"].some(r=>!!n[r]!==e[r]&&n[r]!==null)?!1:n.key===e.key||n.key===e.which}constructor(e,n){super(e,n),this.bindings={},Object.keys(this.options.bindings).forEach(r=>{this.options.bindings[r]&&this.addBinding(this.options.bindings[r])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=y2e(e);if(s==null){m2e.warn("Attempted to add invalid keyboard binding",s);return}typeof n=="function"&&(n={handler:n}),typeof r=="function"&&(r={handler:r}),(Array.isArray(s.key)?s.key:[s.key]).forEach(o=>{const c={...s,key:o,...n,...r};this.bindings[c.key]=this.bindings[c.key]||[],this.bindings[c.key].push(c)})}listen(){this.quill.root.addEventListener("keydown",e=>{if(e.defaultPrevented||e.isComposing||e.keyCode===229&&(e.key==="Enter"||e.key==="Backspace"))return;const s=(this.bindings[e.key]||[]).concat(this.bindings[e.which]||[]).filter(C=>Mw.match(e,C));if(s.length===0)return;const i=Ke.find(e.target,!0);if(i&&i.scroll!==this.quill.scroll)return;const o=this.quill.getSelection();if(o==null||!this.quill.hasFocus())return;const[c,u]=this.quill.getLine(o.index),[h,f]=this.quill.getLeaf(o.index),[g,p]=o.length===0?[h,f]:this.quill.getLeaf(o.index+o.length),y=h instanceof o1?h.value().slice(0,f):"",w=g instanceof o1?g.value().slice(p):"",E={collapsed:o.length===0,empty:o.length===0&&c.length()<=1,format:this.quill.getFormat(o),line:c,offset:u,prefix:y,suffix:w,event:e};s.some(C=>{if(C.collapsed!=null&&C.collapsed!==E.collapsed||C.empty!=null&&C.empty!==E.empty||C.offset!=null&&C.offset!==E.offset)return!1;if(Array.isArray(C.format)){if(C.format.every(O=>E.format[O]==null))return!1}else if(typeof C.format=="object"&&!Object.keys(C.format).every(O=>C.format[O]===!0?E.format[O]!=null:C.format[O]===!1?E.format[O]==null:$0(C.format[O],E.format[O])))return!1;return C.prefix!=null&&!C.prefix.test(E.prefix)||C.suffix!=null&&!C.suffix.test(E.suffix)?!1:C.handler.call(this,o,E,C)!==!0})&&e.preventDefault()})}handleBackspace(e,n){const r=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(n.prefix)?2:1;if(e.index===0||this.quill.getLength()<=1)return;let s={};const[i]=this.quill.getLine(e.index);let o=new Nt().retain(e.index-r).delete(r);if(n.offset===0){const[c]=this.quill.getLine(e.index-1);if(c&&!(c.statics.blotName==="block"&&c.length()<=1)){const h=i.formats(),f=this.quill.getFormat(e.index-1,1);if(s=No.AttributeMap.diff(h,f)||{},Object.keys(s).length>0){const g=new Nt().retain(e.index+i.length()-2).retain(1,s);o=o.compose(g)}}}this.quill.updateContents(o,Ke.sources.USER),this.quill.focus()}handleDelete(e,n){const r=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(n.suffix)?2:1;if(e.index>=this.quill.getLength()-r)return;let s={};const[i]=this.quill.getLine(e.index);let o=new Nt().retain(e.index).delete(r);if(n.offset>=i.length()-1){const[c]=this.quill.getLine(e.index+1);if(c){const u=i.formats(),h=this.quill.getFormat(e.index,1);s=No.AttributeMap.diff(u,h)||{},Object.keys(s).length>0&&(o=o.retain(c.length()-1).retain(1,s))}}this.quill.updateContents(o,Ke.sources.USER),this.quill.focus()}handleDeleteRange(e){d3({range:e,quill:this.quill}),this.quill.focus()}handleEnter(e,n){const r=Object.keys(n.format).reduce((i,o)=>(this.quill.scroll.query(o,Tt.BLOCK)&&!Array.isArray(n.format[o])&&(i[o]=n.format[o]),i),{}),s=new Nt().retain(e.index).delete(e.length).insert(`
`,r);this.quill.updateContents(s,Ke.sources.USER),this.quill.setSelection(e.index+1,Ke.sources.SILENT),this.quill.focus()}}const g2e={bindings:{bold:jS("bold"),italic:jS("italic"),underline:jS("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(t,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","+1",Ke.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(t,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","-1",Ke.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(t,e){e.format.indent!=null?this.quill.format("indent","-1",Ke.sources.USER):e.format.list!=null&&this.quill.format("list",!1,Ke.sources.USER)}},"indent code-block":nM(!0),"outdent code-block":nM(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(t){this.quill.deleteText(t.index-1,1,Ke.sources.USER)}},tab:{key:"Tab",handler(t,e){if(e.format.table)return!0;this.quill.history.cutoff();const n=new Nt().retain(t.index).delete(t.length).insert("	");return this.quill.updateContents(n,Ke.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index+1,Ke.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,Ke.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(t,e){const n={list:!1};e.format.indent&&(n.indent=!1),this.quill.formatLine(t.index,t.length,n,Ke.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(t){const[e,n]=this.quill.getLine(t.index),r={...e.formats(),list:"checked"},s=new Nt().retain(t.index).insert(`
`,r).retain(e.length()-n-1).retain(1,{list:"unchecked"});this.quill.updateContents(s,Ke.sources.USER),this.quill.setSelection(t.index+1,Ke.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(t,e){const[n,r]=this.quill.getLine(t.index),s=new Nt().retain(t.index).insert(`
`,e.format).retain(n.length()-r-1).retain(1,{header:null});this.quill.updateContents(s,Ke.sources.USER),this.quill.setSelection(t.index+1,Ke.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(t){const e=this.quill.getModule("table");if(e){const[n,r,s,i]=e.getTable(t),o=v2e(n,r,s,i);if(o==null)return;let c=n.offset();if(o<0){const u=new Nt().retain(c).insert(`
`);this.quill.updateContents(u,Ke.sources.USER),this.quill.setSelection(t.index+1,t.length,Ke.sources.SILENT)}else if(o>0){c+=n.length();const u=new Nt().retain(c).insert(`
`);this.quill.updateContents(u,Ke.sources.USER),this.quill.setSelection(c,Ke.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(t,e){const{event:n,line:r}=e,s=r.offset(this.quill.scroll);n.shiftKey?this.quill.setSelection(s-1,Ke.sources.USER):this.quill.setSelection(s+r.length(),Ke.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(t,e){if(this.quill.scroll.query("list")==null)return!0;const{length:n}=e.prefix,[r,s]=this.quill.getLine(t.index);if(s>n)return!0;let i;switch(e.prefix.trim()){case"[]":case"[ ]":i="unchecked";break;case"[x]":i="checked";break;case"-":case"*":i="bullet";break;default:i="ordered"}this.quill.insertText(t.index," ",Ke.sources.USER),this.quill.history.cutoff();const o=new Nt().retain(t.index-s).delete(n+1).retain(r.length()-2-s).retain(1,{list:i});return this.quill.updateContents(o,Ke.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index-n,Ke.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(t){const[e,n]=this.quill.getLine(t.index);let r=2,s=e;for(;s!=null&&s.length()<=1&&s.formats()["code-block"];)if(s=s.prev,r-=1,r<=0){const i=new Nt().retain(t.index+e.length()-n-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(i,Ke.sources.USER),this.quill.setSelection(t.index-1,Ke.sources.SILENT),!1}return!0}},"embed left":Rx("ArrowLeft",!1),"embed left shift":Rx("ArrowLeft",!0),"embed right":Rx("ArrowRight",!1),"embed right shift":Rx("ArrowRight",!0),"table down":rM(!1),"table up":rM(!0)}};Mw.DEFAULTS=g2e;function nM(t){return{key:"Tab",shiftKey:!t,format:{"code-block":!0},handler(e,n){let{event:r}=n;const s=this.quill.scroll.query("code-block"),{TAB:i}=s;if(e.length===0&&!r.shiftKey){this.quill.insertText(e.index,i,Ke.sources.USER),this.quill.setSelection(e.index+i.length,Ke.sources.SILENT);return}const o=e.length===0?this.quill.getLines(e.index,1):this.quill.getLines(e);let{index:c,length:u}=e;o.forEach((h,f)=>{t?(h.insertAt(0,i),f===0?c+=i.length:u+=i.length):h.domNode.textContent.startsWith(i)&&(h.deleteAt(0,i.length),f===0?c-=i.length:u-=i.length)}),this.quill.update(Ke.sources.USER),this.quill.setSelection(c,u,Ke.sources.SILENT)}}}function Rx(t,e){return{key:t,shiftKey:e,altKey:null,[t==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(r){let{index:s}=r;t==="ArrowRight"&&(s+=r.length+1);const[i]=this.quill.getLeaf(s);return i instanceof eo?(t==="ArrowLeft"?e?this.quill.setSelection(r.index-1,r.length+1,Ke.sources.USER):this.quill.setSelection(r.index-1,Ke.sources.USER):e?this.quill.setSelection(r.index,r.length+1,Ke.sources.USER):this.quill.setSelection(r.index+r.length+1,Ke.sources.USER),!1):!0}}}function jS(t){return{key:t[0],shortKey:!0,handler(e,n){this.quill.format(t,!n.format[t],Ke.sources.USER)}}}function rM(t){return{key:t?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(e,n){const r=t?"prev":"next",s=n.line,i=s.parent[r];if(i!=null){if(i.statics.blotName==="table-row"){let o=i.children.head,c=s;for(;c.prev!=null;)c=c.prev,o=o.next;const u=o.offset(this.quill.scroll)+Math.min(n.offset,o.length()-1);this.quill.setSelection(u,0,Ke.sources.USER)}}else{const o=s.table()[r];o!=null&&(t?this.quill.setSelection(o.offset(this.quill.scroll)+o.length()-1,0,Ke.sources.USER):this.quill.setSelection(o.offset(this.quill.scroll),0,Ke.sources.USER))}return!1}}}function y2e(t){if(typeof t=="string"||typeof t=="number")t={key:t};else if(typeof t=="object")t=fm(t);else return null;return t.shortKey&&(t[p2e]=t.shortKey,delete t.shortKey),t}function d3(t){let{quill:e,range:n}=t;const r=e.getLines(n);let s={};if(r.length>1){const i=r[0].formats(),o=r[r.length-1].formats();s=No.AttributeMap.diff(o,i)||{}}e.deleteText(n,Ke.sources.USER),Object.keys(s).length>0&&e.formatLine(n.index,1,s,Ke.sources.USER),e.setSelection(n.index,Ke.sources.SILENT)}function v2e(t,e,n,r){return e.prev==null&&e.next==null?n.prev==null&&n.next==null?r===0?-1:1:n.prev==null?-1:1:e.prev==null?-1:e.next==null?1:null}const x2e=/font-weight:\s*normal/,b2e=["P","OL","UL"],sM=t=>t&&b2e.includes(t.tagName),w2e=t=>{Array.from(t.querySelectorAll("br")).filter(e=>sM(e.previousElementSibling)&&sM(e.nextElementSibling)).forEach(e=>{var n;(n=e.parentNode)==null||n.removeChild(e)})},_2e=t=>{Array.from(t.querySelectorAll('b[style*="font-weight"]')).filter(e=>{var n;return(n=e.getAttribute("style"))==null?void 0:n.match(x2e)}).forEach(e=>{var r;const n=t.createDocumentFragment();n.append(...e.childNodes),(r=e.parentNode)==null||r.replaceChild(n,e)})};function E2e(t){t.querySelector('[id^="docs-internal-guid-"]')&&(_2e(t),w2e(t))}const j2e=/\bmso-list:[^;]*ignore/i,S2e=/\bmso-list:[^;]*\bl(\d+)/i,C2e=/\bmso-list:[^;]*\blevel(\d+)/i,N2e=(t,e)=>{const n=t.getAttribute("style"),r=n==null?void 0:n.match(S2e);if(!r)return null;const s=Number(r[1]),i=n==null?void 0:n.match(C2e),o=i?Number(i[1]):1,c=new RegExp(`@list l${s}:level${o}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),u=e.match(c),h=u&&u[1]==="bullet"?"bullet":"ordered";return{id:s,indent:o,type:h,element:t}},T2e=t=>{var o,c;const e=Array.from(t.querySelectorAll("[style*=mso-list]")),n=[],r=[];e.forEach(u=>{(u.getAttribute("style")||"").match(j2e)?n.push(u):r.push(u)}),n.forEach(u=>{var h;return(h=u.parentNode)==null?void 0:h.removeChild(u)});const s=t.documentElement.innerHTML,i=r.map(u=>N2e(u,s)).filter(u=>u);for(;i.length;){const u=[];let h=i.shift();for(;h;)u.push(h),h=i.length&&((o=i[0])==null?void 0:o.element)===h.element.nextElementSibling&&i[0].id===h.id?i.shift():null;const f=document.createElement("ul");u.forEach(y=>{const w=document.createElement("li");w.setAttribute("data-list",y.type),y.indent>1&&w.setAttribute("class",`ql-indent-${y.indent-1}`),w.innerHTML=y.element.innerHTML,f.appendChild(w)});const g=(c=u[0])==null?void 0:c.element,{parentNode:p}=g??{};g&&(p==null||p.replaceChild(f,g)),u.slice(1).forEach(y=>{let{element:w}=y;p==null||p.removeChild(w)})}};function A2e(t){t.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&T2e(t)}const L2e=[A2e,E2e],R2e=t=>{t.documentElement&&L2e.forEach(e=>{e(t)})},k2e=lu("quill:clipboard"),O2e=[[Node.TEXT_NODE,H2e],[Node.TEXT_NODE,iM],["br",F2e],[Node.ELEMENT_NODE,iM],[Node.ELEMENT_NODE,M2e],[Node.ELEMENT_NODE,D2e],[Node.ELEMENT_NODE,$2e],["li",z2e],["ol, ul",q2e],["pre",B2e],["tr",V2e],["b",SS("bold")],["i",SS("italic")],["strike",SS("strike")],["style",U2e]],I2e=[u2e,fH].reduce((t,e)=>(t[e.keyName]=e,t),{}),aM=[dH,l3,o3,pH,vH,bH].reduce((t,e)=>(t[e.keyName]=e,t),{});class wH extends fl{constructor(e,n){super(e,n),this.quill.root.addEventListener("copy",r=>this.onCaptureCopy(r,!1)),this.quill.root.addEventListener("cut",r=>this.onCaptureCopy(r,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],O2e.concat(this.options.matchers??[]).forEach(r=>{let[s,i]=r;this.addMatcher(s,i)})}addMatcher(e,n){this.matchers.push([e,n])}convert(e){let{html:n,text:r}=e,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(s[Ma.blotName])return new Nt().insert(r||"",{[Ma.blotName]:s[Ma.blotName]});if(!n)return new Nt().insert(r||"",s);const i=this.convertHTML(n);return zy(i,`
`)&&(i.ops[i.ops.length-1].attributes==null||s.table)?i.compose(new Nt().retain(i.length()-1).delete(1)):i}normalizeHTML(e){R2e(e)}convertHTML(e){const n=new DOMParser().parseFromString(e,"text/html");this.normalizeHTML(n);const r=n.body,s=new WeakMap,[i,o]=this.prepareMatching(r,s);return h3(this.quill.scroll,r,i,o,s)}dangerouslyPasteHTML(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ke.sources.API;if(typeof e=="string"){const s=this.convert({html:e,text:""});this.quill.setContents(s,n),this.quill.setSelection(0,Ke.sources.SILENT)}else{const s=this.convert({html:n,text:""});this.quill.updateContents(new Nt().retain(e).concat(s),r),this.quill.setSelection(e+s.length(),Ke.sources.SILENT)}}onCaptureCopy(e){var o,c;let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.defaultPrevented)return;e.preventDefault();const[r]=this.quill.selection.getRange();if(r==null)return;const{html:s,text:i}=this.onCopy(r,n);(o=e.clipboardData)==null||o.setData("text/plain",i),(c=e.clipboardData)==null||c.setData("text/html",s),n&&d3({range:r,quill:this.quill})}normalizeURIList(e){return e.split(/\r?\n/).filter(n=>n[0]!=="#").join(`
`)}onCapturePaste(e){var o,c,u,h,f;if(e.defaultPrevented||!this.quill.isEnabled())return;e.preventDefault();const n=this.quill.getSelection(!0);if(n==null)return;const r=(o=e.clipboardData)==null?void 0:o.getData("text/html");let s=(c=e.clipboardData)==null?void 0:c.getData("text/plain");if(!r&&!s){const g=(u=e.clipboardData)==null?void 0:u.getData("text/uri-list");g&&(s=this.normalizeURIList(g))}const i=Array.from(((h=e.clipboardData)==null?void 0:h.files)||[]);if(!r&&i.length>0){this.quill.uploader.upload(n,i);return}if(r&&i.length>0){const g=new DOMParser().parseFromString(r,"text/html");if(g.body.childElementCount===1&&((f=g.body.firstElementChild)==null?void 0:f.tagName)==="IMG"){this.quill.uploader.upload(n,i);return}}this.onPaste(n,{html:r,text:s})}onCopy(e){const n=this.quill.getText(e);return{html:this.quill.getSemanticHTML(e),text:n}}onPaste(e,n){let{text:r,html:s}=n;const i=this.quill.getFormat(e.index),o=this.convert({text:r,html:s},i);k2e.log("onPaste",o,{text:r,html:s});const c=new Nt().retain(e.index).delete(e.length).concat(o);this.quill.updateContents(c,Ke.sources.USER),this.quill.setSelection(c.length()-e.length,Ke.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(e,n){const r=[],s=[];return this.matchers.forEach(i=>{const[o,c]=i;switch(o){case Node.TEXT_NODE:s.push(c);break;case Node.ELEMENT_NODE:r.push(c);break;default:Array.from(e.querySelectorAll(o)).forEach(u=>{if(n.has(u)){const h=n.get(u);h==null||h.push(c)}else n.set(u,[c])});break}}),[r,s]}}be(wH,"DEFAULTS",{matchers:[]});function Xh(t,e,n,r){return r.query(e)?t.reduce((s,i)=>{if(!i.insert)return s;if(i.attributes&&i.attributes[e])return s.push(i);const o=n?{[e]:n}:{};return s.insert(i.insert,{...o,...i.attributes})},new Nt):t}function zy(t,e){let n="";for(let r=t.ops.length-1;r>=0&&n.length<e.length;--r){const s=t.ops[r];if(typeof s.insert!="string")break;n=s.insert+n}return n.slice(-1*e.length)===e}function Ku(t,e){if(!(t instanceof Element))return!1;const n=e.query(t);return n&&n.prototype instanceof eo?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(t.tagName.toLowerCase())}function P2e(t,e){return t.previousElementSibling&&t.nextElementSibling&&!Ku(t.previousElementSibling,e)&&!Ku(t.nextElementSibling,e)}const kx=new WeakMap;function _H(t){return t==null?!1:(kx.has(t)||(t.tagName==="PRE"?kx.set(t,!0):kx.set(t,_H(t.parentNode))),kx.get(t))}function h3(t,e,n,r,s){return e.nodeType===e.TEXT_NODE?r.reduce((i,o)=>o(e,i,t),new Nt):e.nodeType===e.ELEMENT_NODE?Array.from(e.childNodes||[]).reduce((i,o)=>{let c=h3(t,o,n,r,s);return o.nodeType===e.ELEMENT_NODE&&(c=n.reduce((u,h)=>h(o,u,t),c),c=(s.get(o)||[]).reduce((u,h)=>h(o,u,t),c)),i.concat(c)},new Nt):new Nt}function SS(t){return(e,n,r)=>Xh(n,t,!0,r)}function D2e(t,e,n){const r=ec.keys(t),s=dl.keys(t),i=Sd.keys(t),o={};return r.concat(s).concat(i).forEach(c=>{let u=n.query(c,Tt.ATTRIBUTE);u!=null&&(o[u.attrName]=u.value(t),o[u.attrName])||(u=I2e[c],u!=null&&(u.attrName===c||u.keyName===c)&&(o[u.attrName]=u.value(t)||void 0),u=aM[c],u!=null&&(u.attrName===c||u.keyName===c)&&(u=aM[c],o[u.attrName]=u.value(t)||void 0))}),Object.entries(o).reduce((c,u)=>{let[h,f]=u;return Xh(c,h,f,n)},e)}function M2e(t,e,n){const r=n.query(t);if(r==null)return e;if(r.prototype instanceof eo){const s={},i=r.value(t);if(i!=null)return s[r.blotName]=i,new Nt().insert(s,r.formats(t,n))}else if(r.prototype instanceof V0&&!zy(e,`
`)&&e.insert(`
`),"blotName"in r&&"formats"in r&&typeof r.formats=="function")return Xh(e,r.blotName,r.formats(t,n),n);return e}function F2e(t,e){return zy(e,`
`)||e.insert(`
`),e}function B2e(t,e,n){const r=n.query("code-block"),s=r&&"formats"in r&&typeof r.formats=="function"?r.formats(t,n):!0;return Xh(e,"code-block",s,n)}function U2e(){return new Nt}function z2e(t,e,n){const r=n.query(t);if(r==null||r.blotName!=="list"||!zy(e,`
`))return e;let s=-1,i=t.parentNode;for(;i!=null;)["OL","UL"].includes(i.tagName)&&(s+=1),i=i.parentNode;return s<=0?e:e.reduce((o,c)=>c.insert?c.attributes&&typeof c.attributes.indent=="number"?o.push(c):o.insert(c.insert,{indent:s,...c.attributes||{}}):o,new Nt)}function q2e(t,e,n){const r=t;let s=r.tagName==="OL"?"ordered":"bullet";const i=r.getAttribute("data-checked");return i&&(s=i==="true"?"checked":"unchecked"),Xh(e,"list",s,n)}function iM(t,e,n){if(!zy(e,`
`)){if(Ku(t,n)&&(t.childNodes.length>0||t instanceof HTMLParagraphElement))return e.insert(`
`);if(e.length()>0&&t.nextSibling){let r=t.nextSibling;for(;r!=null;){if(Ku(r,n))return e.insert(`
`);const s=n.query(r);if(s&&s.prototype instanceof So)return e.insert(`
`);r=r.firstChild}}}return e}function $2e(t,e,n){var i;const r={},s=t.style||{};return s.fontStyle==="italic"&&(r.italic=!0),s.textDecoration==="underline"&&(r.underline=!0),s.textDecoration==="line-through"&&(r.strike=!0),((i=s.fontWeight)!=null&&i.startsWith("bold")||parseInt(s.fontWeight,10)>=700)&&(r.bold=!0),e=Object.entries(r).reduce((o,c)=>{let[u,h]=c;return Xh(o,u,h,n)},e),parseFloat(s.textIndent||0)>0?new Nt().insert("	").concat(e):e}function V2e(t,e,n){var s,i;const r=((s=t.parentElement)==null?void 0:s.tagName)==="TABLE"?t.parentElement:(i=t.parentElement)==null?void 0:i.parentElement;if(r!=null){const c=Array.from(r.querySelectorAll("tr")).indexOf(t)+1;return Xh(e,"table",c,n)}return e}function H2e(t,e,n){var s;let r=t.data;if(((s=t.parentElement)==null?void 0:s.tagName)==="O:P")return e.insert(r.trim());if(!_H(t)){if(r.trim().length===0&&r.includes(`
`)&&!P2e(t,n))return e;r=r.replace(/[^\S\u00a0]/g," "),r=r.replace(/ {2,}/g," "),(t.previousSibling==null&&t.parentElement!=null&&Ku(t.parentElement,n)||t.previousSibling instanceof Element&&Ku(t.previousSibling,n))&&(r=r.replace(/^ /,"")),(t.nextSibling==null&&t.parentElement!=null&&Ku(t.parentElement,n)||t.nextSibling instanceof Element&&Ku(t.nextSibling,n))&&(r=r.replace(/ $/,"")),r=r.replaceAll(""," ")}return e.insert(r)}class EH extends fl{constructor(n,r){super(n,r);be(this,"lastRecorded",0);be(this,"ignoreChange",!1);be(this,"stack",{undo:[],redo:[]});be(this,"currentRange",null);this.quill.on(Ke.events.EDITOR_CHANGE,(s,i,o,c)=>{s===Ke.events.SELECTION_CHANGE?i&&c!==Ke.sources.SILENT&&(this.currentRange=i):s===Ke.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||c===Ke.sources.USER?this.record(i,o):this.transform(i)),this.currentRange=tT(this.currentRange,i))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",s=>{s.inputType==="historyUndo"?(this.undo(),s.preventDefault()):s.inputType==="historyRedo"&&(this.redo(),s.preventDefault())})}change(n,r){if(this.stack[n].length===0)return;const s=this.stack[n].pop();if(!s)return;const i=this.quill.getContents(),o=s.delta.invert(i);this.stack[r].push({delta:o,range:tT(s.range,o)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(s.delta,Ke.sources.USER),this.ignoreChange=!1,this.restoreSelection(s)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(n,r){if(n.ops.length===0)return;this.stack.redo=[];let s=n.invert(r),i=this.currentRange;const o=Date.now();if(this.lastRecorded+this.options.delay>o&&this.stack.undo.length>0){const c=this.stack.undo.pop();c&&(s=s.compose(c.delta),i=c.range)}else this.lastRecorded=o;s.length()!==0&&(this.stack.undo.push({delta:s,range:i}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(n){oM(this.stack.undo,n),oM(this.stack.redo,n)}undo(){this.change("undo","redo")}restoreSelection(n){if(n.range)this.quill.setSelection(n.range,Ke.sources.USER);else{const r=W2e(this.quill.scroll,n.delta);this.quill.setSelection(r,Ke.sources.USER)}}}be(EH,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function oM(t,e){let n=e;for(let r=t.length-1;r>=0;r-=1){const s=t[r];t[r]={delta:n.transform(s.delta,!0),range:s.range&&tT(s.range,n)},n=s.delta.transform(n),t[r].delta.length()===0&&t.splice(r,1)}}function G2e(t,e){const n=e.ops[e.ops.length-1];return n==null?!1:n.insert!=null?typeof n.insert=="string"&&n.insert.endsWith(`
`):n.attributes!=null?Object.keys(n.attributes).some(r=>t.query(r,Tt.BLOCK)!=null):!1}function W2e(t,e){const n=e.reduce((s,i)=>s+(i.delete||0),0);let r=e.length()-n;return G2e(t,e)&&(r-=1),r}function tT(t,e){if(!t)return t;const n=e.transformPosition(t.index),r=e.transformPosition(t.index+t.length);return{index:n,length:r-n}}class jH extends fl{constructor(e,n){super(e,n),e.root.addEventListener("drop",r=>{var o;r.preventDefault();let s=null;if(document.caretRangeFromPoint)s=document.caretRangeFromPoint(r.clientX,r.clientY);else if(document.caretPositionFromPoint){const c=document.caretPositionFromPoint(r.clientX,r.clientY);s=document.createRange(),s.setStart(c.offsetNode,c.offset),s.setEnd(c.offsetNode,c.offset)}const i=s&&e.selection.normalizeNative(s);if(i){const c=e.selection.normalizedToRange(i);(o=r.dataTransfer)!=null&&o.files&&this.upload(c,r.dataTransfer.files)}})}upload(e,n){const r=[];Array.from(n).forEach(s=>{var i;s&&((i=this.options.mimetypes)!=null&&i.includes(s.type))&&r.push(s)}),r.length>0&&this.options.handler.call(this,e,r)}}jH.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(t,e){if(!this.quill.scroll.query("image"))return;const n=e.map(r=>new Promise(s=>{const i=new FileReader;i.onload=()=>{s(i.result)},i.readAsDataURL(r)}));Promise.all(n).then(r=>{const s=r.reduce((i,o)=>i.insert({image:o}),new Nt().retain(t.index).delete(t.length));this.quill.updateContents(s,_t.sources.USER),this.quill.setSelection(t.index+r.length,_t.sources.SILENT)})}};const K2e=["insertText","insertReplacementText"];class Y2e extends fl{constructor(e,n){super(e,n),e.root.addEventListener("beforeinput",r=>{this.handleBeforeInput(r)}),/Android/i.test(navigator.userAgent)||e.on(Ke.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(e){d3({range:e,quill:this.quill})}replaceText(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(e.length===0)return!1;if(n){const r=this.quill.getFormat(e.index,1);this.deleteRange(e),this.quill.updateContents(new Nt().retain(e.index).insert(n,r),Ke.sources.USER)}else this.deleteRange(e);return this.quill.setSelection(e.index+n.length,0,Ke.sources.SILENT),!0}handleBeforeInput(e){if(this.quill.composition.isComposing||e.defaultPrevented||!K2e.includes(e.inputType))return;const n=e.getTargetRanges?e.getTargetRanges()[0]:null;if(!n||n.collapsed===!0)return;const r=X2e(e);if(r==null)return;const s=this.quill.selection.normalizeNative(n),i=s?this.quill.selection.normalizedToRange(s):null;i&&this.replaceText(i,r)&&e.preventDefault()}handleCompositionStart(){const e=this.quill.getSelection();e&&this.replaceText(e)}}function X2e(t){var e;return typeof t.data=="string"?t.data:(e=t.dataTransfer)!=null&&e.types.includes("text/plain")?t.dataTransfer.getData("text/plain"):null}const J2e=/Mac/i.test(navigator.platform),Q2e=100,Z2e=t=>!!(t.key==="ArrowLeft"||t.key==="ArrowRight"||t.key==="ArrowUp"||t.key==="ArrowDown"||t.key==="Home"||J2e&&t.key==="a"&&t.ctrlKey===!0);class e_e extends fl{constructor(n,r){super(n,r);be(this,"isListening",!1);be(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(n,r){let{line:s,event:i}=r;if(!(s instanceof il)||!s.uiNode)return!0;const o=getComputedStyle(s.domNode).direction==="rtl";return o&&i.key!=="ArrowRight"||!o&&i.key!=="ArrowLeft"?!0:(this.quill.setSelection(n.index-1,n.length+(i.shiftKey?1:0),Ke.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",n=>{!n.defaultPrevented&&Z2e(n)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+Q2e,this.isListening)return;this.isListening=!0;const n=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",n,{once:!0})}handleSelectionChange(){const n=document.getSelection();if(!n)return;const r=n.getRangeAt(0);if(r.collapsed!==!0||r.startOffset!==0)return;const s=this.quill.scroll.find(r.startContainer);if(!(s instanceof il)||!s.uiNode)return;const i=document.createRange();i.setStartAfter(s.uiNode),i.setEndAfter(s.uiNode),n.removeAllRanges(),n.addRange(i)}}Ke.register({"blots/block":wa,"blots/block/embed":So,"blots/break":hl,"blots/container":Kh,"blots/cursor":Um,"blots/embed":a3,"blots/inline":tc,"blots/scroll":Xf,"blots/text":ul,"modules/clipboard":wH,"modules/history":EH,"modules/keyboard":Mw,"modules/uploader":jH,"modules/input":Y2e,"modules/uiNode":e_e});class t_e extends dl{add(e,n){let r=0;if(n==="+1"||n==="-1"){const s=this.value(e)||0;r=n==="+1"?s+1:s-1}else typeof n=="number"&&(r=n);return r===0?(this.remove(e),!0):super.add(e,r.toString())}canAdd(e,n){return super.canAdd(e,n)||super.canAdd(e,parseInt(n,10))}value(e){return parseInt(super.value(e),10)||void 0}}const n_e=new t_e("indent","ql-indent",{scope:Tt.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class nT extends wa{}be(nT,"blotName","blockquote"),be(nT,"tagName","blockquote");class rT extends wa{static formats(e){return this.tagName.indexOf(e.tagName)+1}}be(rT,"blotName","header"),be(rT,"tagName",["H1","H2","H3","H4","H5","H6"]);class qy extends Kh{}qy.blotName="list-container";qy.tagName="OL";class $y extends wa{static create(e){const n=super.create();return n.setAttribute("data-list",e),n}static formats(e){return e.getAttribute("data-list")||void 0}static register(){Ke.register(qy)}constructor(e,n){super(e,n);const r=n.ownerDocument.createElement("span"),s=i=>{if(!e.isEnabled())return;const o=this.statics.formats(n,e);o==="checked"?(this.format("list","unchecked"),i.preventDefault()):o==="unchecked"&&(this.format("list","checked"),i.preventDefault())};r.addEventListener("mousedown",s),r.addEventListener("touchstart",s),this.attachUI(r)}format(e,n){e===this.statics.blotName&&n?this.domNode.setAttribute("data-list",n):super.format(e,n)}}$y.blotName="list";$y.tagName="LI";qy.allowedChildren=[$y];$y.requiredContainer=qy;class G0 extends tc{static create(){return super.create()}static formats(){return!0}optimize(e){super.optimize(e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}be(G0,"blotName","bold"),be(G0,"tagName",["STRONG","B"]);class sT extends G0{}be(sT,"blotName","italic"),be(sT,"tagName",["EM","I"]);class Yu extends tc{static create(e){const n=super.create(e);return n.setAttribute("href",this.sanitize(e)),n.setAttribute("rel","noopener noreferrer"),n.setAttribute("target","_blank"),n}static formats(e){return e.getAttribute("href")}static sanitize(e){return SH(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}format(e,n){e!==this.statics.blotName||!n?super.format(e,n):this.domNode.setAttribute("href",this.constructor.sanitize(n))}}be(Yu,"blotName","link"),be(Yu,"tagName","A"),be(Yu,"SANITIZED_URL","about:blank"),be(Yu,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);function SH(t,e){const n=document.createElement("a");n.href=t;const r=n.href.slice(0,n.href.indexOf(":"));return e.indexOf(r)>-1}class aT extends tc{static create(e){return e==="super"?document.createElement("sup"):e==="sub"?document.createElement("sub"):super.create(e)}static formats(e){if(e.tagName==="SUB")return"sub";if(e.tagName==="SUP")return"super"}}be(aT,"blotName","script"),be(aT,"tagName",["SUB","SUP"]);class iT extends G0{}be(iT,"blotName","strike"),be(iT,"tagName",["S","STRIKE"]);class oT extends tc{}be(oT,"blotName","underline"),be(oT,"tagName","U");class db extends a3{static create(e){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const n=super.create(e);return typeof e=="string"&&(window.katex.render(e,n,{throwOnError:!1,errorColor:"#f00"}),n.setAttribute("data-value",e)),n}static value(e){return e.getAttribute("data-value")}html(){const{formula:e}=this.value();return`<span>${e}</span>`}}be(db,"blotName","formula"),be(db,"className","ql-formula"),be(db,"tagName","SPAN");const lM=["alt","height","width"];var Wx;let r_e=(Wx=class extends eo{static create(e){const n=super.create(e);return typeof e=="string"&&n.setAttribute("src",this.sanitize(e)),n}static formats(e){return lM.reduce((n,r)=>(e.hasAttribute(r)&&(n[r]=e.getAttribute(r)),n),{})}static match(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}static sanitize(e){return SH(e,["http","https","data"])?e:"//:0"}static value(e){return e.getAttribute("src")}format(e,n){lM.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):super.format(e,n)}},be(Wx,"blotName","image"),be(Wx,"tagName","IMG"),Wx);const cM=["height","width"];class hb extends So{static create(e){const n=super.create(e);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen","true"),n.setAttribute("src",this.sanitize(e)),n}static formats(e){return cM.reduce((n,r)=>(e.hasAttribute(r)&&(n[r]=e.getAttribute(r)),n),{})}static sanitize(e){return Yu.sanitize(e)}static value(e){return e.getAttribute("src")}format(e,n){cM.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):super.format(e,n)}html(){const{video:e}=this.value();return`<a href="${e}">${e}</a>`}}be(hb,"blotName","video"),be(hb,"className","ql-video"),be(hb,"tagName","IFRAME");const Vg=new dl("code-token","hljs",{scope:Tt.INLINE});class Qc extends tc{static formats(e,n){for(;e!=null&&e!==n.domNode;){if(e.classList&&e.classList.contains(Ma.className))return super.formats(e,n);e=e.parentNode}}constructor(e,n,r){super(e,n,r),Vg.add(this.domNode,r)}format(e,n){e!==Qc.blotName?super.format(e,n):n?Vg.add(this.domNode,n):(Vg.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),Vg.value(this.domNode)||this.unwrap()}}Qc.blotName="code-token";Qc.className="ql-token";class jo extends Ma{static create(e){const n=super.create(e);return typeof e=="string"&&n.setAttribute("data-language",e),n}static formats(e){return e.getAttribute("data-language")||"plain"}static register(){}format(e,n){e===this.statics.blotName&&n?this.domNode.setAttribute("data-language",n):super.format(e,n)}replaceWith(e,n){return this.formatAt(0,this.length(),Qc.blotName,!1),super.replaceWith(e,n)}}class o0 extends Yh{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(e,n){e===jo.blotName&&(this.forceNext=!0,this.children.forEach(r=>{r.format(e,n)}))}formatAt(e,n,r,s){r===jo.blotName&&(this.forceNext=!0),super.formatAt(e,n,r,s)}highlight(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const s=`${Array.from(this.domNode.childNodes).filter(o=>o!==this.uiNode).map(o=>o.textContent).join(`
`)}
`,i=jo.formats(this.children.head.domNode);if(n||this.forceNext||this.cachedText!==s){if(s.trim().length>0||this.cachedText==null){const o=this.children.reduce((u,h)=>u.concat(lH(h,!1)),new Nt),c=e(s,i);o.diff(c).reduce((u,h)=>{let{retain:f,attributes:g}=h;return f?(g&&Object.keys(g).forEach(p=>{[jo.blotName,Qc.blotName].includes(p)&&this.formatAt(u,f,p,g[p])}),u+f):u},0)}this.cachedText=s,this.forceNext=!1}}html(e,n){const[r]=this.children.find(e);return`<pre data-language="${r?jo.formats(r.domNode):"plain"}">
${Dw(this.code(e,n))}
</pre>`}optimize(e){if(super.optimize(e),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const n=jo.formats(this.children.head.domNode);n!==this.uiNode.value&&(this.uiNode.value=n)}}}o0.allowedChildren=[jo];jo.requiredContainer=o0;jo.allowedChildren=[Qc,Um,ul,hl];const s_e=(t,e,n)=>{if(typeof t.versionString=="string"){const r=t.versionString.split(".")[0];if(parseInt(r,10)>=11)return t.highlight(n,{language:e}).value}return t.highlight(e,n).value};class CH extends fl{static register(){Ke.register(Qc,!0),Ke.register(jo,!0),Ke.register(o0,!0)}constructor(e,n){if(super(e,n),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((r,s)=>{let{key:i}=s;return r[i]=!0,r},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(Ke.events.SCROLL_BLOT_MOUNT,e=>{if(!(e instanceof o0))return;const n=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(r=>{let{key:s,label:i}=r;const o=n.ownerDocument.createElement("option");o.textContent=i,o.setAttribute("value",s),n.appendChild(o)}),n.addEventListener("change",()=>{e.format(jo.blotName,n.value),this.quill.root.focus(),this.highlight(e,!0)}),e.uiNode==null&&(e.attachUI(n),e.children.head&&(n.value=jo.formats(e.children.head.domNode)))})}initTimer(){let e=null;this.quill.on(Ke.events.SCROLL_OPTIMIZE,()=>{e&&clearTimeout(e),e=setTimeout(()=>{this.highlight(),e=null},this.options.interval)})}highlight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(Ke.sources.USER);const r=this.quill.getSelection();(e==null?this.quill.scroll.descendants(o0):[e]).forEach(i=>{i.highlight(this.highlightBlot,n)}),this.quill.update(Ke.sources.SILENT),r!=null&&this.quill.setSelection(r,Ke.sources.SILENT)}highlightBlot(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(n=this.languages[n]?n:"plain",n==="plain")return Dw(e).split(`
`).reduce((s,i,o)=>(o!==0&&s.insert(`
`,{[Ma.blotName]:n}),s.insert(i)),new Nt);const r=this.quill.root.ownerDocument.createElement("div");return r.classList.add(Ma.className),r.innerHTML=s_e(this.options.hljs,n,e),h3(this.quill.scroll,r,[(s,i)=>{const o=Vg.value(s);return o?i.compose(new Nt().retain(i.length(),{[Qc.blotName]:o})):i}],[(s,i)=>s.data.split(`
`).reduce((o,c,u)=>(u!==0&&o.insert(`
`,{[Ma.blotName]:n}),o.insert(c)),i)],new WeakMap)}}CH.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const w0=class w0 extends wa{static create(e){const n=super.create();return e?n.setAttribute("data-row",e):n.setAttribute("data-row",f3()),n}static formats(e){if(e.hasAttribute("data-row"))return e.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(e,n){e===w0.blotName&&n?this.domNode.setAttribute("data-row",n):super.format(e,n)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};be(w0,"blotName","table"),be(w0,"tagName","TD");let nl=w0;class Zc extends Kh{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const e=this.children.head.formats(),n=this.children.tail.formats(),r=this.next.children.head.formats(),s=this.next.children.tail.formats();return e.table===n.table&&e.table===r.table&&e.table===s.table}return!1}optimize(e){super.optimize(e),this.children.forEach(n=>{if(n.next==null)return;const r=n.formats(),s=n.next.formats();if(r.table!==s.table){const i=this.splitAfter(n);i&&i.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}be(Zc,"blotName","table-row"),be(Zc,"tagName","TR");class Gl extends Kh{}be(Gl,"blotName","table-body"),be(Gl,"tagName","TBODY");class qm extends Kh{balanceCells(){const e=this.descendants(Zc),n=e.reduce((r,s)=>Math.max(s.children.length,r),0);e.forEach(r=>{new Array(n-r.children.length).fill(0).forEach(()=>{let s;r.children.head!=null&&(s=nl.formats(r.children.head.domNode));const i=this.scroll.create(nl.blotName,s);r.appendChild(i),i.optimize()})})}cells(e){return this.rows().map(n=>n.children.at(e))}deleteColumn(e){const[n]=this.descendant(Gl);n==null||n.children.head==null||n.children.forEach(r=>{const s=r.children.at(e);s!=null&&s.remove()})}insertColumn(e){const[n]=this.descendant(Gl);n==null||n.children.head==null||n.children.forEach(r=>{const s=r.children.at(e),i=nl.formats(r.children.head.domNode),o=this.scroll.create(nl.blotName,i);r.insertBefore(o,s)})}insertRow(e){const[n]=this.descendant(Gl);if(n==null||n.children.head==null)return;const r=f3(),s=this.scroll.create(Zc.blotName);n.children.head.children.forEach(()=>{const o=this.scroll.create(nl.blotName,r);s.appendChild(o)});const i=n.children.at(e);n.insertBefore(s,i)}rows(){const e=this.children.head;return e==null?[]:e.children.map(n=>n)}}be(qm,"blotName","table-container"),be(qm,"tagName","TABLE");qm.allowedChildren=[Gl];Gl.requiredContainer=qm;Gl.allowedChildren=[Zc];Zc.requiredContainer=Gl;Zc.allowedChildren=[nl];nl.requiredContainer=Zc;function f3(){return`row-${Math.random().toString(36).slice(2,6)}`}class a_e extends fl{static register(){Ke.register(nl),Ke.register(Zc),Ke.register(Gl),Ke.register(qm)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(qm).forEach(e=>{e.balanceCells()})}deleteColumn(){const[e,,n]=this.getTable();n!=null&&(e.deleteColumn(n.cellOffset()),this.quill.update(Ke.sources.USER))}deleteRow(){const[,e]=this.getTable();e!=null&&(e.remove(),this.quill.update(Ke.sources.USER))}deleteTable(){const[e]=this.getTable();if(e==null)return;const n=e.offset();e.remove(),this.quill.update(Ke.sources.USER),this.quill.setSelection(n,Ke.sources.SILENT)}getTable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(e==null)return[null,null,null,-1];const[n,r]=this.quill.getLine(e.index);if(n==null||n.statics.blotName!==nl.blotName)return[null,null,null,-1];const s=n.parent;return[s.parent.parent,s,n,r]}insertColumn(e){const n=this.quill.getSelection();if(!n)return;const[r,s,i]=this.getTable(n);if(i==null)return;const o=i.cellOffset();r.insertColumn(o+e),this.quill.update(Ke.sources.USER);let c=s.rowOffset();e===0&&(c+=1),this.quill.setSelection(n.index+c,n.length,Ke.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(e){const n=this.quill.getSelection();if(!n)return;const[r,s,i]=this.getTable(n);if(i==null)return;const o=s.rowOffset();r.insertRow(o+e),this.quill.update(Ke.sources.USER),e>0?this.quill.setSelection(n,Ke.sources.SILENT):this.quill.setSelection(n.index+s.children.length,n.length,Ke.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(e,n){const r=this.quill.getSelection();if(r==null)return;const s=new Array(e).fill(0).reduce(i=>{const o=new Array(n).fill(`
`).join("");return i.insert(o,{table:f3()})},new Nt().retain(r.index));this.quill.updateContents(s,Ke.sources.USER),this.quill.setSelection(r.index,Ke.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(Ke.events.SCROLL_OPTIMIZE,e=>{e.some(n=>["TD","TR","TBODY","TABLE"].includes(n.target.tagName)?(this.quill.once(Ke.events.TEXT_CHANGE,(r,s,i)=>{i===Ke.sources.USER&&this.balanceTables()}),!0):!1)})}}const uM=lu("quill:toolbar");class m3 extends fl{constructor(e,n){var r,s;if(super(e,n),Array.isArray(this.options.container)){const i=document.createElement("div");i.setAttribute("role","toolbar"),i_e(i,this.options.container),(s=(r=e.container)==null?void 0:r.parentNode)==null||s.insertBefore(i,e.container),this.container=i}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){uM.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(i=>{var c;const o=(c=this.options.handlers)==null?void 0:c[i];o&&this.addHandler(i,o)}),Array.from(this.container.querySelectorAll("button, select")).forEach(i=>{this.attach(i)}),this.quill.on(Ke.events.EDITOR_CHANGE,()=>{const[i]=this.quill.selection.getRange();this.update(i)})}addHandler(e,n){this.handlers[e]=n}attach(e){let n=Array.from(e.classList).find(s=>s.indexOf("ql-")===0);if(!n)return;if(n=n.slice(3),e.tagName==="BUTTON"&&e.setAttribute("type","button"),this.handlers[n]==null&&this.quill.scroll.query(n)==null){uM.warn("ignoring attaching to nonexistent format",n,e);return}const r=e.tagName==="SELECT"?"change":"click";e.addEventListener(r,s=>{let i;if(e.tagName==="SELECT"){if(e.selectedIndex<0)return;const c=e.options[e.selectedIndex];c.hasAttribute("selected")?i=!1:i=c.value||!1}else e.classList.contains("ql-active")?i=!1:i=e.value||!e.hasAttribute("value"),s.preventDefault();this.quill.focus();const[o]=this.quill.selection.getRange();if(this.handlers[n]!=null)this.handlers[n].call(this,i);else if(this.quill.scroll.query(n).prototype instanceof eo){if(i=prompt(`Enter ${n}`),!i)return;this.quill.updateContents(new Nt().retain(o.index).delete(o.length).insert({[n]:i}),Ke.sources.USER)}else this.quill.format(n,i,Ke.sources.USER);this.update(o)}),this.controls.push([n,e])}update(e){const n=e==null?{}:this.quill.getFormat(e);this.controls.forEach(r=>{const[s,i]=r;if(i.tagName==="SELECT"){let o=null;if(e==null)o=null;else if(n[s]==null)o=i.querySelector("option[selected]");else if(!Array.isArray(n[s])){let c=n[s];typeof c=="string"&&(c=c.replace(/"/g,'\\"')),o=i.querySelector(`option[value="${c}"]`)}o==null?(i.value="",i.selectedIndex=-1):o.selected=!0}else if(e==null)i.classList.remove("ql-active"),i.setAttribute("aria-pressed","false");else if(i.hasAttribute("value")){const o=n[s],c=o===i.getAttribute("value")||o!=null&&o.toString()===i.getAttribute("value")||o==null&&!i.getAttribute("value");i.classList.toggle("ql-active",c),i.setAttribute("aria-pressed",c.toString())}else{const o=n[s]!=null;i.classList.toggle("ql-active",o),i.setAttribute("aria-pressed",o.toString())}})}}m3.DEFAULTS={};function dM(t,e,n){const r=document.createElement("button");r.setAttribute("type","button"),r.classList.add(`ql-${e}`),r.setAttribute("aria-pressed","false"),n!=null?(r.value=n,r.setAttribute("aria-label",`${e}: ${n}`)):r.setAttribute("aria-label",e),t.appendChild(r)}function i_e(t,e){Array.isArray(e[0])||(e=[e]),e.forEach(n=>{const r=document.createElement("span");r.classList.add("ql-formats"),n.forEach(s=>{if(typeof s=="string")dM(r,s);else{const i=Object.keys(s)[0],o=s[i];Array.isArray(o)?o_e(r,i,o):dM(r,i,o)}}),t.appendChild(r)})}function o_e(t,e,n){const r=document.createElement("select");r.classList.add(`ql-${e}`),n.forEach(s=>{const i=document.createElement("option");s!==!1?i.setAttribute("value",String(s)):i.setAttribute("selected","selected"),r.appendChild(i)}),t.appendChild(r)}m3.DEFAULTS={container:null,handlers:{clean(){const t=this.quill.getSelection();if(t!=null)if(t.length===0){const e=this.quill.getFormat();Object.keys(e).forEach(n=>{this.quill.scroll.query(n,Tt.INLINE)!=null&&this.quill.format(n,!1,Ke.sources.USER)})}else this.quill.removeFormat(t.index,t.length,Ke.sources.USER)},direction(t){const{align:e}=this.quill.getFormat();t==="rtl"&&e==null?this.quill.format("align","right",Ke.sources.USER):!t&&e==="right"&&this.quill.format("align",!1,Ke.sources.USER),this.quill.format("direction",t,Ke.sources.USER)},indent(t){const e=this.quill.getSelection(),n=this.quill.getFormat(e),r=parseInt(n.indent||0,10);if(t==="+1"||t==="-1"){let s=t==="+1"?1:-1;n.direction==="rtl"&&(s*=-1),this.quill.format("indent",r+s,Ke.sources.USER)}},link(t){t===!0&&(t=prompt("Enter link URL:")),this.quill.format("link",t,Ke.sources.USER)},list(t){const e=this.quill.getSelection(),n=this.quill.getFormat(e);t==="check"?n.list==="checked"||n.list==="unchecked"?this.quill.format("list",!1,Ke.sources.USER):this.quill.format("list","unchecked",Ke.sources.USER):this.quill.format("list",t,Ke.sources.USER)}}};const l_e='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',c_e='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',u_e='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',d_e='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',h_e='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',f_e='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',m_e='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',p_e='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',hM='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',g_e='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',y_e='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',v_e='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',x_e='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',b_e='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',w_e='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',__e='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',E_e='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',j_e='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',S_e='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',C_e='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',N_e='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',T_e='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',A_e='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',L_e='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',R_e='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',k_e='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',O_e='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',I_e='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',P_e='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',D_e='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',M_e='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',F_e='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',B_e='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',W0={align:{"":l_e,center:c_e,right:u_e,justify:d_e},background:h_e,blockquote:f_e,bold:m_e,clean:p_e,code:hM,"code-block":hM,color:g_e,direction:{"":y_e,rtl:v_e},formula:x_e,header:{1:b_e,2:w_e,3:__e,4:E_e,5:j_e,6:S_e},italic:C_e,image:N_e,indent:{"+1":T_e,"-1":A_e},link:L_e,list:{bullet:R_e,check:k_e,ordered:O_e},script:{sub:I_e,super:P_e},strike:D_e,table:M_e,underline:F_e,video:B_e},U_e='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let fM=0;function mM(t,e){t.setAttribute(e,`${t.getAttribute(e)!=="true"}`)}class Fw{constructor(e){this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",n=>{switch(n.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),n.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),mM(this.label,"aria-expanded"),mM(this.options,"aria-hidden")}buildItem(e){const n=document.createElement("span");n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item");const r=e.getAttribute("value");return r&&n.setAttribute("data-value",r),e.textContent&&n.setAttribute("data-label",e.textContent),n.addEventListener("click",()=>{this.selectItem(n,!0)}),n.addEventListener("keydown",s=>{switch(s.key){case"Enter":this.selectItem(n,!0),s.preventDefault();break;case"Escape":this.escape(),s.preventDefault();break}}),n}buildLabel(){const e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=U_e,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}buildOptions(){const e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id=`ql-picker-options-${fM}`,fM+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,Array.from(this.select.options).forEach(n=>{const r=this.buildItem(n);e.appendChild(r),n.selected===!0&&this.selectItem(r)}),this.container.appendChild(e)}buildPicker(){Array.from(this.select.attributes).forEach(e=>{this.container.setAttribute(e.name,e.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.container.querySelector(".ql-selected");e!==r&&(r!=null&&r.classList.remove("ql-selected"),e!=null&&(e.classList.add("ql-selected"),this.select.selectedIndex=Array.from(e.parentNode.children).indexOf(e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),n&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let e;if(this.select.selectedIndex>-1){const r=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(r)}else this.selectItem(null);const n=e!=null&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}class NH extends Fw{constructor(e,n){super(e),this.label.innerHTML=n,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(r=>{r.classList.add("ql-primary")})}buildItem(e){const n=super.buildItem(e);return n.style.backgroundColor=e.getAttribute("value")||"",n}selectItem(e,n){super.selectItem(e,n);const r=this.label.querySelector(".ql-color-label"),s=e&&e.getAttribute("data-value")||"";r&&(r.tagName==="line"?r.style.stroke=s:r.style.fill=s)}}class TH extends Fw{constructor(e,n){super(e),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(r=>{r.innerHTML=n[r.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(e,n){super.selectItem(e,n);const r=e||this.defaultItem;if(r!=null){if(this.label.innerHTML===r.innerHTML)return;this.label.innerHTML=r.innerHTML}}}const z_e=t=>{const{overflowY:e}=getComputedStyle(t,null);return e!=="visible"&&e!=="clip"};class AH{constructor(e,n){this.quill=e,this.boundsContainer=n||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,z_e(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(e){const n=e.left+e.width/2-this.root.offsetWidth/2,r=e.bottom+this.quill.root.scrollTop;this.root.style.left=`${n}px`,this.root.style.top=`${r}px`,this.root.classList.remove("ql-flip");const s=this.boundsContainer.getBoundingClientRect(),i=this.root.getBoundingClientRect();let o=0;if(i.right>s.right&&(o=s.right-i.right,this.root.style.left=`${n+o}px`),i.left<s.left&&(o=s.left-i.left,this.root.style.left=`${n+o}px`),i.bottom>s.bottom){const c=i.bottom-i.top,u=e.bottom-e.top+c;this.root.style.top=`${r-u}px`,this.root.classList.add("ql-flip")}return o}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const q_e=[!1,"center","right","justify"],$_e=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],V_e=[!1,"serif","monospace"],H_e=["1","2","3",!1],G_e=["small",!1,"large","huge"];class Vy extends zm{constructor(e,n){super(e,n);const r=s=>{if(!document.body.contains(e.root)){document.body.removeEventListener("click",r);return}this.tooltip!=null&&!this.tooltip.root.contains(s.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(i=>{i.container.contains(s.target)||i.close()})};e.emitter.listenDOM("click",document.body,r)}addModule(e){const n=super.addModule(e);return e==="toolbar"&&this.extendToolbar(n),n}buildButtons(e,n){Array.from(e).forEach(r=>{(r.getAttribute("class")||"").split(/\s+/).forEach(i=>{if(i.startsWith("ql-")&&(i=i.slice(3),n[i]!=null))if(i==="direction")r.innerHTML=n[i][""]+n[i].rtl;else if(typeof n[i]=="string")r.innerHTML=n[i];else{const o=r.value||"";o!=null&&n[i][o]&&(r.innerHTML=n[i][o])}})})}buildPickers(e,n){this.pickers=Array.from(e).map(s=>{if(s.classList.contains("ql-align")&&(s.querySelector("option")==null&&Tg(s,q_e),typeof n.align=="object"))return new TH(s,n.align);if(s.classList.contains("ql-background")||s.classList.contains("ql-color")){const i=s.classList.contains("ql-background")?"background":"color";return s.querySelector("option")==null&&Tg(s,$_e,i==="background"?"#ffffff":"#000000"),new NH(s,n[i])}return s.querySelector("option")==null&&(s.classList.contains("ql-font")?Tg(s,V_e):s.classList.contains("ql-header")?Tg(s,H_e):s.classList.contains("ql-size")&&Tg(s,G_e)),new Fw(s)});const r=()=>{this.pickers.forEach(s=>{s.update()})};this.quill.on(_t.events.EDITOR_CHANGE,r)}}Vy.DEFAULTS=sd({},zm.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let t=this.container.querySelector("input.ql-image[type=file]");t==null&&(t=document.createElement("input"),t.setAttribute("type","file"),t.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),t.classList.add("ql-image"),t.addEventListener("change",()=>{const e=this.quill.getSelection(!0);this.quill.uploader.upload(e,t.files),t.value=""}),this.container.appendChild(t)),t.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class LH extends AH{constructor(e,n){super(e,n),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",e=>{e.key==="Enter"?(this.save(),e.preventDefault()):e.key==="Escape"&&(this.cancel(),e.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;n!=null?this.textbox.value=n:e!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const r=this.quill.getBounds(this.quill.selection.savedRange);r!=null&&this.position(r),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${e}`)||""),this.root.setAttribute("data-mode",e)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:e}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:n}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,_t.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,_t.sources.USER)),this.quill.root.scrollTop=n;break}case"video":e=W_e(e);case"formula":{if(!e)break;const n=this.quill.getSelection(!0);if(n!=null){const r=n.index+n.length;this.quill.insertEmbed(r,this.root.getAttribute("data-mode"),e,_t.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(r+1," ",_t.sources.USER),this.quill.setSelection(r+2,_t.sources.USER)}break}}this.textbox.value="",this.hide()}}function W_e(t){let e=t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return e?`${e[1]||"https"}://www.youtube.com/embed/${e[2]}?showinfo=0`:(e=t.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${e[1]||"https"}://player.vimeo.com/video/${e[2]}/`:t}function Tg(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;e.forEach(r=>{const s=document.createElement("option");r===n?s.setAttribute("selected","selected"):s.setAttribute("value",String(r)),t.appendChild(s)})}const K_e=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class RH extends LH{constructor(e,n){super(e,n),this.quill.on(_t.events.EDITOR_CHANGE,(r,s,i,o)=>{if(r===_t.events.SELECTION_CHANGE)if(s!=null&&s.length>0&&o===_t.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const c=this.quill.getLines(s.index,s.length);if(c.length===1){const u=this.quill.getBounds(s);u!=null&&this.position(u)}else{const u=c[c.length-1],h=this.quill.getIndex(u),f=Math.min(u.length()-1,s.index+s.length-h),g=this.quill.getBounds(new Th(h,f));g!=null&&this.position(g)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(_t.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const e=this.quill.getSelection();if(e!=null){const n=this.quill.getBounds(e);n!=null&&this.position(n)}},1)})}cancel(){this.show()}position(e){const n=super.position(e),r=this.root.querySelector(".ql-tooltip-arrow");return r.style.marginLeft="",n!==0&&(r.style.marginLeft=`${-1*n-r.offsetWidth/2}px`),n}}be(RH,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class kH extends Vy{constructor(e,n){n.modules.toolbar!=null&&n.modules.toolbar.container==null&&(n.modules.toolbar.container=K_e),super(e,n),this.quill.container.classList.add("ql-bubble")}extendToolbar(e){this.tooltip=new RH(this.quill,this.options.bounds),e.container!=null&&(this.tooltip.root.appendChild(e.container),this.buildButtons(e.container.querySelectorAll("button"),W0),this.buildPickers(e.container.querySelectorAll("select"),W0))}}kH.DEFAULTS=sd({},Vy.DEFAULTS,{modules:{toolbar:{handlers:{link(t){t?this.quill.theme.tooltip.edit():this.quill.format("link",!1,Ke.sources.USER)}}}}});const Y_e=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class OH extends LH{constructor(){super(...arguments);be(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",n=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),n.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",n=>{if(this.linkRange!=null){const r=this.linkRange;this.restoreFocus(),this.quill.formatText(r,"link",!1,_t.sources.USER),delete this.linkRange}n.preventDefault(),this.hide()}),this.quill.on(_t.events.SELECTION_CHANGE,(n,r,s)=>{if(n!=null){if(n.length===0&&s===_t.sources.USER){const[i,o]=this.quill.scroll.descendant(Yu,n.index);if(i!=null){this.linkRange=new Th(n.index-o,i.length());const c=Yu.formats(i.domNode);this.preview.textContent=c,this.preview.setAttribute("href",c),this.show();const u=this.quill.getBounds(this.linkRange);u!=null&&this.position(u);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}be(OH,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class IH extends Vy{constructor(e,n){n.modules.toolbar!=null&&n.modules.toolbar.container==null&&(n.modules.toolbar.container=Y_e),super(e,n),this.quill.container.classList.add("ql-snow")}extendToolbar(e){e.container!=null&&(e.container.classList.add("ql-snow"),this.buildButtons(e.container.querySelectorAll("button"),W0),this.buildPickers(e.container.querySelectorAll("select"),W0),this.tooltip=new OH(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(n,r)=>{e.handlers.link.call(e,!r.format.link)}))}}IH.DEFAULTS=sd({},Vy.DEFAULTS,{modules:{toolbar:{handlers:{link(t){if(t){const e=this.quill.getSelection();if(e==null||e.length===0)return;let n=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(n)&&n.indexOf("mailto:")!==0&&(n=`mailto:${n}`);const{tooltip:r}=this.quill.theme;r.edit("link",n)}else this.quill.format("link",!1,Ke.sources.USER)}}}}});Ke.register({"attributors/attribute/direction":fH,"attributors/class/align":uH,"attributors/class/background":h2e,"attributors/class/color":d2e,"attributors/class/direction":mH,"attributors/class/font":yH,"attributors/class/size":xH,"attributors/style/align":dH,"attributors/style/background":l3,"attributors/style/color":o3,"attributors/style/direction":pH,"attributors/style/font":vH,"attributors/style/size":bH},!0);Ke.register({"formats/align":uH,"formats/direction":mH,"formats/indent":n_e,"formats/background":l3,"formats/color":o3,"formats/font":yH,"formats/size":xH,"formats/blockquote":nT,"formats/code-block":Ma,"formats/header":rT,"formats/list":$y,"formats/bold":G0,"formats/code":c3,"formats/italic":sT,"formats/link":Yu,"formats/script":aT,"formats/strike":iT,"formats/underline":oT,"formats/formula":db,"formats/image":r_e,"formats/video":hb,"modules/syntax":CH,"modules/table":a_e,"modules/toolbar":m3,"themes/bubble":kH,"themes/snow":IH,"ui/icons":W0,"ui/picker":Fw,"ui/icon-picker":TH,"ui/color-picker":NH,"ui/tooltip":AH},!0);class On extends er.Component{constructor(e){super(e),this.editingAreaRef=S.createRef(),this.dirtyProps=["modules","formats","bounds","theme","children"],this.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],this.state={generation:0},this.selection=null,this.onEditorChange=(r,s,i,o)=>{var c,u;r==="text-change"?(c=this.onEditorChangeText)==null||c.call(this,this.editor.root.innerHTML,s,o,this.unprivilegedEditor):r==="selection-change"&&((u=this.onEditorChangeSelection)==null||u.call(this,s,o,this.unprivilegedEditor))};const n=this.isControlled()?e.value:e.defaultValue;this.value=n??""}validateProps(e){if(er.Children.count(e.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(er.Children.count(e.children)){const n=er.Children.only(e.children);if((n==null?void 0:n.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&e.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")}shouldComponentUpdate(e,n){if(this.validateProps(e),!this.editor||this.state.generation!==n.generation)return!0;if("value"in e){const r=this.getEditorContents(),s=e.value??"";this.isEqualValue(s,r)||this.setEditorContents(this.editor,s)}return e.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,e.readOnly),[...this.cleanProps,...this.dirtyProps].some(r=>!Cg(e[r],this.props[r]))}shouldComponentRegenerate(e){return this.dirtyProps.some(n=>!Cg(e[n],this.props[n]))}componentDidMount(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())}componentWillUnmount(){this.destroyEditor()}componentDidUpdate(e,n){if(this.editor&&this.shouldComponentRegenerate(e)){const r=this.editor.getContents(),s=this.editor.getSelection();this.regenerationSnapshot={delta:r,selection:s},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==n.generation){const{delta:r,selection:s}=this.regenerationSnapshot;delete this.regenerationSnapshot,this.instantiateEditor();const i=this.editor;i.setContents(r),pM(()=>this.setEditorSelection(i,s))}}instantiateEditor(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())}destroyEditor(){this.editor&&this.unhookEditor(this.editor)}isControlled(){return"value"in this.props}getEditorConfig(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,tabIndex:this.props.tabIndex,theme:this.props.theme}}getEditor(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor}createEditor(e,n){const r=new Ke(e,n);return n.tabIndex!=null&&this.setEditorTabIndex(r,n.tabIndex),this.hookEditor(r),r}hookEditor(e){this.unprivilegedEditor=this.makeUnprivilegedEditor(e),e.on("editor-change",this.onEditorChange)}unhookEditor(e){e.off("editor-change",this.onEditorChange)}getEditorContents(){return this.value}getEditorSelection(){return this.selection}isDelta(e){return e&&e.ops}isEqualValue(e,n){return this.isDelta(e)&&this.isDelta(n)?Cg(e.ops,n.ops):Cg(e,n)}setEditorContents(e,n){this.value=n;const r=this.getEditorSelection();typeof n=="string"?e.setContents(e.clipboard.convert({html:n})):e.setContents(n),pM(()=>this.setEditorSelection(e,r))}setEditorSelection(e,n){if(this.selection=n,n){const r=e.getLength();n.index=Math.max(0,Math.min(n.index,r-1)),n.length=Math.max(0,Math.min(n.length,r-1-n.index)),e.setSelection(n)}}setEditorTabIndex(e,n){var r;(r=e==null?void 0:e.scroll)!=null&&r.domNode&&(e.scroll.domNode.tabIndex=n)}setEditorReadOnly(e,n){n?e.disable():e.enable()}makeUnprivilegedEditor(e){const n=e;return{getHTML:()=>n.root.innerHTML,getSemanticHTML:n.getSemanticHTML.bind(n),getLength:n.getLength.bind(n),getText:n.getText.bind(n),getContents:n.getContents.bind(n),getSelection:n.getSelection.bind(n),getBounds:n.getBounds.bind(n)}}getEditingArea(){const e=this.editingAreaRef.current;if(!e)throw new Error("Cannot find element for editing area");if(e.nodeType===3)throw new Error("Editing area cannot be a text node");return e}renderEditingArea(){const{children:e,preserveWhitespace:n}=this.props,{generation:r}=this.state,s={key:r,ref:this.editingAreaRef};return er.Children.count(e)?er.cloneElement(er.Children.only(e),s):n?er.createElement("pre",{...s}):er.createElement("div",{...s})}render(){return er.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:`quill ${this.props.className??""}`,onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())}onEditorChangeText(e,n,r,s){var o,c;if(!this.editor)return;const i=this.isDelta(this.value)?s.getContents():s.getHTML();i!==this.getEditorContents()&&(this.lastDeltaChangeSet=n,this.value=i,(c=(o=this.props).onChange)==null||c.call(o,e,n,r,s))}onEditorChangeSelection(e,n,r){var c,u,h,f,g,p;if(!this.editor)return;const s=this.getEditorSelection(),i=!s&&e,o=s&&!e;Cg(e,s)||(this.selection=e,(u=(c=this.props).onChangeSelection)==null||u.call(c,e,n,r),i?(f=(h=this.props).onFocus)==null||f.call(h,e,n,r):o&&((p=(g=this.props).onBlur)==null||p.call(g,s,n,r)))}focus(){this.editor&&this.editor.focus()}blur(){this.editor&&(this.selection=null,this.editor.blur())}}On.displayName="React Quill";On.Quill=Ke;On.defaultProps={theme:"snow",modules:{},readOnly:!1};function pM(t){Promise.resolve().then(t)}const rr=({index:t,section:e,handleBodyChange:n})=>{const[r,s]=S.useState(e.body||"");S.useEffect(()=>{s(e.body||"")},[e.body]);const i=o=>{s(o),n(t,"body",o)};return a.jsx(On,{theme:"snow",value:r,onChange:i,style:{height:"300px"}})},mn=({storyForm:t,setStoryForm:e,editingItem:n,dropzoneName:r="dropzone-container-small",previewName:s="dropzone-uploaded-image-small"})=>{const i=S.useCallback(h=>{const f=h[0];f&&e(g=>({...g,headerImage:f}))},[e]),{getRootProps:o,getInputProps:c}=Vt({onDrop:i,accept:"image/png, image/jpeg, image/jpg"}),u=t.headerImage instanceof File?URL.createObjectURL(t.headerImage):t.headerImage||n||null;return a.jsxs(B,{...o(),className:`${r} text-center w-100 ${u?"border-success":""}`,children:[a.jsx("input",{...c(),accept:"image/*"}),u&&t.headerImage?a.jsx("img",{src:u,alt:"Header Image Preview",className:s}):a.jsxs("p",{className:"text-muted",children:["Drag & Drop Image Here or"," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})},$e=({onChange:t,label:e="Organizations",caption:n="",resetKey:r,editingItems:s=[]})=>{const[i,o]=S.useState(""),[c,u]=S.useState(s);S.useEffect(()=>{(c.length>0||i!=="")&&(u([]),o(""),t([]))},[r]),S.useEffect(()=>{Array.isArray(s)&&!h(c,s)&&u(s)},[s]);const h=(y,w)=>y.length!==w.length?!1:y.every((E,j)=>E===w[j]),f=y=>{o(y.target.value)},g=y=>{if(y.key==="Enter"){y.preventDefault();const w=i.trim();if(w&&!c.includes(w)){const E=[...c,w];u(E),o(""),t(E)}}},p=y=>{const w=c.filter(E=>E!==y);u(w),t(w)};return a.jsxs(v.Group,{controlId:"textGroupInputField mt-4",children:[a.jsx(v.Label,{className:"label",children:e}),!!n&&a.jsx("p",{className:"subtitle",children:n}),a.jsx(v.Control,{type:"text",placeholder:`Type ${e.toLowerCase()} and press Enter`,value:i,onChange:f,onKeyDown:g}),a.jsx(B,{className:"mt-3 d-flex flex-wrap",style:{overflow:"hidden"},children:c.map((y,w)=>a.jsxs(KT,{bg:"light",className:"me-2 mb-2 text-wrap",style:{color:"#1F89B2",border:"1px solid #1F89B2",borderRadius:"10px",paddingLeft:"10px",paddingRight:"10px",maxWidth:"100%",wordBreak:"break-word"},children:[y,a.jsx(se,{variant:"link",size:"sm",onClick:()=>p(y),style:{color:"#1F89B2",textDecoration:"none",padding:"0 5px"},children:""})]},w))})]})},X_e=({index:t,section:e,onBodyImageDrop:n,dropzoneName:r="dropzone-container-small",previewName:s="dropzone-uploaded-image-small"})=>{const{getRootProps:i,getInputProps:o}=Vt({onDrop:u=>n(u,t),accept:"image/png, image/jpeg, image/jpg, video/mp4, video/webm, video/ogg"}),c=e.image?e.image instanceof File?URL.createObjectURL(e.image):e.image:null;return a.jsxs(B,{...i(),className:`${r} text-center w-100 ${c?"border-success":""}`,children:[a.jsx("input",{...o(),accept:"image/*,video/*"}),c?e.image instanceof File&&e.image.type.startsWith("video/")?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:c,type:e.image.type}),"Your browser does not support the video tag."]}):a.jsx("img",{src:c,alt:"Body Image Preview",className:s}):a.jsxs("p",{className:"text-muted",children:["Drag & Drop Image/Video Here or"," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})};function J_e(){var _;const[t,e]=S.useState(new r$),[n,r]=S.useState([]),[s,i]=S.useState(0),o=()=>{e({id:"",title:"",classification:"",purpose:"",date:"",headerImage:null,body:[{subtitle:"",body:"",image:null,image_source:""}],tags:[],references:[],name:"",email:"",social:""}),i(R=>R+1)},c=(R,b)=>{if(Array.isArray(R))e(A=>({...A,[b]:R}));else if(typeof R=="string")e(A=>({...A,[b]:R}));else{const{name:A,value:L}=R.target;e(U=>({...U,[A]:L}))}},u=(R,b,A)=>{e(L=>{const U=[...L.body];return U[R]={...U[R],[b]:A},{...L,body:U}})},h=(R,b)=>{const A=R[0];A&&e(L=>{const U=[...L.body];return U[b]={...U[b],image:A,imageUrl:URL.createObjectURL(A)},{...L,body:U}})},f=()=>{e(R=>({...R,body:[...R.body,{subtitle:"",body:"",image:null,image_source:""}]}))},g=R=>{e(b=>{const A=b.body.filter((L,U)=>U!==R);return{...b,body:A}})},[p,y]=S.useState(null),[w,E]=S.useState(""),j=S.useCallback(R=>{R.length>0&&y(R[0])},[]),{getRootProps:C,getInputProps:O}=Vt({onDrop:j,accept:"image/*",disabled:!!w}),I=()=>{e(R=>({...R,headerImage:null}))},D=R=>{e(b=>{const A=[...b.body];return A[R]?(A[R]={...A[R],image:null},{...b,body:A}):b})},T=async(R,b)=>{const A=Wt(en,b);return await Qt(A,R),await Zt(A)},F=async R=>{R.preventDefault(),ve.fire({title:"Submitting...",text:"Please wait while we submit your story.",allowOutsideClick:!1,didOpen:()=>{ve.showLoading()}});try{let b=await T(t.headerImage,`stories/${Date.now()}_${t.headerImage}`);const A=await Promise.all(t.body.map(async(K,G)=>K.image?await T(K.image,`stories/${Date.now()}_${K.image.name}`):"")),L={id:"",classification:t.classification,purpose:t.purpose,title:t.title,headerImage:b,date:t.date,body:t.body.map((K,G)=>({subtitle:K.subtitle,body:K.body,image:A[G]||"",image_source:K.image_source})),tags:t.tags,references:t.references,name:t.name,email:t.email,social:t.social},U=await Or(Jt(Ve,"stories"),L),P=gt(Ve,"stories",U.id);await rn(P,{id:U.id}),ve.fire({title:"Story Submitted",text:"Your story has been submitted successfully!",icon:"success"}),o(),r([]),I()}catch(b){console.error("Error submitting story:",b),ve.fire({title:"Error",text:"There was an issue submitting your story. Please try again.",icon:"error"})}};return S.useRef(null),a.jsxs(v,{className:"custom-form body-container",onSubmit:F,onKeyDown:R=>R.key==="Enter"&&R.preventDefault(),children:[a.jsx("h1",{className:"mb-4",children:"Add Tourism Story Form"}),a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(z,{className:"col me-lg-2 me-md-1",children:a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Classification"}),a.jsxs(v.Control,{as:"select",name:"classification",value:t.classification,onChange:c,required:!0,children:[a.jsx("option",{value:"",children:"Select Classification"}),s$.map(R=>a.jsx("option",{value:R,children:R},R))]})]})}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Purpose"}),a.jsxs(v.Control,{as:"select",name:"purpose",value:t.purpose,onChange:c,required:!0,disabled:!t.classification,placeholder:t.classification?"Select Purpose":"Select Classification First",children:[a.jsx("option",{value:"",children:t.classification?"Select Purpose":"Select Classification First"}),t.classification&&((_=a$[t.classification])==null?void 0:_.map(R=>a.jsx("option",{value:R,children:R},R)))]})]})})]}),a.jsx(B,{className:"empty-container"}),a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(z,{className:"col me-lg-2 me-md-1",children:a.jsx(B,{className:"empty-container"})}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Date"}),a.jsx(v.Control,{type:"date",name:"date",value:t.date,onChange:c,required:!0})]})})]}),a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Title"}),a.jsx(v.Control,{type:"text",name:"title",className:"fw-bold",value:t.title,onChange:c,placeholder:"Enter title",required:!0})]}),a.jsxs(v.Group,{className:"my-2",children:[a.jsx(v.Label,{className:"label",children:"Upload Header Image (800x400)"}),a.jsx(mn,{storyForm:t,setStoryForm:e,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"}),a.jsxs(B,{className:"d-flex justify-content-between mt-2",children:[a.jsx("p",{className:"subtitle",children:"Supported File: PNG, JPEG, and JPG"}),a.jsx("p",{className:"subtitle",children:"Maximum size: 25MB"})]}),a.jsx(B,{className:"d-flex justify-content-end",children:p&&(w?null:a.jsxs(se,{className:"my-2",variant:"outline-danger",onClick:I,children:[a.jsx(we,{className:"button-icon",icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]}))})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),t.body.map((R,b)=>a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(B,{className:"empty-container"}),a.jsxs(v.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(v.Label,{className:"label",children:"Subtitle (Optional)"}),a.jsx(v.Control,{type:"text",className:"fw-bold",value:R.subtitle,onChange:A=>u(b,"subtitle",A.target.value)})]}),a.jsxs(z,{className:"col me-lg-2 me-md-1",children:[a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Image (Optional)"}),a.jsx(X_e,{index:b,section:R,onBodyImageDrop:h,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"}),R.image&&a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{className:"mt-2 mb-1",variant:"outline-danger",onClick:()=>D(b),children:[a.jsx(we,{icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]})})]}),a.jsxs(v.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(v.Label,{className:"label",children:"Image Source (Optional)"}),a.jsx(v.Control,{placeholder:"e.g. @boracayphotos or /islanders or #trivago or www.trivago.com",type:"text",value:R.image_source,onChange:A=>u(b,"image_source",A.target.value)})]})]}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(v.Group,{className:"mb-5",children:[a.jsx(v.Label,{className:"label",children:"Body"}),a.jsx(rr,{index:b,section:R,handleBodyChange:u})]})}),t.body.length>1&&a.jsx(B,{className:"mb-4 d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-danger",type:"button",onClick:()=>g(b),className:"mt-3 w-full",children:[a.jsx(we,{icon:Pt,size:"xs",fixedWidth:!0})," Delete Section"]})})]},b)),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-success",type:"button",onClick:f,className:"mb-3",children:[a.jsx(we,{icon:nr,size:"xs",fixedWidth:!0})," Add Section"]})}),a.jsx(B,{className:"empty-container"}),a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(z,{className:"col me-lg-2 me-md-1",children:a.jsx($e,{onChange:R=>c(R,"references"),label:"References and Links (Type & Enter)",editingItems:t.references,resetKey:s})}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsx($e,{onChange:R=>c(R,"tags"),label:"Important Tags (Type & Enter)",editingItems:t.tags,resetKey:s})})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Your Name"}),a.jsx(v.Control,{type:"text",name:"name",value:t.name,onChange:c,placeholder:"Your Name",required:!0})]}),a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(z,{className:"col me-lg-2 me-md-1",children:a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Social Media/References Link"}),a.jsx(v.Control,{type:"social",name:"social",value:t.social,onChange:c,placeholder:"Social Link"})]})}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Email"}),a.jsx(v.Control,{type:"email",name:"email",value:t.email,onChange:c,placeholder:"Email"})]})})]}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"empty-container"}),a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",onClick:o,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full",onClick:F,children:"Submit Article"})]})]})}var fb={exports:{}},Q_e=fb.exports,gM;function Z_e(){return gM||(gM=1,function(t,e){(function(n,r){t.exports=r(R1())})(Q_e,n=>(()=>{var r={703:(c,u,h)=>{var f=h(414);function g(){}function p(){}p.resetWarningCache=g,c.exports=function(){function y(j,C,O,I,D,T){if(T!==f){var F=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw F.name="Invariant Violation",F}}function w(){return y}y.isRequired=y;var E={array:y,bigint:y,bool:y,func:y,number:y,object:y,string:y,symbol:y,any:y,arrayOf:w,element:y,elementType:y,instanceOf:w,node:y,objectOf:w,oneOf:w,oneOfType:w,shape:w,exact:w,checkPropTypes:p,resetWarningCache:g};return E.PropTypes=E,E}},697:(c,u,h)=>{c.exports=h(703)()},414:c=>{c.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},98:c=>{c.exports=n}},s={};function i(c){var u=s[c];if(u!==void 0)return u.exports;var h=s[c]={exports:{}};return r[c](h,h.exports,i),h.exports}i.n=c=>{var u=c&&c.__esModule?()=>c.default:()=>c;return i.d(u,{a:u}),u},i.d=(c,u)=>{for(var h in u)i.o(u,h)&&!i.o(c,h)&&Object.defineProperty(c,h,{enumerable:!0,get:u[h]})},i.o=(c,u)=>Object.prototype.hasOwnProperty.call(c,u),i.r=c=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})};var o={};return(()=>{i.r(o),i.d(o,{default:()=>L});var c=i(98),u=i.n(c),h=i(697),f=i.n(h);function g(){return g=Object.assign?Object.assign.bind():function(U){for(var P=1;P<arguments.length;P++){var K=arguments[P];for(var G in K)Object.prototype.hasOwnProperty.call(K,G)&&(U[G]=K[G])}return U},g.apply(this,arguments)}var p=function(U){var P=U.pageClassName,K=U.pageLinkClassName,G=U.page,re=U.selected,Z=U.activeClassName,me=U.activeLinkClassName,ie=U.getEventListener,W=U.pageSelectedHandler,ye=U.href,Q=U.extraAriaContext,ne=U.pageLabelBuilder,te=U.rel,X=U.ariaLabel||"Page "+G+(Q?" "+Q:""),xe=null;return re&&(xe="page",X=U.ariaLabel||"Page "+G+" is your current page",P=P!==void 0?P+" "+Z:Z,K!==void 0?me!==void 0&&(K=K+" "+me):K=me),u().createElement("li",{className:P},u().createElement("a",g({rel:te,role:ye?void 0:"button",className:K,href:ye,tabIndex:re?"-1":"0","aria-label":X,"aria-current":xe,onKeyPress:W},ie(W)),ne(G)))};p.propTypes={pageSelectedHandler:f().func.isRequired,selected:f().bool.isRequired,pageClassName:f().string,pageLinkClassName:f().string,activeClassName:f().string,activeLinkClassName:f().string,extraAriaContext:f().string,href:f().string,ariaLabel:f().string,page:f().number.isRequired,getEventListener:f().func.isRequired,pageLabelBuilder:f().func.isRequired,rel:f().string};const y=p;function w(){return w=Object.assign?Object.assign.bind():function(U){for(var P=1;P<arguments.length;P++){var K=arguments[P];for(var G in K)Object.prototype.hasOwnProperty.call(K,G)&&(U[G]=K[G])}return U},w.apply(this,arguments)}var E=function(U){var P=U.breakLabel,K=U.breakAriaLabel,G=U.breakClassName,re=U.breakLinkClassName,Z=U.breakHandler,me=U.getEventListener,ie=G||"break";return u().createElement("li",{className:ie},u().createElement("a",w({className:re,role:"button",tabIndex:"0","aria-label":K,onKeyPress:Z},me(Z)),P))};E.propTypes={breakLabel:f().oneOfType([f().string,f().node]),breakAriaLabel:f().string,breakClassName:f().string,breakLinkClassName:f().string,breakHandler:f().func.isRequired,getEventListener:f().func.isRequired};const j=E;function C(U){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return U??P}function O(U){return O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},O(U)}function I(){return I=Object.assign?Object.assign.bind():function(U){for(var P=1;P<arguments.length;P++){var K=arguments[P];for(var G in K)Object.prototype.hasOwnProperty.call(K,G)&&(U[G]=K[G])}return U},I.apply(this,arguments)}function D(U,P){for(var K=0;K<P.length;K++){var G=P[K];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(U,G.key,G)}}function T(U,P){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(K,G){return K.__proto__=G,K},T(U,P)}function F(U,P){if(P&&(O(P)==="object"||typeof P=="function"))return P;if(P!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _(U)}function _(U){if(U===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U}function R(U){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(P){return P.__proto__||Object.getPrototypeOf(P)},R(U)}function b(U,P,K){return P in U?Object.defineProperty(U,P,{value:K,enumerable:!0,configurable:!0,writable:!0}):U[P]=K,U}var A=function(U){(function(ie,W){if(typeof W!="function"&&W!==null)throw new TypeError("Super expression must either be null or a function");ie.prototype=Object.create(W&&W.prototype,{constructor:{value:ie,writable:!0,configurable:!0}}),Object.defineProperty(ie,"prototype",{writable:!1}),W&&T(ie,W)})(me,U);var P,K,G,re,Z=(G=me,re=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var ie,W=R(G);if(re){var ye=R(this).constructor;ie=Reflect.construct(W,arguments,ye)}else ie=W.apply(this,arguments);return F(this,ie)});function me(ie){var W,ye;return function(Q,ne){if(!(Q instanceof ne))throw new TypeError("Cannot call a class as a function")}(this,me),b(_(W=Z.call(this,ie)),"handlePreviousPage",function(Q){var ne=W.state.selected;W.handleClick(Q,null,ne>0?ne-1:void 0,{isPrevious:!0})}),b(_(W),"handleNextPage",function(Q){var ne=W.state.selected,te=W.props.pageCount;W.handleClick(Q,null,ne<te-1?ne+1:void 0,{isNext:!0})}),b(_(W),"handlePageSelected",function(Q,ne){if(W.state.selected===Q)return W.callActiveCallback(Q),void W.handleClick(ne,null,void 0,{isActive:!0});W.handleClick(ne,null,Q)}),b(_(W),"handlePageChange",function(Q){W.state.selected!==Q&&(W.setState({selected:Q}),W.callCallback(Q))}),b(_(W),"getEventListener",function(Q){return b({},W.props.eventListener,Q)}),b(_(W),"handleClick",function(Q,ne,te){var X=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},xe=X.isPrevious,Ne=xe!==void 0&&xe,je=X.isNext,Ie=je!==void 0&&je,_e=X.isBreak,Ue=_e!==void 0&&_e,tt=X.isActive,ct=tt!==void 0&&tt;Q.preventDefault?Q.preventDefault():Q.returnValue=!1;var ut=W.state.selected,Ye=W.props.onClick,jt=te;if(Ye){var Ze=Ye({index:ne,selected:ut,nextSelectedPage:te,event:Q,isPrevious:Ne,isNext:Ie,isBreak:Ue,isActive:ct});if(Ze===!1)return;Number.isInteger(Ze)&&(jt=Ze)}jt!==void 0&&W.handlePageChange(jt)}),b(_(W),"handleBreakClick",function(Q,ne){var te=W.state.selected;W.handleClick(ne,Q,te<Q?W.getForwardJump():W.getBackwardJump(),{isBreak:!0})}),b(_(W),"callCallback",function(Q){W.props.onPageChange!==void 0&&typeof W.props.onPageChange=="function"&&W.props.onPageChange({selected:Q})}),b(_(W),"callActiveCallback",function(Q){W.props.onPageActive!==void 0&&typeof W.props.onPageActive=="function"&&W.props.onPageActive({selected:Q})}),b(_(W),"getElementPageRel",function(Q){var ne=W.state.selected,te=W.props,X=te.nextPageRel,xe=te.prevPageRel,Ne=te.selectedPageRel;return ne-1===Q?xe:ne===Q?Ne:ne+1===Q?X:void 0}),b(_(W),"pagination",function(){var Q=[],ne=W.props,te=ne.pageRangeDisplayed,X=ne.pageCount,xe=ne.marginPagesDisplayed,Ne=ne.breakLabel,je=ne.breakClassName,Ie=ne.breakLinkClassName,_e=ne.breakAriaLabels,Ue=W.state.selected;if(X<=te)for(var tt=0;tt<X;tt++)Q.push(W.getPageElement(tt));else{var ct=te/2,ut=te-ct;Ue>X-te/2?ct=te-(ut=X-Ue):Ue<te/2&&(ut=te-(ct=Ue));var Ye,jt,Ze=function(yn){return W.getPageElement(yn)},Ut=[];for(Ye=0;Ye<X;Ye++){var Cn=Ye+1;if(Cn<=xe)Ut.push({type:"page",index:Ye,display:Ze(Ye)});else if(Cn>X-xe)Ut.push({type:"page",index:Ye,display:Ze(Ye)});else if(Ye>=Ue-ct&&Ye<=Ue+(Ue===0&&te>1?ut-1:ut))Ut.push({type:"page",index:Ye,display:Ze(Ye)});else if(Ne&&Ut.length>0&&Ut[Ut.length-1].display!==jt&&(te>0||xe>0)){var fn=Ye<Ue?_e.backward:_e.forward;jt=u().createElement(j,{key:Ye,breakAriaLabel:fn,breakLabel:Ne,breakClassName:je,breakLinkClassName:Ie,breakHandler:W.handleBreakClick.bind(null,Ye),getEventListener:W.getEventListener}),Ut.push({type:"break",index:Ye,display:jt})}}Ut.forEach(function(yn,ur){var sr=yn;yn.type==="break"&&Ut[ur-1]&&Ut[ur-1].type==="page"&&Ut[ur+1]&&Ut[ur+1].type==="page"&&Ut[ur+1].index-Ut[ur-1].index<=2&&(sr={type:"page",index:yn.index,display:Ze(yn.index)}),Q.push(sr.display)})}return Q}),ie.initialPage!==void 0&&ie.forcePage!==void 0&&console.warn("(react-paginate): Both initialPage (".concat(ie.initialPage,") and forcePage (").concat(ie.forcePage,") props are provided, which is discouraged.")+` Use exclusively forcePage prop for a controlled component.
See https://reactjs.org/docs/forms.html#controlled-components`),ye=ie.initialPage?ie.initialPage:ie.forcePage?ie.forcePage:0,W.state={selected:ye},W}return P=me,(K=[{key:"componentDidMount",value:function(){var ie=this.props,W=ie.initialPage,ye=ie.disableInitialCallback,Q=ie.extraAriaContext,ne=ie.pageCount,te=ie.forcePage;W===void 0||ye||this.callCallback(W),Q&&console.warn("DEPRECATED (react-paginate): The extraAriaContext prop is deprecated. You should now use the ariaLabelBuilder instead."),Number.isInteger(ne)||console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(ne,"). Did you forget a Math.ceil()?")),W!==void 0&&W>ne-1&&console.warn("(react-paginate): The initialPage prop provided is greater than the maximum page index from pageCount prop (".concat(W," > ").concat(ne-1,").")),te!==void 0&&te>ne-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(te," > ").concat(ne-1,")."))}},{key:"componentDidUpdate",value:function(ie){this.props.forcePage!==void 0&&this.props.forcePage!==ie.forcePage&&(this.props.forcePage>this.props.pageCount-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(this.props.forcePage," > ").concat(this.props.pageCount-1,").")),this.setState({selected:this.props.forcePage})),Number.isInteger(ie.pageCount)&&!Number.isInteger(this.props.pageCount)&&console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(this.props.pageCount,"). Did you forget a Math.ceil()?"))}},{key:"getForwardJump",value:function(){var ie=this.state.selected,W=this.props,ye=W.pageCount,Q=ie+W.pageRangeDisplayed;return Q>=ye?ye-1:Q}},{key:"getBackwardJump",value:function(){var ie=this.state.selected-this.props.pageRangeDisplayed;return ie<0?0:ie}},{key:"getElementHref",value:function(ie){var W=this.props,ye=W.hrefBuilder,Q=W.pageCount,ne=W.hrefAllControls;if(ye)return ne||ie>=0&&ie<Q?ye(ie+1,Q,this.state.selected):void 0}},{key:"ariaLabelBuilder",value:function(ie){var W=ie===this.state.selected;if(this.props.ariaLabelBuilder&&ie>=0&&ie<this.props.pageCount){var ye=this.props.ariaLabelBuilder(ie+1,W);return this.props.extraAriaContext&&!W&&(ye=ye+" "+this.props.extraAriaContext),ye}}},{key:"getPageElement",value:function(ie){var W=this.state.selected,ye=this.props,Q=ye.pageClassName,ne=ye.pageLinkClassName,te=ye.activeClassName,X=ye.activeLinkClassName,xe=ye.extraAriaContext,Ne=ye.pageLabelBuilder;return u().createElement(y,{key:ie,pageSelectedHandler:this.handlePageSelected.bind(null,ie),selected:W===ie,rel:this.getElementPageRel(ie),pageClassName:Q,pageLinkClassName:ne,activeClassName:te,activeLinkClassName:X,extraAriaContext:xe,href:this.getElementHref(ie),ariaLabel:this.ariaLabelBuilder(ie),page:ie+1,pageLabelBuilder:Ne,getEventListener:this.getEventListener})}},{key:"render",value:function(){var ie=this.props.renderOnZeroPageCount;if(this.props.pageCount===0&&ie!==void 0)return ie&&ie(this.props);var W=this.props,ye=W.disabledClassName,Q=W.disabledLinkClassName,ne=W.pageCount,te=W.className,X=W.containerClassName,xe=W.previousLabel,Ne=W.previousClassName,je=W.previousLinkClassName,Ie=W.previousAriaLabel,_e=W.prevRel,Ue=W.nextLabel,tt=W.nextClassName,ct=W.nextLinkClassName,ut=W.nextAriaLabel,Ye=W.nextRel,jt=this.state.selected,Ze=jt===0,Ut=jt===ne-1,Cn="".concat(C(Ne)).concat(Ze?" ".concat(C(ye)):""),fn="".concat(C(tt)).concat(Ut?" ".concat(C(ye)):""),yn="".concat(C(je)).concat(Ze?" ".concat(C(Q)):""),ur="".concat(C(ct)).concat(Ut?" ".concat(C(Q)):""),sr=Ze?"true":"false",We=Ut?"true":"false";return u().createElement("ul",{className:te||X,role:"navigation","aria-label":"Pagination"},u().createElement("li",{className:Cn},u().createElement("a",I({className:yn,href:this.getElementHref(jt-1),tabIndex:Ze?"-1":"0",role:"button",onKeyPress:this.handlePreviousPage,"aria-disabled":sr,"aria-label":Ie,rel:_e},this.getEventListener(this.handlePreviousPage)),xe)),this.pagination(),u().createElement("li",{className:fn},u().createElement("a",I({className:ur,href:this.getElementHref(jt+1),tabIndex:Ut?"-1":"0",role:"button",onKeyPress:this.handleNextPage,"aria-disabled":We,"aria-label":ut,rel:Ye},this.getEventListener(this.handleNextPage)),Ue)))}}])&&D(P.prototype,K),Object.defineProperty(P,"prototype",{writable:!1}),me}(c.Component);b(A,"propTypes",{pageCount:f().number.isRequired,pageRangeDisplayed:f().number,marginPagesDisplayed:f().number,previousLabel:f().node,previousAriaLabel:f().string,prevPageRel:f().string,prevRel:f().string,nextLabel:f().node,nextAriaLabel:f().string,nextPageRel:f().string,nextRel:f().string,breakLabel:f().oneOfType([f().string,f().node]),breakAriaLabels:f().shape({forward:f().string,backward:f().string}),hrefBuilder:f().func,hrefAllControls:f().bool,onPageChange:f().func,onPageActive:f().func,onClick:f().func,initialPage:f().number,forcePage:f().number,disableInitialCallback:f().bool,containerClassName:f().string,className:f().string,pageClassName:f().string,pageLinkClassName:f().string,pageLabelBuilder:f().func,activeClassName:f().string,activeLinkClassName:f().string,previousClassName:f().string,nextClassName:f().string,previousLinkClassName:f().string,nextLinkClassName:f().string,disabledClassName:f().string,disabledLinkClassName:f().string,breakClassName:f().string,breakLinkClassName:f().string,extraAriaContext:f().string,ariaLabelBuilder:f().func,eventListener:f().string,renderOnZeroPageCount:f().func,selectedPageRel:f().string}),b(A,"defaultProps",{pageRangeDisplayed:2,marginPagesDisplayed:3,activeClassName:"selected",previousLabel:"Previous",previousClassName:"previous",previousAriaLabel:"Previous page",prevPageRel:"prev",prevRel:"prev",nextLabel:"Next",nextClassName:"next",nextAriaLabel:"Next page",nextPageRel:"next",nextRel:"next",breakLabel:"...",breakAriaLabels:{forward:"Jump forward",backward:"Jump backward"},disabledClassName:"disabled",disableInitialCallback:!1,pageLabelBuilder:function(U){return U},eventListener:"onClick",renderOnZeroPageCount:void 0,selectedPageRel:"canonical",hrefAllControls:!1});const L=A})(),o})())}(fb)),fb.exports}var eEe=Z_e();const Mr=rc(eEe);/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var l1={};l1.version="0.18.5";var PH=1252,tEe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],DH=function(t){tEe.indexOf(t)!=-1&&(PH=t)};function nEe(){DH(1252)}var K0=function(t){DH(t)};function rEe(){K0(1200),nEe()}var Ox=function(e){return String.fromCharCode(e)},yM=function(e){return String.fromCharCode(e)},vM,Xu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Y0(t){for(var e="",n=0,r=0,s=0,i=0,o=0,c=0,u=0,h=0;h<t.length;)n=t.charCodeAt(h++),i=n>>2,r=t.charCodeAt(h++),o=(n&3)<<4|r>>4,s=t.charCodeAt(h++),c=(r&15)<<2|s>>6,u=s&63,isNaN(r)?c=u=64:isNaN(s)&&(u=64),e+=Xu.charAt(i)+Xu.charAt(o)+Xu.charAt(c)+Xu.charAt(u);return e}function eu(t){var e="",n=0,r=0,s=0,i=0,o=0,c=0,u=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var h=0;h<t.length;)i=Xu.indexOf(t.charAt(h++)),o=Xu.indexOf(t.charAt(h++)),n=i<<2|o>>4,e+=String.fromCharCode(n),c=Xu.indexOf(t.charAt(h++)),r=(o&15)<<4|c>>2,c!==64&&(e+=String.fromCharCode(r)),u=Xu.indexOf(t.charAt(h++)),s=(c&3)<<6|u,u!==64&&(e+=String.fromCharCode(s));return e}var Zn=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),cu=function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,n){return n?new Buffer(e,n):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function Ah(t){return Zn?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function xM(t){return Zn?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var rl=function(e){return Zn?cu(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)&255})};function Bw(t){if(typeof ArrayBuffer>"u")return rl(t);for(var e=new ArrayBuffer(t.length),n=new Uint8Array(e),r=0;r!=t.length;++r)n[r]=t.charCodeAt(r)&255;return e}function Hy(t){if(Array.isArray(t))return t.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],n=0;n<t.length;++n)e[n]=String.fromCharCode(t[n]);return e.join("")}function sEe(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var xa=Zn?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:cu(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,n=0;for(e=0;e<t.length;++e)n+=t[e].length;var r=new Uint8Array(n),s=0;for(e=0,n=0;e<t.length;n+=s,++e)if(s=t[e].length,t[e]instanceof Uint8Array)r.set(t[e],n);else{if(typeof t[e]=="string")throw"wtf";r.set(new Uint8Array(t[e]),n)}return r}return[].concat.apply([],t.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function aEe(t){for(var e=[],n=0,r=t.length+250,s=Ah(t.length+255),i=0;i<t.length;++i){var o=t.charCodeAt(i);if(o<128)s[n++]=o;else if(o<2048)s[n++]=192|o>>6&31,s[n++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var c=t.charCodeAt(++i)&1023;s[n++]=240|o>>8&7,s[n++]=128|o>>2&63,s[n++]=128|c>>6&15|(o&3)<<4,s[n++]=128|c&63}else s[n++]=224|o>>12&15,s[n++]=128|o>>6&63,s[n++]=128|o&63;n>r&&(e.push(s.slice(0,n)),n=0,s=Ah(65535),r=65530)}return e.push(s.slice(0,n)),xa(e)}var l0=/\u0000/g,Ix=/[\u0001-\u0006]/g;function gm(t){for(var e="",n=t.length-1;n>=0;)e+=t.charAt(n--);return e}function sl(t,e){var n=""+t;return n.length>=e?n:cs("0",e-n.length)+n}function p3(t,e){var n=""+t;return n.length>=e?n:cs(" ",e-n.length)+n}function c1(t,e){var n=""+t;return n.length>=e?n:n+cs(" ",e-n.length)}function iEe(t,e){var n=""+Math.round(t);return n.length>=e?n:cs("0",e-n.length)+n}function oEe(t,e){var n=""+t;return n.length>=e?n:cs("0",e-n.length)+n}var bM=Math.pow(2,32);function Df(t,e){if(t>bM||t<-bM)return iEe(t,e);var n=Math.round(t);return oEe(n,e)}function u1(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var wM=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],CS=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function lEe(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var us={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},_M={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},cEe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function d1(t,e,n){for(var r=t<0?-1:1,s=t*r,i=0,o=1,c=0,u=1,h=0,f=0,g=Math.floor(s);h<e&&(g=Math.floor(s),c=g*o+i,f=g*h+u,!(s-g<5e-8));)s=1/(s-g),i=o,o=c,u=h,h=f;if(f>e&&(h>e?(f=u,c=i):(f=h,c=o)),!n)return[0,r*c,f];var p=Math.floor(r*c/f);return[p,r*c-p*f,f]}function Px(t,e,n){if(t>2958465||t<0)return null;var r=t|0,s=Math.floor(86400*(t-r)),i=0,o=[],c={D:r,T:s,u:86400*(t-r)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(c.u)<1e-6&&(c.u=0),e&&e.date1904&&(r+=1462),c.u>.9999&&(c.u=0,++s==86400&&(c.T=s=0,++r,++c.D)),r===60)o=n?[1317,10,29]:[1900,2,29],i=3;else if(r===0)o=n?[1317,8,29]:[1900,1,0],i=6;else{r>60&&--r;var u=new Date(1900,0,1);u.setDate(u.getDate()+r-1),o=[u.getFullYear(),u.getMonth()+1,u.getDate()],i=u.getDay(),r<60&&(i=(i+6)%7),n&&(i=gEe(u,o))}return c.y=o[0],c.m=o[1],c.d=o[2],c.S=s%60,s=Math.floor(s/60),c.M=s%60,s=Math.floor(s/60),c.H=s,c.q=i,c}var MH=new Date(1899,11,31,0,0,0),uEe=MH.getTime(),dEe=new Date(1900,2,1,0,0,0);function FH(t,e){var n=t.getTime();return e?n-=1461*24*60*60*1e3:t>=dEe&&(n+=24*60*60*1e3),(n-(uEe+(t.getTimezoneOffset()-MH.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function g3(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function hEe(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function fEe(t){var e=t<0?12:11,n=g3(t.toFixed(12));return n.length<=e||(n=t.toPrecision(10),n.length<=e)?n:t.toExponential(5)}function mEe(t){var e=g3(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function pEe(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),n;return e>=-4&&e<=-1?n=t.toPrecision(10+e):Math.abs(e)<=9?n=fEe(t):e===10?n=t.toFixed(10).substr(0,12):n=mEe(t),g3(hEe(n.toUpperCase()))}function lT(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):pEe(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return vd(14,FH(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function gEe(t,e){e[0]-=581;var n=t.getDay();return t<60&&(n=(n+6)%7),n}function yEe(t,e,n,r){var s="",i=0,o=0,c=n.y,u,h=0;switch(t){case 98:c=n.y+543;case 121:switch(e.length){case 1:case 2:u=c%100,h=2;break;default:u=c%1e4,h=4;break}break;case 109:switch(e.length){case 1:case 2:u=n.m,h=e.length;break;case 3:return CS[n.m-1][1];case 5:return CS[n.m-1][0];default:return CS[n.m-1][2]}break;case 100:switch(e.length){case 1:case 2:u=n.d,h=e.length;break;case 3:return wM[n.q][0];default:return wM[n.q][1]}break;case 104:switch(e.length){case 1:case 2:u=1+(n.H+11)%12,h=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:u=n.H,h=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:u=n.M,h=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return n.u===0&&(e=="s"||e=="ss")?sl(n.S,e.length):(r>=2?o=r===3?1e3:100:o=r===1?10:1,i=Math.round(o*(n.S+n.u)),i>=60*o&&(i=0),e==="s"?i===0?"0":""+i/o:(s=sl(i,2+r),e==="ss"?s.substr(0,2):"."+s.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":u=n.D*24+n.H;break;case"[m]":case"[mm]":u=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":u=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+e}h=e.length===3?1:2;break;case 101:u=c,h=1;break}var f=h>0?sl(u,h):"";return f}function Ju(t){var e=3;if(t.length<=e)return t;for(var n=t.length%e,r=t.substr(0,n);n!=t.length;n+=e)r+=(r.length>0?",":"")+t.substr(n,e);return r}var BH=/%/g;function vEe(t,e,n){var r=e.replace(BH,""),s=e.length-r.length;return Uc(t,r,n*Math.pow(10,2*s))+cs("%",s)}function xEe(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return Uc(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function UH(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+UH(t,-e);var s=t.indexOf(".");s===-1&&(s=t.indexOf("E"));var i=Math.floor(Math.log(e)*Math.LOG10E)%s;if(i<0&&(i+=s),n=(e/Math.pow(10,i)).toPrecision(r+1+(s+i)%s),n.indexOf("e")===-1){var o=Math.floor(Math.log(e)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+i):n+="E+"+(o-i);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,s)+"."+n.substr(2+s),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,u,h,f){return u+h+f.substr(0,(s+i)%s)+"."+f.substr(i)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var zH=/# (\?+)( ?)\/( ?)(\d+)/;function bEe(t,e,n){var r=parseInt(t[4],10),s=Math.round(e*r),i=Math.floor(s/r),o=s-i*r,c=r;return n+(i===0?"":""+i)+" "+(o===0?cs(" ",t[1].length+1+t[4].length):p3(o,t[1].length)+t[2]+"/"+t[3]+sl(c,t[4].length))}function wEe(t,e,n){return n+(e===0?"":""+e)+cs(" ",t[1].length+2+t[4].length)}var qH=/^#*0*\.([0#]+)/,$H=/\).*[0#]/,VH=/\(###\) ###\\?-####/;function ei(t){for(var e="",n,r=0;r!=t.length;++r)switch(n=t.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(n)}return e}function EM(t,e){var n=Math.pow(10,e);return""+Math.round(t*n)/n}function jM(t,e){var n=t-Math.floor(t),r=Math.pow(10,e);return e<(""+Math.round(n*r)).length?0:Math.round(n*r)}function _Ee(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function EEe(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function xo(t,e,n){if(t.charCodeAt(0)===40&&!e.match($H)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?xo("n",r,n):"("+xo("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return xEe(t,e,n);if(e.indexOf("%")!==-1)return vEe(t,e,n);if(e.indexOf("E")!==-1)return UH(e,n);if(e.charCodeAt(0)===36)return"$"+xo(t,e.substr(e.charAt(1)==" "?2:1),n);var s,i,o,c,u=Math.abs(n),h=n<0?"-":"";if(e.match(/^00+$/))return h+Df(u,e.length);if(e.match(/^[#?]+$/))return s=Df(n,0),s==="0"&&(s=""),s.length>e.length?s:ei(e.substr(0,e.length-s.length))+s;if(i=e.match(zH))return bEe(i,u,h);if(e.match(/^#+0+$/))return h+Df(u,e.length-e.indexOf("0"));if(i=e.match(qH))return s=EM(n,i[1].length).replace(/^([^\.]+)$/,"$1."+ei(i[1])).replace(/\.$/,"."+ei(i[1])).replace(/\.(\d*)$/,function(w,E){return"."+E+cs("0",ei(i[1]).length-E.length)}),e.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),i=e.match(/^(0*)\.(#*)$/))return h+EM(u,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=e.match(/^#{1,3},##0(\.?)$/))return h+Ju(Df(u,0));if(i=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+xo(t,e,-n):Ju(""+(Math.floor(n)+_Ee(n,i[1].length)))+"."+sl(jM(n,i[1].length),i[1].length);if(i=e.match(/^#,#*,#0/))return xo(t,e.replace(/^#,#*,/,""),n);if(i=e.match(/^([0#]+)(\\?-([0#]+))+$/))return s=gm(xo(t,e.replace(/[\\-]/g,""),n)),o=0,gm(gm(e.replace(/\\/g,"")).replace(/[0#]/g,function(w){return o<s.length?s.charAt(o++):w==="0"?"0":""}));if(e.match(VH))return s=xo(t,"##########",n),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var f="";if(i=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),c=d1(u,Math.pow(10,o)-1,!1),s=""+h,f=Uc("n",i[1],c[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),s+=f+i[2]+"/"+i[3],f=c1(c[2],o),f.length<i[4].length&&(f=ei(i[4].substr(i[4].length-f.length))+f),s+=f,s;if(i=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),c=d1(u,Math.pow(10,o)-1,!0),h+(c[0]||(c[1]?"":"0"))+" "+(c[1]?p3(c[1],o)+i[2]+"/"+i[3]+c1(c[2],o):cs(" ",2*o+1+i[2].length+i[3].length));if(i=e.match(/^[#0?]+$/))return s=Df(n,0),e.length<=s.length?s:ei(e.substr(0,e.length-s.length))+s;if(i=e.match(/^([#0?]+)\.([#0]+)$/)){s=""+n.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=s.indexOf(".");var g=e.indexOf(".")-o,p=e.length-s.length-g;return ei(e.substr(0,g)+s+e.substr(e.length-p))}if(i=e.match(/^00,000\.([#0]*0)$/))return o=jM(n,i[1].length),n<0?"-"+xo(t,e,-n):Ju(EEe(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(w){return"00,"+(w.length<3?sl(0,3-w.length):"")+w})+"."+sl(o,i[1].length);switch(e){case"###,##0.00":return xo(t,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var y=Ju(Df(u,0));return y!=="0"?h+y:"";case"###,###.00":return xo(t,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return xo(t,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function jEe(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return Uc(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function SEe(t,e,n){var r=e.replace(BH,""),s=e.length-r.length;return Uc(t,r,n*Math.pow(10,2*s))+cs("%",s)}function HH(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+HH(t,-e);var s=t.indexOf(".");s===-1&&(s=t.indexOf("E"));var i=Math.floor(Math.log(e)*Math.LOG10E)%s;if(i<0&&(i+=s),n=(e/Math.pow(10,i)).toPrecision(r+1+(s+i)%s),!n.match(/[Ee]/)){var o=Math.floor(Math.log(e)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+i):n+="E+"+(o-i),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,u,h,f){return u+h+f.substr(0,(s+i)%s)+"."+f.substr(i)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function Al(t,e,n){if(t.charCodeAt(0)===40&&!e.match($H)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Al("n",r,n):"("+Al("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return jEe(t,e,n);if(e.indexOf("%")!==-1)return SEe(t,e,n);if(e.indexOf("E")!==-1)return HH(e,n);if(e.charCodeAt(0)===36)return"$"+Al(t,e.substr(e.charAt(1)==" "?2:1),n);var s,i,o,c,u=Math.abs(n),h=n<0?"-":"";if(e.match(/^00+$/))return h+sl(u,e.length);if(e.match(/^[#?]+$/))return s=""+n,n===0&&(s=""),s.length>e.length?s:ei(e.substr(0,e.length-s.length))+s;if(i=e.match(zH))return wEe(i,u,h);if(e.match(/^#+0+$/))return h+sl(u,e.length-e.indexOf("0"));if(i=e.match(qH))return s=(""+n).replace(/^([^\.]+)$/,"$1."+ei(i[1])).replace(/\.$/,"."+ei(i[1])),s=s.replace(/\.(\d*)$/,function(w,E){return"."+E+cs("0",ei(i[1]).length-E.length)}),e.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),i=e.match(/^(0*)\.(#*)$/))return h+(""+u).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=e.match(/^#{1,3},##0(\.?)$/))return h+Ju(""+u);if(i=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Al(t,e,-n):Ju(""+n)+"."+cs("0",i[1].length);if(i=e.match(/^#,#*,#0/))return Al(t,e.replace(/^#,#*,/,""),n);if(i=e.match(/^([0#]+)(\\?-([0#]+))+$/))return s=gm(Al(t,e.replace(/[\\-]/g,""),n)),o=0,gm(gm(e.replace(/\\/g,"")).replace(/[0#]/g,function(w){return o<s.length?s.charAt(o++):w==="0"?"0":""}));if(e.match(VH))return s=Al(t,"##########",n),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var f="";if(i=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),c=d1(u,Math.pow(10,o)-1,!1),s=""+h,f=Uc("n",i[1],c[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),s+=f+i[2]+"/"+i[3],f=c1(c[2],o),f.length<i[4].length&&(f=ei(i[4].substr(i[4].length-f.length))+f),s+=f,s;if(i=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),c=d1(u,Math.pow(10,o)-1,!0),h+(c[0]||(c[1]?"":"0"))+" "+(c[1]?p3(c[1],o)+i[2]+"/"+i[3]+c1(c[2],o):cs(" ",2*o+1+i[2].length+i[3].length));if(i=e.match(/^[#0?]+$/))return s=""+n,e.length<=s.length?s:ei(e.substr(0,e.length-s.length))+s;if(i=e.match(/^([#0]+)\.([#0]+)$/)){s=""+n.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=s.indexOf(".");var g=e.indexOf(".")-o,p=e.length-s.length-g;return ei(e.substr(0,g)+s+e.substr(e.length-p))}if(i=e.match(/^00,000\.([#0]*0)$/))return n<0?"-"+Al(t,e,-n):Ju(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(w){return"00,"+(w.length<3?sl(0,3-w.length):"")+w})+"."+sl(0,i[1].length);switch(e){case"###,###":case"##,###":case"#,###":var y=Ju(""+u);return y!=="0"?h+y:"";default:if(e.match(/\.[0#?]*$/))return Al(t,e.slice(0,e.lastIndexOf(".")),n)+ei(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Uc(t,e,n){return(n|0)===n?Al(t,e,n):xo(t,e,n)}function CEe(t){for(var e=[],n=!1,r=0,s=0;r<t.length;++r)switch(t.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=t.substr(s,r-s),s=r+1}if(e[e.length]=t.substr(s),n===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var GH=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function WH(t){for(var e=0,n="",r="";e<t.length;)switch(n=t.charAt(e)){case"G":u1(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(r=n;t.charAt(e++)!=="]"&&e<t.length;)r+=t.charAt(e);if(r.match(GH))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(n=t.charAt(++e))>-1||n=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===n;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function NEe(t,e,n,r){for(var s=[],i="",o=0,c="",u="t",h,f,g,p="H";o<t.length;)switch(c=t.charAt(o)){case"G":if(!u1(t,o))throw new Error("unrecognized character "+c+" in "+t);s[s.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(g=t.charCodeAt(++o))!==34&&o<t.length;)i+=String.fromCharCode(g);s[s.length]={t:"t",v:i},++o;break;case"\\":var y=t.charAt(++o),w=y==="("||y===")"?y:"t";s[s.length]={t:w,v:y},++o;break;case"_":s[s.length]={t:"t",v:" "},o+=2;break;case"@":s[s.length]={t:"T",v:e},++o;break;case"B":case"b":if(t.charAt(o+1)==="1"||t.charAt(o+1)==="2"){if(h==null&&(h=Px(e,n,t.charAt(o+1)==="2"),h==null))return"";s[s.length]={t:"X",v:t.substr(o,2)},u=c,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":c=c.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||h==null&&(h=Px(e,n),h==null))return"";for(i=c;++o<t.length&&t.charAt(o).toLowerCase()===c;)i+=c;c==="m"&&u.toLowerCase()==="h"&&(c="M"),c==="h"&&(c=p),s[s.length]={t:c,v:i},u=c;break;case"A":case"a":case"":var E={t:c,v:c};if(h==null&&(h=Px(e,n)),t.substr(o,3).toUpperCase()==="A/P"?(h!=null&&(E.v=h.H>=12?"P":"A"),E.t="T",p="h",o+=3):t.substr(o,5).toUpperCase()==="AM/PM"?(h!=null&&(E.v=h.H>=12?"PM":"AM"),E.t="T",o+=5,p="h"):t.substr(o,5).toUpperCase()==="/"?(h!=null&&(E.v=h.H>=12?"":""),E.t="T",o+=5,p="h"):(E.t="t",++o),h==null&&E.t==="T")return"";s[s.length]=E,u=c;break;case"[":for(i=c;t.charAt(o++)!=="]"&&o<t.length;)i+=t.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(GH)){if(h==null&&(h=Px(e,n),h==null))return"";s[s.length]={t:"Z",v:i.toLowerCase()},u=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",WH(t)||(s[s.length]={t:"t",v:i}));break;case".":if(h!=null){for(i=c;++o<t.length&&(c=t.charAt(o))==="0";)i+=c;s[s.length]={t:"s",v:i};break}case"0":case"#":for(i=c;++o<t.length&&"0#?.,E+-%".indexOf(c=t.charAt(o))>-1;)i+=c;s[s.length]={t:"n",v:i};break;case"?":for(i=c;t.charAt(++o)===c;)i+=c;s[s.length]={t:c,v:i},u=c;break;case"*":++o,(t.charAt(o)==" "||t.charAt(o)=="*")&&++o;break;case"(":case")":s[s.length]={t:r===1?"t":c,v:c},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=c;o<t.length&&"0123456789".indexOf(t.charAt(++o))>-1;)i+=t.charAt(o);s[s.length]={t:"D",v:i};break;case" ":s[s.length]={t:c,v:c},++o;break;case"$":s[s.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(c)===-1)throw new Error("unrecognized character "+c+" in "+t);s[s.length]={t:"t",v:c},++o;break}var j=0,C=0,O;for(o=s.length-1,u="t";o>=0;--o)switch(s[o].t){case"h":case"H":s[o].t=p,u="h",j<1&&(j=1);break;case"s":(O=s[o].v.match(/\.0+$/))&&(C=Math.max(C,O[0].length-1)),j<3&&(j=3);case"d":case"y":case"M":case"e":u=s[o].t;break;case"m":u==="s"&&(s[o].t="M",j<2&&(j=2));break;case"X":break;case"Z":j<1&&s[o].v.match(/[Hh]/)&&(j=1),j<2&&s[o].v.match(/[Mm]/)&&(j=2),j<3&&s[o].v.match(/[Ss]/)&&(j=3)}switch(j){case 0:break;case 1:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M),h.M>=60&&(h.M=0,++h.H);break;case 2:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M);break}var I="",D;for(o=0;o<s.length;++o)switch(s[o].t){case"t":case"T":case" ":case"D":break;case"X":s[o].v="",s[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[o].v=yEe(s[o].t.charCodeAt(0),s[o].v,h,C),s[o].t="t";break;case"n":case"?":for(D=o+1;s[D]!=null&&((c=s[D].t)==="?"||c==="D"||(c===" "||c==="t")&&s[D+1]!=null&&(s[D+1].t==="?"||s[D+1].t==="t"&&s[D+1].v==="/")||s[o].t==="("&&(c===" "||c==="n"||c===")")||c==="t"&&(s[D].v==="/"||s[D].v===" "&&s[D+1]!=null&&s[D+1].t=="?"));)s[o].v+=s[D].v,s[D]={v:"",t:";"},++D;I+=s[o].v,o=D-1;break;case"G":s[o].t="t",s[o].v=lT(e,n);break}var T="",F,_;if(I.length>0){I.charCodeAt(0)==40?(F=e<0&&I.charCodeAt(0)===45?-e:e,_=Uc("n",I,F)):(F=e<0&&r>1?-e:e,_=Uc("n",I,F),F<0&&s[0]&&s[0].t=="t"&&(_=_.substr(1),s[0].v="-"+s[0].v)),D=_.length-1;var R=s.length;for(o=0;o<s.length;++o)if(s[o]!=null&&s[o].t!="t"&&s[o].v.indexOf(".")>-1){R=o;break}var b=s.length;if(R===s.length&&_.indexOf("E")===-1){for(o=s.length-1;o>=0;--o)s[o]==null||"n?".indexOf(s[o].t)===-1||(D>=s[o].v.length-1?(D-=s[o].v.length,s[o].v=_.substr(D+1,s[o].v.length)):D<0?s[o].v="":(s[o].v=_.substr(0,D+1),D=-1),s[o].t="t",b=o);D>=0&&b<s.length&&(s[b].v=_.substr(0,D+1)+s[b].v)}else if(R!==s.length&&_.indexOf("E")===-1){for(D=_.indexOf(".")-1,o=R;o>=0;--o)if(!(s[o]==null||"n?".indexOf(s[o].t)===-1)){for(f=s[o].v.indexOf(".")>-1&&o===R?s[o].v.indexOf(".")-1:s[o].v.length-1,T=s[o].v.substr(f+1);f>=0;--f)D>=0&&(s[o].v.charAt(f)==="0"||s[o].v.charAt(f)==="#")&&(T=_.charAt(D--)+T);s[o].v=T,s[o].t="t",b=o}for(D>=0&&b<s.length&&(s[b].v=_.substr(0,D+1)+s[b].v),D=_.indexOf(".")+1,o=R;o<s.length;++o)if(!(s[o]==null||"n?(".indexOf(s[o].t)===-1&&o!==R)){for(f=s[o].v.indexOf(".")>-1&&o===R?s[o].v.indexOf(".")+1:0,T=s[o].v.substr(0,f);f<s[o].v.length;++f)D<_.length&&(T+=_.charAt(D++));s[o].v=T,s[o].t="t",b=o}}}for(o=0;o<s.length;++o)s[o]!=null&&"n?".indexOf(s[o].t)>-1&&(F=r>1&&e<0&&o>0&&s[o-1].v==="-"?-e:e,s[o].v=Uc(s[o].t,s[o].v,F),s[o].t="t");var A="";for(o=0;o!==s.length;++o)s[o]!=null&&(A+=s[o].v);return A}var SM=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function CM(t,e){if(e==null)return!1;var n=parseFloat(e[2]);switch(e[1]){case"=":if(t==n)return!0;break;case">":if(t>n)return!0;break;case"<":if(t<n)return!0;break;case"<>":if(t!=n)return!0;break;case">=":if(t>=n)return!0;break;case"<=":if(t<=n)return!0;break}return!1}function TEe(t,e){var n=CEe(t),r=n.length,s=n[r-1].indexOf("@");if(r<4&&s>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof e!="number")return[4,n.length===4||s>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=s>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=s>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=s>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var i=e>0?n[0]:e<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,i];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var o=n[0].match(SM),c=n[1].match(SM);return CM(e,o)?[r,n[0]]:CM(e,c)?[r,n[1]]:[r,n[o!=null&&c!=null?2:1]]}return[r,i]}function vd(t,e,n){n==null&&(n={});var r="";switch(typeof t){case"string":t=="m/d/yy"&&n.dateNF?r=n.dateNF:r=t;break;case"number":t==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:us)[t],r==null&&(r=n.table&&n.table[_M[t]]||us[_M[t]]),r==null&&(r=cEe[t]||"General");break}if(u1(r,0))return lT(e,n);e instanceof Date&&(e=FH(e,n.date1904));var s=TEe(r,e);if(u1(s[1]))return lT(e,n);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return NEe(s[1],e,n,s[0])}function KH(t,e){if(typeof e!="number"){e=+e||-1;for(var n=0;n<392;++n){if(us[n]==null){e<0&&(e=n);continue}if(us[n]==t){e=n;break}}e<0&&(e=391)}return us[e]=t,e}function Uw(t){for(var e=0;e!=392;++e)t[e]!==void 0&&KH(t[e],e)}function zw(){us=lEe()}var YH=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function AEe(t){var e=typeof t=="number"?us[t]:t;return e=e.replace(YH,"(\\d+)"),new RegExp("^"+e+"$")}function LEe(t,e,n){var r=-1,s=-1,i=-1,o=-1,c=-1,u=-1;(e.match(YH)||[]).forEach(function(g,p){var y=parseInt(n[p+1],10);switch(g.toLowerCase().charAt(0)){case"y":r=y;break;case"d":i=y;break;case"h":o=y;break;case"s":u=y;break;case"m":o>=0?c=y:s=y;break}}),u>=0&&c==-1&&s>=0&&(c=s,s=-1);var h=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);h.length==7&&(h="0"+h),h.length==8&&(h="20"+h);var f=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2);return o==-1&&c==-1&&u==-1?h:r==-1&&s==-1&&i==-1?f:h+"T"+f}var REe=function(){var t={};t.version="1.2.0";function e(){for(var _=0,R=new Array(256),b=0;b!=256;++b)_=b,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,R[b]=_;return typeof Int32Array<"u"?new Int32Array(R):R}var n=e();function r(_){var R=0,b=0,A=0,L=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(A=0;A!=256;++A)L[A]=_[A];for(A=0;A!=256;++A)for(b=_[A],R=256+A;R<4096;R+=256)b=L[R]=b>>>8^_[b&255];var U=[];for(A=1;A!=16;++A)U[A-1]=typeof Int32Array<"u"?L.subarray(A*256,A*256+256):L.slice(A*256,A*256+256);return U}var s=r(n),i=s[0],o=s[1],c=s[2],u=s[3],h=s[4],f=s[5],g=s[6],p=s[7],y=s[8],w=s[9],E=s[10],j=s[11],C=s[12],O=s[13],I=s[14];function D(_,R){for(var b=R^-1,A=0,L=_.length;A<L;)b=b>>>8^n[(b^_.charCodeAt(A++))&255];return~b}function T(_,R){for(var b=R^-1,A=_.length-15,L=0;L<A;)b=I[_[L++]^b&255]^O[_[L++]^b>>8&255]^C[_[L++]^b>>16&255]^j[_[L++]^b>>>24]^E[_[L++]]^w[_[L++]]^y[_[L++]]^p[_[L++]]^g[_[L++]]^f[_[L++]]^h[_[L++]]^u[_[L++]]^c[_[L++]]^o[_[L++]]^i[_[L++]]^n[_[L++]];for(A+=15;L<A;)b=b>>>8^n[(b^_[L++])&255];return~b}function F(_,R){for(var b=R^-1,A=0,L=_.length,U=0,P=0;A<L;)U=_.charCodeAt(A++),U<128?b=b>>>8^n[(b^U)&255]:U<2048?(b=b>>>8^n[(b^(192|U>>6&31))&255],b=b>>>8^n[(b^(128|U&63))&255]):U>=55296&&U<57344?(U=(U&1023)+64,P=_.charCodeAt(A++)&1023,b=b>>>8^n[(b^(240|U>>8&7))&255],b=b>>>8^n[(b^(128|U>>2&63))&255],b=b>>>8^n[(b^(128|P>>6&15|(U&3)<<4))&255],b=b>>>8^n[(b^(128|P&63))&255]):(b=b>>>8^n[(b^(224|U>>12&15))&255],b=b>>>8^n[(b^(128|U>>6&63))&255],b=b>>>8^n[(b^(128|U&63))&255]);return~b}return t.table=n,t.bstr=D,t.buf=T,t.str=F,t}(),fr=function(){var e={};e.version="1.2.1";function n(ee,de){for(var le=ee.split("/"),ue=de.split("/"),he=0,fe=0,Ce=Math.min(le.length,ue.length);he<Ce;++he){if(fe=le[he].length-ue[he].length)return fe;if(le[he]!=ue[he])return le[he]<ue[he]?-1:1}return le.length-ue.length}function r(ee){if(ee.charAt(ee.length-1)=="/")return ee.slice(0,-1).indexOf("/")===-1?ee:r(ee.slice(0,-1));var de=ee.lastIndexOf("/");return de===-1?ee:ee.slice(0,de+1)}function s(ee){if(ee.charAt(ee.length-1)=="/")return s(ee.slice(0,-1));var de=ee.lastIndexOf("/");return de===-1?ee:ee.slice(de+1)}function i(ee,de){typeof de=="string"&&(de=new Date(de));var le=de.getHours();le=le<<6|de.getMinutes(),le=le<<5|de.getSeconds()>>>1,ee.write_shift(2,le);var ue=de.getFullYear()-1980;ue=ue<<4|de.getMonth()+1,ue=ue<<5|de.getDate(),ee.write_shift(2,ue)}function o(ee){var de=ee.read_shift(2)&65535,le=ee.read_shift(2)&65535,ue=new Date,he=le&31;le>>>=5;var fe=le&15;le>>>=4,ue.setMilliseconds(0),ue.setFullYear(le+1980),ue.setMonth(fe-1),ue.setDate(he);var Ce=de&31;de>>>=5;var Me=de&63;return de>>>=6,ue.setHours(de),ue.setMinutes(Me),ue.setSeconds(Ce<<1),ue}function c(ee){Fi(ee,0);for(var de={},le=0;ee.l<=ee.length-4;){var ue=ee.read_shift(2),he=ee.read_shift(2),fe=ee.l+he,Ce={};switch(ue){case 21589:le=ee.read_shift(1),le&1&&(Ce.mtime=ee.read_shift(4)),he>5&&(le&2&&(Ce.atime=ee.read_shift(4)),le&4&&(Ce.ctime=ee.read_shift(4))),Ce.mtime&&(Ce.mt=new Date(Ce.mtime*1e3));break}ee.l=fe,de[ue]=Ce}return de}var u;function h(){return u||(u={})}function f(ee,de){if(ee[0]==80&&ee[1]==75)return sa(ee,de);if((ee[0]|32)==109&&(ee[1]|32)==105)return Ha(ee,de);if(ee.length<512)throw new Error("CFB file size "+ee.length+" < 512");var le=3,ue=512,he=0,fe=0,Ce=0,Me=0,Le=0,Re=[],Oe=ee.slice(0,512);Fi(Oe,0);var Qe=g(Oe);switch(le=Qe[0],le){case 3:ue=512;break;case 4:ue=4096;break;case 0:if(Qe[1]==0)return sa(ee,de);default:throw new Error("Major Version: Expected 3 or 4 saw "+le)}ue!==512&&(Oe=ee.slice(0,ue),Fi(Oe,28));var nt=ee.slice(0,ue);p(Oe,le);var mt=Oe.read_shift(4,"i");if(le===3&&mt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+mt);Oe.l+=4,Ce=Oe.read_shift(4,"i"),Oe.l+=4,Oe.chk("00100000","Mini Stream Cutoff Size: "),Me=Oe.read_shift(4,"i"),he=Oe.read_shift(4,"i"),Le=Oe.read_shift(4,"i"),fe=Oe.read_shift(4,"i");for(var st=-1,at=0;at<109&&(st=Oe.read_shift(4,"i"),!(st<0));++at)Re[at]=st;var Bt=y(ee,ue);j(Le,fe,Bt,ue,Re);var Dn=O(Bt,Ce,Re,ue);Dn[Ce].name="!Directory",he>0&&Me!==P&&(Dn[Me].name="!MiniFAT"),Dn[Re[0]].name="!FAT",Dn.fat_addrs=Re,Dn.ssz=ue;var ln={},An=[],vr=[],_s=[];I(Ce,Dn,Bt,An,he,ln,vr,Me),w(vr,_s,An),An.shift();var ia={FileIndex:vr,FullPaths:_s};return de&&de.raw&&(ia.raw={header:nt,sectors:Bt}),ia}function g(ee){if(ee[ee.l]==80&&ee[ee.l+1]==75)return[0,0];ee.chk(K,"Header Signature: "),ee.l+=16;var de=ee.read_shift(2,"u");return[ee.read_shift(2,"u"),de]}function p(ee,de){var le=9;switch(ee.l+=2,le=ee.read_shift(2)){case 9:if(de!=3)throw new Error("Sector Shift: Expected 9 saw "+le);break;case 12:if(de!=4)throw new Error("Sector Shift: Expected 12 saw "+le);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+le)}ee.chk("0600","Mini Sector Shift: "),ee.chk("000000000000","Reserved: ")}function y(ee,de){for(var le=Math.ceil(ee.length/de)-1,ue=[],he=1;he<le;++he)ue[he-1]=ee.slice(he*de,(he+1)*de);return ue[le-1]=ee.slice(le*de),ue}function w(ee,de,le){for(var ue=0,he=0,fe=0,Ce=0,Me=0,Le=le.length,Re=[],Oe=[];ue<Le;++ue)Re[ue]=Oe[ue]=ue,de[ue]=le[ue];for(;Me<Oe.length;++Me)ue=Oe[Me],he=ee[ue].L,fe=ee[ue].R,Ce=ee[ue].C,Re[ue]===ue&&(he!==-1&&Re[he]!==he&&(Re[ue]=Re[he]),fe!==-1&&Re[fe]!==fe&&(Re[ue]=Re[fe])),Ce!==-1&&(Re[Ce]=ue),he!==-1&&ue!=Re[ue]&&(Re[he]=Re[ue],Oe.lastIndexOf(he)<Me&&Oe.push(he)),fe!==-1&&ue!=Re[ue]&&(Re[fe]=Re[ue],Oe.lastIndexOf(fe)<Me&&Oe.push(fe));for(ue=1;ue<Le;++ue)Re[ue]===ue&&(fe!==-1&&Re[fe]!==fe?Re[ue]=Re[fe]:he!==-1&&Re[he]!==he&&(Re[ue]=Re[he]));for(ue=1;ue<Le;++ue)if(ee[ue].type!==0){if(Me=ue,Me!=Re[Me])do Me=Re[Me],de[ue]=de[Me]+"/"+de[ue];while(Me!==0&&Re[Me]!==-1&&Me!=Re[Me]);Re[ue]=-1}for(de[0]+="/",ue=1;ue<Le;++ue)ee[ue].type!==2&&(de[ue]+="/")}function E(ee,de,le){for(var ue=ee.start,he=ee.size,fe=[],Ce=ue;le&&he>0&&Ce>=0;)fe.push(de.slice(Ce*U,Ce*U+U)),he-=U,Ce=nh(le,Ce*4);return fe.length===0?ze(0):xa(fe).slice(0,ee.size)}function j(ee,de,le,ue,he){var fe=P;if(ee===P){if(de!==0)throw new Error("DIFAT chain shorter than expected")}else if(ee!==-1){var Ce=le[ee],Me=(ue>>>2)-1;if(!Ce)return;for(var Le=0;Le<Me&&(fe=nh(Ce,Le*4))!==P;++Le)he.push(fe);j(nh(Ce,ue-4),de-1,le,ue,he)}}function C(ee,de,le,ue,he){var fe=[],Ce=[];he||(he=[]);var Me=ue-1,Le=0,Re=0;for(Le=de;Le>=0;){he[Le]=!0,fe[fe.length]=Le,Ce.push(ee[Le]);var Oe=le[Math.floor(Le*4/ue)];if(Re=Le*4&Me,ue<4+Re)throw new Error("FAT boundary crossed: "+Le+" 4 "+ue);if(!ee[Oe])break;Le=nh(ee[Oe],Re)}return{nodes:fe,data:IM([Ce])}}function O(ee,de,le,ue){var he=ee.length,fe=[],Ce=[],Me=[],Le=[],Re=ue-1,Oe=0,Qe=0,nt=0,mt=0;for(Oe=0;Oe<he;++Oe)if(Me=[],nt=Oe+de,nt>=he&&(nt-=he),!Ce[nt]){Le=[];var st=[];for(Qe=nt;Qe>=0;){st[Qe]=!0,Ce[Qe]=!0,Me[Me.length]=Qe,Le.push(ee[Qe]);var at=le[Math.floor(Qe*4/ue)];if(mt=Qe*4&Re,ue<4+mt)throw new Error("FAT boundary crossed: "+Qe+" 4 "+ue);if(!ee[at]||(Qe=nh(ee[at],mt),st[Qe]))break}fe[nt]={nodes:Me,data:IM([Le])}}return fe}function I(ee,de,le,ue,he,fe,Ce,Me){for(var Le=0,Re=ue.length?2:0,Oe=de[ee].data,Qe=0,nt=0,mt;Qe<Oe.length;Qe+=128){var st=Oe.slice(Qe,Qe+128);Fi(st,64),nt=st.read_shift(2),mt=w3(st,0,nt-Re),ue.push(mt);var at={name:mt,type:st.read_shift(1),color:st.read_shift(1),L:st.read_shift(4,"i"),R:st.read_shift(4,"i"),C:st.read_shift(4,"i"),clsid:st.read_shift(16),state:st.read_shift(4,"i"),start:0,size:0},Bt=st.read_shift(2)+st.read_shift(2)+st.read_shift(2)+st.read_shift(2);Bt!==0&&(at.ct=D(st,st.l-8));var Dn=st.read_shift(2)+st.read_shift(2)+st.read_shift(2)+st.read_shift(2);Dn!==0&&(at.mt=D(st,st.l-8)),at.start=st.read_shift(4,"i"),at.size=st.read_shift(4,"i"),at.size<0&&at.start<0&&(at.size=at.type=0,at.start=P,at.name=""),at.type===5?(Le=at.start,he>0&&Le!==P&&(de[Le].name="!StreamData")):at.size>=4096?(at.storage="fat",de[at.start]===void 0&&(de[at.start]=C(le,at.start,de.fat_addrs,de.ssz)),de[at.start].name=at.name,at.content=de[at.start].data.slice(0,at.size)):(at.storage="minifat",at.size<0?at.size=0:Le!==P&&at.start!==P&&de[Le]&&(at.content=E(at,de[Le].data,(de[Me]||{}).data))),at.content&&Fi(at.content,0),fe[mt]=at,Ce.push(at)}}function D(ee,de){return new Date((Ui(ee,de+4)/1e7*Math.pow(2,32)+Ui(ee,de)/1e7-11644473600)*1e3)}function T(ee,de){return h(),f(u.readFileSync(ee),de)}function F(ee,de){var le=de&&de.type;switch(le||Zn&&Buffer.isBuffer(ee)&&(le="buffer"),le||"base64"){case"file":return T(ee,de);case"base64":return f(rl(eu(ee)),de);case"binary":return f(rl(ee),de)}return f(ee,de)}function _(ee,de){var le=de||{},ue=le.root||"Root Entry";if(ee.FullPaths||(ee.FullPaths=[]),ee.FileIndex||(ee.FileIndex=[]),ee.FullPaths.length!==ee.FileIndex.length)throw new Error("inconsistent CFB structure");ee.FullPaths.length===0&&(ee.FullPaths[0]=ue+"/",ee.FileIndex[0]={name:ue,type:5}),le.CLSID&&(ee.FileIndex[0].clsid=le.CLSID),R(ee)}function R(ee){var de="Sh33tJ5";if(!fr.find(ee,"/"+de)){var le=ze(4);le[0]=55,le[1]=le[3]=50,le[2]=54,ee.FileIndex.push({name:de,type:2,content:le,size:4,L:69,R:69,C:69}),ee.FullPaths.push(ee.FullPaths[0]+de),b(ee)}}function b(ee,de){_(ee);for(var le=!1,ue=!1,he=ee.FullPaths.length-1;he>=0;--he){var fe=ee.FileIndex[he];switch(fe.type){case 0:ue?le=!0:(ee.FileIndex.pop(),ee.FullPaths.pop());break;case 1:case 2:case 5:ue=!0,isNaN(fe.R*fe.L*fe.C)&&(le=!0),fe.R>-1&&fe.L>-1&&fe.R==fe.L&&(le=!0);break;default:le=!0;break}}if(!(!le&&!de)){var Ce=new Date(1987,1,19),Me=0,Le=Object.create?Object.create(null):{},Re=[];for(he=0;he<ee.FullPaths.length;++he)Le[ee.FullPaths[he]]=!0,ee.FileIndex[he].type!==0&&Re.push([ee.FullPaths[he],ee.FileIndex[he]]);for(he=0;he<Re.length;++he){var Oe=r(Re[he][0]);ue=Le[Oe],ue||(Re.push([Oe,{name:s(Oe).replace("/",""),type:1,clsid:re,ct:Ce,mt:Ce,content:null}]),Le[Oe]=!0)}for(Re.sort(function(mt,st){return n(mt[0],st[0])}),ee.FullPaths=[],ee.FileIndex=[],he=0;he<Re.length;++he)ee.FullPaths[he]=Re[he][0],ee.FileIndex[he]=Re[he][1];for(he=0;he<Re.length;++he){var Qe=ee.FileIndex[he],nt=ee.FullPaths[he];if(Qe.name=s(nt).replace("/",""),Qe.L=Qe.R=Qe.C=-(Qe.color=1),Qe.size=Qe.content?Qe.content.length:0,Qe.start=0,Qe.clsid=Qe.clsid||re,he===0)Qe.C=Re.length>1?1:-1,Qe.size=0,Qe.type=5;else if(nt.slice(-1)=="/"){for(Me=he+1;Me<Re.length&&r(ee.FullPaths[Me])!=nt;++Me);for(Qe.C=Me>=Re.length?-1:Me,Me=he+1;Me<Re.length&&r(ee.FullPaths[Me])!=r(nt);++Me);Qe.R=Me>=Re.length?-1:Me,Qe.type=1}else r(ee.FullPaths[he+1]||"")==r(nt)&&(Qe.R=he+1),Qe.type=2}}}function A(ee,de){var le=de||{};if(le.fileType=="mad")return bn(ee,le);switch(b(ee),le.fileType){case"zip":return ps(ee,le)}var ue=function(mt){for(var st=0,at=0,Bt=0;Bt<mt.FileIndex.length;++Bt){var Dn=mt.FileIndex[Bt];if(Dn.content){var ln=Dn.content.length;ln>0&&(ln<4096?st+=ln+63>>6:at+=ln+511>>9)}}for(var An=mt.FullPaths.length+3>>2,vr=st+7>>3,_s=st+127>>7,ia=vr+at+An+_s,oa=ia+127>>7,ro=oa<=109?0:Math.ceil((oa-109)/127);ia+oa+ro+127>>7>oa;)ro=++oa<=109?0:Math.ceil((oa-109)/127);var ns=[1,ro,oa,_s,An,at,st,0];return mt.FileIndex[0].size=st<<6,ns[7]=(mt.FileIndex[0].start=ns[0]+ns[1]+ns[2]+ns[3]+ns[4]+ns[5])+(ns[6]+7>>3),ns}(ee),he=ze(ue[7]<<9),fe=0,Ce=0;{for(fe=0;fe<8;++fe)he.write_shift(1,G[fe]);for(fe=0;fe<8;++fe)he.write_shift(2,0);for(he.write_shift(2,62),he.write_shift(2,3),he.write_shift(2,65534),he.write_shift(2,9),he.write_shift(2,6),fe=0;fe<3;++fe)he.write_shift(2,0);for(he.write_shift(4,0),he.write_shift(4,ue[2]),he.write_shift(4,ue[0]+ue[1]+ue[2]+ue[3]-1),he.write_shift(4,0),he.write_shift(4,4096),he.write_shift(4,ue[3]?ue[0]+ue[1]+ue[2]-1:P),he.write_shift(4,ue[3]),he.write_shift(-4,ue[1]?ue[0]-1:P),he.write_shift(4,ue[1]),fe=0;fe<109;++fe)he.write_shift(-4,fe<ue[2]?ue[1]+fe:-1)}if(ue[1])for(Ce=0;Ce<ue[1];++Ce){for(;fe<236+Ce*127;++fe)he.write_shift(-4,fe<ue[2]?ue[1]+fe:-1);he.write_shift(-4,Ce===ue[1]-1?P:Ce+1)}var Me=function(mt){for(Ce+=mt;fe<Ce-1;++fe)he.write_shift(-4,fe+1);mt&&(++fe,he.write_shift(-4,P))};for(Ce=fe=0,Ce+=ue[1];fe<Ce;++fe)he.write_shift(-4,Z.DIFSECT);for(Ce+=ue[2];fe<Ce;++fe)he.write_shift(-4,Z.FATSECT);Me(ue[3]),Me(ue[4]);for(var Le=0,Re=0,Oe=ee.FileIndex[0];Le<ee.FileIndex.length;++Le)Oe=ee.FileIndex[Le],Oe.content&&(Re=Oe.content.length,!(Re<4096)&&(Oe.start=Ce,Me(Re+511>>9)));for(Me(ue[6]+7>>3);he.l&511;)he.write_shift(-4,Z.ENDOFCHAIN);for(Ce=fe=0,Le=0;Le<ee.FileIndex.length;++Le)Oe=ee.FileIndex[Le],Oe.content&&(Re=Oe.content.length,!(!Re||Re>=4096)&&(Oe.start=Ce,Me(Re+63>>6)));for(;he.l&511;)he.write_shift(-4,Z.ENDOFCHAIN);for(fe=0;fe<ue[4]<<2;++fe){var Qe=ee.FullPaths[fe];if(!Qe||Qe.length===0){for(Le=0;Le<17;++Le)he.write_shift(4,0);for(Le=0;Le<3;++Le)he.write_shift(4,-1);for(Le=0;Le<12;++Le)he.write_shift(4,0);continue}Oe=ee.FileIndex[fe],fe===0&&(Oe.start=Oe.size?Oe.start-1:P);var nt=fe===0&&le.root||Oe.name;if(Re=2*(nt.length+1),he.write_shift(64,nt,"utf16le"),he.write_shift(2,Re),he.write_shift(1,Oe.type),he.write_shift(1,Oe.color),he.write_shift(-4,Oe.L),he.write_shift(-4,Oe.R),he.write_shift(-4,Oe.C),Oe.clsid)he.write_shift(16,Oe.clsid,"hex");else for(Le=0;Le<4;++Le)he.write_shift(4,0);he.write_shift(4,Oe.state||0),he.write_shift(4,0),he.write_shift(4,0),he.write_shift(4,0),he.write_shift(4,0),he.write_shift(4,Oe.start),he.write_shift(4,Oe.size),he.write_shift(4,0)}for(fe=1;fe<ee.FileIndex.length;++fe)if(Oe=ee.FileIndex[fe],Oe.size>=4096)if(he.l=Oe.start+1<<9,Zn&&Buffer.isBuffer(Oe.content))Oe.content.copy(he,he.l,0,Oe.size),he.l+=Oe.size+511&-512;else{for(Le=0;Le<Oe.size;++Le)he.write_shift(1,Oe.content[Le]);for(;Le&511;++Le)he.write_shift(1,0)}for(fe=1;fe<ee.FileIndex.length;++fe)if(Oe=ee.FileIndex[fe],Oe.size>0&&Oe.size<4096)if(Zn&&Buffer.isBuffer(Oe.content))Oe.content.copy(he,he.l,0,Oe.size),he.l+=Oe.size+63&-64;else{for(Le=0;Le<Oe.size;++Le)he.write_shift(1,Oe.content[Le]);for(;Le&63;++Le)he.write_shift(1,0)}if(Zn)he.l=he.length;else for(;he.l<he.length;)he.write_shift(1,0);return he}function L(ee,de){var le=ee.FullPaths.map(function(Le){return Le.toUpperCase()}),ue=le.map(function(Le){var Re=Le.split("/");return Re[Re.length-(Le.slice(-1)=="/"?2:1)]}),he=!1;de.charCodeAt(0)===47?(he=!0,de=le[0].slice(0,-1)+de):he=de.indexOf("/")!==-1;var fe=de.toUpperCase(),Ce=he===!0?le.indexOf(fe):ue.indexOf(fe);if(Ce!==-1)return ee.FileIndex[Ce];var Me=!fe.match(Ix);for(fe=fe.replace(l0,""),Me&&(fe=fe.replace(Ix,"!")),Ce=0;Ce<le.length;++Ce)if((Me?le[Ce].replace(Ix,"!"):le[Ce]).replace(l0,"")==fe||(Me?ue[Ce].replace(Ix,"!"):ue[Ce]).replace(l0,"")==fe)return ee.FileIndex[Ce];return null}var U=64,P=-2,K="d0cf11e0a1b11ae1",G=[208,207,17,224,161,177,26,225],re="00000000000000000000000000000000",Z={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:P,FREESECT:-1,HEADER_SIGNATURE:K,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:re,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function me(ee,de,le){h();var ue=A(ee,le);u.writeFileSync(de,ue)}function ie(ee){for(var de=new Array(ee.length),le=0;le<ee.length;++le)de[le]=String.fromCharCode(ee[le]);return de.join("")}function W(ee,de){var le=A(ee,de);switch(de&&de.type||"buffer"){case"file":return h(),u.writeFileSync(de.filename,le),le;case"binary":return typeof le=="string"?le:ie(le);case"base64":return Y0(typeof le=="string"?le:ie(le));case"buffer":if(Zn)return Buffer.isBuffer(le)?le:cu(le);case"array":return typeof le=="string"?rl(le):le}return le}var ye;function Q(ee){try{var de=ee.InflateRaw,le=new de;if(le._processChunk(new Uint8Array([3,0]),le._finishFlushFlag),le.bytesRead)ye=ee;else throw new Error("zlib does not expose bytesRead")}catch(ue){console.error("cannot use native zlib: "+(ue.message||ue))}}function ne(ee,de){if(!ye)return Wr(ee,de);var le=ye.InflateRaw,ue=new le,he=ue._processChunk(ee.slice(ee.l),ue._finishFlushFlag);return ee.l+=ue.bytesRead,he}function te(ee){return ye?ye.deflateRawSync(ee):Jn(ee)}var X=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],xe=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Ne=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function je(ee){var de=(ee<<1|ee<<11)&139536|(ee<<5|ee<<15)&558144;return(de>>16|de>>8|de)&255}for(var Ie=typeof Uint8Array<"u",_e=Ie?new Uint8Array(256):[],Ue=0;Ue<256;++Ue)_e[Ue]=je(Ue);function tt(ee,de){var le=_e[ee&255];return de<=8?le>>>8-de:(le=le<<8|_e[ee>>8&255],de<=16?le>>>16-de:(le=le<<8|_e[ee>>16&255],le>>>24-de))}function ct(ee,de){var le=de&7,ue=de>>>3;return(ee[ue]|(le<=6?0:ee[ue+1]<<8))>>>le&3}function ut(ee,de){var le=de&7,ue=de>>>3;return(ee[ue]|(le<=5?0:ee[ue+1]<<8))>>>le&7}function Ye(ee,de){var le=de&7,ue=de>>>3;return(ee[ue]|(le<=4?0:ee[ue+1]<<8))>>>le&15}function jt(ee,de){var le=de&7,ue=de>>>3;return(ee[ue]|(le<=3?0:ee[ue+1]<<8))>>>le&31}function Ze(ee,de){var le=de&7,ue=de>>>3;return(ee[ue]|(le<=1?0:ee[ue+1]<<8))>>>le&127}function Ut(ee,de,le){var ue=de&7,he=de>>>3,fe=(1<<le)-1,Ce=ee[he]>>>ue;return le<8-ue||(Ce|=ee[he+1]<<8-ue,le<16-ue)||(Ce|=ee[he+2]<<16-ue,le<24-ue)||(Ce|=ee[he+3]<<24-ue),Ce&fe}function Cn(ee,de,le){var ue=de&7,he=de>>>3;return ue<=5?ee[he]|=(le&7)<<ue:(ee[he]|=le<<ue&255,ee[he+1]=(le&7)>>8-ue),de+3}function fn(ee,de,le){var ue=de&7,he=de>>>3;return le=(le&1)<<ue,ee[he]|=le,de+1}function yn(ee,de,le){var ue=de&7,he=de>>>3;return le<<=ue,ee[he]|=le&255,le>>>=8,ee[he+1]=le,de+8}function ur(ee,de,le){var ue=de&7,he=de>>>3;return le<<=ue,ee[he]|=le&255,le>>>=8,ee[he+1]=le&255,ee[he+2]=le>>>8,de+16}function sr(ee,de){var le=ee.length,ue=2*le>de?2*le:de+5,he=0;if(le>=de)return ee;if(Zn){var fe=xM(ue);if(ee.copy)ee.copy(fe);else for(;he<ee.length;++he)fe[he]=ee[he];return fe}else if(Ie){var Ce=new Uint8Array(ue);if(Ce.set)Ce.set(ee);else for(;he<le;++he)Ce[he]=ee[he];return Ce}return ee.length=ue,ee}function We(ee){for(var de=new Array(ee),le=0;le<ee;++le)de[le]=0;return de}function xt(ee,de,le){var ue=1,he=0,fe=0,Ce=0,Me=0,Le=ee.length,Re=Ie?new Uint16Array(32):We(32);for(fe=0;fe<32;++fe)Re[fe]=0;for(fe=Le;fe<le;++fe)ee[fe]=0;Le=ee.length;var Oe=Ie?new Uint16Array(Le):We(Le);for(fe=0;fe<Le;++fe)Re[he=ee[fe]]++,ue<he&&(ue=he),Oe[fe]=0;for(Re[0]=0,fe=1;fe<=ue;++fe)Re[fe+16]=Me=Me+Re[fe-1]<<1;for(fe=0;fe<Le;++fe)Me=ee[fe],Me!=0&&(Oe[fe]=Re[Me+16]++);var Qe=0;for(fe=0;fe<Le;++fe)if(Qe=ee[fe],Qe!=0)for(Me=tt(Oe[fe],ue)>>ue-Qe,Ce=(1<<ue+4-Qe)-1;Ce>=0;--Ce)de[Me|Ce<<Qe]=Qe&15|fe<<4;return ue}var Dt=Ie?new Uint16Array(512):We(512),Rt=Ie?new Uint16Array(32):We(32);if(!Ie){for(var on=0;on<512;++on)Dt[on]=0;for(on=0;on<32;++on)Rt[on]=0}(function(){for(var ee=[],de=0;de<32;de++)ee.push(5);xt(ee,Rt,32);var le=[];for(de=0;de<=143;de++)le.push(8);for(;de<=255;de++)le.push(9);for(;de<=279;de++)le.push(7);for(;de<=287;de++)le.push(8);xt(le,Dt,288)})();var Gr=function(){for(var de=Ie?new Uint8Array(32768):[],le=0,ue=0;le<Ne.length-1;++le)for(;ue<Ne[le+1];++ue)de[ue]=le;for(;ue<32768;++ue)de[ue]=29;var he=Ie?new Uint8Array(259):[];for(le=0,ue=0;le<xe.length-1;++le)for(;ue<xe[le+1];++ue)he[ue]=le;function fe(Me,Le){for(var Re=0;Re<Me.length;){var Oe=Math.min(65535,Me.length-Re),Qe=Re+Oe==Me.length;for(Le.write_shift(1,+Qe),Le.write_shift(2,Oe),Le.write_shift(2,~Oe&65535);Oe-- >0;)Le[Le.l++]=Me[Re++]}return Le.l}function Ce(Me,Le){for(var Re=0,Oe=0,Qe=Ie?new Uint16Array(32768):[];Oe<Me.length;){var nt=Math.min(65535,Me.length-Oe);if(nt<10){for(Re=Cn(Le,Re,+(Oe+nt==Me.length)),Re&7&&(Re+=8-(Re&7)),Le.l=Re/8|0,Le.write_shift(2,nt),Le.write_shift(2,~nt&65535);nt-- >0;)Le[Le.l++]=Me[Oe++];Re=Le.l*8;continue}Re=Cn(Le,Re,+(Oe+nt==Me.length)+2);for(var mt=0;nt-- >0;){var st=Me[Oe];mt=(mt<<5^st)&32767;var at=-1,Bt=0;if((at=Qe[mt])&&(at|=Oe&-32768,at>Oe&&(at-=32768),at<Oe))for(;Me[at+Bt]==Me[Oe+Bt]&&Bt<250;)++Bt;if(Bt>2){st=he[Bt],st<=22?Re=yn(Le,Re,_e[st+1]>>1)-1:(yn(Le,Re,3),Re+=5,yn(Le,Re,_e[st-23]>>5),Re+=3);var Dn=st<8?0:st-4>>2;Dn>0&&(ur(Le,Re,Bt-xe[st]),Re+=Dn),st=de[Oe-at],Re=yn(Le,Re,_e[st]>>3),Re-=3;var ln=st<4?0:st-2>>1;ln>0&&(ur(Le,Re,Oe-at-Ne[st]),Re+=ln);for(var An=0;An<Bt;++An)Qe[mt]=Oe&32767,mt=(mt<<5^Me[Oe])&32767,++Oe;nt-=Bt-1}else st<=143?st=st+48:Re=fn(Le,Re,1),Re=yn(Le,Re,_e[st]),Qe[mt]=Oe&32767,++Oe}Re=yn(Le,Re,0)-1}return Le.l=(Re+7)/8|0,Le.l}return function(Le,Re){return Le.length<8?fe(Le,Re):Ce(Le,Re)}}();function Jn(ee){var de=ze(50+Math.floor(ee.length*1.1)),le=Gr(ee,de);return de.slice(0,le)}var ws=Ie?new Uint16Array(32768):We(32768),es=Ie?new Uint16Array(32768):We(32768),Br=Ie?new Uint16Array(128):We(128),Vn=1,Ur=1;function zr(ee,de){var le=jt(ee,de)+257;de+=5;var ue=jt(ee,de)+1;de+=5;var he=Ye(ee,de)+4;de+=4;for(var fe=0,Ce=Ie?new Uint8Array(19):We(19),Me=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Le=1,Re=Ie?new Uint8Array(8):We(8),Oe=Ie?new Uint8Array(8):We(8),Qe=Ce.length,nt=0;nt<he;++nt)Ce[X[nt]]=fe=ut(ee,de),Le<fe&&(Le=fe),Re[fe]++,de+=3;var mt=0;for(Re[0]=0,nt=1;nt<=Le;++nt)Oe[nt]=mt=mt+Re[nt-1]<<1;for(nt=0;nt<Qe;++nt)(mt=Ce[nt])!=0&&(Me[nt]=Oe[mt]++);var st=0;for(nt=0;nt<Qe;++nt)if(st=Ce[nt],st!=0){mt=_e[Me[nt]]>>8-st;for(var at=(1<<7-st)-1;at>=0;--at)Br[mt|at<<st]=st&7|nt<<3}var Bt=[];for(Le=1;Bt.length<le+ue;)switch(mt=Br[Ze(ee,de)],de+=mt&7,mt>>>=3){case 16:for(fe=3+ct(ee,de),de+=2,mt=Bt[Bt.length-1];fe-- >0;)Bt.push(mt);break;case 17:for(fe=3+ut(ee,de),de+=3;fe-- >0;)Bt.push(0);break;case 18:for(fe=11+Ze(ee,de),de+=7;fe-- >0;)Bt.push(0);break;default:Bt.push(mt),Le<mt&&(Le=mt);break}var Dn=Bt.slice(0,le),ln=Bt.slice(le);for(nt=le;nt<286;++nt)Dn[nt]=0;for(nt=ue;nt<30;++nt)ln[nt]=0;return Vn=xt(Dn,ws,286),Ur=xt(ln,es,30),de}function Hn(ee,de){if(ee[0]==3&&!(ee[1]&3))return[Ah(de),2];for(var le=0,ue=0,he=xM(de||1<<18),fe=0,Ce=he.length>>>0,Me=0,Le=0;!(ue&1);){if(ue=ut(ee,le),le+=3,ue>>>1)ue>>1==1?(Me=9,Le=5):(le=zr(ee,le),Me=Vn,Le=Ur);else{le&7&&(le+=8-(le&7));var Re=ee[le>>>3]|ee[(le>>>3)+1]<<8;if(le+=32,Re>0)for(!de&&Ce<fe+Re&&(he=sr(he,fe+Re),Ce=he.length);Re-- >0;)he[fe++]=ee[le>>>3],le+=8;continue}for(;;){!de&&Ce<fe+32767&&(he=sr(he,fe+32767),Ce=he.length);var Oe=Ut(ee,le,Me),Qe=ue>>>1==1?Dt[Oe]:ws[Oe];if(le+=Qe&15,Qe>>>=4,!(Qe>>>8&255))he[fe++]=Qe;else{if(Qe==256)break;Qe-=257;var nt=Qe<8?0:Qe-4>>2;nt>5&&(nt=0);var mt=fe+xe[Qe];nt>0&&(mt+=Ut(ee,le,nt),le+=nt),Oe=Ut(ee,le,Le),Qe=ue>>>1==1?Rt[Oe]:es[Oe],le+=Qe&15,Qe>>>=4;var st=Qe<4?0:Qe-2>>1,at=Ne[Qe];for(st>0&&(at+=Ut(ee,le,st),le+=st),!de&&Ce<mt&&(he=sr(he,mt+100),Ce=he.length);fe<mt;)he[fe]=he[fe-at],++fe}}}return de?[he,le+7>>>3]:[he.slice(0,fe),le+7>>>3]}function Wr(ee,de){var le=ee.slice(ee.l||0),ue=Hn(le,de);return ee.l+=ue[1],ue[0]}function yr(ee,de){if(ee)typeof console<"u"&&console.error(de);else throw new Error(de)}function sa(ee,de){var le=ee;Fi(le,0);var ue=[],he=[],fe={FileIndex:ue,FullPaths:he};_(fe,{root:de.root});for(var Ce=le.length-4;(le[Ce]!=80||le[Ce+1]!=75||le[Ce+2]!=5||le[Ce+3]!=6)&&Ce>=0;)--Ce;le.l=Ce+4,le.l+=4;var Me=le.read_shift(2);le.l+=6;var Le=le.read_shift(4);for(le.l=Le,Ce=0;Ce<Me;++Ce){le.l+=20;var Re=le.read_shift(4),Oe=le.read_shift(4),Qe=le.read_shift(2),nt=le.read_shift(2),mt=le.read_shift(2);le.l+=8;var st=le.read_shift(4),at=c(le.slice(le.l+Qe,le.l+Qe+nt));le.l+=Qe+nt+mt;var Bt=le.l;le.l=st+4,ms(le,Re,Oe,fe,at),le.l=Bt}return fe}function ms(ee,de,le,ue,he){ee.l+=2;var fe=ee.read_shift(2),Ce=ee.read_shift(2),Me=o(ee);if(fe&8257)throw new Error("Unsupported ZIP encryption");for(var Le=ee.read_shift(4),Re=ee.read_shift(4),Oe=ee.read_shift(4),Qe=ee.read_shift(2),nt=ee.read_shift(2),mt="",st=0;st<Qe;++st)mt+=String.fromCharCode(ee[ee.l++]);if(nt){var at=c(ee.slice(ee.l,ee.l+nt));(at[21589]||{}).mt&&(Me=at[21589].mt),((he||{})[21589]||{}).mt&&(Me=he[21589].mt)}ee.l+=nt;var Bt=ee.slice(ee.l,ee.l+Re);switch(Ce){case 8:Bt=ne(ee,Oe);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ce)}var Dn=!1;fe&8&&(Le=ee.read_shift(4),Le==134695760&&(Le=ee.read_shift(4),Dn=!0),Re=ee.read_shift(4),Oe=ee.read_shift(4)),Re!=de&&yr(Dn,"Bad compressed size: "+de+" != "+Re),Oe!=le&&yr(Dn,"Bad uncompressed size: "+le+" != "+Oe),Ca(ue,mt,Bt,{unsafe:!0,mt:Me})}function ps(ee,de){var le=de||{},ue=[],he=[],fe=ze(1),Ce=le.compression?8:0,Me=0,Le=0,Re=0,Oe=0,Qe=0,nt=ee.FullPaths[0],mt=nt,st=ee.FileIndex[0],at=[],Bt=0;for(Le=1;Le<ee.FullPaths.length;++Le)if(mt=ee.FullPaths[Le].slice(nt.length),st=ee.FileIndex[Le],!(!st.size||!st.content||mt=="Sh33tJ5")){var Dn=Oe,ln=ze(mt.length);for(Re=0;Re<mt.length;++Re)ln.write_shift(1,mt.charCodeAt(Re)&127);ln=ln.slice(0,ln.l),at[Qe]=REe.buf(st.content,0);var An=st.content;Ce==8&&(An=te(An)),fe=ze(30),fe.write_shift(4,67324752),fe.write_shift(2,20),fe.write_shift(2,Me),fe.write_shift(2,Ce),st.mt?i(fe,st.mt):fe.write_shift(4,0),fe.write_shift(-4,at[Qe]),fe.write_shift(4,An.length),fe.write_shift(4,st.content.length),fe.write_shift(2,ln.length),fe.write_shift(2,0),Oe+=fe.length,ue.push(fe),Oe+=ln.length,ue.push(ln),Oe+=An.length,ue.push(An),fe=ze(46),fe.write_shift(4,33639248),fe.write_shift(2,0),fe.write_shift(2,20),fe.write_shift(2,Me),fe.write_shift(2,Ce),fe.write_shift(4,0),fe.write_shift(-4,at[Qe]),fe.write_shift(4,An.length),fe.write_shift(4,st.content.length),fe.write_shift(2,ln.length),fe.write_shift(2,0),fe.write_shift(2,0),fe.write_shift(2,0),fe.write_shift(2,0),fe.write_shift(4,0),fe.write_shift(4,Dn),Bt+=fe.l,he.push(fe),Bt+=ln.length,he.push(ln),++Qe}return fe=ze(22),fe.write_shift(4,101010256),fe.write_shift(2,0),fe.write_shift(2,0),fe.write_shift(2,Qe),fe.write_shift(2,Qe),fe.write_shift(4,Bt),fe.write_shift(4,Oe),fe.write_shift(2,0),xa([xa(ue),xa(he),fe])}var mr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Cr(ee,de){if(ee.ctype)return ee.ctype;var le=ee.name||"",ue=le.match(/\.([^\.]+)$/);return ue&&mr[ue[1]]||de&&(ue=(le=de).match(/[\.\\]([^\.\\])+$/),ue&&mr[ue[1]])?mr[ue[1]]:"application/octet-stream"}function gs(ee){for(var de=Y0(ee),le=[],ue=0;ue<de.length;ue+=76)le.push(de.slice(ue,ue+76));return le.join(`\r
`)+`\r
`}function aa(ee){var de=ee.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Re){var Oe=Re.charCodeAt(0).toString(16).toUpperCase();return"="+(Oe.length==1?"0"+Oe:Oe)});de=de.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),de.charAt(0)==`
`&&(de="=0D"+de.slice(1)),de=de.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var le=[],ue=de.split(`\r
`),he=0;he<ue.length;++he){var fe=ue[he];if(fe.length==0){le.push("");continue}for(var Ce=0;Ce<fe.length;){var Me=76,Le=fe.slice(Ce,Ce+Me);Le.charAt(Me-1)=="="?Me--:Le.charAt(Me-2)=="="?Me-=2:Le.charAt(Me-3)=="="&&(Me-=3),Le=fe.slice(Ce,Ce+Me),Ce+=Me,Ce<fe.length&&(Le+="="),le.push(Le)}}return le.join(`\r
`)}function Hs(ee){for(var de=[],le=0;le<ee.length;++le){for(var ue=ee[le];le<=ee.length&&ue.charAt(ue.length-1)=="=";)ue=ue.slice(0,ue.length-1)+ee[++le];de.push(ue)}for(var he=0;he<de.length;++he)de[he]=de[he].replace(/[=][0-9A-Fa-f]{2}/g,function(fe){return String.fromCharCode(parseInt(fe.slice(1),16))});return rl(de.join(`\r
`))}function ts(ee,de,le){for(var ue="",he="",fe="",Ce,Me=0;Me<10;++Me){var Le=de[Me];if(!Le||Le.match(/^\s*$/))break;var Re=Le.match(/^(.*?):\s*([^\s].*)$/);if(Re)switch(Re[1].toLowerCase()){case"content-location":ue=Re[2].trim();break;case"content-type":fe=Re[2].trim();break;case"content-transfer-encoding":he=Re[2].trim();break}}switch(++Me,he.toLowerCase()){case"base64":Ce=rl(eu(de.slice(Me).join("")));break;case"quoted-printable":Ce=Hs(de.slice(Me));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+he)}var Oe=Ca(ee,ue.slice(le.length),Ce,{unsafe:!0});fe&&(Oe.ctype=fe)}function Ha(ee,de){if(ie(ee.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var le=de&&de.root||"",ue=(Zn&&Buffer.isBuffer(ee)?ee.toString("binary"):ie(ee)).split(`\r
`),he=0,fe="";for(he=0;he<ue.length;++he)if(fe=ue[he],!!/^Content-Location:/i.test(fe)&&(fe=fe.slice(fe.indexOf("file")),le||(le=fe.slice(0,fe.lastIndexOf("/")+1)),fe.slice(0,le.length)!=le))for(;le.length>0&&(le=le.slice(0,le.length-1),le=le.slice(0,le.lastIndexOf("/")+1),fe.slice(0,le.length)!=le););var Ce=(ue[1]||"").match(/boundary="(.*?)"/);if(!Ce)throw new Error("MAD cannot find boundary");var Me="--"+(Ce[1]||""),Le=[],Re=[],Oe={FileIndex:Le,FullPaths:Re};_(Oe);var Qe,nt=0;for(he=0;he<ue.length;++he){var mt=ue[he];mt!==Me&&mt!==Me+"--"||(nt++&&ts(Oe,ue.slice(Qe,he),le),Qe=he)}return Oe}function bn(ee,de){var le=de||{},ue=le.boundary||"SheetJS";ue="------="+ue;for(var he=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ue.slice(2)+'"',"","",""],fe=ee.FullPaths[0],Ce=fe,Me=ee.FileIndex[0],Le=1;Le<ee.FullPaths.length;++Le)if(Ce=ee.FullPaths[Le].slice(fe.length),Me=ee.FileIndex[Le],!(!Me.size||!Me.content||Ce=="Sh33tJ5")){Ce=Ce.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Bt){return"_x"+Bt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Bt){return"_u"+Bt.charCodeAt(0).toString(16)+"_"});for(var Re=Me.content,Oe=Zn&&Buffer.isBuffer(Re)?Re.toString("binary"):ie(Re),Qe=0,nt=Math.min(1024,Oe.length),mt=0,st=0;st<=nt;++st)(mt=Oe.charCodeAt(st))>=32&&mt<128&&++Qe;var at=Qe>=nt*4/5;he.push(ue),he.push("Content-Location: "+(le.root||"file:///C:/SheetJS/")+Ce),he.push("Content-Transfer-Encoding: "+(at?"quoted-printable":"base64")),he.push("Content-Type: "+Cr(Me,Ce)),he.push(""),he.push(at?aa(Oe):gs(Oe))}return he.push(ue+`--\r
`),he.join(`\r
`)}function Ft(ee){var de={};return _(de,ee),de}function Ca(ee,de,le,ue){var he=ue&&ue.unsafe;he||_(ee);var fe=!he&&fr.find(ee,de);if(!fe){var Ce=ee.FullPaths[0];de.slice(0,Ce.length)==Ce?Ce=de:(Ce.slice(-1)!="/"&&(Ce+="/"),Ce=(Ce+de).replace("//","/")),fe={name:s(de),type:2},ee.FileIndex.push(fe),ee.FullPaths.push(Ce),he||fr.utils.cfb_gc(ee)}return fe.content=le,fe.size=le?le.length:0,ue&&(ue.CLSID&&(fe.clsid=ue.CLSID),ue.mt&&(fe.mt=ue.mt),ue.ct&&(fe.ct=ue.ct)),fe}function ii(ee,de){_(ee);var le=fr.find(ee,de);if(le){for(var ue=0;ue<ee.FileIndex.length;++ue)if(ee.FileIndex[ue]==le)return ee.FileIndex.splice(ue,1),ee.FullPaths.splice(ue,1),!0}return!1}function Bo(ee,de,le){_(ee);var ue=fr.find(ee,de);if(ue){for(var he=0;he<ee.FileIndex.length;++he)if(ee.FileIndex[he]==ue)return ee.FileIndex[he].name=s(le),ee.FullPaths[he]=le,!0}return!1}function no(ee){b(ee,!0)}return e.find=L,e.read=F,e.parse=f,e.write=W,e.writeFile=me,e.utils={cfb_new:Ft,cfb_add:Ca,cfb_del:ii,cfb_mov:Bo,cfb_gc:no,ReadShift:u0,CheckField:fG,prep_blob:Fi,bconcat:xa,use_zlib:Q,_deflateRaw:Jn,_inflateRaw:Wr,consts:Z},e}();function kEe(t){return typeof t=="string"?Bw(t):Array.isArray(t)?sEe(t):t}function Gy(t,e,n){if(typeof Deno<"u"){if(n&&typeof e=="string")switch(n){case"utf8":e=new TextEncoder(n).encode(e);break;case"binary":e=Bw(e);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(t,e)}var r=n=="utf8"?J0(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,t);if(typeof Blob<"u"){var s=new Blob([kEe(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(s,t);if(typeof saveAs<"u")return saveAs(s,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(s);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:t,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=t,o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var c=File(t);return c.open("w"),c.encoding="binary",Array.isArray(e)&&(e=Hy(e)),c.write(e),c.close(),e}catch(u){if(!u.message||!u.message.match(/onstruct/))throw u}throw new Error("cannot save file "+t)}function ja(t){for(var e=Object.keys(t),n=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(t,e[r])&&n.push(e[r]);return n}function NM(t,e){for(var n=[],r=ja(t),s=0;s!==r.length;++s)n[t[r[s]][e]]==null&&(n[t[r[s]][e]]=r[s]);return n}function y3(t){for(var e=[],n=ja(t),r=0;r!==n.length;++r)e[t[n[r]]]=n[r];return e}function qw(t){for(var e=[],n=ja(t),r=0;r!==n.length;++r)e[t[n[r]]]=parseInt(n[r],10);return e}function OEe(t){for(var e=[],n=ja(t),r=0;r!==n.length;++r)e[t[n[r]]]==null&&(e[t[n[r]]]=[]),e[t[n[r]]].push(n[r]);return e}var h1=new Date(1899,11,30,0,0,0);function Ei(t,e){var n=t.getTime(),r=h1.getTime()+(t.getTimezoneOffset()-h1.getTimezoneOffset())*6e4;return(n-r)/(24*60*60*1e3)}var XH=new Date,IEe=h1.getTime()+(XH.getTimezoneOffset()-h1.getTimezoneOffset())*6e4,TM=XH.getTimezoneOffset();function JH(t){var e=new Date;return e.setTime(t*24*60*60*1e3+IEe),e.getTimezoneOffset()!==TM&&e.setTime(e.getTime()+(e.getTimezoneOffset()-TM)*6e4),e}var AM=new Date("2017-02-19T19:06:09.000Z"),QH=isNaN(AM.getFullYear())?new Date("2/19/17"):AM,PEe=QH.getFullYear()==2017;function ri(t,e){var n=new Date(t);if(PEe)return e>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):e<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(t instanceof Date)return t;if(QH.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return t.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var s=t.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return t.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function $w(t,e){if(Zn&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder<"u")try{var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(i){return n[i]||i})}catch{}for(var r=[],s=0;s!=t.length;++s)r.push(String.fromCharCode(t[s]));return r.join("")}function ji(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=ji(t[n]));return e}function cs(t,e){for(var n="";n.length<e;)n+=t;return n}function zc(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var n=1,r=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(s,i){return n=-n,i}),!isNaN(e=Number(r)))?e/n:e}var DEe=["january","february","march","april","may","june","july","august","september","october","november","december"];function X0(t){var e=new Date(t),n=new Date(NaN),r=e.getYear(),s=e.getMonth(),i=e.getDate();if(isNaN(i))return n;var o=t.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&DEe.indexOf(o)==-1)return n}else if(o.match(/[a-z]/))return n;return r<0||r>8099?n:(s>0||i>1)&&r!=101?e:t.match(/[^-0-9:,\/\\]/)?n:e}function xn(t,e,n){if(t.FullPaths){if(typeof n=="string"){var r;return Zn?r=cu(n):r=aEe(n),fr.utils.cfb_add(t,e,r)}fr.utils.cfb_add(t,e,n)}else t.file(e,n)}function v3(){return fr.utils.cfb_new()}var Ls=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,MEe={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},x3=y3(MEe),b3=/[&<>'"]/g,FEe=/[\u0000-\u0008\u000b-\u001f]/g;function lr(t){var e=t+"";return e.replace(b3,function(n){return x3[n]}).replace(FEe,function(n){return"_x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+"_"})}function LM(t){return lr(t).replace(/ /g,"_x0020_")}var ZH=/[\u0000-\u001f]/g;function BEe(t){var e=t+"";return e.replace(b3,function(n){return x3[n]}).replace(/\n/g,"<br/>").replace(ZH,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}function UEe(t){var e=t+"";return e.replace(b3,function(n){return x3[n]}).replace(ZH,function(n){return"&#x"+n.charCodeAt(0).toString(16).toUpperCase()+";"})}function zEe(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function qEe(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function NS(t){for(var e="",n=0,r=0,s=0,i=0,o=0,c=0;n<t.length;){if(r=t.charCodeAt(n++),r<128){e+=String.fromCharCode(r);continue}if(s=t.charCodeAt(n++),r>191&&r<224){o=(r&31)<<6,o|=s&63,e+=String.fromCharCode(o);continue}if(i=t.charCodeAt(n++),r<240){e+=String.fromCharCode((r&15)<<12|(s&63)<<6|i&63);continue}o=t.charCodeAt(n++),c=((r&7)<<18|(s&63)<<12|(i&63)<<6|o&63)-65536,e+=String.fromCharCode(55296+(c>>>10&1023)),e+=String.fromCharCode(56320+(c&1023))}return e}function RM(t){var e=Ah(2*t.length),n,r,s=1,i=0,o=0,c;for(r=0;r<t.length;r+=s)s=1,(c=t.charCodeAt(r))<128?n=c:c<224?(n=(c&31)*64+(t.charCodeAt(r+1)&63),s=2):c<240?(n=(c&15)*4096+(t.charCodeAt(r+1)&63)*64+(t.charCodeAt(r+2)&63),s=3):(s=4,n=(c&7)*262144+(t.charCodeAt(r+1)&63)*4096+(t.charCodeAt(r+2)&63)*64+(t.charCodeAt(r+3)&63),n-=65536,o=55296+(n>>>10&1023),n=56320+(n&1023)),o!==0&&(e[i++]=o&255,e[i++]=o>>>8,o=0),e[i++]=n%256,e[i++]=n>>>8;return e.slice(0,i).toString("ucs2")}function kM(t){return cu(t,"binary").toString("utf8")}var Dx="foo bar baz",c0=Zn&&(kM(Dx)==NS(Dx)&&kM||RM(Dx)==NS(Dx)&&RM)||NS,J0=Zn?function(t){return cu(t,"utf8").toString("binary")}:function(t){for(var e=[],n=0,r=0,s=0;n<t.length;)switch(r=t.charCodeAt(n++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,s=t.charCodeAt(n++)-56320+(r<<10),e.push(String.fromCharCode(240+(s>>18&7))),e.push(String.fromCharCode(144+(s>>12&63))),e.push(String.fromCharCode(128+(s>>6&63))),e.push(String.fromCharCode(128+(s&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},$Ee=function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),s=0;s<t.length;++s)r=r.replace(t[s][0],t[s][1]);return r}}(),eG=/(^\s|\s$|\n)/;function ba(t,e){return"<"+t+(e.match(eG)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function Q0(t){return ja(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function dt(t,e,n){return"<"+t+(n!=null?Q0(n):"")+(e!=null?(e.match(eG)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function cT(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(n){if(e)throw n}return""}function VEe(t,e){switch(typeof t){case"string":var n=dt("vt:lpwstr",lr(t));return n=n.replace(/&quot;/g,"_x0022_"),n;case"number":return dt((t|0)==t?"vt:i4":"vt:r8",lr(String(t)));case"boolean":return dt("vt:bool",t?"true":"false")}if(t instanceof Date)return dt("vt:filetime",cT(t));throw new Error("Unable to serialize "+t)}var Js={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Ep=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Bi={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function HEe(t,e){for(var n=1-2*(t[e+7]>>>7),r=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),s=t[e+6]&15,i=5;i>=0;--i)s=s*256+t[e+i];return r==2047?s==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,s+=Math.pow(2,52)),n*Math.pow(2,r-52)*s)}function GEe(t,e,n){var r=(e<0||1/e==-1/0?1:0)<<7,s=0,i=0,o=r?-e:e;isFinite(o)?o==0?s=i=0:(s=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-s),s<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?s=-1022:(i-=Math.pow(2,52),s+=1023)):(s=2047,i=isNaN(e)?26985:0);for(var c=0;c<=5;++c,i/=256)t[n+c]=i&255;t[n+6]=(s&15)<<4|i&15,t[n+7]=s>>4|r}var OM=function(t){for(var e=[],n=10240,r=0;r<t[0].length;++r)if(t[0][r])for(var s=0,i=t[0][r].length;s<i;s+=n)e.push.apply(e,t[0][r].slice(s,s+n));return e},IM=Zn?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:cu(e)})):OM(t)}:OM,PM=function(t,e,n){for(var r=[],s=e;s<n;s+=2)r.push(String.fromCharCode(Hg(t,s)));return r.join("").replace(l0,"")},w3=Zn?function(t,e,n){return Buffer.isBuffer(t)?t.toString("utf16le",e,n).replace(l0,""):PM(t,e,n)}:PM,DM=function(t,e,n){for(var r=[],s=e;s<e+n;++s)r.push(("0"+t[s].toString(16)).slice(-2));return r.join("")},tG=Zn?function(t,e,n){return Buffer.isBuffer(t)?t.toString("hex",e,e+n):DM(t,e,n)}:DM,MM=function(t,e,n){for(var r=[],s=e;s<n;s++)r.push(String.fromCharCode(Jf(t,s)));return r.join("")},Wy=Zn?function(e,n,r){return Buffer.isBuffer(e)?e.toString("utf8",n,r):MM(e,n,r)}:MM,nG=function(t,e){var n=Ui(t,e);return n>0?Wy(t,e+4,e+4+n-1):""},rG=nG,sG=function(t,e){var n=Ui(t,e);return n>0?Wy(t,e+4,e+4+n-1):""},aG=sG,iG=function(t,e){var n=2*Ui(t,e);return n>0?Wy(t,e+4,e+4+n-1):""},oG=iG,lG=function(e,n){var r=Ui(e,n);return r>0?w3(e,n+4,n+4+r):""},cG=lG,uG=function(t,e){var n=Ui(t,e);return n>0?Wy(t,e+4,e+4+n):""},dG=uG,hG=function(t,e){return HEe(t,e)},f1=hG,_3=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Zn&&(rG=function(e,n){if(!Buffer.isBuffer(e))return nG(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},aG=function(e,n){if(!Buffer.isBuffer(e))return sG(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},oG=function(e,n){if(!Buffer.isBuffer(e))return iG(e,n);var r=2*e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r-1)},cG=function(e,n){if(!Buffer.isBuffer(e))return lG(e,n);var r=e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r)},dG=function(e,n){if(!Buffer.isBuffer(e))return uG(e,n);var r=e.readUInt32LE(n);return e.toString("utf8",n+4,n+4+r)},f1=function(e,n){return Buffer.isBuffer(e)?e.readDoubleLE(n):hG(e,n)},_3=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var Jf=function(t,e){return t[e]},Hg=function(t,e){return t[e+1]*256+t[e]},WEe=function(t,e){var n=t[e+1]*256+t[e];return n<32768?n:(65535-n+1)*-1},Ui=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},nh=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},KEe=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function u0(t,e){var n="",r,s,i=[],o,c,u,h;switch(e){case"dbcs":if(h=this.l,Zn&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*t).toString("utf16le");else for(u=0;u<t;++u)n+=String.fromCharCode(Hg(this,h)),h+=2;t*=2;break;case"utf8":n=Wy(this,this.l,this.l+t);break;case"utf16le":t*=2,n=w3(this,this.l,this.l+t);break;case"wstr":return u0.call(this,t,"dbcs");case"lpstr-ansi":n=rG(this,this.l),t=4+Ui(this,this.l);break;case"lpstr-cp":n=aG(this,this.l),t=4+Ui(this,this.l);break;case"lpwstr":n=oG(this,this.l),t=4+2*Ui(this,this.l);break;case"lpp4":t=4+Ui(this,this.l),n=cG(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+Ui(this,this.l),n=dG(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,n="";(o=Jf(this,this.l+t++))!==0;)i.push(Ox(o));n=i.join("");break;case"_wstr":for(t=0,n="";(o=Hg(this,this.l+t))!==0;)i.push(Ox(o)),t+=2;t+=2,n=i.join("");break;case"dbcs-cont":for(n="",h=this.l,u=0;u<t;++u){if(this.lens&&this.lens.indexOf(h)!==-1)return o=Jf(this,h),this.l=h+1,c=u0.call(this,t-u,o?"dbcs-cont":"sbcs-cont"),i.join("")+c;i.push(Ox(Hg(this,h))),h+=2}n=i.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(n="",h=this.l,u=0;u!=t;++u){if(this.lens&&this.lens.indexOf(h)!==-1)return o=Jf(this,h),this.l=h+1,c=u0.call(this,t-u,o?"dbcs-cont":"sbcs-cont"),i.join("")+c;i.push(Ox(Jf(this,h))),h+=1}n=i.join("");break;default:switch(t){case 1:return r=Jf(this,this.l),this.l++,r;case 2:return r=(e==="i"?WEe:Hg)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||!(this[this.l+3]&128)?(r=(t>0?nh:KEe)(this,this.l),this.l+=4,r):(s=Ui(this,this.l),this.l+=4,s);case 8:case-8:if(e==="f")return t==8?s=f1(this,this.l):s=f1([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;t=8;case 16:n=tG(this,this.l,t);break}}return this.l+=t,n}var YEe=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24&255},XEe=function(t,e,n){t[n]=e&255,t[n+1]=e>>8&255,t[n+2]=e>>16&255,t[n+3]=e>>24&255},JEe=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255};function QEe(t,e,n){var r=0,s=0;if(n==="dbcs"){for(s=0;s!=e.length;++s)JEe(this,e.charCodeAt(s),this.l+2*s);r=2*e.length}else if(n==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=e.length;++s)this[this.l+s]=e.charCodeAt(s)&255;r=e.length}else if(n==="hex"){for(;s<t;++s)this[this.l++]=parseInt(e.slice(2*s,2*s+2),16)||0;return this}else if(n==="utf16le"){var i=Math.min(this.l+t,this.length);for(s=0;s<Math.min(e.length,t);++s){var o=e.charCodeAt(s);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(t){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,YEe(this,e,this.l);break;case 8:if(r=8,n==="f"){GEe(this,e,this.l);break}case 16:break;case-4:r=4,XEe(this,e,this.l);break}return this.l+=r,this}function fG(t,e){var n=tG(this,this.l,t.length>>1);if(n!==t)throw new Error(e+"Expected "+t+" saw "+n);this.l+=t.length>>1}function Fi(t,e){t.l=e,t.read_shift=u0,t.chk=fG,t.write_shift=QEe}function nc(t,e){t.l+=e}function ze(t){var e=Ah(t);return Fi(e,0),e}function _i(){var t=[],e=Zn?256:2048,n=function(h){var f=ze(h);return Fi(f,0),f},r=n(e),s=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&t.push(r),r=null)},i=function(h){return r&&h<r.length-r.l?r:(s(),r=n(Math.max(h+1,e)))},o=function(){return s(),xa(t)},c=function(h){s(),r=h,r.l==null&&(r.l=r.length),i(e)};return{next:i,push:c,end:o,_bufs:t}}function et(t,e,n,r){var s=+e,i;if(!isNaN(s)){r||(r=HAe[s].p||(n||[]).length||0),i=1+(s>=128?1:0)+1,r>=128&&++i,r>=16384&&++i,r>=2097152&&++i;var o=t.next(i);s<=127?o.write_shift(1,s):(o.write_shift(1,(s&127)+128),o.write_shift(1,s>>7));for(var c=0;c!=4;++c)if(r>=128)o.write_shift(1,(r&127)+128),r>>=7;else{o.write_shift(1,r);break}r>0&&_3(n)&&t.push(n)}}function d0(t,e,n){var r=ji(t);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function FM(t,e,n){var r=ji(t);return r.s=d0(r.s,e.s,n),r.e=d0(r.e,e.s,n),r}function h0(t,e){if(t.cRel&&t.c<0)for(t=ji(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=ji(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var n=cr(t);return!t.cRel&&t.cRel!=null&&(n=tje(n)),!t.rRel&&t.rRel!=null&&(n=ZEe(n)),n}function TS(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+Fa(t.s.c)+":"+(t.e.cRel?"":"$")+Fa(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+_a(t.s.r)+":"+(t.e.rRel?"":"$")+_a(t.e.r):h0(t.s,e.biff)+":"+h0(t.e,e.biff)}function E3(t){return parseInt(eje(t),10)-1}function _a(t){return""+(t+1)}function ZEe(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function eje(t){return t.replace(/\$(\d+)$/,"$1")}function j3(t){for(var e=nje(t),n=0,r=0;r!==e.length;++r)n=26*n+e.charCodeAt(r)-64;return n-1}function Fa(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function tje(t){return t.replace(/^([A-Z])/,"$$$1")}function nje(t){return t.replace(/^\$([A-Z])/,"$1")}function rje(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Qs(t){for(var e=0,n=0,r=0;r<t.length;++r){var s=t.charCodeAt(r);s>=48&&s<=57?e=10*e+(s-48):s>=65&&s<=90&&(n=26*n+(s-64))}return{c:n-1,r:e-1}}function cr(t){for(var e=t.c+1,n="";e;e=(e-1)/26|0)n=String.fromCharCode((e-1)%26+65)+n;return n+(t.r+1)}function Xi(t){var e=t.indexOf(":");return e==-1?{s:Qs(t),e:Qs(t)}:{s:Qs(t.slice(0,e)),e:Qs(t.slice(e+1))}}function As(t,e){return typeof e>"u"||typeof e=="number"?As(t.s,t.e):(typeof t!="string"&&(t=cr(t)),typeof e!="string"&&(e=cr(e)),t==e?t:t+":"+e)}function Ar(t){var e={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,s=0,i=t.length;for(n=0;r<i&&!((s=t.charCodeAt(r)-64)<1||s>26);++r)n=26*n+s;for(e.s.c=--n,n=0;r<i&&!((s=t.charCodeAt(r)-48)<0||s>9);++r)n=10*n+s;if(e.s.r=--n,r===i||s!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,n=0;r!=i&&!((s=t.charCodeAt(r)-64)<1||s>26);++r)n=26*n+s;for(e.e.c=--n,n=0;r!=i&&!((s=t.charCodeAt(r)-48)<0||s>9);++r)n=10*n+s;return e.e.r=--n,e}function BM(t,e){var n=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=vd(t.z,n?Ei(e):e)}catch{}try{return t.w=vd((t.XF||{}).numFmtId||(n?14:0),n?Ei(e):e)}catch{return""+e}}function tu(t,e,n){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&n&&n.dateNF&&(t.z=n.dateNF),t.t=="e"?Ky[t.v]||t.v:e==null?BM(t,t.v):BM(t,e))}function Jh(t,e){var n=e&&e.sheet?e.sheet:"Sheet1",r={};return r[n]=t,{SheetNames:[n],Sheets:r}}function mG(t,e,n){var r=n||{},s=t?Array.isArray(t):r.dense,i=t||(s?[]:{}),o=0,c=0;if(i&&r.origin!=null){if(typeof r.origin=="number")o=r.origin;else{var u=typeof r.origin=="string"?Qs(r.origin):r.origin;o=u.r,c=u.c}i["!ref"]||(i["!ref"]="A1:A1")}var h={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var f=Ar(i["!ref"]);h.s.c=f.s.c,h.s.r=f.s.r,h.e.c=Math.max(h.e.c,f.e.c),h.e.r=Math.max(h.e.r,f.e.r),o==-1&&(h.e.r=o=f.e.r+1)}for(var g=0;g!=e.length;++g)if(e[g]){if(!Array.isArray(e[g]))throw new Error("aoa_to_sheet expects an array of arrays");for(var p=0;p!=e[g].length;++p)if(!(typeof e[g][p]>"u")){var y={v:e[g][p]},w=o+g,E=c+p;if(h.s.r>w&&(h.s.r=w),h.s.c>E&&(h.s.c=E),h.e.r<w&&(h.e.r=w),h.e.c<E&&(h.e.c=E),e[g][p]&&typeof e[g][p]=="object"&&!Array.isArray(e[g][p])&&!(e[g][p]instanceof Date))y=e[g][p];else if(Array.isArray(y.v)&&(y.f=e[g][p][1],y.v=y.v[0]),y.v===null)if(y.f)y.t="n";else if(r.nullError)y.t="e",y.v=0;else if(r.sheetStubs)y.t="z";else continue;else typeof y.v=="number"?y.t="n":typeof y.v=="boolean"?y.t="b":y.v instanceof Date?(y.z=r.dateNF||us[14],r.cellDates?(y.t="d",y.w=vd(y.z,Ei(y.v))):(y.t="n",y.v=Ei(y.v),y.w=vd(y.z,y.v))):y.t="s";if(s)i[w]||(i[w]=[]),i[w][E]&&i[w][E].z&&(y.z=i[w][E].z),i[w][E]=y;else{var j=cr({c:E,r:w});i[j]&&i[j].z&&(y.z=i[j].z),i[j]=y}}}return h.s.c<1e7&&(i["!ref"]=As(h)),i}function jp(t,e){return mG(null,t,e)}function sje(t){return t.read_shift(4,"i")}function ol(t,e){return e||(e=ze(4)),e.write_shift(4,t),e}function Ba(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function Zs(t,e){var n=!1;return e==null&&(n=!0,e=ze(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}function aje(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function ije(t,e){return e||(e=ze(4)),e.write_shift(2,0),e.write_shift(2,0),e}function S3(t,e){var n=t.l,r=t.read_shift(1),s=Ba(t),i=[],o={t:s,h:s};if(r&1){for(var c=t.read_shift(4),u=0;u!=c;++u)i.push(aje(t));o.r=i}else o.r=[{ich:0,ifnt:0}];return t.l=n+e,o}function oje(t,e){var n=!1;return e==null&&(n=!0,e=ze(15+4*t.t.length)),e.write_shift(1,0),Zs(t.t,e),n?e.slice(0,e.l):e}var lje=S3;function cje(t,e){var n=!1;return e==null&&(n=!0,e=ze(23+4*t.t.length)),e.write_shift(1,1),Zs(t.t,e),e.write_shift(4,1),ije({},e),n?e.slice(0,e.l):e}function Do(t){var e=t.read_shift(4),n=t.read_shift(2);return n+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:n}}function Qh(t,e){return e==null&&(e=ze(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function Zh(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function ef(t,e){return e==null&&(e=ze(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var uje=Ba,pG=Zs;function C3(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function m1(t,e){var n=!1;return e==null&&(n=!0,e=ze(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}var dje=Ba,uT=C3,N3=m1;function gG(t){var e=t.slice(t.l,t.l+4),n=e[0]&1,r=e[0]&2;t.l+=4;var s=r===0?f1([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):nh(e,0)>>2;return n?s/100:s}function yG(t,e){e==null&&(e=ze(4));var n=0,r=0,s=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?r=1:s==(s|0)&&s>=-536870912&&s<1<<29&&(r=1,n=1),r)e.write_shift(-4,((n?s:t)<<2)+(n+2));else throw new Error("unsupported RkNumber "+t)}function vG(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function hje(t,e){return e||(e=ze(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var tf=vG,Sp=hje;function Cp(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function Lh(t,e){return(e||ze(8)).write_shift(8,t,"f")}function fje(t){var e={},n=t.read_shift(1),r=n>>>1,s=t.read_shift(1),i=t.read_shift(2,"i"),o=t.read_shift(1),c=t.read_shift(1),u=t.read_shift(1);switch(t.l++,r){case 0:e.auto=1;break;case 1:e.index=s;var h=_je[s];h&&(e.rgb=XM(h));break;case 2:e.rgb=XM([o,c,u]);break;case 3:e.theme=s;break}return i!=0&&(e.tint=i>0?i/32767:i/32768),e}function p1(t,e){if(e||(e=ze(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var n=t.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),e.write_shift(2,n),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var r=t.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),e.write_shift(1,parseInt(r.slice(0,2),16)),e.write_shift(1,parseInt(r.slice(2,4),16)),e.write_shift(1,parseInt(r.slice(4,6),16)),e.write_shift(1,255)}return e}function mje(t){var e=t.read_shift(1);t.l++;var n={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return n}function pje(t,e){e||(e=ze(2));var n=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,n),e.write_shift(1,0),e}var xG=2,Mi=3,Mx=11,g1=19,Fx=64,gje=65,yje=71,vje=4108,xje=4126,pa=80,UM={1:{n:"CodePage",t:xG},2:{n:"Category",t:pa},3:{n:"PresentationFormat",t:pa},4:{n:"ByteCount",t:Mi},5:{n:"LineCount",t:Mi},6:{n:"ParagraphCount",t:Mi},7:{n:"SlideCount",t:Mi},8:{n:"NoteCount",t:Mi},9:{n:"HiddenCount",t:Mi},10:{n:"MultimediaClipCount",t:Mi},11:{n:"ScaleCrop",t:Mx},12:{n:"HeadingPairs",t:vje},13:{n:"TitlesOfParts",t:xje},14:{n:"Manager",t:pa},15:{n:"Company",t:pa},16:{n:"LinksUpToDate",t:Mx},17:{n:"CharacterCount",t:Mi},19:{n:"SharedDoc",t:Mx},22:{n:"HyperlinksChanged",t:Mx},23:{n:"AppVersion",t:Mi,p:"version"},24:{n:"DigSig",t:gje},26:{n:"ContentType",t:pa},27:{n:"ContentStatus",t:pa},28:{n:"Language",t:pa},29:{n:"Version",t:pa},255:{},2147483648:{n:"Locale",t:g1},2147483651:{n:"Behavior",t:g1},1919054434:{}},zM={1:{n:"CodePage",t:xG},2:{n:"Title",t:pa},3:{n:"Subject",t:pa},4:{n:"Author",t:pa},5:{n:"Keywords",t:pa},6:{n:"Comments",t:pa},7:{n:"Template",t:pa},8:{n:"LastAuthor",t:pa},9:{n:"RevNumber",t:pa},10:{n:"EditTime",t:Fx},11:{n:"LastPrinted",t:Fx},12:{n:"CreatedDate",t:Fx},13:{n:"ModifiedDate",t:Fx},14:{n:"PageCount",t:Mi},15:{n:"WordCount",t:Mi},16:{n:"CharCount",t:Mi},17:{n:"Thumbnail",t:yje},18:{n:"Application",t:pa},19:{n:"DocSecurity",t:Mi},255:{},2147483648:{n:"Locale",t:g1},2147483651:{n:"Behavior",t:g1},1919054434:{}};function bje(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var wje=bje([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),_je=ji(wje),Ky={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Eje={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Bx={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function bG(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function wG(t,e){var n=OEe(Eje),r=[],s;r[r.length]=Ls,r[r.length]=dt("Types",null,{xmlns:Js.CT,"xmlns:xsd":Js.xsd,"xmlns:xsi":Js.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(u){return dt("Default",null,{Extension:u[0],ContentType:u[1]})}));var i=function(u){t[u]&&t[u].length>0&&(s=t[u][0],r[r.length]=dt("Override",null,{PartName:(s[0]=="/"?"":"/")+s,ContentType:Bx[u][e.bookType]||Bx[u].xlsx}))},o=function(u){(t[u]||[]).forEach(function(h){r[r.length]=dt("Override",null,{PartName:(h[0]=="/"?"":"/")+h,ContentType:Bx[u][e.bookType]||Bx[u].xlsx})})},c=function(u){(t[u]||[]).forEach(function(h){r[r.length]=dt("Override",null,{PartName:(h[0]=="/"?"":"/")+h,ContentType:n[u][0]})})};return i("workbooks"),o("sheets"),o("charts"),c("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(c),c("vba"),c("comments"),c("threadedcomments"),c("drawings"),o("metadata"),c("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var Yn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function _G(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function ym(t){var e=[Ls,dt("Relationships",null,{xmlns:Js.RELS})];return ja(t["!id"]).forEach(function(n){e[e.length]=dt("Relationship",null,t["!id"][n])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function or(t,e,n,r,s,i){if(s||(s={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,s.Id="rId"+e,s.Type=r,s.Target=n,[Yn.HLINK,Yn.XPATH,Yn.XMISS].indexOf(s.Type)>-1&&(s.TargetMode="External"),t["!id"][s.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][s.Id]=s,t[("/"+s.Target).replace("//","/")]=s,e}function jje(t){var e=[Ls];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var n=0;n<t.length;++n)e.push('  <manifest:file-entry manifest:full-path="'+t[n][0]+'" manifest:media-type="'+t[n][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function qM(t,e,n){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function Sje(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function Cje(t){var e=[Ls];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var n=0;n!=t.length;++n)e.push(qM(t[n][0],t[n][1])),e.push(Sje("",t[n][0]));return e.push(qM("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function EG(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+l1.version+"</meta:generator></office:meta></office:document-meta>"}var fh=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function AS(t,e,n,r,s){s[t]!=null||e==null||e===""||(s[t]=e,e=lr(e),r[r.length]=n?dt(t,e,n):ba(t,e))}function jG(t,e){var n=e||{},r=[Ls,dt("cp:coreProperties",null,{"xmlns:cp":Js.CORE_PROPS,"xmlns:dc":Js.dc,"xmlns:dcterms":Js.dcterms,"xmlns:dcmitype":Js.dcmitype,"xmlns:xsi":Js.xsi})],s={};if(!t&&!n.Props)return r.join("");t&&(t.CreatedDate!=null&&AS("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:cT(t.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,s),t.ModifiedDate!=null&&AS("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:cT(t.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,s));for(var i=0;i!=fh.length;++i){var o=fh[i],c=n.Props&&n.Props[o[1]]!=null?n.Props[o[1]]:t?t[o[1]]:null;c===!0?c="1":c===!1?c="0":typeof c=="number"&&(c=String(c)),c!=null&&AS(o[0],c,null,r,s)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var vm=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],SG=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function CG(t){var e=[],n=dt;return t||(t={}),t.Application="SheetJS",e[e.length]=Ls,e[e.length]=dt("Properties",null,{xmlns:Js.EXT_PROPS,"xmlns:vt":Js.vt}),vm.forEach(function(r){if(t[r[1]]!==void 0){var s;switch(r[2]){case"string":s=lr(String(t[r[1]]));break;case"bool":s=t[r[1]]?"true":"false";break}s!==void 0&&(e[e.length]=n(r[0],s))}}),e[e.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=n("TitlesOfParts",n("vt:vector",t.SheetNames.map(function(r){return"<vt:lpstr>"+lr(r)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function NG(t){var e=[Ls,dt("Properties",null,{xmlns:Js.CUST_PROPS,"xmlns:vt":Js.vt})];if(!t)return e.join("");var n=1;return ja(t).forEach(function(s){++n,e[e.length]=dt("property",VEe(t[s]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:lr(s)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var $M={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function Nje(t,e){var n=[];return ja($M).map(function(r){for(var s=0;s<fh.length;++s)if(fh[s][1]==r)return fh[s];for(s=0;s<vm.length;++s)if(vm[s][1]==r)return vm[s];throw r}).forEach(function(r){if(t[r[1]]!=null){var s=e&&e.Props&&e.Props[r[1]]!=null?e.Props[r[1]]:t[r[1]];switch(r[2]){case"date":s=new Date(s).toISOString().replace(/\.\d*Z/,"Z");break}typeof s=="number"?s=String(s):s===!0||s===!1?s=s?"1":"0":s instanceof Date&&(s=new Date(s).toISOString().replace(/\.\d*Z/,"")),n.push(ba($M[r[1]]||r[1],s))}}),dt("DocumentProperties",n.join(""),{xmlns:Bi.o})}function Tje(t,e){var n=["Worksheets","SheetNames"],r="CustomDocumentProperties",s=[];return t&&ja(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)){for(var o=0;o<fh.length;++o)if(i==fh[o][1])return;for(o=0;o<vm.length;++o)if(i==vm[o][1])return;for(o=0;o<n.length;++o)if(i==n[o])return;var c=t[i],u="string";typeof c=="number"?(u="float",c=String(c)):c===!0||c===!1?(u="boolean",c=c?"1":"0"):c=String(c),s.push(dt(LM(i),c,{"dt:dt":u}))}}),e&&ja(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)&&!(t&&Object.prototype.hasOwnProperty.call(t,i))){var o=e[i],c="string";typeof o=="number"?(c="float",o=String(o)):o===!0||o===!1?(c="boolean",o=o?"1":"0"):o instanceof Date?(c="dateTime.tz",o=o.toISOString()):o=String(o),s.push(dt(LM(i),o,{"dt:dt":c}))}}),"<"+r+' xmlns="'+Bi.o+'">'+s.join("")+"</"+r+">"}function Aje(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,n=e.getTime()/1e3+11644473600,r=n%Math.pow(2,32),s=(n-r)/Math.pow(2,32);r*=1e7,s*=1e7;var i=r/Math.pow(2,32)|0;i>0&&(r=r%Math.pow(2,32),s+=i);var o=ze(8);return o.write_shift(4,r),o.write_shift(4,s),o}function VM(t,e){var n=ze(4),r=ze(4);switch(n.write_shift(4,t==80?31:t),t){case 3:r.write_shift(-4,e);break;case 5:r=ze(8),r.write_shift(8,e,"f");break;case 11:r.write_shift(4,e?1:0);break;case 64:r=Aje(e);break;case 31:case 80:for(r=ze(4+2*(e.length+1)+(e.length%2?0:2)),r.write_shift(4,e.length+1),r.write_shift(0,e,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return xa([n,r])}var TG=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function Lje(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function HM(t,e,n){var r=ze(8),s=[],i=[],o=8,c=0,u=ze(8),h=ze(8);if(u.write_shift(4,2),u.write_shift(4,1200),h.write_shift(4,1),i.push(u),s.push(h),o+=8+u.length,!e){h=ze(8),h.write_shift(4,0),s.unshift(h);var f=[ze(4)];for(f[0].write_shift(4,t.length),c=0;c<t.length;++c){var g=t[c][0];for(u=ze(8+2*(g.length+1)+(g.length%2?0:2)),u.write_shift(4,c+2),u.write_shift(4,g.length+1),u.write_shift(0,g,"dbcs");u.l!=u.length;)u.write_shift(1,0);f.push(u)}u=xa(f),i.unshift(u),o+=8+u.length}for(c=0;c<t.length;++c)if(!(e&&!e[t[c][0]])&&!(TG.indexOf(t[c][0])>-1||SG.indexOf(t[c][0])>-1)&&t[c][1]!=null){var p=t[c][1],y=0;if(e){y=+e[t[c][0]];var w=n[y];if(w.p=="version"&&typeof p=="string"){var E=p.split(".");p=(+E[0]<<16)+(+E[1]||0)}u=VM(w.t,p)}else{var j=Lje(p);j==-1&&(j=31,p=String(p)),u=VM(j,p)}i.push(u),h=ze(8),h.write_shift(4,e?y:2+c),s.push(h),o+=8+u.length}var C=8*(i.length+1);for(c=0;c<i.length;++c)s[c].write_shift(4,C),C+=i[c].length;return r.write_shift(4,o),r.write_shift(4,i.length),xa([r].concat(s).concat(i))}function GM(t,e,n,r,s,i){var o=ze(s?68:48),c=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,fr.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,s?2:1),o.write_shift(16,e,"hex"),o.write_shift(4,s?68:48);var u=HM(t,n,r);if(c.push(u),s){var h=HM(s,null,null);o.write_shift(16,i,"hex"),o.write_shift(4,68+u.length),c.push(h)}return xa(c)}function Rje(t,e){e||(e=ze(t));for(var n=0;n<t;++n)e.write_shift(1,0);return e}function kje(t,e){return t.read_shift(e)===1}function ti(t,e){return e||(e=ze(2)),e.write_shift(2,+!!t),e}function AG(t){return t.read_shift(2,"u")}function _o(t,e){return e||(e=ze(2)),e.write_shift(2,t),e}function LG(t,e,n){return n||(n=ze(2)),n.write_shift(1,e=="e"?+t:+!!t),n.write_shift(1,e=="e"?1:0),n}function RG(t,e,n){var r=t.read_shift(n&&n.biff>=12?2:1),s="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var i=t.read_shift(1);i&&(s="dbcs-cont")}else n.biff==12&&(s="wstr");n.biff>=2&&n.biff<=5&&(s="cpstr");var o=r?t.read_shift(r,s):"";return o}function Oje(t){var e=t.t||"",n=ze(3);n.write_shift(2,e.length),n.write_shift(1,1);var r=ze(2*e.length);r.write_shift(2*e.length,e,"utf16le");var s=[n,r];return xa(s)}function Ije(t,e,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return t.read_shift(e,"cpstr");if(n.biff>=12)return t.read_shift(e,"dbcs-cont")}var s=t.read_shift(1);return s===0?r=t.read_shift(e,"sbcs-cont"):r=t.read_shift(e,"dbcs-cont"),r}function Pje(t,e,n){var r=t.read_shift(n&&n.biff==2?1:2);return r===0?(t.l++,""):Ije(t,r,n)}function Dje(t,e,n){if(n.biff>5)return Pje(t,e,n);var r=t.read_shift(1);return r===0?(t.l++,""):t.read_shift(r,n.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function kG(t,e,n){return n||(n=ze(3+2*t.length)),n.write_shift(2,t.length),n.write_shift(1,1),n.write_shift(31,t,"utf16le"),n}function WM(t,e){e||(e=ze(6+t.length*2)),e.write_shift(4,1+t.length);for(var n=0;n<t.length;++n)e.write_shift(2,t.charCodeAt(n));return e.write_shift(2,0),e}function Mje(t){var e=ze(512),n=0,r=t.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var s=r.indexOf("#"),i=s>-1?31:23;switch(r.charAt(0)){case"#":i=28;break;case".":i&=-3;break}e.write_shift(4,2),e.write_shift(4,i);var o=[8,6815827,6619237,4849780,83];for(n=0;n<o.length;++n)e.write_shift(4,o[n]);if(i==28)r=r.slice(1),WM(r,e);else if(i&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<o.length;++n)e.write_shift(1,parseInt(o[n],16));var c=s>-1?r.slice(0,s):r;for(e.write_shift(4,2*(c.length+1)),n=0;n<c.length;++n)e.write_shift(2,c.charCodeAt(n));e.write_shift(2,0),i&8&&WM(s>-1?r.slice(s+1):"",e)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<o.length;++n)e.write_shift(1,parseInt(o[n],16));for(var u=0;r.slice(u*3,u*3+3)=="../"||r.slice(u*3,u*3+3)=="..\\";)++u;for(e.write_shift(2,u),e.write_shift(4,r.length-3*u+1),n=0;n<r.length-3*u;++n)e.write_shift(1,r.charCodeAt(n+3*u)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),n=0;n<6;++n)e.write_shift(4,0)}return e.slice(0,e.l)}function Rh(t,e,n,r){return r||(r=ze(6)),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(2,n||0),r}function Fje(t,e,n){var r=n.biff>8?4:2,s=t.read_shift(r),i=t.read_shift(r,"i"),o=t.read_shift(r,"i");return[s,i,o]}function Bje(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),s=t.read_shift(2);return{s:{c:r,r:e},e:{c:s,r:n}}}function OG(t,e){return e||(e=ze(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function T3(t,e,n){var r=1536,s=16;switch(n.bookType){case"biff8":break;case"biff5":r=1280,s=8;break;case"biff4":r=4,s=6;break;case"biff3":r=3,s=6;break;case"biff2":r=2,s=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=ze(s);return i.write_shift(2,r),i.write_shift(2,e),s>4&&i.write_shift(2,29282),s>6&&i.write_shift(2,1997),s>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function Uje(t,e){var n=!e||e.biff==8,r=ze(n?112:54);for(r.write_shift(e.biff==8?2:1,7),n&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(n?0:536870912));r.l<r.length;)r.write_shift(1,n?0:32);return r}function zje(t,e){var n=!e||e.biff>=8?2:1,r=ze(8+n*t.name.length);r.write_shift(4,t.pos),r.write_shift(1,t.hs||0),r.write_shift(1,t.dt),r.write_shift(1,t.name.length),e.biff>=8&&r.write_shift(1,1),r.write_shift(n*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var s=r.slice(0,r.l);return s.l=r.l,s}function qje(t,e){var n=ze(8);n.write_shift(4,t.Count),n.write_shift(4,t.Unique);for(var r=[],s=0;s<t.length;++s)r[s]=Oje(t[s]);var i=xa([n].concat(r));return i.parts=[n.length].concat(r.map(function(o){return o.length})),i}function $je(){var t=ze(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function Vje(t){var e=ze(18),n=1718;return t&&t.RTL&&(n|=64),e.write_shift(2,n),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function Hje(t,e){var n=t.name||"Arial",r=e&&e.biff==5,s=r?15+n.length:16+2*n.length,i=ze(s);return i.write_shift(2,t.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,n.length),r||i.write_shift(1,1),i.write_shift((r?1:2)*n.length,n,r?"sbcs":"utf16le"),i}function Gje(t,e,n,r){var s=ze(10);return Rh(t,e,r,s),s.write_shift(4,n),s}function Wje(t,e,n,r,s){var i=!s||s.biff==8,o=ze(8+ +i+(1+i)*n.length);return Rh(t,e,r,o),o.write_shift(2,n.length),i&&o.write_shift(1,1),o.write_shift((1+i)*n.length,n,i?"utf16le":"sbcs"),o}function Kje(t,e,n,r){var s=n&&n.biff==5;r||(r=ze(s?3+e.length:5+2*e.length)),r.write_shift(2,t),r.write_shift(s?1:2,e.length),s||r.write_shift(1,1),r.write_shift((s?1:2)*e.length,e,s?"sbcs":"utf16le");var i=r.length>r.l?r.slice(0,r.l):r;return i.l==null&&(i.l=i.length),i}function Yje(t,e){var n=e.biff==8||!e.biff?4:2,r=ze(2*n+6);return r.write_shift(n,t.s.r),r.write_shift(n,t.e.r+1),r.write_shift(2,t.s.c),r.write_shift(2,t.e.c+1),r.write_shift(2,0),r}function KM(t,e,n,r){var s=n&&n.biff==5;r||(r=ze(s?16:20)),r.write_shift(2,0),t.style?(r.write_shift(2,t.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,t.numFmtId||0),r.write_shift(2,e<<4));var i=0;return t.numFmtId>0&&s&&(i|=1024),r.write_shift(4,i),r.write_shift(4,0),s||r.write_shift(4,0),r.write_shift(2,0),r}function Xje(t){var e=ze(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function Jje(t,e,n,r,s,i){var o=ze(8);return Rh(t,e,r,o),LG(n,i,o),o}function Qje(t,e,n,r){var s=ze(14);return Rh(t,e,r,s),Lh(n,s),s}function Zje(t,e,n){if(n.biff<8)return eSe(t,e,n);for(var r=[],s=t.l+e,i=t.read_shift(n.biff>8?4:2);i--!==0;)r.push(Fje(t,n.biff>8?12:6,n));if(t.l!=s)throw new Error("Bad ExternSheet: "+t.l+" != "+s);return r}function eSe(t,e,n){t[t.l+1]==3&&t[t.l]++;var r=RG(t,e,n);return r.charCodeAt(0)==3?r.slice(1):r}function tSe(t){var e=ze(2+t.length*8);e.write_shift(2,t.length);for(var n=0;n<t.length;++n)OG(t[n],e);return e}function nSe(t){var e=ze(24),n=Qs(t[0]);e.write_shift(2,n.r),e.write_shift(2,n.r),e.write_shift(2,n.c),e.write_shift(2,n.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),s=0;s<16;++s)e.write_shift(1,parseInt(r[s],16));return xa([e,Mje(t[1])])}function rSe(t){var e=t[1].Tooltip,n=ze(10+2*(e.length+1));n.write_shift(2,2048);var r=Qs(t[0]);n.write_shift(2,r.r),n.write_shift(2,r.r),n.write_shift(2,r.c),n.write_shift(2,r.c);for(var s=0;s<e.length;++s)n.write_shift(2,e.charCodeAt(s));return n.write_shift(2,0),n}function sSe(t){return t||(t=ze(4)),t.write_shift(2,1),t.write_shift(2,1),t}function aSe(t,e,n){if(!n.cellStyles)return nc(t,e);var r=n&&n.biff>=12?4:2,s=t.read_shift(r),i=t.read_shift(r),o=t.read_shift(r),c=t.read_shift(r),u=t.read_shift(2);r==2&&(t.l+=2);var h={s,e:i,w:o,ixfe:c,flags:u};return(n.biff>=5||!n.biff)&&(h.level=u>>8&7),h}function iSe(t,e){var n=ze(12);n.write_shift(2,e),n.write_shift(2,e),n.write_shift(2,t.width*256),n.write_shift(2,0);var r=0;return t.hidden&&(r|=1),n.write_shift(1,r),r=t.level||0,n.write_shift(1,r),n.write_shift(2,0),n}function oSe(t){for(var e=ze(2*t),n=0;n<t;++n)e.write_shift(2,n+1);return e}function lSe(t,e,n){var r=ze(15);return Xy(r,t,e),r.write_shift(8,n,"f"),r}function cSe(t,e,n){var r=ze(9);return Xy(r,t,e),r.write_shift(2,n),r}var uSe=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=y3({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(c,u){var h=[],f=Ah(1);switch(u.type){case"base64":f=rl(eu(c));break;case"binary":f=rl(c);break;case"buffer":case"array":f=c;break}Fi(f,0);var g=f.read_shift(1),p=!!(g&136),y=!1,w=!1;switch(g){case 2:break;case 3:break;case 48:y=!0,p=!0;break;case 49:y=!0,p=!0;break;case 131:break;case 139:break;case 140:w=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+g.toString(16))}var E=0,j=521;g==2&&(E=f.read_shift(2)),f.l+=3,g!=2&&(E=f.read_shift(4)),E>1048576&&(E=1e6),g!=2&&(j=f.read_shift(2));var C=f.read_shift(2),O=u.codepage||1252;g!=2&&(f.l+=16,f.read_shift(1),f[f.l]!==0&&(O=t[f[f.l]]),f.l+=1,f.l+=2),w&&(f.l+=36);for(var I=[],D={},T=Math.min(f.length,g==2?521:j-10-(y?264:0)),F=w?32:11;f.l<T&&f[f.l]!=13;)switch(D={},D.name=vM.utils.decode(O,f.slice(f.l,f.l+F)).replace(/[\u0000\r\n].*$/g,""),f.l+=F,D.type=String.fromCharCode(f.read_shift(1)),g!=2&&!w&&(D.offset=f.read_shift(4)),D.len=f.read_shift(1),g==2&&(D.offset=f.read_shift(2)),D.dec=f.read_shift(1),D.name.length&&I.push(D),g!=2&&(f.l+=w?13:14),D.type){case"B":(!y||D.len!=8)&&u.WTF&&console.log("Skipping "+D.name+":"+D.type);break;case"G":case"P":u.WTF&&console.log("Skipping "+D.name+":"+D.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+D.type)}if(f[f.l]!==13&&(f.l=j-1),f.read_shift(1)!==13)throw new Error("DBF Terminator not found "+f.l+" "+f[f.l]);f.l=j;var _=0,R=0;for(h[0]=[],R=0;R!=I.length;++R)h[0][R]=I[R].name;for(;E-- >0;){if(f[f.l]===42){f.l+=C;continue}for(++f.l,h[++_]=[],R=0,R=0;R!=I.length;++R){var b=f.slice(f.l,f.l+I[R].len);f.l+=I[R].len,Fi(b,0);var A=vM.utils.decode(O,b);switch(I[R].type){case"C":A.trim().length&&(h[_][R]=A.replace(/\s+$/,""));break;case"D":A.length===8?h[_][R]=new Date(+A.slice(0,4),+A.slice(4,6)-1,+A.slice(6,8)):h[_][R]=A;break;case"F":h[_][R]=parseFloat(A.trim());break;case"+":case"I":h[_][R]=w?b.read_shift(-4,"i")^2147483648:b.read_shift(4,"i");break;case"L":switch(A.trim().toUpperCase()){case"Y":case"T":h[_][R]=!0;break;case"N":case"F":h[_][R]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+A+"|")}break;case"M":if(!p)throw new Error("DBF Unexpected MEMO for type "+g.toString(16));h[_][R]="##MEMO##"+(w?parseInt(A.trim(),10):b.read_shift(4));break;case"N":A=A.replace(/\u0000/g,"").trim(),A&&A!="."&&(h[_][R]=+A||0);break;case"@":h[_][R]=new Date(b.read_shift(-8,"f")-621356832e5);break;case"T":h[_][R]=new Date((b.read_shift(4)-2440588)*864e5+b.read_shift(4));break;case"Y":h[_][R]=b.read_shift(4,"i")/1e4+b.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":h[_][R]=-b.read_shift(-8,"f");break;case"B":if(y&&I[R].len==8){h[_][R]=b.read_shift(8,"f");break}case"G":case"P":b.l+=I[R].len;break;case"0":if(I[R].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+I[R].type)}}}if(g!=2&&f.l<f.length&&f[f.l++]!=26)throw new Error("DBF EOF Marker missing "+(f.l-1)+" of "+f.length+" "+f[f.l-1].toString(16));return u&&u.sheetRows&&(h=h.slice(0,u.sheetRows)),u.DBF=I,h}function r(c,u){var h=u||{};h.dateNF||(h.dateNF="yyyymmdd");var f=jp(n(c,h),h);return f["!cols"]=h.DBF.map(function(g){return{wch:g.len,DBF:g}}),delete h.DBF,f}function s(c,u){try{return Jh(r(c,u),u)}catch(h){if(u&&u.WTF)throw h}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(c,u){var h=u||{};if(+h.codepage>=0&&K0(+h.codepage),h.type=="string")throw new Error("Cannot write DBF to JS string");var f=_i(),g=w1(c,{header:1,raw:!0,cellDates:!0}),p=g[0],y=g.slice(1),w=c["!cols"]||[],E=0,j=0,C=0,O=1;for(E=0;E<p.length;++E){if(((w[E]||{}).DBF||{}).name){p[E]=w[E].DBF.name,++C;continue}if(p[E]!=null){if(++C,typeof p[E]=="number"&&(p[E]=p[E].toString(10)),typeof p[E]!="string")throw new Error("DBF Invalid column name "+p[E]+" |"+typeof p[E]+"|");if(p.indexOf(p[E])!==E){for(j=0;j<1024;++j)if(p.indexOf(p[E]+"_"+j)==-1){p[E]+="_"+j;break}}}}var I=Ar(c["!ref"]),D=[],T=[],F=[];for(E=0;E<=I.e.c-I.s.c;++E){var _="",R="",b=0,A=[];for(j=0;j<y.length;++j)y[j][E]!=null&&A.push(y[j][E]);if(A.length==0||p[E]==null){D[E]="?";continue}for(j=0;j<A.length;++j){switch(typeof A[j]){case"number":R="B";break;case"string":R="C";break;case"boolean":R="L";break;case"object":R=A[j]instanceof Date?"D":"C";break;default:R="C"}b=Math.max(b,String(A[j]).length),_=_&&_!=R?"C":R}b>250&&(b=250),R=((w[E]||{}).DBF||{}).type,R=="C"&&w[E].DBF.len>b&&(b=w[E].DBF.len),_=="B"&&R=="N"&&(_="N",F[E]=w[E].DBF.dec,b=w[E].DBF.len),T[E]=_=="C"||R=="N"?b:i[_]||0,O+=T[E],D[E]=_}var L=f.next(32);for(L.write_shift(4,318902576),L.write_shift(4,y.length),L.write_shift(2,296+32*C),L.write_shift(2,O),E=0;E<4;++E)L.write_shift(4,0);for(L.write_shift(4,0|(+e[PH]||3)<<8),E=0,j=0;E<p.length;++E)if(p[E]!=null){var U=f.next(32),P=(p[E].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);U.write_shift(1,P,"sbcs"),U.write_shift(1,D[E]=="?"?"C":D[E],"sbcs"),U.write_shift(4,j),U.write_shift(1,T[E]||i[D[E]]||0),U.write_shift(1,F[E]||0),U.write_shift(1,2),U.write_shift(4,0),U.write_shift(1,0),U.write_shift(4,0),U.write_shift(4,0),j+=T[E]||i[D[E]]||0}var K=f.next(264);for(K.write_shift(4,13),E=0;E<65;++E)K.write_shift(4,0);for(E=0;E<y.length;++E){var G=f.next(O);for(G.write_shift(1,0),j=0;j<p.length;++j)if(p[j]!=null)switch(D[j]){case"L":G.write_shift(1,y[E][j]==null?63:y[E][j]?84:70);break;case"B":G.write_shift(8,y[E][j]||0,"f");break;case"N":var re="0";for(typeof y[E][j]=="number"&&(re=y[E][j].toFixed(F[j]||0)),C=0;C<T[j]-re.length;++C)G.write_shift(1,32);G.write_shift(1,re,"sbcs");break;case"D":y[E][j]?(G.write_shift(4,("0000"+y[E][j].getFullYear()).slice(-4),"sbcs"),G.write_shift(2,("00"+(y[E][j].getMonth()+1)).slice(-2),"sbcs"),G.write_shift(2,("00"+y[E][j].getDate()).slice(-2),"sbcs")):G.write_shift(8,"00000000","sbcs");break;case"C":var Z=String(y[E][j]!=null?y[E][j]:"").slice(0,T[j]);for(G.write_shift(1,Z,"sbcs"),C=0;C<T[j]-Z.length;++C)G.write_shift(1,32);break}}return f.next(1).write_shift(1,26),f.end()}return{to_workbook:s,to_sheet:r,from_sheet:o}}(),dSe=function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+ja(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(p,y){var w=t[y];return typeof w=="number"?yM(w):w},r=function(p,y,w){var E=y.charCodeAt(0)-32<<4|w.charCodeAt(0)-48;return E==59?p:yM(E)};t["|"]=254;function s(p,y){switch(y.type){case"base64":return i(eu(p),y);case"binary":return i(p,y);case"buffer":return i(Zn&&Buffer.isBuffer(p)?p.toString("binary"):Hy(p),y);case"array":return i($w(p),y)}throw new Error("Unrecognized type "+y.type)}function i(p,y){var w=p.split(/[\n\r]+/),E=-1,j=-1,C=0,O=0,I=[],D=[],T=null,F={},_=[],R=[],b=[],A=0,L;for(+y.codepage>=0&&K0(+y.codepage);C!==w.length;++C){A=0;var U=w[C].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,n),P=U.replace(/;;/g,"\0").split(";").map(function(X){return X.replace(/\u0000/g,";")}),K=P[0],G;if(U.length>0)switch(K){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":P[1].charAt(0)=="P"&&D.push(U.slice(3).replace(/;;/g,";"));break;case"C":var re=!1,Z=!1,me=!1,ie=!1,W=-1,ye=-1;for(O=1;O<P.length;++O)switch(P[O].charAt(0)){case"A":break;case"X":j=parseInt(P[O].slice(1))-1,Z=!0;break;case"Y":for(E=parseInt(P[O].slice(1))-1,Z||(j=0),L=I.length;L<=E;++L)I[L]=[];break;case"K":G=P[O].slice(1),G.charAt(0)==='"'?G=G.slice(1,G.length-1):G==="TRUE"?G=!0:G==="FALSE"?G=!1:isNaN(zc(G))?isNaN(X0(G).getDate())||(G=ri(G)):(G=zc(G),T!==null&&WH(T)&&(G=JH(G))),re=!0;break;case"E":ie=!0;var Q=cCe(P[O].slice(1),{r:E,c:j});I[E][j]=[I[E][j],Q];break;case"S":me=!0,I[E][j]=[I[E][j],"S5S"];break;case"G":break;case"R":W=parseInt(P[O].slice(1))-1;break;case"C":ye=parseInt(P[O].slice(1))-1;break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+U)}if(re&&(I[E][j]&&I[E][j].length==2?I[E][j][0]=G:I[E][j]=G,T=null),me){if(ie)throw new Error("SYLK shared formula cannot have own formula");var ne=W>-1&&I[W][ye];if(!ne||!ne[1])throw new Error("SYLK shared formula cannot find base");I[E][j][1]=uCe(ne[1],{r:E-W,c:j-ye})}break;case"F":var te=0;for(O=1;O<P.length;++O)switch(P[O].charAt(0)){case"X":j=parseInt(P[O].slice(1))-1,++te;break;case"Y":for(E=parseInt(P[O].slice(1))-1,L=I.length;L<=E;++L)I[L]=[];break;case"M":A=parseInt(P[O].slice(1))/20;break;case"F":break;case"G":break;case"P":T=D[parseInt(P[O].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(b=P[O].slice(1).split(" "),L=parseInt(b[0],10);L<=parseInt(b[1],10);++L)A=parseInt(b[2],10),R[L-1]=A===0?{hidden:!0}:{wch:A},A3(R[L-1]);break;case"C":j=parseInt(P[O].slice(1))-1,R[j]||(R[j]={});break;case"R":E=parseInt(P[O].slice(1))-1,_[E]||(_[E]={}),A>0?(_[E].hpt=A,_[E].hpx=FG(A)):A===0&&(_[E].hidden=!0);break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+U)}te<1&&(T=null);break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+U)}}return _.length>0&&(F["!rows"]=_),R.length>0&&(F["!cols"]=R),y&&y.sheetRows&&(I=I.slice(0,y.sheetRows)),[I,F]}function o(p,y){var w=s(p,y),E=w[0],j=w[1],C=jp(E,y);return ja(j).forEach(function(O){C[O]=j[O]}),C}function c(p,y){return Jh(o(p,y),y)}function u(p,y,w,E){var j="C;Y"+(w+1)+";X"+(E+1)+";K";switch(p.t){case"n":j+=p.v||0,p.f&&!p.F&&(j+=";E"+R3(p.f,{r:w,c:E}));break;case"b":j+=p.v?"TRUE":"FALSE";break;case"e":j+=p.w||p.v;break;case"d":j+='"'+(p.w||p.v)+'"';break;case"s":j+='"'+p.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return j}function h(p,y){y.forEach(function(w,E){var j="F;W"+(E+1)+" "+(E+1)+" ";w.hidden?j+="0":(typeof w.width=="number"&&!w.wpx&&(w.wpx=y1(w.width)),typeof w.wpx=="number"&&!w.wch&&(w.wch=v1(w.wpx)),typeof w.wch=="number"&&(j+=Math.round(w.wch))),j.charAt(j.length-1)!=" "&&p.push(j)})}function f(p,y){y.forEach(function(w,E){var j="F;";w.hidden?j+="M0;":w.hpt?j+="M"+20*w.hpt+";":w.hpx&&(j+="M"+20*x1(w.hpx)+";"),j.length>2&&p.push(j+"R"+(E+1))})}function g(p,y){var w=["ID;PWXL;N;E"],E=[],j=Ar(p["!ref"]),C,O=Array.isArray(p),I=`\r
`;w.push("P;PGeneral"),w.push("F;P0;DG0G8;M255"),p["!cols"]&&h(w,p["!cols"]),p["!rows"]&&f(w,p["!rows"]),w.push("B;Y"+(j.e.r-j.s.r+1)+";X"+(j.e.c-j.s.c+1)+";D"+[j.s.c,j.s.r,j.e.c,j.e.r].join(" "));for(var D=j.s.r;D<=j.e.r;++D)for(var T=j.s.c;T<=j.e.c;++T){var F=cr({r:D,c:T});C=O?(p[D]||[])[T]:p[F],!(!C||C.v==null&&(!C.f||C.F))&&E.push(u(C,p,D,T))}return w.join(I)+I+E.join(I)+I+"E"+I}return{to_workbook:c,to_sheet:o,from_sheet:g}}(),hSe=function(){function t(i,o){switch(o.type){case"base64":return e(eu(i),o);case"binary":return e(i,o);case"buffer":return e(Zn&&Buffer.isBuffer(i)?i.toString("binary"):Hy(i),o);case"array":return e($w(i),o)}throw new Error("Unrecognized type "+o.type)}function e(i,o){for(var c=i.split(`
`),u=-1,h=-1,f=0,g=[];f!==c.length;++f){if(c[f].trim()==="BOT"){g[++u]=[],h=0;continue}if(!(u<0)){var p=c[f].trim().split(","),y=p[0],w=p[1];++f;for(var E=c[f]||"";(E.match(/["]/g)||[]).length&1&&f<c.length-1;)E+=`
`+c[++f];switch(E=E.trim(),+y){case-1:if(E==="BOT"){g[++u]=[],h=0;continue}else if(E!=="EOD")throw new Error("Unrecognized DIF special command "+E);break;case 0:E==="TRUE"?g[u][h]=!0:E==="FALSE"?g[u][h]=!1:isNaN(zc(w))?isNaN(X0(w).getDate())?g[u][h]=w:g[u][h]=ri(w):g[u][h]=zc(w),++h;break;case 1:E=E.slice(1,E.length-1),E=E.replace(/""/g,'"'),E&&E.match(/^=".*"$/)&&(E=E.slice(2,-1)),g[u][h++]=E!==""?E:null;break}if(E==="EOD")break}}return o&&o.sheetRows&&(g=g.slice(0,o.sheetRows)),g}function n(i,o){return jp(t(i,o),o)}function r(i,o){return Jh(n(i,o),o)}var s=function(){var i=function(u,h,f,g,p){u.push(h),u.push(f+","+g),u.push('"'+p.replace(/"/g,'""')+'"')},o=function(u,h,f,g){u.push(h+","+f),u.push(h==1?'"'+g.replace(/"/g,'""')+'"':g)};return function(u){var h=[],f=Ar(u["!ref"]),g,p=Array.isArray(u);i(h,"TABLE",0,1,"sheetjs"),i(h,"VECTORS",0,f.e.r-f.s.r+1,""),i(h,"TUPLES",0,f.e.c-f.s.c+1,""),i(h,"DATA",0,0,"");for(var y=f.s.r;y<=f.e.r;++y){o(h,-1,0,"BOT");for(var w=f.s.c;w<=f.e.c;++w){var E=cr({r:y,c:w});if(g=p?(u[y]||[])[w]:u[E],!g){o(h,1,0,"");continue}switch(g.t){case"n":var j=g.w;!j&&g.v!=null&&(j=g.v),j==null?g.f&&!g.F?o(h,1,0,"="+g.f):o(h,1,0,""):o(h,0,j,"V");break;case"b":o(h,0,g.v?1:0,g.v?"TRUE":"FALSE");break;case"s":o(h,1,0,isNaN(g.v)?g.v:'="'+g.v+'"');break;case"d":g.w||(g.w=vd(g.z||us[14],Ei(ri(g.v)))),o(h,0,g.w,"V");break;default:o(h,1,0,"")}}}o(h,-1,0,"EOD");var C=`\r
`,O=h.join(C);return O}}();return{to_workbook:r,to_sheet:n,from_sheet:s}}(),IG=function(){function t(g){return g.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(g){return g.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(g,p){for(var y=g.split(`
`),w=-1,E=-1,j=0,C=[];j!==y.length;++j){var O=y[j].trim().split(":");if(O[0]==="cell"){var I=Qs(O[1]);if(C.length<=I.r)for(w=C.length;w<=I.r;++w)C[w]||(C[w]=[]);switch(w=I.r,E=I.c,O[2]){case"t":C[w][E]=t(O[3]);break;case"v":C[w][E]=+O[3];break;case"vtf":var D=O[O.length-1];case"vtc":switch(O[3]){case"nl":C[w][E]=!!+O[4];break;default:C[w][E]=+O[4];break}O[2]=="vtf"&&(C[w][E]=[C[w][E],D])}}}return p&&p.sheetRows&&(C=C.slice(0,p.sheetRows)),C}function r(g,p){return jp(n(g,p),p)}function s(g,p){return Jh(r(g,p),p)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,c=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),u="--SocialCalcSpreadsheetControlSave--";function h(g){if(!g||!g["!ref"])return"";for(var p=[],y=[],w,E="",j=Xi(g["!ref"]),C=Array.isArray(g),O=j.s.r;O<=j.e.r;++O)for(var I=j.s.c;I<=j.e.c;++I)if(E=cr({r:O,c:I}),w=C?(g[O]||[])[I]:g[E],!(!w||w.v==null||w.t==="z")){switch(y=["cell",E,"t"],w.t){case"s":case"str":y.push(e(w.v));break;case"n":w.f?(y[2]="vtf",y[3]="n",y[4]=w.v,y[5]=e(w.f)):(y[2]="v",y[3]=w.v);break;case"b":y[2]="vt"+(w.f?"f":"c"),y[3]="nl",y[4]=w.v?"1":"0",y[5]=e(w.f||(w.v?"TRUE":"FALSE"));break;case"d":var D=Ei(ri(w.v));y[2]="vtc",y[3]="nd",y[4]=""+D,y[5]=w.w||vd(w.z||us[14],D);break;case"e":continue}p.push(y.join(":"))}return p.push("sheet:c:"+(j.e.c-j.s.c+1)+":r:"+(j.e.r-j.s.r+1)+":tvf:1"),p.push("valueformat:1:text-wiki"),p.join(`
`)}function f(g){return[i,o,c,o,h(g),u].join(`
`)}return{to_workbook:s,to_sheet:r,from_sheet:f}}(),fSe=function(){function t(f,g,p,y,w){w.raw?g[p][y]=f:f===""||(f==="TRUE"?g[p][y]=!0:f==="FALSE"?g[p][y]=!1:isNaN(zc(f))?isNaN(X0(f).getDate())?g[p][y]=f:g[p][y]=ri(f):g[p][y]=zc(f))}function e(f,g){var p=g||{},y=[];if(!f||f.length===0)return y;for(var w=f.split(/[\r\n]/),E=w.length-1;E>=0&&w[E].length===0;)--E;for(var j=10,C=0,O=0;O<=E;++O)C=w[O].indexOf(" "),C==-1?C=w[O].length:C++,j=Math.max(j,C);for(O=0;O<=E;++O){y[O]=[];var I=0;for(t(w[O].slice(0,j).trim(),y,O,I,p),I=1;I<=(w[O].length-j)/10+1;++I)t(w[O].slice(j+(I-1)*10,j+I*10).trim(),y,O,I,p)}return p.sheetRows&&(y=y.slice(0,p.sheetRows)),y}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function s(f){for(var g={},p=!1,y=0,w=0;y<f.length;++y)(w=f.charCodeAt(y))==34?p=!p:!p&&w in n&&(g[w]=(g[w]||0)+1);w=[];for(y in g)Object.prototype.hasOwnProperty.call(g,y)&&w.push([g[y],y]);if(!w.length){g=r;for(y in g)Object.prototype.hasOwnProperty.call(g,y)&&w.push([g[y],y])}return w.sort(function(E,j){return E[0]-j[0]||r[E[1]]-r[j[1]]}),n[w.pop()[1]]||44}function i(f,g){var p=g||{},y="",w=p.dense?[]:{},E={s:{c:0,r:0},e:{c:0,r:0}};f.slice(0,4)=="sep="?f.charCodeAt(5)==13&&f.charCodeAt(6)==10?(y=f.charAt(4),f=f.slice(7)):f.charCodeAt(5)==13||f.charCodeAt(5)==10?(y=f.charAt(4),f=f.slice(6)):y=s(f.slice(0,1024)):p&&p.FS?y=p.FS:y=s(f.slice(0,1024));var j=0,C=0,O=0,I=0,D=0,T=y.charCodeAt(0),F=!1,_=0,R=f.charCodeAt(0);f=f.replace(/\r\n/mg,`
`);var b=p.dateNF!=null?AEe(p.dateNF):null;function A(){var L=f.slice(I,D),U={};if(L.charAt(0)=='"'&&L.charAt(L.length-1)=='"'&&(L=L.slice(1,-1).replace(/""/g,'"')),L.length===0)U.t="z";else if(p.raw)U.t="s",U.v=L;else if(L.trim().length===0)U.t="s",U.v=L;else if(L.charCodeAt(0)==61)L.charCodeAt(1)==34&&L.charCodeAt(L.length-1)==34?(U.t="s",U.v=L.slice(2,-1).replace(/""/g,'"')):dCe(L)?(U.t="n",U.f=L.slice(1)):(U.t="s",U.v=L);else if(L=="TRUE")U.t="b",U.v=!0;else if(L=="FALSE")U.t="b",U.v=!1;else if(!isNaN(O=zc(L)))U.t="n",p.cellText!==!1&&(U.w=L),U.v=O;else if(!isNaN(X0(L).getDate())||b&&L.match(b)){U.z=p.dateNF||us[14];var P=0;b&&L.match(b)&&(L=LEe(L,p.dateNF,L.match(b)||[]),P=1),p.cellDates?(U.t="d",U.v=ri(L,P)):(U.t="n",U.v=Ei(ri(L,P))),p.cellText!==!1&&(U.w=vd(U.z,U.v instanceof Date?Ei(U.v):U.v)),p.cellNF||delete U.z}else U.t="s",U.v=L;if(U.t=="z"||(p.dense?(w[j]||(w[j]=[]),w[j][C]=U):w[cr({c:C,r:j})]=U),I=D+1,R=f.charCodeAt(I),E.e.c<C&&(E.e.c=C),E.e.r<j&&(E.e.r=j),_==T)++C;else if(C=0,++j,p.sheetRows&&p.sheetRows<=j)return!0}e:for(;D<f.length;++D)switch(_=f.charCodeAt(D)){case 34:R===34&&(F=!F);break;case T:case 10:case 13:if(!F&&A())break e;break}return D-I>0&&A(),w["!ref"]=As(E),w}function o(f,g){return!(g&&g.PRN)||g.FS||f.slice(0,4)=="sep="||f.indexOf("	")>=0||f.indexOf(",")>=0||f.indexOf(";")>=0?i(f,g):jp(e(f,g),g)}function c(f,g){var p="",y=g.type=="string"?[0,0,0,0]:SLe(f,g);switch(g.type){case"base64":p=eu(f);break;case"binary":p=f;break;case"buffer":g.codepage==65001?p=f.toString("utf8"):(g.codepage,p=Zn&&Buffer.isBuffer(f)?f.toString("binary"):Hy(f));break;case"array":p=$w(f);break;case"string":p=f;break;default:throw new Error("Unrecognized type "+g.type)}return y[0]==239&&y[1]==187&&y[2]==191?p=c0(p.slice(3)):g.type!="string"&&g.type!="buffer"&&g.codepage==65001?p=c0(p):g.type=="binary",p.slice(0,19)=="socialcalc:version:"?IG.to_sheet(g.type=="string"?p:c0(p),g):o(p,g)}function u(f,g){return Jh(c(f,g),g)}function h(f){for(var g=[],p=Ar(f["!ref"]),y,w=Array.isArray(f),E=p.s.r;E<=p.e.r;++E){for(var j=[],C=p.s.c;C<=p.e.c;++C){var O=cr({r:E,c:C});if(y=w?(f[E]||[])[C]:f[O],!y||y.v==null){j.push("          ");continue}for(var I=(y.w||(tu(y),y.w)||"").slice(0,10);I.length<10;)I+=" ";j.push(I+(C===0?" ":""))}g.push(j.join(""))}return g.join(`
`)}return{to_workbook:u,to_sheet:c,from_sheet:h}}(),YM=function(){function t(Q,ne,te){if(Q){Fi(Q,Q.l||0);for(var X=te.Enum||W;Q.l<Q.length;){var xe=Q.read_shift(2),Ne=X[xe]||X[65535],je=Q.read_shift(2),Ie=Q.l+je,_e=Ne.f&&Ne.f(Q,je,te);if(Q.l=Ie,ne(_e,Ne,xe))return}}}function e(Q,ne){switch(ne.type){case"base64":return n(rl(eu(Q)),ne);case"binary":return n(rl(Q),ne);case"buffer":case"array":return n(Q,ne)}throw"Unsupported type "+ne.type}function n(Q,ne){if(!Q)return Q;var te=ne||{},X=te.dense?[]:{},xe="Sheet1",Ne="",je=0,Ie={},_e=[],Ue=[],tt={s:{r:0,c:0},e:{r:0,c:0}},ct=te.sheetRows||0;if(Q[2]==0&&(Q[3]==8||Q[3]==9)&&Q.length>=16&&Q[14]==5&&Q[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(Q[2]==2)te.Enum=W,t(Q,function(Ze,Ut,Cn){switch(Cn){case 0:te.vers=Ze,Ze>=4096&&(te.qpro=!0);break;case 6:tt=Ze;break;case 204:Ze&&(Ne=Ze);break;case 222:Ne=Ze;break;case 15:case 51:te.qpro||(Ze[1].v=Ze[1].v.slice(1));case 13:case 14:case 16:Cn==14&&(Ze[2]&112)==112&&(Ze[2]&15)>1&&(Ze[2]&15)<15&&(Ze[1].z=te.dateNF||us[14],te.cellDates&&(Ze[1].t="d",Ze[1].v=JH(Ze[1].v))),te.qpro&&Ze[3]>je&&(X["!ref"]=As(tt),Ie[xe]=X,_e.push(xe),X=te.dense?[]:{},tt={s:{r:0,c:0},e:{r:0,c:0}},je=Ze[3],xe=Ne||"Sheet"+(je+1),Ne="");var fn=te.dense?(X[Ze[0].r]||[])[Ze[0].c]:X[cr(Ze[0])];if(fn){fn.t=Ze[1].t,fn.v=Ze[1].v,Ze[1].z!=null&&(fn.z=Ze[1].z),Ze[1].f!=null&&(fn.f=Ze[1].f);break}te.dense?(X[Ze[0].r]||(X[Ze[0].r]=[]),X[Ze[0].r][Ze[0].c]=Ze[1]):X[cr(Ze[0])]=Ze[1];break}},te);else if(Q[2]==26||Q[2]==14)te.Enum=ye,Q[2]==14&&(te.qpro=!0,Q.l=0),t(Q,function(Ze,Ut,Cn){switch(Cn){case 204:xe=Ze;break;case 22:Ze[1].v=Ze[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ze[3]>je&&(X["!ref"]=As(tt),Ie[xe]=X,_e.push(xe),X=te.dense?[]:{},tt={s:{r:0,c:0},e:{r:0,c:0}},je=Ze[3],xe="Sheet"+(je+1)),ct>0&&Ze[0].r>=ct)break;te.dense?(X[Ze[0].r]||(X[Ze[0].r]=[]),X[Ze[0].r][Ze[0].c]=Ze[1]):X[cr(Ze[0])]=Ze[1],tt.e.c<Ze[0].c&&(tt.e.c=Ze[0].c),tt.e.r<Ze[0].r&&(tt.e.r=Ze[0].r);break;case 27:Ze[14e3]&&(Ue[Ze[14e3][0]]=Ze[14e3][1]);break;case 1537:Ue[Ze[0]]=Ze[1],Ze[0]==je&&(xe=Ze[1]);break}},te);else throw new Error("Unrecognized LOTUS BOF "+Q[2]);if(X["!ref"]=As(tt),Ie[Ne||xe]=X,_e.push(Ne||xe),!Ue.length)return{SheetNames:_e,Sheets:Ie};for(var ut={},Ye=[],jt=0;jt<Ue.length;++jt)Ie[_e[jt]]?(Ye.push(Ue[jt]||_e[jt]),ut[Ue[jt]]=Ie[Ue[jt]]||Ie[_e[jt]]):(Ye.push(Ue[jt]),ut[Ue[jt]]={"!ref":"A1"});return{SheetNames:Ye,Sheets:ut}}function r(Q,ne){var te=ne||{};if(+te.codepage>=0&&K0(+te.codepage),te.type=="string")throw new Error("Cannot write WK1 to JS string");var X=_i(),xe=Ar(Q["!ref"]),Ne=Array.isArray(Q),je=[];ft(X,0,i(1030)),ft(X,6,u(xe));for(var Ie=Math.min(xe.e.r,8191),_e=xe.s.r;_e<=Ie;++_e)for(var Ue=_a(_e),tt=xe.s.c;tt<=xe.e.c;++tt){_e===xe.s.r&&(je[tt]=Fa(tt));var ct=je[tt]+Ue,ut=Ne?(Q[_e]||[])[tt]:Q[ct];if(!(!ut||ut.t=="z"))if(ut.t=="n")(ut.v|0)==ut.v&&ut.v>=-32768&&ut.v<=32767?ft(X,13,y(_e,tt,ut.v)):ft(X,14,E(_e,tt,ut.v));else{var Ye=tu(ut);ft(X,15,g(_e,tt,Ye.slice(0,239)))}}return ft(X,1),X.end()}function s(Q,ne){var te=ne||{};if(+te.codepage>=0&&K0(+te.codepage),te.type=="string")throw new Error("Cannot write WK3 to JS string");var X=_i();ft(X,0,o(Q));for(var xe=0,Ne=0;xe<Q.SheetNames.length;++xe)(Q.Sheets[Q.SheetNames[xe]]||{})["!ref"]&&ft(X,27,ie(Q.SheetNames[xe],Ne++));var je=0;for(xe=0;xe<Q.SheetNames.length;++xe){var Ie=Q.Sheets[Q.SheetNames[xe]];if(!(!Ie||!Ie["!ref"])){for(var _e=Ar(Ie["!ref"]),Ue=Array.isArray(Ie),tt=[],ct=Math.min(_e.e.r,8191),ut=_e.s.r;ut<=ct;++ut)for(var Ye=_a(ut),jt=_e.s.c;jt<=_e.e.c;++jt){ut===_e.s.r&&(tt[jt]=Fa(jt));var Ze=tt[jt]+Ye,Ut=Ue?(Ie[ut]||[])[jt]:Ie[Ze];if(!(!Ut||Ut.t=="z"))if(Ut.t=="n")ft(X,23,A(ut,jt,je,Ut.v));else{var Cn=tu(Ut);ft(X,22,_(ut,jt,je,Cn.slice(0,239)))}}++je}}return ft(X,1),X.end()}function i(Q){var ne=ze(2);return ne.write_shift(2,Q),ne}function o(Q){var ne=ze(26);ne.write_shift(2,4096),ne.write_shift(2,4),ne.write_shift(4,0);for(var te=0,X=0,xe=0,Ne=0;Ne<Q.SheetNames.length;++Ne){var je=Q.SheetNames[Ne],Ie=Q.Sheets[je];if(!(!Ie||!Ie["!ref"])){++xe;var _e=Xi(Ie["!ref"]);te<_e.e.r&&(te=_e.e.r),X<_e.e.c&&(X=_e.e.c)}}return te>8191&&(te=8191),ne.write_shift(2,te),ne.write_shift(1,xe),ne.write_shift(1,X),ne.write_shift(2,0),ne.write_shift(2,0),ne.write_shift(1,1),ne.write_shift(1,2),ne.write_shift(4,0),ne.write_shift(4,0),ne}function c(Q,ne,te){var X={s:{c:0,r:0},e:{c:0,r:0}};return ne==8&&te.qpro?(X.s.c=Q.read_shift(1),Q.l++,X.s.r=Q.read_shift(2),X.e.c=Q.read_shift(1),Q.l++,X.e.r=Q.read_shift(2),X):(X.s.c=Q.read_shift(2),X.s.r=Q.read_shift(2),ne==12&&te.qpro&&(Q.l+=2),X.e.c=Q.read_shift(2),X.e.r=Q.read_shift(2),ne==12&&te.qpro&&(Q.l+=2),X.s.c==65535&&(X.s.c=X.e.c=X.s.r=X.e.r=0),X)}function u(Q){var ne=ze(8);return ne.write_shift(2,Q.s.c),ne.write_shift(2,Q.s.r),ne.write_shift(2,Q.e.c),ne.write_shift(2,Q.e.r),ne}function h(Q,ne,te){var X=[{c:0,r:0},{t:"n",v:0},0,0];return te.qpro&&te.vers!=20768?(X[0].c=Q.read_shift(1),X[3]=Q.read_shift(1),X[0].r=Q.read_shift(2),Q.l+=2):(X[2]=Q.read_shift(1),X[0].c=Q.read_shift(2),X[0].r=Q.read_shift(2)),X}function f(Q,ne,te){var X=Q.l+ne,xe=h(Q,ne,te);if(xe[1].t="s",te.vers==20768){Q.l++;var Ne=Q.read_shift(1);return xe[1].v=Q.read_shift(Ne,"utf8"),xe}return te.qpro&&Q.l++,xe[1].v=Q.read_shift(X-Q.l,"cstr"),xe}function g(Q,ne,te){var X=ze(7+te.length);X.write_shift(1,255),X.write_shift(2,ne),X.write_shift(2,Q),X.write_shift(1,39);for(var xe=0;xe<X.length;++xe){var Ne=te.charCodeAt(xe);X.write_shift(1,Ne>=128?95:Ne)}return X.write_shift(1,0),X}function p(Q,ne,te){var X=h(Q,ne,te);return X[1].v=Q.read_shift(2,"i"),X}function y(Q,ne,te){var X=ze(7);return X.write_shift(1,255),X.write_shift(2,ne),X.write_shift(2,Q),X.write_shift(2,te,"i"),X}function w(Q,ne,te){var X=h(Q,ne,te);return X[1].v=Q.read_shift(8,"f"),X}function E(Q,ne,te){var X=ze(13);return X.write_shift(1,255),X.write_shift(2,ne),X.write_shift(2,Q),X.write_shift(8,te,"f"),X}function j(Q,ne,te){var X=Q.l+ne,xe=h(Q,ne,te);if(xe[1].v=Q.read_shift(8,"f"),te.qpro)Q.l=X;else{var Ne=Q.read_shift(2);D(Q.slice(Q.l,Q.l+Ne),xe),Q.l+=Ne}return xe}function C(Q,ne,te){var X=ne&32768;return ne&=-32769,ne=(X?Q:0)+(ne>=8192?ne-16384:ne),(X?"":"$")+(te?Fa(ne):_a(ne))}var O={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},I=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function D(Q,ne){Fi(Q,0);for(var te=[],X=0,xe="",Ne="",je="",Ie="";Q.l<Q.length;){var _e=Q[Q.l++];switch(_e){case 0:te.push(Q.read_shift(8,"f"));break;case 1:Ne=C(ne[0].c,Q.read_shift(2),!0),xe=C(ne[0].r,Q.read_shift(2),!1),te.push(Ne+xe);break;case 2:{var Ue=C(ne[0].c,Q.read_shift(2),!0),tt=C(ne[0].r,Q.read_shift(2),!1);Ne=C(ne[0].c,Q.read_shift(2),!0),xe=C(ne[0].r,Q.read_shift(2),!1),te.push(Ue+tt+":"+Ne+xe)}break;case 3:if(Q.l<Q.length){console.error("WK1 premature formula end");return}break;case 4:te.push("("+te.pop()+")");break;case 5:te.push(Q.read_shift(2));break;case 6:{for(var ct="";_e=Q[Q.l++];)ct+=String.fromCharCode(_e);te.push('"'+ct.replace(/"/g,'""')+'"')}break;case 8:te.push("-"+te.pop());break;case 23:te.push("+"+te.pop());break;case 22:te.push("NOT("+te.pop()+")");break;case 20:case 21:Ie=te.pop(),je=te.pop(),te.push(["AND","OR"][_e-20]+"("+je+","+Ie+")");break;default:if(_e<32&&I[_e])Ie=te.pop(),je=te.pop(),te.push(je+I[_e]+Ie);else if(O[_e]){if(X=O[_e][1],X==69&&(X=Q[Q.l++]),X>te.length){console.error("WK1 bad formula parse 0x"+_e.toString(16)+":|"+te.join("|")+"|");return}var ut=te.slice(-X);te.length-=X,te.push(O[_e][0]+"("+ut.join(",")+")")}else return _e<=7?console.error("WK1 invalid opcode "+_e.toString(16)):_e<=24?console.error("WK1 unsupported op "+_e.toString(16)):_e<=30?console.error("WK1 invalid opcode "+_e.toString(16)):_e<=115?console.error("WK1 unsupported function opcode "+_e.toString(16)):console.error("WK1 unrecognized opcode "+_e.toString(16))}}te.length==1?ne[1].f=""+te[0]:console.error("WK1 bad formula parse |"+te.join("|")+"|")}function T(Q){var ne=[{c:0,r:0},{t:"n",v:0},0];return ne[0].r=Q.read_shift(2),ne[3]=Q[Q.l++],ne[0].c=Q[Q.l++],ne}function F(Q,ne){var te=T(Q);return te[1].t="s",te[1].v=Q.read_shift(ne-4,"cstr"),te}function _(Q,ne,te,X){var xe=ze(6+X.length);xe.write_shift(2,Q),xe.write_shift(1,te),xe.write_shift(1,ne),xe.write_shift(1,39);for(var Ne=0;Ne<X.length;++Ne){var je=X.charCodeAt(Ne);xe.write_shift(1,je>=128?95:je)}return xe.write_shift(1,0),xe}function R(Q,ne){var te=T(Q);te[1].v=Q.read_shift(2);var X=te[1].v>>1;if(te[1].v&1)switch(X&7){case 0:X=(X>>3)*5e3;break;case 1:X=(X>>3)*500;break;case 2:X=(X>>3)/20;break;case 3:X=(X>>3)/200;break;case 4:X=(X>>3)/2e3;break;case 5:X=(X>>3)/2e4;break;case 6:X=(X>>3)/16;break;case 7:X=(X>>3)/64;break}return te[1].v=X,te}function b(Q,ne){var te=T(Q),X=Q.read_shift(4),xe=Q.read_shift(4),Ne=Q.read_shift(2);if(Ne==65535)return X===0&&xe===3221225472?(te[1].t="e",te[1].v=15):X===0&&xe===3489660928?(te[1].t="e",te[1].v=42):te[1].v=0,te;var je=Ne&32768;return Ne=(Ne&32767)-16446,te[1].v=(1-je*2)*(xe*Math.pow(2,Ne+32)+X*Math.pow(2,Ne)),te}function A(Q,ne,te,X){var xe=ze(14);if(xe.write_shift(2,Q),xe.write_shift(1,te),xe.write_shift(1,ne),X==0)return xe.write_shift(4,0),xe.write_shift(4,0),xe.write_shift(2,65535),xe;var Ne=0,je=0,Ie=0,_e=0;return X<0&&(Ne=1,X=-X),je=Math.log2(X)|0,X/=Math.pow(2,je-31),_e=X>>>0,_e&2147483648||(X/=2,++je,_e=X>>>0),X-=_e,_e|=2147483648,_e>>>=0,X*=Math.pow(2,32),Ie=X>>>0,xe.write_shift(4,Ie),xe.write_shift(4,_e),je+=16383+(Ne?32768:0),xe.write_shift(2,je),xe}function L(Q,ne){var te=b(Q);return Q.l+=ne-14,te}function U(Q,ne){var te=T(Q),X=Q.read_shift(4);return te[1].v=X>>6,te}function P(Q,ne){var te=T(Q),X=Q.read_shift(8,"f");return te[1].v=X,te}function K(Q,ne){var te=P(Q);return Q.l+=ne-10,te}function G(Q,ne){return Q[Q.l+ne-1]==0?Q.read_shift(ne,"cstr"):""}function re(Q,ne){var te=Q[Q.l++];te>ne-1&&(te=ne-1);for(var X="";X.length<te;)X+=String.fromCharCode(Q[Q.l++]);return X}function Z(Q,ne,te){if(!(!te.qpro||ne<21)){var X=Q.read_shift(1);Q.l+=17,Q.l+=1,Q.l+=2;var xe=Q.read_shift(ne-21,"cstr");return[X,xe]}}function me(Q,ne){for(var te={},X=Q.l+ne;Q.l<X;){var xe=Q.read_shift(2);if(xe==14e3){for(te[xe]=[0,""],te[xe][0]=Q.read_shift(2);Q[Q.l];)te[xe][1]+=String.fromCharCode(Q[Q.l]),Q.l++;Q.l++}}return te}function ie(Q,ne){var te=ze(5+Q.length);te.write_shift(2,14e3),te.write_shift(2,ne);for(var X=0;X<Q.length;++X){var xe=Q.charCodeAt(X);te[te.l++]=xe>127?95:xe}return te[te.l++]=0,te}var W={0:{n:"BOF",f:AG},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:c},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:p},14:{n:"NUMBER",f:w},15:{n:"LABEL",f},16:{n:"FORMULA",f:j},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:G},222:{n:"SHEETNAMELP",f:re},65535:{n:""}},ye={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:F},23:{n:"NUMBER17",f:b},24:{n:"NUMBER18",f:R},25:{n:"FORMULA19",f:L},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:me},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:U},38:{n:"??"},39:{n:"NUMBER27",f:P},40:{n:"FORMULA28",f:K},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:G},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Z},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:s,to_workbook:e}}(),mSe=/^\s|\s$|[\t\n\r]/;function PG(t,e){if(!e.bookSST)return"";var n=[Ls];n[n.length]=dt("sst",null,{xmlns:Ep[0],count:t.Count,uniqueCount:t.Unique});for(var r=0;r!=t.length;++r)if(t[r]!=null){var s=t[r],i="<si>";s.r?i+=s.r:(i+="<t",s.t||(s.t=""),s.t.match(mSe)&&(i+=' xml:space="preserve"'),i+=">"+lr(s.t)+"</t>"),i+="</si>",n[n.length]=i}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}function pSe(t){return[t.read_shift(4),t.read_shift(4)]}function gSe(t,e){return e||(e=ze(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var ySe=oje;function vSe(t){var e=_i();et(e,159,gSe(t));for(var n=0;n<t.length;++n)et(e,19,ySe(t[n]));return et(e,160),e.end()}function xSe(t){for(var e=[],n=t.split(""),r=0;r<n.length;++r)e[r]=n[r].charCodeAt(0);return e}function DG(t){var e=0,n,r=xSe(t),s=r.length+1,i,o,c,u,h;for(n=Ah(s),n[0]=r.length,i=1;i!=s;++i)n[i]=r[i-1];for(i=s-1;i>=0;--i)o=n[i],c=e&16384?1:0,u=e<<1&32767,h=c|u,e=h^o;return e^52811}var bSe=function(){function t(s,i){switch(i.type){case"base64":return e(eu(s),i);case"binary":return e(s,i);case"buffer":return e(Zn&&Buffer.isBuffer(s)?s.toString("binary"):Hy(s),i);case"array":return e($w(s),i)}throw new Error("Unrecognized type "+i.type)}function e(s,i){var o=i||{},c=o.dense?[]:{},u=s.match(/\\trowd.*?\\row\b/g);if(!u.length)throw new Error("RTF missing table");var h={s:{c:0,r:0},e:{c:0,r:u.length-1}};return u.forEach(function(f,g){Array.isArray(c)&&(c[g]=[]);for(var p=/\\\w+\b/g,y=0,w,E=-1;w=p.exec(f);){switch(w[0]){case"\\cell":var j=f.slice(y,p.lastIndex-w[0].length);if(j[0]==" "&&(j=j.slice(1)),++E,j.length){var C={v:j,t:"s"};Array.isArray(c)?c[g][E]=C:c[cr({r:g,c:E})]=C}break}y=p.lastIndex}E>h.e.c&&(h.e.c=E)}),c["!ref"]=As(h),c}function n(s,i){return Jh(t(s,i),i)}function r(s){for(var i=["{\\rtf1\\ansi"],o=Ar(s["!ref"]),c,u=Array.isArray(s),h=o.s.r;h<=o.e.r;++h){i.push("\\trowd\\trautofit1");for(var f=o.s.c;f<=o.e.c;++f)i.push("\\cellx"+(f+1));for(i.push("\\pard\\intbl"),f=o.s.c;f<=o.e.c;++f){var g=cr({r:h,c:f});c=u?(s[h]||[])[f]:s[g],!(!c||c.v==null&&(!c.f||c.F))&&(i.push(" "+(c.w||(tu(c),c.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:n,to_sheet:t,from_sheet:r}}();function XM(t){for(var e=0,n=1;e!=3;++e)n=n*256+(t[e]>255?255:t[e]<0?0:t[e]);return n.toString(16).toUpperCase().slice(1)}var wSe=6,qc=wSe;function y1(t){return Math.floor((t+Math.round(128/qc)/256)*qc)}function v1(t){return Math.floor((t-5)/qc*100+.5)/100}function dT(t){return Math.round((t*qc+5)/qc*256)/256}function A3(t){t.width?(t.wpx=y1(t.width),t.wch=v1(t.wpx),t.MDW=qc):t.wpx?(t.wch=v1(t.wpx),t.width=dT(t.wch),t.MDW=qc):typeof t.wch=="number"&&(t.width=dT(t.wch),t.wpx=y1(t.width),t.MDW=qc),t.customWidth&&delete t.customWidth}var _Se=96,MG=_Se;function x1(t){return t*96/MG}function FG(t){return t*MG/96}function ESe(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)t[r]!=null&&(e[e.length]=dt("numFmt",null,{numFmtId:r,formatCode:lr(t[r])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=dt("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function jSe(t){var e=[];return e[e.length]=dt("cellXfs",null),t.forEach(function(n){e[e.length]=dt("xf",null,n)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=dt("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function BG(t,e){var n=[Ls,dt("styleSheet",null,{xmlns:Ep[0],"xmlns:vt":Js.vt})],r;return t.SSF&&(r=ESe(t.SSF))!=null&&(n[n.length]=r),n[n.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',n[n.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',n[n.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',n[n.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=jSe(e.cellXfs))&&(n[n.length]=r),n[n.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',n[n.length]='<dxfs count="0"/>',n[n.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',n.length>2&&(n[n.length]="</styleSheet>",n[1]=n[1].replace("/>",">")),n.join("")}function SSe(t,e){var n=t.read_shift(2),r=Ba(t);return[n,r]}function CSe(t,e,n){n||(n=ze(6+4*e.length)),n.write_shift(2,t),Zs(e,n);var r=n.length>n.l?n.slice(0,n.l):n;return n.l==null&&(n.l=n.length),r}function NSe(t,e,n){var r={};r.sz=t.read_shift(2)/20;var s=mje(t);s.fItalic&&(r.italic=1),s.fCondense&&(r.condense=1),s.fExtend&&(r.extend=1),s.fShadow&&(r.shadow=1),s.fOutline&&(r.outline=1),s.fStrikeout&&(r.strike=1);var i=t.read_shift(2);switch(i===700&&(r.bold=1),t.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var o=t.read_shift(1);o!=0&&(r.underline=o);var c=t.read_shift(1);c>0&&(r.family=c);var u=t.read_shift(1);switch(u>0&&(r.charset=u),t.l++,r.color=fje(t),t.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=Ba(t),r}function TSe(t,e){e||(e=ze(25+4*32)),e.write_shift(2,t.sz*20),pje(t,e),e.write_shift(2,t.bold?700:400);var n=0;t.vertAlign=="superscript"?n=1:t.vertAlign=="subscript"&&(n=2),e.write_shift(2,n),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),p1(t.color,e);var r=0;return r=2,e.write_shift(1,r),Zs(t.name,e),e.length>e.l?e.slice(0,e.l):e}var ASe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],LS,LSe=nc;function JM(t,e){e||(e=ze(4*3+8*7+16*1)),LS||(LS=y3(ASe));var n=LS[t.patternType];n==null&&(n=40),e.write_shift(4,n);var r=0;if(n!=40)for(p1({auto:1},e),p1({auto:1},e);r<12;++r)e.write_shift(4,0);else{for(;r<4;++r)e.write_shift(4,0);for(;r<12;++r)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function RSe(t,e){var n=t.l+e,r=t.read_shift(2),s=t.read_shift(2);return t.l=n,{ixfe:r,numFmtId:s}}function UG(t,e,n){n||(n=ze(16)),n.write_shift(2,e||0),n.write_shift(2,t.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);var r=0;return n.write_shift(1,r),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function Ag(t,e){return e||(e=ze(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var kSe=nc;function OSe(t,e){return e||(e=ze(51)),e.write_shift(1,0),Ag(null,e),Ag(null,e),Ag(null,e),Ag(null,e),Ag(null,e),e.length>e.l?e.slice(0,e.l):e}function ISe(t,e){return e||(e=ze(12+4*10)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),m1(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function PSe(t,e,n){var r=ze(2052);return r.write_shift(4,t),m1(e,r),m1(n,r),r.length>r.l?r.slice(0,r.l):r}function DSe(t,e){if(e){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var s=r[0];s<=r[1];++s)e[s]!=null&&++n}),n!=0&&(et(t,615,ol(n)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var s=r[0];s<=r[1];++s)e[s]!=null&&et(t,44,CSe(s,e[s]))}),et(t,616))}}function MSe(t){var e=1;et(t,611,ol(e)),et(t,43,TSe({sz:12,color:{theme:1},name:"Calibri",family:2})),et(t,612)}function FSe(t){var e=2;et(t,603,ol(e)),et(t,45,JM({patternType:"none"})),et(t,45,JM({patternType:"gray125"})),et(t,604)}function BSe(t){var e=1;et(t,613,ol(e)),et(t,46,OSe()),et(t,614)}function USe(t){var e=1;et(t,626,ol(e)),et(t,47,UG({numFmtId:0},65535)),et(t,627)}function zSe(t,e){et(t,617,ol(e.length)),e.forEach(function(n){et(t,47,UG(n,0))}),et(t,618)}function qSe(t){var e=1;et(t,619,ol(e)),et(t,48,ISe({xfId:0,name:"Normal"})),et(t,620)}function $Se(t){var e=0;et(t,505,ol(e)),et(t,506)}function VSe(t){var e=0;et(t,508,PSe(e,"TableStyleMedium9","PivotStyleMedium4")),et(t,509)}function HSe(t,e){var n=_i();return et(n,278),DSe(n,t.SSF),MSe(n),FSe(n),BSe(n),USe(n),zSe(n,e.cellXfs),qSe(n),$Se(n),VSe(n),et(n,279),n.end()}function zG(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var n=[Ls];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function GSe(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:Ba(t)}}function WSe(t){var e=ze(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),Zs(t.name,e),e.slice(0,e.l)}function KSe(t){for(var e=[],n=t.read_shift(4);n-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function YSe(t){var e=ze(4+8*t.length);e.write_shift(4,t.length);for(var n=0;n<t.length;++n)e.write_shift(4,t[n][0]),e.write_shift(4,t[n][1]);return e}function XSe(t,e){var n=ze(8+2*e.length);return n.write_shift(4,t),Zs(e,n),n.slice(0,n.l)}function JSe(t){return t.l+=4,t.read_shift(4)!=0}function QSe(t,e){var n=ze(8);return n.write_shift(4,t),n.write_shift(4,1),n}function ZSe(){var t=_i();return et(t,332),et(t,334,ol(1)),et(t,335,WSe({name:"XLDAPR",version:12e4,flags:3496657072})),et(t,336),et(t,339,XSe(1,"XLDAPR")),et(t,52),et(t,35,ol(514)),et(t,4096,ol(0)),et(t,4097,_o(1)),et(t,36),et(t,53),et(t,340),et(t,337,QSe(1)),et(t,51,YSe([[1,0]])),et(t,338),et(t,333),t.end()}function qG(){var t=[Ls];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function eCe(t){var e={};e.i=t.read_shift(4);var n={};n.r=t.read_shift(4),n.c=t.read_shift(4),e.r=cr(n);var r=t.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}var nm=1024;function $G(t,e){for(var n=[21600,21600],r=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),s=[dt("xml",null,{"xmlns:v":Bi.v,"xmlns:o":Bi.o,"xmlns:x":Bi.x,"xmlns:mv":Bi.mv}).replace(/\/>/,">"),dt("o:shapelayout",dt("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),dt("v:shapetype",[dt("v:stroke",null,{joinstyle:"miter"}),dt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:r})];nm<t*1e3;)nm+=1e3;return e.forEach(function(i){var o=Qs(i[0]),c={color2:"#BEFF82",type:"gradient"};c.type=="gradient"&&(c.angle="-180");var u=c.type=="gradient"?dt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,h=dt("v:fill",u,c),f={on:"t",obscured:"t"};++nm,s=s.concat(["<v:shape"+Q0({id:"_x0000_s"+nm,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",h,dt("v:shadow",null,f),dt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",ba("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),ba("x:AutoFill","False"),ba("x:Row",String(o.r)),ba("x:Column",String(o.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),s.push("</xml>"),s.join("")}function VG(t){var e=[Ls,dt("comments",null,{xmlns:Ep[0]})],n=[];return e.push("<authors>"),t.forEach(function(r){r[1].forEach(function(s){var i=lr(s.a);n.indexOf(i)==-1&&(n.push(i),e.push("<author>"+i+"</author>")),s.T&&s.ID&&n.indexOf("tc="+s.ID)==-1&&(n.push("tc="+s.ID),e.push("<author>tc="+s.ID+"</author>"))})}),n.length==0&&(n.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(r){var s=0,i=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?s=n.indexOf("tc="+r[1][0].ID):r[1].forEach(function(u){u.a&&(s=n.indexOf(lr(u.a))),i.push(u.t||"")}),e.push('<comment ref="'+r[0]+'" authorId="'+s+'"><text>'),i.length<=1)e.push(ba("t",lr(i[0]||"")));else{for(var o=`Comment:
    `+i[0]+`
`,c=1;c<i.length;++c)o+=`Reply:
    `+i[c]+`
`;e.push(ba("t",lr(o)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function tCe(t,e,n){var r=[Ls,dt("ThreadedComments",null,{xmlns:Js.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(s){var i="";(s[1]||[]).forEach(function(o,c){if(!o.T){delete o.ID;return}o.a&&e.indexOf(o.a)==-1&&e.push(o.a);var u={ref:s[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};c==0?i=u.id:u.parentId=i,o.ID=u.id,o.a&&(u.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(o.a)).slice(-12)+"}"),r.push(dt("threadedComment",ba("text",o.t||""),u))})}),r.push("</ThreadedComments>"),r.join("")}function nCe(t){var e=[Ls,dt("personList",null,{xmlns:Js.TCMNT,"xmlns:x":Ep[0]}).replace(/[\/]>/,">")];return t.forEach(function(n,r){e.push(dt("person",null,{displayName:n,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:n,providerId:"None"}))}),e.push("</personList>"),e.join("")}function rCe(t){var e={};e.iauthor=t.read_shift(4);var n=tf(t);return e.rfx=n.s,e.ref=cr(n.s),t.l+=16,e}function sCe(t,e){return e==null&&(e=ze(36)),e.write_shift(4,t[1].iauthor),Sp(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var aCe=Ba;function iCe(t){return Zs(t.slice(0,54))}function oCe(t){var e=_i(),n=[];return et(e,628),et(e,630),t.forEach(function(r){r[1].forEach(function(s){n.indexOf(s.a)>-1||(n.push(s.a.slice(0,54)),et(e,632,iCe(s.a)))})}),et(e,631),et(e,633),t.forEach(function(r){r[1].forEach(function(s){s.iauthor=n.indexOf(s.a);var i={s:Qs(r[0]),e:Qs(r[0])};et(e,635,sCe([i,s])),s.t&&s.t.length>0&&et(e,637,cje(s)),et(e,636),delete s.iauthor})}),et(e,634),et(e,629),e.end()}function lCe(t,e){e.FullPaths.forEach(function(n,r){if(r!=0){var s=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");s.slice(-1)!=="/"&&fr.utils.cfb_add(t,s,e.FileIndex[r].content)}})}var HG=["xlsb","xlsm","xlam","biff8","xla"],cCe=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function n(r,s,i,o){var c=!1,u=!1;i.length==0?u=!0:i.charAt(0)=="["&&(u=!0,i=i.slice(1,-1)),o.length==0?c=!0:o.charAt(0)=="["&&(c=!0,o=o.slice(1,-1));var h=i.length>0?parseInt(i,10)|0:0,f=o.length>0?parseInt(o,10)|0:0;return c?f+=e.c:--f,u?h+=e.r:--h,s+(c?"":"$")+Fa(f)+(u?"":"$")+_a(h)}return function(s,i){return e=i,s.replace(t,n)}}(),L3=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,R3=function(){return function(e,n){return e.replace(L3,function(r,s,i,o,c,u){var h=j3(o)-(i?0:n.c),f=E3(u)-(c?0:n.r),g=f==0?"":c?f+1:"["+f+"]",p=h==0?"":i?h+1:"["+h+"]";return s+"R"+g+"C"+p})}}();function uCe(t,e){return t.replace(L3,function(n,r,s,i,o,c){return r+(s=="$"?s+i:Fa(j3(i)+e.c))+(o=="$"?o+c:_a(E3(c)+e.r))})}function dCe(t){return t.length!=1}function Ns(t){t.l+=1}function xd(t,e){var n=t.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function GG(t,e,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return WG(t);n.biff==12&&(r=4)}var s=t.read_shift(r),i=t.read_shift(r),o=xd(t),c=xd(t);return{s:{r:s,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:c[0],cRel:c[1],rRel:c[2]}}}function WG(t){var e=xd(t),n=xd(t),r=t.read_shift(1),s=t.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:n[0],c:s,cRel:n[1],rRel:n[2]}}}function hCe(t,e,n){if(n.biff<8)return WG(t);var r=t.read_shift(n.biff==12?4:2),s=t.read_shift(n.biff==12?4:2),i=xd(t),o=xd(t);return{s:{r,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function KG(t,e,n){if(n&&n.biff>=2&&n.biff<=5)return fCe(t);var r=t.read_shift(n&&n.biff==12?4:2),s=xd(t);return{r,c:s[0],cRel:s[1],rRel:s[2]}}function fCe(t){var e=xd(t),n=t.read_shift(1);return{r:e[0],c:n,cRel:e[1],rRel:e[2]}}function mCe(t){var e=t.read_shift(2),n=t.read_shift(2);return{r:e,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function pCe(t,e,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return gCe(t);var s=t.read_shift(r>=12?4:2),i=t.read_shift(2),o=(i&16384)>>14,c=(i&32768)>>15;if(i&=16383,c==1)for(;s>524287;)s-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:s,c:i,cRel:o,rRel:c}}function gCe(t){var e=t.read_shift(2),n=t.read_shift(1),r=(e&32768)>>15,s=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),s==1&&n>=128&&(n=n-256),{r:e,c:n,cRel:s,rRel:r}}function yCe(t,e,n){var r=(t[t.l++]&96)>>5,s=GG(t,n.biff>=2&&n.biff<=5?6:8,n);return[r,s]}function vCe(t,e,n){var r=(t[t.l++]&96)>>5,s=t.read_shift(2,"i"),i=8;if(n)switch(n.biff){case 5:t.l+=12,i=6;break;case 12:i=12;break}var o=GG(t,i,n);return[r,s,o]}function xCe(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function bCe(t,e,n){var r=(t[t.l++]&96)>>5,s=t.read_shift(2),i=8;if(n)switch(n.biff){case 5:t.l+=12,i=6;break;case 12:i=12;break}return t.l+=i,[r,s]}function wCe(t,e,n){var r=(t[t.l++]&96)>>5,s=hCe(t,e-1,n);return[r,s]}function _Ce(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n.biff==2?6:n.biff==12?14:7,[r]}function QM(t){var e=t[t.l+1]&1,n=1;return t.l+=4,[e,n]}function ECe(t,e,n){t.l+=2;for(var r=t.read_shift(n&&n.biff==2?1:2),s=[],i=0;i<=r;++i)s.push(t.read_shift(n&&n.biff==2?1:2));return s}function jCe(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function SCe(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function CCe(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function NCe(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=n&&n.biff==2?3:4,[r]}function YG(t){var e=t.read_shift(1),n=t.read_shift(1);return[e,n]}function TCe(t){return t.read_shift(2),YG(t)}function ACe(t){return t.read_shift(2),YG(t)}function LCe(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var s=KG(t,0,n);return[r,s]}function RCe(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var s=pCe(t,0,n);return[r,s]}function kCe(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var s=t.read_shift(2);n&&n.biff==5&&(t.l+=12);var i=KG(t,0,n);return[r,s,i]}function OCe(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var s=t.read_shift(n&&n.biff<=3?1:2);return[ONe[s],QG[s],r]}function ICe(t,e,n){var r=t[t.l++],s=t.read_shift(1),i=n&&n.biff<=3?[r==88?-1:0,t.read_shift(1)]:PCe(t);return[s,(i[0]===0?QG:kNe)[i[1]]]}function PCe(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function DCe(t,e,n){t.l+=n&&n.biff==2?3:4}function MCe(t,e,n){if(t.l++,n&&n.biff==12)return[t.read_shift(4,"i"),0];var r=t.read_shift(2),s=t.read_shift(n&&n.biff==2?1:2);return[r,s]}function FCe(t){return t.l++,Ky[t.read_shift(1)]}function BCe(t){return t.l++,t.read_shift(2)}function UCe(t){return t.l++,t.read_shift(1)!==0}function zCe(t){return t.l++,Cp(t)}function qCe(t,e,n){return t.l++,RG(t,e-1,n)}function $Ce(t,e){var n=[t.read_shift(1)];if(e==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=kje(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:n[1]=Ky[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:n[1]=Cp(t);break;case 2:n[1]=Dje(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function VCe(t,e,n){for(var r=t.read_shift(n.biff==12?4:2),s=[],i=0;i!=r;++i)s.push((n.biff==12?tf:Bje)(t));return s}function HCe(t,e,n){var r=0,s=0;n.biff==12?(r=t.read_shift(4),s=t.read_shift(4)):(s=1+t.read_shift(1),r=1+t.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--s==0&&(s=256));for(var i=0,o=[];i!=r&&(o[i]=[]);++i)for(var c=0;c!=s;++c)o[i][c]=$Ce(t,n.biff);return o}function GCe(t,e,n){var r=t.read_shift(1)>>>5&3,s=!n||n.biff>=8?4:2,i=t.read_shift(s);switch(n.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[r,0,i]}function WCe(t,e,n){if(n.biff==5)return KCe(t);var r=t.read_shift(1)>>>5&3,s=t.read_shift(2),i=t.read_shift(4);return[r,s,i]}function KCe(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2,"i");t.l+=8;var r=t.read_shift(2);return t.l+=12,[e,n,r]}function YCe(t,e,n){var r=t.read_shift(1)>>>5&3;t.l+=n&&n.biff==2?3:4;var s=t.read_shift(n&&n.biff==2?1:2);return[r,s]}function XCe(t,e,n){var r=t.read_shift(1)>>>5&3,s=t.read_shift(n&&n.biff==2?1:2);return[r,s]}function JCe(t,e,n){var r=t.read_shift(1)>>>5&3;return t.l+=4,n.biff<8&&t.l--,n.biff==12&&(t.l+=2),[r]}function QCe(t,e,n){var r=(t[t.l++]&96)>>5,s=t.read_shift(2),i=4;if(n)switch(n.biff){case 5:i=15;break;case 12:i=6;break}return t.l+=i,[r,s]}var ZCe=nc,eNe=nc,tNe=nc;function Yy(t,e,n){return t.l+=2,[mCe(t)]}function k3(t){return t.l+=6,[]}var nNe=Yy,rNe=k3,sNe=k3,aNe=Yy;function XG(t){return t.l+=2,[AG(t),t.read_shift(2)&1]}var iNe=Yy,oNe=XG,lNe=k3,cNe=Yy,uNe=Yy,dNe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function hNe(t){t.l+=2;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),s=t.read_shift(2),i=t.read_shift(2),o=dNe[n>>2&31];return{ixti:e,coltype:n&3,rt:o,idx:r,c:s,C:i}}function fNe(t){return t.l+=2,[t.read_shift(4)]}function mNe(t,e,n){return t.l+=5,t.l+=2,t.l+=n.biff==2?1:4,["PTGSHEET"]}function pNe(t,e,n){return t.l+=n.biff==2?4:5,["PTGENDSHEET"]}function gNe(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function yNe(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function vNe(t){return t.l+=4,[0,0]}var ZM={1:{n:"PtgExp",f:MCe},2:{n:"PtgTbl",f:tNe},3:{n:"PtgAdd",f:Ns},4:{n:"PtgSub",f:Ns},5:{n:"PtgMul",f:Ns},6:{n:"PtgDiv",f:Ns},7:{n:"PtgPower",f:Ns},8:{n:"PtgConcat",f:Ns},9:{n:"PtgLt",f:Ns},10:{n:"PtgLe",f:Ns},11:{n:"PtgEq",f:Ns},12:{n:"PtgGe",f:Ns},13:{n:"PtgGt",f:Ns},14:{n:"PtgNe",f:Ns},15:{n:"PtgIsect",f:Ns},16:{n:"PtgUnion",f:Ns},17:{n:"PtgRange",f:Ns},18:{n:"PtgUplus",f:Ns},19:{n:"PtgUminus",f:Ns},20:{n:"PtgPercent",f:Ns},21:{n:"PtgParen",f:Ns},22:{n:"PtgMissArg",f:Ns},23:{n:"PtgStr",f:qCe},26:{n:"PtgSheet",f:mNe},27:{n:"PtgEndSheet",f:pNe},28:{n:"PtgErr",f:FCe},29:{n:"PtgBool",f:UCe},30:{n:"PtgInt",f:BCe},31:{n:"PtgNum",f:zCe},32:{n:"PtgArray",f:_Ce},33:{n:"PtgFunc",f:OCe},34:{n:"PtgFuncVar",f:ICe},35:{n:"PtgName",f:GCe},36:{n:"PtgRef",f:LCe},37:{n:"PtgArea",f:yCe},38:{n:"PtgMemArea",f:YCe},39:{n:"PtgMemErr",f:ZCe},40:{n:"PtgMemNoMem",f:eNe},41:{n:"PtgMemFunc",f:XCe},42:{n:"PtgRefErr",f:JCe},43:{n:"PtgAreaErr",f:xCe},44:{n:"PtgRefN",f:RCe},45:{n:"PtgAreaN",f:wCe},46:{n:"PtgMemAreaN",f:gNe},47:{n:"PtgMemNoMemN",f:yNe},57:{n:"PtgNameX",f:WCe},58:{n:"PtgRef3d",f:kCe},59:{n:"PtgArea3d",f:vCe},60:{n:"PtgRefErr3d",f:QCe},61:{n:"PtgAreaErr3d",f:bCe},255:{}},xNe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},bNe={1:{n:"PtgElfLel",f:XG},2:{n:"PtgElfRw",f:cNe},3:{n:"PtgElfCol",f:nNe},6:{n:"PtgElfRwV",f:uNe},7:{n:"PtgElfColV",f:aNe},10:{n:"PtgElfRadical",f:iNe},11:{n:"PtgElfRadicalS",f:lNe},13:{n:"PtgElfColS",f:rNe},15:{n:"PtgElfColSV",f:sNe},16:{n:"PtgElfRadicalLel",f:oNe},25:{n:"PtgList",f:hNe},29:{n:"PtgSxName",f:fNe},255:{}},wNe={0:{n:"PtgAttrNoop",f:vNe},1:{n:"PtgAttrSemi",f:NCe},2:{n:"PtgAttrIf",f:SCe},4:{n:"PtgAttrChoose",f:ECe},8:{n:"PtgAttrGoto",f:jCe},16:{n:"PtgAttrSum",f:DCe},32:{n:"PtgAttrBaxcel",f:QM},33:{n:"PtgAttrBaxcel",f:QM},64:{n:"PtgAttrSpace",f:TCe},65:{n:"PtgAttrSpaceSemi",f:ACe},128:{n:"PtgAttrIfError",f:CCe},255:{}};function _Ne(t,e,n,r){if(r.biff<8)return nc(t,e);for(var s=t.l+e,i=[],o=0;o!==n.length;++o)switch(n[o][0]){case"PtgArray":n[o][1]=HCe(t,0,r),i.push(n[o][1]);break;case"PtgMemArea":n[o][2]=VCe(t,n[o][1],r),i.push(n[o][2]);break;case"PtgExp":r&&r.biff==12&&(n[o][1][1]=t.read_shift(4),i.push(n[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[o][0]}return e=s-t.l,e!==0&&i.push(nc(t,e)),i}function ENe(t,e,n){for(var r=t.l+e,s,i,o=[];r!=t.l;)e=r-t.l,i=t[t.l],s=ZM[i]||ZM[xNe[i]],(i===24||i===25)&&(s=(i===24?bNe:wNe)[t[t.l+1]]),!s||!s.f?nc(t,e):o.push([s.n,s.f(t,e,n)]);return o}function jNe(t){for(var e=[],n=0;n<t.length;++n){for(var r=t[n],s=[],i=0;i<r.length;++i){var o=r[i];if(o)switch(o[0]){case 2:s.push('"'+o[1].replace(/"/g,'""')+'"');break;default:s.push(o[1])}else s.push("")}e.push(s.join(","))}return e.join(";")}var SNe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function CNe(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function JG(t,e,n){if(!t)return"SH33TJSERR0";if(n.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var r=t.XTI[e];if(n.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!r)return"SH33TJSERR1";var s="";if(n.biff>8)switch(t[r[0]][0]){case 357:return s=r[1]==-1?"#REF":t.SheetNames[r[1]],r[1]==r[2]?s:s+":"+t.SheetNames[r[2]];case 358:return n.SID!=null?t.SheetNames[n.SID]:"SH33TJSSAME"+t[r[0]][0];case 355:default:return"SH33TJSSRC"+t[r[0]][0]}switch(t[r[0]][0][0]){case 1025:return s=r[1]==-1?"#REF":t.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?s:s+":"+t.SheetNames[r[2]];case 14849:return t[r[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return t[r[0]][0][3]?(s=r[1]==-1?"#REF":t[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?s:s+":"+t[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function e8(t,e,n){var r=JG(t,e,n);return r=="#REF"?r:CNe(r,n)}function $m(t,e,n,r,s){var i=s&&s.biff||8,o={s:{c:0,r:0}},c=[],u,h,f,g=0,p=0,y,w="";if(!t[0]||!t[0][0])return"";for(var E=-1,j="",C=0,O=t[0].length;C<O;++C){var I=t[0][C];switch(I[0]){case"PtgUminus":c.push("-"+c.pop());break;case"PtgUplus":c.push("+"+c.pop());break;case"PtgPercent":c.push(c.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(u=c.pop(),h=c.pop(),E>=0){switch(t[0][E][1][0]){case 0:j=cs(" ",t[0][E][1][1]);break;case 1:j=cs("\r",t[0][E][1][1]);break;default:if(j="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][E][1][0])}h=h+j,E=-1}c.push(h+SNe[I[0]]+u);break;case"PtgIsect":u=c.pop(),h=c.pop(),c.push(h+" "+u);break;case"PtgUnion":u=c.pop(),h=c.pop(),c.push(h+","+u);break;case"PtgRange":u=c.pop(),h=c.pop(),c.push(h+":"+u);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":f=d0(I[1][1],o,s),c.push(h0(f,i));break;case"PtgRefN":f=n?d0(I[1][1],n,s):I[1][1],c.push(h0(f,i));break;case"PtgRef3d":g=I[1][1],f=d0(I[1][2],o,s),w=e8(r,g,s),c.push(w+"!"+h0(f,i));break;case"PtgFunc":case"PtgFuncVar":var D=I[1][0],T=I[1][1];D||(D=0),D&=127;var F=D==0?[]:c.slice(-D);c.length-=D,T==="User"&&(T=F.shift()),c.push(T+"("+F.join(",")+")");break;case"PtgBool":c.push(I[1]?"TRUE":"FALSE");break;case"PtgInt":c.push(I[1]);break;case"PtgNum":c.push(String(I[1]));break;case"PtgStr":c.push('"'+I[1].replace(/"/g,'""')+'"');break;case"PtgErr":c.push(I[1]);break;case"PtgAreaN":y=FM(I[1][1],n?{s:n}:o,s),c.push(TS(y,s));break;case"PtgArea":y=FM(I[1][1],o,s),c.push(TS(y,s));break;case"PtgArea3d":g=I[1][1],y=I[1][2],w=e8(r,g,s),c.push(w+"!"+TS(y,s));break;case"PtgAttrSum":c.push("SUM("+c.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":p=I[1][2];var _=(r.names||[])[p-1]||(r[0]||[])[p],R=_?_.Name:"SH33TJSNAME"+String(p);R&&R.slice(0,6)=="_xlfn."&&!s.xlfn&&(R=R.slice(6)),c.push(R);break;case"PtgNameX":var b=I[1][1];p=I[1][2];var A;if(s.biff<=5)b<0&&(b=-b),r[b]&&(A=r[b][p]);else{var L="";if(((r[b]||[])[0]||[])[0]==14849||(((r[b]||[])[0]||[])[0]==1025?r[b][p]&&r[b][p].itab>0&&(L=r.SheetNames[r[b][p].itab-1]+"!"):L=r.SheetNames[p-1]+"!"),r[b]&&r[b][p])L+=r[b][p].Name;else if(r[0]&&r[0][p])L+=r[0][p].Name;else{var U=(JG(r,b,s)||"").split(";;");U[p-1]?L=U[p-1]:L+="SH33TJSERRX"}c.push(L);break}A||(A={Name:"SH33TJSERRY"}),c.push(A.Name);break;case"PtgParen":var P="(",K=")";if(E>=0){switch(j="",t[0][E][1][0]){case 2:P=cs(" ",t[0][E][1][1])+P;break;case 3:P=cs("\r",t[0][E][1][1])+P;break;case 4:K=cs(" ",t[0][E][1][1])+K;break;case 5:K=cs("\r",t[0][E][1][1])+K;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][E][1][0])}E=-1}c.push(P+c.pop()+K);break;case"PtgRefErr":c.push("#REF!");break;case"PtgRefErr3d":c.push("#REF!");break;case"PtgExp":f={c:I[1][1],r:I[1][0]};var G={c:n.c,r:n.r};if(r.sharedf[cr(f)]){var re=r.sharedf[cr(f)];c.push($m(re,o,G,r,s))}else{var Z=!1;for(u=0;u!=r.arrayf.length;++u)if(h=r.arrayf[u],!(f.c<h[0].s.c||f.c>h[0].e.c)&&!(f.r<h[0].s.r||f.r>h[0].e.r)){c.push($m(h[1],o,G,r,s)),Z=!0;break}Z||c.push(I[1])}break;case"PtgArray":c.push("{"+jNe(I[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":E=C;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":c.push("");break;case"PtgAreaErr":c.push("#REF!");break;case"PtgAreaErr3d":c.push("#REF!");break;case"PtgList":c.push("Table"+I[1].idx+"[#"+I[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(I));default:throw new Error("Unrecognized Formula Token: "+String(I))}var me=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(s.biff!=3&&E>=0&&me.indexOf(t[0][C][0])==-1){I=t[0][E];var ie=!0;switch(I[1][0]){case 4:ie=!1;case 0:j=cs(" ",I[1][1]);break;case 5:ie=!1;case 1:j=cs("\r",I[1][1]);break;default:if(j="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+I[1][0])}c.push((ie?j:"")+c.pop()+(ie?"":j)),E=-1}}if(c.length>1&&s.WTF)throw new Error("bad formula stack");return c[0]}function NNe(t){if(t==null){var e=ze(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return Lh(t);return Lh(0)}function TNe(t,e,n,r,s){var i=Rh(e,n,s),o=NNe(t.v),c=ze(6),u=33;c.write_shift(2,u),c.write_shift(4,0);for(var h=ze(t.bf.length),f=0;f<t.bf.length;++f)h[f]=t.bf[f];var g=xa([i,o,c,h]);return g}function Vw(t,e,n){var r=t.read_shift(4),s=ENe(t,r,n),i=t.read_shift(4),o=i>0?_Ne(t,i,s,n):null;return[s,o]}var ANe=Vw,Hw=Vw,LNe=Vw,RNe=Vw,kNe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},QG={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},ONe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function INe(t){var e="of:="+t.replace(L3,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function PNe(t){return t.replace(/\./,"!")}var f0=typeof Map<"u";function O3(t,e,n){var r=0,s=t.length;if(n){if(f0?n.has(e):Object.prototype.hasOwnProperty.call(n,e)){for(var i=f0?n.get(e):n[e];r<i.length;++r)if(t[i[r]].t===e)return t.Count++,i[r]}}else for(;r<s;++r)if(t[r].t===e)return t.Count++,r;return t[s]={t:e},t.Count++,t.Unique++,n&&(f0?(n.has(e)||n.set(e,[]),n.get(e).push(s)):(Object.prototype.hasOwnProperty.call(n,e)||(n[e]=[]),n[e].push(s))),s}function Gw(t,e){var n={min:t+1,max:t+1},r=-1;return e.MDW&&(qc=e.MDW),e.width!=null?n.customWidth=1:e.wpx!=null?r=v1(e.wpx):e.wch!=null&&(r=e.wch),r>-1?(n.width=dT(r),n.customWidth=1):e.width!=null&&(n.width=e.width),e.hidden&&(n.hidden=!0),e.level!=null&&(n.outlineLevel=n.level=e.level),n}function ZG(t,e){if(t){var n=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=n[0]),t.right==null&&(t.right=n[1]),t.top==null&&(t.top=n[2]),t.bottom==null&&(t.bottom=n[3]),t.header==null&&(t.header=n[4]),t.footer==null&&(t.footer=n[5])}}function Cd(t,e,n){var r=n.revssf[e.z!=null?e.z:"General"],s=60,i=t.length;if(r==null&&n.ssf){for(;s<392;++s)if(n.ssf[s]==null){KH(e.z,s),n.ssf[s]=e.z,n.revssf[e.z]=r=s;break}}for(s=0;s!=i;++s)if(t[s].numFmtId===r)return s;return t[i]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function DNe(t,e,n){if(t&&t["!ref"]){var r=Ar(t["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+n+"): "+t["!ref"])}}function MNe(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',n=0;n!=t.length;++n)e+='<mergeCell ref="'+As(t[n])+'"/>';return e+"</mergeCells>"}function FNe(t,e,n,r,s){var i=!1,o={},c=null;if(r.bookType!=="xlsx"&&e.vbaraw){var u=e.SheetNames[n];try{e.Workbook&&(u=e.Workbook.Sheets[n].CodeName||u)}catch{}i=!0,o.codeName=J0(lr(u))}if(t&&t["!outline"]){var h={summaryBelow:1,summaryRight:1};t["!outline"].above&&(h.summaryBelow=0),t["!outline"].left&&(h.summaryRight=0),c=(c||"")+dt("outlinePr",null,h)}!i&&!c||(s[s.length]=dt("sheetPr",c,o))}var BNe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],UNe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function zNe(t){var e={sheet:1};return BNe.forEach(function(n){t[n]!=null&&t[n]&&(e[n]="1")}),UNe.forEach(function(n){t[n]!=null&&!t[n]&&(e[n]="0")}),t.password&&(e.password=DG(t.password).toString(16).toUpperCase()),dt("sheetProtection",null,e)}function qNe(t){return ZG(t),dt("pageMargins",null,t)}function $Ne(t,e){for(var n=["<cols>"],r,s=0;s!=e.length;++s)(r=e[s])&&(n[n.length]=dt("col",null,Gw(s,r)));return n[n.length]="</cols>",n.join("")}function VNe(t,e,n,r){var s=typeof t.ref=="string"?t.ref:As(t.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var i=n.Workbook.Names,o=Xi(s);o.s.r==o.e.r&&(o.e.r=Xi(e["!ref"]).e.r,s=As(o));for(var c=0;c<i.length;++c){var u=i[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==r){u.Ref="'"+n.SheetNames[r]+"'!"+s;break}}return c==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+s}),dt("autoFilter",null,{ref:s})}function HNe(t,e,n,r){var s={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(s.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),dt("sheetViews",dt("sheetView",null,s),{})}function GNe(t,e,n,r){if(t.c&&n["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var s="",i=t.t,o=t.v;if(t.t!=="z")switch(t.t){case"b":s=t.v?"1":"0";break;case"n":s=""+t.v;break;case"e":s=Ky[t.v];break;case"d":r&&r.cellDates?s=ri(t.v,-1).toISOString():(t=ji(t),t.t="n",s=""+(t.v=Ei(ri(t.v)))),typeof t.z>"u"&&(t.z=us[14]);break;default:s=t.v;break}var c=ba("v",lr(s)),u={r:e},h=Cd(r.cellXfs,t,r);switch(h!==0&&(u.s=h),t.t){case"n":break;case"d":u.t="d";break;case"b":u.t="b";break;case"e":u.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){c=ba("v",""+O3(r.Strings,t.v,r.revStrings)),u.t="s";break}u.t="str";break}if(t.t!=i&&(t.t=i,t.v=o),typeof t.f=="string"&&t.f){var f=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;c=dt("f",lr(t.f),f)+(t.v!=null?c:"")}return t.l&&n["!links"].push([e,t.l]),t.D&&(u.cm=1),dt("c",c,u)}function WNe(t,e,n,r){var s=[],i=[],o=Ar(t["!ref"]),c="",u,h="",f=[],g=0,p=0,y=t["!rows"],w=Array.isArray(t),E={r:h},j,C=-1;for(p=o.s.c;p<=o.e.c;++p)f[p]=Fa(p);for(g=o.s.r;g<=o.e.r;++g){for(i=[],h=_a(g),p=o.s.c;p<=o.e.c;++p){u=f[p]+h;var O=w?(t[g]||[])[p]:t[u];O!==void 0&&(c=GNe(O,u,t,e))!=null&&i.push(c)}(i.length>0||y&&y[g])&&(E={r:h},y&&y[g]&&(j=y[g],j.hidden&&(E.hidden=1),C=-1,j.hpx?C=x1(j.hpx):j.hpt&&(C=j.hpt),C>-1&&(E.ht=C,E.customHeight=1),j.level&&(E.outlineLevel=j.level)),s[s.length]=dt("row",i.join(""),E))}if(y)for(;g<y.length;++g)y&&y[g]&&(E={r:g+1},j=y[g],j.hidden&&(E.hidden=1),C=-1,j.hpx?C=x1(j.hpx):j.hpt&&(C=j.hpt),C>-1&&(E.ht=C,E.customHeight=1),j.level&&(E.outlineLevel=j.level),s[s.length]=dt("row","",E));return s.join("")}function eW(t,e,n,r){var s=[Ls,dt("worksheet",null,{xmlns:Ep[0],"xmlns:r":Js.r})],i=n.SheetNames[t],o=0,c="",u=n.Sheets[i];u==null&&(u={});var h=u["!ref"]||"A1",f=Ar(h);if(f.e.c>16383||f.e.r>1048575){if(e.WTF)throw new Error("Range "+h+" exceeds format limit A1:XFD1048576");f.e.c=Math.min(f.e.c,16383),f.e.r=Math.min(f.e.c,1048575),h=As(f)}r||(r={}),u["!comments"]=[];var g=[];FNe(u,n,t,e,s),s[s.length]=dt("dimension",null,{ref:h}),s[s.length]=HNe(u,e,t,n),e.sheetFormat&&(s[s.length]=dt("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),u["!cols"]!=null&&u["!cols"].length>0&&(s[s.length]=$Ne(u,u["!cols"])),s[o=s.length]="<sheetData/>",u["!links"]=[],u["!ref"]!=null&&(c=WNe(u,e),c.length>0&&(s[s.length]=c)),s.length>o+1&&(s[s.length]="</sheetData>",s[o]=s[o].replace("/>",">")),u["!protect"]&&(s[s.length]=zNe(u["!protect"])),u["!autofilter"]!=null&&(s[s.length]=VNe(u["!autofilter"],u,n,t)),u["!merges"]!=null&&u["!merges"].length>0&&(s[s.length]=MNe(u["!merges"]));var p=-1,y,w=-1;return u["!links"].length>0&&(s[s.length]="<hyperlinks>",u["!links"].forEach(function(E){E[1].Target&&(y={ref:E[0]},E[1].Target.charAt(0)!="#"&&(w=or(r,-1,lr(E[1].Target).replace(/#.*$/,""),Yn.HLINK),y["r:id"]="rId"+w),(p=E[1].Target.indexOf("#"))>-1&&(y.location=lr(E[1].Target.slice(p+1))),E[1].Tooltip&&(y.tooltip=lr(E[1].Tooltip)),s[s.length]=dt("hyperlink",null,y))}),s[s.length]="</hyperlinks>"),delete u["!links"],u["!margins"]!=null&&(s[s.length]=qNe(u["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(s[s.length]=ba("ignoredErrors",dt("ignoredError",null,{numberStoredAsText:1,sqref:h}))),g.length>0&&(w=or(r,-1,"../drawings/drawing"+(t+1)+".xml",Yn.DRAW),s[s.length]=dt("drawing",null,{"r:id":"rId"+w}),u["!drawing"]=g),u["!comments"].length>0&&(w=or(r,-1,"../drawings/vmlDrawing"+(t+1)+".vml",Yn.VML),s[s.length]=dt("legacyDrawing",null,{"r:id":"rId"+w}),u["!legacy"]=w),s.length>1&&(s[s.length]="</worksheet>",s[1]=s[1].replace("/>",">")),s.join("")}function KNe(t,e){var n={},r=t.l+e;n.r=t.read_shift(4),t.l+=4;var s=t.read_shift(2);t.l+=1;var i=t.read_shift(1);return t.l=r,i&7&&(n.level=i&7),i&16&&(n.hidden=!0),i&32&&(n.hpt=s/20),n}function YNe(t,e,n){var r=ze(145),s=(n["!rows"]||[])[t]||{};r.write_shift(4,t),r.write_shift(4,0);var i=320;s.hpx?i=x1(s.hpx)*20:s.hpt&&(i=s.hpt*20),r.write_shift(2,i),r.write_shift(1,0);var o=0;s.level&&(o|=s.level),s.hidden&&(o|=16),(s.hpx||s.hpt)&&(o|=32),r.write_shift(1,o),r.write_shift(1,0);var c=0,u=r.l;r.l+=4;for(var h={r:t,c:0},f=0;f<16;++f)if(!(e.s.c>f+1<<10||e.e.c<f<<10)){for(var g=-1,p=-1,y=f<<10;y<f+1<<10;++y){h.c=y;var w=Array.isArray(n)?(n[h.r]||[])[h.c]:n[cr(h)];w&&(g<0&&(g=y),p=y)}g<0||(++c,r.write_shift(4,g),r.write_shift(4,p))}var E=r.l;return r.l=u,r.write_shift(4,c),r.l=E,r.length>r.l?r.slice(0,r.l):r}function XNe(t,e,n,r){var s=YNe(r,n,e);(s.length>17||(e["!rows"]||[])[r])&&et(t,0,s)}var JNe=tf,QNe=Sp;function ZNe(){}function eTe(t,e){var n={},r=t[t.l];return++t.l,n.above=!(r&64),n.left=!(r&128),t.l+=18,n.name=uje(t),n}function tTe(t,e,n){n==null&&(n=ze(84+4*t.length));var r=192;e&&(e.above&&(r&=-65),e.left&&(r&=-129)),n.write_shift(1,r);for(var s=1;s<3;++s)n.write_shift(1,0);return p1({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),pG(t,n),n.slice(0,n.l)}function nTe(t){var e=Do(t);return[e]}function rTe(t,e,n){return n==null&&(n=ze(8)),Qh(e,n)}function sTe(t){var e=Zh(t);return[e]}function aTe(t,e,n){return n==null&&(n=ze(4)),ef(e,n)}function iTe(t){var e=Do(t),n=t.read_shift(1);return[e,n,"b"]}function oTe(t,e,n){return n==null&&(n=ze(9)),Qh(e,n),n.write_shift(1,t.v?1:0),n}function lTe(t){var e=Zh(t),n=t.read_shift(1);return[e,n,"b"]}function cTe(t,e,n){return n==null&&(n=ze(5)),ef(e,n),n.write_shift(1,t.v?1:0),n}function uTe(t){var e=Do(t),n=t.read_shift(1);return[e,n,"e"]}function dTe(t,e,n){return n==null&&(n=ze(9)),Qh(e,n),n.write_shift(1,t.v),n}function hTe(t){var e=Zh(t),n=t.read_shift(1);return[e,n,"e"]}function fTe(t,e,n){return n==null&&(n=ze(8)),ef(e,n),n.write_shift(1,t.v),n.write_shift(2,0),n.write_shift(1,0),n}function mTe(t){var e=Do(t),n=t.read_shift(4);return[e,n,"s"]}function pTe(t,e,n){return n==null&&(n=ze(12)),Qh(e,n),n.write_shift(4,e.v),n}function gTe(t){var e=Zh(t),n=t.read_shift(4);return[e,n,"s"]}function yTe(t,e,n){return n==null&&(n=ze(8)),ef(e,n),n.write_shift(4,e.v),n}function vTe(t){var e=Do(t),n=Cp(t);return[e,n,"n"]}function xTe(t,e,n){return n==null&&(n=ze(16)),Qh(e,n),Lh(t.v,n),n}function bTe(t){var e=Zh(t),n=Cp(t);return[e,n,"n"]}function wTe(t,e,n){return n==null&&(n=ze(12)),ef(e,n),Lh(t.v,n),n}function _Te(t){var e=Do(t),n=gG(t);return[e,n,"n"]}function ETe(t,e,n){return n==null&&(n=ze(12)),Qh(e,n),yG(t.v,n),n}function jTe(t){var e=Zh(t),n=gG(t);return[e,n,"n"]}function STe(t,e,n){return n==null&&(n=ze(8)),ef(e,n),yG(t.v,n),n}function CTe(t){var e=Do(t),n=S3(t);return[e,n,"is"]}function NTe(t){var e=Do(t),n=Ba(t);return[e,n,"str"]}function TTe(t,e,n){return n==null&&(n=ze(12+4*t.v.length)),Qh(e,n),Zs(t.v,n),n.length>n.l?n.slice(0,n.l):n}function ATe(t){var e=Zh(t),n=Ba(t);return[e,n,"str"]}function LTe(t,e,n){return n==null&&(n=ze(8+4*t.v.length)),ef(e,n),Zs(t.v,n),n.length>n.l?n.slice(0,n.l):n}function RTe(t,e,n){var r=t.l+e,s=Do(t);s.r=n["!row"];var i=t.read_shift(1),o=[s,i,"b"];if(n.cellFormula){t.l+=2;var c=Hw(t,r-t.l,n);o[3]=$m(c,null,s,n.supbooks,n)}else t.l=r;return o}function kTe(t,e,n){var r=t.l+e,s=Do(t);s.r=n["!row"];var i=t.read_shift(1),o=[s,i,"e"];if(n.cellFormula){t.l+=2;var c=Hw(t,r-t.l,n);o[3]=$m(c,null,s,n.supbooks,n)}else t.l=r;return o}function OTe(t,e,n){var r=t.l+e,s=Do(t);s.r=n["!row"];var i=Cp(t),o=[s,i,"n"];if(n.cellFormula){t.l+=2;var c=Hw(t,r-t.l,n);o[3]=$m(c,null,s,n.supbooks,n)}else t.l=r;return o}function ITe(t,e,n){var r=t.l+e,s=Do(t);s.r=n["!row"];var i=Ba(t),o=[s,i,"str"];if(n.cellFormula){t.l+=2;var c=Hw(t,r-t.l,n);o[3]=$m(c,null,s,n.supbooks,n)}else t.l=r;return o}var PTe=tf,DTe=Sp;function MTe(t,e){return e==null&&(e=ze(4)),e.write_shift(4,t),e}function FTe(t,e){var n=t.l+e,r=tf(t),s=C3(t),i=Ba(t),o=Ba(t),c=Ba(t);t.l=n;var u={rfx:r,relId:s,loc:i,display:c};return o&&(u.Tooltip=o),u}function BTe(t,e){var n=ze(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));Sp({s:Qs(t[0]),e:Qs(t[0])},n),N3("rId"+e,n);var r=t[1].Target.indexOf("#"),s=r==-1?"":t[1].Target.slice(r+1);return Zs(s||"",n),Zs(t[1].Tooltip||"",n),Zs("",n),n.slice(0,n.l)}function UTe(){}function zTe(t,e,n){var r=t.l+e,s=vG(t),i=t.read_shift(1),o=[s];if(o[2]=i,n.cellFormula){var c=ANe(t,r-t.l,n);o[1]=c}else t.l=r;return o}function qTe(t,e,n){var r=t.l+e,s=tf(t),i=[s];if(n.cellFormula){var o=RNe(t,r-t.l,n);i[1]=o,t.l=r}else t.l=r;return i}function $Te(t,e,n){n==null&&(n=ze(18));var r=Gw(t,e);n.write_shift(-4,t),n.write_shift(-4,t),n.write_shift(4,(r.width||10)*256),n.write_shift(4,0);var s=0;return e.hidden&&(s|=1),typeof r.width=="number"&&(s|=2),e.level&&(s|=e.level<<8),n.write_shift(2,s),n}var tW=["left","right","top","bottom","header","footer"];function VTe(t){var e={};return tW.forEach(function(n){e[n]=Cp(t)}),e}function HTe(t,e){return e==null&&(e=ze(6*8)),ZG(t),tW.forEach(function(n){Lh(t[n],e)}),e}function GTe(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function WTe(t,e,n){n==null&&(n=ze(30));var r=924;return(((e||{}).Views||[])[0]||{}).RTL&&(r|=32),n.write_shift(2,r),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}function KTe(t){var e=ze(24);return e.write_shift(4,4),e.write_shift(4,1),Sp(t,e),e}function YTe(t,e){return e==null&&(e=ze(16*4+2)),e.write_shift(2,t.password?DG(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(n){n[1]?e.write_shift(4,t[n[0]]!=null&&!t[n[0]]?1:0):e.write_shift(4,t[n[0]]!=null&&t[n[0]]?0:1)}),e}function XTe(){}function JTe(){}function QTe(t,e,n,r,s,i,o){if(e.v===void 0)return!1;var c="";switch(e.t){case"b":c=e.v?"1":"0";break;case"d":e=ji(e),e.z=e.z||us[14],e.v=Ei(ri(e.v)),e.t="n";break;case"n":case"e":c=""+e.v;break;default:c=e.v;break}var u={r:n,c:r};switch(u.s=Cd(s.cellXfs,e,s),e.l&&i["!links"].push([cr(u),e.l]),e.c&&i["!comments"].push([cr(u),e.c]),e.t){case"s":case"str":return s.bookSST?(c=O3(s.Strings,e.v,s.revStrings),u.t="s",u.v=c,o?et(t,18,yTe(e,u)):et(t,7,pTe(e,u))):(u.t="str",o?et(t,17,LTe(e,u)):et(t,6,TTe(e,u))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?o?et(t,13,STe(e,u)):et(t,2,ETe(e,u)):o?et(t,16,wTe(e,u)):et(t,5,xTe(e,u)),!0;case"b":return u.t="b",o?et(t,15,cTe(e,u)):et(t,4,oTe(e,u)),!0;case"e":return u.t="e",o?et(t,14,fTe(e,u)):et(t,3,dTe(e,u)),!0}return o?et(t,12,aTe(e,u)):et(t,1,rTe(e,u)),!0}function ZTe(t,e,n,r){var s=Ar(e["!ref"]||"A1"),i,o="",c=[];et(t,145);var u=Array.isArray(e),h=s.e.r;e["!rows"]&&(h=Math.max(s.e.r,e["!rows"].length-1));for(var f=s.s.r;f<=h;++f){o=_a(f),XNe(t,e,s,f);var g=!1;if(f<=s.e.r)for(var p=s.s.c;p<=s.e.c;++p){f===s.s.r&&(c[p]=Fa(p)),i=c[p]+o;var y=u?(e[f]||[])[p]:e[i];if(!y){g=!1;continue}g=QTe(t,y,f,p,r,e,g)}}et(t,146)}function eAe(t,e){!e||!e["!merges"]||(et(t,177,MTe(e["!merges"].length)),e["!merges"].forEach(function(n){et(t,176,DTe(n))}),et(t,178))}function tAe(t,e){!e||!e["!cols"]||(et(t,390),e["!cols"].forEach(function(n,r){n&&et(t,60,$Te(r,n))}),et(t,391))}function nAe(t,e){!e||!e["!ref"]||(et(t,648),et(t,649,KTe(Ar(e["!ref"]))),et(t,650))}function rAe(t,e,n){e["!links"].forEach(function(r){if(r[1].Target){var s=or(n,-1,r[1].Target.replace(/#.*$/,""),Yn.HLINK);et(t,494,BTe(r,s))}}),delete e["!links"]}function sAe(t,e,n,r){if(e["!comments"].length>0){var s=or(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",Yn.VML);et(t,551,N3("rId"+s)),e["!legacy"]=s}}function aAe(t,e,n,r){if(e["!autofilter"]){var s=e["!autofilter"],i=typeof s.ref=="string"?s.ref:As(s.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var o=n.Workbook.Names,c=Xi(i);c.s.r==c.e.r&&(c.e.r=Xi(e["!ref"]).e.r,i=As(c));for(var u=0;u<o.length;++u){var h=o[u];if(h.Name=="_xlnm._FilterDatabase"&&h.Sheet==r){h.Ref="'"+n.SheetNames[r]+"'!"+i;break}}u==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+i}),et(t,161,Sp(Ar(i))),et(t,162)}}function iAe(t,e,n){et(t,133),et(t,137,WTe(e,n)),et(t,138),et(t,134)}function oAe(t,e){e["!protect"]&&et(t,535,YTe(e["!protect"]))}function lAe(t,e,n,r){var s=_i(),i=n.SheetNames[t],o=n.Sheets[i]||{},c=i;try{n&&n.Workbook&&(c=n.Workbook.Sheets[t].CodeName||c)}catch{}var u=Ar(o["!ref"]||"A1");if(u.e.c>16383||u.e.r>1048575){if(e.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],et(s,129),(n.vbaraw||o["!outline"])&&et(s,147,tTe(c,o["!outline"])),et(s,148,QNe(u)),iAe(s,o,n.Workbook),tAe(s,o),ZTe(s,o,t,e),oAe(s,o),aAe(s,o,n,t),eAe(s,o),rAe(s,o,r),o["!margins"]&&et(s,476,HTe(o["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&nAe(s,o),sAe(s,o,t,r),et(s,130),s.end()}function cAe(t,e){t.l+=10;var n=Ba(t);return{name:n}}var uAe=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function dAe(t){return!t.Workbook||!t.Workbook.WBProps?"false":qEe(t.Workbook.WBProps.date1904)?"true":"false"}var hAe="][*?/\\".split("");function nW(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return hAe.forEach(function(r){if(t.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}function fAe(t,e,n){t.forEach(function(r,s){nW(r);for(var i=0;i<s;++i)if(r==t[i])throw new Error("Duplicate Sheet Name: "+r);if(n){var o=e&&e[s]&&e[s].CodeName||r;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function mAe(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];fAe(t.SheetNames,e,!!t.vbaraw);for(var n=0;n<t.SheetNames.length;++n)DNe(t.Sheets[t.SheetNames[n]],t.SheetNames[n],n)}function rW(t){var e=[Ls];e[e.length]=dt("workbook",null,{xmlns:Ep[0],"xmlns:r":Js.r});var n=t.Workbook&&(t.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(uAe.forEach(function(c){t.Workbook.WBProps[c[0]]!=null&&t.Workbook.WBProps[c[0]]!=c[1]&&(r[c[0]]=t.Workbook.WBProps[c[0]])}),t.Workbook.WBProps.CodeName&&(r.codeName=t.Workbook.WBProps.CodeName,delete r.CodeName)),e[e.length]=dt("workbookPr",null,r);var s=t.Workbook&&t.Workbook.Sheets||[],i=0;if(s&&s[0]&&s[0].Hidden){for(e[e.length]="<bookViews>",i=0;i!=t.SheetNames.length&&!(!s[i]||!s[i].Hidden);++i);i==t.SheetNames.length&&(i=0),e[e.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",i=0;i!=t.SheetNames.length;++i){var o={name:lr(t.SheetNames[i].slice(0,31))};if(o.sheetId=""+(i+1),o["r:id"]="rId"+(i+1),s[i])switch(s[i].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}e[e.length]=dt("sheet",null,o)}return e[e.length]="</sheets>",n&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(c){var u={name:c.Name};c.Comment&&(u.comment=c.Comment),c.Sheet!=null&&(u.localSheetId=""+c.Sheet),c.Hidden&&(u.hidden="1"),c.Ref&&(e[e.length]=dt("definedName",lr(c.Ref),u))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function pAe(t,e){var n={};return n.Hidden=t.read_shift(4),n.iTabID=t.read_shift(4),n.strRelID=uT(t),n.name=Ba(t),n}function gAe(t,e){return e||(e=ze(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),N3(t.strRelID,e),Zs(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function yAe(t,e){var n={},r=t.read_shift(4);n.defaultThemeVersion=t.read_shift(4);var s=e>8?Ba(t):"";return s.length>0&&(n.CodeName=s),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function vAe(t,e){e||(e=ze(72));var n=0;return t&&t.filterPrivacy&&(n|=8),e.write_shift(4,n),e.write_shift(4,0),pG(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function xAe(t,e,n){var r=t.l+e;t.l+=4,t.l+=1;var s=t.read_shift(4),i=dje(t),o=LNe(t,0,n),c=C3(t);t.l=r;var u={Name:i,Ptg:o};return s<268435455&&(u.Sheet=s),c&&(u.Comment=c),u}function bAe(t,e){et(t,143);for(var n=0;n!=e.SheetNames.length;++n){var r=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[n]&&e.Workbook.Sheets[n].Hidden||0,s={Hidden:r,iTabID:n+1,strRelID:"rId"+(n+1),name:e.SheetNames[n]};et(t,156,gAe(s))}et(t,144)}function wAe(t,e){e||(e=ze(127));for(var n=0;n!=4;++n)e.write_shift(4,0);return Zs("SheetJS",e),Zs(l1.version,e),Zs(l1.version,e),Zs("7262",e),e.length>e.l?e.slice(0,e.l):e}function _Ae(t,e){e||(e=ze(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var n=120;return e.write_shift(1,n),e.length>e.l?e.slice(0,e.l):e}function EAe(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var n=e.Workbook.Sheets,r=0,s=-1,i=-1;r<n.length;++r)!n[r]||!n[r].Hidden&&s==-1?s=r:n[r].Hidden==1&&i==-1&&(i=r);i>s||(et(t,135),et(t,158,_Ae(s)),et(t,136))}}function jAe(t,e){var n=_i();return et(n,131),et(n,128,wAe()),et(n,153,vAe(t.Workbook&&t.Workbook.WBProps||null)),EAe(n,t),bAe(n,t),et(n,132),n.end()}function SAe(t,e,n){return(e.slice(-4)===".bin"?jAe:rW)(t)}function CAe(t,e,n,r,s){return(e.slice(-4)===".bin"?lAe:eW)(t,n,r,s)}function NAe(t,e,n){return(e.slice(-4)===".bin"?HSe:BG)(t,n)}function TAe(t,e,n){return(e.slice(-4)===".bin"?vSe:PG)(t,n)}function AAe(t,e,n){return(e.slice(-4)===".bin"?oCe:VG)(t)}function LAe(t){return(t.slice(-4)===".bin"?ZSe:qG)()}function RAe(t,e){var n=[];return t.Props&&n.push(Nje(t.Props,e)),t.Custprops&&n.push(Tje(t.Props,t.Custprops)),n.join("")}function kAe(){return""}function OAe(t,e){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(r,s){var i=[];i.push(dt("NumberFormat",null,{"ss:Format":lr(us[r.numFmtId])}));var o={"ss:ID":"s"+(21+s)};n.push(dt("Style",i.join(""),o))}),dt("Styles",n.join(""))}function sW(t){return dt("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+R3(t.Ref,{r:0,c:0})})}function IAe(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,n=[],r=0;r<e.length;++r){var s=e[r];s.Sheet==null&&(s.Name.match(/^_xlfn\./)||n.push(sW(s)))}return dt("Names",n.join(""))}function PAe(t,e,n,r){if(!t||!((r||{}).Workbook||{}).Names)return"";for(var s=r.Workbook.Names,i=[],o=0;o<s.length;++o){var c=s[o];c.Sheet==n&&(c.Name.match(/^_xlfn\./)||i.push(sW(c)))}return i.join("")}function DAe(t,e,n,r){if(!t)return"";var s=[];if(t["!margins"]&&(s.push("<PageSetup>"),t["!margins"].header&&s.push(dt("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&s.push(dt("Footer",null,{"x:Margin":t["!margins"].footer})),s.push(dt("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),s.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[n])if(r.Workbook.Sheets[n].Hidden)s.push(dt("Visible",r.Workbook.Sheets[n].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<n&&!(r.Workbook.Sheets[i]&&!r.Workbook.Sheets[i].Hidden);++i);i==n&&s.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&s.push("<DisplayRightToLeft/>"),t["!protect"]&&(s.push(ba("ProtectContents","True")),t["!protect"].objects&&s.push(ba("ProtectObjects","True")),t["!protect"].scenarios&&s.push(ba("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?s.push(ba("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&s.push(ba("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){t["!protect"][o[0]]&&s.push("<"+o[1]+"/>")})),s.length==0?"":dt("WorksheetOptions",s.join(""),{xmlns:Bi.x})}function MAe(t){return t.map(function(e){var n=zEe(e.t||""),r=dt("ss:Data",n,{xmlns:"http://www.w3.org/TR/REC-html40"});return dt("Comment",r,{"ss:Author":e.a})}).join("")}function FAe(t,e,n,r,s,i,o){if(!t||t.v==null&&t.f==null)return"";var c={};if(t.f&&(c["ss:Formula"]="="+lr(R3(t.f,o))),t.F&&t.F.slice(0,e.length)==e){var u=Qs(t.F.slice(e.length+1));c["ss:ArrayRange"]="RC:R"+(u.r==o.r?"":"["+(u.r-o.r)+"]")+"C"+(u.c==o.c?"":"["+(u.c-o.c)+"]")}if(t.l&&t.l.Target&&(c["ss:HRef"]=lr(t.l.Target),t.l.Tooltip&&(c["x:HRefScreenTip"]=lr(t.l.Tooltip))),n["!merges"])for(var h=n["!merges"],f=0;f!=h.length;++f)h[f].s.c!=o.c||h[f].s.r!=o.r||(h[f].e.c>h[f].s.c&&(c["ss:MergeAcross"]=h[f].e.c-h[f].s.c),h[f].e.r>h[f].s.r&&(c["ss:MergeDown"]=h[f].e.r-h[f].s.r));var g="",p="";switch(t.t){case"z":if(!r.sheetStubs)return"";break;case"n":g="Number",p=String(t.v);break;case"b":g="Boolean",p=t.v?"1":"0";break;case"e":g="Error",p=Ky[t.v];break;case"d":g="DateTime",p=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||us[14]);break;case"s":g="String",p=UEe(t.v||"");break}var y=Cd(r.cellXfs,t,r);c["ss:StyleID"]="s"+(21+y),c["ss:Index"]=o.c+1;var w=t.v!=null?p:"",E=t.t=="z"?"":'<Data ss:Type="'+g+'">'+w+"</Data>";return(t.c||[]).length>0&&(E+=MAe(t.c)),dt("Cell",E,c)}function BAe(t,e){var n='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=FG(e.hpt)),e.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(n+=' ss:Hidden="1"')),n+">"}function UAe(t,e,n,r){if(!t["!ref"])return"";var s=Ar(t["!ref"]),i=t["!merges"]||[],o=0,c=[];t["!cols"]&&t["!cols"].forEach(function(j,C){A3(j);var O=!!j.width,I=Gw(C,j),D={"ss:Index":C+1};O&&(D["ss:Width"]=y1(I.width)),j.hidden&&(D["ss:Hidden"]="1"),c.push(dt("Column",null,D))});for(var u=Array.isArray(t),h=s.s.r;h<=s.e.r;++h){for(var f=[BAe(h,(t["!rows"]||[])[h])],g=s.s.c;g<=s.e.c;++g){var p=!1;for(o=0;o!=i.length;++o)if(!(i[o].s.c>g)&&!(i[o].s.r>h)&&!(i[o].e.c<g)&&!(i[o].e.r<h)){(i[o].s.c!=g||i[o].s.r!=h)&&(p=!0);break}if(!p){var y={r:h,c:g},w=cr(y),E=u?(t[h]||[])[g]:t[w];f.push(FAe(E,w,t,e,n,r,y))}}f.push("</Row>"),f.length>2&&c.push(f.join(""))}return c.join("")}function zAe(t,e,n){var r=[],s=n.SheetNames[t],i=n.Sheets[s],o=i?PAe(i,e,t,n):"";return o.length>0&&r.push("<Names>"+o+"</Names>"),o=i?UAe(i,e,t,n):"",o.length>0&&r.push("<Table>"+o+"</Table>"),r.push(DAe(i,e,t,n)),r.join("")}function qAe(t,e){e||(e={}),t.SSF||(t.SSF=ji(us)),t.SSF&&(zw(),Uw(t.SSF),e.revssf=qw(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],Cd(e.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(RAe(t,e)),n.push(kAe()),n.push(""),n.push("");for(var r=0;r<t.SheetNames.length;++r)n.push(dt("Worksheet",zAe(r,e,t),{"ss:Name":lr(t.SheetNames[r])}));return n[2]=OAe(t,e),n[3]=IAe(t),Ls+dt("Workbook",n.join(""),{xmlns:Bi.ss,"xmlns:o":Bi.o,"xmlns:x":Bi.x,"xmlns:ss":Bi.ss,"xmlns:dt":Bi.dt,"xmlns:html":Bi.html})}var RS={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function $Ae(t,e){var n=[],r=[],s=[],i=0,o,c=NM(UM,"n"),u=NM(zM,"n");if(t.Props)for(o=ja(t.Props),i=0;i<o.length;++i)(Object.prototype.hasOwnProperty.call(c,o[i])?n:Object.prototype.hasOwnProperty.call(u,o[i])?r:s).push([o[i],t.Props[o[i]]]);if(t.Custprops)for(o=ja(t.Custprops),i=0;i<o.length;++i)Object.prototype.hasOwnProperty.call(t.Props||{},o[i])||(Object.prototype.hasOwnProperty.call(c,o[i])?n:Object.prototype.hasOwnProperty.call(u,o[i])?r:s).push([o[i],t.Custprops[o[i]]]);var h=[];for(i=0;i<s.length;++i)TG.indexOf(s[i][0])>-1||SG.indexOf(s[i][0])>-1||s[i][1]!=null&&h.push(s[i]);r.length&&fr.utils.cfb_add(e,"/SummaryInformation",GM(r,RS.SI,u,zM)),(n.length||h.length)&&fr.utils.cfb_add(e,"/DocumentSummaryInformation",GM(n,RS.DSI,c,UM,h.length?h:null,RS.UDI))}function VAe(t,e){var n=e||{},r=fr.utils.cfb_new({root:"R"}),s="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":s="/Workbook",n.biff=8;break;case"biff5":s="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return fr.utils.cfb_add(r,s,aW(t,n)),n.biff==8&&(t.Props||t.Custprops)&&$Ae(t,r),n.biff==8&&t.vbaraw&&lCe(r,fr.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),r}var HAe={0:{f:KNe},1:{f:nTe},2:{f:_Te},3:{f:uTe},4:{f:iTe},5:{f:vTe},6:{f:NTe},7:{f:mTe},8:{f:ITe},9:{f:OTe},10:{f:RTe},11:{f:kTe},12:{f:sTe},13:{f:jTe},14:{f:hTe},15:{f:lTe},16:{f:bTe},17:{f:ATe},18:{f:gTe},19:{f:S3},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:xAe},40:{},42:{},43:{f:NSe},44:{f:SSe},45:{f:LSe},46:{f:kSe},47:{f:RSe},48:{},49:{f:sje},50:{},51:{f:KSe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:aSe},62:{f:CTe},63:{f:eCe},64:{f:XTe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:nc,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:GTe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:eTe},148:{f:JNe,p:16},151:{f:UTe},152:{},153:{f:yAe},154:{},155:{},156:{f:pAe},157:{},158:{},159:{T:1,f:pSe},160:{T:-1},161:{T:1,f:tf},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:PTe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:GSe},336:{T:-1},337:{f:JSe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:uT},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Zje},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:zTe},427:{f:qTe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:VTe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:ZNe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:FTe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:uT},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:aCe},633:{T:1},634:{T:-1},635:{T:1,f:rCe},636:{T:-1},637:{f:lje},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:cAe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:JTe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function ft(t,e,n,r){var s=e;if(!isNaN(s)){var i=r||(n||[]).length||0,o=t.next(4);o.write_shift(2,s),o.write_shift(2,i),i>0&&_3(n)&&t.push(n)}}function GAe(t,e,n,r){var s=(n||[]).length||0;if(s<=8224)return ft(t,e,n,s);var i=e;if(!isNaN(i)){for(var o=n.parts||[],c=0,u=0,h=0;h+(o[c]||8224)<=8224;)h+=o[c]||8224,c++;var f=t.next(4);for(f.write_shift(2,i),f.write_shift(2,h),t.push(n.slice(u,u+h)),u+=h;u<s;){for(f=t.next(4),f.write_shift(2,60),h=0;h+(o[c]||8224)<=8224;)h+=o[c]||8224,c++;f.write_shift(2,h),t.push(n.slice(u,u+h)),u+=h}}}function Xy(t,e,n){return t||(t=ze(7)),t.write_shift(2,e),t.write_shift(2,n),t.write_shift(2,0),t.write_shift(1,0),t}function WAe(t,e,n,r){var s=ze(9);return Xy(s,t,e),LG(n,r||"b",s),s}function KAe(t,e,n){var r=ze(8+2*n.length);return Xy(r,t,e),r.write_shift(1,n.length),r.write_shift(n.length,n,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function YAe(t,e,n,r){if(e.v!=null)switch(e.t){case"d":case"n":var s=e.t=="d"?Ei(ri(e.v)):e.v;s==(s|0)&&s>=0&&s<65536?ft(t,2,cSe(n,r,s)):ft(t,3,lSe(n,r,s));return;case"b":case"e":ft(t,5,WAe(n,r,e.v,e.t));return;case"s":case"str":ft(t,4,KAe(n,r,(e.v||"").slice(0,255)));return}ft(t,1,Xy(null,n,r))}function XAe(t,e,n,r){var s=Array.isArray(e),i=Ar(e["!ref"]||"A1"),o,c="",u=[];if(i.e.c>255||i.e.r>16383){if(r.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),o=As(i)}for(var h=i.s.r;h<=i.e.r;++h){c=_a(h);for(var f=i.s.c;f<=i.e.c;++f){h===i.s.r&&(u[f]=Fa(f)),o=u[f]+c;var g=s?(e[h]||[])[f]:e[o];g&&YAe(t,g,h,f)}}}function JAe(t,e){for(var n=e||{},r=_i(),s=0,i=0;i<t.SheetNames.length;++i)t.SheetNames[i]==n.sheet&&(s=i);if(s==0&&n.sheet&&t.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return ft(r,n.biff==4?1033:n.biff==3?521:9,T3(t,16,n)),XAe(r,t.Sheets[t.SheetNames[s]],s,n),ft(r,10),r.end()}function QAe(t,e,n){ft(t,49,Hje({sz:12,name:"Arial"},n))}function ZAe(t,e,n){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var s=r[0];s<=r[1];++s)e[s]!=null&&ft(t,1054,Kje(s,e[s],n))})}function eLe(t,e){var n=ze(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),ft(t,2151,n),n=ze(39),n.write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),OG(Ar(e["!ref"]||"A1"),n),n.write_shift(4,4),ft(t,2152,n)}function tLe(t,e){for(var n=0;n<16;++n)ft(t,224,KM({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(r){ft(t,224,KM(r,0,e))})}function nLe(t,e){for(var n=0;n<e["!links"].length;++n){var r=e["!links"][n];ft(t,440,nSe(r)),r[1].Tooltip&&ft(t,2048,rSe(r))}delete e["!links"]}function rLe(t,e){if(e){var n=0;e.forEach(function(r,s){++n<=256&&r&&ft(t,125,iSe(Gw(s,r),s))})}}function sLe(t,e,n,r,s){var i=16+Cd(s.cellXfs,e,s);if(e.v==null&&!e.bf){ft(t,513,Rh(n,r,i));return}if(e.bf)ft(t,6,TNe(e,n,r,s,i));else switch(e.t){case"d":case"n":var o=e.t=="d"?Ei(ri(e.v)):e.v;ft(t,515,Qje(n,r,o,i));break;case"b":case"e":ft(t,517,Jje(n,r,e.v,i,s,e.t));break;case"s":case"str":if(s.bookSST){var c=O3(s.Strings,e.v,s.revStrings);ft(t,253,Gje(n,r,c,i))}else ft(t,516,Wje(n,r,(e.v||"").slice(0,255),i,s));break;default:ft(t,513,Rh(n,r,i))}}function aLe(t,e,n){var r=_i(),s=n.SheetNames[t],i=n.Sheets[s]||{},o=(n||{}).Workbook||{},c=(o.Sheets||[])[t]||{},u=Array.isArray(i),h=e.biff==8,f,g="",p=[],y=Ar(i["!ref"]||"A1"),w=h?65536:16384;if(y.e.c>255||y.e.r>=w){if(e.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");y.e.c=Math.min(y.e.c,255),y.e.r=Math.min(y.e.c,w-1)}ft(r,2057,T3(n,16,e)),ft(r,13,_o(1)),ft(r,12,_o(100)),ft(r,15,ti(!0)),ft(r,17,ti(!1)),ft(r,16,Lh(.001)),ft(r,95,ti(!0)),ft(r,42,ti(!1)),ft(r,43,ti(!1)),ft(r,130,_o(1)),ft(r,128,Xje()),ft(r,131,ti(!1)),ft(r,132,ti(!1)),h&&rLe(r,i["!cols"]),ft(r,512,Yje(y,e)),h&&(i["!links"]=[]);for(var E=y.s.r;E<=y.e.r;++E){g=_a(E);for(var j=y.s.c;j<=y.e.c;++j){E===y.s.r&&(p[j]=Fa(j)),f=p[j]+g;var C=u?(i[E]||[])[j]:i[f];C&&(sLe(r,C,E,j,e),h&&C.l&&i["!links"].push([f,C.l]))}}var O=c.CodeName||c.name||s;return h&&ft(r,574,Vje((o.Views||[])[0])),h&&(i["!merges"]||[]).length&&ft(r,229,tSe(i["!merges"])),h&&nLe(r,i),ft(r,442,kG(O)),h&&eLe(r,i),ft(r,10),r.end()}function iLe(t,e,n){var r=_i(),s=(t||{}).Workbook||{},i=s.Sheets||[],o=s.WBProps||{},c=n.biff==8,u=n.biff==5;if(ft(r,2057,T3(t,5,n)),n.bookType=="xla"&&ft(r,135),ft(r,225,c?_o(1200):null),ft(r,193,Rje(2)),u&&ft(r,191),u&&ft(r,192),ft(r,226),ft(r,92,Uje("SheetJS",n)),ft(r,66,_o(c?1200:1252)),c&&ft(r,353,_o(0)),c&&ft(r,448),ft(r,317,oSe(t.SheetNames.length)),c&&t.vbaraw&&ft(r,211),c&&t.vbaraw){var h=o.CodeName||"ThisWorkbook";ft(r,442,kG(h))}ft(r,156,_o(17)),ft(r,25,ti(!1)),ft(r,18,ti(!1)),ft(r,19,_o(0)),c&&ft(r,431,ti(!1)),c&&ft(r,444,_o(0)),ft(r,61,$je()),ft(r,64,ti(!1)),ft(r,141,_o(0)),ft(r,34,ti(dAe(t)=="true")),ft(r,14,ti(!0)),c&&ft(r,439,ti(!1)),ft(r,218,_o(0)),QAe(r,t,n),ZAe(r,t.SSF,n),tLe(r,n),c&&ft(r,352,ti(!1));var f=r.end(),g=_i();c&&ft(g,140,sSe()),c&&n.Strings&&GAe(g,252,qje(n.Strings)),ft(g,10);var p=g.end(),y=_i(),w=0,E=0;for(E=0;E<t.SheetNames.length;++E)w+=(c?12:11)+(c?2:1)*t.SheetNames[E].length;var j=f.length+w+p.length;for(E=0;E<t.SheetNames.length;++E){var C=i[E]||{};ft(y,133,zje({pos:j,hs:C.Hidden||0,dt:0,name:t.SheetNames[E]},n)),j+=e[E].length}var O=y.end();if(w!=O.length)throw new Error("BS8 "+w+" != "+O.length);var I=[];return f.length&&I.push(f),O.length&&I.push(O),p.length&&I.push(p),xa(I)}function oLe(t,e){var n=e||{},r=[];t&&!t.SSF&&(t.SSF=ji(us)),t&&t.SSF&&(zw(),Uw(t.SSF),n.revssf=qw(t.SSF),n.revssf[t.SSF[65535]]=0,n.ssf=t.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,I3(n),n.cellXfs=[],Cd(n.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var s=0;s<t.SheetNames.length;++s)r[r.length]=aLe(s,n,t);return r.unshift(iLe(t,r,n)),xa(r)}function aW(t,e){for(var n=0;n<=t.SheetNames.length;++n){var r=t.Sheets[t.SheetNames[n]];if(!(!r||!r["!ref"])){var s=Xi(r["!ref"]);s.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[n]+"' extends beyond column IV (255).  Data may be lost.")}}var i=e||{};switch(i.biff||2){case 8:case 5:return oLe(t,e);case 4:case 3:case 2:return JAe(t,e)}throw new Error("invalid type "+i.bookType+" for BIFF")}function lLe(t,e,n,r){for(var s=t["!merges"]||[],i=[],o=e.s.c;o<=e.e.c;++o){for(var c=0,u=0,h=0;h<s.length;++h)if(!(s[h].s.r>n||s[h].s.c>o)&&!(s[h].e.r<n||s[h].e.c<o)){if(s[h].s.r<n||s[h].s.c<o){c=-1;break}c=s[h].e.r-s[h].s.r+1,u=s[h].e.c-s[h].s.c+1;break}if(!(c<0)){var f=cr({r:n,c:o}),g=r.dense?(t[n]||[])[o]:t[f],p=g&&g.v!=null&&(g.h||BEe(g.w||(tu(g),g.w)||""))||"",y={};c>1&&(y.rowspan=c),u>1&&(y.colspan=u),r.editable?p='<span contenteditable="true">'+p+"</span>":g&&(y["data-t"]=g&&g.t||"z",g.v!=null&&(y["data-v"]=g.v),g.z!=null&&(y["data-z"]=g.z),g.l&&(g.l.Target||"#").charAt(0)!="#"&&(p='<a href="'+g.l.Target+'">'+p+"</a>")),y.id=(r.id||"sjs")+"-"+f,i.push(dt("td",p,y))}}var w="<tr>";return w+i.join("")+"</tr>"}var cLe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',uLe="</body></html>";function dLe(t,e,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function iW(t,e){var n=e||{},r=n.header!=null?n.header:cLe,s=n.footer!=null?n.footer:uLe,i=[r],o=Xi(t["!ref"]);n.dense=Array.isArray(t),i.push(dLe(t,o,n));for(var c=o.s.r;c<=o.e.r;++c)i.push(lLe(t,o,c,n));return i.push("</table>"+s),i.join("")}function oW(t,e,n){var r=n||{},s=0,i=0;if(r.origin!=null)if(typeof r.origin=="number")s=r.origin;else{var o=typeof r.origin=="string"?Qs(r.origin):r.origin;s=o.r,i=o.c}var c=e.getElementsByTagName("tr"),u=Math.min(r.sheetRows||1e7,c.length),h={s:{r:0,c:0},e:{r:s,c:i}};if(t["!ref"]){var f=Xi(t["!ref"]);h.s.r=Math.min(h.s.r,f.s.r),h.s.c=Math.min(h.s.c,f.s.c),h.e.r=Math.max(h.e.r,f.e.r),h.e.c=Math.max(h.e.c,f.e.c),s==-1&&(h.e.r=s=f.e.r+1)}var g=[],p=0,y=t["!rows"]||(t["!rows"]=[]),w=0,E=0,j=0,C=0,O=0,I=0;for(t["!cols"]||(t["!cols"]=[]);w<c.length&&E<u;++w){var D=c[w];if(t8(D)){if(r.display)continue;y[E]={hidden:!0}}var T=D.children;for(j=C=0;j<T.length;++j){var F=T[j];if(!(r.display&&t8(F))){var _=F.hasAttribute("data-v")?F.getAttribute("data-v"):F.hasAttribute("v")?F.getAttribute("v"):$Ee(F.innerHTML),R=F.getAttribute("data-z")||F.getAttribute("z");for(p=0;p<g.length;++p){var b=g[p];b.s.c==C+i&&b.s.r<E+s&&E+s<=b.e.r&&(C=b.e.c+1-i,p=-1)}I=+F.getAttribute("colspan")||1,((O=+F.getAttribute("rowspan")||1)>1||I>1)&&g.push({s:{r:E+s,c:C+i},e:{r:E+s+(O||1)-1,c:C+i+(I||1)-1}});var A={t:"s",v:_},L=F.getAttribute("data-t")||F.getAttribute("t")||"";_!=null&&(_.length==0?A.t=L||"z":r.raw||_.trim().length==0||L=="s"||(_==="TRUE"?A={t:"b",v:!0}:_==="FALSE"?A={t:"b",v:!1}:isNaN(zc(_))?isNaN(X0(_).getDate())||(A={t:"d",v:ri(_)},r.cellDates||(A={t:"n",v:Ei(A.v)}),A.z=r.dateNF||us[14]):A={t:"n",v:zc(_)})),A.z===void 0&&R!=null&&(A.z=R);var U="",P=F.getElementsByTagName("A");if(P&&P.length)for(var K=0;K<P.length&&!(P[K].hasAttribute("href")&&(U=P[K].getAttribute("href"),U.charAt(0)!="#"));++K);U&&U.charAt(0)!="#"&&(A.l={Target:U}),r.dense?(t[E+s]||(t[E+s]=[]),t[E+s][C+i]=A):t[cr({c:C+i,r:E+s})]=A,h.e.c<C+i&&(h.e.c=C+i),C+=I}}++E}return g.length&&(t["!merges"]=(t["!merges"]||[]).concat(g)),h.e.r=Math.max(h.e.r,E-1+s),t["!ref"]=As(h),E>=u&&(t["!fullref"]=As((h.e.r=c.length-w+E-1+s,h))),t}function lW(t,e){var n=e||{},r=n.dense?[]:{};return oW(r,t,e)}function hLe(t,e){return Jh(lW(t,e),e)}function t8(t){var e="",n=fLe(t);return n&&(e=n(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function fLe(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var mLe=function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+Q0({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return Ls+e}}(),n8=function(){var t=function(i){return lr(i).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,n=`          <table:covered-table-cell/>
`,r=function(i,o,c){var u=[];u.push('      <table:table table:name="'+lr(o.SheetNames[c])+`" table:style-name="ta1">
`);var h=0,f=0,g=Xi(i["!ref"]||"A1"),p=i["!merges"]||[],y=0,w=Array.isArray(i);if(i["!cols"])for(f=0;f<=g.e.c;++f)u.push("        <table:table-column"+(i["!cols"][f]?' table:style-name="co'+i["!cols"][f].ods+'"':"")+`></table:table-column>
`);var E="",j=i["!rows"]||[];for(h=0;h<g.s.r;++h)E=j[h]?' table:style-name="ro'+j[h].ods+'"':"",u.push("        <table:table-row"+E+`></table:table-row>
`);for(;h<=g.e.r;++h){for(E=j[h]?' table:style-name="ro'+j[h].ods+'"':"",u.push("        <table:table-row"+E+`>
`),f=0;f<g.s.c;++f)u.push(e);for(;f<=g.e.c;++f){var C=!1,O={},I="";for(y=0;y!=p.length;++y)if(!(p[y].s.c>f)&&!(p[y].s.r>h)&&!(p[y].e.c<f)&&!(p[y].e.r<h)){(p[y].s.c!=f||p[y].s.r!=h)&&(C=!0),O["table:number-columns-spanned"]=p[y].e.c-p[y].s.c+1,O["table:number-rows-spanned"]=p[y].e.r-p[y].s.r+1;break}if(C){u.push(n);continue}var D=cr({r:h,c:f}),T=w?(i[h]||[])[f]:i[D];if(T&&T.f&&(O["table:formula"]=lr(INe(T.f)),T.F&&T.F.slice(0,D.length)==D)){var F=Xi(T.F);O["table:number-matrix-columns-spanned"]=F.e.c-F.s.c+1,O["table:number-matrix-rows-spanned"]=F.e.r-F.s.r+1}if(!T){u.push(e);continue}switch(T.t){case"b":I=T.v?"TRUE":"FALSE",O["office:value-type"]="boolean",O["office:boolean-value"]=T.v?"true":"false";break;case"n":I=T.w||String(T.v||0),O["office:value-type"]="float",O["office:value"]=T.v||0;break;case"s":case"str":I=T.v==null?"":T.v,O["office:value-type"]="string";break;case"d":I=T.w||ri(T.v).toISOString(),O["office:value-type"]="date",O["office:date-value"]=ri(T.v).toISOString(),O["table:style-name"]="ce1";break;default:u.push(e);continue}var _=t(I);if(T.l&&T.l.Target){var R=T.l.Target;R=R.charAt(0)=="#"?"#"+PNe(R.slice(1)):R,R.charAt(0)!="#"&&!R.match(/^\w+:/)&&(R="../"+R),_=dt("text:a",_,{"xlink:href":R.replace(/&/g,"&amp;")})}u.push("          "+dt("table:table-cell",dt("text:p",_,{}),O)+`
`)}u.push(`        </table:table-row>
`)}return u.push(`      </table:table>
`),u.join("")},s=function(i,o){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var c=0;o.SheetNames.map(function(h){return o.Sheets[h]}).forEach(function(h){if(h&&h["!cols"]){for(var f=0;f<h["!cols"].length;++f)if(h["!cols"][f]){var g=h["!cols"][f];if(g.width==null&&g.wpx==null&&g.wch==null)continue;A3(g),g.ods=c;var p=h["!cols"][f].wpx+"px";i.push('  <style:style style:name="co'+c+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+p+`"/>
`),i.push(`  </style:style>
`),++c}}});var u=0;o.SheetNames.map(function(h){return o.Sheets[h]}).forEach(function(h){if(h&&h["!rows"]){for(var f=0;f<h["!rows"].length;++f)if(h["!rows"][f]){h["!rows"][f].ods=u;var g=h["!rows"][f].hpx+"px";i.push('  <style:style style:name="ro'+u+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+g+`"/>
`),i.push(`  </style:style>
`),++u}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(o,c){var u=[Ls],h=Q0({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),f=Q0({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});c.bookType=="fods"?(u.push("<office:document"+h+f+`>
`),u.push(EG().replace(/office:document-meta/g,"office:meta"))):u.push("<office:document-content"+h+`>
`),s(u,o),u.push(`  <office:body>
`),u.push(`    <office:spreadsheet>
`);for(var g=0;g!=o.SheetNames.length;++g)u.push(r(o.Sheets[o.SheetNames[g]],o,g));return u.push(`    </office:spreadsheet>
`),u.push(`  </office:body>
`),c.bookType=="fods"?u.push("</office:document>"):u.push("</office:document-content>"),u.join("")}}();function cW(t,e){if(e.bookType=="fods")return n8(t,e);var n=v3(),r="",s=[],i=[];return r="mimetype",xn(n,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",xn(n,r,n8(t,e)),s.push([r,"text/xml"]),i.push([r,"ContentFile"]),r="styles.xml",xn(n,r,mLe(t,e)),s.push([r,"text/xml"]),i.push([r,"StylesFile"]),r="meta.xml",xn(n,r,Ls+EG()),s.push([r,"text/xml"]),i.push([r,"MetadataFile"]),r="manifest.rdf",xn(n,r,Cje(i)),s.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",xn(n,r,jje(s)),n}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function b1(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function pLe(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):rl(J0(t))}function gLe(t,e){e:for(var n=0;n<=t.length-e.length;++n){for(var r=0;r<e.length;++r)if(t[n+r]!=e[r])continue e;return!0}return!1}function bd(t){var e=t.reduce(function(s,i){return s+i.length},0),n=new Uint8Array(e),r=0;return t.forEach(function(s){n.set(s,r),r+=s.length}),n}function yLe(t,e,n){var r=Math.floor(n==0?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,s=n/Math.pow(10,r-6176);t[e+15]|=r>>7,t[e+14]|=(r&127)<<1;for(var i=0;s>=1;++i,s/=256)t[e+i]=s&255;t[e+15]|=n>=0?0:128}function Z0(t,e){var n=e?e[0]:0,r=t[n]&127;e:if(t[n++]>=128&&(r|=(t[n]&127)<<7,t[n++]<128||(r|=(t[n]&127)<<14,t[n++]<128)||(r|=(t[n]&127)<<21,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,28),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,35),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,42),++n,t[n++]<128)))break e;return e&&(e[0]=n),r}function ir(t){var e=new Uint8Array(7);e[0]=t&127;var n=1;e:if(t>127){if(e[n-1]|=128,e[n]=t>>7&127,++n,t<=16383||(e[n-1]|=128,e[n]=t>>14&127,++n,t<=2097151)||(e[n-1]|=128,e[n]=t>>21&127,++n,t<=268435455)||(e[n-1]|=128,e[n]=t/256>>>21&127,++n,t<=34359738367)||(e[n-1]|=128,e[n]=t/65536>>>21&127,++n,t<=4398046511103))break e;e[n-1]|=128,e[n]=t/16777216>>>21&127,++n}return e.slice(0,n)}function xm(t){var e=0,n=t[e]&127;e:if(t[e++]>=128){if(n|=(t[e]&127)<<7,t[e++]<128||(n|=(t[e]&127)<<14,t[e++]<128)||(n|=(t[e]&127)<<21,t[e++]<128))break e;n|=(t[e]&127)<<28}return n}function Fs(t){for(var e=[],n=[0];n[0]<t.length;){var r=n[0],s=Z0(t,n),i=s&7;s=Math.floor(s/8);var o=0,c;if(s==0)break;switch(i){case 0:{for(var u=n[0];t[n[0]++]>=128;);c=t.slice(u,n[0])}break;case 5:o=4,c=t.slice(n[0],n[0]+o),n[0]+=o;break;case 1:o=8,c=t.slice(n[0],n[0]+o),n[0]+=o;break;case 2:o=Z0(t,n),c=t.slice(n[0],n[0]+o),n[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(s," at offset ").concat(r))}var h={data:c,type:i};e[s]==null?e[s]=[h]:e[s].push(h)}return e}function ma(t){var e=[];return t.forEach(function(n,r){n.forEach(function(s){s.data&&(e.push(ir(r*8+s.type)),s.type==2&&e.push(ir(s.data.length)),e.push(s.data))})}),bd(e)}function Xo(t){for(var e,n=[],r=[0];r[0]<t.length;){var s=Z0(t,r),i=Fs(t.slice(r[0],r[0]+s));r[0]+=s;var o={id:xm(i[1][0].data),messages:[]};i[2].forEach(function(c){var u=Fs(c.data),h=xm(u[3][0].data);o.messages.push({meta:u,data:t.slice(r[0],r[0]+h)}),r[0]+=h}),(e=i[3])!=null&&e[0]&&(o.merge=xm(i[3][0].data)>>>0>0),n.push(o)}return n}function Mf(t){var e=[];return t.forEach(function(n){var r=[];r[1]=[{data:ir(n.id),type:0}],r[2]=[],n.merge!=null&&(r[3]=[{data:ir(+!!n.merge),type:0}]);var s=[];n.messages.forEach(function(o){s.push(o.data),o.meta[3]=[{type:0,data:ir(o.data.length)}],r[2].push({data:ma(o.meta),type:2})});var i=ma(r);e.push(ir(i.length)),e.push(i),s.forEach(function(o){return e.push(o)})}),bd(e)}function vLe(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var n=[0],r=Z0(e,n),s=[];n[0]<e.length;){var i=e[n[0]]&3;if(i==0){var o=e[n[0]++]>>2;if(o<60)++o;else{var c=o-59;o=e[n[0]],c>1&&(o|=e[n[0]+1]<<8),c>2&&(o|=e[n[0]+2]<<16),c>3&&(o|=e[n[0]+3]<<24),o>>>=0,o++,n[0]+=c}s.push(e.slice(n[0],n[0]+o)),n[0]+=o;continue}else{var u=0,h=0;if(i==1?(h=(e[n[0]]>>2&7)+4,u=(e[n[0]++]&224)<<3,u|=e[n[0]++]):(h=(e[n[0]++]>>2)+1,i==2?(u=e[n[0]]|e[n[0]+1]<<8,n[0]+=2):(u=(e[n[0]]|e[n[0]+1]<<8|e[n[0]+2]<<16|e[n[0]+3]<<24)>>>0,n[0]+=4)),s=[bd(s)],u==0)throw new Error("Invalid offset 0");if(u>s[0].length)throw new Error("Invalid offset beyond length");if(h>=u)for(s.push(s[0].slice(-u)),h-=u;h>=s[s.length-1].length;)s.push(s[s.length-1]),h-=s[s.length-1].length;s.push(s[0].slice(-u,-u+h))}}var f=bd(s);if(f.length!=r)throw new Error("Unexpected length: ".concat(f.length," != ").concat(r));return f}function Jo(t){for(var e=[],n=0;n<t.length;){var r=t[n++],s=t[n]|t[n+1]<<8|t[n+2]<<16;n+=3,e.push(vLe(r,t.slice(n,n+s))),n+=s}if(n!==t.length)throw new Error("data is not a valid framed stream!");return bd(e)}function Ff(t){for(var e=[],n=0;n<t.length;){var r=Math.min(t.length-n,268435455),s=new Uint8Array(4);e.push(s);var i=ir(r),o=i.length;e.push(i),r<=60?(o++,e.push(new Uint8Array([r-1<<2]))):r<=256?(o+=2,e.push(new Uint8Array([240,r-1&255]))):r<=65536?(o+=3,e.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(o+=4,e.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(o+=5,e.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),e.push(t.slice(n,n+r)),o+=r,s[0]=0,s[1]=o&255,s[2]=o>>8&255,s[3]=o>>16&255,n+=r}return bd(e)}function kS(t,e){var n=new Uint8Array(32),r=b1(n),s=12,i=0;switch(n[0]=5,t.t){case"n":n[1]=2,yLe(n,s,t.v),i|=1,s+=16;break;case"b":n[1]=6,r.setFloat64(s,t.v?1:0,!0),i|=2,s+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[1]=3,r.setUint32(s,e.indexOf(t.v),!0),i|=8,s+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(8,i,!0),n.slice(0,s)}function OS(t,e){var n=new Uint8Array(32),r=b1(n),s=12,i=0;switch(n[0]=3,t.t){case"n":n[2]=2,r.setFloat64(s,t.v,!0),i|=32,s+=8;break;case"b":n[2]=6,r.setFloat64(s,t.v?1:0,!0),i|=32,s+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[2]=3,r.setUint32(s,e.indexOf(t.v),!0),i|=16,s+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(4,i,!0),n.slice(0,s)}function Iu(t){var e=Fs(t);return Z0(e[1][0].data)}function xLe(t,e,n){var r,s,i,o;if(!((r=t[6])!=null&&r[0])||!((s=t[7])!=null&&s[0]))throw"Mutation only works on post-BNC storages!";var c=((o=(i=t[8])==null?void 0:i[0])==null?void 0:o.data)&&xm(t[8][0].data)>0||!1;if(c)throw"Math only works with normal offsets";for(var u=0,h=b1(t[7][0].data),f=0,g=[],p=b1(t[4][0].data),y=0,w=[],E=0;E<e.length;++E){if(e[E]==null){h.setUint16(E*2,65535,!0),p.setUint16(E*2,65535);continue}h.setUint16(E*2,f,!0),p.setUint16(E*2,y,!0);var j,C;switch(typeof e[E]){case"string":j=kS({t:"s",v:e[E]},n),C=OS({t:"s",v:e[E]},n);break;case"number":j=kS({t:"n",v:e[E]},n),C=OS({t:"n",v:e[E]},n);break;case"boolean":j=kS({t:"b",v:e[E]},n),C=OS({t:"b",v:e[E]},n);break;default:throw new Error("Unsupported value "+e[E])}g.push(j),f+=j.length,w.push(C),y+=C.length,++u}for(t[2][0].data=ir(u);E<t[7][0].data.length/2;++E)h.setUint16(E*2,65535,!0),p.setUint16(E*2,65535,!0);return t[6][0].data=bd(g),t[3][0].data=bd(w),u}function bLe(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=Xi(n["!ref"]);r.s.r=r.s.c=0;var s=!1;r.e.c>9&&(s=!0,r.e.c=9),r.e.r>49&&(s=!0,r.e.r=49),s&&console.error("The Numbers writer is currently limited to ".concat(As(r)));var i=w1(n,{range:r,header:1}),o=["~Sh33tJ5~"];i.forEach(function(ne){return ne.forEach(function(te){typeof te=="string"&&o.push(te)})});var c={},u=[],h=fr.read(e.numbers,{type:"base64"});h.FileIndex.map(function(ne,te){return[ne,h.FullPaths[te]]}).forEach(function(ne){var te=ne[0],X=ne[1];if(te.type==2&&te.name.match(/\.iwa/)){var xe=te.content,Ne=Jo(xe),je=Xo(Ne);je.forEach(function(Ie){u.push(Ie.id),c[Ie.id]={deps:[],location:X,type:xm(Ie.messages[0].meta[1][0].data)}})}}),u.sort(function(ne,te){return ne-te});var f=u.filter(function(ne){return ne>1}).map(function(ne){return[ne,ir(ne)]});h.FileIndex.map(function(ne,te){return[ne,h.FullPaths[te]]}).forEach(function(ne){var te=ne[0];if(ne[1],!!te.name.match(/\.iwa/)){var X=Xo(Jo(te.content));X.forEach(function(xe){xe.messages.forEach(function(Ne){f.forEach(function(je){xe.messages.some(function(Ie){return xm(Ie.meta[1][0].data)!=11006&&gLe(Ie.data,je[1])})&&c[je[0]].deps.push(xe.id)})})})}});for(var g=fr.find(h,c[1].location),p=Xo(Jo(g.content)),y,w=0;w<p.length;++w){var E=p[w];E.id==1&&(y=E)}var j=Iu(Fs(y.messages[0].data)[1][0].data);for(g=fr.find(h,c[j].location),p=Xo(Jo(g.content)),w=0;w<p.length;++w)E=p[w],E.id==j&&(y=E);for(j=Iu(Fs(y.messages[0].data)[2][0].data),g=fr.find(h,c[j].location),p=Xo(Jo(g.content)),w=0;w<p.length;++w)E=p[w],E.id==j&&(y=E);for(j=Iu(Fs(y.messages[0].data)[2][0].data),g=fr.find(h,c[j].location),p=Xo(Jo(g.content)),w=0;w<p.length;++w)E=p[w],E.id==j&&(y=E);var C=Fs(y.messages[0].data);{C[6][0].data=ir(r.e.r+1),C[7][0].data=ir(r.e.c+1);var O=Iu(C[46][0].data),I=fr.find(h,c[O].location),D=Xo(Jo(I.content));{for(var T=0;T<D.length&&D[T].id!=O;++T);if(D[T].id!=O)throw"Bad ColumnRowUIDMapArchive";var F=Fs(D[T].messages[0].data);F[1]=[],F[2]=[],F[3]=[];for(var _=0;_<=r.e.c;++_){var R=[];R[1]=R[2]=[{type:0,data:ir(_+420690)}],F[1].push({type:2,data:ma(R)}),F[2].push({type:0,data:ir(_)}),F[3].push({type:0,data:ir(_)})}F[4]=[],F[5]=[],F[6]=[];for(var b=0;b<=r.e.r;++b)R=[],R[1]=R[2]=[{type:0,data:ir(b+726270)}],F[4].push({type:2,data:ma(R)}),F[5].push({type:0,data:ir(b)}),F[6].push({type:0,data:ir(b)});D[T].messages[0].data=ma(F)}I.content=Ff(Mf(D)),I.size=I.content.length,delete C[46];var A=Fs(C[4][0].data);{A[7][0].data=ir(r.e.r+1);var L=Fs(A[1][0].data),U=Iu(L[2][0].data);I=fr.find(h,c[U].location),D=Xo(Jo(I.content));{if(D[0].id!=U)throw"Bad HeaderStorageBucket";var P=Fs(D[0].messages[0].data);for(b=0;b<i.length;++b){var K=Fs(P[2][0].data);K[1][0].data=ir(b),K[4][0].data=ir(i[b].length),P[2][b]={type:P[2][0].type,data:ma(K)}}D[0].messages[0].data=ma(P)}I.content=Ff(Mf(D)),I.size=I.content.length;var G=Iu(A[2][0].data);I=fr.find(h,c[G].location),D=Xo(Jo(I.content));{if(D[0].id!=G)throw"Bad HeaderStorageBucket";for(P=Fs(D[0].messages[0].data),_=0;_<=r.e.c;++_)K=Fs(P[2][0].data),K[1][0].data=ir(_),K[4][0].data=ir(r.e.r+1),P[2][_]={type:P[2][0].type,data:ma(K)};D[0].messages[0].data=ma(P)}I.content=Ff(Mf(D)),I.size=I.content.length;var re=Iu(A[4][0].data);(function(){for(var ne=fr.find(h,c[re].location),te=Xo(Jo(ne.content)),X,xe=0;xe<te.length;++xe){var Ne=te[xe];Ne.id==re&&(X=Ne)}var je=Fs(X.messages[0].data);{je[3]=[];var Ie=[];o.forEach(function(tt,ct){Ie[1]=[{type:0,data:ir(ct)}],Ie[2]=[{type:0,data:ir(1)}],Ie[3]=[{type:2,data:pLe(tt)}],je[3].push({type:2,data:ma(Ie)})})}X.messages[0].data=ma(je);var _e=Mf(te),Ue=Ff(_e);ne.content=Ue,ne.size=ne.content.length})();var Z=Fs(A[3][0].data);{var me=Z[1][0];delete Z[2];var ie=Fs(me.data);{var W=Iu(ie[2][0].data);(function(){for(var ne=fr.find(h,c[W].location),te=Xo(Jo(ne.content)),X,xe=0;xe<te.length;++xe){var Ne=te[xe];Ne.id==W&&(X=Ne)}var je=Fs(X.messages[0].data);{delete je[6],delete Z[7];var Ie=new Uint8Array(je[5][0].data);je[5]=[];for(var _e=0,Ue=0;Ue<=r.e.r;++Ue){var tt=Fs(Ie);_e+=xLe(tt,i[Ue],o),tt[1][0].data=ir(Ue),je[5].push({data:ma(tt),type:2})}je[1]=[{type:0,data:ir(r.e.c+1)}],je[2]=[{type:0,data:ir(r.e.r+1)}],je[3]=[{type:0,data:ir(_e)}],je[4]=[{type:0,data:ir(r.e.r+1)}]}X.messages[0].data=ma(je);var ct=Mf(te),ut=Ff(ct);ne.content=ut,ne.size=ne.content.length})()}me.data=ma(ie)}A[3][0].data=ma(Z)}C[4][0].data=ma(A)}y.messages[0].data=ma(C);var ye=Mf(p),Q=Ff(ye);return g.content=Q,g.size=g.content.length,h}function wLe(t){return function(n){for(var r=0;r!=t.length;++r){var s=t[r];n[s[0]]===void 0&&(n[s[0]]=s[1]),s[2]==="n"&&(n[s[0]]=Number(n[s[0]]))}}}function I3(t){wLe([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function _Le(t,e){return e.bookType=="ods"?cW(t,e):e.bookType=="numbers"?bLe(t,e):e.bookType=="xlsb"?ELe(t,e):jLe(t,e)}function ELe(t,e){nm=1024,t&&!t.SSF&&(t.SSF=ji(us)),t&&t.SSF&&(zw(),Uw(t.SSF),e.revssf=qw(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,f0?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n=e.bookType=="xlsb"?"bin":"xml",r=HG.indexOf(e.bookType)>-1,s=bG();I3(e=e||{});var i=v3(),o="",c=0;if(e.cellXfs=[],Cd(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),o="docProps/core.xml",xn(i,o,jG(t.Props,e)),s.coreprops.push(o),or(e.rels,2,o,Yn.CORE_PROPS),o="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var u=[],h=0;h<t.SheetNames.length;++h)(t.Workbook.Sheets[h]||{}).Hidden!=2&&u.push(t.SheetNames[h]);t.Props.SheetNames=u}for(t.Props.Worksheets=t.Props.SheetNames.length,xn(i,o,CG(t.Props)),s.extprops.push(o),or(e.rels,3,o,Yn.EXT_PROPS),t.Custprops!==t.Props&&ja(t.Custprops||{}).length>0&&(o="docProps/custom.xml",xn(i,o,NG(t.Custprops)),s.custprops.push(o),or(e.rels,4,o,Yn.CUST_PROPS)),c=1;c<=t.SheetNames.length;++c){var f={"!id":{}},g=t.Sheets[t.SheetNames[c-1]],p=(g||{})["!type"]||"sheet";switch(p){case"chart":default:o="xl/worksheets/sheet"+c+"."+n,xn(i,o,CAe(c-1,o,e,t,f)),s.sheets.push(o),or(e.wbrels,-1,"worksheets/sheet"+c+"."+n,Yn.WS[0])}if(g){var y=g["!comments"],w=!1,E="";y&&y.length>0&&(E="xl/comments"+c+"."+n,xn(i,E,AAe(y,E)),s.comments.push(E),or(f,-1,"../comments"+c+"."+n,Yn.CMNT),w=!0),g["!legacy"]&&w&&xn(i,"xl/drawings/vmlDrawing"+c+".vml",$G(c,g["!comments"])),delete g["!comments"],delete g["!legacy"]}f["!id"].rId1&&xn(i,_G(o),ym(f))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+n,xn(i,o,TAe(e.Strings,o,e)),s.strs.push(o),or(e.wbrels,-1,"sharedStrings."+n,Yn.SST)),o="xl/workbook."+n,xn(i,o,SAe(t,o)),s.workbooks.push(o),or(e.rels,1,o,Yn.WB),o="xl/theme/theme1.xml",xn(i,o,zG(t.Themes,e)),s.themes.push(o),or(e.wbrels,-1,"theme/theme1.xml",Yn.THEME),o="xl/styles."+n,xn(i,o,NAe(t,o,e)),s.styles.push(o),or(e.wbrels,-1,"styles."+n,Yn.STY),t.vbaraw&&r&&(o="xl/vbaProject.bin",xn(i,o,t.vbaraw),s.vba.push(o),or(e.wbrels,-1,"vbaProject.bin",Yn.VBA)),o="xl/metadata."+n,xn(i,o,LAe(o)),s.metadata.push(o),or(e.wbrels,-1,"metadata."+n,Yn.XLMETA),xn(i,"[Content_Types].xml",wG(s,e)),xn(i,"_rels/.rels",ym(e.rels)),xn(i,"xl/_rels/workbook."+n+".rels",ym(e.wbrels)),delete e.revssf,delete e.ssf,i}function jLe(t,e){nm=1024,t&&!t.SSF&&(t.SSF=ji(us)),t&&t.SSF&&(zw(),Uw(t.SSF),e.revssf=qw(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,f0?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n="xml",r=HG.indexOf(e.bookType)>-1,s=bG();I3(e=e||{});var i=v3(),o="",c=0;if(e.cellXfs=[],Cd(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),o="docProps/core.xml",xn(i,o,jG(t.Props,e)),s.coreprops.push(o),or(e.rels,2,o,Yn.CORE_PROPS),o="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var u=[],h=0;h<t.SheetNames.length;++h)(t.Workbook.Sheets[h]||{}).Hidden!=2&&u.push(t.SheetNames[h]);t.Props.SheetNames=u}t.Props.Worksheets=t.Props.SheetNames.length,xn(i,o,CG(t.Props)),s.extprops.push(o),or(e.rels,3,o,Yn.EXT_PROPS),t.Custprops!==t.Props&&ja(t.Custprops||{}).length>0&&(o="docProps/custom.xml",xn(i,o,NG(t.Custprops)),s.custprops.push(o),or(e.rels,4,o,Yn.CUST_PROPS));var f=["SheetJ5"];for(e.tcid=0,c=1;c<=t.SheetNames.length;++c){var g={"!id":{}},p=t.Sheets[t.SheetNames[c-1]],y=(p||{})["!type"]||"sheet";switch(y){case"chart":default:o="xl/worksheets/sheet"+c+"."+n,xn(i,o,eW(c-1,e,t,g)),s.sheets.push(o),or(e.wbrels,-1,"worksheets/sheet"+c+"."+n,Yn.WS[0])}if(p){var w=p["!comments"],E=!1,j="";if(w&&w.length>0){var C=!1;w.forEach(function(O){O[1].forEach(function(I){I.T==!0&&(C=!0)})}),C&&(j="xl/threadedComments/threadedComment"+c+"."+n,xn(i,j,tCe(w,f,e)),s.threadedcomments.push(j),or(g,-1,"../threadedComments/threadedComment"+c+"."+n,Yn.TCMNT)),j="xl/comments"+c+"."+n,xn(i,j,VG(w)),s.comments.push(j),or(g,-1,"../comments"+c+"."+n,Yn.CMNT),E=!0}p["!legacy"]&&E&&xn(i,"xl/drawings/vmlDrawing"+c+".vml",$G(c,p["!comments"])),delete p["!comments"],delete p["!legacy"]}g["!id"].rId1&&xn(i,_G(o),ym(g))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+n,xn(i,o,PG(e.Strings,e)),s.strs.push(o),or(e.wbrels,-1,"sharedStrings."+n,Yn.SST)),o="xl/workbook."+n,xn(i,o,rW(t)),s.workbooks.push(o),or(e.rels,1,o,Yn.WB),o="xl/theme/theme1.xml",xn(i,o,zG(t.Themes,e)),s.themes.push(o),or(e.wbrels,-1,"theme/theme1.xml",Yn.THEME),o="xl/styles."+n,xn(i,o,BG(t,e)),s.styles.push(o),or(e.wbrels,-1,"styles."+n,Yn.STY),t.vbaraw&&r&&(o="xl/vbaProject.bin",xn(i,o,t.vbaraw),s.vba.push(o),or(e.wbrels,-1,"vbaProject.bin",Yn.VBA)),o="xl/metadata."+n,xn(i,o,qG()),s.metadata.push(o),or(e.wbrels,-1,"metadata."+n,Yn.XLMETA),f.length>1&&(o="xl/persons/person.xml",xn(i,o,nCe(f)),s.people.push(o),or(e.wbrels,-1,"persons/person.xml",Yn.PEOPLE)),xn(i,"[Content_Types].xml",wG(s,e)),xn(i,"_rels/.rels",ym(e.rels)),xn(i,"xl/_rels/workbook."+n+".rels",ym(e.wbrels)),delete e.revssf,delete e.ssf,i}function SLe(t,e){var n="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":n=eu(t.slice(0,12));break;case"binary":n=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function uW(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return Gy(e.file,fr.write(t,{type:Zn?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return fr.write(t,e)}function CLe(t,e){var n=ji(e||{}),r=_Le(t,n);return NLe(r,n)}function NLe(t,e){var n={},r=Zn?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(n.compression="DEFLATE"),e.password)n.type=r;else switch(e.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":n.type=r;break;default:throw new Error("Unrecognized type "+e.type)}var s=t.FullPaths?fr.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!e.compression}):t.generate(n);if(typeof Deno<"u"&&typeof s=="string"){if(e.type=="binary"||e.type=="base64")return s;s=new Uint8Array(Bw(s))}return e.password&&typeof encrypt_agile<"u"?uW(encrypt_agile(s,e.password),e):e.type==="file"?Gy(e.file,s):e.type=="string"?c0(s):s}function TLe(t,e){var n=e||{},r=VAe(t,n);return uW(r,n)}function Ll(t,e,n){n||(n="");var r=n+t;switch(e.type){case"base64":return Y0(J0(r));case"binary":return J0(r);case"string":return t;case"file":return Gy(e.file,r,"utf8");case"buffer":return Zn?cu(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):Ll(r,{type:"binary"}).split("").map(function(s){return s.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function ALe(t,e){switch(e.type){case"base64":return Y0(t);case"binary":return t;case"string":return t;case"file":return Gy(e.file,t,"binary");case"buffer":return Zn?cu(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Ux(t,e){switch(e.type){case"string":case"base64":case"binary":for(var n="",r=0;r<t.length;++r)n+=String.fromCharCode(t[r]);return e.type=="base64"?Y0(n):e.type=="string"?c0(n):n;case"file":return Gy(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function dW(t,e){rEe(),mAe(t);var n=ji(e||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),n.type=="array"){n.type="binary";var r=dW(t,n);return n.type="array",Bw(r)}var s=0;if(n.sheet&&(typeof n.sheet=="number"?s=n.sheet:s=t.SheetNames.indexOf(n.sheet),!t.SheetNames[s]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return Ll(qAe(t,n),n);case"slk":case"sylk":return Ll(dSe.from_sheet(t.Sheets[t.SheetNames[s]],n),n);case"htm":case"html":return Ll(iW(t.Sheets[t.SheetNames[s]],n),n);case"txt":return ALe(hW(t.Sheets[t.SheetNames[s]],n),n);case"csv":return Ll(P3(t.Sheets[t.SheetNames[s]],n),n,"\uFEFF");case"dif":return Ll(hSe.from_sheet(t.Sheets[t.SheetNames[s]],n),n);case"dbf":return Ux(uSe.from_sheet(t.Sheets[t.SheetNames[s]],n),n);case"prn":return Ll(fSe.from_sheet(t.Sheets[t.SheetNames[s]],n),n);case"rtf":return Ll(bSe.from_sheet(t.Sheets[t.SheetNames[s]],n),n);case"eth":return Ll(IG.from_sheet(t.Sheets[t.SheetNames[s]],n),n);case"fods":return Ll(cW(t,n),n);case"wk1":return Ux(YM.sheet_to_wk1(t.Sheets[t.SheetNames[s]],n),n);case"wk3":return Ux(YM.book_to_wk3(t,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),Ux(aW(t,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),TLe(t,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return CLe(t,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function LLe(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},n=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();n.match(/^\.[a-z]+$/)&&(t.bookType=n.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function Fr(t,e,n){var r={};return r.type="file",r.file=e,LLe(r),dW(t,r)}function RLe(t,e,n,r,s,i,o,c){var u=_a(n),h=c.defval,f=c.raw||!Object.prototype.hasOwnProperty.call(c,"raw"),g=!0,p=s===1?[]:{};if(s!==1)if(Object.defineProperty)try{Object.defineProperty(p,"__rowNum__",{value:n,enumerable:!1})}catch{p.__rowNum__=n}else p.__rowNum__=n;if(!o||t[n])for(var y=e.s.c;y<=e.e.c;++y){var w=o?t[n][y]:t[r[y]+u];if(w===void 0||w.t===void 0){if(h===void 0)continue;i[y]!=null&&(p[i[y]]=h);continue}var E=w.v;switch(w.t){case"z":if(E==null)break;continue;case"e":E=E==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+w.t)}if(i[y]!=null){if(E==null)if(w.t=="e"&&E===null)p[i[y]]=null;else if(h!==void 0)p[i[y]]=h;else if(f&&E===null)p[i[y]]=null;else continue;else p[i[y]]=f&&(w.t!=="n"||w.t==="n"&&c.rawNumbers!==!1)?E:tu(w,E,c);E!=null&&(g=!1)}}return{row:p,isempty:g}}function w1(t,e){if(t==null||t["!ref"]==null)return[];var n={t:"n",v:0},r=0,s=1,i=[],o=0,c="",u={s:{r:0,c:0},e:{r:0,c:0}},h=e||{},f=h.range!=null?h.range:t["!ref"];switch(h.header===1?r=1:h.header==="A"?r=2:Array.isArray(h.header)?r=3:h.header==null&&(r=0),typeof f){case"string":u=Ar(f);break;case"number":u=Ar(t["!ref"]),u.s.r=f;break;default:u=f}r>0&&(s=0);var g=_a(u.s.r),p=[],y=[],w=0,E=0,j=Array.isArray(t),C=u.s.r,O=0,I={};j&&!t[C]&&(t[C]=[]);var D=h.skipHidden&&t["!cols"]||[],T=h.skipHidden&&t["!rows"]||[];for(O=u.s.c;O<=u.e.c;++O)if(!(D[O]||{}).hidden)switch(p[O]=Fa(O),n=j?t[C][O]:t[p[O]+g],r){case 1:i[O]=O-u.s.c;break;case 2:i[O]=p[O];break;case 3:i[O]=h.header[O-u.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),c=o=tu(n,null,h),E=I[o]||0,!E)I[o]=1;else{do c=o+"_"+E++;while(I[c]);I[o]=E,I[c]=1}i[O]=c}for(C=u.s.r+s;C<=u.e.r;++C)if(!(T[C]||{}).hidden){var F=RLe(t,u,C,p,r,i,j,h);(F.isempty===!1||(r===1?h.blankrows!==!1:h.blankrows))&&(y[w++]=F.row)}return y.length=w,y}var r8=/"/g;function kLe(t,e,n,r,s,i,o,c){for(var u=!0,h=[],f="",g=_a(n),p=e.s.c;p<=e.e.c;++p)if(r[p]){var y=c.dense?(t[n]||[])[p]:t[r[p]+g];if(y==null)f="";else if(y.v!=null){u=!1,f=""+(c.rawNumbers&&y.t=="n"?y.v:tu(y,null,c));for(var w=0,E=0;w!==f.length;++w)if((E=f.charCodeAt(w))===s||E===i||E===34||c.forceQuotes){f='"'+f.replace(r8,'""')+'"';break}f=="ID"&&(f='"ID"')}else y.f!=null&&!y.F?(u=!1,f="="+y.f,f.indexOf(",")>=0&&(f='"'+f.replace(r8,'""')+'"')):f="";h.push(f)}return c.blankrows===!1&&u?null:h.join(o)}function P3(t,e){var n=[],r=e??{};if(t==null||t["!ref"]==null)return"";var s=Ar(t["!ref"]),i=r.FS!==void 0?r.FS:",",o=i.charCodeAt(0),c=r.RS!==void 0?r.RS:`
`,u=c.charCodeAt(0),h=new RegExp((i=="|"?"\\|":i)+"+$"),f="",g=[];r.dense=Array.isArray(t);for(var p=r.skipHidden&&t["!cols"]||[],y=r.skipHidden&&t["!rows"]||[],w=s.s.c;w<=s.e.c;++w)(p[w]||{}).hidden||(g[w]=Fa(w));for(var E=0,j=s.s.r;j<=s.e.r;++j)(y[j]||{}).hidden||(f=kLe(t,s,j,g,o,u,i,r),f!=null&&(r.strip&&(f=f.replace(h,"")),(f||r.blankrows!==!1)&&n.push((E++?c:"")+f)));return delete r.dense,n.join("")}function hW(t,e){e||(e={}),e.FS="	",e.RS=`
`;var n=P3(t,e);return n}function OLe(t){var e="",n,r="";if(t==null||t["!ref"]==null)return[];var s=Ar(t["!ref"]),i="",o=[],c,u=[],h=Array.isArray(t);for(c=s.s.c;c<=s.e.c;++c)o[c]=Fa(c);for(var f=s.s.r;f<=s.e.r;++f)for(i=_a(f),c=s.s.c;c<=s.e.c;++c)if(e=o[c]+i,n=h?(t[f]||[])[c]:t[e],r="",n!==void 0){if(n.F!=null){if(e=n.F,!n.f)continue;r=n.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}u[u.length]=e+"="+r}return u}function fW(t,e,n){var r=n||{},s=+!r.skipHeader,i=t||{},o=0,c=0;if(i&&r.origin!=null)if(typeof r.origin=="number")o=r.origin;else{var u=typeof r.origin=="string"?Qs(r.origin):r.origin;o=u.r,c=u.c}var h,f={s:{c:0,r:0},e:{c,r:o+e.length-1+s}};if(i["!ref"]){var g=Ar(i["!ref"]);f.e.c=Math.max(f.e.c,g.e.c),f.e.r=Math.max(f.e.r,g.e.r),o==-1&&(o=g.e.r+1,f.e.r=o+e.length-1+s)}else o==-1&&(o=0,f.e.r=e.length-1+s);var p=r.header||[],y=0;e.forEach(function(E,j){ja(E).forEach(function(C){(y=p.indexOf(C))==-1&&(p[y=p.length]=C);var O=E[C],I="z",D="",T=cr({c:c+y,r:o+j+s});h=ey(i,T),O&&typeof O=="object"&&!(O instanceof Date)?i[T]=O:(typeof O=="number"?I="n":typeof O=="boolean"?I="b":typeof O=="string"?I="s":O instanceof Date?(I="d",r.cellDates||(I="n",O=Ei(O)),D=r.dateNF||us[14]):O===null&&r.nullError&&(I="e",O=0),h?(h.t=I,h.v=O,delete h.w,delete h.R,D&&(h.z=D)):i[T]=h={t:I,v:O},D&&(h.z=D))})}),f.e.c=Math.max(f.e.c,c+p.length-1);var w=_a(o);if(s)for(y=0;y<p.length;++y)i[Fa(y+c)+w]={t:"s",v:p[y]};return i["!ref"]=As(f),i}function ILe(t,e){return fW(null,t,e)}function ey(t,e,n){if(typeof e=="string"){if(Array.isArray(t)){var r=Qs(e);return t[r.r]||(t[r.r]=[]),t[r.r][r.c]||(t[r.r][r.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?ey(t,cr(e)):ey(t,cr({r:e,c:n||0}))}function PLe(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var n=t.SheetNames.indexOf(e);if(n>-1)return n;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function DLe(){return{SheetNames:[],Sheets:{}}}function MLe(t,e,n,r){var s=1;if(!n)for(;s<=65535&&t.SheetNames.indexOf(n="Sheet"+s)!=-1;++s,n=void 0);if(!n||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&t.SheetNames.indexOf(n)>=0){var i=n.match(/(^.*?)(\d+)$/);s=i&&+i[2]||0;var o=i&&i[1]||n;for(++s;s<=65535&&t.SheetNames.indexOf(n=o+s)!=-1;++s);}if(nW(n),t.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return t.SheetNames.push(n),t.Sheets[n]=e,n}function FLe(t,e,n){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var r=PLe(t,e);switch(t.Workbook.Sheets[r]||(t.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}t.Workbook.Sheets[r].Hidden=n}function BLe(t,e){return t.z=e,t}function mW(t,e,n){return e?(t.l={Target:e},n&&(t.l.Tooltip=n)):delete t.l,t}function ULe(t,e,n){return mW(t,"#"+e,n)}function zLe(t,e,n){t.c||(t.c=[]),t.c.push({t:e,a:n||"SheetJS"})}function qLe(t,e,n,r){for(var s=typeof e!="string"?e:Ar(e),i=typeof e=="string"?e:As(e),o=s.s.r;o<=s.e.r;++o)for(var c=s.s.c;c<=s.e.c;++c){var u=ey(t,o,c);u.t="n",u.F=i,delete u.v,o==s.s.r&&c==s.s.c&&(u.f=n,r&&(u.D=!0))}return t}var vt={encode_col:Fa,encode_row:_a,encode_cell:cr,encode_range:As,decode_col:j3,decode_row:E3,split_cell:rje,decode_cell:Qs,decode_range:Xi,format_cell:tu,sheet_add_aoa:mG,sheet_add_json:fW,sheet_add_dom:oW,aoa_to_sheet:jp,json_to_sheet:ILe,table_to_sheet:lW,table_to_book:hLe,sheet_to_csv:P3,sheet_to_txt:hW,sheet_to_json:w1,sheet_to_html:iW,sheet_to_formulae:OLe,sheet_to_row_object_array:w1,sheet_get_cell:ey,book_new:DLe,book_append_sheet:MLe,book_set_sheet_visibility:FLe,cell_set_number_format:BLe,cell_set_hyperlink:mW,cell_set_internal_link:ULe,cell_add_comment:zLe,sheet_set_array_formula:qLe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const $Le=mq(),$t=async t=>{if(!t)return;const e=Wt($Le,t);try{await wue(e),console.log("Image deleted successfully.")}catch(n){console.error("Error deleting image:",n)}},VLe=({index:t,section:e,onBodyImageDrop:n,dropzoneName:r="dropzone-container-small",previewName:s="dropzone-uploaded-image-small"})=>{const{getRootProps:i,getInputProps:o}=Vt({onDrop:u=>n(u,t),accept:"image/png, image/jpeg, image/jpg, video/mp4, video/webm, video/ogg"}),c=e.image?e.image instanceof File?URL.createObjectURL(e.image):e.image:null;return a.jsxs(B,{...i(),className:`${r} text-center w-100 ${c?"border-success":""}`,children:[a.jsx("input",{...o(),accept:"image/*,video/*"}),c?e.image instanceof File&&e.image.type.startsWith("video/")?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:c,type:e.image.type}),"Your browser does not support the video tag."]}):a.jsx("img",{src:c,alt:"Body Image Preview",className:s}):a.jsxs("p",{className:"text-muted",children:["Drag & Drop Image/Video Here or"," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})};function HLe({editingItem:t,toAddForm:e}){var U;const[n,r]=S.useState(new r$),[s,i]=S.useState(""),[o,c]=S.useState("");S.useEffect(()=>{t?(r({id:t.id||"",title:t.title||"",classification:t.classification||"",purpose:t.purpose||"",date:t.date||"",headerImage:t.headerImage||null,body:t.body.map(P=>({...P,image:P.image||null})),tags:t.tags||[],references:t.references||[],name:t.name||"",email:t.email||"",social:t.social||""}),t.category&&(i(t.classification||""),c(t.purpose||""))):r({id:"",title:"",classification:"",purpose:"",date:"",headerImage:null,body:[{subtitle:"",body:"",image:null,image_source:""}],tags:[],references:[],name:"",email:"",social:""})},[t]);const[u,h]=S.useState([]),[f,g]=S.useState(0),p=(P,K)=>{if(Array.isArray(P))r(G=>({...G,[K]:P}));else if(typeof P=="string")r(G=>({...G,[K]:P}));else{const{name:G,value:re}=P.target;r(Z=>({...Z,[G]:re}))}},y=(P,K,G)=>{r(re=>{const Z=[...re.body];return Z[P]={...Z[P],[K]:G},{...re,body:Z}})},w=(P,K)=>{const G=P[0];G&&r(re=>{const Z=[...re.body];return Z[K]={...Z[K],image:G,imageUrl:URL.createObjectURL(G)},{...re,body:Z}})},E=()=>{r(P=>({...P,body:[...P.body,{subtitle:"",body:"",image:null,image_source:""}]}))},j=P=>{r(K=>{const G=K.body.filter((re,Z)=>Z!==P);return{...K,body:G}})},[C,O]=S.useState(null),[I,D]=S.useState(""),T=S.useCallback(P=>{P.length>0&&O(P[0])},[]),{getRootProps:F,getInputProps:_}=Vt({onDrop:T,accept:"image/*",disabled:!!I}),R=()=>{r(P=>({...P,headerImage:null}))},b=P=>{r(K=>{const G=[...K.body];return G[P]?(G[P]={...G[P],image:null},{...K,body:G}):K})},A=async(P,K)=>{const G=Wt(en,K);return await Qt(G,P),await Zt(G)},L=async P=>{P.preventDefault(),ve.fire({title:"Updating...",text:"Please wait while we update your story.",allowOutsideClick:!1,didOpen:()=>{ve.showLoading()}});try{let K;n.headerImage instanceof File?(t&&t.headerImage&&await $t(t.headerImage),K=await A(n.headerImage,`stories/${Date.now()}_${n.headerImage.name}`)):K=n.headerImage;const G=await Promise.all(n.body.map(async(me,ie)=>me.image instanceof File?(t&&t.body&&t.body[ie]&&t.body[ie].image&&await $t(t.body[ie].image),await A(me.image,`stories/${Date.now()}_${me.image.name}`)):me.image)),re={classification:n.classification,purpose:n.purpose,title:n.title,headerImage:K,date:n.date,body:n.body.map((me,ie)=>({subtitle:me.subtitle,body:me.body,image:G[ie]||"",image_source:me.image_source})),tags:n.tags,references:n.references,name:n.name,email:n.email,social:n.social},Z=gt(Ve,"stories",n.id);await rn(Z,re),ve.fire({title:"Story Updated",text:"Your story has been updated successfully!",icon:"success"}),h([]),R(),e()}catch(K){console.error("Error updating story:",K),ve.fire({title:"Error",text:"There was an issue updating your story. Please try again.",icon:"error"})}};return S.useRef(null),a.jsxs(v,{className:"custom-form body-container",onSubmit:L,onKeyDown:P=>P.key==="Enter"&&P.preventDefault(),children:[a.jsx("h1",{className:"mb-4",children:"Edit Tourism Story Form"}),a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(z,{className:"col me-lg-2 me-md-1",children:a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Classification"}),a.jsxs(v.Control,{as:"select",name:"classification",value:n.classification,onChange:p,required:!0,children:[a.jsx("option",{value:"",children:"Select Classification"}),s$.map(P=>a.jsx("option",{value:P,children:P},P))]})]})}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Purpose"}),a.jsxs(v.Control,{as:"select",name:"purpose",value:n.purpose,onChange:p,required:!0,disabled:!n.classification,placeholder:n.classification?"Select Purpose":"Select Classification First",children:[a.jsx("option",{value:"",children:n.classification?"Select Purpose":"Select Classification First"}),n.classification&&((U=a$[n.classification])==null?void 0:U.map(P=>a.jsx("option",{value:P,children:P},P)))]})]})})]}),a.jsx(B,{className:"empty-container"}),a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(z,{className:"col me-lg-2 me-md-1",children:a.jsx(B,{className:"empty-container"})}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Date"}),a.jsx(v.Control,{type:"date",name:"date",value:n.date,onChange:p,required:!0})]})})]}),a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Title"}),a.jsx(v.Control,{type:"text",name:"title",className:"fw-bold",value:n.title,onChange:p,placeholder:"Enter title",required:!0})]}),a.jsxs(v.Group,{className:"my-2",children:[a.jsx(v.Label,{className:"label",children:"Upload Header Image (800x400)"}),a.jsx(mn,{storyForm:n,setStoryForm:r,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"}),a.jsxs(B,{className:"d-flex justify-content-between mt-2",children:[a.jsx("p",{className:"subtitle",children:"Supported File: PNG, JPEG, and JPG"}),a.jsx("p",{className:"subtitle",children:"Maximum size: 25MB"})]}),a.jsx(B,{className:"d-flex justify-content-end",children:C&&(I?null:a.jsxs(se,{className:"my-2",variant:"outline-danger",onClick:R,children:[a.jsx(we,{className:"button-icon",icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]}))})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),n.body.map((P,K)=>a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(B,{className:"empty-container"}),a.jsxs(v.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(v.Label,{className:"label",children:"Subtitle (Optional)"}),a.jsx(v.Control,{type:"text",className:"fw-bold",value:P.subtitle,onChange:G=>y(K,"subtitle",G.target.value)})]}),a.jsxs(z,{className:"col me-lg-2 me-md-1",children:[a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Image (Optional)"}),a.jsx(VLe,{index:K,section:P,editingItem:t,onBodyImageDrop:w,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"}),P.image&&a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{className:"mt-2 mb-1",variant:"outline-danger",onClick:()=>b(K),children:[a.jsx(we,{icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]})})]}),a.jsxs(v.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(v.Label,{className:"label",children:"Image Source (Optional)"}),a.jsx(v.Control,{placeholder:"e.g. @boracayphotos or /islanders or #trivago or www.trivago.com",type:"text",value:P.image_source,onChange:G=>y(K,"image_source",G.target.value)})]})]}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(v.Group,{className:"mb-5",children:[a.jsx(v.Label,{className:"label",children:"Body"}),a.jsx(rr,{index:K,section:P,handleBodyChange:y})]})}),n.body.length>1&&a.jsx(B,{className:"mb-4 d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-danger",type:"button",onClick:()=>j(K),className:"mt-3 w-full",children:[a.jsx(we,{icon:Pt,size:"xs",fixedWidth:!0})," Delete Section"]})})]},K)),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-success",type:"button",onClick:E,className:"mb-3",children:[a.jsx(we,{icon:nr,size:"xs",fixedWidth:!0})," Add Section"]})}),a.jsx(B,{className:"empty-container"}),a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(z,{className:"col me-lg-2 me-md-1",children:a.jsx($e,{onChange:P=>p(P,"references"),label:"References and Links (Type & Enter)",editingItems:n.references,resetKey:f})}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsx($e,{onChange:P=>p(P,"tags"),label:"Important Tags (Type & Enter)",editingItems:n.tags,resetKey:f})})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Your Name"}),a.jsx(v.Control,{type:"text",name:"name",value:n.name,onChange:p,placeholder:"Your Name",required:!0})]}),a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(z,{className:"col me-lg-2 me-md-1",children:a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Social Media Link"}),a.jsx(v.Control,{type:"social",name:"social",value:n.social,onChange:p,placeholder:"Social Link"})]})}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Email"}),a.jsx(v.Control,{type:"email",name:"email",value:n.email,onChange:p,placeholder:"Email"})]})})]}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"d-flex justify-content-end",children:a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full",onClick:L,children:"Submit Update"})})]})}const GLe=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(""),[s,i]=S.useState(""),[o,c]=S.useState(""),[u,h]=S.useState("asc"),[f,g]=S.useState(0),[p,y]=S.useState(null),w=10;S.useEffect(()=>{C()},[]);const[E,j]=S.useState(!0),C=async()=>{try{const K=(await Rr(Jt(Ve,"stories"))).docs.map(G=>({id:G.id,...G.data()}));e(K)}catch(P){console.error("Error fetching data:",P)}finally{j(!1)}},O=()=>{const P=[...t].sort((K,G)=>u==="asc"?new Date(K.date)-new Date(G.date):new Date(G.date)-new Date(K.date));e(P),h(u==="asc"?"desc":"asc")},I=P=>{y(P)},D=async()=>{if(p){const P=gt(Ve,"stories",p.id);await rn(P,{title:p.title,classification:p.classification,purpose:p.purpose,name:p.name,email:p.email,social:p.social,date:p.date}),C(),y(null)}},T=async P=>{window.confirm("Are you sure you want to delete this entry?")&&(await kr(gt(Ve,"stories",P)),C())},F=t.filter(P=>(s===""||P.classification===s)&&(o===""||P.purpose===o)&&(P.title.toLowerCase().includes(n.toLowerCase())||P.classification.toLowerCase().includes(n.toLowerCase())||P.purpose.toLowerCase().includes(n.toLowerCase())||P.date.toLowerCase().includes(n.toLowerCase())||P.name.toLowerCase().includes(n.toLowerCase())||P.email.toLowerCase().includes(n.toLowerCase())||P.social.toLowerCase().includes(n.toLowerCase()))),_=()=>new Date().toISOString().split("T")[0],R=()=>{const P=vt.json_to_sheet(t.map(({id:G,body:re,tags:Z,references:me,headerImage:ie,...W})=>W)),K=vt.book_new();vt.book_append_sheet(K,P,"Data"),Fr(K,`tourism_stories_infoguide_${_()}.xlsx`)},b=Math.ceil(F.length/w),A=F.slice(f*w,(f+1)*w),L=({selected:P})=>{g(P)},U=()=>{y(null)};return a.jsxs(B,{children:[a.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Tourism Stories"}),a.jsx("p",{children:"List of Tourism-related Articles."}),a.jsxs(V,{className:"mb-4 mt-4",children:[a.jsx(z,{md:4,className:"mb-2 me-2 col",children:a.jsx(v.Control,{type:"text",placeholder:`Search up to over ${t.length} articles`,value:n,onChange:P=>r(P.target.value)})}),a.jsx(z,{md:2,className:"mb-2 me-2 col",children:a.jsxs(v.Select,{value:s,onChange:P=>i(P.target.value),children:[a.jsx("option",{value:"",children:"All Classifications"}),[...new Set(t.map(P=>P.classification))].map((P,K)=>a.jsx("option",{value:P,children:P},K))]})}),a.jsx(z,{md:2,className:"mb-2 me-2 col",children:a.jsxs(v.Select,{value:o,onChange:P=>c(P.target.value),children:[a.jsx("option",{value:"",children:"All Purposes"}),[...new Set(t.map(P=>P.purpose))].map((P,K)=>a.jsx("option",{value:P,children:P},K))]})}),a.jsxs(B,{className:"d-flex justify-content-end align-items-center mt-2",children:[a.jsxs(se,{variant:"outline-secondary",className:"me-2",onClick:C,children:[a.jsx(we,{icon:Pr,size:"xs",fixedWidth:!0})," Refresh List"]}),a.jsxs(se,{variant:"outline-success",onClick:U,children:[a.jsx(we,{icon:Dr,size:"xs",fixedWidth:!0})," Add New"]})]})]}),E?a.jsx("div",{className:"d-flex justify-content-center align-items-center my-5",children:a.jsx(Sr,{animation:"border",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):A.length===0?a.jsx("div",{className:"text-center my-5",children:a.jsx("h5",{children:"No Data Available"})}):a.jsxs(Lr,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsxs("th",{onClick:O,style:{cursor:"pointer"},children:["Date ",u==="asc"?"":""]}),a.jsx("th",{children:"Classification"}),a.jsx("th",{children:"Purpose"}),a.jsx("th",{children:"Title"}),a.jsx("th",{children:"Name"}),a.jsx("th",{children:"Email"}),a.jsx("th",{children:"Social"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:A.map(P=>a.jsxs("tr",{children:[a.jsx("td",{children:new Date(P.date).toLocaleDateString()}),a.jsx("td",{children:P.classification}),a.jsx("td",{children:P.purpose}),a.jsx("td",{children:P.title}),a.jsx("td",{children:P.name}),a.jsx("td",{children:P.email}),a.jsx("td",{children:P.social}),a.jsx("td",{children:a.jsxs(B,{className:"d-flex justify-content-center align-items-center",children:[a.jsx(Xt,{placement:"top",overlay:a.jsx(Gt,{children:"Edit"}),children:a.jsx(se,{variant:"outline-secondary",size:"sm",className:"me-2",onClick:()=>I(P),children:a.jsx(we,{icon:Ir,size:"xs",fixedWidth:!0})})}),a.jsx(Xt,{placement:"top",overlay:a.jsx(Gt,{children:"Delete"}),children:a.jsx(se,{variant:"outline-danger",size:"sm",onClick:()=>T(P.id),children:a.jsx(we,{icon:Pt,size:"xs",fixedWidth:!0})})})]})})]},P.id))})]}),a.jsxs(B,{className:"d-flex justify-content-between align-items-center mb-4 mt-2",children:[a.jsx(se,{onClick:R,variant:"outline-success",children:"Download Excel"}),a.jsx(Mr,{previousLabel:"",nextLabel:"",pageCount:b,onPageChange:L,containerClassName:"pagination mb-0",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})]}),p?a.jsx(HLe,{editingItem:p,setEditingItem:y,handleSaveEdit:D,toAddForm:()=>y(null)}):a.jsx(J_e,{})]})};var zx={exports:{}},IS,s8;function pW(){return s8||(s8=1,IS=function(e,n){return function(){for(var s=new Array(arguments.length),i=0;i<s.length;i++)s[i]=arguments[i];return e.apply(n,s)}}),IS}var PS,a8;function to(){if(a8)return PS;a8=1;var t=pW(),e=Object.prototype.toString;function n(R){return e.call(R)==="[object Array]"}function r(R){return typeof R>"u"}function s(R){return R!==null&&!r(R)&&R.constructor!==null&&!r(R.constructor)&&typeof R.constructor.isBuffer=="function"&&R.constructor.isBuffer(R)}function i(R){return e.call(R)==="[object ArrayBuffer]"}function o(R){return typeof FormData<"u"&&R instanceof FormData}function c(R){var b;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?b=ArrayBuffer.isView(R):b=R&&R.buffer&&R.buffer instanceof ArrayBuffer,b}function u(R){return typeof R=="string"}function h(R){return typeof R=="number"}function f(R){return R!==null&&typeof R=="object"}function g(R){if(e.call(R)!=="[object Object]")return!1;var b=Object.getPrototypeOf(R);return b===null||b===Object.prototype}function p(R){return e.call(R)==="[object Date]"}function y(R){return e.call(R)==="[object File]"}function w(R){return e.call(R)==="[object Blob]"}function E(R){return e.call(R)==="[object Function]"}function j(R){return f(R)&&E(R.pipe)}function C(R){return typeof URLSearchParams<"u"&&R instanceof URLSearchParams}function O(R){return R.trim?R.trim():R.replace(/^\s+|\s+$/g,"")}function I(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function D(R,b){if(!(R===null||typeof R>"u"))if(typeof R!="object"&&(R=[R]),n(R))for(var A=0,L=R.length;A<L;A++)b.call(null,R[A],A,R);else for(var U in R)Object.prototype.hasOwnProperty.call(R,U)&&b.call(null,R[U],U,R)}function T(){var R={};function b(U,P){g(R[P])&&g(U)?R[P]=T(R[P],U):g(U)?R[P]=T({},U):n(U)?R[P]=U.slice():R[P]=U}for(var A=0,L=arguments.length;A<L;A++)D(arguments[A],b);return R}function F(R,b,A){return D(b,function(U,P){A&&typeof U=="function"?R[P]=t(U,A):R[P]=U}),R}function _(R){return R.charCodeAt(0)===65279&&(R=R.slice(1)),R}return PS={isArray:n,isArrayBuffer:i,isBuffer:s,isFormData:o,isArrayBufferView:c,isString:u,isNumber:h,isObject:f,isPlainObject:g,isUndefined:r,isDate:p,isFile:y,isBlob:w,isFunction:E,isStream:j,isURLSearchParams:C,isStandardBrowserEnv:I,forEach:D,merge:T,extend:F,trim:O,stripBOM:_},PS}var DS,i8;function gW(){if(i8)return DS;i8=1;var t=to();function e(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}return DS=function(r,s,i){if(!s)return r;var o;if(i)o=i(s);else if(t.isURLSearchParams(s))o=s.toString();else{var c=[];t.forEach(s,function(f,g){f===null||typeof f>"u"||(t.isArray(f)?g=g+"[]":f=[f],t.forEach(f,function(y){t.isDate(y)?y=y.toISOString():t.isObject(y)&&(y=JSON.stringify(y)),c.push(e(g)+"="+e(y))}))}),o=c.join("&")}if(o){var u=r.indexOf("#");u!==-1&&(r=r.slice(0,u)),r+=(r.indexOf("?")===-1?"?":"&")+o}return r},DS}var MS,o8;function WLe(){if(o8)return MS;o8=1;var t=to();function e(){this.handlers=[]}return e.prototype.use=function(r,s,i){return this.handlers.push({fulfilled:r,rejected:s,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1},e.prototype.eject=function(r){this.handlers[r]&&(this.handlers[r]=null)},e.prototype.forEach=function(r){t.forEach(this.handlers,function(i){i!==null&&r(i)})},MS=e,MS}var FS,l8;function KLe(){if(l8)return FS;l8=1;var t=to();return FS=function(n,r){t.forEach(n,function(i,o){o!==r&&o.toUpperCase()===r.toUpperCase()&&(n[r]=i,delete n[o])})},FS}var BS,c8;function yW(){return c8||(c8=1,BS=function(e,n,r,s,i){return e.config=n,r&&(e.code=r),e.request=s,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}),BS}var US,u8;function vW(){if(u8)return US;u8=1;var t=yW();return US=function(n,r,s,i,o){var c=new Error(n);return t(c,r,s,i,o)},US}var zS,d8;function YLe(){if(d8)return zS;d8=1;var t=vW();return zS=function(n,r,s){var i=s.config.validateStatus;!s.status||!i||i(s.status)?n(s):r(t("Request failed with status code "+s.status,s.config,null,s.request,s))},zS}var qS,h8;function XLe(){if(h8)return qS;h8=1;var t=to();return qS=t.isStandardBrowserEnv()?function(){return{write:function(r,s,i,o,c,u){var h=[];h.push(r+"="+encodeURIComponent(s)),t.isNumber(i)&&h.push("expires="+new Date(i).toGMTString()),t.isString(o)&&h.push("path="+o),t.isString(c)&&h.push("domain="+c),u===!0&&h.push("secure"),document.cookie=h.join("; ")},read:function(r){var s=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),qS}var $S,f8;function JLe(){return f8||(f8=1,$S=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}),$S}var VS,m8;function QLe(){return m8||(m8=1,VS=function(e,n){return n?e.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):e}),VS}var HS,p8;function ZLe(){if(p8)return HS;p8=1;var t=JLe(),e=QLe();return HS=function(r,s){return r&&!t(s)?e(r,s):s},HS}var GS,g8;function e3e(){if(g8)return GS;g8=1;var t=to(),e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return GS=function(r){var s={},i,o,c;return r&&t.forEach(r.split(`
`),function(h){if(c=h.indexOf(":"),i=t.trim(h.substr(0,c)).toLowerCase(),o=t.trim(h.substr(c+1)),i){if(s[i]&&e.indexOf(i)>=0)return;i==="set-cookie"?s[i]=(s[i]?s[i]:[]).concat([o]):s[i]=s[i]?s[i]+", "+o:o}}),s},GS}var WS,y8;function t3e(){if(y8)return WS;y8=1;var t=to();return WS=t.isStandardBrowserEnv()?function(){var n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),s;function i(o){var c=o;return n&&(r.setAttribute("href",c),c=r.href),r.setAttribute("href",c),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return s=i(window.location.href),function(c){var u=t.isString(c)?i(c):c;return u.protocol===s.protocol&&u.host===s.host}}():function(){return function(){return!0}}(),WS}var KS,v8;function x8(){if(v8)return KS;v8=1;var t=to(),e=YLe(),n=XLe(),r=gW(),s=ZLe(),i=e3e(),o=t3e(),c=vW();return KS=function(h){return new Promise(function(g,p){var y=h.data,w=h.headers,E=h.responseType;t.isFormData(y)&&delete w["Content-Type"];var j=new XMLHttpRequest;if(h.auth){var C=h.auth.username||"",O=h.auth.password?unescape(encodeURIComponent(h.auth.password)):"";w.Authorization="Basic "+btoa(C+":"+O)}var I=s(h.baseURL,h.url);j.open(h.method.toUpperCase(),r(I,h.params,h.paramsSerializer),!0),j.timeout=h.timeout;function D(){if(j){var F="getAllResponseHeaders"in j?i(j.getAllResponseHeaders()):null,_=!E||E==="text"||E==="json"?j.responseText:j.response,R={data:_,status:j.status,statusText:j.statusText,headers:F,config:h,request:j};e(g,p,R),j=null}}if("onloadend"in j?j.onloadend=D:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(D)},j.onabort=function(){j&&(p(c("Request aborted",h,"ECONNABORTED",j)),j=null)},j.onerror=function(){p(c("Network Error",h,null,j)),j=null},j.ontimeout=function(){var _="timeout of "+h.timeout+"ms exceeded";h.timeoutErrorMessage&&(_=h.timeoutErrorMessage),p(c(_,h,h.transitional&&h.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",j)),j=null},t.isStandardBrowserEnv()){var T=(h.withCredentials||o(I))&&h.xsrfCookieName?n.read(h.xsrfCookieName):void 0;T&&(w[h.xsrfHeaderName]=T)}"setRequestHeader"in j&&t.forEach(w,function(_,R){typeof y>"u"&&R.toLowerCase()==="content-type"?delete w[R]:j.setRequestHeader(R,_)}),t.isUndefined(h.withCredentials)||(j.withCredentials=!!h.withCredentials),E&&E!=="json"&&(j.responseType=h.responseType),typeof h.onDownloadProgress=="function"&&j.addEventListener("progress",h.onDownloadProgress),typeof h.onUploadProgress=="function"&&j.upload&&j.upload.addEventListener("progress",h.onUploadProgress),h.cancelToken&&h.cancelToken.promise.then(function(_){j&&(j.abort(),p(_),j=null)}),y||(y=null),j.send(y)})},KS}var YS,b8;function D3(){if(b8)return YS;b8=1;var t=to(),e=KLe(),n=yW(),r={"Content-Type":"application/x-www-form-urlencoded"};function s(u,h){!t.isUndefined(u)&&t.isUndefined(u["Content-Type"])&&(u["Content-Type"]=h)}function i(){var u;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(u=x8()),u}function o(u,h,f){if(t.isString(u))try{return(h||JSON.parse)(u),t.trim(u)}catch(g){if(g.name!=="SyntaxError")throw g}return(f||JSON.stringify)(u)}var c={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:i(),transformRequest:[function(h,f){return e(f,"Accept"),e(f,"Content-Type"),t.isFormData(h)||t.isArrayBuffer(h)||t.isBuffer(h)||t.isStream(h)||t.isFile(h)||t.isBlob(h)?h:t.isArrayBufferView(h)?h.buffer:t.isURLSearchParams(h)?(s(f,"application/x-www-form-urlencoded;charset=utf-8"),h.toString()):t.isObject(h)||f&&f["Content-Type"]==="application/json"?(s(f,"application/json"),o(h)):h}],transformResponse:[function(h){var f=this.transitional,g=f&&f.silentJSONParsing,p=f&&f.forcedJSONParsing,y=!g&&this.responseType==="json";if(y||p&&t.isString(h)&&h.length)try{return JSON.parse(h)}catch(w){if(y)throw w.name==="SyntaxError"?n(w,this,"E_JSON_PARSE"):w}return h}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(h){return h>=200&&h<300}};return c.headers={common:{Accept:"application/json, text/plain, */*"}},t.forEach(["delete","get","head"],function(h){c.headers[h]={}}),t.forEach(["post","put","patch"],function(h){c.headers[h]=t.merge(r)}),YS=c,YS}var XS,w8;function n3e(){if(w8)return XS;w8=1;var t=to(),e=D3();return XS=function(r,s,i){var o=this||e;return t.forEach(i,function(u){r=u.call(o,r,s)}),r},XS}var JS,_8;function xW(){return _8||(_8=1,JS=function(e){return!!(e&&e.__CANCEL__)}),JS}var QS,E8;function r3e(){if(E8)return QS;E8=1;var t=to(),e=n3e(),n=xW(),r=D3();function s(i){i.cancelToken&&i.cancelToken.throwIfRequested()}return QS=function(o){s(o),o.headers=o.headers||{},o.data=e.call(o,o.data,o.headers,o.transformRequest),o.headers=t.merge(o.headers.common||{},o.headers[o.method]||{},o.headers),t.forEach(["delete","get","head","post","put","patch","common"],function(h){delete o.headers[h]});var c=o.adapter||r.adapter;return c(o).then(function(h){return s(o),h.data=e.call(o,h.data,h.headers,o.transformResponse),h},function(h){return n(h)||(s(o),h&&h.response&&(h.response.data=e.call(o,h.response.data,h.response.headers,o.transformResponse))),Promise.reject(h)})},QS}var ZS,j8;function bW(){if(j8)return ZS;j8=1;var t=to();return ZS=function(n,r){r=r||{};var s={},i=["url","method","data"],o=["headers","auth","proxy","params"],c=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],u=["validateStatus"];function h(y,w){return t.isPlainObject(y)&&t.isPlainObject(w)?t.merge(y,w):t.isPlainObject(w)?t.merge({},w):t.isArray(w)?w.slice():w}function f(y){t.isUndefined(r[y])?t.isUndefined(n[y])||(s[y]=h(void 0,n[y])):s[y]=h(n[y],r[y])}t.forEach(i,function(w){t.isUndefined(r[w])||(s[w]=h(void 0,r[w]))}),t.forEach(o,f),t.forEach(c,function(w){t.isUndefined(r[w])?t.isUndefined(n[w])||(s[w]=h(void 0,n[w])):s[w]=h(void 0,r[w])}),t.forEach(u,function(w){w in r?s[w]=h(n[w],r[w]):w in n&&(s[w]=h(void 0,n[w]))});var g=i.concat(o).concat(c).concat(u),p=Object.keys(n).concat(Object.keys(r)).filter(function(w){return g.indexOf(w)===-1});return t.forEach(p,f),s},ZS}const s3e="0.21.4",a3e={version:s3e};var eC,S8;function i3e(){if(S8)return eC;S8=1;var t=a3e,e={};["object","boolean","number","function","string","symbol"].forEach(function(o,c){e[o]=function(h){return typeof h===o||"a"+(c<1?"n ":" ")+o}});var n={},r=t.version.split(".");function s(o,c){for(var u=c?c.split("."):r,h=o.split("."),f=0;f<3;f++){if(u[f]>h[f])return!0;if(u[f]<h[f])return!1}return!1}e.transitional=function(c,u,h){var f=u&&s(u);function g(p,y){return"[Axios v"+t.version+"] Transitional option '"+p+"'"+y+(h?". "+h:"")}return function(p,y,w){if(c===!1)throw new Error(g(y," has been removed in "+u));return f&&!n[y]&&(n[y]=!0,console.warn(g(y," has been deprecated since v"+u+" and will be removed in the near future"))),c?c(p,y,w):!0}};function i(o,c,u){if(typeof o!="object")throw new TypeError("options must be an object");for(var h=Object.keys(o),f=h.length;f-- >0;){var g=h[f],p=c[g];if(p){var y=o[g],w=y===void 0||p(y,g,o);if(w!==!0)throw new TypeError("option "+g+" must be "+w);continue}if(u!==!0)throw Error("Unknown option "+g)}}return eC={isOlderVersion:s,assertOptions:i,validators:e},eC}var tC,C8;function o3e(){if(C8)return tC;C8=1;var t=to(),e=gW(),n=WLe(),r=r3e(),s=bW(),i=i3e(),o=i.validators;function c(u){this.defaults=u,this.interceptors={request:new n,response:new n}}return c.prototype.request=function(h){typeof h=="string"?(h=arguments[1]||{},h.url=arguments[0]):h=h||{},h=s(this.defaults,h),h.method?h.method=h.method.toLowerCase():this.defaults.method?h.method=this.defaults.method.toLowerCase():h.method="get";var f=h.transitional;f!==void 0&&i.assertOptions(f,{silentJSONParsing:o.transitional(o.boolean,"1.0.0"),forcedJSONParsing:o.transitional(o.boolean,"1.0.0"),clarifyTimeoutError:o.transitional(o.boolean,"1.0.0")},!1);var g=[],p=!0;this.interceptors.request.forEach(function(D){typeof D.runWhen=="function"&&D.runWhen(h)===!1||(p=p&&D.synchronous,g.unshift(D.fulfilled,D.rejected))});var y=[];this.interceptors.response.forEach(function(D){y.push(D.fulfilled,D.rejected)});var w;if(!p){var E=[r,void 0];for(Array.prototype.unshift.apply(E,g),E=E.concat(y),w=Promise.resolve(h);E.length;)w=w.then(E.shift(),E.shift());return w}for(var j=h;g.length;){var C=g.shift(),O=g.shift();try{j=C(j)}catch(I){O(I);break}}try{w=r(j)}catch(I){return Promise.reject(I)}for(;y.length;)w=w.then(y.shift(),y.shift());return w},c.prototype.getUri=function(h){return h=s(this.defaults,h),e(h.url,h.params,h.paramsSerializer).replace(/^\?/,"")},t.forEach(["delete","get","head","options"],function(h){c.prototype[h]=function(f,g){return this.request(s(g||{},{method:h,url:f,data:(g||{}).data}))}}),t.forEach(["post","put","patch"],function(h){c.prototype[h]=function(f,g,p){return this.request(s(p||{},{method:h,url:f,data:g}))}}),tC=c,tC}var nC,N8;function wW(){if(N8)return nC;N8=1;function t(e){this.message=e}return t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,nC=t,nC}var rC,T8;function l3e(){if(T8)return rC;T8=1;var t=wW();function e(n){if(typeof n!="function")throw new TypeError("executor must be a function.");var r;this.promise=new Promise(function(o){r=o});var s=this;n(function(o){s.reason||(s.reason=new t(o),r(s.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.source=function(){var r,s=new e(function(o){r=o});return{token:s,cancel:r}},rC=e,rC}var sC,A8;function c3e(){return A8||(A8=1,sC=function(e){return function(r){return e.apply(null,r)}}),sC}var aC,L8;function u3e(){return L8||(L8=1,aC=function(e){return typeof e=="object"&&e.isAxiosError===!0}),aC}var R8;function d3e(){if(R8)return zx.exports;R8=1;var t=to(),e=pW(),n=o3e(),r=bW(),s=D3();function i(c){var u=new n(c),h=e(n.prototype.request,u);return t.extend(h,n.prototype,u),t.extend(h,u),h}var o=i(s);return o.Axios=n,o.create=function(u){return i(r(o.defaults,u))},o.Cancel=wW(),o.CancelToken=l3e(),o.isCancel=xW(),o.all=function(u){return Promise.all(u)},o.spread=c3e(),o.isAxiosError=u3e(),zx.exports=o,zx.exports.default=o,zx.exports}var iC,k8;function h3e(){return k8||(k8=1,iC=d3e()),iC}var oC,O8;function f3e(){if(O8)return oC;O8=1;const t=h3e(),e=h=>t.get(`https://isaacdarcilla.github.io/philippine-addresses/${h}.json`);return oC={regions:async()=>{try{return(await e("region")).data.map(f=>({id:f.id,psgc_code:f.psgc_code,region_name:f.region_name,region_code:f.region_code}))}catch(h){return h.message}},regionByCode:async h=>{try{return(await e("region")).data.find(({region_code:g})=>g===h)}catch(f){return f.message}},provinces:async h=>{try{return(await e("province")).data.filter(g=>g.region_code===h).map(g=>({psgc_code:g.psgc_code,province_name:g.province_name,province_code:g.province_code,region_code:g.region_code}))}catch(f){return f.message}},provincesByCode:async h=>{try{return(await e("province")).data.filter(g=>g.region_code===h).map(g=>({psgc_code:g.psgc_code,province_name:g.province_name,province_code:g.province_code,region_code:g.region_code}))}catch(f){return f.message}},provinceByName:async h=>{try{return(await e("province")).data.find(({province_name:g})=>g===h)}catch(f){return f.message}},cities:async h=>{try{return(await e("city")).data.filter(g=>g.province_code===h).map(g=>({city_name:g.city_name,city_code:g.city_code,province_code:g.province_code,region_desc:g.region_desc}))}catch(f){return f.message}},barangays:async h=>{try{return(await e("barangay")).data.filter(g=>g.city_code===h).map(g=>({brgy_name:g.brgy_name,brgy_code:g.brgy_code,province_code:g.province_code,region_code:g.region_code}))}catch(f){return f.message}}},oC}var qx=f3e();const Si=({groupData:t,setGroupData:e})=>{const[n,r]=S.useState([]),[s,i]=S.useState([]),[o,c]=S.useState([]),[u,h]=S.useState([]),[f,g]=S.useState({name:"",code:""}),[p,y]=S.useState({name:"",code:""}),[w,E]=S.useState({name:"",code:""}),[j,C]=S.useState(""),[O,I]=S.useState(""),[D,T]=S.useState("Philippines");S.useEffect(()=>{T("Philippines"),qx.regions().then(r)},[]),S.useEffect(()=>{f.code?qx.provinces(f.code).then(i):i([]),T("Philippines"),y({name:"",code:""}),E({name:"",code:""}),C(""),c([]),h([])},[f]),S.useEffect(()=>{p.code?qx.cities(p.code).then(c):c([]),T("Philippines"),E({name:"",code:""}),C(""),h([])},[p]),S.useEffect(()=>{w.code?qx.barangays(w.code).then(h):h([]),T("Philippines"),C("")},[w]);const F=U=>{const P=n.find(K=>K.region_code===U.target.value);g({name:P.region_name,code:P.region_code}),T("Philippines"),e(K=>({...K,address:{...K.address,region:P.region_name,province:"",town:"",barangay:"",street:O}}))},_=U=>{const P=s.find(K=>K.province_code===U.target.value);y({name:P.province_name,code:P.province_code}),T("Philippines"),e(K=>({...K,address:{...K.address,province:P.province_name,town:"",barangay:"",street:O}}))},R=U=>{const P=o.find(K=>K.city_code===U.target.value);E({name:P.city_name,code:P.city_code}),T("Philippines"),e(K=>({...K,address:{...K.address,town:P.city_name,barangay:"",street:O}}))},b=U=>{C(U.target.value),T("Philippines"),e(P=>({...P,address:{...P.address,barangay:U.target.value,street:O}}))},A=U=>{I(U.target.value),T("Philippines"),e(P=>({...P,address:{...P.address,street:U.target.value}}))},L=()=>{T("Philippines"),e(U=>({...U,address:{...U.address,country:"Philippines"}}))};return a.jsxs(v.Group,{className:"mt-3 mb-3",children:[a.jsx(v.Label,{className:"label",children:"Local Business Address"}),a.jsx(v.Control,{className:"mb-3",type:"text",name:"address.country",placeholder:"Country",onChange:L,value:D,readOnly:!0}),a.jsxs(v.Select,{className:"my-3",value:f.code,onChange:F,children:[a.jsx("option",{value:"",children:"Select Region"}),n.map(U=>a.jsx("option",{value:U.region_code,children:U.region_name},U.region_code))]}),a.jsxs(v.Select,{className:"my-3",value:p.code,onChange:_,disabled:!f.code,children:[a.jsx("option",{value:"",children:"Select Province"}),s.map(U=>a.jsx("option",{value:U.province_code,children:U.province_name},U.province_code))]}),a.jsxs(v.Select,{className:"my-3",value:w.code,onChange:R,disabled:!p.code,children:[a.jsx("option",{value:"",children:"Select City/Municipality/Town"}),o.map(U=>a.jsx("option",{value:U.city_code,children:U.city_name},U.city_code))]}),a.jsxs(v.Select,{className:"my-3",value:j.code,onChange:b,disabled:!w.code,children:[a.jsx("option",{value:"",children:"Select Barangay"}),u.map(U=>a.jsx("option",{value:U.brgy_name,children:U.brgy_name},U.brgy_code))]}),a.jsx(v.Control,{className:"my-3",type:"text",name:"address.street",placeholder:"Street Name / Zone (Optional)",value:O,onChange:A})]})};function ty(t){"@babel/helpers - typeof";return ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ty(t)}function m3e(t,e){if(ty(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ty(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function p3e(t){var e=m3e(t,"string");return ty(e)=="symbol"?e:e+""}function qe(t,e,n){return(e=p3e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _W(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var lC,I8;function g3e(){if(I8)return lC;I8=1;var t=function(n,r,s,i,o,c,u,h){if(!n){var f;if(r===void 0)f=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var g=[s,i,o,c,u,h],p=0;f=new Error(r.replace(/%s/g,function(){return g[p++]})),f.name="Invariant Violation"}throw f.framesToPop=1,f}};return lC=t,lC}var y3e=g3e(),Vs=_W(y3e),gn=S.createContext(null);function v3e(){Vs(!!S.useContext,"useGoogleMap is React hook and requires React version 16.8+");var t=S.useContext(gn);return Vs(!!t,"useGoogleMap needs a GoogleMap available up in the tree"),t}function x3e(t,e,n){return Object.keys(t).reduce(function(s,i){return e(s,t[i],i)},n)}function b3e(t,e){Object.keys(t).forEach(n=>e(t[n],n))}function w3e(t,e,n,r){var s={},i=(o,c)=>{var u=n[c];u!==e[c]&&(s[c]=u,o(r,u))};return b3e(t,i),s}function _3e(t,e,n){var r=x3e(n,function(i,o,c){return typeof t[c]=="function"&&i.push(google.maps.event.addListener(e,o,t[c])),i},[]);return r}function E3e(t){google.maps.event.removeListener(t)}function Tn(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];t.forEach(E3e)}function Sn(t){var{updaterMap:e,eventMap:n,prevProps:r,nextProps:s,instance:i}=t,o=_3e(s,i,n);return w3e(e,r,s,i),o}var P8={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},D8={extraMapTypes(t,e){e.forEach(function(r,s){t.mapTypes.set(String(s),r)})},center(t,e){t.setCenter(e)},clickableIcons(t,e){t.setClickableIcons(e)},heading(t,e){t.setHeading(e)},mapTypeId(t,e){t.setMapTypeId(e)},options(t,e){t.setOptions(e)},streetView(t,e){t.setStreetView(e)},tilt(t,e){t.setTilt(e)},zoom(t,e){t.setZoom(e)}};function j3e(t){var{children:e,options:n,id:r,mapContainerStyle:s,mapContainerClassName:i,center:o,onClick:c,onDblClick:u,onDrag:h,onDragEnd:f,onDragStart:g,onMouseMove:p,onMouseOut:y,onMouseOver:w,onMouseDown:E,onMouseUp:j,onRightClick:C,onCenterChanged:O,onLoad:I,onUnmount:D}=t,[T,F]=S.useState(null),_=S.useRef(null),[R,b]=S.useState(null),[A,L]=S.useState(null),[U,P]=S.useState(null),[K,G]=S.useState(null),[re,Z]=S.useState(null),[me,ie]=S.useState(null),[W,ye]=S.useState(null),[Q,ne]=S.useState(null),[te,X]=S.useState(null),[xe,Ne]=S.useState(null),[je,Ie]=S.useState(null),[_e,Ue]=S.useState(null);return S.useEffect(()=>{n&&T!==null&&T.setOptions(n)},[T,n]),S.useEffect(()=>{T!==null&&typeof o<"u"&&T.setCenter(o)},[T,o]),S.useEffect(()=>{T&&u&&(A!==null&&google.maps.event.removeListener(A),L(google.maps.event.addListener(T,"dblclick",u)))},[u]),S.useEffect(()=>{T&&f&&(U!==null&&google.maps.event.removeListener(U),P(google.maps.event.addListener(T,"dragend",f)))},[f]),S.useEffect(()=>{T&&g&&(K!==null&&google.maps.event.removeListener(K),G(google.maps.event.addListener(T,"dragstart",g)))},[g]),S.useEffect(()=>{T&&E&&(re!==null&&google.maps.event.removeListener(re),Z(google.maps.event.addListener(T,"mousedown",E)))},[E]),S.useEffect(()=>{T&&p&&(me!==null&&google.maps.event.removeListener(me),ie(google.maps.event.addListener(T,"mousemove",p)))},[p]),S.useEffect(()=>{T&&y&&(W!==null&&google.maps.event.removeListener(W),ye(google.maps.event.addListener(T,"mouseout",y)))},[y]),S.useEffect(()=>{T&&w&&(Q!==null&&google.maps.event.removeListener(Q),ne(google.maps.event.addListener(T,"mouseover",w)))},[w]),S.useEffect(()=>{T&&j&&(te!==null&&google.maps.event.removeListener(te),X(google.maps.event.addListener(T,"mouseup",j)))},[j]),S.useEffect(()=>{T&&C&&(xe!==null&&google.maps.event.removeListener(xe),Ne(google.maps.event.addListener(T,"rightclick",C)))},[C]),S.useEffect(()=>{T&&c&&(je!==null&&google.maps.event.removeListener(je),Ie(google.maps.event.addListener(T,"click",c)))},[c]),S.useEffect(()=>{T&&h&&(_e!==null&&google.maps.event.removeListener(_e),Ue(google.maps.event.addListener(T,"drag",h)))},[h]),S.useEffect(()=>{T&&O&&(R!==null&&google.maps.event.removeListener(R),b(google.maps.event.addListener(T,"center_changed",O)))},[c]),S.useEffect(()=>{var tt=_.current===null?null:new google.maps.Map(_.current,n);return F(tt),tt!==null&&I&&I(tt),()=>{tt!==null&&D&&D(tt)}},[]),a.jsx("div",{id:r,ref:_,style:s,className:i,children:a.jsx(gn.Provider,{value:T,children:T!==null?e:null})})}S.memo(j3e);class EW extends S.PureComponent{constructor(){super(...arguments),qe(this,"state",{map:null}),qe(this,"registeredEvents",[]),qe(this,"mapRef",null),qe(this,"getInstance",()=>this.mapRef===null?null:new google.maps.Map(this.mapRef,this.props.options)),qe(this,"panTo",e=>{var n=this.getInstance();n&&n.panTo(e)}),qe(this,"setMapCallback",()=>{this.state.map!==null&&this.props.onLoad&&this.props.onLoad(this.state.map)}),qe(this,"getRef",e=>{this.mapRef=e})}componentDidMount(){var e=this.getInstance();this.registeredEvents=Sn({updaterMap:D8,eventMap:P8,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{map:e}},this.setMapCallback)}componentDidUpdate(e){this.state.map!==null&&(Tn(this.registeredEvents),this.registeredEvents=Sn({updaterMap:D8,eventMap:P8,prevProps:e,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),Tn(this.registeredEvents))}render(){return a.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:a.jsx(gn.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})}}function M8(t,e,n,r,s,i,o){try{var c=t[i](o),u=c.value}catch(h){return void n(h)}c.done?e(u):Promise.resolve(u).then(r,s)}function jW(t){return function(){var e=this,n=arguments;return new Promise(function(r,s){var i=t.apply(e,n);function o(u){M8(i,r,s,o,c,"next",u)}function c(u){M8(i,r,s,o,c,"throw",u)}o(void 0)})}}function SW(t){var{googleMapsApiKey:e,googleMapsClientId:n,version:r="weekly",language:s,region:i,libraries:o,channel:c,mapIds:u,authReferrerPolicy:h}=t,f=[];return Vs(e&&n||!(e&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),e?f.push("key=".concat(e)):n&&f.push("client=".concat(n)),r&&f.push("v=".concat(r)),s&&f.push("language=".concat(s)),i&&f.push("region=".concat(i)),o&&o.length&&f.push("libraries=".concat(o.sort().join(","))),c&&f.push("channel=".concat(c)),u&&u.length&&f.push("map_ids=".concat(u.join(","))),h&&f.push("auth_referrer_policy=".concat(h)),f.push("loading=async"),f.push("callback=initMap"),"https://maps.googleapis.com/maps/api/js?".concat(f.join("&"))}var Qu=typeof document<"u";function CW(t){var{url:e,id:n,nonce:r}=t;return Qu?new Promise(function(i,o){var c=document.getElementById(n),u=window;if(c){var h=c.getAttribute("data-state");if(c.src===e&&h!=="error"){if(h==="ready")return i(n);var f=u.initMap,g=c.onerror;u.initMap=function(){f&&f(),i(n)},c.onerror=function(y){g&&g(y),o(y)};return}else c.remove()}var p=document.createElement("script");p.type="text/javascript",p.src=e,p.id=n,p.async=!0,p.nonce=r||"",p.onerror=function(w){p.setAttribute("data-state","error"),o(w)},u.initMap=function(){p.setAttribute("data-state","ready"),i(n)},document.head.appendChild(p)}).catch(s=>{throw console.error("injectScript error: ",s),s}):Promise.reject(new Error("document is undefined"))}function F8(t){var e=t.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:t.tagName.toLowerCase()==="style"&&t.styleSheet&&t.styleSheet.cssText&&t.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(t.styleSheet.cssText="",!0):t.tagName.toLowerCase()==="style"&&t.innerHTML&&t.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(t.innerHTML="",!0):t.tagName.toLowerCase()==="style"&&!t.styleSheet&&!t.innerHTML}function M3(){var t=document.getElementsByTagName("head")[0];if(t){var e=t.insertBefore.bind(t);t.insertBefore=function(s,i){return F8(s)||Reflect.apply(e,t,[s,i]),s};var n=t.appendChild.bind(t);t.appendChild=function(s){return F8(s)||Reflect.apply(n,t,[s]),s}}}var Lg=!1;function NW(){return a.jsx("div",{children:"Loading..."})}var ny={id:"script-loader",version:"weekly"};class S3e extends S.PureComponent{constructor(){super(...arguments),qe(this,"check",null),qe(this,"state",{loaded:!1}),qe(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),qe(this,"isCleaningUp",jW(function*(){function e(n){if(!Lg)n();else if(Qu)var r=window.setInterval(function(){Lg||(window.clearInterval(r),n())},1)}return new Promise(e)})),qe(this,"cleanup",()=>{Lg=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(r){return typeof r.src=="string"&&r.src.includes("maps.googleapis")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(r){return r.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(r){return r.innerText!==void 0&&r.innerText.length>0&&r.innerText.includes(".gm-")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)})}),qe(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&M3(),Vs(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var e={id:this.props.id,nonce:this.props.nonce,url:SW(this.props)};CW(e).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(n=>{this.props.onError&&this.props.onError(n),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})}),qe(this,"getRef",e=>{this.check=e})}componentDidMount(){if(Qu){if(window.google&&window.google.maps&&!Lg){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(n){console.error("Error at injecting script after cleaning up: ",n)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),Qu&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(Qu){this.cleanup();var e=()=>{this.check||(delete window.google,Lg=!1)};window.setTimeout(e,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return a.jsxs(a.Fragment,{children:[a.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||a.jsx(NW,{})]})}}qe(S3e,"defaultProps",ny);function C3e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function F3(t,e){if(t==null)return{};var n,r,s=C3e(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}var B8;function N3e(t){var{id:e=ny.id,version:n=ny.version,nonce:r,googleMapsApiKey:s,googleMapsClientId:i,language:o,region:c,libraries:u,preventGoogleFontsLoading:h,channel:f,mapIds:g,authReferrerPolicy:p}=t,y=S.useRef(!1),[w,E]=S.useState(!1),[j,C]=S.useState(void 0);S.useEffect(function(){return y.current=!0,()=>{y.current=!1}},[]),S.useEffect(function(){Qu&&h&&M3()},[h]),S.useEffect(function(){w&&Vs(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[w]);var O=SW({version:n,googleMapsApiKey:s,googleMapsClientId:i,language:o,region:c,libraries:u,channel:f,mapIds:g,authReferrerPolicy:p});S.useEffect(function(){if(!Qu)return;function T(){y.current&&(E(!0),B8=O)}if(window.google&&window.google.maps&&B8===O){T();return}CW({id:e,url:O,nonce:r}).then(T).catch(function(_){y.current&&C(_),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(s||"-",") or Client ID (").concat(i||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(_)})},[e,O,r]);var I=S.useRef(void 0);return S.useEffect(function(){I.current&&u!==I.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),I.current=u},[u]),{isLoaded:w,loadError:j,url:O}}var T3e=["loadingElement","onLoad","onError","onUnmount","children"],A3e=a.jsx(NW,{});function L3e(t){var{loadingElement:e,onLoad:n,onError:r,onUnmount:s,children:i}=t,o=F3(t,T3e),{isLoaded:c,loadError:u}=N3e(o);return S.useEffect(function(){c&&typeof n=="function"&&n()},[c,n]),S.useEffect(function(){u&&typeof r=="function"&&r(u)},[u,r]),S.useEffect(function(){return()=>{s&&s()}},[s]),c?i:e||A3e}S.memo(L3e);function R3e(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function c(f){try{h(r.next(f))}catch(g){o(g)}}function u(f){try{h(r.throw(f))}catch(g){o(g)}}function h(f){f.done?i(f.value):s(f.value).then(c,u)}h((r=r.apply(t,[])).next())})}function k3e(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var O3e=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,s,i;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!t(e[s],n[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[s]))return!1;for(s=r;s--!==0;){var o=i[s];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n},I3e=k3e(O3e),U8="__googleMapsScriptId",rm;(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(rm||(rm={}));class rh{constructor(e){var{apiKey:n,authReferrerPolicy:r,channel:s,client:i,id:o=U8,language:c,libraries:u=[],mapIds:h,nonce:f,region:g,retries:p=3,url:y="https://maps.googleapis.com/maps/api/js",version:w}=e;if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=n,this.authReferrerPolicy=r,this.channel=s,this.client=i,this.id=o||U8,this.language=c,this.libraries=u,this.mapIds=h,this.nonce=f,this.region=g,this.retries=p,this.url=y,this.version=w,rh.instance){if(!I3e(this.options,rh.instance.options))throw new Error("Loader must not be called again with different options. ".concat(JSON.stringify(this.options)," !== ").concat(JSON.stringify(rh.instance.options)));return rh.instance}rh.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?rm.FAILURE:this.done?rm.SUCCESS:this.loading?rm.LOADING:rm.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){var e=this.url;return e+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(e+="&key=".concat(this.apiKey)),this.channel&&(e+="&channel=".concat(this.channel)),this.client&&(e+="&client=".concat(this.client)),this.libraries.length>0&&(e+="&libraries=".concat(this.libraries.join(","))),this.language&&(e+="&language=".concat(this.language)),this.region&&(e+="&region=".concat(this.region)),this.version&&(e+="&v=".concat(this.version)),this.mapIds&&(e+="&map_ids=".concat(this.mapIds.join(","))),this.authReferrerPolicy&&(e+="&auth_referrer_policy=".concat(this.authReferrerPolicy)),e}deleteScript(){var e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,n)=>{this.loadCallback(r=>{r?n(r.error):e(window.google)})})}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,n;if(document.getElementById(this.id)){this.callback();return}var r={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(r).forEach(i=>!r[i]&&delete r[i]),!((n=(e=window==null?void 0:window.google)===null||e===void 0?void 0:e.maps)===null||n===void 0)&&n.importLibrary||(i=>{var o,c,u,h="The Google Maps JavaScript API",f="google",g="importLibrary",p="__ib__",y=document,w=window;w=w[f]||(w[f]={});var E=w.maps||(w.maps={}),j=new Set,C=new URLSearchParams,O=()=>o||(o=new Promise((I,D)=>R3e(this,void 0,void 0,function*(){var T;yield c=y.createElement("script"),c.id=this.id,C.set("libraries",[...j]+"");for(u in i)C.set(u.replace(/[A-Z]/g,F=>"_"+F[0].toLowerCase()),i[u]);C.set("callback",f+".maps."+p),c.src=this.url+"?"+C,E[p]=I,c.onerror=()=>o=D(Error(h+" could not load.")),c.nonce=this.nonce||((T=y.querySelector("script[nonce]"))===null||T===void 0?void 0:T.nonce)||"",y.head.append(c)})));E[g]?console.warn(h+" only loads once. Ignoring:",i):E[g]=function(I){for(var D=arguments.length,T=new Array(D>1?D-1:0),F=1;F<D;F++)T[F-1]=arguments[F];return j.add(I)&&O().then(()=>E[g](I,...T))}})(r);var s=this.libraries.map(i=>this.importLibrary(i));s.length||s.push(this.importLibrary("core")),Promise.all(s).then(()=>this.callback(),i=>{var o=new ErrorEvent("error",{error:i});this.loadErrorCallback(o)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){var n=this.errors.length*Math.pow(2,this.errors.length);console.error("Failed to load Google Maps script, retrying in ".concat(n," ms.")),setTimeout(()=>{this.deleteScript(),this.setScript()},n)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}var P3e=["maps"];function TW(t){var{id:e=ny.id,version:n=ny.version,nonce:r,googleMapsApiKey:s,language:i,region:o,libraries:c=P3e,preventGoogleFontsLoading:u,mapIds:h,authReferrerPolicy:f}=t,g=S.useRef(!1),[p,y]=S.useState(!1),[w,E]=S.useState(void 0);S.useEffect(function(){return g.current=!0,()=>{g.current=!1}},[]);var j=S.useMemo(()=>new rh({id:e,apiKey:s,version:n,libraries:c,language:i||"en",region:o||"US",mapIds:h||[],nonce:r||"",authReferrerPolicy:f||"origin"}),[e,s,n,c,i,o,h,r,f]);S.useEffect(function(){p||j.load().then(()=>{g.current&&y(!0)}).catch(I=>{E(I)})},[]),S.useEffect(()=>{Qu&&u&&M3()},[u]);var C=S.useRef();return S.useEffect(()=>{C.current&&c!==C.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),C.current=c},[c]),{isLoaded:p,loadError:w}}function z8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function _1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z8(Object(n),!0).forEach(function(r){qe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var q8={},$8={options(t,e){t.setOptions(e)}};function D3e(t){var{options:e,onLoad:n,onUnmount:r}=t,s=S.useContext(gn),[i,o]=S.useState(null);return S.useEffect(()=>{i!==null&&i.setMap(s)},[s]),S.useEffect(()=>{e&&i!==null&&i.setOptions(e)},[i,e]),S.useEffect(()=>{var c=new google.maps.TrafficLayer(_1(_1({},e),{},{map:s}));return o(c),n&&n(c),()=>{i!==null&&(r&&r(i),i.setMap(null))}},[]),null}S.memo(D3e);class M3e extends S.PureComponent{constructor(){super(...arguments),qe(this,"state",{trafficLayer:null}),qe(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),qe(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(_1(_1({},this.props.options),{},{map:this.context}));this.registeredEvents=Sn({updaterMap:$8,eventMap:q8,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){this.state.trafficLayer!==null&&(Tn(this.registeredEvents),this.registeredEvents=Sn({updaterMap:$8,eventMap:q8,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),Tn(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}qe(M3e,"contextType",gn);function F3e(t){var{onLoad:e,onUnmount:n}=t,r=S.useContext(gn),[s,i]=S.useState(null);return S.useEffect(()=>{s!==null&&s.setMap(r)},[r]),S.useEffect(()=>{var o=new google.maps.BicyclingLayer;return i(o),o.setMap(r),e&&e(o),()=>{o!==null&&(n&&n(o),o.setMap(null))}},[]),null}S.memo(F3e);class B3e extends S.PureComponent{constructor(){super(...arguments),qe(this,"state",{bicyclingLayer:null}),qe(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}qe(B3e,"contextType",gn);function U3e(t){var{onLoad:e,onUnmount:n}=t,r=S.useContext(gn),[s,i]=S.useState(null);return S.useEffect(()=>{s!==null&&s.setMap(r)},[r]),S.useEffect(()=>{var o=new google.maps.TransitLayer;return i(o),o.setMap(r),e&&e(o),()=>{s!==null&&(n&&n(s),s.setMap(null))}},[]),null}S.memo(U3e);class z3e extends S.PureComponent{constructor(){super(...arguments),qe(this,"state",{transitLayer:null}),qe(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}qe(z3e,"contextType",gn);function V8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function E1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V8(Object(n),!0).forEach(function(r){qe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var H8={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},G8={drawingMode(t,e){t.setDrawingMode(e)},options(t,e){t.setOptions(e)}};function q3e(t){var{options:e,drawingMode:n,onCircleComplete:r,onMarkerComplete:s,onOverlayComplete:i,onPolygonComplete:o,onPolylineComplete:c,onRectangleComplete:u,onLoad:h,onUnmount:f}=t,g=S.useContext(gn),[p,y]=S.useState(null),[w,E]=S.useState(null),[j,C]=S.useState(null),[O,I]=S.useState(null),[D,T]=S.useState(null),[F,_]=S.useState(null),[R,b]=S.useState(null);return S.useEffect(()=>{p!==null&&p.setMap(g)},[g]),S.useEffect(()=>{e&&p!==null&&p.setOptions(e)},[p,e]),S.useEffect(()=>{p!==null&&p.setDrawingMode(n??null)},[p,n]),S.useEffect(()=>{p&&r&&(w!==null&&google.maps.event.removeListener(w),E(google.maps.event.addListener(p,"circlecomplete",r)))},[p,r]),S.useEffect(()=>{p&&s&&(j!==null&&google.maps.event.removeListener(j),C(google.maps.event.addListener(p,"markercomplete",s)))},[p,s]),S.useEffect(()=>{p&&i&&(O!==null&&google.maps.event.removeListener(O),I(google.maps.event.addListener(p,"overlaycomplete",i)))},[p,i]),S.useEffect(()=>{p&&o&&(D!==null&&google.maps.event.removeListener(D),T(google.maps.event.addListener(p,"polygoncomplete",o)))},[p,o]),S.useEffect(()=>{p&&c&&(F!==null&&google.maps.event.removeListener(F),_(google.maps.event.addListener(p,"polylinecomplete",c)))},[p,c]),S.useEffect(()=>{p&&u&&(R!==null&&google.maps.event.removeListener(R),b(google.maps.event.addListener(p,"rectanglecomplete",u)))},[p,u]),S.useEffect(()=>{Vs(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var A=new google.maps.drawing.DrawingManager(E1(E1({},e),{},{map:g}));return n&&A.setDrawingMode(n),r&&E(google.maps.event.addListener(A,"circlecomplete",r)),s&&C(google.maps.event.addListener(A,"markercomplete",s)),i&&I(google.maps.event.addListener(A,"overlaycomplete",i)),o&&T(google.maps.event.addListener(A,"polygoncomplete",o)),c&&_(google.maps.event.addListener(A,"polylinecomplete",c)),u&&b(google.maps.event.addListener(A,"rectanglecomplete",u)),y(A),h&&h(A),()=>{p!==null&&(w&&google.maps.event.removeListener(w),j&&google.maps.event.removeListener(j),O&&google.maps.event.removeListener(O),D&&google.maps.event.removeListener(D),F&&google.maps.event.removeListener(F),R&&google.maps.event.removeListener(R),f&&f(p),p.setMap(null))}},[]),null}S.memo(q3e);class $3e extends S.PureComponent{constructor(e){super(e),qe(this,"registeredEvents",[]),qe(this,"state",{drawingManager:null}),qe(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),Vs(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(E1(E1({},this.props.options),{},{map:this.context}));this.registeredEvents=Sn({updaterMap:G8,eventMap:H8,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){this.state.drawingManager!==null&&(Tn(this.registeredEvents),this.registeredEvents=Sn({updaterMap:G8,eventMap:H8,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),Tn(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}qe($3e,"contextType",gn);function W8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function bm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W8(Object(n),!0).forEach(function(r){qe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var K8={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},Y8={animation(t,e){t.setAnimation(e)},clickable(t,e){t.setClickable(e)},cursor(t,e){t.setCursor(e)},draggable(t,e){t.setDraggable(e)},icon(t,e){t.setIcon(e)},label(t,e){t.setLabel(e)},map(t,e){t.setMap(e)},opacity(t,e){t.setOpacity(e)},options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},shape(t,e){t.setShape(e)},title(t,e){t.setTitle(e)},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},j1={};function V3e(t){var{position:e,options:n,clusterer:r,noClustererRedraw:s,children:i,draggable:o,visible:c,animation:u,clickable:h,cursor:f,icon:g,label:p,opacity:y,shape:w,title:E,zIndex:j,onClick:C,onDblClick:O,onDrag:I,onDragEnd:D,onDragStart:T,onMouseOut:F,onMouseOver:_,onMouseUp:R,onMouseDown:b,onRightClick:A,onClickableChanged:L,onCursorChanged:U,onAnimationChanged:P,onDraggableChanged:K,onFlatChanged:G,onIconChanged:re,onPositionChanged:Z,onShapeChanged:me,onTitleChanged:ie,onVisibleChanged:W,onZindexChanged:ye,onLoad:Q,onUnmount:ne}=t,te=S.useContext(gn),[X,xe]=S.useState(null),[Ne,je]=S.useState(null),[Ie,_e]=S.useState(null),[Ue,tt]=S.useState(null),[ct,ut]=S.useState(null),[Ye,jt]=S.useState(null),[Ze,Ut]=S.useState(null),[Cn,fn]=S.useState(null),[yn,ur]=S.useState(null),[sr,We]=S.useState(null),[xt,Dt]=S.useState(null),[Rt,on]=S.useState(null),[Gr,Jn]=S.useState(null),[ws,es]=S.useState(null),[Br,Vn]=S.useState(null),[Ur,zr]=S.useState(null),[Hn,Wr]=S.useState(null),[yr,sa]=S.useState(null),[ms,ps]=S.useState(null),[mr,Cr]=S.useState(null),[gs,aa]=S.useState(null),[Hs,ts]=S.useState(null);S.useEffect(()=>{X!==null&&X.setMap(te)},[te]),S.useEffect(()=>{typeof n<"u"&&X!==null&&X.setOptions(n)},[X,n]),S.useEffect(()=>{typeof o<"u"&&X!==null&&X.setDraggable(o)},[X,o]),S.useEffect(()=>{e&&X!==null&&X.setPosition(e)},[X,e]),S.useEffect(()=>{typeof c<"u"&&X!==null&&X.setVisible(c)},[X,c]),S.useEffect(()=>{X==null||X.setAnimation(u)},[X,u]),S.useEffect(()=>{X&&h!==void 0&&X.setClickable(h)},[X,h]),S.useEffect(()=>{X&&f!==void 0&&X.setCursor(f)},[X,f]),S.useEffect(()=>{X&&g!==void 0&&X.setIcon(g)},[X,g]),S.useEffect(()=>{X&&p!==void 0&&X.setLabel(p)},[X,p]),S.useEffect(()=>{X&&y!==void 0&&X.setOpacity(y)},[X,y]),S.useEffect(()=>{X&&w!==void 0&&X.setShape(w)},[X,w]),S.useEffect(()=>{X&&E!==void 0&&X.setTitle(E)},[X,E]),S.useEffect(()=>{X&&j!==void 0&&X.setZIndex(j)},[X,j]),S.useEffect(()=>{X&&O&&(Ne!==null&&google.maps.event.removeListener(Ne),je(google.maps.event.addListener(X,"dblclick",O)))},[O]),S.useEffect(()=>{X&&D&&(Ie!==null&&google.maps.event.removeListener(Ie),_e(google.maps.event.addListener(X,"dragend",D)))},[D]),S.useEffect(()=>{X&&T&&(Ue!==null&&google.maps.event.removeListener(Ue),tt(google.maps.event.addListener(X,"dragstart",T)))},[T]),S.useEffect(()=>{X&&b&&(ct!==null&&google.maps.event.removeListener(ct),ut(google.maps.event.addListener(X,"mousedown",b)))},[b]),S.useEffect(()=>{X&&F&&(Ye!==null&&google.maps.event.removeListener(Ye),jt(google.maps.event.addListener(X,"mouseout",F)))},[F]),S.useEffect(()=>{X&&_&&(Ze!==null&&google.maps.event.removeListener(Ze),Ut(google.maps.event.addListener(X,"mouseover",_)))},[_]),S.useEffect(()=>{X&&R&&(Cn!==null&&google.maps.event.removeListener(Cn),fn(google.maps.event.addListener(X,"mouseup",R)))},[R]),S.useEffect(()=>{X&&A&&(yn!==null&&google.maps.event.removeListener(yn),ur(google.maps.event.addListener(X,"rightclick",A)))},[A]),S.useEffect(()=>{X&&C&&(sr!==null&&google.maps.event.removeListener(sr),We(google.maps.event.addListener(X,"click",C)))},[C]),S.useEffect(()=>{X&&I&&(xt!==null&&google.maps.event.removeListener(xt),Dt(google.maps.event.addListener(X,"drag",I)))},[I]),S.useEffect(()=>{X&&L&&(Rt!==null&&google.maps.event.removeListener(Rt),on(google.maps.event.addListener(X,"clickable_changed",L)))},[L]),S.useEffect(()=>{X&&U&&(Gr!==null&&google.maps.event.removeListener(Gr),Jn(google.maps.event.addListener(X,"cursor_changed",U)))},[U]),S.useEffect(()=>{X&&P&&(ws!==null&&google.maps.event.removeListener(ws),es(google.maps.event.addListener(X,"animation_changed",P)))},[P]),S.useEffect(()=>{X&&K&&(Br!==null&&google.maps.event.removeListener(Br),Vn(google.maps.event.addListener(X,"draggable_changed",K)))},[K]),S.useEffect(()=>{X&&G&&(Ur!==null&&google.maps.event.removeListener(Ur),zr(google.maps.event.addListener(X,"flat_changed",G)))},[G]),S.useEffect(()=>{X&&re&&(Hn!==null&&google.maps.event.removeListener(Hn),Wr(google.maps.event.addListener(X,"icon_changed",re)))},[re]),S.useEffect(()=>{X&&Z&&(yr!==null&&google.maps.event.removeListener(yr),sa(google.maps.event.addListener(X,"position_changed",Z)))},[Z]),S.useEffect(()=>{X&&me&&(ms!==null&&google.maps.event.removeListener(ms),ps(google.maps.event.addListener(X,"shape_changed",me)))},[me]),S.useEffect(()=>{X&&ie&&(mr!==null&&google.maps.event.removeListener(mr),Cr(google.maps.event.addListener(X,"title_changed",ie)))},[ie]),S.useEffect(()=>{X&&W&&(gs!==null&&google.maps.event.removeListener(gs),aa(google.maps.event.addListener(X,"visible_changed",W)))},[W]),S.useEffect(()=>{X&&ye&&(Hs!==null&&google.maps.event.removeListener(Hs),ts(google.maps.event.addListener(X,"zindex_changed",ye)))},[ye]),S.useEffect(()=>{var bn=bm(bm(bm({},n||j1),r?j1:{map:te}),{},{position:e}),Ft=new google.maps.Marker(bn);return r?r.addMarker(Ft,!!s):Ft.setMap(te),e&&Ft.setPosition(e),typeof c<"u"&&Ft.setVisible(c),typeof o<"u"&&Ft.setDraggable(o),typeof h<"u"&&Ft.setClickable(h),typeof f=="string"&&Ft.setCursor(f),g&&Ft.setIcon(g),typeof p<"u"&&Ft.setLabel(p),typeof y<"u"&&Ft.setOpacity(y),w&&Ft.setShape(w),typeof E=="string"&&Ft.setTitle(E),typeof j=="number"&&Ft.setZIndex(j),O&&je(google.maps.event.addListener(Ft,"dblclick",O)),D&&_e(google.maps.event.addListener(Ft,"dragend",D)),T&&tt(google.maps.event.addListener(Ft,"dragstart",T)),b&&ut(google.maps.event.addListener(Ft,"mousedown",b)),F&&jt(google.maps.event.addListener(Ft,"mouseout",F)),_&&Ut(google.maps.event.addListener(Ft,"mouseover",_)),R&&fn(google.maps.event.addListener(Ft,"mouseup",R)),A&&ur(google.maps.event.addListener(Ft,"rightclick",A)),C&&We(google.maps.event.addListener(Ft,"click",C)),I&&Dt(google.maps.event.addListener(Ft,"drag",I)),L&&on(google.maps.event.addListener(Ft,"clickable_changed",L)),U&&Jn(google.maps.event.addListener(Ft,"cursor_changed",U)),P&&es(google.maps.event.addListener(Ft,"animation_changed",P)),K&&Vn(google.maps.event.addListener(Ft,"draggable_changed",K)),G&&zr(google.maps.event.addListener(Ft,"flat_changed",G)),re&&Wr(google.maps.event.addListener(Ft,"icon_changed",re)),Z&&sa(google.maps.event.addListener(Ft,"position_changed",Z)),me&&ps(google.maps.event.addListener(Ft,"shape_changed",me)),ie&&Cr(google.maps.event.addListener(Ft,"title_changed",ie)),W&&aa(google.maps.event.addListener(Ft,"visible_changed",W)),ye&&ts(google.maps.event.addListener(Ft,"zindex_changed",ye)),xe(Ft),Q&&Q(Ft),()=>{Ne!==null&&google.maps.event.removeListener(Ne),Ie!==null&&google.maps.event.removeListener(Ie),Ue!==null&&google.maps.event.removeListener(Ue),ct!==null&&google.maps.event.removeListener(ct),Ye!==null&&google.maps.event.removeListener(Ye),Ze!==null&&google.maps.event.removeListener(Ze),Cn!==null&&google.maps.event.removeListener(Cn),yn!==null&&google.maps.event.removeListener(yn),sr!==null&&google.maps.event.removeListener(sr),Rt!==null&&google.maps.event.removeListener(Rt),Gr!==null&&google.maps.event.removeListener(Gr),ws!==null&&google.maps.event.removeListener(ws),Br!==null&&google.maps.event.removeListener(Br),Ur!==null&&google.maps.event.removeListener(Ur),Hn!==null&&google.maps.event.removeListener(Hn),yr!==null&&google.maps.event.removeListener(yr),mr!==null&&google.maps.event.removeListener(mr),gs!==null&&google.maps.event.removeListener(gs),Hs!==null&&google.maps.event.removeListener(Hs),ne&&ne(Ft),r?r.removeMarker(Ft,!!s):Ft&&Ft.setMap(null)}},[]);var Ha=S.useMemo(()=>i?S.Children.map(i,bn=>{if(!S.isValidElement(bn))return bn;var Ft=bn;return S.cloneElement(Ft,{anchor:X})}):null,[i,X]);return a.jsx(a.Fragment,{children:Ha})||null}S.memo(V3e);let B3=class extends S.PureComponent{constructor(){super(...arguments),qe(this,"registeredEvents",[])}componentDidMount(){var e=this;return jW(function*(){var n=bm(bm(bm({},e.props.options||j1),e.props.clusterer?j1:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(n),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=Sn({updaterMap:Y8,eventMap:K8,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)})()}componentDidUpdate(e){this.marker&&(Tn(this.registeredEvents),this.registeredEvents=Sn({updaterMap:Y8,eventMap:K8,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),Tn(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var e=this.props.children?S.Children.map(this.props.children,n=>{if(!S.isValidElement(n))return n;var r=n;return S.cloneElement(r,{anchor:this.marker})}):null;return e||null}};qe(B3,"contextType",gn);var H3e=function(){function t(e,n){e.getClusterer().extend(t,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return t.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},t.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},t.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var n=this.cluster.getClusterer();if(google.maps.event.trigger(n,"click",this.cluster),google.maps.event.trigger(n,"clusterclick",this.cluster),n.getZoomOnClick()){var r=n.getMaxZoom(),s=this.cluster.getBounds(),i=n.getMap();i!==null&&"fitBounds"in i&&i.fitBounds(s),this.timeOut=window.setTimeout(function(){var o=n.getMap();if(o!==null){"fitBounds"in o&&o.fitBounds(s);var c=o.getZoom()||0;r!==null&&c>r&&o.setZoom(r+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},t.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},t.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},t.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var n=this.getMap();n!==null&&(this.boundsChangedListener=google.maps.event.addListener(n,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},t.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},t.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},t.prototype.show=function(){var e,n,r,s,i,o;if(this.div&&this.center){var c=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,u=this.backgroundPosition.split(" "),h=parseInt(((e=u[0])===null||e===void 0?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),f=parseInt(((n=u[1])===null||n===void 0?void 0:n.replace(/^\s+|\s+$/g,""))||"0",10),g=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(g!==null?"".concat(g.y,"px"):"0","; left: ").concat(g!==null?"".concat(g.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var p=document.createElement("img");p.alt=c,p.src=this.url,p.width=this.width,p.height=this.height,p.setAttribute("style","position: absolute; top: ".concat(f,"px; left: ").concat(h,"px")),this.cluster.getClusterer().enableRetinaIcons||(p.style.clip="rect(-".concat(f,"px, -").concat(h+this.width,"px, -").concat(f+this.height,", -").concat(h,")"));var y=document.createElement("div");y.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((r=this.sums)===null||r===void 0)&&r.text&&(y.innerText="".concat((s=this.sums)===null||s===void 0?void 0:s.text)),!((i=this.sums)===null||i===void 0)&&i.html&&(y.innerHTML="".concat((o=this.sums)===null||o===void 0?void 0:o.html)),this.div.innerHTML="",this.div.appendChild(p),this.div.appendChild(y),this.div.title=c,this.div.style.display=""}this.visible=!0},t.prototype.useStyle=function(e){this.sums=e;var n=this.cluster.getClusterer().getStyles(),r=n[Math.min(n.length-1,Math.max(0,e.index-1))];r&&(this.url=r.url,this.height=r.height,this.width=r.width,r.className&&(this.className="".concat(this.clusterClassName," ").concat(r.className)),this.anchorText=r.anchorText||[0,0],this.anchorIcon=r.anchorIcon||[this.height/2,this.width/2],this.textColor=r.textColor||"black",this.textSize=r.textSize||11,this.textDecoration=r.textDecoration||"none",this.fontWeight=r.fontWeight||"bold",this.fontStyle=r.fontStyle||"normal",this.fontFamily=r.fontFamily||"Arial,sans-serif",this.backgroundPosition=r.backgroundPosition||"0 0")},t.prototype.setCenter=function(e){this.center=e},t.prototype.getPosFromLatLng=function(e){var n=this.getProjection().fromLatLngToDivPixel(e);return n!==null&&(n.x-=this.anchorIcon[1],n.y-=this.anchorIcon[0]),n},t}(),G3e=function(){function t(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new H3e(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return t.prototype.getSize=function(){return this.markers.length},t.prototype.getMarkers=function(){return this.markers},t.prototype.getCenter=function(){return this.center},t.prototype.getMap=function(){return this.map},t.prototype.getClusterer=function(){return this.markerClusterer},t.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),n=this.getMarkers(),r=0,s=n;r<s.length;r++){var i=s[r],o=i.getPosition();o&&e.extend(o)}return e},t.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},t.prototype.addMarker=function(e){var n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var r=e.getPosition();if(r){var s=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(s-1)+r.lat())/s,(this.center.lng()*(s-1)+r.lng())/s),this.calculateBounds()}}}else{var r=e.getPosition();r&&(this.center=r,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var i=this.markers.length,o=this.markerClusterer.getMaxZoom(),c=(n=this.map)===null||n===void 0?void 0:n.getZoom();if(o!==null&&typeof c<"u"&&c>o)e.getMap()!==this.map&&e.setMap(this.map);else if(i<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(i===this.minClusterSize)for(var u=0,h=this.markers;u<h.length;u++){var f=h[u];f.setMap(null)}else e.setMap(null);return!0},t.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var n=e.getPosition();if(n)return this.bounds.contains(n)}return!1},t.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},t.prototype.updateIcon=function(){var e,n=this.markers.length,r=this.markerClusterer.getMaxZoom(),s=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(r!==null&&typeof s<"u"&&s>r){this.clusterIcon.hide();return}if(n<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},t.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var n=0;n<this.markers.length;n++)if(e===this.markers[n])return!0;return!1},t}();function W3e(t,e){var n=t.length,r=n.toString().length,s=Math.min(r,e);return{text:n.toString(),index:s,title:""}}var K3e=2e3,Y3e=500,X3e="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",J3e="png",Q3e=[53,56,66,78,90],Z3e="cluster",AW=function(){function t(e,n,r){n===void 0&&(n=[]),r===void 0&&(r={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(t,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=r.gridSize||60,this.minClusterSize=r.minimumClusterSize||2,this.maxZoom=r.maxZoom||null,this.styles=r.styles||[],this.title=r.title||"",this.zoomOnClick=!0,r.zoomOnClick!==void 0&&(this.zoomOnClick=r.zoomOnClick),this.averageCenter=!1,r.averageCenter!==void 0&&(this.averageCenter=r.averageCenter),this.ignoreHidden=!1,r.ignoreHidden!==void 0&&(this.ignoreHidden=r.ignoreHidden),this.enableRetinaIcons=!1,r.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=r.enableRetinaIcons),this.imagePath=r.imagePath||X3e,this.imageExtension=r.imageExtension||J3e,this.imageSizes=r.imageSizes||Q3e,this.calculator=r.calculator||W3e,this.batchSize=r.batchSize||K3e,this.batchSizeIE=r.batchSizeIE||Y3e,this.clusterClass=r.clusterClass||Z3e,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(e)}return t.prototype.onZoomChanged=function(){var e,n;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((n=this.getMap())===null||n===void 0?void 0:n.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},t.prototype.onIdle=function(){this.redraw()},t.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},t.prototype.onRemove=function(){for(var e=0,n=this.markers;e<n.length;e++){var r=n[e];r.getMap()!==this.activeMap&&r.setMap(this.activeMap)}for(var s=0,i=this.clusters;s<i.length;s++){var o=i[s];o.remove()}this.clusters=[];for(var c=0,u=this.listeners;c<u.length;c++){var h=u[c];google.maps.event.removeListener(h)}this.listeners=[],this.activeMap=null,this.ready=!1},t.prototype.draw=function(){},t.prototype.getMap=function(){return null},t.prototype.getPanes=function(){return null},t.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},t.prototype.setMap=function(){},t.prototype.addListener=function(){return{remove:function(){}}},t.prototype.bindTo=function(){},t.prototype.get=function(){},t.prototype.notify=function(){},t.prototype.set=function(){},t.prototype.setValues=function(){},t.prototype.unbind=function(){},t.prototype.unbindAll=function(){},t.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},t.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),n=new google.maps.LatLngBounds,r=0,s=e;r<s.length;r++){var i=s[r],o=i.getPosition();o&&n.extend(o)}var c=this.getMap();c!==null&&"fitBounds"in c&&c.fitBounds(n)},t.prototype.getGridSize=function(){return this.gridSize},t.prototype.setGridSize=function(e){this.gridSize=e},t.prototype.getMinimumClusterSize=function(){return this.minClusterSize},t.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.setMaxZoom=function(e){this.maxZoom=e},t.prototype.getStyles=function(){return this.styles},t.prototype.setStyles=function(e){this.styles=e},t.prototype.getTitle=function(){return this.title},t.prototype.setTitle=function(e){this.title=e},t.prototype.getZoomOnClick=function(){return this.zoomOnClick},t.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},t.prototype.getAverageCenter=function(){return this.averageCenter},t.prototype.setAverageCenter=function(e){this.averageCenter=e},t.prototype.getIgnoreHidden=function(){return this.ignoreHidden},t.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},t.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},t.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},t.prototype.getImageExtension=function(){return this.imageExtension},t.prototype.setImageExtension=function(e){this.imageExtension=e},t.prototype.getImagePath=function(){return this.imagePath},t.prototype.setImagePath=function(e){this.imagePath=e},t.prototype.getImageSizes=function(){return this.imageSizes},t.prototype.setImageSizes=function(e){this.imageSizes=e},t.prototype.getCalculator=function(){return this.calculator},t.prototype.setCalculator=function(e){this.calculator=e},t.prototype.getBatchSizeIE=function(){return this.batchSizeIE},t.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},t.prototype.getClusterClass=function(){return this.clusterClass},t.prototype.setClusterClass=function(e){this.clusterClass=e},t.prototype.getMarkers=function(){return this.markers},t.prototype.getTotalMarkers=function(){return this.markers.length},t.prototype.getClusters=function(){return this.clusters},t.prototype.getTotalClusters=function(){return this.clusters.length},t.prototype.addMarker=function(e,n){this.pushMarkerTo(e),n||this.redraw()},t.prototype.addMarkers=function(e,n){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var s=e[r];s&&this.pushMarkerTo(s)}n||this.redraw()},t.prototype.pushMarkerTo=function(e){var n=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){n.ready&&(e.isAdded=!1,n.repaint())}),e.isAdded=!1,this.markers.push(e)},t.prototype.removeMarker_=function(e){var n=-1;if(this.markers.indexOf)n=this.markers.indexOf(e);else for(var r=0;r<this.markers.length;r++)if(e===this.markers[r]){n=r;break}return n===-1?!1:(e.setMap(null),this.markers.splice(n,1),!0)},t.prototype.removeMarker=function(e,n){var r=this.removeMarker_(e);return!n&&r&&this.repaint(),r},t.prototype.removeMarkers=function(e,n){for(var r=!1,s=0,i=e;s<i.length;s++){var o=i[s];r=r||this.removeMarker_(o)}return!n&&r&&this.repaint(),r},t.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},t.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var r=0,s=e;r<s.length;r++){var i=s[r];i.remove()}},0)},t.prototype.getExtendedBounds=function(e){var n=this.getProjection(),r=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));r!==null&&(r.x+=this.gridSize,r.y-=this.gridSize);var s=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(s!==null&&(s.x-=this.gridSize,s.y+=this.gridSize),r!==null){var i=n.fromDivPixelToLatLng(r);i!==null&&e.extend(i)}if(s!==null){var o=n.fromDivPixelToLatLng(s);o!==null&&e.extend(o)}return e},t.prototype.redraw=function(){this.createClusters(0)},t.prototype.resetViewport=function(e){for(var n=0,r=this.clusters;n<r.length;n++){var s=r[n];s.remove()}this.clusters=[];for(var i=0,o=this.markers;i<o.length;i++){var c=o[i];c.isAdded=!1,e&&c.setMap(null)}},t.prototype.distanceBetweenPoints=function(e,n){var r=6371,s=(n.lat()-e.lat())*Math.PI/180,i=(n.lng()-e.lng())*Math.PI/180,o=Math.sin(s/2)*Math.sin(s/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(n.lat()*Math.PI/180)*Math.sin(i/2)*Math.sin(i/2);return r*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},t.prototype.isMarkerInBounds=function(e,n){var r=e.getPosition();return r?n.contains(r):!1},t.prototype.addToClosestCluster=function(e){for(var n,r=4e4,s=null,i=0,o=this.clusters;i<o.length;i++){var c=o[i];n=c;var u=n.getCenter(),h=e.getPosition();if(u&&h){var f=this.distanceBetweenPoints(u,h);f<r&&(r=f,s=n)}}s&&s.isMarkerInClusterBounds(e)?s.addMarker(e):(n=new G3e(this),n.addMarker(e),this.clusters.push(n))},t.prototype.createClusters=function(e){var n=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var r=this.getMap(),s=r!==null&&("getBounds"in r)?r.getBounds():null,i=(r==null?void 0:r.getZoom())||0,o=i>3?new google.maps.LatLngBounds(s==null?void 0:s.getSouthWest(),s==null?void 0:s.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),c=this.getExtendedBounds(o),u=Math.min(e+this.batchSize,this.markers.length),h=e;h<u;h++){var f=this.markers[h];f&&!f.isAdded&&this.isMarkerInBounds(f,c)&&(!this.ignoreHidden||this.ignoreHidden&&f.getVisible())&&this.addToClosestCluster(f)}if(u<this.markers.length)this.timerRefStatic=window.setTimeout(function(){n.createClusters(u)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var g=0,p=this.clusters;g<p.length;g++){var y=p[g];y.updateIcon()}}}},t.prototype.extend=function(e,n){return(function(s){for(var i in s.prototype){var o=i;this.prototype[o]=s.prototype[o]}return this}).apply(e,[n])},t}();function X8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function e4e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X8(Object(n),!0).forEach(function(r){qe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var bo={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},Kn={averageCenter(t,e){t.setAverageCenter(e)},batchSizeIE(t,e){t.setBatchSizeIE(e)},calculator(t,e){t.setCalculator(e)},clusterClass(t,e){t.setClusterClass(e)},enableRetinaIcons(t,e){t.setEnableRetinaIcons(e)},gridSize(t,e){t.setGridSize(e)},ignoreHidden(t,e){t.setIgnoreHidden(e)},imageExtension(t,e){t.setImageExtension(e)},imagePath(t,e){t.setImagePath(e)},imageSizes(t,e){t.setImageSizes(e)},maxZoom(t,e){t.setMaxZoom(e)},minimumClusterSize(t,e){t.setMinimumClusterSize(e)},styles(t,e){t.setStyles(e)},title(t,e){t.setTitle(e)},zoomOnClick(t,e){t.setZoomOnClick(e)}},t4e={};function n4e(t){var{children:e,options:n,averageCenter:r,batchSizeIE:s,calculator:i,clusterClass:o,enableRetinaIcons:c,gridSize:u,ignoreHidden:h,imageExtension:f,imagePath:g,imageSizes:p,maxZoom:y,minimumClusterSize:w,styles:E,title:j,zoomOnClick:C,onClick:O,onClusteringBegin:I,onClusteringEnd:D,onMouseOver:T,onMouseOut:F,onLoad:_,onUnmount:R}=t,[b,A]=S.useState(null),L=S.useContext(gn),[U,P]=S.useState(null),[K,G]=S.useState(null),[re,Z]=S.useState(null),[me,ie]=S.useState(null),[W,ye]=S.useState(null);return S.useEffect(()=>{b&&F&&(me!==null&&google.maps.event.removeListener(me),ie(google.maps.event.addListener(b,bo.onMouseOut,F)))},[F]),S.useEffect(()=>{b&&T&&(W!==null&&google.maps.event.removeListener(W),ye(google.maps.event.addListener(b,bo.onMouseOver,T)))},[T]),S.useEffect(()=>{b&&O&&(U!==null&&google.maps.event.removeListener(U),P(google.maps.event.addListener(b,bo.onClick,O)))},[O]),S.useEffect(()=>{b&&I&&(K!==null&&google.maps.event.removeListener(K),G(google.maps.event.addListener(b,bo.onClusteringBegin,I)))},[I]),S.useEffect(()=>{b&&D&&(re!==null&&google.maps.event.removeListener(re),G(google.maps.event.addListener(b,bo.onClusteringEnd,D)))},[D]),S.useEffect(()=>{typeof r<"u"&&b!==null&&Kn.averageCenter(b,r)},[b,r]),S.useEffect(()=>{typeof s<"u"&&b!==null&&Kn.batchSizeIE(b,s)},[b,s]),S.useEffect(()=>{typeof i<"u"&&b!==null&&Kn.calculator(b,i)},[b,i]),S.useEffect(()=>{typeof o<"u"&&b!==null&&Kn.clusterClass(b,o)},[b,o]),S.useEffect(()=>{typeof c<"u"&&b!==null&&Kn.enableRetinaIcons(b,c)},[b,c]),S.useEffect(()=>{typeof u<"u"&&b!==null&&Kn.gridSize(b,u)},[b,u]),S.useEffect(()=>{typeof h<"u"&&b!==null&&Kn.ignoreHidden(b,h)},[b,h]),S.useEffect(()=>{typeof f<"u"&&b!==null&&Kn.imageExtension(b,f)},[b,f]),S.useEffect(()=>{typeof g<"u"&&b!==null&&Kn.imagePath(b,g)},[b,g]),S.useEffect(()=>{typeof p<"u"&&b!==null&&Kn.imageSizes(b,p)},[b,p]),S.useEffect(()=>{typeof y<"u"&&b!==null&&Kn.maxZoom(b,y)},[b,y]),S.useEffect(()=>{typeof w<"u"&&b!==null&&Kn.minimumClusterSize(b,w)},[b,w]),S.useEffect(()=>{typeof E<"u"&&b!==null&&Kn.styles(b,E)},[b,E]),S.useEffect(()=>{typeof j<"u"&&b!==null&&Kn.title(b,j)},[b,j]),S.useEffect(()=>{typeof C<"u"&&b!==null&&Kn.zoomOnClick(b,C)},[b,C]),S.useEffect(()=>{if(L){var Q=e4e({},n||t4e),ne=new AW(L,[],Q);return r&&Kn.averageCenter(ne,r),s&&Kn.batchSizeIE(ne,s),i&&Kn.calculator(ne,i),o&&Kn.clusterClass(ne,o),c&&Kn.enableRetinaIcons(ne,c),u&&Kn.gridSize(ne,u),h&&Kn.ignoreHidden(ne,h),f&&Kn.imageExtension(ne,f),g&&Kn.imagePath(ne,g),p&&Kn.imageSizes(ne,p),y&&Kn.maxZoom(ne,y),w&&Kn.minimumClusterSize(ne,w),E&&Kn.styles(ne,E),j&&Kn.title(ne,j),C&&Kn.zoomOnClick(ne,C),F&&ie(google.maps.event.addListener(ne,bo.onMouseOut,F)),T&&ye(google.maps.event.addListener(ne,bo.onMouseOver,T)),O&&P(google.maps.event.addListener(ne,bo.onClick,O)),I&&G(google.maps.event.addListener(ne,bo.onClusteringBegin,I)),D&&Z(google.maps.event.addListener(ne,bo.onClusteringEnd,D)),A(ne),_&&_(ne),()=>{me!==null&&google.maps.event.removeListener(me),W!==null&&google.maps.event.removeListener(W),U!==null&&google.maps.event.removeListener(U),K!==null&&google.maps.event.removeListener(K),re!==null&&google.maps.event.removeListener(re),R&&R(ne)}}},[]),b!==null&&e(b)||null}S.memo(n4e);class r4e extends S.PureComponent{constructor(){super(...arguments),qe(this,"registeredEvents",[]),qe(this,"state",{markerClusterer:null}),qe(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var e=new AW(this.context,[],this.props.options);this.registeredEvents=Sn({updaterMap:Kn,eventMap:bo,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(Tn(this.registeredEvents),this.registeredEvents=Sn({updaterMap:Kn,eventMap:bo,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),Tn(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}qe(r4e,"contextType",gn);function J8(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}var LW=function(){function t(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(t,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return t.prototype.createInfoBoxDiv=function(){var e=this,n=function(f){f.returnValue=!1,f.preventDefault&&f.preventDefault(),e.enableEventPropagation||J8(f)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var r=this.getPanes();if(r!==null&&r[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var s=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-s.left-s.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var i=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],o=0,c=i;o<c.length;o++){var u=c[o];this.eventListeners.push(google.maps.event.addListener(this.div,u,J8))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",n),google.maps.event.trigger(this,"domready")}},t.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},t.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},t.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},t.prototype.getCloseClickHandler=function(){return this.closeClickHandler},t.prototype.panBox=function(e){if(this.div&&!e){var n=this.getMap();if(n instanceof google.maps.Map){var r=0,s=0,i=n.getBounds();i&&!i.contains(this.position)&&n.setCenter(this.position);var o=n.getDiv(),c=o.offsetWidth,u=o.offsetHeight,h=this.pixelOffset.width,f=this.pixelOffset.height,g=this.div.offsetWidth,p=this.div.offsetHeight,y=this.infoBoxClearance.width,w=this.infoBoxClearance.height,E=this.getProjection(),j=E.fromLatLngToContainerPixel(this.position);j!==null&&(j.x<-h+y?r=j.x+h-y:j.x+g+h+y>c&&(r=j.x+g+h+y-c),this.alignBottom?j.y<-f+w+p?s=j.y+f-w-p:j.y+f+w>u&&(s=j.y+f+w-u):j.y<-f+w?s=j.y+f-w:j.y+p+f+w>u&&(s=j.y+p+f+w-u)),r===0&&s===0||n.panBy(r,s)}}},t.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this.div.style[n]=e[n]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var r=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+r*100+')"',this.div.style.filter="alpha(opacity="+r*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},t.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var n=this.div.ownerDocument,r=n&&n.defaultView?n.defaultView.getComputedStyle(this.div,""):null;r&&(e.top=parseInt(r.borderTopWidth||"",10)||0,e.bottom=parseInt(r.borderBottomWidth||"",10)||0,e.left=parseInt(r.borderLeftWidth||"",10)||0,e.right=parseInt(r.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var s=this.div.currentStyle;s&&(e.top=parseInt(s.borderTopWidth||"",10)||0,e.bottom=parseInt(s.borderBottomWidth||"",10)||0,e.left=parseInt(s.borderLeftWidth||"",10)||0,e.right=parseInt(s.borderRightWidth||"",10)||0)}return e},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},t.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),n=e.fromLatLngToDivPixel(this.position);n!==null&&(this.div.style.left=n.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(n.y+this.pixelOffset.height)+"px":this.div.style.top=n.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},t.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},t.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},t.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},t.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},t.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},t.prototype.getContent=function(){return this.content},t.prototype.getPosition=function(){return this.position},t.prototype.getZIndex=function(){return this.zIndex},t.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},t.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},t.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},t.prototype.open=function(e,n){var r=this;n&&(this.position=n.getPosition(),this.moveListener=google.maps.event.addListener(n,"position_changed",function(){var s=n.getPosition();r.setPosition(s)}),this.mapListener=google.maps.event.addListener(n,"map_changed",function(){r.setMap(n.map)})),this.setMap(e),this.div&&this.panBox()},t.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,n=this.eventListeners;e<n.length;e++){var r=n[e];google.maps.event.removeListener(r)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},t.prototype.extend=function(e,n){return(function(s){for(var i in s.prototype)Object.prototype.hasOwnProperty.call(this,i)||(this.prototype[i]=s.prototype[i]);return this}).apply(e,[n])},t}(),s4e=["position"],a4e=["position"];function Q8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function S1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q8(Object(n),!0).forEach(function(r){qe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Z8={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},eF={options(t,e){t.setOptions(e)},position(t,e){e instanceof google.maps.LatLng?t.setPosition(e):t.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},i4e={};function o4e(t){var{children:e,anchor:n,options:r,position:s,zIndex:i,onCloseClick:o,onDomReady:c,onContentChanged:u,onPositionChanged:h,onZindexChanged:f,onLoad:g,onUnmount:p}=t,y=S.useContext(gn),[w,E]=S.useState(null),[j,C]=S.useState(null),[O,I]=S.useState(null),[D,T]=S.useState(null),[F,_]=S.useState(null),[R,b]=S.useState(null),A=S.useRef(null);return S.useEffect(()=>{y&&w!==null&&(w.close(),n?w.open(y,n):w.getPosition()&&w.open(y))},[y,w,n]),S.useEffect(()=>{r&&w!==null&&w.setOptions(r)},[w,r]),S.useEffect(()=>{if(s&&w!==null){var L=s instanceof google.maps.LatLng?s:new google.maps.LatLng(s.lat,s.lng);w.setPosition(L)}},[s]),S.useEffect(()=>{typeof i=="number"&&w!==null&&w.setZIndex(i)},[i]),S.useEffect(()=>{w&&o&&(j!==null&&google.maps.event.removeListener(j),C(google.maps.event.addListener(w,"closeclick",o)))},[o]),S.useEffect(()=>{w&&c&&(O!==null&&google.maps.event.removeListener(O),I(google.maps.event.addListener(w,"domready",c)))},[c]),S.useEffect(()=>{w&&u&&(D!==null&&google.maps.event.removeListener(D),T(google.maps.event.addListener(w,"content_changed",u)))},[u]),S.useEffect(()=>{w&&h&&(F!==null&&google.maps.event.removeListener(F),_(google.maps.event.addListener(w,"position_changed",h)))},[h]),S.useEffect(()=>{w&&f&&(R!==null&&google.maps.event.removeListener(R),b(google.maps.event.addListener(w,"zindex_changed",f)))},[f]),S.useEffect(()=>{if(y){var L=r||i4e,{position:U}=L,P=F3(L,s4e),K;U&&!(U instanceof google.maps.LatLng)&&(K=new google.maps.LatLng(U.lat,U.lng));var G=new LW(S1(S1({},P),K?{position:K}:{}));A.current=document.createElement("div"),E(G),o&&C(google.maps.event.addListener(G,"closeclick",o)),c&&I(google.maps.event.addListener(G,"domready",c)),u&&T(google.maps.event.addListener(G,"content_changed",u)),h&&_(google.maps.event.addListener(G,"position_changed",h)),f&&b(google.maps.event.addListener(G,"zindex_changed",f)),G.setContent(A.current),n?G.open(y,n):G.getPosition()?G.open(y):Vs(!1,"You must provide either an anchor or a position prop for <InfoBox>."),g&&g(G)}return()=>{w!==null&&(j&&google.maps.event.removeListener(j),D&&google.maps.event.removeListener(D),O&&google.maps.event.removeListener(O),F&&google.maps.event.removeListener(F),R&&google.maps.event.removeListener(R),p&&p(w),w.close())}},[]),A.current?Oh.createPortal(S.Children.only(e),A.current):null}S.memo(o4e);class l4e extends S.PureComponent{constructor(){super(...arguments),qe(this,"registeredEvents",[]),qe(this,"containerElement",null),qe(this,"state",{infoBox:null}),qe(this,"open",(e,n)=>{n?this.context!==null&&e.open(this.context,n):e.getPosition()?this.context!==null&&e.open(this.context):Vs(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),qe(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var e=this.props.options||{},{position:n}=e,r=F3(e,a4e),s;n&&!(n instanceof google.maps.LatLng)&&(s=new google.maps.LatLng(n.lat,n.lng));var i=new LW(S1(S1({},r),s?{position:s}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=Sn({updaterMap:eF,eventMap:Z8,prevProps:{},nextProps:this.props,instance:i}),this.setState({infoBox:i},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:n}=this.state;n!==null&&(Tn(this.registeredEvents),this.registeredEvents=Sn({updaterMap:eF,eventMap:Z8,prevProps:e,nextProps:this.props,instance:n}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:n}=this.state;n!==null&&(e&&e(n),Tn(this.registeredEvents),n.close())}render(){return this.containerElement?Oh.createPortal(S.Children.only(this.props.children),this.containerElement):null}}qe(l4e,"contextType",gn);var cC,tF;function c4e(){return tF||(tF=1,cC=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,s,i;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!t(e[s],n[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[s]))return!1;for(s=r;s--!==0;){var o=i[s];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n}),cC}var u4e=c4e(),nF=_W(u4e),rF=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],uC=1,Rg=8;class U3{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[n,r]=new Uint8Array(e,0,2);if(n!==219)throw new Error("Data does not appear to be in a KDBush format.");var s=r>>4;if(s!==uC)throw new Error("Got v".concat(s," data when expected v").concat(uC,"."));var i=rF[r&15];if(!i)throw new Error("Unrecognized array type.");var[o]=new Uint16Array(e,2,1),[c]=new Uint32Array(e,4,1);return new U3(c,o,i,e)}constructor(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,s=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=r,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var i=rF.indexOf(this.ArrayType),o=e*2*this.ArrayType.BYTES_PER_ELEMENT,c=e*this.IndexArrayType.BYTES_PER_ELEMENT,u=(8-c%8)%8;if(i<0)throw new Error("Unexpected typed array class: ".concat(r,"."));s&&s instanceof ArrayBuffer?(this.data=s,this.ids=new this.IndexArrayType(this.data,Rg,e),this.coords=new this.ArrayType(this.data,Rg+c+u,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(Rg+o+c+u),this.ids=new this.IndexArrayType(this.data,Rg,e),this.coords=new this.ArrayType(this.data,Rg+c+u,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(uC<<4)+i]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=e)}add(e,n){var r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=e,this.coords[this._pos++]=n,r}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return hT(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,n,r,s){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:i,coords:o,nodeSize:c}=this,u=[0,i.length-1,0],h=[];u.length;){var f=u.pop()||0,g=u.pop()||0,p=u.pop()||0;if(g-p<=c){for(var y=p;y<=g;y++){var w=o[2*y],E=o[2*y+1];w>=e&&w<=r&&E>=n&&E<=s&&h.push(i[y])}continue}var j=p+g>>1,C=o[2*j],O=o[2*j+1];C>=e&&C<=r&&O>=n&&O<=s&&h.push(i[j]),(f===0?e<=C:n<=O)&&(u.push(p),u.push(j-1),u.push(1-f)),(f===0?r>=C:s>=O)&&(u.push(j+1),u.push(g),u.push(1-f))}return h}within(e,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:s,coords:i,nodeSize:o}=this,c=[0,s.length-1,0],u=[],h=r*r;c.length;){var f=c.pop()||0,g=c.pop()||0,p=c.pop()||0;if(g-p<=o){for(var y=p;y<=g;y++)sF(i[2*y],i[2*y+1],e,n)<=h&&u.push(s[y]);continue}var w=p+g>>1,E=i[2*w],j=i[2*w+1];sF(E,j,e,n)<=h&&u.push(s[w]),(f===0?e-r<=E:n-r<=j)&&(c.push(p),c.push(w-1),c.push(1-f)),(f===0?e+r>=E:n+r>=j)&&(c.push(w+1),c.push(g),c.push(1-f))}return u}}function hT(t,e,n,r,s,i){if(!(s-r<=n)){var o=r+s>>1;RW(t,e,o,r,s,i),hT(t,e,n,r,o-1,1-i),hT(t,e,n,o+1,s,1-i)}}function RW(t,e,n,r,s,i){for(;s>r;){if(s-r>600){var o=s-r+1,c=n-r+1,u=Math.log(o),h=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*h*(o-h)/o)*(c-o/2<0?-1:1),g=Math.max(r,Math.floor(n-c*h/o+f)),p=Math.min(s,Math.floor(n+(o-c)*h/o+f));RW(t,e,n,g,p,i)}var y=e[2*n+i],w=r,E=s;for(kg(t,e,r,n),e[2*s+i]>y&&kg(t,e,r,s);w<E;){for(kg(t,e,w,E),w++,E--;e[2*w+i]<y;)w++;for(;e[2*E+i]>y;)E--}e[2*r+i]===y?kg(t,e,r,E):(E++,kg(t,e,E,s)),E<=n&&(r=E+1),n<=E&&(s=E-1)}}function kg(t,e,n,r){dC(t,n,r),dC(e,2*n,2*r),dC(e,2*n+1,2*r+1)}function dC(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function sF(t,e,n,r){var s=t-n,i=e-r;return s*s+i*i}var d4e={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},aF=Math.fround||(t=>e=>(t[0]=+e,t[0]))(new Float32Array(1)),Jd=2,Bu=3,hC=4,Du=5,kW=6;class h4e{constructor(e){this.options=Object.assign(Object.create(d4e),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:n,minZoom:r,maxZoom:s}=this.options;n&&console.time("total time");var i="prepare ".concat(e.length," points");n&&console.time(i),this.points=e;for(var o=[],c=0;c<e.length;c++){var u=e[c];if(u.geometry){var[h,f]=u.geometry.coordinates,g=aF($x(h)),p=aF(Vx(f));o.push(g,p,1/0,c,-1,1),this.options.reduce&&o.push(0)}}var y=this.trees[s+1]=this._createTree(o);n&&console.timeEnd(i);for(var w=s;w>=r;w--){var E=+Date.now();y=this.trees[w]=this._createTree(this._cluster(y,w)),n&&console.log("z%d: %d clusters in %dms",w,y.numItems,+Date.now()-E)}return n&&console.timeEnd("total time"),this}getClusters(e,n){var r=((e[0]+180)%360+360)%360-180,s=Math.max(-90,Math.min(90,e[1])),i=e[2]===180?180:((e[2]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,i=180;else if(r>i){var c=this.getClusters([r,s,180,o],n),u=this.getClusters([-180,s,i,o],n);return c.concat(u)}var h=this.trees[this._limitZoom(n)],f=h.range($x(r),Vx(o),$x(i),Vx(s)),g=h.data,p=[];for(var y of f){var w=this.stride*y;p.push(g[w+Du]>1?iF(g,w,this.clusterProps):this.points[g[w+Bu]])}return p}getChildren(e){var n=this._getOriginId(e),r=this._getOriginZoom(e),s="No cluster with the specified id.",i=this.trees[r];if(!i)throw new Error(s);var o=i.data;if(n*this.stride>=o.length)throw new Error(s);var c=this.options.radius/(this.options.extent*Math.pow(2,r-1)),u=o[n*this.stride],h=o[n*this.stride+1],f=i.within(u,h,c),g=[];for(var p of f){var y=p*this.stride;o[y+hC]===e&&g.push(o[y+Du]>1?iF(o,y,this.clusterProps):this.points[o[y+Bu]])}if(g.length===0)throw new Error(s);return g}getLeaves(e,n,r){n=n||10,r=r||0;var s=[];return this._appendLeaves(s,e,n,r,0),s}getTile(e,n,r){var s=this.trees[this._limitZoom(e)],i=Math.pow(2,e),{extent:o,radius:c}=this.options,u=c/o,h=(r-u)/i,f=(r+1+u)/i,g={features:[]};return this._addTileFeatures(s.range((n-u)/i,h,(n+1+u)/i,f),s.data,n,r,i,g),n===0&&this._addTileFeatures(s.range(1-u/i,h,1,f),s.data,i,r,i,g),n===i-1&&this._addTileFeatures(s.range(0,h,u/i,f),s.data,-1,r,i,g),g.features.length?g:null}getClusterExpansionZoom(e){for(var n=this._getOriginZoom(e)-1;n<=this.options.maxZoom;){var r=this.getChildren(e);if(n++,r.length!==1)break;e=r[0].properties.cluster_id}return n}_appendLeaves(e,n,r,s,i){var o=this.getChildren(n);for(var c of o){var u=c.properties;if(u&&u.cluster?i+u.point_count<=s?i+=u.point_count:i=this._appendLeaves(e,u.cluster_id,r,s,i):i<s?i++:e.push(c),e.length===r)break}return i}_createTree(e){for(var n=new U3(e.length/this.stride|0,this.options.nodeSize,Float32Array),r=0;r<e.length;r+=this.stride)n.add(e[r],e[r+1]);return n.finish(),n.data=e,n}_addTileFeatures(e,n,r,s,i,o){for(var c of e){var u=c*this.stride,h=n[u+Du]>1,f=void 0,g=void 0,p=void 0;if(h)f=OW(n,u,this.clusterProps),g=n[u],p=n[u+1];else{var y=this.points[n[u+Bu]];f=y.properties;var[w,E]=y.geometry.coordinates;g=$x(w),p=Vx(E)}var j={type:1,geometry:[[Math.round(this.options.extent*(g*i-r)),Math.round(this.options.extent*(p*i-s))]],tags:f},C=void 0;h||this.options.generateId?C=n[u+Bu]:C=this.points[n[u+Bu]].id,C!==void 0&&(j.id=C),o.features.push(j)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,n){for(var{radius:r,extent:s,reduce:i,minPoints:o}=this.options,c=r/(s*Math.pow(2,n)),u=e.data,h=[],f=this.stride,g=0;g<u.length;g+=f)if(!(u[g+Jd]<=n)){u[g+Jd]=n;var p=u[g],y=u[g+1],w=e.within(u[g],u[g+1],c),E=u[g+Du],j=E;for(var C of w){var O=C*f;u[O+Jd]>n&&(j+=u[O+Du])}if(j>E&&j>=o){var I=p*E,D=y*E,T=void 0,F=-1,_=((g/f|0)<<5)+(n+1)+this.points.length;for(var R of w){var b=R*f;if(!(u[b+Jd]<=n)){u[b+Jd]=n;var A=u[b+Du];I+=u[b]*A,D+=u[b+1]*A,u[b+hC]=_,i&&(T||(T=this._map(u,g,!0),F=this.clusterProps.length,this.clusterProps.push(T)),i(T,this._map(u,b)))}}u[g+hC]=_,h.push(I/j,D/j,1/0,_,-1,j),i&&h.push(F)}else{for(var L=0;L<f;L++)h.push(u[g+L]);if(j>1)for(var U of w){var P=U*f;if(!(u[P+Jd]<=n)){u[P+Jd]=n;for(var K=0;K<f;K++)h.push(u[P+K])}}}}return h}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,n,r){if(e[n+Du]>1){var s=this.clusterProps[e[n+kW]];return r?Object.assign({},s):s}var i=this.points[e[n+Bu]].properties,o=this.options.map(i);return r&&o===i?Object.assign({},o):o}}function iF(t,e,n){return{type:"Feature",id:t[e+Bu],properties:OW(t,e,n),geometry:{type:"Point",coordinates:[f4e(t[e]),m4e(t[e+1])]}}}function OW(t,e,n){var r=t[e+Du],s=r>=1e4?"".concat(Math.round(r/1e3),"k"):r>=1e3?"".concat(Math.round(r/100)/10,"k"):r,i=t[e+kW],o=i===-1?{}:Object.assign({},n[i]);return Object.assign(o,{cluster:!0,cluster_id:t[e+Bu],point_count:r,point_count_abbreviated:s})}function $x(t){return t/360+.5}function Vx(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function f4e(t){return(t-.5)*360}function m4e(t){var e=(180-t*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function p4e(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}class zi{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,n){this.isAdvancedMarker(e)?e.map=n:e.setMap(n)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class fT{constructor(e){var{markers:n,position:r}=e;this.markers=n,r&&(r instanceof google.maps.LatLng?this._position=r:this._position=new google.maps.LatLng(r))}get bounds(){if(!(this.markers.length===0&&!this._position)){var e=new google.maps.LatLngBounds(this._position,this._position);for(var n of this.markers)e.extend(zi.getPosition(n));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>zi.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(zi.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class g4e{constructor(e){var{maxZoom:n=16}=e;this.maxZoom=n}noop(e){var{markers:n}=e;return y4e(n)}}var y4e=t=>{var e=t.map(n=>new fT({position:zi.getPosition(n),markers:[n]}));return e};class v4e extends g4e{constructor(e){var{maxZoom:n,radius:r=60}=e,s=p4e(e,["maxZoom","radius"]);super({maxZoom:n}),this.state={zoom:-1},this.superCluster=new h4e(Object.assign({maxZoom:this.maxZoom,radius:r},s))}calculate(e){var n=!1,r={zoom:e.map.getZoom()};if(!nF(e.markers,this.markers)){n=!0,this.markers=[...e.markers];var s=this.markers.map(i=>{var o=zi.getPosition(i),c=[o.lng(),o.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:c},properties:{marker:i}}});this.superCluster.load(s)}return n||(this.state.zoom<=this.maxZoom||r.zoom<=this.maxZoom)&&(n=!nF(this.state,r)),this.state=r,n&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:n}}cluster(e){var{map:n}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(n.getZoom())).map(r=>this.transformCluster(r))}transformCluster(e){var{geometry:{coordinates:[n,r]},properties:s}=e;if(s.cluster)return new fT({markers:this.superCluster.getLeaves(s.cluster_id,1/0).map(o=>o.properties.marker),position:{lat:r,lng:n}});var i=s.marker;return new fT({markers:[i],position:zi.getPosition(i)})}}class x4e{constructor(e,n){this.markers={sum:e.length};var r=n.map(i=>i.count),s=r.reduce((i,o)=>i+o,0);this.clusters={count:n.length,markers:{mean:s/n.length,sum:s,min:Math.min(...r),max:Math.max(...r)}}}}class b4e{render(e,n,r){var{count:s,position:i}=e,o=s>Math.max(10,n.clusters.markers.mean)?"#ff0000":"#0000ff",c='<svg fill="'.concat(o,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(s,`</text>
</svg>`),u="Cluster of ".concat(s," markers"),h=Number(google.maps.Marker.MAX_ZINDEX)+s;if(zi.isAdvancedMarkerAvailable(r)){var f=new DOMParser,g=f.parseFromString(c,"image/svg+xml").documentElement;g.setAttribute("transform","translate(0 25)");var p={map:r,position:i,zIndex:h,title:u,content:g};return new google.maps.marker.AdvancedMarkerElement(p)}var y={position:i,zIndex:h,title:u,icon:{url:"data:image/svg+xml;base64,".concat(btoa(c)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(y)}}function w4e(t,e){for(var n in e.prototype)t.prototype[n]=e.prototype[n]}class z3{constructor(){w4e(z3,google.maps.OverlayView)}}var m0;(function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click"})(m0||(m0={}));var _4e=(t,e,n)=>{n.fitBounds(e.bounds)};class E4e extends z3{constructor(e){var{map:n,markers:r=[],algorithmOptions:s={},algorithm:i=new v4e(s),renderer:o=new b4e,onClusterClick:c=_4e}=e;super(),this.markers=[...r],this.clusters=[],this.algorithm=i,this.renderer=o,this.onClusterClick=c,n&&this.setMap(n)}addMarker(e,n){this.markers.includes(e)||(this.markers.push(e),n||this.render())}addMarkers(e,n){e.forEach(r=>{this.addMarker(r,!0)}),n||this.render()}removeMarker(e,n){var r=this.markers.indexOf(e);return r===-1?!1:(zi.setMap(e,null),this.markers.splice(r,1),n||this.render(),!0)}removeMarkers(e,n){var r=!1;return e.forEach(s=>{r=this.removeMarker(s,!0)||r}),r&&!n&&this.render(),r}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,m0.CLUSTERING_BEGIN,this);var{clusters:n,changed:r}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(r||r==null){var s=new Set;for(var i of n)i.markers.length==1&&s.add(i.markers[0]);var o=[];for(var c of this.clusters)c.marker!=null&&(c.markers.length==1?s.has(c.marker)||zi.setMap(c.marker,null):o.push(c.marker));this.clusters=n,this.renderClusters(),requestAnimationFrame(()=>o.forEach(u=>zi.setMap(u,null)))}google.maps.event.trigger(this,m0.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>zi.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){var e=new x4e(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(r=>{r.markers.length===1?r.marker=r.markers[0]:(r.marker=this.renderer.render(r,e,n),r.markers.forEach(s=>zi.setMap(s,null)),this.onClusterClick&&r.marker.addListener("click",s=>{google.maps.event.trigger(this,m0.CLUSTER_CLICK,r),this.onClusterClick(s,r,n)})),zi.setMap(r.marker,n)})}}function oF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function lF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oF(Object(n),!0).forEach(function(r){qe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j4e(t){var e=v3e(),[n,r]=S.useState(null);return S.useEffect(()=>{if(e&&n===null){var s=new E4e(lF(lF({},t),{},{map:e}));r(s)}},[e]),n}function S4e(t){var{children:e,options:n}=t,r=j4e(n);return r!==null?e(r):null}S.memo(S4e);var cF={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},uF={options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},zIndex(t,e){t.setZIndex(e)}};function C4e(t){var{children:e,anchor:n,options:r,position:s,zIndex:i,onCloseClick:o,onDomReady:c,onContentChanged:u,onPositionChanged:h,onZindexChanged:f,onLoad:g,onUnmount:p}=t,y=S.useContext(gn),[w,E]=S.useState(null),[j,C]=S.useState(null),[O,I]=S.useState(null),[D,T]=S.useState(null),[F,_]=S.useState(null),[R,b]=S.useState(null),A=S.useRef(null);return S.useEffect(()=>{w!==null&&(w.close(),n?w.open(y,n):w.getPosition()&&w.open(y))},[y,w,n]),S.useEffect(()=>{r&&w!==null&&w.setOptions(r)},[w,r]),S.useEffect(()=>{s&&w!==null&&w.setPosition(s)},[s]),S.useEffect(()=>{typeof i=="number"&&w!==null&&w.setZIndex(i)},[i]),S.useEffect(()=>{w&&o&&(j!==null&&google.maps.event.removeListener(j),C(google.maps.event.addListener(w,"closeclick",o)))},[o]),S.useEffect(()=>{w&&c&&(O!==null&&google.maps.event.removeListener(O),I(google.maps.event.addListener(w,"domready",c)))},[c]),S.useEffect(()=>{w&&u&&(D!==null&&google.maps.event.removeListener(D),T(google.maps.event.addListener(w,"content_changed",u)))},[u]),S.useEffect(()=>{w&&h&&(F!==null&&google.maps.event.removeListener(F),_(google.maps.event.addListener(w,"position_changed",h)))},[h]),S.useEffect(()=>{w&&f&&(R!==null&&google.maps.event.removeListener(R),b(google.maps.event.addListener(w,"zindex_changed",f)))},[f]),S.useEffect(()=>{var L=new google.maps.InfoWindow(r);return E(L),A.current=document.createElement("div"),o&&C(google.maps.event.addListener(L,"closeclick",o)),c&&I(google.maps.event.addListener(L,"domready",c)),u&&T(google.maps.event.addListener(L,"content_changed",u)),h&&_(google.maps.event.addListener(L,"position_changed",h)),f&&b(google.maps.event.addListener(L,"zindex_changed",f)),L.setContent(A.current),s&&L.setPosition(s),i&&L.setZIndex(i),n?L.open(y,n):L.getPosition()?L.open(y):Vs(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),g&&g(L),()=>{j&&google.maps.event.removeListener(j),D&&google.maps.event.removeListener(D),O&&google.maps.event.removeListener(O),F&&google.maps.event.removeListener(F),R&&google.maps.event.removeListener(R),p&&p(L),L.close()}},[]),A.current?Oh.createPortal(S.Children.only(e),A.current):null}S.memo(C4e);class N4e extends S.PureComponent{constructor(){super(...arguments),qe(this,"registeredEvents",[]),qe(this,"containerElement",null),qe(this,"state",{infoWindow:null}),qe(this,"open",(e,n)=>{n?e.open(this.context,n):e.getPosition()?e.open(this.context):Vs(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),qe(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=Sn({updaterMap:uF,eventMap:cF,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){this.state.infoWindow!==null&&(Tn(this.registeredEvents),this.registeredEvents=Sn({updaterMap:uF,eventMap:cF,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(Tn(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?Oh.createPortal(S.Children.only(this.props.children),this.containerElement):null}}qe(N4e,"contextType",gn);function dF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function C1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dF(Object(n),!0).forEach(function(r){qe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var hF={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},fF={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},visible(t,e){t.setVisible(e)}},T4e={};function A4e(t){var{options:e,draggable:n,editable:r,visible:s,path:i,onDblClick:o,onDragEnd:c,onDragStart:u,onMouseDown:h,onMouseMove:f,onMouseOut:g,onMouseOver:p,onMouseUp:y,onRightClick:w,onClick:E,onDrag:j,onLoad:C,onUnmount:O}=t,I=S.useContext(gn),[D,T]=S.useState(null),[F,_]=S.useState(null),[R,b]=S.useState(null),[A,L]=S.useState(null),[U,P]=S.useState(null),[K,G]=S.useState(null),[re,Z]=S.useState(null),[me,ie]=S.useState(null),[W,ye]=S.useState(null),[Q,ne]=S.useState(null),[te,X]=S.useState(null),[xe,Ne]=S.useState(null);return S.useEffect(()=>{D!==null&&D.setMap(I)},[I]),S.useEffect(()=>{typeof e<"u"&&D!==null&&D.setOptions(e)},[D,e]),S.useEffect(()=>{typeof n<"u"&&D!==null&&D.setDraggable(n)},[D,n]),S.useEffect(()=>{typeof r<"u"&&D!==null&&D.setEditable(r)},[D,r]),S.useEffect(()=>{typeof s<"u"&&D!==null&&D.setVisible(s)},[D,s]),S.useEffect(()=>{typeof i<"u"&&D!==null&&D.setPath(i)},[D,i]),S.useEffect(()=>{D&&o&&(F!==null&&google.maps.event.removeListener(F),_(google.maps.event.addListener(D,"dblclick",o)))},[o]),S.useEffect(()=>{D&&c&&(R!==null&&google.maps.event.removeListener(R),b(google.maps.event.addListener(D,"dragend",c)))},[c]),S.useEffect(()=>{D&&u&&(A!==null&&google.maps.event.removeListener(A),L(google.maps.event.addListener(D,"dragstart",u)))},[u]),S.useEffect(()=>{D&&h&&(U!==null&&google.maps.event.removeListener(U),P(google.maps.event.addListener(D,"mousedown",h)))},[h]),S.useEffect(()=>{D&&f&&(K!==null&&google.maps.event.removeListener(K),G(google.maps.event.addListener(D,"mousemove",f)))},[f]),S.useEffect(()=>{D&&g&&(re!==null&&google.maps.event.removeListener(re),Z(google.maps.event.addListener(D,"mouseout",g)))},[g]),S.useEffect(()=>{D&&p&&(me!==null&&google.maps.event.removeListener(me),ie(google.maps.event.addListener(D,"mouseover",p)))},[p]),S.useEffect(()=>{D&&y&&(W!==null&&google.maps.event.removeListener(W),ye(google.maps.event.addListener(D,"mouseup",y)))},[y]),S.useEffect(()=>{D&&w&&(Q!==null&&google.maps.event.removeListener(Q),ne(google.maps.event.addListener(D,"rightclick",w)))},[w]),S.useEffect(()=>{D&&E&&(te!==null&&google.maps.event.removeListener(te),X(google.maps.event.addListener(D,"click",E)))},[E]),S.useEffect(()=>{D&&j&&(xe!==null&&google.maps.event.removeListener(xe),Ne(google.maps.event.addListener(D,"drag",j)))},[j]),S.useEffect(()=>{var je=new google.maps.Polyline(C1(C1({},e||T4e),{},{map:I}));return i&&je.setPath(i),typeof s<"u"&&je.setVisible(s),typeof r<"u"&&je.setEditable(r),typeof n<"u"&&je.setDraggable(n),o&&_(google.maps.event.addListener(je,"dblclick",o)),c&&b(google.maps.event.addListener(je,"dragend",c)),u&&L(google.maps.event.addListener(je,"dragstart",u)),h&&P(google.maps.event.addListener(je,"mousedown",h)),f&&G(google.maps.event.addListener(je,"mousemove",f)),g&&Z(google.maps.event.addListener(je,"mouseout",g)),p&&ie(google.maps.event.addListener(je,"mouseover",p)),y&&ye(google.maps.event.addListener(je,"mouseup",y)),w&&ne(google.maps.event.addListener(je,"rightclick",w)),E&&X(google.maps.event.addListener(je,"click",E)),j&&Ne(google.maps.event.addListener(je,"drag",j)),T(je),C&&C(je),()=>{F!==null&&google.maps.event.removeListener(F),R!==null&&google.maps.event.removeListener(R),A!==null&&google.maps.event.removeListener(A),U!==null&&google.maps.event.removeListener(U),K!==null&&google.maps.event.removeListener(K),re!==null&&google.maps.event.removeListener(re),me!==null&&google.maps.event.removeListener(me),W!==null&&google.maps.event.removeListener(W),Q!==null&&google.maps.event.removeListener(Q),te!==null&&google.maps.event.removeListener(te),O&&O(je),je.setMap(null)}},[]),null}S.memo(A4e);class L4e extends S.PureComponent{constructor(){super(...arguments),qe(this,"registeredEvents",[]),qe(this,"state",{polyline:null}),qe(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var e=new google.maps.Polyline(C1(C1({},this.props.options),{},{map:this.context}));this.registeredEvents=Sn({updaterMap:fF,eventMap:hF,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){this.state.polyline!==null&&(Tn(this.registeredEvents),this.registeredEvents=Sn({updaterMap:fF,eventMap:hF,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),Tn(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}qe(L4e,"contextType",gn);function mF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function pF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mF(Object(n),!0).forEach(function(r){qe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var gF={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},yF={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},paths(t,e){t.setPaths(e)},visible(t,e){t.setVisible(e)}};function R4e(t){var{options:e,draggable:n,editable:r,visible:s,path:i,paths:o,onDblClick:c,onDragEnd:u,onDragStart:h,onMouseDown:f,onMouseMove:g,onMouseOut:p,onMouseOver:y,onMouseUp:w,onRightClick:E,onClick:j,onDrag:C,onLoad:O,onUnmount:I,onEdit:D}=t,T=S.useContext(gn),[F,_]=S.useState(null),[R,b]=S.useState(null),[A,L]=S.useState(null),[U,P]=S.useState(null),[K,G]=S.useState(null),[re,Z]=S.useState(null),[me,ie]=S.useState(null),[W,ye]=S.useState(null),[Q,ne]=S.useState(null),[te,X]=S.useState(null),[xe,Ne]=S.useState(null),[je,Ie]=S.useState(null);return S.useEffect(()=>{F!==null&&F.setMap(T)},[T]),S.useEffect(()=>{typeof e<"u"&&F!==null&&F.setOptions(e)},[F,e]),S.useEffect(()=>{typeof n<"u"&&F!==null&&F.setDraggable(n)},[F,n]),S.useEffect(()=>{typeof r<"u"&&F!==null&&F.setEditable(r)},[F,r]),S.useEffect(()=>{typeof s<"u"&&F!==null&&F.setVisible(s)},[F,s]),S.useEffect(()=>{typeof i<"u"&&F!==null&&F.setPath(i)},[F,i]),S.useEffect(()=>{typeof o<"u"&&F!==null&&F.setPaths(o)},[F,o]),S.useEffect(()=>{F&&typeof c=="function"&&(R!==null&&google.maps.event.removeListener(R),b(google.maps.event.addListener(F,"dblclick",c)))},[c]),S.useEffect(()=>{F&&(google.maps.event.addListener(F.getPath(),"insert_at",()=>{D==null||D(F)}),google.maps.event.addListener(F.getPath(),"set_at",()=>{D==null||D(F)}),google.maps.event.addListener(F.getPath(),"remove_at",()=>{D==null||D(F)}))},[F,D]),S.useEffect(()=>{F&&typeof u=="function"&&(A!==null&&google.maps.event.removeListener(A),L(google.maps.event.addListener(F,"dragend",u)))},[u]),S.useEffect(()=>{F&&typeof h=="function"&&(U!==null&&google.maps.event.removeListener(U),P(google.maps.event.addListener(F,"dragstart",h)))},[h]),S.useEffect(()=>{F&&typeof f=="function"&&(K!==null&&google.maps.event.removeListener(K),G(google.maps.event.addListener(F,"mousedown",f)))},[f]),S.useEffect(()=>{F&&typeof g=="function"&&(re!==null&&google.maps.event.removeListener(re),Z(google.maps.event.addListener(F,"mousemove",g)))},[g]),S.useEffect(()=>{F&&typeof p=="function"&&(me!==null&&google.maps.event.removeListener(me),ie(google.maps.event.addListener(F,"mouseout",p)))},[p]),S.useEffect(()=>{F&&typeof y=="function"&&(W!==null&&google.maps.event.removeListener(W),ye(google.maps.event.addListener(F,"mouseover",y)))},[y]),S.useEffect(()=>{F&&typeof w=="function"&&(Q!==null&&google.maps.event.removeListener(Q),ne(google.maps.event.addListener(F,"mouseup",w)))},[w]),S.useEffect(()=>{F&&typeof E=="function"&&(te!==null&&google.maps.event.removeListener(te),X(google.maps.event.addListener(F,"rightclick",E)))},[E]),S.useEffect(()=>{F&&typeof j=="function"&&(xe!==null&&google.maps.event.removeListener(xe),Ne(google.maps.event.addListener(F,"click",j)))},[j]),S.useEffect(()=>{F&&typeof C=="function"&&(je!==null&&google.maps.event.removeListener(je),Ie(google.maps.event.addListener(F,"drag",C)))},[C]),S.useEffect(()=>{var _e=new google.maps.Polygon(pF(pF({},e),{},{map:T}));return i&&_e.setPath(i),o&&_e.setPaths(o),typeof s<"u"&&_e.setVisible(s),typeof r<"u"&&_e.setEditable(r),typeof n<"u"&&_e.setDraggable(n),c&&b(google.maps.event.addListener(_e,"dblclick",c)),u&&L(google.maps.event.addListener(_e,"dragend",u)),h&&P(google.maps.event.addListener(_e,"dragstart",h)),f&&G(google.maps.event.addListener(_e,"mousedown",f)),g&&Z(google.maps.event.addListener(_e,"mousemove",g)),p&&ie(google.maps.event.addListener(_e,"mouseout",p)),y&&ye(google.maps.event.addListener(_e,"mouseover",y)),w&&ne(google.maps.event.addListener(_e,"mouseup",w)),E&&X(google.maps.event.addListener(_e,"rightclick",E)),j&&Ne(google.maps.event.addListener(_e,"click",j)),C&&Ie(google.maps.event.addListener(_e,"drag",C)),_(_e),O&&O(_e),()=>{R!==null&&google.maps.event.removeListener(R),A!==null&&google.maps.event.removeListener(A),U!==null&&google.maps.event.removeListener(U),K!==null&&google.maps.event.removeListener(K),re!==null&&google.maps.event.removeListener(re),me!==null&&google.maps.event.removeListener(me),W!==null&&google.maps.event.removeListener(W),Q!==null&&google.maps.event.removeListener(Q),te!==null&&google.maps.event.removeListener(te),xe!==null&&google.maps.event.removeListener(xe),I&&I(_e),_e.setMap(null)}},[]),null}S.memo(R4e);class k4e extends S.PureComponent{constructor(){super(...arguments),qe(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=Sn({updaterMap:yF,eventMap:gF,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&(Tn(this.registeredEvents),this.registeredEvents=Sn({updaterMap:yF,eventMap:gF,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),Tn(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}qe(k4e,"contextType",gn);function vF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function N1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vF(Object(n),!0).forEach(function(r){qe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var xF={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},bF={bounds(t,e){t.setBounds(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},visible(t,e){t.setVisible(e)}};function O4e(t){var{options:e,bounds:n,draggable:r,editable:s,visible:i,onDblClick:o,onDragEnd:c,onDragStart:u,onMouseDown:h,onMouseMove:f,onMouseOut:g,onMouseOver:p,onMouseUp:y,onRightClick:w,onClick:E,onDrag:j,onBoundsChanged:C,onLoad:O,onUnmount:I}=t,D=S.useContext(gn),[T,F]=S.useState(null),[_,R]=S.useState(null),[b,A]=S.useState(null),[L,U]=S.useState(null),[P,K]=S.useState(null),[G,re]=S.useState(null),[Z,me]=S.useState(null),[ie,W]=S.useState(null),[ye,Q]=S.useState(null),[ne,te]=S.useState(null),[X,xe]=S.useState(null),[Ne,je]=S.useState(null),[Ie,_e]=S.useState(null);return S.useEffect(()=>{T!==null&&T.setMap(D)},[D]),S.useEffect(()=>{typeof e<"u"&&T!==null&&T.setOptions(e)},[T,e]),S.useEffect(()=>{typeof r<"u"&&T!==null&&T.setDraggable(r)},[T,r]),S.useEffect(()=>{typeof s<"u"&&T!==null&&T.setEditable(s)},[T,s]),S.useEffect(()=>{typeof i<"u"&&T!==null&&T.setVisible(i)},[T,i]),S.useEffect(()=>{typeof n<"u"&&T!==null&&T.setBounds(n)},[T,n]),S.useEffect(()=>{T&&o&&(_!==null&&google.maps.event.removeListener(_),R(google.maps.event.addListener(T,"dblclick",o)))},[o]),S.useEffect(()=>{T&&c&&(b!==null&&google.maps.event.removeListener(b),A(google.maps.event.addListener(T,"dragend",c)))},[c]),S.useEffect(()=>{T&&u&&(L!==null&&google.maps.event.removeListener(L),U(google.maps.event.addListener(T,"dragstart",u)))},[u]),S.useEffect(()=>{T&&h&&(P!==null&&google.maps.event.removeListener(P),K(google.maps.event.addListener(T,"mousedown",h)))},[h]),S.useEffect(()=>{T&&f&&(G!==null&&google.maps.event.removeListener(G),re(google.maps.event.addListener(T,"mousemove",f)))},[f]),S.useEffect(()=>{T&&g&&(Z!==null&&google.maps.event.removeListener(Z),me(google.maps.event.addListener(T,"mouseout",g)))},[g]),S.useEffect(()=>{T&&p&&(ie!==null&&google.maps.event.removeListener(ie),W(google.maps.event.addListener(T,"mouseover",p)))},[p]),S.useEffect(()=>{T&&y&&(ye!==null&&google.maps.event.removeListener(ye),Q(google.maps.event.addListener(T,"mouseup",y)))},[y]),S.useEffect(()=>{T&&w&&(ne!==null&&google.maps.event.removeListener(ne),te(google.maps.event.addListener(T,"rightclick",w)))},[w]),S.useEffect(()=>{T&&E&&(X!==null&&google.maps.event.removeListener(X),xe(google.maps.event.addListener(T,"click",E)))},[E]),S.useEffect(()=>{T&&j&&(Ne!==null&&google.maps.event.removeListener(Ne),je(google.maps.event.addListener(T,"drag",j)))},[j]),S.useEffect(()=>{T&&C&&(Ie!==null&&google.maps.event.removeListener(Ie),_e(google.maps.event.addListener(T,"bounds_changed",C)))},[C]),S.useEffect(()=>{var Ue=new google.maps.Rectangle(N1(N1({},e),{},{map:D}));return typeof i<"u"&&Ue.setVisible(i),typeof s<"u"&&Ue.setEditable(s),typeof r<"u"&&Ue.setDraggable(r),typeof n<"u"&&Ue.setBounds(n),o&&R(google.maps.event.addListener(Ue,"dblclick",o)),c&&A(google.maps.event.addListener(Ue,"dragend",c)),u&&U(google.maps.event.addListener(Ue,"dragstart",u)),h&&K(google.maps.event.addListener(Ue,"mousedown",h)),f&&re(google.maps.event.addListener(Ue,"mousemove",f)),g&&me(google.maps.event.addListener(Ue,"mouseout",g)),p&&W(google.maps.event.addListener(Ue,"mouseover",p)),y&&Q(google.maps.event.addListener(Ue,"mouseup",y)),w&&te(google.maps.event.addListener(Ue,"rightclick",w)),E&&xe(google.maps.event.addListener(Ue,"click",E)),j&&je(google.maps.event.addListener(Ue,"drag",j)),C&&_e(google.maps.event.addListener(Ue,"bounds_changed",C)),F(Ue),O&&O(Ue),()=>{_!==null&&google.maps.event.removeListener(_),b!==null&&google.maps.event.removeListener(b),L!==null&&google.maps.event.removeListener(L),P!==null&&google.maps.event.removeListener(P),G!==null&&google.maps.event.removeListener(G),Z!==null&&google.maps.event.removeListener(Z),ie!==null&&google.maps.event.removeListener(ie),ye!==null&&google.maps.event.removeListener(ye),ne!==null&&google.maps.event.removeListener(ne),X!==null&&google.maps.event.removeListener(X),Ne!==null&&google.maps.event.removeListener(Ne),Ie!==null&&google.maps.event.removeListener(Ie),I&&I(Ue),Ue.setMap(null)}},[]),null}S.memo(O4e);class I4e extends S.PureComponent{constructor(){super(...arguments),qe(this,"registeredEvents",[]),qe(this,"state",{rectangle:null}),qe(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var e=new google.maps.Rectangle(N1(N1({},this.props.options),{},{map:this.context}));this.registeredEvents=Sn({updaterMap:bF,eventMap:xF,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){this.state.rectangle!==null&&(Tn(this.registeredEvents),this.registeredEvents=Sn({updaterMap:bF,eventMap:xF,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),Tn(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}qe(I4e,"contextType",gn);function wF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function T1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wF(Object(n),!0).forEach(function(r){qe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var _F={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},EF={center(t,e){t.setCenter(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},radius(t,e){t.setRadius(e)},visible(t,e){t.setVisible(e)}},P4e={};function D4e(t){var{options:e,center:n,radius:r,draggable:s,editable:i,visible:o,onDblClick:c,onDragEnd:u,onDragStart:h,onMouseDown:f,onMouseMove:g,onMouseOut:p,onMouseOver:y,onMouseUp:w,onRightClick:E,onClick:j,onDrag:C,onCenterChanged:O,onRadiusChanged:I,onLoad:D,onUnmount:T}=t,F=S.useContext(gn),[_,R]=S.useState(null),[b,A]=S.useState(null),[L,U]=S.useState(null),[P,K]=S.useState(null),[G,re]=S.useState(null),[Z,me]=S.useState(null),[ie,W]=S.useState(null),[ye,Q]=S.useState(null),[ne,te]=S.useState(null),[X,xe]=S.useState(null),[Ne,je]=S.useState(null),[Ie,_e]=S.useState(null),[Ue,tt]=S.useState(null),[ct,ut]=S.useState(null);return S.useEffect(()=>{_!==null&&_.setMap(F)},[F]),S.useEffect(()=>{typeof e<"u"&&_!==null&&_.setOptions(e)},[_,e]),S.useEffect(()=>{typeof s<"u"&&_!==null&&_.setDraggable(s)},[_,s]),S.useEffect(()=>{typeof i<"u"&&_!==null&&_.setEditable(i)},[_,i]),S.useEffect(()=>{typeof o<"u"&&_!==null&&_.setVisible(o)},[_,o]),S.useEffect(()=>{typeof r=="number"&&_!==null&&_.setRadius(r)},[_,r]),S.useEffect(()=>{typeof n<"u"&&_!==null&&_.setCenter(n)},[_,n]),S.useEffect(()=>{_&&c&&(b!==null&&google.maps.event.removeListener(b),A(google.maps.event.addListener(_,"dblclick",c)))},[c]),S.useEffect(()=>{_&&u&&(L!==null&&google.maps.event.removeListener(L),U(google.maps.event.addListener(_,"dragend",u)))},[u]),S.useEffect(()=>{_&&h&&(P!==null&&google.maps.event.removeListener(P),K(google.maps.event.addListener(_,"dragstart",h)))},[h]),S.useEffect(()=>{_&&f&&(G!==null&&google.maps.event.removeListener(G),re(google.maps.event.addListener(_,"mousedown",f)))},[f]),S.useEffect(()=>{_&&g&&(Z!==null&&google.maps.event.removeListener(Z),me(google.maps.event.addListener(_,"mousemove",g)))},[g]),S.useEffect(()=>{_&&p&&(ie!==null&&google.maps.event.removeListener(ie),W(google.maps.event.addListener(_,"mouseout",p)))},[p]),S.useEffect(()=>{_&&y&&(ye!==null&&google.maps.event.removeListener(ye),Q(google.maps.event.addListener(_,"mouseover",y)))},[y]),S.useEffect(()=>{_&&w&&(ne!==null&&google.maps.event.removeListener(ne),te(google.maps.event.addListener(_,"mouseup",w)))},[w]),S.useEffect(()=>{_&&E&&(X!==null&&google.maps.event.removeListener(X),xe(google.maps.event.addListener(_,"rightclick",E)))},[E]),S.useEffect(()=>{_&&j&&(Ne!==null&&google.maps.event.removeListener(Ne),je(google.maps.event.addListener(_,"click",j)))},[j]),S.useEffect(()=>{_&&C&&(Ie!==null&&google.maps.event.removeListener(Ie),_e(google.maps.event.addListener(_,"drag",C)))},[C]),S.useEffect(()=>{_&&O&&(Ue!==null&&google.maps.event.removeListener(Ue),tt(google.maps.event.addListener(_,"center_changed",O)))},[j]),S.useEffect(()=>{_&&I&&(ct!==null&&google.maps.event.removeListener(ct),ut(google.maps.event.addListener(_,"radius_changed",I)))},[I]),S.useEffect(()=>{var Ye=new google.maps.Circle(T1(T1({},e||P4e),{},{map:F}));return typeof r=="number"&&Ye.setRadius(r),typeof n<"u"&&Ye.setCenter(n),typeof r=="number"&&Ye.setRadius(r),typeof o<"u"&&Ye.setVisible(o),typeof i<"u"&&Ye.setEditable(i),typeof s<"u"&&Ye.setDraggable(s),c&&A(google.maps.event.addListener(Ye,"dblclick",c)),u&&U(google.maps.event.addListener(Ye,"dragend",u)),h&&K(google.maps.event.addListener(Ye,"dragstart",h)),f&&re(google.maps.event.addListener(Ye,"mousedown",f)),g&&me(google.maps.event.addListener(Ye,"mousemove",g)),p&&W(google.maps.event.addListener(Ye,"mouseout",p)),y&&Q(google.maps.event.addListener(Ye,"mouseover",y)),w&&te(google.maps.event.addListener(Ye,"mouseup",w)),E&&xe(google.maps.event.addListener(Ye,"rightclick",E)),j&&je(google.maps.event.addListener(Ye,"click",j)),C&&_e(google.maps.event.addListener(Ye,"drag",C)),O&&tt(google.maps.event.addListener(Ye,"center_changed",O)),I&&ut(google.maps.event.addListener(Ye,"radius_changed",I)),R(Ye),D&&D(Ye),()=>{b!==null&&google.maps.event.removeListener(b),L!==null&&google.maps.event.removeListener(L),P!==null&&google.maps.event.removeListener(P),G!==null&&google.maps.event.removeListener(G),Z!==null&&google.maps.event.removeListener(Z),ie!==null&&google.maps.event.removeListener(ie),ye!==null&&google.maps.event.removeListener(ye),ne!==null&&google.maps.event.removeListener(ne),X!==null&&google.maps.event.removeListener(X),Ne!==null&&google.maps.event.removeListener(Ne),Ue!==null&&google.maps.event.removeListener(Ue),ct!==null&&google.maps.event.removeListener(ct),T&&T(Ye),Ye.setMap(null)}},[]),null}S.memo(D4e);class M4e extends S.PureComponent{constructor(){super(...arguments),qe(this,"registeredEvents",[]),qe(this,"state",{circle:null}),qe(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var e=new google.maps.Circle(T1(T1({},this.props.options),{},{map:this.context}));this.registeredEvents=Sn({updaterMap:EF,eventMap:_F,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){this.state.circle!==null&&(Tn(this.registeredEvents),this.registeredEvents=Sn({updaterMap:EF,eventMap:_F,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var e;this.props.onUnmount&&this.props.onUnmount(this.state.circle),Tn(this.registeredEvents),(e=this.state.circle)===null||e===void 0||e.setMap(null)}}render(){return null}}qe(M4e,"contextType",gn);function jF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function A1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jF(Object(n),!0).forEach(function(r){qe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var SF={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},CF={add(t,e){t.add(e)},addgeojson(t,e,n){t.addGeoJson(e,n)},contains(t,e){t.contains(e)},foreach(t,e){t.forEach(e)},loadgeojson(t,e,n,r){t.loadGeoJson(e,n,r)},overridestyle(t,e,n){t.overrideStyle(e,n)},remove(t,e){t.remove(e)},revertstyle(t,e){t.revertStyle(e)},controlposition(t,e){t.setControlPosition(e)},controls(t,e){t.setControls(e)},drawingmode(t,e){t.setDrawingMode(e)},map(t,e){t.setMap(e)},style(t,e){t.setStyle(e)},togeojson(t,e){t.toGeoJson(e)}};function F4e(t){var{options:e,onClick:n,onDblClick:r,onMouseDown:s,onMouseMove:i,onMouseOut:o,onMouseOver:c,onMouseUp:u,onRightClick:h,onAddFeature:f,onRemoveFeature:g,onRemoveProperty:p,onSetGeometry:y,onSetProperty:w,onLoad:E,onUnmount:j}=t,C=S.useContext(gn),[O,I]=S.useState(null),[D,T]=S.useState(null),[F,_]=S.useState(null),[R,b]=S.useState(null),[A,L]=S.useState(null),[U,P]=S.useState(null),[K,G]=S.useState(null),[re,Z]=S.useState(null),[me,ie]=S.useState(null),[W,ye]=S.useState(null),[Q,ne]=S.useState(null),[te,X]=S.useState(null),[xe,Ne]=S.useState(null),[je,Ie]=S.useState(null);return S.useEffect(()=>{O!==null&&O.setMap(C)},[C]),S.useEffect(()=>{O&&r&&(D!==null&&google.maps.event.removeListener(D),T(google.maps.event.addListener(O,"dblclick",r)))},[r]),S.useEffect(()=>{O&&s&&(F!==null&&google.maps.event.removeListener(F),_(google.maps.event.addListener(O,"mousedown",s)))},[s]),S.useEffect(()=>{O&&i&&(R!==null&&google.maps.event.removeListener(R),b(google.maps.event.addListener(O,"mousemove",i)))},[i]),S.useEffect(()=>{O&&o&&(A!==null&&google.maps.event.removeListener(A),L(google.maps.event.addListener(O,"mouseout",o)))},[o]),S.useEffect(()=>{O&&c&&(U!==null&&google.maps.event.removeListener(U),P(google.maps.event.addListener(O,"mouseover",c)))},[c]),S.useEffect(()=>{O&&u&&(K!==null&&google.maps.event.removeListener(K),G(google.maps.event.addListener(O,"mouseup",u)))},[u]),S.useEffect(()=>{O&&h&&(re!==null&&google.maps.event.removeListener(re),Z(google.maps.event.addListener(O,"rightclick",h)))},[h]),S.useEffect(()=>{O&&n&&(me!==null&&google.maps.event.removeListener(me),ie(google.maps.event.addListener(O,"click",n)))},[n]),S.useEffect(()=>{O&&f&&(W!==null&&google.maps.event.removeListener(W),ye(google.maps.event.addListener(O,"addfeature",f)))},[f]),S.useEffect(()=>{O&&g&&(Q!==null&&google.maps.event.removeListener(Q),ne(google.maps.event.addListener(O,"removefeature",g)))},[g]),S.useEffect(()=>{O&&p&&(te!==null&&google.maps.event.removeListener(te),X(google.maps.event.addListener(O,"removeproperty",p)))},[p]),S.useEffect(()=>{O&&y&&(xe!==null&&google.maps.event.removeListener(xe),Ne(google.maps.event.addListener(O,"setgeometry",y)))},[y]),S.useEffect(()=>{O&&w&&(je!==null&&google.maps.event.removeListener(je),Ie(google.maps.event.addListener(O,"setproperty",w)))},[w]),S.useEffect(()=>{if(C!==null){var _e=new google.maps.Data(A1(A1({},e),{},{map:C}));r&&T(google.maps.event.addListener(_e,"dblclick",r)),s&&_(google.maps.event.addListener(_e,"mousedown",s)),i&&b(google.maps.event.addListener(_e,"mousemove",i)),o&&L(google.maps.event.addListener(_e,"mouseout",o)),c&&P(google.maps.event.addListener(_e,"mouseover",c)),u&&G(google.maps.event.addListener(_e,"mouseup",u)),h&&Z(google.maps.event.addListener(_e,"rightclick",h)),n&&ie(google.maps.event.addListener(_e,"click",n)),f&&ye(google.maps.event.addListener(_e,"addfeature",f)),g&&ne(google.maps.event.addListener(_e,"removefeature",g)),p&&X(google.maps.event.addListener(_e,"removeproperty",p)),y&&Ne(google.maps.event.addListener(_e,"setgeometry",y)),w&&Ie(google.maps.event.addListener(_e,"setproperty",w)),I(_e),E&&E(_e)}return()=>{O&&(D!==null&&google.maps.event.removeListener(D),F!==null&&google.maps.event.removeListener(F),R!==null&&google.maps.event.removeListener(R),A!==null&&google.maps.event.removeListener(A),U!==null&&google.maps.event.removeListener(U),K!==null&&google.maps.event.removeListener(K),re!==null&&google.maps.event.removeListener(re),me!==null&&google.maps.event.removeListener(me),W!==null&&google.maps.event.removeListener(W),Q!==null&&google.maps.event.removeListener(Q),te!==null&&google.maps.event.removeListener(te),xe!==null&&google.maps.event.removeListener(xe),je!==null&&google.maps.event.removeListener(je),j&&j(O),O.setMap(null))}},[]),null}S.memo(F4e);class B4e extends S.PureComponent{constructor(){super(...arguments),qe(this,"registeredEvents",[]),qe(this,"state",{data:null}),qe(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var e=new google.maps.Data(A1(A1({},this.props.options),{},{map:this.context}));this.registeredEvents=Sn({updaterMap:CF,eventMap:SF,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){this.state.data!==null&&(Tn(this.registeredEvents),this.registeredEvents=Sn({updaterMap:CF,eventMap:SF,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),Tn(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}qe(B4e,"contextType",gn);function NF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function TF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NF(Object(n),!0).forEach(function(r){qe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var AF={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},LF={options(t,e){t.setOptions(e)},url(t,e){t.setUrl(e)},zIndex(t,e){t.setZIndex(e)}};class U4e extends S.PureComponent{constructor(){super(...arguments),qe(this,"registeredEvents",[]),qe(this,"state",{kmlLayer:null}),qe(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var e=new google.maps.KmlLayer(TF(TF({},this.props.options),{},{map:this.context}));this.registeredEvents=Sn({updaterMap:LF,eventMap:AF,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){this.state.kmlLayer!==null&&(Tn(this.registeredEvents),this.registeredEvents=Sn({updaterMap:LF,eventMap:AF,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),Tn(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}qe(U4e,"contextType",gn);function IW(t,e){return typeof e=="function"?e(t.offsetWidth,t.offsetHeight):{x:0,y:0}}function z4e(t,e){return new e(t.lat,t.lng)}function q4e(t,e){return new e(new google.maps.LatLng(t.ne.lat,t.ne.lng),new google.maps.LatLng(t.sw.lat,t.sw.lng))}function $4e(t,e,n){return t instanceof e?t:n(t,e)}function V4e(t,e,n){return t instanceof e?t:n(t,e)}function H4e(t,e,n){var r=t&&t.fromLatLngToDivPixel(n.getNorthEast()),s=t&&t.fromLatLngToDivPixel(n.getSouthWest());return r&&s?{left:"".concat(s.x+e.x,"px"),top:"".concat(r.y+e.y,"px"),width:"".concat(r.x-s.x-e.x,"px"),height:"".concat(s.y-r.y-e.y,"px")}:{left:"-9999px",top:"-9999px"}}function G4e(t,e,n){var r=t&&t.fromLatLngToDivPixel(n);if(r){var{x:s,y:i}=r;return{left:"".concat(s+e.x,"px"),top:"".concat(i+e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function PW(t,e,n,r){return n!==void 0?H4e(t,e,V4e(n,google.maps.LatLngBounds,q4e)):G4e(t,e,$4e(r,google.maps.LatLng,z4e))}function W4e(t,e){return t.left===e.left&&t.top===e.top&&t.width===e.height&&t.height===e.height}function RF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function K4e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RF(Object(n),!0).forEach(function(r){qe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Y4e(t,e,n,r,s){class i extends google.maps.OverlayView{constructor(c,u,h,f){super(),this.container=c,this.pane=u,this.position=h,this.bounds=f}onAdd(){var c,u=(c=this.getPanes())===null||c===void 0?void 0:c[this.pane];u==null||u.appendChild(this.container)}draw(){var c=this.getProjection(),u=K4e({},this.container?IW(this.container,s):{x:0,y:0}),h=PW(c,u,this.bounds,this.position);for(var[f,g]of Object.entries(h))this.container.style[f]=g}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new i(t,e,n,r)}function kF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function X4e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kF(Object(n),!0).forEach(function(r){qe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OF(t){if(!t)return"";var e=t instanceof google.maps.LatLng?t:new google.maps.LatLng(t.lat,t.lng);return e+""}function IF(t){if(!t)return"";var e=t instanceof google.maps.LatLngBounds?t:new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.east),new google.maps.LatLng(t.north,t.west));return e+""}function J4e(t){var{position:e,bounds:n,mapPaneName:r,zIndex:s,onLoad:i,onUnmount:o,getPixelPositionOffset:c,children:u}=t,h=S.useContext(gn),f=S.useMemo(()=>{var p=document.createElement("div");return p.style.position="absolute",p},[]),g=S.useMemo(()=>Y4e(f,r,e,n,c),[f,r,e,n]);return S.useEffect(()=>(i==null||i(g),g==null||g.setMap(h),()=>{o==null||o(g),g==null||g.setMap(null)}),[h,g]),S.useEffect(()=>{f.style.zIndex="".concat(s)},[s,f]),Oh.createPortal(u,f)}S.memo(J4e);class Np extends S.PureComponent{constructor(e){super(e),qe(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),qe(this,"updatePane",()=>{var r=this.props.mapPaneName,s=this.overlayView.getPanes();Vs(!!r,"OverlayView requires props.mapPaneName but got %s",r),s?this.setState({paneEl:s[r]}):this.setState({paneEl:null})}),qe(this,"onAdd",()=>{var r,s;this.updatePane(),(r=(s=this.props).onLoad)===null||r===void 0||r.call(s,this.overlayView)}),qe(this,"onPositionElement",()=>{var r=this.overlayView.getProjection(),s=X4e({x:0,y:0},this.containerRef.current?IW(this.containerRef.current,this.props.getPixelPositionOffset):{}),i=PW(r,s,this.props.bounds,this.props.position);if(!W4e(i,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var o,c,u,h;this.setState({containerStyle:{top:(o=i.top)!==null&&o!==void 0?o:0,left:(c=i.left)!==null&&c!==void 0?c:0,width:(u=i.width)!==null&&u!==void 0?u:0,height:(h=i.height)!==null&&h!==void 0?h:0,position:"absolute"}})}}),qe(this,"draw",()=>{this.onPositionElement()}),qe(this,"onRemove",()=>{var r,s;this.setState(()=>({paneEl:null})),(r=(s=this.props).onUnmount)===null||r===void 0||r.call(s,this.overlayView)}),this.containerRef=S.createRef();var n=new google.maps.OverlayView;n.onAdd=this.onAdd,n.draw=this.draw,n.onRemove=this.onRemove,this.overlayView=n}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var n=OF(e.position),r=OF(this.props.position),s=IF(e.bounds),i=IF(this.props.bounds);(n!==r||s!==i)&&this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?Oh.createPortal(a.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:S.Children.only(this.props.children)}),e):null}}qe(Np,"FLOAT_PANE","floatPane");qe(Np,"MAP_PANE","mapPane");qe(Np,"MARKER_LAYER","markerLayer");qe(Np,"OVERLAY_LAYER","overlayLayer");qe(Np,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");qe(Np,"contextType",gn);function Q4e(){}function PF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function DF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PF(Object(n),!0).forEach(function(r){qe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var MF={onDblClick:"dblclick",onClick:"click"},FF={opacity(t,e){t.setOpacity(e)}};function Z4e(t){var{url:e,bounds:n,options:r,visible:s}=t,i=S.useContext(gn),o=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east)),c=S.useMemo(()=>new google.maps.GroundOverlay(e,o,r),[]);return S.useEffect(()=>{c!==null&&c.setMap(i)},[i]),S.useEffect(()=>{typeof e<"u"&&c!==null&&(c.set("url",e),c.setMap(i))},[c,e]),S.useEffect(()=>{typeof s<"u"&&c!==null&&c.setOpacity(s?1:0)},[c,s]),S.useEffect(()=>{var u=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east));typeof n<"u"&&c!==null&&(c.set("bounds",u),c.setMap(i))},[c,n]),null}S.memo(Z4e);class DW extends S.PureComponent{constructor(){super(...arguments),qe(this,"registeredEvents",[]),qe(this,"state",{groundOverlay:null}),qe(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){Vs(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,DF(DF({},this.props.options),{},{map:this.context}));this.registeredEvents=Sn({updaterMap:FF,eventMap:MF,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){this.state.groundOverlay!==null&&(Tn(this.registeredEvents),this.registeredEvents=Sn({updaterMap:FF,eventMap:MF,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}qe(DW,"defaultProps",{onLoad:Q4e});qe(DW,"contextType",gn);function BF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function L1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BF(Object(n),!0).forEach(function(r){qe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var UF={},zF={data(t,e){t.setData(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)}};function eRe(t){var{data:e,onLoad:n,onUnmount:r,options:s}=t,i=S.useContext(gn),[o,c]=S.useState(null);return S.useEffect(()=>{google.maps.visualization||Vs(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),S.useEffect(()=>{Vs(!!e,"data property is required in HeatmapLayer %s",e)},[e]),S.useEffect(()=>{o!==null&&o.setMap(i)},[i]),S.useEffect(()=>{s&&o!==null&&o.setOptions(s)},[o,s]),S.useEffect(()=>{var u=new google.maps.visualization.HeatmapLayer(L1(L1({},s),{},{data:e,map:i}));return c(u),n&&n(u),()=>{o!==null&&(r&&r(o),o.setMap(null))}},[]),null}S.memo(eRe);class tRe extends S.PureComponent{constructor(){super(...arguments),qe(this,"registeredEvents",[]),qe(this,"state",{heatmapLayer:null}),qe(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){Vs(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),Vs(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(L1(L1({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=Sn({updaterMap:zF,eventMap:UF,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){Tn(this.registeredEvents),this.registeredEvents=Sn({updaterMap:zF,eventMap:UF,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),Tn(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}qe(tRe,"contextType",gn);var qF={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},$F={register(t,e,n){t.registerPanoProvider(e,n)},links(t,e){t.setLinks(e)},motionTracking(t,e){t.setMotionTracking(e)},options(t,e){t.setOptions(e)},pano(t,e){t.setPano(e)},position(t,e){t.setPosition(e)},pov(t,e){t.setPov(e)},visible(t,e){t.setVisible(e)},zoom(t,e){t.setZoom(e)}};class nRe extends S.PureComponent{constructor(){super(...arguments),qe(this,"registeredEvents",[]),qe(this,"state",{streetViewPanorama:null}),qe(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var e,n,r=(e=(n=this.context)===null||n===void 0?void 0:n.getStreetView())!==null&&e!==void 0?e:null;this.registeredEvents=Sn({updaterMap:$F,eventMap:qF,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({streetViewPanorama:r}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){this.state.streetViewPanorama!==null&&(Tn(this.registeredEvents),this.registeredEvents=Sn({updaterMap:$F,eventMap:qF,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),Tn(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}qe(nRe,"contextType",gn);class rRe extends S.PureComponent{constructor(){super(...arguments),qe(this,"state",{streetViewService:null}),qe(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}qe(rRe,"contextType",gn);var VF={onDirectionsChanged:"directions_changed"},HF={directions(t,e){t.setDirections(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},panel(t,e){t.setPanel(e)},routeIndex(t,e){t.setRouteIndex(e)}};class sRe extends S.PureComponent{constructor(){super(...arguments),qe(this,"registeredEvents",[]),qe(this,"state",{directionsRenderer:null}),qe(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=Sn({updaterMap:HF,eventMap:VF,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){this.state.directionsRenderer!==null&&(Tn(this.registeredEvents),this.registeredEvents=Sn({updaterMap:HF,eventMap:VF,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),Tn(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}qe(sRe,"contextType",gn);var GF={onPlacesChanged:"places_changed"},WF={bounds(t,e){t.setBounds(e)}};class aRe extends S.PureComponent{constructor(){super(...arguments),qe(this,"registeredEvents",[]),qe(this,"containerElement",S.createRef()),qe(this,"state",{searchBox:null}),qe(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(Vs(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var e=this.containerElement.current.querySelector("input");if(e!==null){var n=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=Sn({updaterMap:WF,eventMap:GF,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{searchBox:n}},this.setSearchBoxCallback)}}}componentDidUpdate(e){this.state.searchBox!==null&&(Tn(this.registeredEvents),this.registeredEvents=Sn({updaterMap:WF,eventMap:GF,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),Tn(this.registeredEvents))}render(){return a.jsx("div",{ref:this.containerElement,children:S.Children.only(this.props.children)})}}qe(aRe,"contextType",gn);var KF={onPlaceChanged:"place_changed"},YF={bounds(t,e){t.setBounds(e)},restrictions(t,e){t.setComponentRestrictions(e)},fields(t,e){t.setFields(e)},options(t,e){t.setOptions(e)},types(t,e){t.setTypes(e)}};class MW extends S.PureComponent{constructor(){super(...arguments),qe(this,"registeredEvents",[]),qe(this,"containerElement",S.createRef()),qe(this,"state",{autocomplete:null}),qe(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var e;Vs(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var n=(e=this.containerElement.current)===null||e===void 0?void 0:e.querySelector("input");if(n){var r=new google.maps.places.Autocomplete(n,this.props.options);this.registeredEvents=Sn({updaterMap:YF,eventMap:KF,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({autocomplete:r}),this.setAutocompleteCallback)}}componentDidUpdate(e){Tn(this.registeredEvents),this.registeredEvents=Sn({updaterMap:YF,eventMap:KF,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&Tn(this.registeredEvents)}render(){return a.jsx("div",{ref:this.containerElement,className:this.props.className,children:S.Children.only(this.props.children)})}}qe(MW,"defaultProps",{className:""});qe(MW,"contextType",gn);const iRe={width:"100%",height:"400px"},oRe={lat:11.967,lng:121.924};function Ci({onLocationSelect:t,name:e,resetKey:n}){const{isLoaded:r}=TW({googleMapsApiKey:"AIzaSyB12zV70G4pEPERWnWPiC69_BZhw_5Af9k"}),[s,i]=S.useState(null);S.useEffect(()=>{i(null),t&&t({lat:"11.967",lng:"121.924"},"")},[n]);const o=c=>{const u=c.latLng.lat(),h=c.latLng.lng(),f={lat:u,lng:h};i(f);const g=e?`http://maps.google.com/?q=${encodeURIComponent(e)}&sll=${u},${h}`:`https://www.google.com/maps/search/?api=1&query=${u},${h}`;t&&t(f,g)};return a.jsxs(v.Group,{controlId:"formMapLocation",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Select Location"}),r?a.jsx(EW,{mapContainerStyle:iRe,center:s||oRe,zoom:15,onClick:o,children:s&&a.jsx(B3,{position:s})}):a.jsx("div",{children:"Loading Map..."})]})}const Mo=({storyForm:t,setStoryForm:e,caption:n,editingItem:r,dropzoneName:s,previewName:i})=>{const o=S.useCallback(f=>{const g=f[0];g&&e(p=>({...p,logo:g}))},[e]),{getRootProps:c,getInputProps:u}=Vt({onDrop:o,accept:"image/png, image/jpeg, image/jpg"}),h=t.logo instanceof File?URL.createObjectURL(t.logo):t.logo||r||null;return a.jsxs(B,{...c(),className:`${s} text-center w-100 ${h?"border-success":""}`,children:[a.jsx("input",{...u(),accept:"image/*"}),h&&t.logo?a.jsx("img",{src:h,alt:"Header Image Preview",className:i,style:{objectFit:"contain"}}):a.jsxs("p",{className:"text-muted",children:[n," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})},qn=({onChange:t,label:e="Select Option",options:n=[],resetKey:r,editingItems:s=[]})=>{const[i,o]=S.useState(s),[c,u]=S.useState(""),[h,f]=S.useState(n),[g,p]=S.useState(!1);S.useEffect(()=>{(o.length>0||o!=="")&&(o([]),u(""),t([]))},[r]),S.useEffect(()=>{Array.isArray(s)&&!y(i,s)&&o(s)},[s]);const y=(C,O)=>C.length!==O.length?!1:C.every((I,D)=>I===O[D]),w=C=>{const O=C.target.value;u(O),f(O?n.filter(I=>I.toLowerCase().includes(O.toLowerCase())):n)},E=C=>{if(C&&!i.includes(C)){const O=[...i,C];o(O),t(O)}u(""),p(!1)},j=C=>{const O=i.filter(I=>I!==C);o(O),t(O)};return a.jsxs(v.Group,{controlId:"selectionFieldWidget",children:[a.jsx(v.Label,{className:"label",children:e}),a.jsxs("div",{style:{position:"relative"},children:[a.jsx(v.Control,{type:"text",placeholder:`Search ${e} and click the selected option`,value:c,onChange:w,onFocus:()=>{f(n),p(!0)},onBlur:()=>setTimeout(()=>p(!1),200)}),g&&a.jsx(eE,{className:"position-absolute w-100 shadow bg-white",style:{zIndex:10,maxHeight:"200px",overflowY:"auto"},children:h.length>0?h.map((C,O)=>a.jsx(eE.Item,{action:!0,onMouseDown:()=>E(C),style:{cursor:"pointer"},children:C},O)):a.jsx(eE.Item,{disabled:!0,children:"No matching options"})})]}),a.jsx("div",{className:"mt-3 mb-3",children:i.map((C,O)=>a.jsxs(KT,{bg:"light",className:"me-2 mb-2",style:{color:"#1F89B2",border:"1px solid #1F89B2",borderRadius:"10px",paddingLeft:"10px",paddingRight:"10px"},children:[C,a.jsx(se,{variant:"link",size:"sm",onClick:()=>j(C),style:{color:"#1F89B2",textDecoration:"none",padding:"0 5px"},children:""})]},O))})]})},Rs=({dataForm:t,setDataForm:e,caption:n,dropzoneName:r,previewName:s,maxImages:i=10})=>{var f,g,p,y,w;const o=S.useCallback(E=>{E.length>0&&e(j=>{const C=[...j.images||[],...E];return C.length>i?(ve.fire({icon:"error",title:"Upload Limit Exceeded",text:`You can only upload up to ${i} images.`,confirmButtonColor:"#d33"}),{...j,images:C.slice(0,i)}):{...j,images:C}})},[e,i]),{getRootProps:c,getInputProps:u}=Vt({onDrop:o,accept:"image/png, image/jpeg, image/jpg",multiple:!0,maxFiles:i-(((f=t.images)==null?void 0:f.length)||0)}),h=()=>{e(E=>({...E,images:[]}))};return a.jsxs(B,{className:"text-center w-100",children:[a.jsxs(V,{className:"d-md-flex flex-md-column flex-lg-row align-items-center",children:[a.jsx(z,{md:12,lg:4,className:"order-lg-1 order-md-2 col",children:a.jsxs("div",{...c(),className:`${r} p-3 border rounded ${(g=t.images)!=null&&g.length?"border-success":""}`,style:{cursor:"pointer"},children:[a.jsx("input",{...u(),accept:"image/*"}),a.jsxs("p",{className:"text-muted",children:[n," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose Files"}),a.jsx("br",{}),a.jsx("strong",{children:i-(((p=t.images)==null?void 0:p.length)||0)})," images left to upload"]})]})}),a.jsx(z,{md:12,lg:8,className:"order-lg-2 order-md-1  col",children:a.jsx("div",{className:"d-flex flex-wrap justify-content-center align-items-center gap-2 border border-secondary rounded p-2",style:{borderWidth:"1px",minHeight:"200px",flexDirection:t.images.length>0?"row":"column"},children:(y=t.images)==null?void 0:y.map((E,j)=>{const C=E instanceof File?URL.createObjectURL(E):E;return a.jsxs("div",{className:"position-relative",style:{width:"85px",height:"85px",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",border:"1px solid gray",borderRadius:"10px"},children:[a.jsx("img",{src:C,alt:`Preview ${j+1}`,className:`${s} rounded m-2`,style:{width:"85px",height:"85px",objectFit:"contain",borderRadius:"10px"}}),a.jsx(se,{variant:"danger",size:"sm",className:"position-absolute top-0 end-0 m-1 d-flex align-items-center justify-content-center",onClick:()=>{e(O=>({...O,images:O.images.filter((I,D)=>D!==j)}))},style:{width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center",padding:0,fontSize:"14px",lineHeight:"14px",borderRadius:"50%"},children:""})]},j)})})})]}),((w=t.images)==null?void 0:w.length)>0&&a.jsx(B,{className:"d-flex justify-content-end mb-4",children:a.jsx(se,{variant:"outline-danger",className:"mt-3",onClick:h,children:"Reset Images"})})]})};class mT{constructor(){this.id="",this.name="",this.category="",this.subcategory="",this.classification="",this.accreditation="",this.ratings="",this.established="",this.lowest="",this.slogan="",this.description="",this.facilities=[],this.amenities=[],this.awards=[],this.images=[],this.roomtypes=[],this.operatinghours=[],this.inclusivity=[],this.accessibility="",this.logo=null,this.headerImage=null,this.website="",this.address={street:"",barangay:"",town:"",region:"",province:"",country:"",lat:"",long:""},this.link="",this.geo="",this.socials=[],this.memberships=[],this.note=""}toJSON(){return{...this}}}const $a={accommodations:["Resort","Hotel","Mabuhay Accommodation","Apartment Hotel/Apartel"],mainlandMalayHotels:["Resort","Hotel","Mabuhay Accommodation","Apartment Hotel/Apartel"],resorts:["Mainland Activity Resort"],restaurants:["Fine Dining","Buffet","Casual Dining","Pop-up","Fast Foood","Bistro","Pub"],barsAndPartyClubs:["Cocktail Bar","Live Music Bar","Lounges","Sports Bar","Entertainment Bars","Dance Clubs","Rooftop Clubs"],cafeAndCoworking:["Classic Caf","Breakfast Caf","Coworking Caf","Brunch Caf","Pub Caf","Open Coworking Space"],tourguides:["Local Tour Guide","Regional Tour Guide","Community Guide","Eco Guide"],travelAndTourOperators:["Local","Foreign"],touristActivityProviders:["Water Activity Provider","Aqua Sports Provider","Land Activity Provider","Aerial Activity Provider","Food & Beverage Provider","Transport Provider"],MICEFacilities:["Convention Center","Conference Rooms","Meeting Rooms","Ballrooms, Exhibition Halls"],eventsPlanningCompanies:["Wedding Planner","Corporate Event Planner","Conference Planner"],touristAndSpecialtyShops:["Souvenir Shop","Gift Shop","Local Market","Wet Market","Tattoo Shop"],spaAndWellnessCentres:["Spa Treatments","Massage Salon"],gymnsAndFitnessClubs:["Commercial Gymn","Boxing Club","Ballet Club","Dance Studio","Yoga Studio"],touristLandTransportOperators:["Shuttle Service","Car/Van Rental","Tour Bus Company","Airport Transfer Service","Taxi Operator"],touristAirTransportOperators:["Airline Service","Helicopter Service"],passengerShipLines:["Ferry Service","Ocean Liner"],parkingSpaces:["Parkling Lot"],hospitalsAndClinics:["General Hospital","Heath-care Center","General Veterinaryc Care","General Dentistry"]},Ni=["Boracay Island","Mainland Malay","Caticlan Area (Near Airport and Jetty)","Nearby Town","Capital Town, Kalibo","Municipality of Malay","Aklan Province"],Tp=["PWD-friendly","Pet-friendly","Senior Citizen Friendly","Kid-friendly","Muslim-friendly","Gender-friendly","Budget-friendly","Vegan-friendly","Allergen-friendly"],Fo=["Beachfront","Beside Main/Commercial Road","Beside Access Road","Private Road","Coastal Area","Riverside","Hillside (With Road Access)","Forest Area (Trail Walk)","Forest Area (With Community Guide)"],Ww=["Single","Standard Room","Standard Double","Standard Twin Room","Deluxe Room","Deluxe Double Room","Deluxe Triple Room","Deluxe Family Room","Studio Room or Apartment","Apartelle","Suite Room","Penthouse Suite","Ambassador Suite","Mandarin Grand Suite","Junior Suite","Executive Suite","Loft Suite","Presidential Suite","Luxury Room","Superior Room","Premier Room","Honeymoon Room","Family Room","Bunk Bed","Bachelor's Pad","Villa","Triple Room","Quad Room","Queen Bed","King Bed","Quad Room","Connecting Room","Cabana"],Ap=["Reception & Concierge Desk","Parking Area","CCTV Protected","Indoor Dining","Basic Fitness Center","Spa & Wellness Center","Swimming Pool","Sky Deck Pool","Pool Bar","Baggage Storage","Rooftop Bar / Lounge","Game Room & Entertainment Areas","Playgrounds & Kids Areas","Private Beach Access","Banquet & Event Halls","Business & Conference Rooms","Indoor Cafe","Function Hall","Karaoke Room","View Deck"],Kw=["Housekeeping Service","Wi-Fi Internet Access","Toiletries","Smart TV & Entertainment","Air Conditioning","Minibar & Coffee Maker","Bathrobe & Slippers","In-Room Safe","Airport Transfers","Shuttle Services","Pet-Friendly Services","IT Assistance","Complimentary Breakfast","Laundry Services","24/7 Security Guard","Golf Course Access","Room Service"];/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 *//**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */let pT;try{pT={window,document}}catch{/* istanbul ignore next -- @preserve */pT={window:{},document:{}}}var ry=pT;/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function XF(){return function t(){t.called=!0}}class Vm{constructor(e,n){be(this,"source");be(this,"name");be(this,"path");be(this,"stop");be(this,"off");be(this,"return");this.source=e,this.name=n,this.path=[],this.stop=XF(),this.off=XF()}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const Oa=new Array(256).fill("").map((t,e)=>("0"+e.toString(16)).slice(-2));function Yw(){const[t,e,n,r]=crypto.getRandomValues(new Uint32Array(4));return"e"+Oa[t>>0&255]+Oa[t>>8&255]+Oa[t>>16&255]+Oa[t>>24&255]+Oa[e>>0&255]+Oa[e>>8&255]+Oa[e>>16&255]+Oa[e>>24&255]+Oa[n>>0&255]+Oa[n>>8&255]+Oa[n>>16&255]+Oa[n>>24&255]+Oa[r>>0&255]+Oa[r>>8&255]+Oa[r>>16&255]+Oa[r>>24&255]}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const gT={get(t="normal"){return typeof t!="number"?this[t]||this.normal:t},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function lRe(t,e){const n=gT.get(e.priority);let r=0,s=t.length;for(;r<s;){const i=r+s>>1;gT.get(t[i].priority)<n?s=i:r=i+1}t.splice(r,0,e)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const cRe="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class lt extends Error{constructor(n,r,s){super(uRe(n,s));be(this,"context");be(this,"data");this.name="CKEditorError",this.context=r,this.data=s}is(n){return n==="CKEditorError"}static rethrowUnexpectedError(n,r){if(n.is&&n.is("CKEditorError"))throw n;const s=new lt(n.message,r);throw s.stack=n.stack,s}}function yT(t,e){console.warn(...dRe(t,e))}function FW(t){return`
Read more: ${cRe}#error-${t}`}function uRe(t,e){const n=new WeakSet,s=e?` ${JSON.stringify(e,(o,c)=>{if(typeof c=="object"&&c!==null){if(n.has(c))return`[object ${c.constructor.name}]`;n.add(c)}return c})}`:"",i=FW(t);return t+s+i}function dRe(t,e){const n=FW(t);return e?[t,e,n]:[t,n]}const hRe="44.2.1";/* istanbul ignore next -- @preserve */if(globalThis.CKEDITOR_VERSION)throw new lt("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=hRe;const Qf=Symbol("listeningTo"),vT=Symbol("emitterId"),Nc=Symbol("delegations"),BW=ea(Object);function ea(t){if(!t)return BW;class e extends t{on(r,s,i){this.listenTo(this,r,s,i)}once(r,s,i){let o=!1;const c=(u,...h)=>{o||(o=!0,u.off(),s.call(this,u,...h))};this.listenTo(this,r,c,i)}off(r,s){this.stopListening(this,r,s)}listenTo(r,s,i,o={}){let c,u;this[Qf]||(this[Qf]={});const h=this[Qf];fC(r)||UW(r);const f=fC(r);(c=h[f])||(c=h[f]={emitter:r,callbacks:{}}),(u=c.callbacks[s])||(u=c.callbacks[s]=[]),u.push(i),yRe(this,r,s,i,o)}stopListening(r,s,i){const o=this[Qf];let c=r&&fC(r);const u=o&&c?o[c]:void 0,h=u&&s?u.callbacks[s]:void 0;if(!(!o||r&&!u||s&&!h))if(i)mC(this,r,s,i),h.indexOf(i)!==-1&&(h.length===1?delete u.callbacks[s]:mC(this,r,s,i));else if(h){for(;i=h.pop();)mC(this,r,s,i);delete u.callbacks[s]}else if(u){for(s in u.callbacks)this.stopListening(r,s);delete o[c]}else{for(c in o)this.stopListening(o[c].emitter);delete this[Qf]}}fire(r,...s){try{const i=r instanceof Vm?r:new Vm(this,r),o=i.name;let c=gRe(this,o);if(i.path.push(this),c){c=c.slice();for(let h=0;h<c.length;h++){const f=c[h].callback;if(f.call(this,i,...s),i.off.called&&(delete i.off.called,this._removeEventListener(o,f)),i.stop.called)break}}const u=this[Nc];if(u){const h=u.get(o),f=u.get("*");h&&JF(h,i,s),f&&JF(f,i,s)}return i.return}catch(i){/* istanbul ignore next -- @preserve */lt.rethrowUnexpectedError(i,this)}}delegate(...r){return{to:(s,i)=>{this[Nc]||(this[Nc]=new Map),r.forEach(o=>{const c=this[Nc].get(o);c?c.set(s,i):this[Nc].set(o,new Map([[s,i]]))})}}}stopDelegating(r,s){if(this[Nc])if(!r)this[Nc].clear();else if(!s)this[Nc].delete(r);else{const i=this[Nc].get(r);i&&i.delete(s)}}_addEventListener(r,s,i){pRe(this,r);const o=xT(this,r),c=gT.get(i.priority),u={callback:s,priority:c};for(const h of o)lRe(h,u)}_removeEventListener(r,s){const i=xT(this,r);for(const o of i)for(let c=0;c<o.length;c++)o[c].callback==s&&(o.splice(c,1),c--)}}return e}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(t=>{ea[t]=BW.prototype[t]});function fRe(t,e){const n=t[Qf];return n&&n[e]?n[e].emitter:null}function UW(t,e){t[vT]||(t[vT]=e||Yw())}function fC(t){return t[vT]}function zW(t){return t._events||Object.defineProperty(t,"_events",{value:{}}),t._events}function mRe(){return{callbacks:[],childEvents:[]}}function pRe(t,e){const n=zW(t);if(n[e])return;let r=e,s=null;const i=[];for(;r!==""&&!n[r];)n[r]=mRe(),i.push(n[r]),s&&n[r].childEvents.push(s),s=r,r=r.substr(0,r.lastIndexOf(":"));if(r!==""){for(const o of i)o.callbacks=n[r].callbacks.slice();n[r].childEvents.push(s)}}function xT(t,e){const n=zW(t)[e];if(!n)return[];let r=[n.callbacks];for(let s=0;s<n.childEvents.length;s++){const i=xT(t,n.childEvents[s]);r=r.concat(i)}return r}function gRe(t,e){if(!t._events)return null;let n=e;do{const r=t._events[n];if(r&&r.callbacks&&r.callbacks.length)return r.callbacks;const s=n.lastIndexOf(":");n=s>-1?n.substring(0,s):""}while(n);return null}function JF(t,e,n){for(let[r,s]of t){s?typeof s=="function"&&(s=s(e.name)):s=e.name;const i=new Vm(e.source,s);i.path=[...e.path],r.fire(i,...n)}}function yRe(t,e,n,r,s){e._addEventListener?e._addEventListener(n,r,s):t._addEventListener.call(e,n,r,s)}function mC(t,e,n,r){e._removeEventListener?e._removeEventListener(n,r):t._removeEventListener.call(e,n,r)}const p0=Symbol("observableProperties"),sy=Symbol("boundObservables"),g0=Symbol("boundProperties"),Qd=Symbol("decoratedMethods"),QF=Symbol("decoratedOriginal"),qW=q3(ea());function q3(t){var n,r,s,i,o;if(!t)return qW;class e extends(o=t,i=p0,s=Qd,r=g0,n=sy,o){constructor(){super(...arguments);be(this,i);be(this,s);be(this,r);be(this,n)}set(h,f){if(cl(h)){Object.keys(h).forEach(p=>{this.set(p,h[p])},this);return}pC(this);const g=this[p0];if(h in this&&!g.has(h))throw new lt("observable-set-cannot-override",this);Object.defineProperty(this,h,{enumerable:!0,configurable:!0,get(){return g.get(h)},set(p){const y=g.get(h);let w=this.fire(`set:${h}`,h,p,y);w===void 0&&(w=p),(y!==w||!g.has(h))&&(g.set(h,w),this.fire(`change:${h}`,h,w,y))}}),this[h]=f}bind(...h){if(!h.length||!ZF(h))throw new lt("observable-bind-wrong-properties",this);if(new Set(h).size!==h.length)throw new lt("observable-bind-duplicate-properties",this);pC(this);const f=this[g0];h.forEach(p=>{if(f.has(p))throw new lt("observable-bind-rebind",this)});const g=new Map;return h.forEach(p=>{const y={property:p,to:[]};f.set(p,y),g.set(p,y)}),{to:vRe,toMany:xRe,_observable:this,_bindProperties:h,_to:[],_bindings:g}}unbind(...h){if(!this[p0])return;const f=this[g0],g=this[sy];if(h.length){if(!ZF(h))throw new lt("observable-unbind-wrong-properties",this);h.forEach(p=>{const y=f.get(p);y&&(y.to.forEach(([w,E])=>{const j=g.get(w),C=j[E];C.delete(y),C.size||delete j[E],Object.keys(j).length||(g.delete(w),this.stopListening(w,"change"))}),f.delete(p))})}else g.forEach((p,y)=>{this.stopListening(y,"change")}),g.clear(),f.clear()}decorate(h){pC(this);const f=this[h];if(!f)throw new lt("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:h});this.on(h,(g,p)=>{g.return=f.apply(this,p)}),this[h]=function(...g){return this.fire(h,g)},this[h][QF]=f,this[Qd]||(this[Qd]=[]),this[Qd].push(h)}stopListening(h,f,g){if(!h&&this[Qd]){for(const p of this[Qd])this[p]=this[p][QF];delete this[Qd]}super.stopListening(h,f,g)}}return e}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(t=>{q3[t]=qW.prototype[t]});function pC(t){t[p0]||(Object.defineProperty(t,p0,{value:new Map}),Object.defineProperty(t,sy,{value:new Map}),Object.defineProperty(t,g0,{value:new Map}))}function vRe(...t){const e=wRe(...t),n=Array.from(this._bindings.keys()),r=n.length;if(!e.callback&&e.to.length>1)throw new lt("observable-bind-to-no-callback",this);if(r>1&&e.callback)throw new lt("observable-bind-to-extra-callback",this);e.to.forEach(s=>{if(s.properties.length&&s.properties.length!==r)throw new lt("observable-bind-to-properties-length",this);s.properties.length||(s.properties=this._bindProperties)}),this._to=e.to,e.callback&&(this._bindings.get(n[0]).callback=e.callback),jRe(this._observable,this._to),ERe(this),this._bindProperties.forEach(s=>{$W(this._observable,s)})}function xRe(t,e,n){if(this._bindings.size>1)throw new lt("observable-bind-to-many-not-one-binding",this);this.to(...bRe(t,e),n)}function bRe(t,e){const n=t.map(r=>[r,e]);return Array.prototype.concat.apply([],n)}function ZF(t){return t.every(e=>typeof e=="string")}function wRe(...t){if(!t.length)throw new lt("observable-bind-to-parse-error",null);const e={to:[]};let n;return typeof t[t.length-1]=="function"&&(e.callback=t.pop()),t.forEach(r=>{if(typeof r=="string")n.properties.push(r);else if(typeof r=="object")n={observable:r,properties:[]},e.to.push(n);else throw new lt("observable-bind-to-parse-error",null)}),e}function _Re(t,e,n,r){const s=t[sy],i=s.get(n),o=i||{};o[r]||(o[r]=new Set),o[r].add(e),i||s.set(n,o)}function ERe(t){let e;t._bindings.forEach((n,r)=>{t._to.forEach(s=>{e=s.properties[n.callback?0:t._bindProperties.indexOf(r)],n.to.push([s.observable,e]),_Re(t._observable,n,s.observable,e)})})}function $W(t,e){const r=t[g0].get(e);let s;r.callback?s=r.callback.apply(t,r.to.map(i=>i[0][i[1]])):(s=r.to[0],s=s[0][s[1]]),Object.prototype.hasOwnProperty.call(t,e)?t[e]=s:t.set(e,s)}function jRe(t,e){e.forEach(n=>{const r=t[sy];let s;r.get(n.observable)||t.listenTo(n.observable,"change",(i,o)=>{s=r.get(n.observable)[o],s&&s.forEach(c=>{$W(t,c.property)})})})}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function e7(t){let e=0;for(const n of t)e++;return e}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function ni(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++)if(t[r]!=e[r])return r;return t.length==e.length?"same":t.length<e.length?"prefix":"extension"}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function uu(t){return!!(t&&t[Symbol.iterator])}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function t7(t){if(t){if(t.defaultView)return t instanceof t.defaultView.Document;if(t.ownerDocument&&t.ownerDocument.defaultView)return t instanceof t.ownerDocument.defaultView.Node}return!1}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function n7(t){const e=Object.prototype.toString.apply(t);return e=="[object Window]"||e=="[object global]"}const VW=HW(ea());function HW(t){if(!t)return VW;class e extends t{listenTo(r,s,i,o={}){if(t7(r)||n7(r)){const c={capture:!!o.useCapture,passive:!!o.usePassive},u=this._getProxyEmitter(r,c)||new SRe(r,c);this.listenTo(u,s,i,o)}else super.listenTo(r,s,i,o)}stopListening(r,s,i){if(t7(r)||n7(r)){const o=this._getAllProxyEmitters(r);for(const c of o)this.stopListening(c,s,i)}else super.stopListening(r,s,i)}_getProxyEmitter(r,s){return fRe(this,GW(r,s))}_getAllProxyEmitters(r){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(s=>this._getProxyEmitter(r,s)).filter(s=>!!s)}}return e}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(t=>{HW[t]=VW.prototype[t]});class SRe extends ea(){constructor(n,r){super();be(this,"_domNode");be(this,"_options");be(this,"_domListeners");UW(this,GW(n,r)),this._domNode=n,this._options=r}attach(n){if(this._domListeners&&this._domListeners[n])return;const r=this._createDomListener(n);this._domNode.addEventListener(n,r,this._options),this._domListeners||(this._domListeners={}),this._domListeners[n]=r}detach(n){let r;this._domListeners[n]&&(!(r=this._events[n])||!r.callbacks.length)&&this._domListeners[n].removeListener()}_addEventListener(n,r,s){this.attach(n),ea().prototype._addEventListener.call(this,n,r,s)}_removeEventListener(n,r){ea().prototype._removeEventListener.call(this,n,r),this.detach(n)}_createDomListener(n){const r=s=>{this.fire(n,s)};return r.removeListener=()=>{this._domNode.removeEventListener(n,r,this._options),delete this._domListeners[n]},r}}function CRe(t){return t["data-ck-expando"]||(t["data-ck-expando"]=Yw())}function GW(t,e){let n=CRe(t);for(const r of Object.keys(e).sort())e[r]&&(n+="-"+r);return n}const y0=NRe();function NRe(){const t={pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let e=65;e<=90;e++){const n=String.fromCharCode(e);t[n.toLowerCase()]=e}for(let e=48;e<=57;e++)t[e-48]=e;for(let e=112;e<=123;e++)t["f"+(e-111)]=e;return Object.assign(t,{"'":222,",":108,"-":109,".":110,"/":111,";":186,"=":187,"[":219,"\\":220,"]":221,"`":223}),t}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function mb(t){return Array.isArray(t)?t:[t]}/* istanbul ignore else -- @preserve */ry.window.CKEDITOR_TRANSLATIONS||(ry.window.CKEDITOR_TRANSLATIONS={});class TRe extends ea(){constructor(n={},r={}){super();be(this,"_items");be(this,"_itemMap");be(this,"_idProperty");be(this,"_bindToCollection");be(this,"_bindToExternalToInternalMap");be(this,"_bindToInternalToExternalMap");be(this,"_skippedIndexesFromExternal");const s=uu(n);if(s||(r=n),this._items=[],this._itemMap=new Map,this._idProperty=r.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],s)for(const i of n)this._items.push(i),this._itemMap.set(this._getItemIdBeforeAdding(i),i)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(n,r){return this.addMany([n],r)}addMany(n,r){if(r===void 0)r=this._items.length;else if(r>this._items.length||r<0)throw new lt("collection-add-item-invalid-index",this);let s=0;for(const i of n){const o=this._getItemIdBeforeAdding(i),c=r+s;this._items.splice(c,0,i),this._itemMap.set(o,i),this.fire("add",i,c),s++}return this.fire("change",{added:n,removed:[],index:r}),this}get(n){let r;if(typeof n=="string")r=this._itemMap.get(n);else if(typeof n=="number")r=this._items[n];else throw new lt("collection-get-invalid-arg",this);return r||null}has(n){if(typeof n=="string")return this._itemMap.has(n);{const r=this._idProperty,s=n[r];return s&&this._itemMap.has(s)}}getIndex(n){let r;return typeof n=="string"?r=this._itemMap.get(n):r=n,r?this._items.indexOf(r):-1}remove(n){const[r,s]=this._remove(n);return this.fire("change",{added:[],removed:[r],index:s}),r}map(n,r){return this._items.map(n,r)}forEach(n,r){this._items.forEach(n,r)}find(n,r){return this._items.find(n,r)}filter(n,r){return this._items.filter(n,r)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const n=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:n,index:0})}bindTo(n){if(this._bindToCollection)throw new lt("collection-bind-to-rebind",this);return this._bindToCollection=n,{as:r=>{this._setUpBindToBinding(s=>new r(s))},using:r=>{typeof r=="function"?this._setUpBindToBinding(r):this._setUpBindToBinding(s=>s[r])}}}_setUpBindToBinding(n){const r=this._bindToCollection,s=(i,o,c)=>{const u=r._bindToCollection==this,h=r._bindToInternalToExternalMap.get(o);if(u&&h)this._bindToExternalToInternalMap.set(o,h),this._bindToInternalToExternalMap.set(h,o);else{const f=n(o);if(!f){this._skippedIndexesFromExternal.push(c);return}let g=c;for(const p of this._skippedIndexesFromExternal)c>p&&g--;for(const p of r._skippedIndexesFromExternal)g>=p&&g++;this._bindToExternalToInternalMap.set(o,f),this._bindToInternalToExternalMap.set(f,o),this.add(f,g);for(let p=0;p<r._skippedIndexesFromExternal.length;p++)g<=r._skippedIndexesFromExternal[p]&&r._skippedIndexesFromExternal[p]++}};for(const i of r)s(null,i,r.getIndex(i));this.listenTo(r,"add",s),this.listenTo(r,"remove",(i,o,c)=>{const u=this._bindToExternalToInternalMap.get(o);u&&this.remove(u),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((h,f)=>(c<f&&h.push(f-1),c>f&&h.push(f),h),[])})}_getItemIdBeforeAdding(n){const r=this._idProperty;let s;if(r in n){if(s=n[r],typeof s!="string")throw new lt("collection-add-invalid-id",this);if(this.get(s))throw new lt("collection-add-item-already-exists",this)}else n[r]=s=Yw();return s}_remove(n){let r,s,i,o=!1;const c=this._idProperty;if(typeof n=="string"?(s=n,i=this._itemMap.get(s),o=!i,i&&(r=this._items.indexOf(i))):typeof n=="number"?(r=n,i=this._items[r],o=!i,i&&(s=i[c])):(i=n,s=i[c],r=this._items.indexOf(i),o=r==-1||!this._itemMap.get(s)),o)throw new lt("collection-remove-404",this);this._items.splice(r,1),this._itemMap.delete(s);const u=this._bindToInternalToExternalMap.get(i);return this._bindToInternalToExternalMap.delete(i),this._bindToExternalToInternalMap.delete(u),this.fire("remove",i,r),[i,r]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function ARe(t){const e=new Map;for(const n in t)e.set(n,t[n]);return e}function ay(t){return uu(t)?new Map(t):ARe(t)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function r7(t,e,n){const r=t.length,s=e.length;for(let i=r-1;i>=n;i--)t[i+s]=t[i];for(let i=0;i<s;i++)t[n+i]=e[i]}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 *//**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */let nf=class{is(){throw new Error("is() method is abstract")}},rf=class extends ea(nf){constructor(n){super();be(this,"document");be(this,"parent");this.document=n,this.parent=null}get index(){let n;if(!this.parent)return null;if((n=this.parent.getChildIndex(this))==-1)throw new lt("view-node-not-found-in-parent",this);return n}get nextSibling(){const n=this.index;return n!==null&&this.parent.getChild(n+1)||null}get previousSibling(){const n=this.index;return n!==null&&this.parent.getChild(n-1)||null}get root(){let n=this;for(;n.parent;)n=n.parent;return n}isAttached(){return this.root.is("rootElement")}getPath(){const n=[];let r=this;for(;r.parent;)n.unshift(r.index),r=r.parent;return n}getAncestors(n={}){const r=[];let s=n.includeSelf?this:this.parent;for(;s;)r[n.parentFirst?"push":"unshift"](s),s=s.parent;return r}getCommonAncestor(n,r={}){const s=this.getAncestors(r),i=n.getAncestors(r);let o=0;for(;s[o]==i[o]&&s[o];)o++;return o===0?null:s[o-1]}isBefore(n){if(this==n||this.root!==n.root)return!1;const r=this.getPath(),s=n.getPath(),i=ni(r,s);switch(i){case"prefix":return!0;case"extension":return!1;default:return r[i]<s[i]}}isAfter(n){return this==n||this.root!==n.root?!1:!this.isBefore(n)}_remove(){this.parent._removeChildren(this.index)}_fireChange(n,r,s){this.fire(`change:${n}`,r,s),this.parent&&this.parent._fireChange(n,r,s)}toJSON(){const n=F1e(this);return delete n.parent,n}};rf.prototype.is=function(t){return t==="node"||t==="view:node"};let mh=class bT extends rf{constructor(n,r){super(n);be(this,"_textData");this._textData=r}get data(){return this._textData}get _data(){return this.data}set _data(n){this._fireChange("text",this),this._textData=n}isSimilar(n){return n instanceof bT?this===n||this.data===n.data:!1}_clone(){return new bT(this.document,this.data)}};mh.prototype.is=function(t){return t==="$text"||t==="view:$text"||t==="text"||t==="view:text"||t==="node"||t==="view:node"};let Lc=class extends nf{constructor(n,r,s){super();be(this,"textNode");be(this,"data");be(this,"offsetInText");if(this.textNode=n,r<0||r>n.data.length)throw new lt("view-textproxy-wrong-offsetintext",this);if(s<0||r+s>n.data.length)throw new lt("view-textproxy-wrong-length",this);this.data=n.data.substring(r,r+s),this.offsetInText=r}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(n={}){const r=[];let s=n.includeSelf?this.textNode:this.parent;for(;s!==null;)r[n.parentFirst?"push":"unshift"](s),s=s.parent;return r}};Lc.prototype.is=function(t){return t==="$textProxy"||t==="view:$textProxy"||t==="textProxy"||t==="view:textProxy"};class LRe{constructor(...e){be(this,"_patterns",[]);this.add(...e)}add(...e){for(let n of e)(typeof n=="string"||n instanceof RegExp)&&(n={name:n}),this._patterns.push(n)}match(...e){for(const n of e)for(const r of this._patterns){const s=s7(n,r);if(s)return{element:n,pattern:r,match:s}}return null}matchAll(...e){const n=[];for(const r of e)for(const s of this._patterns){const i=s7(r,s);i&&n.push({element:r,pattern:s,match:i})}return n.length>0?n:null}getElementName(){if(this._patterns.length!==1)return null;const e=this._patterns[0],n=e.name;return typeof e!="function"&&n&&!(n instanceof RegExp)?n:null}}function s7(t,e){if(typeof e=="function")return e(t);const n={};return e.name&&(n.name=RRe(e.name,t.name),!n.name)||e.attributes&&(n.attributes=PRe(e.attributes,t),!n.attributes)||e.classes&&(n.classes=DRe(e.classes,t),!n.classes)||e.styles&&(n.styles=MRe(e.styles,t),!n.styles)?null:n}function RRe(t,e){return t instanceof RegExp?!!e.match(t):t===e}function $3(t,e,n){const r=kRe(t),s=Array.from(e),i=[];if(r.forEach(([o,c])=>{s.forEach(u=>{ORe(o,u)&&IRe(c,u,n)&&i.push(u)})}),!(!r.length||i.length<r.length))return i}function kRe(t){if(Array.isArray(t))return t.map(n=>typeof n!="object"||n instanceof RegExp?[n,!0]:((n.key===void 0||n.value===void 0)&&yT("matcher-pattern-missing-key-or-value",n),[n.key,n.value]));if(typeof t!="object"||t instanceof RegExp)return[[t,!0]];const e=[];for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push([n,t[n]]);return e}function ORe(t,e){return t===!0||t===e||t instanceof RegExp&&e.match(t)}function IRe(t,e,n){if(t===!0)return!0;const r=n(e);return t===r||t instanceof RegExp&&!!String(r).match(t)}function PRe(t,e){const n=new Set(e.getAttributeKeys());return typeof t=="object"&&!(t instanceof RegExp)&&!Array.isArray(t)?(t.style!==void 0&&yT("matcher-pattern-deprecated-attributes-style-key",t),t.class!==void 0&&yT("matcher-pattern-deprecated-attributes-class-key",t)):(n.delete("style"),n.delete("class")),$3(t,n,r=>e.getAttribute(r))}function DRe(t,e){return $3(t,e.getClassNames(),()=>{})}function MRe(t,e){return $3(t,e.getStyleNames(!0),n=>e.getStyle(n))}class FRe{constructor(e){be(this,"_styles");be(this,"_cachedStyleNames",null);be(this,"_cachedExpandedStyleNames",null);be(this,"_styleProcessor");this._styles={},this._styleProcessor=e}get isEmpty(){return!Object.entries(this._styles).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(e){this.clear();const n=BRe(e);for(const[r,s]of n)this._styleProcessor.toNormalizedForm(r,s,this._styles)}has(e){if(this.isEmpty)return!1;const r=this._styleProcessor.getReducedForm(e,this._styles).find(([s])=>s===e);return Array.isArray(r)}set(e,n){if(this._cachedStyleNames=null,this._cachedExpandedStyleNames=null,cl(e))for(const[r,s]of Object.entries(e))this._styleProcessor.toNormalizedForm(r,s,this._styles);else this._styleProcessor.toNormalizedForm(e,n,this._styles)}remove(e){this._cachedStyleNames=null,this._cachedExpandedStyleNames=null;const n=URe(e);Swe(this._styles,n),delete this._styles[e],this._cleanEmptyObjectsOnPath(n)}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){return this.isEmpty?"":this.getStylesEntries().map(e=>e.join(":")).sort().join(";")+";"}getAsString(e){if(this.isEmpty)return;if(this._styles[e]&&!cl(this._styles[e]))return this._styles[e];const r=this._styleProcessor.getReducedForm(e,this._styles).find(([s])=>s===e);if(Array.isArray(r))return r[1]}getStyleNames(e=!1){return this.isEmpty?[]:e?(this._cachedExpandedStyleNames=this._cachedExpandedStyleNames||this._styleProcessor.getStyleNames(this._styles),this._cachedExpandedStyleNames):(this._cachedStyleNames=this._cachedStyleNames||this.getStylesEntries().map(([n])=>n),this._cachedStyleNames)}clear(){this._styles={},this._cachedStyleNames=null,this._cachedExpandedStyleNames=null}getStylesEntries(){const e=[],n=Object.keys(this._styles);for(const r of n)e.push(...this._styleProcessor.getReducedForm(r,this._styles));return e}_cleanEmptyObjectsOnPath(e){const n=e.split(".");if(!(n.length>1))return;const s=n.splice(0,n.length-1).join("."),i=nbe(this._styles,s);if(!i)return;!Object.keys(i).length&&this.remove(s)}}function BRe(t){let e=null,n=0,r=0,s=null;const i=new Map;if(t==="")return i;t.charAt(t.length-1)!=";"&&(t=t+";");for(let o=0;o<t.length;o++){const c=t.charAt(o);if(e===null)switch(c){case":":s||(s=t.substr(n,o-n),r=o+1);break;case'"':case"'":e=c;break;case";":{const u=t.substr(r,o-r);s&&i.set(s.trim(),u.trim()),s=null,n=o+1;break}}else c===e&&(e=null)}return i}function URe(t){return t.replace("-",".")}let Lp=class WW extends rf{constructor(n,r,s,i){super(n);be(this,"name");be(this,"_unsafeAttributesToRender",[]);be(this,"_attrs");be(this,"_children");be(this,"_classes");be(this,"_styles");be(this,"_customProperties",new Map);if(this.name=r,this._attrs=zRe(s),this._children=[],i&&this._insertChild(0,i),this._classes=new Set,this._attrs.has("class")){const o=this._attrs.get("class");a7(this._classes,o),this._attrs.delete("class")}this._styles=new FRe(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(n){return this._children[n]}getChildIndex(n){return this._children.indexOf(n)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(n){if(n=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(n=="style"){const r=this._styles.toString();return r==""?void 0:r}return this._attrs.get(n)}hasAttribute(n){return n=="class"?this._classes.size>0:n=="style"?!this._styles.isEmpty:this._attrs.has(n)}isSimilar(n){if(!(n instanceof WW))return!1;if(this===n)return!0;if(this.name!=n.name||this._attrs.size!==n._attrs.size||this._classes.size!==n._classes.size||this._styles.size!==n._styles.size)return!1;for(const[r,s]of this._attrs)if(!n._attrs.has(r)||n._attrs.get(r)!==s)return!1;for(const r of this._classes)if(!n._classes.has(r))return!1;for(const r of this._styles.getStyleNames())if(!n._styles.has(r)||n._styles.getAsString(r)!==this._styles.getAsString(r))return!1;return!0}hasClass(...n){for(const r of n)if(!this._classes.has(r))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(n){return this._styles.getAsString(n)}getNormalizedStyle(n){return this._styles.getNormalized(n)}getStyleNames(n){return this._styles.getStyleNames(n)}hasStyle(...n){for(const r of n)if(!this._styles.has(r))return!1;return!0}findAncestor(...n){const r=new LRe(...n);let s=this.parent;for(;s&&!s.is("documentFragment");){if(r.match(s))return s;s=s.parent}return null}getCustomProperty(n){return this._customProperties.get(n)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const n=Array.from(this._classes).sort().join(","),r=this._styles.toString(),s=Array.from(this._attrs).map(i=>`${i[0]}="${i[1]}"`).sort().join(" ");return this.name+(n==""?"":` class="${n}"`)+(r?` style="${r}"`:"")+(s==""?"":` ${s}`)}shouldRenderUnsafeAttribute(n){return this._unsafeAttributesToRender.includes(n)}_clone(n=!1){const r=[];if(n)for(const i of this.getChildren())r.push(i._clone(n));const s=new this.constructor(this.document,this.name,this._attrs,r);return s._classes=new Set(this._classes),s._styles.set(this._styles.getNormalized()),s._customProperties=new Map(this._customProperties),s.getFillerOffset=this.getFillerOffset,s._unsafeAttributesToRender=this._unsafeAttributesToRender,s}_appendChild(n){return this._insertChild(this.childCount,n)}_insertChild(n,r){this._fireChange("children",this,{index:n});let s=0;const i=qRe(this.document,r);for(const o of i)o.parent!==null&&o._remove(),o.parent=this,o.document=this.document,this._children.splice(n,0,o),n++,s++;return s}_removeChildren(n,r=1){this._fireChange("children",this,{index:n});for(let s=n;s<n+r;s++)this._children[s].parent=null;return this._children.splice(n,r)}_setAttribute(n,r){const s=String(r);this._fireChange("attributes",this),n=="class"?a7(this._classes,s):n=="style"?this._styles.setTo(s):this._attrs.set(n,s)}_removeAttribute(n){return this._fireChange("attributes",this),n=="class"?this._classes.size>0?(this._classes.clear(),!0):!1:n=="style"?this._styles.isEmpty?!1:(this._styles.clear(),!0):this._attrs.delete(n)}_addClass(n){this._fireChange("attributes",this);for(const r of mb(n))this._classes.add(r)}_removeClass(n){this._fireChange("attributes",this);for(const r of mb(n))this._classes.delete(r)}_setStyle(n,r){this._fireChange("attributes",this),typeof n!="string"?this._styles.set(n):this._styles.set(n,r)}_removeStyle(n){this._fireChange("attributes",this);for(const r of mb(n))this._styles.remove(r)}_setCustomProperty(n,r){this._customProperties.set(n,r)}_removeCustomProperty(n){return this._customProperties.delete(n)}};Lp.prototype.is=function(t,e){return e?e===this.name&&(t==="element"||t==="view:element"):t==="element"||t==="view:element"||t==="node"||t==="view:node"};function zRe(t){const e=ay(t);for(const[n,r]of e)r===null?e.delete(n):typeof r!="string"&&e.set(n,String(r));return e}function a7(t,e){const n=e.split(/\s+/);t.clear(),n.forEach(r=>t.add(r))}function qRe(t,e){if(typeof e=="string")return[new mh(t,e)];uu(e)||(e=[e]);const n=[];for(const r of e)typeof r=="string"?n.push(new mh(t,r)):r instanceof Lc?n.push(new mh(t,r.data)):n.push(r);return n}class KW extends Lp{constructor(e,n,r,s){super(e,n,r,s),this.getFillerOffset=$Re}}KW.prototype.is=function(t,e){return e?e===this.name&&(t==="containerElement"||t==="view:containerElement"||t==="element"||t==="view:element"):t==="containerElement"||t==="view:containerElement"||t==="element"||t==="view:element"||t==="node"||t==="view:node"};function $Re(){const t=[...this.getChildren()],e=t[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const n of t)if(!n.is("uiElement"))return null;return this.childCount}class V3 extends q3(KW){constructor(e,n,r,s){super(e,n,r,s),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(e),this.bind("isFocused").to(e,"isFocused",i=>i&&e.selection.editableElement==this),this.listenTo(e.selection,"change",()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this})}destroy(){this.stopListening()}}V3.prototype.is=function(t,e){return e?e===this.name&&(t==="editableElement"||t==="view:editableElement"||t==="containerElement"||t==="view:containerElement"||t==="element"||t==="view:element"):t==="editableElement"||t==="view:editableElement"||t==="containerElement"||t==="view:containerElement"||t==="element"||t==="view:element"||t==="node"||t==="view:node"};const i7=Symbol("rootName");class VRe extends V3{constructor(e,n){super(e,n),this.rootName="main"}get rootName(){return this.getCustomProperty(i7)}set rootName(e){this._setCustomProperty(i7,e)}set _name(e){this.name=e}}VRe.prototype.is=function(t,e){return e?e===this.name&&(t==="rootElement"||t==="view:rootElement"||t==="editableElement"||t==="view:editableElement"||t==="containerElement"||t==="view:containerElement"||t==="element"||t==="view:element"):t==="rootElement"||t==="view:rootElement"||t==="editableElement"||t==="view:editableElement"||t==="containerElement"||t==="view:containerElement"||t==="element"||t==="view:element"||t==="node"||t==="view:node"};let sm=class{constructor(e={}){be(this,"direction");be(this,"boundaries");be(this,"singleCharacters");be(this,"shallow");be(this,"ignoreElementEnd");be(this,"_position");be(this,"_boundaryStartParent");be(this,"_boundaryEndParent");if(!e.boundaries&&!e.startPosition)throw new lt("view-tree-walker-no-start-position",null);if(e.direction&&e.direction!="forward"&&e.direction!="backward")throw new lt("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,e.startPosition?this._position=gr._createAt(e.startPosition):this._position=gr._createAt(e.boundaries[e.direction=="backward"?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let n,r;do r=this.position,n=this.next();while(!n.done&&e(n.value));n.done||(this._position=r)}jumpTo(e){this._boundaryStartParent&&e.isBefore(this.boundaries.start)?e=this.boundaries.start:this._boundaryEndParent&&e.isAfter(this.boundaries.end)&&(e=this.boundaries.end),this._position=e.clone()}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let e=this.position.clone();const n=this.position,r=e.parent;if(r.parent===null&&e.offset===r.childCount)return{done:!0,value:void 0};if(r===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let s;if(r&&r.is("view:$text")){if(e.isAtEnd)return this._position=gr._createAfter(r),this._next();s=r.data[e.offset]}else s=r.getChild(e.offset);if(typeof s=="string"){let i;this.singleCharacters?i=1:i=(r===this._boundaryEndParent?this.boundaries.end.offset:r.data.length)-e.offset;const o=new Lc(r,e.offset,i);return e.offset+=i,this._position=e,this._formatReturnValue("text",o,n,e,i)}if(s&&s.is("view:element")){if(!this.shallow)e=new gr(s,0);else{if(this.boundaries&&this.boundaries.end.isBefore(e))return{done:!0,value:void 0};e.offset++}return this._position=e,this._formatReturnValue("elementStart",s,n,e,1)}if(s&&s.is("view:$text")){if(this.singleCharacters)return e=new gr(s,0),this._position=e,this._next();let i=s.data.length,o;return s==this._boundaryEndParent?(i=this.boundaries.end.offset,o=new Lc(s,0,i),e=gr._createAfter(o)):(o=new Lc(s,0,s.data.length),e.offset++),this._position=e,this._formatReturnValue("text",o,n,e,i)}return e=gr._createAfter(r),this._position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",r,n,e)}_previous(){let e=this.position.clone();const n=this.position,r=e.parent;if(r.parent===null&&e.offset===0)return{done:!0,value:void 0};if(r==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let s;if(r.is("view:$text")){if(e.isAtStart)return this._position=gr._createBefore(r),this._previous();s=r.data[e.offset-1]}else s=r.getChild(e.offset-1);if(typeof s=="string"){let i;if(this.singleCharacters)i=1;else{const c=r===this._boundaryStartParent?this.boundaries.start.offset:0;i=e.offset-c}e.offset-=i;const o=new Lc(r,e.offset,i);return this._position=e,this._formatReturnValue("text",o,n,e,i)}if(s&&s.is("view:element"))return this.shallow?(e.offset--,this._position=e,this._formatReturnValue("elementStart",s,n,e,1)):(e=new gr(s,s.childCount),this._position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",s,n,e));if(s&&s.is("view:$text")){if(this.singleCharacters)return e=new gr(s,s.data.length),this._position=e,this._previous();let i=s.data.length,o;if(s==this._boundaryStartParent){const c=this.boundaries.start.offset;o=new Lc(s,c,s.data.length-c),i=o.data.length,e=gr._createBefore(o)}else o=new Lc(s,0,s.data.length),e.offset--;return this._position=e,this._formatReturnValue("text",o,n,e,i)}return e=gr._createBefore(r),this._position=e,this._formatReturnValue("elementStart",r,n,e,1)}_formatReturnValue(e,n,r,s,i){return n.is("view:$textProxy")&&(n.offsetInText+n.data.length==n.textNode.data.length&&(this.direction=="forward"&&!(this.boundaries&&this.boundaries.end.isEqual(this.position))?(s=gr._createAfter(n.textNode),this._position=s):r=gr._createAfter(n.textNode)),n.offsetInText===0&&(this.direction=="backward"&&!(this.boundaries&&this.boundaries.start.isEqual(this.position))?(s=gr._createBefore(n.textNode),this._position=s):r=gr._createBefore(n.textNode))),{done:!1,value:{type:e,item:n,previousPosition:r,nextPosition:s,length:i}}}},gr=class Tc extends nf{constructor(n,r){super();be(this,"parent");be(this,"offset");this.parent=n,this.offset=r}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const n=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===n}get root(){return this.parent.root}get editableElement(){let n=this.parent;for(;!(n instanceof V3);)if(n.parent)n=n.parent;else return null;return n}getShiftedBy(n){const r=Tc._createAt(this),s=r.offset+n;return r.offset=s<0?0:s,r}getLastMatchingPosition(n,r={}){r.startPosition=this;const s=new sm(r);return s.skip(n),s.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(n){const r=this.getAncestors(),s=n.getAncestors();let i=0;for(;r[i]==s[i]&&r[i];)i++;return i===0?null:r[i-1]}isEqual(n){return this.parent==n.parent&&this.offset==n.offset}isBefore(n){return this.compareWith(n)=="before"}isAfter(n){return this.compareWith(n)=="after"}compareWith(n){if(this.root!==n.root)return"different";if(this.isEqual(n))return"same";const r=this.parent.is("node")?this.parent.getPath():[],s=n.parent.is("node")?n.parent.getPath():[];r.push(this.offset),s.push(n.offset);const i=ni(r,s);switch(i){case"prefix":return"before";case"extension":return"after";default:return r[i]<s[i]?"before":"after"}}getWalker(n={}){return n.startPosition=this,new sm(n)}clone(){return new Tc(this.parent,this.offset)}static _createAt(n,r){if(n instanceof Tc)return new this(n.parent,n.offset);{const s=n;if(r=="end")r=s.is("$text")?s.data.length:s.childCount;else{if(r=="before")return this._createBefore(s);if(r=="after")return this._createAfter(s);if(r!==0&&!r)throw new lt("view-createpositionat-offset-required",s)}return new Tc(s,r)}}static _createAfter(n){if(n.is("$textProxy"))return new Tc(n.textNode,n.offsetInText+n.data.length);if(!n.parent)throw new lt("view-position-after-root",n,{root:n});return new Tc(n.parent,n.index+1)}static _createBefore(n){if(n.is("$textProxy"))return new Tc(n.textNode,n.offsetInText);if(!n.parent)throw new lt("view-position-before-root",n,{root:n});return new Tc(n.parent,n.index)}};gr.prototype.is=function(t){return t==="position"||t==="view:position"};let Rl=class Mu extends nf{constructor(n,r=null){super();be(this,"start");be(this,"end");this.start=n.clone(),this.end=r?r.clone():n.clone()}*[Symbol.iterator](){yield*new sm({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let n=this.start.getLastMatchingPosition(Hx,{direction:"backward"}),r=this.end.getLastMatchingPosition(Hx);return n.parent.is("$text")&&n.isAtStart&&(n=gr._createBefore(n.parent)),r.parent.is("$text")&&r.isAtEnd&&(r=gr._createAfter(r.parent)),new Mu(n,r)}getTrimmed(){let n=this.start.getLastMatchingPosition(Hx);if(n.isAfter(this.end)||n.isEqual(this.end))return new Mu(n,n);let r=this.end.getLastMatchingPosition(Hx,{direction:"backward"});const s=n.nodeAfter,i=r.nodeBefore;return s&&s.is("$text")&&(n=new gr(s,0)),i&&i.is("$text")&&(r=new gr(i,i.data.length)),new Mu(n,r)}isEqual(n){return this==n||this.start.isEqual(n.start)&&this.end.isEqual(n.end)}containsPosition(n){return n.isAfter(this.start)&&n.isBefore(this.end)}containsRange(n,r=!1){n.isCollapsed&&(r=!1);const s=this.containsPosition(n.start)||r&&this.start.isEqual(n.start),i=this.containsPosition(n.end)||r&&this.end.isEqual(n.end);return s&&i}getDifference(n){const r=[];return this.isIntersecting(n)?(this.containsPosition(n.start)&&r.push(new Mu(this.start,n.start)),this.containsPosition(n.end)&&r.push(new Mu(n.end,this.end))):r.push(this.clone()),r}getIntersection(n){if(this.isIntersecting(n)){let r=this.start,s=this.end;return this.containsPosition(n.start)&&(r=n.start),this.containsPosition(n.end)&&(s=n.end),new Mu(r,s)}return null}getWalker(n={}){return n.boundaries=this,new sm(n)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let n=this.start.nodeAfter,r=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(n=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(r=this.end.parent.previousSibling),n&&n.is("element")&&n===r?n:null}clone(){return new Mu(this.start,this.end)}*getItems(n={}){n.boundaries=this,n.ignoreElementEnd=!0;const r=new sm(n);for(const s of r)yield s.item}*getPositions(n={}){n.boundaries=this;const r=new sm(n);yield r.position;for(const s of r)yield s.nextPosition}isIntersecting(n){return this.start.isBefore(n.end)&&this.end.isAfter(n.start)}static _createFromParentsAndOffsets(n,r,s,i){return new this(new gr(n,r),new gr(s,i))}static _createFromPositionAndShift(n,r){const s=n,i=n.getShiftedBy(r);return r>0?new this(s,i):new this(i,s)}static _createIn(n){return this._createFromParentsAndOffsets(n,0,n,n.childCount)}static _createOn(n){const r=n.is("$textProxy")?n.offsetSize:1;return this._createFromPositionAndShift(gr._createBefore(n),r)}};Rl.prototype.is=function(t){return t==="range"||t==="view:range"};function Hx(t){return!!(t.item.is("attributeElement")||t.item.is("uiElement"))}let YW=class XW extends ea(nf){constructor(...n){super();be(this,"_ranges");be(this,"_lastRangeBackward");be(this,"_isFake");be(this,"_fakeSelectionLabel");this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",n.length&&this.setTo(...n)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const n=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?n.end:n.start).clone()}get focus(){if(!this._ranges.length)return null;const n=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?n.start:n.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const n of this._ranges)yield n.clone()}getFirstRange(){let n=null;for(const r of this._ranges)(!n||r.start.isBefore(n.start))&&(n=r);return n?n.clone():null}getLastRange(){let n=null;for(const r of this._ranges)(!n||r.end.isAfter(n.end))&&(n=r);return n?n.clone():null}getFirstPosition(){const n=this.getFirstRange();return n?n.start.clone():null}getLastPosition(){const n=this.getLastRange();return n?n.end.clone():null}isEqual(n){if(this.isFake!=n.isFake||this.isFake&&this.fakeSelectionLabel!=n.fakeSelectionLabel||this.rangeCount!=n.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(n.anchor)||!this.focus.isEqual(n.focus))return!1;for(const r of this._ranges){let s=!1;for(const i of n._ranges)if(r.isEqual(i)){s=!0;break}if(!s)return!1}return!0}isSimilar(n){if(this.isBackward!=n.isBackward)return!1;const r=e7(this.getRanges()),s=e7(n.getRanges());if(r!=s)return!1;if(r==0)return!0;for(let i of this.getRanges()){i=i.getTrimmed();let o=!1;for(let c of n.getRanges())if(c=c.getTrimmed(),i.start.isEqual(c.start)&&i.end.isEqual(c.end)){o=!0;break}if(!o)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...n){let[r,s,i]=n;if(typeof s=="object"&&(i=s,s=void 0),r===null)this._setRanges([]),this._setFakeOptions(i);else if(r instanceof XW||r instanceof JW)this._setRanges(r.getRanges(),r.isBackward),this._setFakeOptions({fake:r.isFake,label:r.fakeSelectionLabel});else if(r instanceof Rl)this._setRanges([r],i&&i.backward),this._setFakeOptions(i);else if(r instanceof gr)this._setRanges([new Rl(r)]),this._setFakeOptions(i);else if(r instanceof rf){const o=!!i&&!!i.backward;let c;if(s===void 0)throw new lt("view-selection-setto-required-second-parameter",this);s=="in"?c=Rl._createIn(r):s=="on"?c=Rl._createOn(r):c=new Rl(gr._createAt(r,s)),this._setRanges([c],o),this._setFakeOptions(i)}else if(uu(r))this._setRanges(r,i&&i.backward),this._setFakeOptions(i);else throw new lt("view-selection-setto-not-selectable",this);this.fire("change")}setFocus(n,r){if(this.anchor===null)throw new lt("view-selection-setfocus-no-ranges",this);const s=gr._createAt(n,r);if(s.compareWith(this.focus)=="same")return;const i=this.anchor;this._ranges.pop(),s.compareWith(i)=="before"?this._addRange(new Rl(s,i),!0):this._addRange(new Rl(i,s)),this.fire("change")}_setRanges(n,r=!1){n=Array.from(n),this._ranges=[];for(const s of n)this._addRange(s);this._lastRangeBackward=!!r}_setFakeOptions(n={}){this._isFake=!!n.fake,this._fakeSelectionLabel=n.fake&&n.label||""}_addRange(n,r=!1){if(!(n instanceof Rl))throw new lt("view-selection-add-range-not-range",this);this._pushRange(n),this._lastRangeBackward=!!r}_pushRange(n){for(const r of this._ranges)if(n.isIntersecting(r))throw new lt("view-selection-range-intersects",this,{addedRange:n,intersectingRange:r});this._ranges.push(new Rl(n.start,n.end))}};YW.prototype.is=function(t){return t==="selection"||t==="view:selection"};let JW=class extends ea(nf){constructor(...n){super();be(this,"_selection");this._selection=new YW,this._selection.delegate("change").to(this),n.length&&this._selection.setTo(...n)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(n){return this._selection.isEqual(n)}isSimilar(n){return this._selection.isSimilar(n)}_setTo(...n){this._selection.setTo(...n)}_setFocus(n,r){this._selection.setFocus(n,r)}};JW.prototype.is=function(t){return t==="selection"||t=="documentSelection"||t=="view:selection"||t=="view:documentSelection"};class HRe extends Vm{constructor(n,r,s){super(n,r);be(this,"startRange");be(this,"_eventPhase");be(this,"_currentTarget");this.startRange=s,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const gC=Symbol("bubbling contexts");function o7(t){class e extends t{fire(r,...s){try{const i=r instanceof Vm?r:new Vm(this,r),o=yC(this);if(!o.size)return;if(Og(i,"capturing",this),Bf(o,"$capture",i,...s))return i.return;const c=i.startRange||this.selection.getFirstRange(),u=c?c.getContainedElement():null,h=u?!!QW(o,u):!1;let f=u||GRe(c);if(Og(i,"atTarget",f),!h){if(Bf(o,"$text",i,...s))return i.return;Og(i,"bubbling",f)}for(;f;){if(f.is("rootElement")){if(Bf(o,"$root",i,...s))return i.return}else if(f.is("element")&&Bf(o,f.name,i,...s))return i.return;if(Bf(o,f,i,...s))return i.return;f=f.parent,Og(i,"bubbling",f)}return Og(i,"bubbling",this),Bf(o,"$document",i,...s),i.return}catch(i){/* istanbul ignore next -- @preserve */lt.rethrowUnexpectedError(i,this)}}_addEventListener(r,s,i){const o=mb(i.context||"$document"),c=yC(this);for(const u of o){let h=c.get(u);h||(h=new(ea()),c.set(u,h)),this.listenTo(h,r,s,i)}}_removeEventListener(r,s){const i=yC(this);for(const o of i.values())this.stopListening(o,r,s)}}return e}{const t=o7(Object);["fire","_addEventListener","_removeEventListener"].forEach(e=>{o7[e]=t.prototype[e]})}function Og(t,e,n){t instanceof HRe&&(t._eventPhase=e,t._currentTarget=n)}function Bf(t,e,n,...r){const s=typeof e=="string"?t.get(e):QW(t,e);return s?(s.fire(n,...r),n.stop.called):!1}function QW(t,e){for(const[n,r]of t)if(typeof n=="function"&&n(e))return r;return null}function yC(t){return t[gC]||(t[gC]=new Map),t[gC]}function GRe(t){if(!t)return null;const e=t.start.parent,n=t.end.parent,r=e.getPath(),s=n.getPath();return r.length>s.length?e:n}const l7=10;class ZW extends Lp{constructor(n,r,s,i){super(n,r,s,i);be(this,"_priority",l7);be(this,"_id",null);be(this,"_clonesGroup",null);this.getFillerOffset=WRe}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new lt("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(n){return this.id!==null||n.id!==null?this.id===n.id:super.isSimilar(n)&&this.priority==n.priority}_clone(n=!1){const r=super._clone(n);return r._priority=this._priority,r._id=this._id,r}}be(ZW,"DEFAULT_PRIORITY",l7);ZW.prototype.is=function(t,e){return e?e===this.name&&(t==="attributeElement"||t==="view:attributeElement"||t==="element"||t==="view:element"):t==="attributeElement"||t==="view:attributeElement"||t==="element"||t==="view:element"||t==="node"||t==="view:node"};function WRe(){if(vC(this))return null;let t=this.parent;for(;t&&t.is("attributeElement");){if(vC(t)>1)return null;t=t.parent}return!t||vC(t)>1?null:this.childCount}function vC(t){return Array.from(t.getChildren()).filter(e=>!e.is("uiElement")).length}class KRe extends Lp{constructor(e,n,r,s){super(e,n,r,s),this.getFillerOffset=YRe}_insertChild(e,n){if(n&&(n instanceof rf||Array.from(n).length>0))throw new lt("view-emptyelement-cannot-add",[this,n]);return 0}}KRe.prototype.is=function(t,e){return e?e===this.name&&(t==="emptyElement"||t==="view:emptyElement"||t==="element"||t==="view:element"):t==="emptyElement"||t==="view:emptyElement"||t==="element"||t==="view:element"||t==="node"||t==="view:node"};function YRe(){return null}class XRe extends Lp{constructor(e,n,r,s){super(e,n,r,s),this.getFillerOffset=JRe}_insertChild(e,n){if(n&&(n instanceof rf||Array.from(n).length>0))throw new lt("view-uielement-cannot-add",[this,n]);return 0}render(e,n){return this.toDomElement(e)}toDomElement(e){const n=e.createElement(this.name);for(const r of this.getAttributeKeys())n.setAttribute(r,this.getAttribute(r));return n}}XRe.prototype.is=function(t,e){return e?e===this.name&&(t==="uiElement"||t==="view:uiElement"||t==="element"||t==="view:element"):t==="uiElement"||t==="view:uiElement"||t==="element"||t==="view:element"||t==="node"||t==="view:node"};function JRe(){return null}class QRe extends Lp{constructor(e,n,r,s){super(e,n,r,s),this.getFillerOffset=ZRe}_insertChild(e,n){if(n&&(n instanceof rf||Array.from(n).length>0))throw new lt("view-rawelement-cannot-add",[this,n]);return 0}render(e,n){}}QRe.prototype.is=function(t,e){return e?e===this.name&&(t==="rawElement"||t==="view:rawElement"||t==="element"||t==="view:element"):t==="rawElement"||t==="view:rawElement"||t===this.name||t==="view:"+this.name||t==="element"||t==="view:element"||t==="node"||t==="view:node"};function ZRe(){return null}let eke=class extends ea(nf){constructor(n,r){super();be(this,"document");be(this,"_children",[]);be(this,"_customProperties",new Map);this.document=n,r&&this._insertChild(0,r)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}get getFillerOffset(){}getCustomProperty(n){return this._customProperties.get(n)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(n){return this._insertChild(this.childCount,n)}getChild(n){return this._children[n]}getChildIndex(n){return this._children.indexOf(n)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(n,r){this._fireChange("children",this,{index:n});let s=0;const i=tke(this.document,r);for(const o of i)o.parent!==null&&o._remove(),o.parent=this,this._children.splice(n,0,o),n++,s++;return s}_removeChildren(n,r=1){this._fireChange("children",this,{index:n});for(let s=n;s<n+r;s++)this._children[s].parent=null;return this._children.splice(n,r)}_fireChange(n,r,s){this.fire(`change:${n}`,r,s)}_setCustomProperty(n,r){this._customProperties.set(n,r)}_removeCustomProperty(n){return this._customProperties.delete(n)}};eke.prototype.is=function(t){return t==="documentFragment"||t==="view:documentFragment"};function tke(t,e){return typeof e=="string"?[new mh(t,e)]:(uu(e)||(e=[e]),Array.from(e).map(n=>typeof n=="string"?new mh(t,n):n instanceof Lc?new mh(t,n.data):n))}const nke=t=>t.createTextNode(""),rke=t=>{const e=t.createElement("span");return e.dataset.ckeFiller="true",e.innerText="",e},ske=t=>{const e=t.createElement("br");return e.dataset.ckeFiller="true",e};ske(ry.document);nke(ry.document);rke(ry.document);/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class Nd{is(){throw new Error("is() method is abstract")}}class kh extends Nd{constructor(n,r,s){super();be(this,"textNode");be(this,"data");be(this,"offsetInText");if(this.textNode=n,r<0||r>n.offsetSize)throw new lt("model-textproxy-wrong-offsetintext",this);if(s<0||r+s>n.offsetSize)throw new lt("model-textproxy-wrong-length",this);this.data=n.data.substring(r,r+s),this.offsetInText=r}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const n=this.textNode.getPath();return n.length>0&&(n[n.length-1]+=this.offsetInText),n}getAncestors(n={}){const r=[];let s=n.includeSelf?this:this.parent;for(;s;)r[n.parentFirst?"push":"unshift"](s),s=s.parent;return r}hasAttribute(n){return this.textNode.hasAttribute(n)}getAttribute(n){return this.textNode.getAttribute(n)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}kh.prototype.is=function(t){return t==="$textProxy"||t==="model:$textProxy"||t==="textProxy"||t==="model:textProxy"};class Gg{constructor(e){be(this,"direction");be(this,"boundaries");be(this,"singleCharacters");be(this,"shallow");be(this,"ignoreElementEnd");be(this,"_position");be(this,"_boundaryStartParent");be(this,"_boundaryEndParent");be(this,"_visitedParent");if(!e||!e.boundaries&&!e.startPosition)throw new lt("model-tree-walker-no-start-position",null);const n=e.direction||"forward";if(n!="forward"&&n!="backward")throw new lt("model-tree-walker-unknown-direction",e,{direction:n});this.direction=n,this.boundaries=e.boundaries||null,e.startPosition?this._position=e.startPosition.clone():this._position=St._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let n,r,s,i;do s=this.position,i=this._visitedParent,{done:n,value:r}=this.next();while(!n&&e(r));n||(this._position=s,this._visitedParent=i)}jumpTo(e){this._boundaryStartParent&&e.isBefore(this.boundaries.start)?e=this.boundaries.start:this._boundaryEndParent&&e.isAfter(this.boundaries.end)&&(e=this.boundaries.end),this._position=e.clone(),this._visitedParent=e.parent}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const e=this.position,n=this.position.clone(),r=this._visitedParent;if(r.parent===null&&n.offset===r.maxOffset)return{done:!0,value:void 0};if(r===this._boundaryEndParent&&n.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const s=v0(n,r),i=s||eK(n,r,s);if(i&&i.is("model:element")){if(!this.shallow)n.path.push(0),this._visitedParent=i;else{if(this.boundaries&&this.boundaries.end.isBefore(n))return{done:!0,value:void 0};n.offset++}return this._position=n,Zd("elementStart",i,e,n,1)}if(i&&i.is("model:$text")){let o;if(this.singleCharacters)o=1;else{let h=i.endOffset;this._boundaryEndParent==r&&this.boundaries.end.offset<h&&(h=this.boundaries.end.offset),o=h-n.offset}const c=n.offset-i.startOffset,u=new kh(i,c,o);return n.offset+=o,this._position=n,Zd("text",u,e,n,o)}return n.path.pop(),n.offset++,this._position=n,this._visitedParent=r.parent,this.ignoreElementEnd?this._next():Zd("elementEnd",r,e,n)}_previous(){const e=this.position,n=this.position.clone(),r=this._visitedParent;if(r.parent===null&&n.offset===0)return{done:!0,value:void 0};if(r==this._boundaryStartParent&&n.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const s=n.parent,i=v0(n,s),o=i||tK(n,s,i);if(o&&o.is("model:element"))return n.offset--,this.shallow?(this._position=n,Zd("elementStart",o,e,n,1)):(n.path.push(o.maxOffset),this._position=n,this._visitedParent=o,this.ignoreElementEnd?this._previous():Zd("elementEnd",o,e,n));if(o&&o.is("model:$text")){let c;if(this.singleCharacters)c=1;else{let f=o.startOffset;this._boundaryStartParent==r&&this.boundaries.start.offset>f&&(f=this.boundaries.start.offset),c=n.offset-f}const u=n.offset-o.startOffset,h=new kh(o,u-c,c);return n.offset-=c,this._position=n,Zd("text",h,e,n,c)}return n.path.pop(),this._position=n,this._visitedParent=r.parent,Zd("elementStart",r,e,n,1)}}function Zd(t,e,n,r,s){return{done:!1,value:{type:t,item:e,previousPosition:n,nextPosition:r,length:s}}}class St extends Nd{constructor(n,r,s="toNone"){super();be(this,"root");be(this,"path");be(this,"stickiness");if(!n.is("element")&&!n.is("documentFragment"))throw new lt("model-position-root-invalid",n);if(!Array.isArray(r)||r.length===0)throw new lt("model-position-path-incorrect-format",n,{path:r});n.is("rootElement")?r=r.slice():(r=[...n.getPath(),...r],n=n.root),this.root=n,this.path=r,this.stickiness=s}get offset(){return this.path[this.path.length-1]}set offset(n){this.path[this.path.length-1]=n}get parent(){let n=this.root;for(let r=0;r<this.path.length-1;r++)if(n=n.getChildAtOffset(this.path[r]),!n)throw new lt("model-position-path-incorrect",this,{position:this});if(n.is("$text"))throw new lt("model-position-path-incorrect",this,{position:this});return n}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return v0(this,this.parent)}get nodeAfter(){const n=this.parent;return eK(this,n,v0(this,n))}get nodeBefore(){const n=this.parent;return tK(this,n,v0(this,n))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}isValid(){if(this.offset<0)return!1;let n=this.root;for(let r=0;r<this.path.length-1;r++)if(n=n.getChildAtOffset(this.path[r]),!n)return!1;return this.offset<=n.maxOffset}compareWith(n){if(this.root!=n.root)return"different";const r=ni(this.path,n.path);switch(r){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[r]<n.path[r]?"before":"after"}}getLastMatchingPosition(n,r={}){r.startPosition=this;const s=new Gg(r);return s.skip(n),s.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const n=this.parent;return n.is("documentFragment")?[n]:n.getAncestors({includeSelf:!0})}findAncestor(n){const r=this.parent;return r.is("element")?r.findAncestor(n,{includeSelf:!0}):null}getCommonPath(n){if(this.root!=n.root)return[];const r=ni(this.path,n.path),s=typeof r=="string"?Math.min(this.path.length,n.path.length):r;return this.path.slice(0,s)}getCommonAncestor(n){const r=this.getAncestors(),s=n.getAncestors();let i=0;for(;r[i]==s[i]&&r[i];)i++;return i===0?null:r[i-1]}getShiftedBy(n){const r=this.clone(),s=r.offset+n;return r.offset=s<0?0:s,r}isAfter(n){return this.compareWith(n)=="after"}isBefore(n){return this.compareWith(n)=="before"}isEqual(n){return this.compareWith(n)=="same"}isTouching(n){if(this.root!==n.root)return!1;const r=Math.min(this.path.length,n.path.length);for(let s=0;s<r;s++){const i=this.path[s]-n.path[s];if(i<-1||i>1)return!1;if(i===1)return c7(n,this,s);if(i===-1)return c7(this,n,s)}return this.path.length===n.path.length?!0:this.path.length>n.path.length?wT(this.path,r):wT(n.path,r)}hasSameParentAs(n){if(this.root!==n.root)return!1;const r=this.getParentPath(),s=n.getParentPath();return ni(r,s)=="same"}getTransformedByOperation(n){let r;switch(n.type){case"insert":r=this._getTransformedByInsertOperation(n);break;case"move":case"remove":case"reinsert":r=this._getTransformedByMoveOperation(n);break;case"split":r=this._getTransformedBySplitOperation(n);break;case"merge":r=this._getTransformedByMergeOperation(n);break;default:r=St._createAt(this);break}return r}_getTransformedByInsertOperation(n){return this._getTransformedByInsertion(n.position,n.howMany)}_getTransformedByMoveOperation(n){return this._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany)}_getTransformedBySplitOperation(n){const r=n.movedRange;return r.containsPosition(this)||r.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(n.splitPosition,n.moveTargetPosition):n.graveyardPosition?this._getTransformedByMove(n.graveyardPosition,n.insertionPosition,1):this._getTransformedByInsertion(n.insertionPosition,1)}_getTransformedByMergeOperation(n){const r=n.movedRange,s=r.containsPosition(this)||r.start.isEqual(this);let i;return s?(i=this._getCombined(n.sourcePosition,n.targetPosition),n.sourcePosition.isBefore(n.targetPosition)&&(i=i._getTransformedByDeletion(n.deletionPosition,1))):this.isEqual(n.deletionPosition)?i=St._createAt(n.deletionPosition):i=this._getTransformedByMove(n.deletionPosition,n.graveyardPosition,1),i}_getTransformedByDeletion(n,r){const s=St._createAt(this);if(this.root!=n.root)return s;if(ni(n.getParentPath(),this.getParentPath())=="same"){if(n.offset<this.offset){if(n.offset+r>this.offset)return null;s.offset-=r}}else if(ni(n.getParentPath(),this.getParentPath())=="prefix"){const i=n.path.length-1;if(n.offset<=this.path[i]){if(n.offset+r>this.path[i])return null;s.path[i]-=r}}return s}_getTransformedByInsertion(n,r){const s=St._createAt(this);if(this.root!=n.root)return s;if(ni(n.getParentPath(),this.getParentPath())=="same")(n.offset<this.offset||n.offset==this.offset&&this.stickiness!="toPrevious")&&(s.offset+=r);else if(ni(n.getParentPath(),this.getParentPath())=="prefix"){const i=n.path.length-1;n.offset<=this.path[i]&&(s.path[i]+=r)}return s}_getTransformedByMove(n,r,s){if(r=r._getTransformedByDeletion(n,s),n.isEqual(r))return St._createAt(this);const i=this._getTransformedByDeletion(n,s);return i===null||n.isEqual(this)&&this.stickiness=="toNext"||n.getShiftedBy(s).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(n,r):i._getTransformedByInsertion(r,s)}_getCombined(n,r){const s=n.path.length-1,i=St._createAt(r);return i.stickiness=this.stickiness,i.offset=i.offset+this.path[s]-n.offset,i.path=[...i.path,...this.path.slice(s+1)],i}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(n,r,s="toNone"){if(n.is("model:position"))return new St(n.root,n.path,n.stickiness);{const i=n;if(r=="end")r=i.maxOffset;else{if(r=="before")return this._createBefore(i,s);if(r=="after")return this._createAfter(i,s);if(r!==0&&!r)throw new lt("model-createpositionat-offset-required",[this,n])}if(!i.is("element")&&!i.is("documentFragment"))throw new lt("model-position-parent-incorrect",[this,n]);const o=i.getPath();return o.push(r),new this(i.root,o,s)}}static _createAfter(n,r){if(!n.parent)throw new lt("model-position-after-root",[this,n],{root:n});return this._createAt(n.parent,n.endOffset,r)}static _createBefore(n,r){if(!n.parent)throw new lt("model-position-before-root",n,{root:n});return this._createAt(n.parent,n.startOffset,r)}static fromJSON(n,r){if(n.root==="$graveyard"){const s=new St(r.graveyard,n.path);return s.stickiness=n.stickiness,s}if(!r.getRoot(n.root))throw new lt("model-position-fromjson-no-root",r,{rootName:n.root});return new St(r.getRoot(n.root),n.path,n.stickiness)}}St.prototype.is=function(t){return t==="position"||t==="model:position"};function v0(t,e){const n=e.getChildAtOffset(t.offset);return n&&n.is("$text")&&n.startOffset<t.offset?n:null}function eK(t,e,n){return n!==null?null:e.getChildAtOffset(t.offset)}function tK(t,e,n){return n!==null?null:e.getChild(e.offsetToIndex(t.offset)-1)}function c7(t,e,n){return!(n+1===t.path.length||!wT(e.path,n+1)||!ake(t,n+1))}function wT(t,e){for(;e<t.length;){if(t[e]!==0)return!1;e++}return!0}function ake(t,e){let n=t.parent,r=t.path.length-1,s=0;for(;r>=e;){if(t.path[r]+s!==n.maxOffset)return!1;s=1,r--,n=n.parent}return!0}class yt extends Nd{constructor(n,r){super();be(this,"start");be(this,"end");this.start=St._createAt(n),this.end=r?St._createAt(r):St._createAt(n),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new Gg({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){const n=this.start.getParentPath(),r=this.end.getParentPath();return ni(n,r)=="same"}get root(){return this.start.root}containsPosition(n){return n.isAfter(this.start)&&n.isBefore(this.end)}containsRange(n,r=!1){n.isCollapsed&&(r=!1);const s=this.containsPosition(n.start)||r&&this.start.isEqual(n.start),i=this.containsPosition(n.end)||r&&this.end.isEqual(n.end);return s&&i}containsItem(n){const r=St._createBefore(n);return this.containsPosition(r)||this.start.isEqual(r)}isEqual(n){return this.start.isEqual(n.start)&&this.end.isEqual(n.end)}isIntersecting(n){return this.start.isBefore(n.end)&&this.end.isAfter(n.start)}getDifference(n){const r=[];return this.isIntersecting(n)?(this.containsPosition(n.start)&&r.push(new yt(this.start,n.start)),this.containsPosition(n.end)&&r.push(new yt(n.end,this.end))):r.push(new yt(this.start,this.end)),r}getIntersection(n){if(this.isIntersecting(n)){let r=this.start,s=this.end;return this.containsPosition(n.start)&&(r=n.start),this.containsPosition(n.end)&&(s=n.end),new yt(r,s)}return null}getJoined(n,r=!1){let s=this.isIntersecting(n);if(s||(this.start.isBefore(n.start)?s=r?this.end.isTouching(n.start):this.end.isEqual(n.start):s=r?n.end.isTouching(this.start):n.end.isEqual(this.start)),!s)return null;let i=this.start,o=this.end;return n.start.isBefore(i)&&(i=n.start),n.end.isAfter(o)&&(o=n.end),new yt(i,o)}getMinimalFlatRanges(){const n=[],r=this.start.getCommonPath(this.end).length,s=St._createAt(this.start);let i=s.parent;for(;s.path.length>r+1;){const o=i.maxOffset-s.offset;o!==0&&n.push(new yt(s,s.getShiftedBy(o))),s.path=s.path.slice(0,-1),s.offset++,i=i.parent}for(;s.path.length<=this.end.path.length;){const o=this.end.path[s.path.length-1],c=o-s.offset;c!==0&&n.push(new yt(s,s.getShiftedBy(c))),s.offset=o,s.path.push(0)}return n}getWalker(n={}){return n.boundaries=this,new Gg(n)}*getItems(n={}){n.boundaries=this,n.ignoreElementEnd=!0;const r=new Gg(n);for(const s of r)yield s.item}*getPositions(n={}){n.boundaries=this;const r=new Gg(n);yield r.position;for(const s of r)yield s.nextPosition}getTransformedByOperation(n){switch(n.type){case"insert":return this._getTransformedByInsertOperation(n);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(n);case"split":return[this._getTransformedBySplitOperation(n)];case"merge":return[this._getTransformedByMergeOperation(n)]}return[new yt(this.start,this.end)]}getTransformedByOperations(n){const r=[new yt(this.start,this.end)];for(const s of n)for(let i=0;i<r.length;i++){const o=r[i].getTransformedByOperation(s);r.splice(i,1,...o),i+=o.length-1}for(let s=0;s<r.length;s++){const i=r[s];for(let o=s+1;o<r.length;o++){const c=r[o];(i.containsRange(c)||c.containsRange(i)||i.isEqual(c))&&r.splice(o,1)}}return r}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const n=this.start.nodeAfter,r=this.end.nodeBefore;return n&&n.is("element")&&n===r?n:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(n,r=!1){return this._getTransformedByInsertion(n.position,n.howMany,r)}_getTransformedByMoveOperation(n,r=!1){const s=n.sourcePosition,i=n.howMany,o=n.targetPosition;return this._getTransformedByMove(s,o,i,r)}_getTransformedBySplitOperation(n){const r=this.start._getTransformedBySplitOperation(n);let s=this.end._getTransformedBySplitOperation(n);return this.end.isEqual(n.insertionPosition)&&(s=this.end.getShiftedBy(1)),r.root!=s.root&&(s=this.end.getShiftedBy(-1)),new yt(r,s)}_getTransformedByMergeOperation(n){if(this.start.isEqual(n.targetPosition)&&this.end.isEqual(n.deletionPosition))return new yt(this.start);let r=this.start._getTransformedByMergeOperation(n),s=this.end._getTransformedByMergeOperation(n);return r.root!=s.root&&(s=this.end.getShiftedBy(-1)),r.isAfter(s)?(n.sourcePosition.isBefore(n.targetPosition)?(r=St._createAt(s),r.offset=0):(n.deletionPosition.isEqual(r)||(s=n.deletionPosition),r=n.targetPosition),new yt(r,s)):new yt(r,s)}_getTransformedByInsertion(n,r,s=!1){if(s&&this.containsPosition(n))return[new yt(this.start,n),new yt(n.getShiftedBy(r),this.end._getTransformedByInsertion(n,r))];{const i=new yt(this.start,this.end);return i.start=i.start._getTransformedByInsertion(n,r),i.end=i.end._getTransformedByInsertion(n,r),[i]}}_getTransformedByMove(n,r,s,i=!1){if(this.isCollapsed){const p=this.start._getTransformedByMove(n,r,s);return[new yt(p)]}const o=yt._createFromPositionAndShift(n,s),c=r._getTransformedByDeletion(n,s);if(this.containsPosition(r)&&!i&&(o.containsPosition(this.start)||o.containsPosition(this.end))){const p=this.start._getTransformedByMove(n,r,s),y=this.end._getTransformedByMove(n,r,s);return[new yt(p,y)]}let u;const h=this.getDifference(o);let f=null;const g=this.getIntersection(o);if(h.length==1?f=new yt(h[0].start._getTransformedByDeletion(n,s),h[0].end._getTransformedByDeletion(n,s)):h.length==2&&(f=new yt(this.start,this.end._getTransformedByDeletion(n,s))),f?u=f._getTransformedByInsertion(c,s,g!==null||i):u=[],g){const p=new yt(g.start._getCombined(o.start,c),g.end._getCombined(o.start,c));u.length==2?u.splice(1,0,p):u.push(p)}return u}_getTransformedByDeletion(n,r){let s=this.start._getTransformedByDeletion(n,r),i=this.end._getTransformedByDeletion(n,r);return s==null&&i==null?null:(s==null&&(s=n),i==null&&(i=n),new yt(s,i))}static _createFromPositionAndShift(n,r){const s=n,i=n.getShiftedBy(r);return r>0?new this(s,i):new this(i,s)}static _createIn(n){return new this(St._createAt(n,0),St._createAt(n,n.maxOffset))}static _createOn(n){return this._createFromPositionAndShift(St._createBefore(n),n.offsetSize)}static _createFromRanges(n){if(n.length===0)throw new lt("range-create-from-ranges-empty-array",null);if(n.length==1)return n[0].clone();const r=n[0];n.sort((o,c)=>o.start.isAfter(c.start)?1:-1);const s=n.indexOf(r),i=new this(r.start,r.end);for(let o=s-1;o>=0&&n[o].end.isEqual(i.start);o--)i.start=St._createAt(n[o].start);for(let o=s+1;o<n.length&&n[o].start.isEqual(i.end);o++)i.end=St._createAt(n[o].end);return i}static fromJSON(n,r){return new this(St.fromJSON(n.start,r),St.fromJSON(n.end,r))}}yt.prototype.is=function(t){return t==="range"||t==="model:range"};let Rp=class extends Nd{constructor(n){super();be(this,"parent",null);be(this,"_attrs");be(this,"_index",null);be(this,"_startOffset",null);this._attrs=ay(n)}get document(){return null}get index(){return this._index}get startOffset(){return this._startOffset}get offsetSize(){return 1}get endOffset(){return this.startOffset===null?null:this.startOffset+this.offsetSize}get nextSibling(){const n=this.index;return n!==null&&this.parent.getChild(n+1)||null}get previousSibling(){const n=this.index;return n!==null&&this.parent.getChild(n-1)||null}get root(){let n=this;for(;n.parent;)n=n.parent;return n}isAttached(){return this.parent===null?!1:this.root.isAttached()}getPath(){const n=[];let r=this;for(;r.parent;)n.unshift(r.startOffset),r=r.parent;return n}getAncestors(n={}){const r=[];let s=n.includeSelf?this:this.parent;for(;s;)r[n.parentFirst?"push":"unshift"](s),s=s.parent;return r}getCommonAncestor(n,r={}){const s=this.getAncestors(r),i=n.getAncestors(r);let o=0;for(;s[o]==i[o]&&s[o];)o++;return o===0?null:s[o-1]}isBefore(n){if(this==n||this.root!==n.root)return!1;const r=this.getPath(),s=n.getPath(),i=ni(r,s);switch(i){case"prefix":return!0;case"extension":return!1;default:return r[i]<s[i]}}isAfter(n){return this==n||this.root!==n.root?!1:!this.isBefore(n)}hasAttribute(n){return this._attrs.has(n)}getAttribute(n){return this._attrs.get(n)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const n={};return this._attrs.size&&(n.attributes=Array.from(this._attrs).reduce((r,s)=>(r[s[0]]=s[1],r),{})),n}_clone(n){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(n,r){this._attrs.set(n,r)}_setAttributesTo(n){this._attrs=ay(n)}_removeAttribute(n){return this._attrs.delete(n)}_clearAttributes(){this._attrs.clear()}};Rp.prototype.is=function(t){return t==="node"||t==="model:node"};class Xw extends ea(Nd){constructor(...n){super();be(this,"_lastRangeBackward",!1);be(this,"_attrs",new Map);be(this,"_ranges",[]);n.length&&this.setTo(...n)}get anchor(){if(this._ranges.length>0){const n=this._ranges[this._ranges.length-1];return this._lastRangeBackward?n.end:n.start}return null}get focus(){if(this._ranges.length>0){const n=this._ranges[this._ranges.length-1];return this._lastRangeBackward?n.start:n.end}return null}get isCollapsed(){return this._ranges.length===1?this._ranges[0].isCollapsed:!1}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(n){if(this.rangeCount!=n.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(n.anchor)||!this.focus.isEqual(n.focus))return!1;for(const r of this._ranges){let s=!1;for(const i of n._ranges)if(r.isEqual(i)){s=!0;break}if(!s)return!1}return!0}*getRanges(){for(const n of this._ranges)yield new yt(n.start,n.end)}getFirstRange(){let n=null;for(const r of this._ranges)(!n||r.start.isBefore(n.start))&&(n=r);return n?new yt(n.start,n.end):null}getLastRange(){let n=null;for(const r of this._ranges)(!n||r.end.isAfter(n.end))&&(n=r);return n?new yt(n.start,n.end):null}getFirstPosition(){const n=this.getFirstRange();return n?n.start.clone():null}getLastPosition(){const n=this.getLastRange();return n?n.end.clone():null}setTo(...n){let[r,s,i]=n;if(typeof s=="object"&&(i=s,s=void 0),r===null)this._setRanges([]);else if(r instanceof Xw)this._setRanges(r.getRanges(),r.isBackward);else if(r&&typeof r.getRanges=="function")this._setRanges(r.getRanges(),r.isBackward);else if(r instanceof yt)this._setRanges([r],!!i&&!!i.backward);else if(r instanceof St)this._setRanges([new yt(r)]);else if(r instanceof Rp){const o=!!i&&!!i.backward;let c;if(s=="in")c=yt._createIn(r);else if(s=="on")c=yt._createOn(r);else if(s!==void 0)c=new yt(St._createAt(r,s));else throw new lt("model-selection-setto-required-second-parameter",[this,r]);this._setRanges([c],o)}else if(uu(r))this._setRanges(r,i&&!!i.backward);else throw new lt("model-selection-setto-not-selectable",[this,r])}_setRanges(n,r=!1){const s=Array.from(n),i=s.some(o=>{if(!(o instanceof yt))throw new lt("model-selection-set-ranges-not-range",[this,n]);return this._ranges.every(c=>!c.isEqual(o))});s.length===this._ranges.length&&!i||(this._replaceAllRanges(s),this._lastRangeBackward=!!r,this.fire("change:range",{directChange:!0}))}setFocus(n,r){if(this.anchor===null)throw new lt("model-selection-setfocus-no-ranges",[this,n]);const s=St._createAt(n,r);if(s.compareWith(this.focus)=="same")return;const i=this.anchor;this._ranges.length&&this._popRange(),s.compareWith(i)=="before"?(this._pushRange(new yt(s,i)),this._lastRangeBackward=!0):(this._pushRange(new yt(i,s)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(n){return this._attrs.get(n)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(n){return this._attrs.has(n)}removeAttribute(n){this.hasAttribute(n)&&(this._attrs.delete(n),this.fire("change:attribute",{attributeKeys:[n],directChange:!0}))}setAttribute(n,r){this.getAttribute(n)!==r&&(this._attrs.set(n,r),this.fire("change:attribute",{attributeKeys:[n],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const n=new WeakSet;for(const r of this.getRanges()){const s=u7(r.start,n);oke(s,r)&&(yield s);const i=r.getWalker();for(const c of i){const u=c.item;c.type=="elementEnd"&&ike(u,n,r)?yield u:c.type=="elementStart"&&u.is("model:element")&&u.root.document.model.schema.isBlock(u)&&i.jumpTo(St._createAt(u,"end"))}const o=u7(r.end,n);lke(o,r)&&(yield o)}}containsEntireContent(n=this.anchor.root){const r=St._createAt(n,0),s=St._createAt(n,"end");return r.isTouching(this.getFirstPosition())&&s.isTouching(this.getLastPosition())}_pushRange(n){this._checkRange(n),this._ranges.push(new yt(n.start,n.end))}_checkRange(n){for(let r=0;r<this._ranges.length;r++)if(n.isIntersecting(this._ranges[r]))throw new lt("model-selection-range-intersects",[this,n],{addedRange:n,intersectingRange:this._ranges[r]})}_replaceAllRanges(n){this._removeAllRanges();for(const r of n)this._pushRange(r)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}Xw.prototype.is=function(t){return t==="selection"||t==="model:selection"};function nK(t,e){return e.has(t)?!1:(e.add(t),t.root.document.model.schema.isBlock(t)&&!!t.parent)}function ike(t,e,n){return nK(t,e)&&H3(t,n)}function u7(t,e){const r=t.parent.root.document.model.schema,s=t.parent.getAncestors({parentFirst:!0,includeSelf:!0});let i=!1;const o=s.find(c=>i?!1:(i=r.isLimit(c),!i&&nK(c,e)));return s.forEach(c=>e.add(c)),o}function H3(t,e){const n=cke(t);return n?!e.containsRange(yt._createOn(n),!0):!0}function oke(t,e){return t?e.isCollapsed||t.isEmpty?!0:e.start.isTouching(St._createAt(t,t.maxOffset))?!1:H3(t,e):!1}function lke(t,e){return t?e.isCollapsed||t.isEmpty?!0:e.end.isTouching(St._createAt(t,0))?!1:H3(t,e):!1}function cke(t){const e=t.root.document.model.schema;let n=t.parent;for(;n;){if(e.isBlock(n))return n;n=n.parent}}class Jw extends ea(yt){constructor(e,n){super(e,n),uke.call(this)}detach(){this.stopListening()}toRange(){return new yt(this.start,this.end)}static fromRange(e){return new Jw(e.start,e.end)}}Jw.prototype.is=function(t){return t==="liveRange"||t==="model:liveRange"||t=="range"||t==="model:range"};function uke(){this.listenTo(this.root.document.model,"applyOperation",(t,e)=>{const n=e[0];n.isDocumentOperation&&dke.call(this,n)},{priority:"low"})}function dke(t){const e=this.getTransformedByOperation(t),n=yt._createFromRanges(e),r=!n.isEqual(this),s=hke(this,t);let i=null;if(r){n.root.rootName=="$graveyard"&&(t.type=="remove"?i=t.sourcePosition:i=t.deletionPosition);const o=this.toRange();this.start=n.start,this.end=n.end,this.fire("change:range",o,{deletionPosition:i})}else s&&this.fire("change:content",this.toRange(),{deletionPosition:i})}function hke(t,e){switch(e.type){case"insert":return t.containsPosition(e.position);case"move":case"remove":case"reinsert":case"merge":return t.containsPosition(e.sourcePosition)||t.start.isEqual(e.sourcePosition)||t.containsPosition(e.targetPosition);case"split":return t.containsPosition(e.splitPosition)||t.containsPosition(e.insertionPosition)}return!1}let Us=class _T extends Rp{constructor(n,r){super(r);be(this,"_data");this._data=n||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const n=super.toJSON();return n.data=this.data,n}_clone(){return new _T(this.data,this.getAttributes())}static fromJSON(n){return new _T(n.data,n.attributes)}};Us.prototype.is=function(t){return t==="$text"||t==="model:$text"||t==="text"||t==="model:text"||t==="node"||t==="model:node"};const iy="selection:";class fke extends ea(Nd){constructor(n){super();be(this,"_selection");this._selection=new mke(n),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(n){return this._selection.containsEntireContent(n)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(n){return this._selection.getAttribute(n)}hasAttribute(n){return this._selection.hasAttribute(n)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(n){this._selection.observeMarkers(n)}_setFocus(n,r){this._selection.setFocus(n,r)}_setTo(...n){this._selection.setTo(...n)}_setAttribute(n,r){this._selection.setAttribute(n,r)}_removeAttribute(n){this._selection.removeAttribute(n)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(n){this._selection.restoreGravity(n)}static _getStoreAttributeKey(n){return iy+n}static _isStoreAttributeKey(n){return n.startsWith(iy)}}fke.prototype.is=function(t){return t==="selection"||t=="model:selection"||t=="documentSelection"||t=="model:documentSelection"};class mke extends Xw{constructor(n){super();be(this,"markers",new TRe({idProperty:"name"}));be(this,"_model");be(this,"_document");be(this,"_attributePriority",new Map);be(this,"_selectionRestorePosition",null);be(this,"_hasChangedRange",!1);be(this,"_overriddenGravityRegister",new Set);be(this,"_observedMarkers",new Set);this._model=n.model,this._document=n,this.listenTo(this._model,"applyOperation",(r,s)=>{const i=s[0];!i.isDocumentOperation||i.type=="marker"||i.type=="rename"||i.type=="noop"||(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(r,s,i,o)=>{this._updateMarker(s,o)}),this.listenTo(this._document,"change",(r,s)=>{pke(this._model,s)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let n=0;n<this._ranges.length;n++)this._ranges[n].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...n){super.setTo(...n),this._updateAttributes(!0),this.updateMarkers()}setFocus(n,r){super.setFocus(n,r),this._updateAttributes(!0),this.updateMarkers()}setAttribute(n,r){if(this._setAttribute(n,r)){const s=[n];this.fire("change:attribute",{attributeKeys:s,directChange:!0})}}removeAttribute(n){if(this._removeAttribute(n)){const r=[n];this.fire("change:attribute",{attributeKeys:r,directChange:!0})}}overrideGravity(){const n=Yw();return this._overriddenGravityRegister.add(n),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),n}restoreGravity(n){if(!this._overriddenGravityRegister.has(n))throw new lt("document-selection-gravity-wrong-restore",this,{uid:n});this._overriddenGravityRegister.delete(n),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(n){this._observedMarkers.add(n),this.updateMarkers()}_replaceAllRanges(n){this._validateSelectionRanges(n),super._replaceAllRanges(n)}_popRange(){this._ranges.pop().detach()}_pushRange(n){const r=this._prepareRange(n);r&&this._ranges.push(r)}_validateSelectionRanges(n){for(const r of n)if(!this._document._validateSelectionRange(r))throw new lt("document-selection-wrong-position",this,{range:r})}_prepareRange(n){if(this._checkRange(n),n.root==this._document.graveyard)return;const r=Jw.fromRange(n);return r.on("change:range",(s,i,o)=>{if(this._hasChangedRange=!0,r.root==this._document.graveyard){this._selectionRestorePosition=o.deletionPosition;const c=this._ranges.indexOf(r);this._ranges.splice(c,1),r.detach()}}),r}updateMarkers(){if(!this._observedMarkers.size)return;const n=[];let r=!1;for(const i of this._model.markers){const o=i.name.split(":",1)[0];if(!this._observedMarkers.has(o))continue;const c=i.getRange();for(const u of this.getRanges())c.containsRange(u,!u.isCollapsed)&&n.push(i)}const s=Array.from(this.markers);for(const i of n)this.markers.has(i)||(this.markers.add(i),r=!0);for(const i of Array.from(this.markers))n.includes(i)||(this.markers.remove(i),r=!0);r&&this.fire("change:marker",{oldMarkers:s,directChange:!1})}_updateMarker(n,r){const s=n.name.split(":",1)[0];if(!this._observedMarkers.has(s))return;let i=!1;const o=Array.from(this.markers),c=this.markers.has(n);if(!r)c&&(this.markers.remove(n),i=!0);else{let u=!1;for(const h of this.getRanges())if(r.containsRange(h,!h.isCollapsed)){u=!0;break}u&&!c?(this.markers.add(n),i=!0):!u&&c&&(this.markers.remove(n),i=!0)}i&&this.fire("change:marker",{oldMarkers:o,directChange:!1})}_updateAttributes(n){const r=ay(this._getSurroundingAttributes()),s=ay(this.getAttributes());if(n)this._attributePriority=new Map,this._attrs=new Map;else for(const[o,c]of this._attributePriority)c=="low"&&(this._attrs.delete(o),this._attributePriority.delete(o));this._setAttributesTo(r);const i=[];for(const[o,c]of this.getAttributes())(!s.has(o)||s.get(o)!==c)&&i.push(o);for(const[o]of s)this.hasAttribute(o)||i.push(o);i.length>0&&this.fire("change:attribute",{attributeKeys:i,directChange:!1})}_setAttribute(n,r,s=!0){const i=s?"normal":"low";return i=="low"&&this._attributePriority.get(n)=="normal"||super.getAttribute(n)===r?!1:(this._attrs.set(n,r),this._attributePriority.set(n,i),!0)}_removeAttribute(n,r=!0){const s=r?"normal":"low";return s=="low"&&this._attributePriority.get(n)=="normal"||(this._attributePriority.set(n,s),!super.hasAttribute(n))?!1:(this._attrs.delete(n),!0)}_setAttributesTo(n){const r=new Set;for(const[s,i]of this.getAttributes())n.get(s)!==i&&this._removeAttribute(s,!1);for(const[s,i]of n)this._setAttribute(s,i,!1)&&r.add(s);return r}*getStoredAttributes(){const n=this.getFirstPosition().parent;if(this.isCollapsed&&n.isEmpty)for(const r of n.getAttributeKeys())r.startsWith(iy)&&(yield[r.substr(iy.length),n.getAttribute(r)])}_getSurroundingAttributes(){const n=this.getFirstPosition(),r=this._model.schema;if(n.root.rootName=="$graveyard")return null;let s=null;if(this.isCollapsed){const i=n.textNode?n.textNode:n.nodeBefore,o=n.textNode?n.textNode:n.nodeAfter;if(this.isGravityOverridden||(s=Ig(i,r)),s||(s=Ig(o,r)),!this.isGravityOverridden&&!s){let c=i;for(;c&&!s;)c=c.previousSibling,s=Ig(c,r)}if(!s){let c=o;for(;c&&!s;)c=c.nextSibling,s=Ig(c,r)}s||(s=this.getStoredAttributes())}else{const i=this.getFirstRange();for(const o of i){if(o.item.is("element")&&r.isObject(o.item)){s=Ig(o.item,r);break}if(o.type=="text"){s=o.item.getAttributes();break}}}return s}_fixGraveyardSelection(n){const r=this._model.schema.getNearestSelectionRange(n);r&&this._pushRange(r)}}function Ig(t,e){if(!t)return null;if(t instanceof kh||t instanceof Us)return t.getAttributes();if(!e.isInline(t))return null;if(!e.isObject(t))return[];const n=[];for(const[r,s]of t.getAttributes())e.checkAttribute("$text",r)&&e.getAttributeProperties(r).copyFromObject!==!1&&n.push([r,s]);return n}function pke(t,e){const n=t.document.differ;for(const r of n.getChanges()){if(r.type!="insert")continue;const s=r.position.parent;r.length===s.maxOffset&&t.enqueueChange(e,o=>{const c=Array.from(s.getAttributeKeys()).filter(u=>u.startsWith(iy));for(const u of c)o.removeAttribute(u,s)})}}class x0{constructor(e){be(this,"_nodes",[]);be(this,"_offsetToNode",[]);e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._offsetToNode.length}getNode(e){return this._nodes[e]||null}getNodeAtOffset(e){return this._offsetToNode[e]||null}getNodeIndex(e){return e.index}getNodeStartOffset(e){return e.startOffset}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;const n=this._nodes[e];if(!n)throw new lt("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(n)}offsetToIndex(e){if(e==this._offsetToNode.length)return this._nodes.length;const n=this._offsetToNode[e];if(!n)throw new lt("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.getNodeIndex(n)}_insertNodes(e,n){const r=[];for(const i of n){if(!(i instanceof Rp))throw new lt("model-nodelist-insertnodes-not-node",this);r.push(i)}let s=this.indexToOffset(e);r7(this._nodes,r,e),r7(this._offsetToNode,gke(r),s);for(let i=e;i<this._nodes.length;i++)this._nodes[i]._index=i,this._nodes[i]._startOffset=s,s+=this._nodes[i].offsetSize}_removeNodes(e,n=1){if(n==0)return[];let r=this.indexToOffset(e);const s=this._nodes.splice(e,n),i=s[s.length-1],o=i.startOffset+i.offsetSize-r;this._offsetToNode.splice(r,o);for(const c of s)c._index=null,c._startOffset=null;for(let c=e;c<this._nodes.length;c++)this._nodes[c]._index=c,this._nodes[c]._startOffset=r,r+=this._nodes[c].offsetSize;return s}_removeNodesArray(e){if(e.length==0)return;for(const r of e)r._index=null,r._startOffset=null;this._nodes=this._nodes.filter(r=>r.index!==null),this._offsetToNode=this._offsetToNode.filter(r=>r.index!==null);let n=0;for(let r=0;r<this._nodes.length;r++)this._nodes[r]._index=r,this._nodes[r]._startOffset=n,n+=this._nodes[r].offsetSize}toJSON(){return this._nodes.map(e=>e.toJSON())}}function gke(t){const e=[];let n=0;for(const r of t)for(let s=0;s<r.offsetSize;s++)e[n++]=r;return e}let Jy=class pb extends Rp{constructor(n,r,s){super(r);be(this,"name");be(this,"_children",new x0);this.name=n,s&&this._insertChild(0,s)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(n){return this._children.getNode(n)}getChildAtOffset(n){return this._children.getNodeAtOffset(n)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(n){return this._children.getNodeIndex(n)}getChildStartOffset(n){return this._children.getNodeStartOffset(n)}offsetToIndex(n){return this._children.offsetToIndex(n)}getNodeByPath(n){let r=this;for(const s of n)r=r.getChildAtOffset(s);return r}findAncestor(n,r={}){let s=r.includeSelf?this:this.parent;for(;s;){if(s.name===n)return s;s=s.parent}return null}toJSON(){const n=super.toJSON();if(n.name=this.name,this._children.length>0){n.children=[];for(const r of this._children)n.children.push(r.toJSON())}return n}_clone(n=!1){const r=n?vke(this._children):void 0;return new pb(this.name,this.getAttributes(),r)}_appendChild(n){this._insertChild(this.childCount,n)}_insertChild(n,r){const s=yke(r);for(const i of s)i.parent!==null&&i._remove(),i.parent=this;this._children._insertNodes(n,s)}_removeChildren(n,r=1){const s=this._children._removeNodes(n,r);for(const i of s)i.parent=null;return s}_removeChildrenArray(n){this._children._removeNodesArray(n);for(const r of n)r.parent=null}static fromJSON(n){let r;if(n.children){r=[];for(const s of n.children)s.name?r.push(pb.fromJSON(s)):r.push(Us.fromJSON(s))}return new pb(n.name,n.attributes,r)}};Jy.prototype.is=function(t,e){return e?e===this.name&&(t==="element"||t==="model:element"):t==="element"||t==="model:element"||t==="node"||t==="model:node"};function yke(t){if(typeof t=="string")return[new Us(t)];uu(t)||(t=[t]);const e=[];for(const n of t)typeof n=="string"?e.push(new Us(n)):n instanceof kh?e.push(new Us(n.data,n.getAttributes())):e.push(n);return e}function vke(t){const e=[];for(const n of t)e.push(n._clone(!0));return e}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class Io{constructor(e){be(this,"baseVersion");be(this,"isDocumentOperation");be(this,"batch");this.baseVersion=e,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}static get className(){return"Operation"}static fromJSON(e,n){return new this(e.baseVersion)}}function G3(t,e){const n=rK(e),r=n.reduce((o,c)=>o+c.offsetSize,0),s=t.parent;cy(t);const i=t.index;return s._insertChild(i,n),ly(s,i+n.length),ly(s,i),new yt(t,t.getShiftedBy(r))}function xke(t){if(!t.isFlat)throw new lt("operation-utils-remove-range-not-flat",this);const e=t.start.parent;cy(t.start),cy(t.end);const n=e._removeChildren(t.start.index,t.end.index-t.start.index);return ly(e,t.start.index),n}function oy(t,e){if(!t.isFlat)throw new lt("operation-utils-move-range-not-flat",this);const n=xke(t);return e=e._getTransformedByDeletion(t.start,t.end.offset-t.start.offset),G3(e,n)}function bke(t,e,n){cy(t.start),cy(t.end);for(const r of t.getItems({shallow:!0})){const s=r.is("$textProxy")?r.textNode:r;n!==null?s._setAttribute(e,n):s._removeAttribute(e),ly(s.parent,s.index)}ly(t.end.parent,t.end.index)}function rK(t){const e=[];function n(r){if(typeof r=="string")e.push(new Us(r));else if(r instanceof kh)e.push(new Us(r.data,r.getAttributes()));else if(r instanceof Rp)e.push(r);else if(uu(r))for(const s of r)n(s)}n(t);for(let r=1;r<e.length;r++){const s=e[r],i=e[r-1];s instanceof Us&&i instanceof Us&&sK(s,i)&&(e.splice(r-1,2,new Us(i.data+s.data,i.getAttributes())),r--)}return e}function ly(t,e){const n=t.getChild(e-1),r=t.getChild(e);if(n&&r&&n.is("$text")&&r.is("$text")&&sK(n,r)){const s=new Us(n.data+r.data,n.getAttributes());t._removeChildren(e-1,2),t._insertChild(e-1,s)}}function cy(t){const e=t.textNode,n=t.parent;if(e){const r=t.offset-e.startOffset,s=e.index;n._removeChildren(s,1);const i=new Us(e.data.substr(0,r),e.getAttributes()),o=new Us(e.data.substr(r),e.getAttributes());n._insertChild(s,[i,o])}}function sK(t,e){const n=t.getAttributes(),r=e.getAttributes();for(const s of n){if(s[1]!==e.getAttribute(s[0]))return!1;r.next()}return r.next().done}class Er extends Io{constructor(n,r,s,i){super(i);be(this,"sourcePosition");be(this,"howMany");be(this,"targetPosition");this.sourcePosition=n.clone(),this.sourcePosition.stickiness="toNext",this.howMany=r,this.targetPosition=s.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[yt._createFromPositionAndShift(this.sourcePosition,this.howMany),yt._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new Er(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const n=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new Er(this.getMovedRangeStart(),this.howMany,n,this.baseVersion+1)}_validate(){const n=this.sourcePosition.parent,r=this.targetPosition.parent,s=this.sourcePosition.offset,i=this.targetPosition.offset;if(s+this.howMany>n.maxOffset)throw new lt("move-operation-nodes-do-not-exist",this);if(n===r&&s<i&&i<s+this.howMany)throw new lt("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&ni(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const o=this.sourcePosition.path.length-1;if(this.targetPosition.path[o]>=s&&this.targetPosition.path[o]<s+this.howMany)throw new lt("move-operation-node-into-itself",this)}}_execute(){oy(yt._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const n=super.toJSON();return n.sourcePosition=this.sourcePosition.toJSON(),n.targetPosition=this.targetPosition.toJSON(),n}static get className(){return"MoveOperation"}static fromJSON(n,r){const s=St.fromJSON(n.sourcePosition,r),i=St.fromJSON(n.targetPosition,r);return new this(s,n.howMany,i,n.baseVersion)}}class Sa extends Io{constructor(n,r,s){super(s);be(this,"position");be(this,"nodes");be(this,"shouldReceiveAttributes");this.position=n.clone(),this.position.stickiness="toNone",this.nodes=new x0(rK(r)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const n=new x0([...this.nodes].map(s=>s._clone(!0))),r=new Sa(this.position,n,this.baseVersion);return r.shouldReceiveAttributes=this.shouldReceiveAttributes,r}getReversed(){const n=this.position.root.document.graveyard,r=new St(n,[0]);return new Er(this.position,this.nodes.maxOffset,r,this.baseVersion+1)}_validate(){const n=this.position.parent;if(!n||n.maxOffset<this.position.offset)throw new lt("insert-operation-position-invalid",this)}_execute(){const n=this.nodes;this.nodes=new x0([...n].map(r=>r._clone(!0))),G3(this.position,n)}toJSON(){const n=super.toJSON();return n.position=this.position.toJSON(),n.nodes=this.nodes.toJSON(),n}static get className(){return"InsertOperation"}static fromJSON(n,r){const s=[];for(const o of n.nodes)o.name?s.push(Jy.fromJSON(o)):s.push(Us.fromJSON(o));const i=new Sa(St.fromJSON(n.position,r),s,n.baseVersion);return i.shouldReceiveAttributes=n.shouldReceiveAttributes,i}}class Hr extends Io{constructor(n,r,s,i,o){super(o);be(this,"splitPosition");be(this,"howMany");be(this,"insertionPosition");be(this,"graveyardPosition");this.splitPosition=n.clone(),this.splitPosition.stickiness="toNext",this.howMany=r,this.insertionPosition=s,this.graveyardPosition=i?i.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const n=this.insertionPosition.path.slice();return n.push(0),new St(this.insertionPosition.root,n)}get movedRange(){const n=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new yt(this.splitPosition,n)}get affectedSelectable(){const n=[yt._createFromPositionAndShift(this.splitPosition,0),yt._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&n.push(yt._createFromPositionAndShift(this.graveyardPosition,0)),n}clone(){return new Hr(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const n=this.splitPosition.root.document.graveyard,r=new St(n,[0]);return new Va(this.moveTargetPosition,this.howMany,this.splitPosition,r,this.baseVersion+1)}_validate(){const n=this.splitPosition.parent,r=this.splitPosition.offset;if(!n||n.maxOffset<r)throw new lt("split-operation-position-invalid",this);if(n.parent){if(this.howMany!=n.maxOffset-this.splitPosition.offset)throw new lt("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new lt("split-operation-graveyard-position-invalid",this)}else throw new lt("split-operation-split-in-root",this)}_execute(){const n=this.splitPosition.parent;if(this.graveyardPosition)oy(yt._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const s=n._clone();G3(this.insertionPosition,s)}const r=new yt(St._createAt(n,this.splitPosition.offset),St._createAt(n,n.maxOffset));oy(r,this.moveTargetPosition)}toJSON(){const n=super.toJSON();return n.splitPosition=this.splitPosition.toJSON(),n.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(n.graveyardPosition=this.graveyardPosition.toJSON()),n}static get className(){return"SplitOperation"}static getInsertionPosition(n){const r=n.path.slice(0,-1);return r[r.length-1]++,new St(n.root,r,"toPrevious")}static fromJSON(n,r){const s=St.fromJSON(n.splitPosition,r),i=St.fromJSON(n.insertionPosition,r),o=n.graveyardPosition?St.fromJSON(n.graveyardPosition,r):null;return new this(s,n.howMany,i,o,n.baseVersion)}}class Va extends Io{constructor(n,r,s,i,o){super(o);be(this,"sourcePosition");be(this,"howMany");be(this,"targetPosition");be(this,"graveyardPosition");this.sourcePosition=n.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=r,this.targetPosition=s.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=i.clone()}get type(){return"merge"}get deletionPosition(){return new St(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const n=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new yt(this.sourcePosition,n)}get affectedSelectable(){const n=this.sourcePosition.parent;return[yt._createOn(n),yt._createFromPositionAndShift(this.targetPosition,0),yt._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new Va(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const n=this.targetPosition._getTransformedByMergeOperation(this),r=this.sourcePosition.path.slice(0,-1),s=new St(this.sourcePosition.root,r)._getTransformedByMergeOperation(this);return new Hr(n,this.howMany,s,this.graveyardPosition,this.baseVersion+1)}_validate(){const n=this.sourcePosition.parent,r=this.targetPosition.parent;if(n.parent)if(r.parent){if(this.howMany!=n.maxOffset)throw new lt("merge-operation-how-many-invalid",this)}else throw new lt("merge-operation-target-position-invalid",this);else throw new lt("merge-operation-source-position-invalid",this)}_execute(){const n=this.sourcePosition.parent,r=yt._createIn(n);oy(r,this.targetPosition),oy(yt._createOn(n),this.graveyardPosition)}toJSON(){const n=super.toJSON();return n.sourcePosition=n.sourcePosition.toJSON(),n.targetPosition=n.targetPosition.toJSON(),n.graveyardPosition=n.graveyardPosition.toJSON(),n}static get className(){return"MergeOperation"}static fromJSON(n,r){const s=St.fromJSON(n.sourcePosition,r),i=St.fromJSON(n.targetPosition,r),o=St.fromJSON(n.graveyardPosition,r);return new this(s,n.howMany,i,o,n.baseVersion)}}class Ao extends Io{constructor(n,r,s,i,o,c){super(c);be(this,"name");be(this,"oldRange");be(this,"newRange");be(this,"affectsData");be(this,"_markers");this.name=n,this.oldRange=r?r.clone():null,this.newRange=s?s.clone():null,this.affectsData=o,this._markers=i}get type(){return"marker"}get affectedSelectable(){const n=[];return this.oldRange&&n.push(this.oldRange.clone()),this.newRange&&(this.oldRange?n.push(...this.newRange.getDifference(this.oldRange)):n.push(this.newRange.clone())),n}clone(){return new Ao(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new Ao(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const n=super.toJSON();return this.oldRange&&(n.oldRange=this.oldRange.toJSON()),this.newRange&&(n.newRange=this.newRange.toJSON()),delete n._markers,n}static get className(){return"MarkerOperation"}static fromJSON(n,r){return new Ao(n.name,n.oldRange?yt.fromJSON(n.oldRange,r):null,n.newRange?yt.fromJSON(n.newRange,r):null,r.model.markers,n.affectsData,n.baseVersion)}}class zs extends Io{constructor(n,r,s,i,o){super(o);be(this,"range");be(this,"key");be(this,"oldValue");be(this,"newValue");this.range=n.clone(),this.key=r,this.oldValue=s===void 0?null:s,this.newValue=i===void 0?null:i}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new zs(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new zs(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const n=super.toJSON();return n.range=this.range.toJSON(),n}_validate(){if(!this.range.isFlat)throw new lt("attribute-operation-range-not-flat",this);for(const n of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!$0(n.getAttribute(this.key),this.oldValue))throw new lt("attribute-operation-wrong-old-value",this,{item:n,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&n.hasAttribute(this.key))throw new lt("attribute-operation-attribute-exists",this,{node:n,key:this.key})}}_execute(){$0(this.oldValue,this.newValue)||bke(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(n,r){return new zs(yt.fromJSON(n.range,r),n.key,n.oldValue,n.newValue,n.baseVersion)}}class ta extends Io{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new ta(this.baseVersion)}getReversed(){return new ta(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class Wi extends Io{constructor(n,r,s,i){super(i);be(this,"position");be(this,"oldName");be(this,"newName");this.position=n,this.position.stickiness="toNext",this.oldName=r,this.newName=s}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new Wi(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new Wi(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const n=this.position.nodeAfter;if(n instanceof Jy){if(n.name!==this.oldName)throw new lt("rename-operation-wrong-name",this)}else throw new lt("rename-operation-wrong-position",this)}_execute(){const n=this.position.nodeAfter;n.name=this.newName}toJSON(){const n=super.toJSON();return n.position=this.position.toJSON(),n}static get className(){return"RenameOperation"}static fromJSON(n,r){return new Wi(St.fromJSON(n.position,r),n.oldName,n.newName,n.baseVersion)}}class ad extends Io{constructor(n,r,s,i,o){super(o);be(this,"root");be(this,"key");be(this,"oldValue");be(this,"newValue");this.root=n,this.key=r,this.oldValue=s===void 0?null:s,this.newValue=i===void 0?null:i}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new ad(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new ad(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new lt("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new lt("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new lt("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const n=super.toJSON();return n.root=this.root.toJSON(),n}static get className(){return"RootAttributeOperation"}static fromJSON(n,r){if(!r.getRoot(n.root))throw new lt("rootattribute-operation-fromjson-no-root",this,{rootName:n.root});return new ad(r.getRoot(n.root),n.key,n.oldValue,n.newValue,n.baseVersion)}}class id extends Io{constructor(n,r,s,i,o){super(o);be(this,"rootName");be(this,"elementName");be(this,"isAdd");be(this,"_document");if(this.rootName=n,this.elementName=r,this.isAdd=s,this._document=i,!this._document.getRoot(this.rootName)){const c=this._document.createRoot(this.elementName,this.rootName);c._isAttached=!1}}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new id(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new id(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const n=super.toJSON();return delete n._document,n}static get className(){return"RootOperation"}static fromJSON(n,r){return new id(n.rootName,n.elementName,n.isAdd,r,n.baseVersion)}}const ml={};ml[zs.className]=zs;ml[Sa.className]=Sa;ml[Ao.className]=Ao;ml[Er.className]=Er;ml[ta.className]=ta;ml[Io.className]=Io;ml[Wi.className]=Wi;ml[ad.className]=ad;ml[id.className]=id;ml[Hr.className]=Hr;ml[Va.className]=Va;const d7=new Map;function $n(t,e,n){let r=d7.get(t);r||(r=new Map,d7.set(t,r)),r.set(e,n)}$n(zs,zs,(t,e,n)=>{if(t.key===e.key&&t.range.start.hasSameParentAs(e.range.start)){const r=t.range.getDifference(e.range).map(i=>new zs(i,t.key,t.oldValue,t.newValue,0)),s=t.range.getIntersection(e.range);return s&&n.aIsStrong&&r.push(new zs(s,e.key,e.newValue,t.newValue,0)),r.length==0?[new ta(0)]:r}else return[t]});$n(zs,Sa,(t,e)=>{if(t.range.start.hasSameParentAs(e.position)&&t.range.containsPosition(e.position)){const r=t.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(s=>new zs(s,t.key,t.oldValue,t.newValue,t.baseVersion));if(e.shouldReceiveAttributes){const s=aK(e,t.key,t.oldValue);s&&r.unshift(s)}return r}return t.range=t.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[t]});function aK(t,e,n){const s=t.nodes.getNode(0).getAttribute(e);if(s==n)return null;const i=new yt(t.position,t.position.getShiftedBy(t.howMany));return new zs(i,e,s,n,0)}$n(zs,Va,(t,e)=>{const n=[];t.range.start.hasSameParentAs(e.deletionPosition)&&(t.range.containsPosition(e.deletionPosition)||t.range.start.isEqual(e.deletionPosition))&&n.push(yt._createFromPositionAndShift(e.graveyardPosition,1));const r=t.range._getTransformedByMergeOperation(e);return r.isCollapsed||n.push(r),n.map(s=>new zs(s,t.key,t.oldValue,t.newValue,t.baseVersion))});$n(zs,Er,(t,e)=>wke(t.range,e).map(r=>new zs(r,t.key,t.oldValue,t.newValue,t.baseVersion)));function wke(t,e){const n=yt._createFromPositionAndShift(e.sourcePosition,e.howMany);let r=null,s=[];n.containsRange(t,!0)?r=t:t.start.hasSameParentAs(n.start)?(s=t.getDifference(n),r=t.getIntersection(n)):s=[t];const i=[];for(let o of s){o=o._getTransformedByDeletion(e.sourcePosition,e.howMany);const c=e.getMovedRangeStart(),u=o.start.hasSameParentAs(c),h=o._getTransformedByInsertion(c,e.howMany,u);i.push(...h)}return r&&i.push(r._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany,!1)[0]),i}$n(zs,Hr,(t,e)=>{if(t.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||t.range.end.offset++,[t];if(t.range.start.hasSameParentAs(e.splitPosition)&&t.range.containsPosition(e.splitPosition)){const n=t.clone();return n.range=new yt(e.moveTargetPosition.clone(),t.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),t.range.end=e.splitPosition.clone(),t.range.end.stickiness="toPrevious",[t,n]}return t.range=t.range._getTransformedBySplitOperation(e),[t]});$n(Sa,zs,(t,e)=>{const n=[t];if(t.shouldReceiveAttributes&&t.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(t.position)){const r=aK(t,e.key,e.newValue);r&&n.push(r)}return n});$n(Sa,Sa,(t,e,n)=>t.position.isEqual(e.position)&&n.aIsStrong?[t]:(t.position=t.position._getTransformedByInsertOperation(e),[t]));$n(Sa,Er,(t,e)=>(t.position=t.position._getTransformedByMoveOperation(e),[t]));$n(Sa,Hr,(t,e)=>(t.position=t.position._getTransformedBySplitOperation(e),[t]));$n(Sa,Va,(t,e)=>(t.position=t.position._getTransformedByMergeOperation(e),[t]));$n(Ao,Sa,(t,e)=>(t.oldRange&&(t.oldRange=t.oldRange._getTransformedByInsertOperation(e)[0]),t.newRange&&(t.newRange=t.newRange._getTransformedByInsertOperation(e)[0]),[t]));$n(Ao,Ao,(t,e,n)=>{if(t.name==e.name)if(n.aIsStrong)t.oldRange=e.newRange?e.newRange.clone():null;else return[new ta(0)];return[t]});$n(Ao,Va,(t,e)=>(t.oldRange&&(t.oldRange=t.oldRange._getTransformedByMergeOperation(e)),t.newRange&&(t.newRange=t.newRange._getTransformedByMergeOperation(e)),[t]));$n(Ao,Er,(t,e)=>{const n=[t];if(t.oldRange&&(t.oldRange=yt._createFromRanges(t.oldRange._getTransformedByMoveOperation(e))),t.newRange){const r=t.newRange._getTransformedByMoveOperation(e);t.newRange=r[0];for(let s=1;s<r.length;s++){const i=t.clone();i.oldRange=null,i.newRange=r[s],i.baseVersion=-1,n.push(i)}}return n});$n(Ao,Hr,(t,e,n)=>{if(t.oldRange&&(t.oldRange=t.oldRange._getTransformedBySplitOperation(e)),t.newRange){if(n.abRelation){const r=t.newRange._getTransformedBySplitOperation(e);return t.newRange.start.isEqual(e.splitPosition)&&n.abRelation.wasStartBeforeMergedElement?t.newRange.start=St._createAt(e.insertionPosition):t.newRange.start.isEqual(e.splitPosition)&&!n.abRelation.wasInLeftElement?t.newRange.start=St._createAt(e.moveTargetPosition):t.newRange.start=r.start,t.newRange.end.isEqual(e.splitPosition)&&n.abRelation.wasInRightElement?t.newRange.end=St._createAt(e.moveTargetPosition):t.newRange.end.isEqual(e.splitPosition)&&n.abRelation.wasEndBeforeMergedElement?t.newRange.end=St._createAt(e.insertionPosition):t.newRange.end=r.end,[t]}t.newRange=t.newRange._getTransformedBySplitOperation(e)}return[t]});$n(Va,Sa,(t,e)=>(t.sourcePosition.hasSameParentAs(e.position)&&(t.howMany+=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByInsertOperation(e),t.targetPosition=t.targetPosition._getTransformedByInsertOperation(e),[t]));$n(Va,Va,(t,e,n)=>{if(t.sourcePosition.isEqual(e.sourcePosition)&&t.targetPosition.isEqual(e.targetPosition))if(n.bWasUndone){const r=e.graveyardPosition.path.slice();return r.push(0),t.sourcePosition=new St(e.graveyardPosition.root,r),t.howMany=0,[t]}else return[new ta(0)];if(t.sourcePosition.isEqual(e.sourcePosition)&&!t.targetPosition.isEqual(e.targetPosition)&&!n.bWasUndone&&n.abRelation!="splitAtSource"){const r=t.targetPosition.root.rootName=="$graveyard",s=e.targetPosition.root.rootName=="$graveyard";if(s&&!r||!(r&&!s)&&n.aIsStrong){const u=e.targetPosition._getTransformedByMergeOperation(e),h=t.targetPosition._getTransformedByMergeOperation(e);return[new Er(u,t.howMany,h,0)]}else return[new ta(0)]}return t.sourcePosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByMergeOperation(e),t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),(!t.graveyardPosition.isEqual(e.graveyardPosition)||!n.aIsStrong)&&(t.graveyardPosition=t.graveyardPosition._getTransformedByMergeOperation(e)),[t]});$n(Va,Er,(t,e,n)=>{const r=yt._createFromPositionAndShift(e.sourcePosition,e.howMany);return e.type=="remove"&&!n.bWasUndone&&t.deletionPosition.hasSameParentAs(e.sourcePosition)&&r.containsPosition(t.sourcePosition)?[new ta(0)]:(e.sourcePosition.getShiftedBy(e.howMany).isEqual(t.sourcePosition)?t.sourcePosition.stickiness="toNone":e.targetPosition.isEqual(t.sourcePosition)&&n.abRelation=="mergeSourceAffected"?t.sourcePosition.stickiness="toNext":e.sourcePosition.isEqual(t.targetPosition)?(t.targetPosition.stickiness="toNone",t.howMany-=e.howMany):e.targetPosition.isEqual(t.targetPosition)&&n.abRelation=="mergeTargetWasBefore"?(t.targetPosition.stickiness="toPrevious",t.howMany+=e.howMany):(t.sourcePosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.sourcePosition.hasSameParentAs(e.sourcePosition)&&(t.howMany-=e.howMany)),t.sourcePosition=t.sourcePosition._getTransformedByMoveOperation(e),t.targetPosition=t.targetPosition._getTransformedByMoveOperation(e),t.sourcePosition.stickiness="toPrevious",t.targetPosition.stickiness="toNext",t.graveyardPosition.isEqual(e.targetPosition)||(t.graveyardPosition=t.graveyardPosition._getTransformedByMoveOperation(e)),[t])});$n(Va,Hr,(t,e,n)=>{if(e.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),t.deletionPosition.isEqual(e.graveyardPosition)&&(t.howMany=e.howMany)),t.targetPosition.isEqual(e.splitPosition)&&(e.graveyardPosition&&t.deletionPosition.isEqual(e.graveyardPosition)||n.abRelation=="mergeTargetNotMoved"))return t.sourcePosition=t.sourcePosition._getTransformedBySplitOperation(e),[t];if(t.sourcePosition.isEqual(e.splitPosition)){if(n.abRelation=="mergeSourceNotMoved")return t.howMany=0,t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t];if(n.abRelation=="mergeSameElement"||t.sourcePosition.offset>0)return t.sourcePosition=e.moveTargetPosition.clone(),t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t]}return t.sourcePosition.hasSameParentAs(e.splitPosition)&&(t.howMany=e.splitPosition.offset),t.sourcePosition=t.sourcePosition._getTransformedBySplitOperation(e),t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t]});$n(Er,Sa,(t,e)=>{const r=yt._createFromPositionAndShift(t.sourcePosition,t.howMany)._getTransformedByInsertOperation(e,!1)[0];return t.sourcePosition=r.start,t.howMany=r.end.offset-r.start.offset,t.targetPosition.isEqual(e.position)||(t.targetPosition=t.targetPosition._getTransformedByInsertOperation(e)),[t]});$n(Er,Er,(t,e,n)=>{const r=yt._createFromPositionAndShift(t.sourcePosition,t.howMany),s=yt._createFromPositionAndShift(e.sourcePosition,e.howMany);let i=n.aIsStrong,o=!n.aIsStrong;n.abRelation=="insertBefore"||n.baRelation=="insertAfter"?o=!0:(n.abRelation=="insertAfter"||n.baRelation=="insertBefore")&&(o=!1);let c;if(t.targetPosition.isEqual(e.targetPosition)&&o?c=t.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):c=t.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),h7(t,e)&&h7(e,t))return[e.getReversed()];if(r.containsPosition(e.targetPosition)&&r.containsRange(s,!0))return r.start=r.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),r.end=r.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),am([r],c);if(s.containsPosition(t.targetPosition)&&s.containsRange(r,!0))return r.start=r.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),r.end=r.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),am([r],c);const f=ni(t.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if(f=="prefix"||f=="extension")return r.start=r.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),r.end=r.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),am([r],c);t.type=="remove"&&e.type!="remove"&&!n.aWasUndone&&!n.forceWeakRemove?i=!0:t.type!="remove"&&e.type=="remove"&&!n.bWasUndone&&!n.forceWeakRemove&&(i=!1);const g=[],p=r.getDifference(s);for(const w of p){w.start=w.start._getTransformedByDeletion(e.sourcePosition,e.howMany),w.end=w.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const E=ni(w.start.getParentPath(),e.getMovedRangeStart().getParentPath())=="same",j=w._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,E);g.push(...j)}const y=r.getIntersection(s);return y!==null&&i&&(y.start=y.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),y.end=y.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),g.length===0?g.push(y):g.length==1?s.start.isBefore(r.start)||s.start.isEqual(r.start)?g.unshift(y):g.push(y):g.splice(1,0,y)),g.length===0?[new ta(t.baseVersion)]:am(g,c)});$n(Er,Hr,(t,e,n)=>{let r=t.targetPosition.clone();(!t.targetPosition.isEqual(e.insertionPosition)||!e.graveyardPosition||n.abRelation=="moveTargetAfter")&&(r=t.targetPosition._getTransformedBySplitOperation(e));const s=yt._createFromPositionAndShift(t.sourcePosition,t.howMany);if(s.end.isEqual(e.insertionPosition))return e.graveyardPosition||t.howMany++,t.targetPosition=r,[t];if(s.start.hasSameParentAs(e.splitPosition)&&s.containsPosition(e.splitPosition)){let c=new yt(e.splitPosition,s.end);c=c._getTransformedBySplitOperation(e);const u=[new yt(s.start,e.splitPosition),c];return am(u,r)}t.targetPosition.isEqual(e.splitPosition)&&n.abRelation=="insertAtSource"&&(r=e.moveTargetPosition),t.targetPosition.isEqual(e.insertionPosition)&&n.abRelation=="insertBetween"&&(r=t.targetPosition);const o=[s._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const c=s.start.isEqual(e.graveyardPosition)||s.containsPosition(e.graveyardPosition);t.howMany>1&&c&&!n.aWasUndone&&o.push(yt._createFromPositionAndShift(e.insertionPosition,1))}return am(o,r)});$n(Er,Va,(t,e,n)=>{const r=yt._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.deletionPosition.hasSameParentAs(t.sourcePosition)&&r.containsPosition(e.sourcePosition)){if(t.type=="remove"&&!n.forceWeakRemove){if(!n.aWasUndone){const o=[];let c=e.graveyardPosition.clone(),u=e.targetPosition._getTransformedByMergeOperation(e);const h=t.targetPosition.getTransformedByOperation(e);t.howMany>1&&(o.push(new Er(t.sourcePosition,t.howMany-1,h,0)),c=c._getTransformedByMove(t.sourcePosition,h,t.howMany-1),u=u._getTransformedByMove(t.sourcePosition,h,t.howMany-1));const f=e.deletionPosition._getCombined(t.sourcePosition,h),g=new Er(c,1,f,0),p=g.getMovedRangeStart().path.slice();p.push(0);const y=new St(g.targetPosition.root,p);u=u._getTransformedByMove(c,f,1);const w=new Er(u,e.howMany,y,0);return o.push(g),o.push(w),o}}else if(t.howMany==1)return n.bWasUndone?(t.sourcePosition=e.graveyardPosition.clone(),t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),[t]):[new ta(0)]}const i=yt._createFromPositionAndShift(t.sourcePosition,t.howMany)._getTransformedByMergeOperation(e);return t.sourcePosition=i.start,t.howMany=i.end.offset-i.start.offset,t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),[t]});$n(Wi,Sa,(t,e)=>(t.position=t.position._getTransformedByInsertOperation(e),[t]));$n(Wi,Va,(t,e)=>t.position.isEqual(e.deletionPosition)?(t.position=e.graveyardPosition.clone(),t.position.stickiness="toNext",[t]):(t.position=t.position._getTransformedByMergeOperation(e),[t]));$n(Wi,Er,(t,e)=>(t.position=t.position._getTransformedByMoveOperation(e),[t]));$n(Wi,Wi,(t,e,n)=>{if(t.position.isEqual(e.position))if(n.aIsStrong)t.oldName=e.newName;else return[new ta(0)];return[t]});$n(Wi,Hr,(t,e)=>{const n=t.position.path,r=e.splitPosition.getParentPath();if(ni(n,r)=="same"&&!e.graveyardPosition){const s=new Wi(t.position.getShiftedBy(1),t.oldName,t.newName,0);return[t,s]}return t.position=t.position._getTransformedBySplitOperation(e),[t]});$n(ad,ad,(t,e,n)=>{if(t.root===e.root&&t.key===e.key){if(!n.aIsStrong||t.newValue===e.newValue)return[new ta(0)];t.oldValue=e.newValue}return[t]});$n(id,id,(t,e)=>t.rootName===e.rootName&&t.isAdd===e.isAdd?[new ta(0)]:[t]);$n(Hr,Sa,(t,e)=>(t.splitPosition.hasSameParentAs(e.position)&&t.splitPosition.offset<e.position.offset&&(t.howMany+=e.howMany),t.splitPosition=t.splitPosition._getTransformedByInsertOperation(e),t.insertionPosition=t.insertionPosition._getTransformedByInsertOperation(e),[t]));$n(Hr,Va,(t,e,n)=>{if(!t.graveyardPosition&&!n.bWasUndone&&t.splitPosition.hasSameParentAs(e.sourcePosition)){const r=e.graveyardPosition.path.slice();r.push(0);const s=new St(e.graveyardPosition.root,r),i=Hr.getInsertionPosition(new St(e.graveyardPosition.root,r)),o=new Hr(s,0,i,null,0);return t.splitPosition=t.splitPosition._getTransformedByMergeOperation(e),t.insertionPosition=Hr.getInsertionPosition(t.splitPosition),t.graveyardPosition=o.insertionPosition.clone(),t.graveyardPosition.stickiness="toNext",[o,t]}return t.splitPosition.hasSameParentAs(e.deletionPosition)&&!t.splitPosition.isAfter(e.deletionPosition)&&t.howMany--,t.splitPosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.splitPosition=t.splitPosition._getTransformedByMergeOperation(e),t.insertionPosition=Hr.getInsertionPosition(t.splitPosition),t.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedByMergeOperation(e)),[t]});$n(Hr,Er,(t,e,n)=>{const r=yt._createFromPositionAndShift(e.sourcePosition,e.howMany);if(t.graveyardPosition){const i=r.start.isEqual(t.graveyardPosition)||r.containsPosition(t.graveyardPosition);if(!n.bWasUndone&&i){const o=t.splitPosition._getTransformedByMoveOperation(e),c=t.graveyardPosition._getTransformedByMoveOperation(e),u=c.path.slice();u.push(0);const h=new St(c.root,u);return[new Er(o,t.howMany,h,0)]}t.graveyardPosition=t.graveyardPosition._getTransformedByMoveOperation(e)}const s=t.splitPosition.isEqual(e.targetPosition);if(s&&(n.baRelation=="insertAtSource"||n.abRelation=="splitBefore"))return t.howMany+=e.howMany,t.splitPosition=t.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),t.insertionPosition=Hr.getInsertionPosition(t.splitPosition),[t];if(s&&n.abRelation&&n.abRelation.howMany){const{howMany:i,offset:o}=n.abRelation;return t.howMany+=i,t.splitPosition=t.splitPosition.getShiftedBy(o),[t]}if(t.splitPosition.hasSameParentAs(e.sourcePosition)&&r.containsPosition(t.splitPosition)){const i=e.howMany-(t.splitPosition.offset-e.sourcePosition.offset);return t.howMany-=i,t.splitPosition.hasSameParentAs(e.targetPosition)&&t.splitPosition.offset<e.targetPosition.offset&&(t.howMany+=e.howMany),t.splitPosition=e.sourcePosition.clone(),t.insertionPosition=Hr.getInsertionPosition(t.splitPosition),[t]}return e.sourcePosition.isEqual(e.targetPosition)||(t.splitPosition.hasSameParentAs(e.sourcePosition)&&t.splitPosition.offset<=e.sourcePosition.offset&&(t.howMany-=e.howMany),t.splitPosition.hasSameParentAs(e.targetPosition)&&t.splitPosition.offset<e.targetPosition.offset&&(t.howMany+=e.howMany)),t.splitPosition.stickiness="toNone",t.splitPosition=t.splitPosition._getTransformedByMoveOperation(e),t.splitPosition.stickiness="toNext",t.graveyardPosition?t.insertionPosition=t.insertionPosition._getTransformedByMoveOperation(e):t.insertionPosition=Hr.getInsertionPosition(t.splitPosition),[t]});$n(Hr,Hr,(t,e,n)=>{if(t.splitPosition.isEqual(e.splitPosition)){if(!t.graveyardPosition&&!e.graveyardPosition)return[new ta(0)];if(t.graveyardPosition&&e.graveyardPosition&&t.graveyardPosition.isEqual(e.graveyardPosition))return[new ta(0)];if(n.abRelation=="splitBefore")return t.howMany=0,t.graveyardPosition=t.graveyardPosition._getTransformedBySplitOperation(e),[t]}if(t.graveyardPosition&&e.graveyardPosition&&t.graveyardPosition.isEqual(e.graveyardPosition)){const r=t.splitPosition.root.rootName=="$graveyard",s=e.splitPosition.root.rootName=="$graveyard";if(s&&!r||!(r&&!s)&&n.aIsStrong){const u=[];return e.howMany&&u.push(new Er(e.moveTargetPosition,e.howMany,e.splitPosition,0)),t.howMany&&u.push(new Er(t.splitPosition,t.howMany,t.moveTargetPosition,0)),u}else return[new ta(0)]}if(t.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedBySplitOperation(e)),t.splitPosition.isEqual(e.insertionPosition)&&n.abRelation=="splitBefore")return t.howMany++,[t];if(e.splitPosition.isEqual(t.insertionPosition)&&n.baRelation=="splitBefore"){const r=e.insertionPosition.path.slice();r.push(0);const s=new St(e.insertionPosition.root,r),i=new Er(t.insertionPosition,1,s,0);return[t,i]}return t.splitPosition.hasSameParentAs(e.splitPosition)&&t.splitPosition.offset<e.splitPosition.offset&&(t.howMany-=e.howMany),t.splitPosition=t.splitPosition._getTransformedBySplitOperation(e),t.insertionPosition=Hr.getInsertionPosition(t.splitPosition),[t]});function h7(t,e){return t.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)===null}function am(t,e){const n=[];for(let r=0;r<t.length;r++){const s=t[r],i=new Er(s.start,s.end.offset-s.start.offset,e,0);n.push(i);for(let o=r+1;o<t.length;o++)t[o]=t[o]._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany)[0];e=e._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany)}return n}class _ke extends ea(St){constructor(e,n,r="toNone"){if(super(e,n,r),!this.root.is("rootElement"))throw new lt("model-liveposition-root-not-rootelement",e);Eke.call(this)}detach(){this.stopListening()}toPosition(){return new St(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,n){return new this(e.root,e.path.slice(),n||e.stickiness)}}_ke.prototype.is=function(t){return t==="livePosition"||t==="model:livePosition"||t=="position"||t==="model:position"};function Eke(){this.listenTo(this.root.document.model,"applyOperation",(t,e)=>{const n=e[0];n.isDocumentOperation&&jke.call(this,n)},{priority:"low"})}function jke(t){const e=this.getTransformedByOperation(t);if(!this.isEqual(e)){const n=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",n)}}class Ske extends Jy{constructor(n,r,s="main"){super(r);be(this,"rootName");be(this,"_document");be(this,"_isAttached",!0);be(this,"_isLoaded",!0);this._document=n,this.rootName=s}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}Ske.prototype.is=function(t,e){return e?e===this.name&&(t==="rootElement"||t==="model:rootElement"||t==="element"||t==="model:element"):t==="rootElement"||t==="model:rootElement"||t==="element"||t==="model:element"||t==="node"||t==="model:node"};class Cke extends ea(Nd){constructor(n,r,s,i){super();be(this,"name");be(this,"_managedUsingOperations");be(this,"_affectsData");be(this,"_liveRange");this.name=n,this._liveRange=this._attachLiveRange(r),this._managedUsingOperations=s,this._affectsData=i}get managedUsingOperations(){if(!this._liveRange)throw new lt("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new lt("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new lt("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new lt("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new lt("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(n){return this._liveRange&&this._detachLiveRange(),n.delegate("change:range").to(this),n.delegate("change:content").to(this),this._liveRange=n,n}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}Cke.prototype.is=function(t){return t==="marker"||t==="model:marker"};class W3 extends Nd{constructor(n){super();be(this,"markers",new Map);be(this,"_children",new x0);n&&this._insertChild(0,n)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(n){return this._children.getNode(n)}getChildAtOffset(n){return this._children.getNodeAtOffset(n)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(n){return this._children.getNodeIndex(n)}getChildStartOffset(n){return this._children.getNodeStartOffset(n)}getPath(){return[]}getNodeByPath(n){let r=this;for(const s of n)r=r.getChildAtOffset(s);return r}offsetToIndex(n){return this._children.offsetToIndex(n)}toJSON(){const n=[];for(const r of this._children)n.push(r.toJSON());return n}static fromJSON(n){const r=[];for(const s of n)s.name?r.push(Jy.fromJSON(s)):r.push(Us.fromJSON(s));return new W3(r)}_appendChild(n){this._insertChild(this.childCount,n)}_insertChild(n,r){const s=Nke(r);for(const i of s)i.parent!==null&&i._remove(),i.parent=this;this._children._insertNodes(n,s)}_removeChildren(n,r=1){const s=this._children._removeNodes(n,r);for(const i of s)i.parent=null;return s}_removeChildrenArray(n){this._children._removeNodesArray(n);for(const r of n)r.parent=null}}W3.prototype.is=function(t){return t==="documentFragment"||t==="model:documentFragment"};function Nke(t){return typeof t=="string"?[new Us(t)]:(uu(t)||(t=[t]),Array.from(t).map(e=>typeof e=="string"?new Us(e):e instanceof kh?new Us(e.data,e.getAttributes()):e))}var xC,f7;function iK(){return f7||(f7=1,xC={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}),xC}iK();var bC,m7;function oK(){if(m7)return bC;m7=1;const t=iK(),e={};for(const s of Object.keys(t))e[t[s]]=s;const n={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};bC=n;for(const s of Object.keys(n)){if(!("channels"in n[s]))throw new Error("missing channels property: "+s);if(!("labels"in n[s]))throw new Error("missing channel labels property: "+s);if(n[s].labels.length!==n[s].channels)throw new Error("channel and label counts mismatch: "+s);const{channels:i,labels:o}=n[s];delete n[s].channels,delete n[s].labels,Object.defineProperty(n[s],"channels",{value:i}),Object.defineProperty(n[s],"labels",{value:o})}n.rgb.hsl=function(s){const i=s[0]/255,o=s[1]/255,c=s[2]/255,u=Math.min(i,o,c),h=Math.max(i,o,c),f=h-u;let g,p;h===u?g=0:i===h?g=(o-c)/f:o===h?g=2+(c-i)/f:c===h&&(g=4+(i-o)/f),g=Math.min(g*60,360),g<0&&(g+=360);const y=(u+h)/2;return h===u?p=0:y<=.5?p=f/(h+u):p=f/(2-h-u),[g,p*100,y*100]},n.rgb.hsv=function(s){let i,o,c,u,h;const f=s[0]/255,g=s[1]/255,p=s[2]/255,y=Math.max(f,g,p),w=y-Math.min(f,g,p),E=function(j){return(y-j)/6/w+1/2};return w===0?(u=0,h=0):(h=w/y,i=E(f),o=E(g),c=E(p),f===y?u=c-o:g===y?u=1/3+i-c:p===y&&(u=2/3+o-i),u<0?u+=1:u>1&&(u-=1)),[u*360,h*100,y*100]},n.rgb.hwb=function(s){const i=s[0],o=s[1];let c=s[2];const u=n.rgb.hsl(s)[0],h=1/255*Math.min(i,Math.min(o,c));return c=1-1/255*Math.max(i,Math.max(o,c)),[u,h*100,c*100]},n.rgb.cmyk=function(s){const i=s[0]/255,o=s[1]/255,c=s[2]/255,u=Math.min(1-i,1-o,1-c),h=(1-i-u)/(1-u)||0,f=(1-o-u)/(1-u)||0,g=(1-c-u)/(1-u)||0;return[h*100,f*100,g*100,u*100]};function r(s,i){return(s[0]-i[0])**2+(s[1]-i[1])**2+(s[2]-i[2])**2}return n.rgb.keyword=function(s){const i=e[s];if(i)return i;let o=1/0,c;for(const u of Object.keys(t)){const h=t[u],f=r(s,h);f<o&&(o=f,c=u)}return c},n.keyword.rgb=function(s){return t[s]},n.rgb.xyz=function(s){let i=s[0]/255,o=s[1]/255,c=s[2]/255;i=i>.04045?((i+.055)/1.055)**2.4:i/12.92,o=o>.04045?((o+.055)/1.055)**2.4:o/12.92,c=c>.04045?((c+.055)/1.055)**2.4:c/12.92;const u=i*.4124+o*.3576+c*.1805,h=i*.2126+o*.7152+c*.0722,f=i*.0193+o*.1192+c*.9505;return[u*100,h*100,f*100]},n.rgb.lab=function(s){const i=n.rgb.xyz(s);let o=i[0],c=i[1],u=i[2];o/=95.047,c/=100,u/=108.883,o=o>.008856?o**(1/3):7.787*o+16/116,c=c>.008856?c**(1/3):7.787*c+16/116,u=u>.008856?u**(1/3):7.787*u+16/116;const h=116*c-16,f=500*(o-c),g=200*(c-u);return[h,f,g]},n.hsl.rgb=function(s){const i=s[0]/360,o=s[1]/100,c=s[2]/100;let u,h,f;if(o===0)return f=c*255,[f,f,f];c<.5?u=c*(1+o):u=c+o-c*o;const g=2*c-u,p=[0,0,0];for(let y=0;y<3;y++)h=i+1/3*-(y-1),h<0&&h++,h>1&&h--,6*h<1?f=g+(u-g)*6*h:2*h<1?f=u:3*h<2?f=g+(u-g)*(2/3-h)*6:f=g,p[y]=f*255;return p},n.hsl.hsv=function(s){const i=s[0];let o=s[1]/100,c=s[2]/100,u=o;const h=Math.max(c,.01);c*=2,o*=c<=1?c:2-c,u*=h<=1?h:2-h;const f=(c+o)/2,g=c===0?2*u/(h+u):2*o/(c+o);return[i,g*100,f*100]},n.hsv.rgb=function(s){const i=s[0]/60,o=s[1]/100;let c=s[2]/100;const u=Math.floor(i)%6,h=i-Math.floor(i),f=255*c*(1-o),g=255*c*(1-o*h),p=255*c*(1-o*(1-h));switch(c*=255,u){case 0:return[c,p,f];case 1:return[g,c,f];case 2:return[f,c,p];case 3:return[f,g,c];case 4:return[p,f,c];case 5:return[c,f,g]}},n.hsv.hsl=function(s){const i=s[0],o=s[1]/100,c=s[2]/100,u=Math.max(c,.01);let h,f;f=(2-o)*c;const g=(2-o)*u;return h=o*u,h/=g<=1?g:2-g,h=h||0,f/=2,[i,h*100,f*100]},n.hwb.rgb=function(s){const i=s[0]/360;let o=s[1]/100,c=s[2]/100;const u=o+c;let h;u>1&&(o/=u,c/=u);const f=Math.floor(6*i),g=1-c;h=6*i-f,f&1&&(h=1-h);const p=o+h*(g-o);let y,w,E;switch(f){default:case 6:case 0:y=g,w=p,E=o;break;case 1:y=p,w=g,E=o;break;case 2:y=o,w=g,E=p;break;case 3:y=o,w=p,E=g;break;case 4:y=p,w=o,E=g;break;case 5:y=g,w=o,E=p;break}return[y*255,w*255,E*255]},n.cmyk.rgb=function(s){const i=s[0]/100,o=s[1]/100,c=s[2]/100,u=s[3]/100,h=1-Math.min(1,i*(1-u)+u),f=1-Math.min(1,o*(1-u)+u),g=1-Math.min(1,c*(1-u)+u);return[h*255,f*255,g*255]},n.xyz.rgb=function(s){const i=s[0]/100,o=s[1]/100,c=s[2]/100;let u,h,f;return u=i*3.2406+o*-1.5372+c*-.4986,h=i*-.9689+o*1.8758+c*.0415,f=i*.0557+o*-.204+c*1.057,u=u>.0031308?1.055*u**(1/2.4)-.055:u*12.92,h=h>.0031308?1.055*h**(1/2.4)-.055:h*12.92,f=f>.0031308?1.055*f**(1/2.4)-.055:f*12.92,u=Math.min(Math.max(0,u),1),h=Math.min(Math.max(0,h),1),f=Math.min(Math.max(0,f),1),[u*255,h*255,f*255]},n.xyz.lab=function(s){let i=s[0],o=s[1],c=s[2];i/=95.047,o/=100,c/=108.883,i=i>.008856?i**(1/3):7.787*i+16/116,o=o>.008856?o**(1/3):7.787*o+16/116,c=c>.008856?c**(1/3):7.787*c+16/116;const u=116*o-16,h=500*(i-o),f=200*(o-c);return[u,h,f]},n.lab.xyz=function(s){const i=s[0],o=s[1],c=s[2];let u,h,f;h=(i+16)/116,u=o/500+h,f=h-c/200;const g=h**3,p=u**3,y=f**3;return h=g>.008856?g:(h-16/116)/7.787,u=p>.008856?p:(u-16/116)/7.787,f=y>.008856?y:(f-16/116)/7.787,u*=95.047,h*=100,f*=108.883,[u,h,f]},n.lab.lch=function(s){const i=s[0],o=s[1],c=s[2];let u;u=Math.atan2(c,o)*360/2/Math.PI,u<0&&(u+=360);const f=Math.sqrt(o*o+c*c);return[i,f,u]},n.lch.lab=function(s){const i=s[0],o=s[1],u=s[2]/360*2*Math.PI,h=o*Math.cos(u),f=o*Math.sin(u);return[i,h,f]},n.rgb.ansi16=function(s,i=null){const[o,c,u]=s;let h=i===null?n.rgb.hsv(s)[2]:i;if(h=Math.round(h/50),h===0)return 30;let f=30+(Math.round(u/255)<<2|Math.round(c/255)<<1|Math.round(o/255));return h===2&&(f+=60),f},n.hsv.ansi16=function(s){return n.rgb.ansi16(n.hsv.rgb(s),s[2])},n.rgb.ansi256=function(s){const i=s[0],o=s[1],c=s[2];return i===o&&o===c?i<8?16:i>248?231:Math.round((i-8)/247*24)+232:16+36*Math.round(i/255*5)+6*Math.round(o/255*5)+Math.round(c/255*5)},n.ansi16.rgb=function(s){let i=s%10;if(i===0||i===7)return s>50&&(i+=3.5),i=i/10.5*255,[i,i,i];const o=(~~(s>50)+1)*.5,c=(i&1)*o*255,u=(i>>1&1)*o*255,h=(i>>2&1)*o*255;return[c,u,h]},n.ansi256.rgb=function(s){if(s>=232){const h=(s-232)*10+8;return[h,h,h]}s-=16;let i;const o=Math.floor(s/36)/5*255,c=Math.floor((i=s%36)/6)/5*255,u=i%6/5*255;return[o,c,u]},n.rgb.hex=function(s){const o=(((Math.round(s[0])&255)<<16)+((Math.round(s[1])&255)<<8)+(Math.round(s[2])&255)).toString(16).toUpperCase();return"000000".substring(o.length)+o},n.hex.rgb=function(s){const i=s.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!i)return[0,0,0];let o=i[0];i[0].length===3&&(o=o.split("").map(g=>g+g).join(""));const c=parseInt(o,16),u=c>>16&255,h=c>>8&255,f=c&255;return[u,h,f]},n.rgb.hcg=function(s){const i=s[0]/255,o=s[1]/255,c=s[2]/255,u=Math.max(Math.max(i,o),c),h=Math.min(Math.min(i,o),c),f=u-h;let g,p;return f<1?g=h/(1-f):g=0,f<=0?p=0:u===i?p=(o-c)/f%6:u===o?p=2+(c-i)/f:p=4+(i-o)/f,p/=6,p%=1,[p*360,f*100,g*100]},n.hsl.hcg=function(s){const i=s[1]/100,o=s[2]/100,c=o<.5?2*i*o:2*i*(1-o);let u=0;return c<1&&(u=(o-.5*c)/(1-c)),[s[0],c*100,u*100]},n.hsv.hcg=function(s){const i=s[1]/100,o=s[2]/100,c=i*o;let u=0;return c<1&&(u=(o-c)/(1-c)),[s[0],c*100,u*100]},n.hcg.rgb=function(s){const i=s[0]/360,o=s[1]/100,c=s[2]/100;if(o===0)return[c*255,c*255,c*255];const u=[0,0,0],h=i%1*6,f=h%1,g=1-f;let p=0;switch(Math.floor(h)){case 0:u[0]=1,u[1]=f,u[2]=0;break;case 1:u[0]=g,u[1]=1,u[2]=0;break;case 2:u[0]=0,u[1]=1,u[2]=f;break;case 3:u[0]=0,u[1]=g,u[2]=1;break;case 4:u[0]=f,u[1]=0,u[2]=1;break;default:u[0]=1,u[1]=0,u[2]=g}return p=(1-o)*c,[(o*u[0]+p)*255,(o*u[1]+p)*255,(o*u[2]+p)*255]},n.hcg.hsv=function(s){const i=s[1]/100,o=s[2]/100,c=i+o*(1-i);let u=0;return c>0&&(u=i/c),[s[0],u*100,c*100]},n.hcg.hsl=function(s){const i=s[1]/100,c=s[2]/100*(1-i)+.5*i;let u=0;return c>0&&c<.5?u=i/(2*c):c>=.5&&c<1&&(u=i/(2*(1-c))),[s[0],u*100,c*100]},n.hcg.hwb=function(s){const i=s[1]/100,o=s[2]/100,c=i+o*(1-i);return[s[0],(c-i)*100,(1-c)*100]},n.hwb.hcg=function(s){const i=s[1]/100,c=1-s[2]/100,u=c-i;let h=0;return u<1&&(h=(c-u)/(1-u)),[s[0],u*100,h*100]},n.apple.rgb=function(s){return[s[0]/65535*255,s[1]/65535*255,s[2]/65535*255]},n.rgb.apple=function(s){return[s[0]/255*65535,s[1]/255*65535,s[2]/255*65535]},n.gray.rgb=function(s){return[s[0]/100*255,s[0]/100*255,s[0]/100*255]},n.gray.hsl=function(s){return[0,0,s[0]]},n.gray.hsv=n.gray.hsl,n.gray.hwb=function(s){return[0,100,s[0]]},n.gray.cmyk=function(s){return[0,0,0,s[0]]},n.gray.lab=function(s){return[s[0],0,0]},n.gray.hex=function(s){const i=Math.round(s[0]/100*255)&255,c=((i<<16)+(i<<8)+i).toString(16).toUpperCase();return"000000".substring(c.length)+c},n.rgb.gray=function(s){return[(s[0]+s[1]+s[2])/3/255*100]},bC}var wC,p7;function Tke(){if(p7)return wC;p7=1;const t=oK();function e(){const i={},o=Object.keys(t);for(let c=o.length,u=0;u<c;u++)i[o[u]]={distance:-1,parent:null};return i}function n(i){const o=e(),c=[i];for(o[i].distance=0;c.length;){const u=c.pop(),h=Object.keys(t[u]);for(let f=h.length,g=0;g<f;g++){const p=h[g],y=o[p];y.distance===-1&&(y.distance=o[u].distance+1,y.parent=u,c.unshift(p))}}return o}function r(i,o){return function(c){return o(i(c))}}function s(i,o){const c=[o[i].parent,i];let u=t[o[i].parent][i],h=o[i].parent;for(;o[h].parent;)c.unshift(o[h].parent),u=r(t[o[h].parent][h],u),h=o[h].parent;return u.conversion=c,u}return wC=function(i){const o=n(i),c={},u=Object.keys(o);for(let h=u.length,f=0;f<h;f++){const g=u[f];o[g].parent!==null&&(c[g]=s(g,o))}return c},wC}var _C,g7;function Ake(){if(g7)return _C;g7=1;const t=oK(),e=Tke(),n={},r=Object.keys(t);function s(o){const c=function(...u){const h=u[0];return h==null?h:(h.length>1&&(u=h),o(u))};return"conversion"in o&&(c.conversion=o.conversion),c}function i(o){const c=function(...u){const h=u[0];if(h==null)return h;h.length>1&&(u=h);const f=o(u);if(typeof f=="object")for(let g=f.length,p=0;p<g;p++)f[p]=Math.round(f[p]);return f};return"conversion"in o&&(c.conversion=o.conversion),c}return r.forEach(o=>{n[o]={},Object.defineProperty(n[o],"channels",{value:t[o].channels}),Object.defineProperty(n[o],"labels",{value:t[o].labels});const c=e(o);Object.keys(c).forEach(h=>{const f=c[h];n[o][h]=i(f),n[o][h].raw=s(f)})}),_C=n,_C}Ake();/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */var Lke='<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>';new DOMParser().parseFromString(Lke,"image/svg+xml").firstChild;/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const Rke=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:t,typeAttribute:e,listType:n}of Rke);/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */y0.arrowup,y0.arrowdown,y0.esc;y0.enter,y0.tab;function kke({}){var j;const[t,e]=S.useState(0),[n,r]=S.useState(new mT),[s,i]=S.useState(""),[o,c]=S.useState(""),[u,h]=S.useState(""),f=(C,O)=>{if(Array.isArray(C))r(I=>({...I,[O]:C}));else if(typeof C=="string")r(I=>({...I,[O]:C}));else{const{name:I,value:D}=C.target;r(T=>({...T,[I]:D}))}},g=(C,O)=>{if(!C){console.warn("handleLocationSelect received null position.");return}r(I=>({...I,address:{...I.address,lat:C.lat||"",long:C.lng||""},link:O||""}))};S.useEffect(()=>{n.accreditation||(r(C=>({...C,category:"Hospitality & Lodging",subcategory:"Accommodation Establishments"})),i("Hospitality & Lodging"),c("accommodations"))},[r,n.category,n.subcategory]);const p=async(C,O)=>{const I=Wt(en,O);return await Qt(I,C),await Zt(I)},y=async C=>{C.preventDefault(),ve.fire({title:"Submitting...",text:"Please wait while we submit your accommodation data.",allowOutsideClick:!1,didOpen:()=>{ve.showLoading()}});try{let O=n.headerImage?await p(n.headerImage,`accommodations/${Date.now()}_${n.headerImage.name}`):null,I=n.logo?await p(n.logo,`accommodations/${Date.now()}_${n.logo.name}`):null;const D=await Promise.all(n.images.map(async R=>R?await p(R,`accommodations/${Date.now()}_${R.name}`):"")),T=new mT;T.id="",T.name=n.name,T.category=n.category||s,T.subcategory=n.subcategory||o,T.classification=n.classification||u,T.accreditation=n.accreditation,T.ratings=n.ratings,T.established=n.established,T.lowest=n.lowest,T.slogan=n.slogan,T.description=n.description,T.facilities=n.facilities||[],T.amenities=n.amenities||[],T.awards=n.awards||[],T.images=D,T.roomtypes=n.roomtypes||[],T.operatinghours=n.operatinghours||[],T.inclusivity=n.inclusivity||[],T.accessibility=n.accessibility||[],T.logo=I,T.headerImage=O,T.website=n.website,T.address={...n.address},T.link=n.link,T.geo=n.geo,T.socials=n.socials||[],T.memberships=n.memberships||[],T.note=n.note;const F=await Or(Jt(Ve,"accommodations"),T.toJSON()),_=gt(Ve,"accommodations",F.id);await rn(_,{id:F.id}),ve.fire({title:"Accommodation Submitted",text:"Your accommodation has been submitted successfully!",icon:"success"}),E(),w()}catch(O){console.error("Error submitting accommodation:",O),ve.fire({title:"Error",text:"There was an issue submitting your accommodation. Please try again.",icon:"error"})}},w=()=>{r(C=>({...C,headerImage:null}))},E=()=>{r({id:"",name:"",category:"",subcategory:"",classification:"",accreditation:"",ratings:"",established:"",lowest:"",slogan:"",description:"",facilities:[],amenities:[],awards:[],images:[],roomtypes:[],operatinghours:[],inclusivity:[],accessibility:[],logo:null,headerImage:null,website:"",address:{street:"",barangay:"",town:"",region:"",province:"",country:"",lat:"",long:""},link:"",geo:"",socials:[],memberships:[],note:[]}),e(C=>C+1),i(""),h(""),c("")};return a.jsxs(v,{className:"custom-form body-container",onSubmit:y,onKeyDown:C=>C.key==="Enter"&&C.preventDefault(),children:[a.jsxs(V,{className:"row mb-4",children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"category",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Category"}),a.jsx(v.Control,{type:"text",placeholder:"Enter Category",name:"category",value:n.category||"Hospitality & Lodging",onChange:f,readOnly:!0})]})}),a.jsxs(z,{md:6,children:[a.jsxs(v.Group,{controlId:"subcategory",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"SubCategory"}),a.jsx(v.Control,{type:"text",placeholder:"Enter Subcategory",name:"subcategory",value:n.subcategory||"Accommodation Establishments",onChange:f,readOnly:!0})]}),o&&$a[o]&&a.jsxs(v.Group,{controlId:"formClassification",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Classification"}),a.jsxs(v.Select,{value:n.classification||"",onChange:C=>{const O=C.target.value;h(O),r(I=>({...I,classification:O}))},children:[a.jsx("option",{value:"",children:"Select Classification"}),(j=$a[o])==null?void 0:j.map((C,O)=>a.jsx("option",{value:C,children:C},O))]})]})]})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"logo",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Business Logo"}),a.jsx(Mo,{storyForm:n,setStoryForm:r,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small",caption:"Drag & Drop Logo here",required:!0})]})}),a.jsx(z,{md:6,children:a.jsx(B,{})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Business Name"}),a.jsx(v.Control,{type:"text",placeholder:"Enter business name",name:"name",value:n.name,onChange:f,required:!0})]})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:9,children:a.jsxs(v.Group,{controlId:"slogan",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Business Slogan/Phrase/Tagline"}),a.jsx(v.Control,{type:"text",placeholder:"Enter business slogan/phrase/tagline",name:"slogan",value:n.slogan,onChange:f})]})}),a.jsx(z,{md:3,children:a.jsxs(v.Group,{controlId:"established",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Year Established"}),a.jsx(v.Control,{type:"text",placeholder:"e.g.: 2000",name:"established",required:!0,value:n.established,onChange:C=>{const O=C.target.value;/^\d*\.?\d*$/.test(O)&&f(C)}})]})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"description",className:"mb-5 mt-2",children:[a.jsx(v.Label,{className:"label",children:"Brief Description"}),a.jsx(On,{theme:"snow",value:n.description||"",onChange:C=>f(C,"description"),required:!0,style:{height:"300px"}})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Si,{groupData:n,setGroupData:r,resetKey:t})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Ci,{onLocationSelect:g,name:n.name||"",resetKey:t})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"link",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Google Map Link"}),a.jsx(v.Control,{type:"text",placeholder:"Select Location First",name:"link",value:n.link,onChange:f,readOnly:!0})]})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"lat",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Lattitude"}),a.jsx(v.Control,{type:"text",placeholder:"Select Location First",name:"lat",value:n.address.lat,onChange:f,readOnly:!0})]})}),a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"long",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Longitude"}),a.jsx(v.Control,{type:"text",placeholder:"Select Location First",name:"long",value:n.address.long,onChange:f,readOnly:!0})]})})]}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"accessibility",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Geographical Location"}),a.jsxs(v.Select,{name:"geo",value:n.geo,onChange:f,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Geo Location"}),Ni.map((C,O)=>a.jsx("option",{value:C,children:C},O))]})]})}),a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"accessibility",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Accessibility"}),a.jsxs(v.Select,{name:"accessibility",value:n.accessibility,onChange:f,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Accessibility"}),Fo.map((C,O)=>a.jsx("option",{value:C,children:C},O))]})]})})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Cover Photo"}),a.jsx(mn,{storyForm:n,setStoryForm:r,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",children:[a.jsx(v.Label,{className:"label me-2",children:"Promotional & Marketing Photos"}),a.jsx(Rs,{dataForm:n,setDataForm:r,caption:"Drag & drop images or click to select (Max: 10)",dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"})]})})}),a.jsxs(V,{className:"mt-4",children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"accreditation",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"DOT Accreditation No."}),a.jsx(v.Control,{type:"text",placeholder:"Enter accreditation (Optional)",name:"accreditation",value:n.accreditation,onChange:f})]})}),a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"ratings",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"DOT Rating"}),a.jsx(v.Control,{type:"text",placeholder:"Enter ratings (Optional)",name:"ratings",value:n.ratings,onChange:f})]})})]}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"website",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Official Website Link"}),a.jsx(v.Control,{type:"text",placeholder:"Enter website link",name:"website",value:n.website,onChange:f})]})}),a.jsx(z,{md:6,children:a.jsx($e,{onChange:C=>f(C,"socials"),label:"Social Media Links (Type & Enter)",editingItems:n.socials,resetKey:t})})]}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsx($e,{onChange:C=>f(C,"operatinghours"),label:"Operating Hours (Type & Enter)",editingItems:n.operatinghours,resetKey:t,caption:"format: hh:mm A  | e.g. 08:00 AM"})}),a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"lowest",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Lowest Price"}),a.jsx("p",{className:"subtitle",children:"format: 00000.00 | e.g. 12000.00"}),a.jsx(v.Control,{type:"text",placeholder:"Enter Lowest Price",name:"lowest",value:n.lowest,onChange:C=>{const O=C.target.value;/^\d*\.?\d*$/.test(O)&&f(C)}})]})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(qn,{onChange:C=>f(C,"roomtypes"),options:Ww,resetKey:t,editingItems:n.roomtypes,label:"Room Types (Search, Select & Enter)"})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(qn,{onChange:C=>f(C,"inclusivity"),options:Tp,resetKey:t,editingItems:n.inclusivity,label:"Inclusivity (Search, Select & Enter)"})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(qn,{onChange:C=>f(C,"facilities"),label:"Facilities (Search, Select & Enter)",resetKey:t,editingItems:n.facilities,options:Ap,required:!0})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(qn,{onChange:C=>f(C,"amenities"),label:"Amenities (Search, Select & Enter)",resetKey:t,options:Kw,editingItems:n.amenities,required:!0})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx($e,{label:"Organizational Memberships (Type & Enter)",onChange:C=>f(C,"memberships"),editingItems:n.memberships,resetKey:t})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:C=>f(C,"awards"),editingItems:n.awards,resetKey:t,label:"Awards, Recognitions, Seals and Certifications (Type & Enter)"})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"note",className:"mb-5 mt-2",children:[a.jsx(v.Label,{className:"label",children:"Notes, Reminders, Remarks, and Other Details"}),a.jsx(On,{theme:"snow",value:n.note||"",onChange:C=>f(C,"note"),required:!0,style:{height:"300px"}})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:E,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:y,children:"Submit Accommodation"})]})}),a.jsx(B,{className:"empty-container"})]})}const Oke={width:"100%",height:"400px"};function sf({latitude:t,longitude:e}){const{isLoaded:n}=TW({googleMapsApiKey:"AIzaSyB12zV70G4pEPERWnWPiC69_BZhw_5Af9k"}),r={lat:t,lng:e};return a.jsx("div",{children:n?a.jsx(EW,{mapContainerStyle:Oke,center:r,zoom:15,children:a.jsx(B3,{position:r})}):a.jsx("div",{children:"Loading Map..."})})}function Ike({editingItem:t,toAddForm:e}){var R;const[n,r]=S.useState(0),[s,i]=S.useState(new mT),[o,c]=S.useState(""),[u,h]=S.useState(""),[f,g]=S.useState(""),p=(b,A)=>{if(Array.isArray(b))i(L=>({...L,[A]:b}));else if(typeof b=="string")i(L=>({...L,[A]:b}));else{const{name:L,value:U}=b.target;i(P=>({...P,[L]:U}))}},y=(b,A)=>{if(!b){console.warn("handleLocationSelect received null position.");return}i(L=>({...L,address:{...L.address,lat:b.lat||"",long:b.lng||""},link:A||""}))};S.useEffect(()=>{t&&(i(b=>({...b,id:t.id||"",name:t.name||"",category:t.category||"",subcategory:t.subcategory||"",classification:t.classification||"",accreditation:t.accreditation||"",ratings:t.ratings||"",established:t.established||"",lowest:t.lowest||"",slogan:t.slogan||"",description:t.description||"",facilities:t.facilities||[],amenities:t.amenities||[],awards:t.awards||[],images:t.images||[],roomtypes:t.roomtypes||[],operatinghours:t.operatinghours||[],inclusivity:t.inclusivity||[],accessibility:t.accessibility||"",logo:t.logo||"",headerImage:t.headerImage||"",website:t.website||"",address:{street:t.address.street||"",barangay:t.address.barangay||"",town:t.address.town||"",region:t.address.region||"",province:t.address.province||"",country:t.address.country||"",lat:t.address.lat||"",long:t.address.long||""},link:t.link||"",geo:t.geo||"",socials:t.socials||[],memberships:t.memberships||[],note:t.note||""})),t.category?(c(t.category||""),h("accommodations"),g(t.classification||"")):(c("Hospitality & Lodging"),h("accommodations")))},[t]);const w=async(b,A)=>{const L=Wt(en,A);return await Qt(L,b),await Zt(L)},E=async b=>{b.preventDefault(),ve.fire({title:"Submitting...",text:"Please wait while we submit your accommodation data.",allowOutsideClick:!1,didOpen:()=>{ve.showLoading()}});try{let A=s.logo,L=s.headerImage;s.headerImage instanceof File&&(t&&t.headerImage&&await $t(t.headerImage),L=await w(s.headerImage,`accommodations/${Date.now()}_${s.headerImage.name}`)),s.logo instanceof File&&(t&&t.logo&&await $t(t.logo),A=await w(s.logo,`accommodations/${Date.now()}_${s.logo.name}`));const U=await Promise.all(s.images.map(async(G,re)=>G instanceof File?(t&&t.images&&t.images[re]&&await $t(t.images[re]),await w(G,`accommodations/${Date.now()}_${G.name}`)):G)),P={id:t?t.id:"",name:s.name,category:s.category||o,subcategory:s.subcategory||u,classification:s.classification||f,accreditation:s.accreditation,ratings:s.ratings,established:s.established,lowest:s.lowest,slogan:s.slogan,description:s.description,facilities:s.facilities||[],amenities:s.amenities||[],awards:s.awards||[],images:U,roomtypes:s.roomtypes||[],operatinghours:s.operatinghours||[],inclusivity:s.inclusivity||[],accessibility:s.accessibility||[],logo:A,headerImage:L,website:s.website,address:{...s.address},link:s.link,geo:s.geo,socials:s.socials||[],memberships:s.memberships||[],note:s.note},K=gt(Ve,"accommodations",s.id);try{await rn(K,P),ve.fire({title:"Accommodation Updated",text:"Your accommodation has been updated successfully!",icon:"success"}),C(),j(),e()}catch(G){console.error("Error updating accommodation:",G),ve.fire({title:"Update Failed",text:"There was an error updating the accommodation.",icon:"error"})}}catch(A){console.error("Error submitting accommodation:",A),ve.fire({title:"Error",text:"There was an issue submitting your accommodation. Please try again.",icon:"error"})}},j=()=>{i(b=>({...b,headerImage:null}))},C=()=>{i({id:"",name:"",category:"",subcategory:"",classification:"",accreditation:"",ratings:"",established:"",lowest:"",slogan:"",description:"",facilities:[],amenities:[],awards:[],images:[],roomtypes:[],operatinghours:[],inclusivity:[],accessibility:[],logo:null,headerImage:null,website:"",address:{street:"",barangay:"",town:"",region:"",province:"",country:"",lat:"",long:""},link:"",geo:"",socials:[],memberships:[],note:[]}),r(b=>b+1),c(""),g(""),h("")},[O,I]=S.useState(!1),D=()=>{I(!O)},[T,F]=S.useState(!1),_=()=>{F(!T)};return a.jsxs(v,{className:"custom-form body-container",onSubmit:E,onKeyDown:b=>b.key==="Enter"&&b.preventDefault(),children:[a.jsxs(V,{className:"row mb-4",children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"category",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Category"}),a.jsx(v.Control,{type:"text",placeholder:"Enter accreditation (Optional)",name:"accreditation",value:s.category||"Hospitality & Lodging",onChange:p,readOnly:!0})]})}),a.jsxs(z,{md:6,children:[a.jsxs(v.Group,{controlId:"subcategory",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Sub-Category"}),a.jsx(v.Control,{type:"text",placeholder:"Enter Subcategory",name:"subcategory",value:s.subcategory||"Accommodation Establishments",onChange:p,readOnly:!0})]}),u&&$a[u]&&a.jsxs(v.Group,{controlId:"formClassification",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Classification"}),a.jsxs(v.Select,{value:s.classification||"",onChange:b=>{const A=b.target.value;g(A),i(L=>({...L,classification:A}))},children:[a.jsx("option",{value:"",children:"Select Classification"}),(R=$a[u])==null?void 0:R.map((b,A)=>a.jsx("option",{value:b,children:b},A))]})]})]})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"name",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Business Logo"}),a.jsx(Mo,{storyForm:s,setStoryForm:i,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small",caption:"Drag & Drop Logo here",required:!0})]})}),a.jsx(z,{md:6,children:a.jsx(B,{})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Business Name"}),a.jsx(v.Control,{type:"text",placeholder:"Enter business name",name:"name",value:s.name,onChange:p,required:!0})]})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:9,children:a.jsxs(v.Group,{controlId:"slogan",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Business Slogan/Phrase/Tagline"}),a.jsx(v.Control,{type:"text",placeholder:"Enter business slogan/phrase/tagline",name:"slogan",value:s.slogan,onChange:p})]})}),a.jsx(z,{md:3,children:a.jsxs(v.Group,{controlId:"established",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Year Established"}),a.jsx(v.Control,{type:"text",placeholder:"e.g.: 2000",name:"established",required:!0,value:s.established,onChange:b=>{const A=b.target.value;/^\d*\.?\d*$/.test(A)&&p(b)}})]})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"description",className:"mb-5 mt-2",children:[a.jsx(v.Label,{className:"label",children:"Brief Description"}),a.jsx(On,{theme:"snow",value:s.description||"",onChange:b=>p(b,"description"),required:!0,style:{height:"300px"}})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:O?a.jsx(Si,{groupData:s,setGroupData:i,resetKey:n}):a.jsxs(v.Group,{className:"mt-3 mb-3",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[a.jsx(v.Label,{className:"label mb-2",children:"Local Business Address"}),a.jsx(se,{variant:"outline-danger",className:"mb-2",onClick:D,children:O?"Cancel":"Edit Address"})]}),a.jsxs(a.Fragment,{children:[a.jsx(v.Control,{className:"mb-3",type:"text",name:"address.country",placeholder:"Country",value:s.address.country,readOnly:!0}),a.jsx(v.Control,{className:"my-3",type:"text",name:"address.region",placeholder:"Region",value:s.address.region,readOnly:!0}),a.jsx(v.Control,{className:"my-3",type:"text",name:"address.province",placeholder:"Province",value:s.address.province,readOnly:!0}),a.jsx(v.Control,{className:"my-3",type:"text",name:"address.city",placeholder:"City/Municipality/Town",value:s.address.town,readOnly:!0}),a.jsx(v.Control,{className:"my-3",type:"text",name:"address.barangay",placeholder:"Barangay",value:s.address.barangay,readOnly:!0}),a.jsx(v.Control,{className:"my-3",type:"text",name:"address.street",placeholder:"Street Name / Zone (Optional)",value:s.address.street,readOnly:!0})]})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:T?a.jsx(Ci,{onLocationSelect:y,name:s.name||"",resetKey:n,editingItems:s.address}):a.jsxs(v.Group,{className:"mt-3 mb-3",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[a.jsx(v.Label,{className:"label mb-2",children:"Local Business Address"}),a.jsx(se,{variant:"outline-danger",className:"mb-2",onClick:_,children:T?"Cancel":"Edit Map Location"})]}),a.jsx(sf,{latitude:s.address.lat,longitude:s.address.long})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"link",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Google Map Link"}),a.jsx(v.Control,{type:"text",placeholder:"Select Location First",name:"link",value:s.link,onChange:p,readOnly:!0})]})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"lat",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Lattitude"}),a.jsx(v.Control,{type:"text",placeholder:"Select Location First",name:"lat",value:s.address.lat,onChange:p,readOnly:!0})]})}),a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"long",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Longitude"}),a.jsx(v.Control,{type:"text",placeholder:"Select Location First",name:"long",value:s.address.long,onChange:p,readOnly:!0})]})})]}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"accessibility",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Geographical Location"}),a.jsxs(v.Select,{name:"geo",value:s.geo,onChange:p,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Geo Location"}),Ni.map((b,A)=>a.jsx("option",{value:b,children:b},A))]})]})}),a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"accessibility",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Accessibility"}),a.jsxs(v.Select,{name:"accessibility",value:s.accessibility,onChange:p,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Accessibility"}),Fo.map((b,A)=>a.jsx("option",{value:b,children:b},A))]})]})})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Cover Photo"}),a.jsx(mn,{storyForm:s,setStoryForm:i,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"})]})})}),a.jsx(V,{className:"mt-2 ",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",children:[a.jsx(v.Label,{className:"label",children:"Promotional & Marketing Photos"}),a.jsx(Rs,{dataForm:s,setDataForm:i,caption:"Drag & drop images or click to select (Max: 10)",dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"})]})})}),a.jsxs(V,{className:"mt-4",children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"accreditation",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"DOT Accreditation No."}),a.jsx(v.Control,{type:"text",placeholder:"Enter accreditation (Optional)",name:"accreditation",value:s.accreditation,onChange:p})]})}),a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"ratings",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"DOT Rating"}),a.jsx(v.Control,{type:"text",placeholder:"Enter ratings (Optional)",name:"ratings",value:s.ratings,onChange:p})]})})]}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"website",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Official Website Link"}),a.jsx(v.Control,{type:"text",placeholder:"Enter website link",name:"website",value:s.website,onChange:p})]})}),a.jsx(z,{md:6,children:a.jsx($e,{onChange:b=>p(b,"socials"),label:"Social Media Links (Type & Enter)",editingItems:s.socials,resetKey:n})})]}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsx($e,{onChange:b=>p(b,"operatinghours"),label:"Operating Hours (Type & Enter)",editingItems:s.operatinghours,resetKey:n,caption:"format: hh:mm A  | e.g. 08:00 AM"})}),a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"lowest",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Lowest Price"}),a.jsx("p",{className:"subtitle",children:"format: 00000.00 | e.g. 12000.00"}),a.jsx(v.Control,{type:"text",placeholder:"Enter Lowest Price",name:"lowest",value:s.lowest,onChange:b=>{const A=b.target.value;/^\d*\.?\d*$/.test(A)&&p(b)}})]})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(qn,{onChange:b=>p(b,"roomtypes"),options:Ww,resetKey:n,label:"Room Types (Search, Select & Enter)",editingItems:s.roomtypes})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(qn,{onChange:b=>p(b,"inclusivity"),options:Tp,resetKey:n,label:"Inclusivity (Search, Select & Enter)",editingItems:s.inclusivity})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(qn,{onChange:b=>p(b,"facilities"),label:"Facilities (Search, Select & Enter)",resetKey:n,options:Ap,editingItems:s.facilities,required:!0})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(qn,{onChange:b=>p(b,"amenities"),label:"Amenities (Search, Select & Enter)",resetKey:n,options:Kw,editingItems:s.amenities,required:!0})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx($e,{label:"Organizational Memberships (Type & Enter)",onChange:b=>p(b,"memberships"),editingItems:s.memberships,resetKey:n})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:b=>p(b,"awards"),editingItems:s.awards,resetKey:n,label:"Awards, Recognitions, Seals and Certifications (Type & Enter)"})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"note",className:"mb-5 mt-2",children:[a.jsx(v.Label,{className:"label",children:"Notes, Reminders, Remarks, and Other Details"}),a.jsx(On,{theme:"snow",value:s.note||"",onChange:b=>p(b,"note"),required:!0,style:{height:"300px"}})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(B,{className:"d-flex justify-content-end",children:a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:E,children:"Submit Update"})})}),a.jsx(B,{className:"empty-container"})]})}const Pke=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(""),[s,i]=S.useState(""),[o,c]=S.useState(""),[u,h]=S.useState(""),[f,g]=S.useState(""),[p,y]=S.useState(""),[w,E]=S.useState("asc"),[j,C]=S.useState(0),[O,I]=S.useState(null),D=10;S.useEffect(()=>{_()},[]);const[T,F]=S.useState(!0),_=async()=>{try{const me=(await Rr(Jt(Ve,"accommodations"))).docs.map(ie=>({id:ie.id,...ie.data()}));e(me)}catch(Z){console.error("Error fetching data:",Z)}finally{F(!1)}},R=Z=>{I(Z)},b=async Z=>{ve.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then(async me=>{me.isConfirmed&&(await kr(gt(Ve,"accommodations",Z)),_(),ve.fire("Deleted!","Your entry has been deleted.","success"))})},A=t.filter(Z=>{const me=o===""||Z.subcategory===o,ie=s===""||Z.classification===s,W=u===""||Z.geo===u,ye=f===""||Z.address.barangay===f,Q=n.toLowerCase(),ne=Z.name.toLowerCase().includes(Q)||Z.established.toLowerCase().includes(Q)||Z.category.toLowerCase().includes(Q)||Z.subcategory.toLowerCase().includes(Q)||Z.classification.toLowerCase().includes(Q)||Z.geo.toLowerCase().includes(Q)||Z.address.barangay.toLowerCase().includes(Q)||Z.address.street.toLowerCase().includes(Q)||Z.accreditation.toLowerCase().includes(Q)||Z.ratings.toLowerCase().includes(Q),te=Z.accreditation&&Z.accreditation.trim()!=="";return me&&ie&&W&&ye&&ne&&(p===""||p==="DOT Accredited"&&te||p==="Not Accredited"&&!te)}),L=()=>new Date().toISOString().split("T")[0],U=()=>{const Z=t.map(({name:W,established:ye,category:Q,subcategory:ne,classification:te,...X})=>({...X,facilities:Array.isArray(X.facilities)?X.facilities.join(", "):"",amenities:Array.isArray(X.amenities)?X.amenities.join(", "):"",awards:Array.isArray(X.awards)?X.awards.join(", "):"",images:Array.isArray(X.images)?X.images.join(", "):"",roomtypes:Array.isArray(X.roomtypes)?X.roomtypes.join(", "):"",operatinghours:Array.isArray(X.operatinghours)?X.operatinghours.join(", "):"",inclusivity:Array.isArray(X.inclusivity)?X.inclusivity.join(", "):"",socials:Array.isArray(X.socials)?X.socials.join(", "):"",memberships:Array.isArray(X.memberships)?X.memberships.join(", "):"",address:X.address?JSON.stringify(X.address):""})),me=vt.json_to_sheet(Z),ie=vt.book_new();vt.book_append_sheet(ie,me,"Data"),Fr(ie,`tourism_stories_infoguide_${L()}.xlsx`)},P=Math.ceil(A.length/D),K=A.slice(j*D,(j+1)*D),G=({selected:Z})=>{C(Z)},re=()=>{I(null)};return a.jsxs(B,{children:[a.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Accommodation Establishment"}),a.jsx("p",{children:"List of Department of Tourism (DOT) Accredited and LGU-Recognized Accommodation Establishment"}),a.jsxs(V,{children:[a.jsx(z,{md:6,className:"mb-1 me-2 col",children:a.jsx(v.Control,{type:"text",placeholder:`Search up to over ${t.length} accommodations`,value:n,onChange:Z=>r(Z.target.value)})}),a.jsx(z,{md:2,className:"mb-1 me-2 col",children:a.jsxs(v.Select,{value:o,onChange:Z=>c(Z.target.value),children:[a.jsx("option",{value:"",children:"All Subcategories"}),[...new Set(t.map(Z=>Z.subcategory))].map((Z,me)=>a.jsx("option",{value:Z,children:Z},me))]})}),a.jsx(z,{md:2,className:"mb-1 me-2 col",children:a.jsxs(v.Select,{value:s,onChange:Z=>i(Z.target.value),children:[a.jsx("option",{value:"",children:"All Classifications"}),[...new Set(t.map(Z=>Z.classification))].map((Z,me)=>a.jsx("option",{value:Z,children:Z},me))]})})]}),a.jsxs(V,{children:[a.jsx(z,{md:2,className:"mb-1 me-2 col",children:a.jsxs(v.Select,{value:u,onChange:Z=>c(Z.target.value),children:[a.jsx("option",{value:"",children:"All Geographical Location"}),[...new Set(t.map(Z=>Z.geo))].map((Z,me)=>a.jsx("option",{value:Z,children:Z},me))]})}),a.jsx(z,{md:2,className:"mb-1 me-2 col",children:a.jsxs(v.Select,{value:f,onChange:Z=>g(Z.target.value),children:[a.jsx("option",{value:"",children:"All Barangays"}),[...new Set(t.map(Z=>Z.address.barangay))].map((Z,me)=>a.jsx("option",{value:Z,children:Z},me))]})}),a.jsx(z,{md:2,className:"mb-1 me-2 col",children:a.jsxs(v.Select,{value:p,onChange:Z=>y(Z.target.value),children:[a.jsx("option",{value:"",children:"All Accreditations"}),a.jsx("option",{value:"DOT Accredited",children:"DOT Accredited"}),a.jsx("option",{value:"Not Accredited",children:"Not Accredited"})]})}),a.jsxs(B,{className:"d-flex justify-content-end align-items-center mt-2 mb-4",children:[a.jsxs(se,{variant:"outline-secondary",className:"me-2",onClick:_,children:[a.jsx(we,{icon:Pr,size:"xs",fixedWidth:!0})," Refresh List"]}),a.jsxs(se,{variant:"outline-success",onClick:re,children:[a.jsx(we,{icon:Dr,size:"xs",fixedWidth:!0})," Add New"]})]})]}),T?a.jsx("div",{className:"d-flex justify-content-center align-items-center my-5",children:a.jsx(Sr,{animation:"border",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):K.length===0?a.jsx("div",{className:"text-center my-5",children:a.jsx("h5",{children:"No Data Available"})}):a.jsxs(Lr,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Business Name"}),a.jsx("th",{children:"Established"}),a.jsx("th",{children:"Category"}),a.jsx("th",{children:"SubCategory"}),a.jsx("th",{children:"Classification"}),a.jsx("th",{children:"Geo Location"}),a.jsx("th",{children:"Barangay"}),a.jsx("th",{children:"Street"}),a.jsx("th",{children:"Accreditation"}),a.jsx("th",{children:"Rating"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:K.map(Z=>a.jsxs("tr",{children:[a.jsx("td",{children:Z.name}),a.jsx("td",{children:Z.established}),a.jsx("td",{children:Z.category}),a.jsx("td",{children:Z.subcategory}),a.jsx("td",{children:Z.classification}),a.jsx("td",{children:Z.geo}),a.jsx("td",{children:Z.address.barangay}),a.jsx("td",{children:Z.address.street}),a.jsx("td",{children:Z.accreditation}),a.jsx("td",{children:Z.ratings}),a.jsx("td",{children:a.jsxs(B,{className:"d-flex justify-content-center align-items-center",children:[a.jsx(Xt,{placement:"top",overlay:a.jsx(Gt,{children:"Edit"}),children:a.jsx(se,{variant:"outline-secondary",size:"sm",className:"me-2",onClick:()=>R(Z),children:a.jsx(we,{icon:Ir,size:"xs",fixedWidth:!0})})}),a.jsx(Xt,{placement:"top",overlay:a.jsx(Gt,{children:"Delete"}),children:a.jsx(se,{variant:"outline-danger",size:"sm",onClick:()=>b(Z.id),children:a.jsx(we,{icon:Pt,size:"xs",fixedWidth:!0})})})]})})]},Z.id))})]}),a.jsxs(B,{className:"d-flex justify-content-between align-items-center mb-4 mt-2",children:[a.jsx(se,{onClick:U,variant:"outline-success",children:"Download Excel"}),a.jsx(Mr,{previousLabel:"",nextLabel:"",pageCount:P,onPageChange:G,containerClassName:"pagination mb-0",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})]}),a.jsx(B,{className:"empty-container"}),O?a.jsx(Ike,{editingItem:O,toAddForm:()=>I(null)}):a.jsx(kke,{})]})};class ET{constructor(){this.id="",this.name="",this.category="",this.subcategory="",this.classification="",this.established="",this.lowest="",this.slogan="",this.description="",this.facilities=[],this.activities=[],this.images=[],this.operatinghours=[],this.accessibility="",this.logo=null,this.headerImage=null,this.website="",this.address={street:"",barangay:"",town:"",region:"",province:"",country:"",lat:"",long:""},this.link="",this.geo="",this.socials=[],this.note=""}toJSON(){return{...this}}}const lK=["Reception Desk","Parking Area","CCTV Protected","Restaurant","Security Guard/House","WiFi Connection","Storage or Locker","Accommodation","Swimming Pool","Common Bathroom or Changing Room","Cafe","Bar","Obstacle Course","Kubo House","Conference/Events Room","Lights and Sounds","LED Wall","Photography Boot/Station","Shuttle","Entertainment Area","Live Music","Lounge"],cK=["Swimming","ATV Ride","Buggy Car Ride","Splash Slide","Cliff Diving","Floating Matt","Crystal Kayaking","River Kayaking","Stand-up Paddle Board","Kawa Bath","Superman Zipline","Sky Bike","Monkey Zipline","Team-building","Conferences and Meetings","Dine","Platter Dine","Buffet Lunch Dining","Try Local Delicacies","Boodle Fight Dining","Camping","Glamping","Overnight Stay","Bonfire"];function Dke({}){var j;const[t,e]=S.useState(0),[n,r]=S.useState(new ET),[s,i]=S.useState(""),[o,c]=S.useState(""),[u,h]=S.useState(""),f=(C,O)=>{if(Array.isArray(C))r(I=>({...I,[O]:C}));else if(typeof C=="string")r(I=>({...I,[O]:C}));else{const{name:I,value:D}=C.target;r(T=>({...T,[I]:D}))}},g=(C,O)=>{if(!C){console.warn("handleLocationSelect received null position.");return}r(I=>({...I,address:{...I.address,lat:C.lat||"",long:C.lng||""},link:O||""}))};S.useEffect(()=>{n.accreditation||(r(C=>({...C,category:"Hospitality & Lodging",subcategory:"Recreational Resorts"})),i("Hospitality & Lodging"),c("Recreational Resorts"))},[r,n.category,n.subcategory]);const p=async(C,O)=>{const I=Wt(en,O);return await Qt(I,C),await Zt(I)},y=async C=>{C.preventDefault(),ve.fire({title:"Submitting...",text:"Please wait while we submit your resorts data.",allowOutsideClick:!1,didOpen:()=>{ve.showLoading()}});try{let O=n.headerImage?await p(n.headerImage,`resorts/${Date.now()}_${n.headerImage.name}`):null,I=n.logo?await p(n.logo,`resorts/${Date.now()}_${n.logo.name}`):null;const D=await Promise.all(n.images.map(async R=>R?await p(R,`resorts/${Date.now()}_${R.name}`):"")),T=new ET;T.id="",T.name=n.name,T.category=n.category||s,T.subcategory=n.subcategory||o,T.classification=n.classification||u,T.established=n.established,T.lowest=n.lowest,T.slogan=n.slogan,T.description=n.description,T.facilities=n.facilities||[],T.activities=n.activities||[],T.images=D,T.operatinghours=n.operatinghours||[],T.accessibility=n.accessibility||[],T.logo=I,T.headerImage=O,T.website=n.website,T.address={...n.address},T.link=n.link,T.geo=n.geo,T.socials=n.socials||[],T.note=n.note;const F=await Or(Jt(Ve,"resorts"),T.toJSON()),_=gt(Ve,"resorts",F.id);await rn(_,{id:F.id}),ve.fire({title:"Recreational Resort Submitted",text:"Your resort has been submitted successfully!",icon:"success"}),E(),w()}catch(O){console.error("Error submitting resort:",O),ve.fire({title:"Error",text:"There was an issue submitting your resort. Please try again.",icon:"error"})}},w=()=>{r(C=>({...C,headerImage:null}))},E=()=>{r({id:"",name:"",category:"",subcategory:"",classification:"",established:"",lowest:"",slogan:"",description:"",facilities:[],activities:[],images:[],operatinghours:[],accessibility:[],logo:null,headerImage:null,website:"",address:{street:"",barangay:"",town:"",region:"",province:"",country:"",lat:"",long:""},link:"",geo:"",socials:[],note:[]}),e(C=>C+1),i(""),h(""),c("")};return a.jsxs(v,{className:"custom-form body-container",onSubmit:y,onKeyDown:C=>C.key==="Enter"&&C.preventDefault(),children:[a.jsxs(V,{className:"row mb-4",children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"category",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Category"}),a.jsx(v.Control,{type:"text",placeholder:"Enter Category",name:"category",value:n.category||"Hospitality & Lodging",onChange:f,readOnly:!0})]})}),a.jsxs(z,{md:6,children:[a.jsxs(v.Group,{controlId:"subcategory",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Category"}),a.jsx(v.Control,{type:"text",placeholder:"Enter Subcategory",name:"subcategory",value:n.subcategory||"Accommodation Establishments",onChange:f,readOnly:!0})]}),o&&$a[o]&&a.jsxs(v.Group,{controlId:"formClassification",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Classification"}),a.jsxs(v.Select,{value:n.classification||"",onChange:C=>{const O=C.target.value;h(O),r(I=>({...I,classification:O}))},children:[a.jsx("option",{value:"",children:"Select Classification"}),(j=$a[o])==null?void 0:j.map((C,O)=>a.jsx("option",{value:C,children:C},O))]})]})]})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"name",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Business Logo"}),a.jsx(Mo,{storyForm:n,setStoryForm:r,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small",caption:"Drag & Drop Logo here",required:!0})]})}),a.jsx(z,{md:6,children:a.jsx(B,{})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Business Name"}),a.jsx(v.Control,{type:"text",placeholder:"Enter business name",name:"name",value:n.name,onChange:f,required:!0})]})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:9,children:a.jsxs(v.Group,{controlId:"slogan",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Business Slogan/Phrase/Tagline"}),a.jsx(v.Control,{type:"text",placeholder:"Enter business slogan/phrase/tagline",name:"slogan",value:n.slogan,onChange:f})]})}),a.jsx(z,{md:3,children:a.jsxs(v.Group,{controlId:"established",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Year Established"}),a.jsx(v.Control,{type:"text",placeholder:"e.g.: 2000",name:"established",required:!0,value:n.established,onChange:C=>{const O=C.target.value;/^\d*\.?\d*$/.test(O)&&f(C)}})]})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"description",className:"mb-5 mt-2",children:[a.jsx(v.Label,{className:"label",children:"Brief Description"}),a.jsx(On,{theme:"snow",value:n.description||"",onChange:C=>f(C,"description"),required:!0,style:{height:"300px"}})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Si,{groupData:n,setGroupData:r,resetKey:t})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Ci,{onLocationSelect:g,name:n.name||"",resetKey:t})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"link",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Google Map Link"}),a.jsx(v.Control,{type:"text",placeholder:"Select Location First",name:"link",value:n.link,onChange:f,readOnly:!0})]})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"lat",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Lattitude"}),a.jsx(v.Control,{type:"text",placeholder:"Select Location First",name:"lat",value:n.address.lat,onChange:f,readOnly:!0})]})}),a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"long",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Longitude"}),a.jsx(v.Control,{type:"text",placeholder:"Select Location First",name:"long",value:n.address.long,onChange:f,readOnly:!0})]})})]}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"accessibility",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Geographical Location"}),a.jsxs(v.Select,{name:"geo",value:n.geo,onChange:f,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Geo Location"}),Ni.map((C,O)=>a.jsx("option",{value:C,children:C},O))]})]})}),a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"accessibility",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Accessibility"}),a.jsxs(v.Select,{name:"accessibility",value:n.accessibility,onChange:f,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Accessibility"}),Fo.map((C,O)=>a.jsx("option",{value:C,children:C},O))]})]})})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Cover Photo"}),a.jsx(mn,{storyForm:n,setStoryForm:r,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",children:[a.jsx(v.Label,{className:"label me-2",children:"Promotional & Marketing Photos"}),a.jsx(Rs,{dataForm:n,setDataForm:r,caption:"Drag & drop images or click to select (Max: 10)",dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"})]})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"website",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Official Website Link"}),a.jsx(v.Control,{type:"text",placeholder:"Enter website link",name:"website",value:n.website,onChange:f})]})}),a.jsx(z,{md:6,children:a.jsx($e,{onChange:C=>f(C,"socials"),label:"Social Media Links (Type & Enter)",editingItems:n.socials,resetKey:t})})]}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsx($e,{onChange:C=>f(C,"operatinghours"),label:"Operating Hours (Type & Enter)",editingItems:n.operatinghours,resetKey:t,caption:"format: hh:mm A  | e.g. 08:00 AM"})}),a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"lowest",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Lowest Price"}),a.jsx("p",{className:"subtitle",children:"format: 00000.00 | e.g. 12000.00"}),a.jsx(v.Control,{type:"text",placeholder:"Enter Lowest Price",name:"lowest",value:n.lowest,onChange:C=>{const O=C.target.value;/^\d*\.?\d*$/.test(O)&&f(C)}})]})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(qn,{onChange:C=>f(C,"facilities"),label:"Facilities (Search, Select & Enter)",resetKey:t,options:lK,editingItems:n.facilities,required:!0})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(qn,{onChange:C=>f(C,"activities"),label:"Activities To do (Search, Select & Enter)",resetKey:t,options:cK,editingItems:n.activities,required:!0})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"note",className:"mb-5 mt-2",children:[a.jsx(v.Label,{className:"label",children:"Notes, Reminders, Remarks, and Other Details"}),a.jsx(On,{theme:"snow",value:n.note||"",onChange:C=>f(C,"note"),required:!0,style:{height:"300px"}})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:E,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:y,children:"Submit Resort"})]})}),a.jsx(B,{className:"empty-container"})]})}function Mke({editingItem:t,toAddForm:e}){var R;const[n,r]=S.useState(0),[s,i]=S.useState(new ET),[o,c]=S.useState(""),[u,h]=S.useState(""),[f,g]=S.useState(""),p=(b,A)=>{if(Array.isArray(b))i(L=>({...L,[A]:b}));else if(typeof b=="string")i(L=>({...L,[A]:b}));else{const{name:L,value:U}=b.target;i(P=>({...P,[L]:U}))}},y=(b,A)=>{if(!b){console.warn("handleLocationSelect received null position.");return}i(L=>({...L,address:{...L.address,lat:b.lat||"",long:b.lng||""},link:A||""}))};S.useEffect(()=>{t&&(i(b=>({...b,id:t.id||"",name:t.name||"",category:t.category||"",subcategory:t.subcategory||"",classification:t.classification||"",established:t.established||"",lowest:t.lowest||"",slogan:t.slogan||"",description:t.description||"",facilities:t.facilities||[],activities:t.activities||[],images:t.images||[],operatinghours:t.operatinghours||[],accessibility:t.accessibility||"",logo:t.logo||"",headerImage:t.headerImage||"",website:t.website||"",address:{street:t.address.street||"",barangay:t.address.barangay||"",town:t.address.town||"",region:t.address.region||"",province:t.address.province||"",country:t.address.country||"",lat:t.address.lat||"",long:t.address.long||""},link:t.link||"",geo:t.geo||"",socials:t.socials||[],note:t.note||""})),t.category?(c(t.category||""),h(t.subcategory||""),g(t.classification||"")):(c("Hospitality & Lodging"),h("Recreational Resorts")))},[t]);const w=async(b,A)=>{const L=Wt(en,A);return await Qt(L,b),await Zt(L)},E=async b=>{b.preventDefault(),ve.fire({title:"Submitting...",text:"Please wait while we submit your accommodation data.",allowOutsideClick:!1,didOpen:()=>{ve.showLoading()}});try{let A=s.headerImage,L=s.logo;s.headerImage instanceof File&&(t&&t.headerImage&&await $t(t.headerImage),A=await w(s.headerImage,`resorts/${Date.now()}_${s.headerImage.name}`)),s.logo instanceof File&&(t&&t.logo&&await $t(t.logo),L=await w(s.logo,`resorts/${Date.now()}_${s.logo.name}`));const U=await Promise.all(s.images.map(async(G,re)=>G instanceof File?(t&&t.images&&t.images[re]&&await $t(t.images[re]),await w(G,`resorts/${Date.now()}_${G.name}`)):G)),P={id:t?t.id:"",name:s.name,category:s.category||o,subcategory:s.subcategory||u,classification:s.classification||f,established:s.established,lowest:s.lowest,slogan:s.slogan,description:s.description,facilities:s.facilities||[],activities:s.activities||[],images:U,operatinghours:s.operatinghours||[],inclusivity:s.inclusivity||[],accessibility:s.accessibility||[],logo:L,headerImage:A,website:s.website,address:{...s.address},link:s.link,geo:s.geo,socials:s.socials||[],note:s.note},K=gt(Ve,"resorts",s.id);try{await rn(K,P),ve.fire({title:"Resorts Updated",text:"Your resort has been updated successfully!",icon:"success"})}catch(G){console.error("Error updating resort:",G),ve.fire({title:"Update Failed",text:"There was an error updating the resort.",icon:"error"})}C(),j(),e()}catch(A){console.error("Error submitting resort:",A),ve.fire({title:"Error",text:"There was an issue submitting your resort. Please try again.",icon:"error"})}},j=()=>{i(b=>({...b,headerImage:null}))},C=()=>{i({id:"",name:"",category:"",subcategory:"",classification:"",established:"",lowest:"",slogan:"",description:"",facilities:[],activities:[],images:[],operatinghours:[],accessibility:[],logo:null,headerImage:null,website:"",address:{street:"",barangay:"",town:"",region:"",province:"",country:"",lat:"",long:""},link:"",geo:"",socials:[],note:[]}),r(b=>b+1),c(""),g(""),h("")},[O,I]=S.useState(!1),D=()=>{I(!O)},[T,F]=S.useState(!1),_=()=>{F(!T)};return a.jsxs(v,{className:"custom-form body-container",onSubmit:E,onKeyDown:b=>b.key==="Enter"&&b.preventDefault(),children:[a.jsxs(V,{className:"row mb-4",children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"category",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Category"}),a.jsx(v.Control,{type:"text",placeholder:"Enter Category",name:"category",value:s.category||"Hospitality & Lodging",onChange:p,readOnly:!0})]})}),a.jsxs(z,{md:6,children:[a.jsxs(v.Group,{controlId:"subcategory",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Category"}),a.jsx(v.Control,{type:"text",placeholder:"Enter Subcategory",name:"subcategory",value:s.subcategory||"Accommodation Establishments",onChange:p,readOnly:!0})]}),u&&$a[u]&&a.jsxs(v.Group,{controlId:"formClassification",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Classification"}),a.jsxs(v.Select,{value:s.classification||"",onChange:b=>{const A=b.target.value;g(A),i(L=>({...L,classification:A}))},children:[a.jsx("option",{value:"",children:"Select Classification"}),(R=$a[u])==null?void 0:R.map((b,A)=>a.jsx("option",{value:b,children:b},A))]})]})]})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"name",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Business Logo"}),a.jsx(Mo,{storyForm:s,setStoryForm:i,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small",caption:"Drag & Drop Logo here",required:!0})]})}),a.jsx(z,{md:6,children:a.jsx(B,{})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Business Name"}),a.jsx(v.Control,{type:"text",placeholder:"Enter business name",name:"name",value:s.name,onChange:p,required:!0})]})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:9,children:a.jsxs(v.Group,{controlId:"slogan",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Business Slogan/Phrase/Tagline"}),a.jsx(v.Control,{type:"text",placeholder:"Enter business slogan/phrase/tagline",name:"slogan",value:s.slogan,onChange:p})]})}),a.jsx(z,{md:3,children:a.jsxs(v.Group,{controlId:"established",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Year Established"}),a.jsx(v.Control,{type:"text",placeholder:"e.g.: 2000",name:"established",required:!0,value:s.established,onChange:b=>{const A=b.target.value;/^\d*\.?\d*$/.test(A)&&p(b)}})]})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"description",className:"mb-5 mt-2",children:[a.jsx(v.Label,{className:"label",children:"Brief Description"}),a.jsx(On,{theme:"snow",value:s.description||"",onChange:b=>p(b,"description"),required:!0,style:{height:"300px"}})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:O?a.jsx(Si,{groupData:s,setGroupData:i,resetKey:n}):a.jsxs(v.Group,{className:"mt-3 mb-3",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[a.jsx(v.Label,{className:"label mb-2",children:"Local Business Address"}),a.jsx(se,{variant:"outline-danger",className:"mb-2",onClick:D,children:O?"Cancel":"Edit Address"})]}),a.jsxs(a.Fragment,{children:[a.jsx(v.Control,{className:"mb-3",type:"text",name:"address.country",placeholder:"Country",value:s.address.country,readOnly:!0}),a.jsx(v.Control,{className:"my-3",type:"text",name:"address.region",placeholder:"Region",value:s.address.region,readOnly:!0}),a.jsx(v.Control,{className:"my-3",type:"text",name:"address.province",placeholder:"Province",value:s.address.province,readOnly:!0}),a.jsx(v.Control,{className:"my-3",type:"text",name:"address.city",placeholder:"City/Municipality/Town",value:s.address.town,readOnly:!0}),a.jsx(v.Control,{className:"my-3",type:"text",name:"address.barangay",placeholder:"Barangay",value:s.address.barangay,readOnly:!0}),a.jsx(v.Control,{className:"my-3",type:"text",name:"address.street",placeholder:"Street Name / Zone (Optional)",value:s.address.street,readOnly:!0})]})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:T?a.jsx(Ci,{onLocationSelect:y,name:s.name||"",resetKey:n,editingItems:s.address}):a.jsxs(v.Group,{className:"mt-3 mb-3",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[a.jsx(v.Label,{className:"label mb-2",children:"Local Business Address"}),a.jsx(se,{variant:"outline-danger",className:"mb-2",onClick:_,children:T?"Cancel":"Edit Map Location"})]}),a.jsx(sf,{latitude:s.address.lat,longitude:s.address.long})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"link",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Google Map Link"}),a.jsx(v.Control,{type:"text",placeholder:"Select Location First",name:"link",value:s.link,onChange:p,readOnly:!0})]})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"lat",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Lattitude"}),a.jsx(v.Control,{type:"text",placeholder:"Select Location First",name:"lat",value:s.address.lat,onChange:p,readOnly:!0})]})}),a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"long",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Longitude"}),a.jsx(v.Control,{type:"text",placeholder:"Select Location First",name:"long",value:s.address.long,onChange:p,readOnly:!0})]})})]}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"accessibility",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Geographical Location"}),a.jsxs(v.Select,{name:"geo",value:s.geo,onChange:p,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Geo Location"}),Ni.map((b,A)=>a.jsx("option",{value:b,children:b},A))]})]})}),a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"accessibility",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Accessibility"}),a.jsxs(v.Select,{name:"accessibility",value:s.accessibility,onChange:p,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Accessibility"}),Fo.map((b,A)=>a.jsx("option",{value:b,children:b},A))]})]})})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Cover Photo"}),a.jsx(mn,{storyForm:s,setStoryForm:i,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",children:[a.jsx(v.Label,{className:"label me-2",children:"Promotional & Marketing Photos"}),a.jsx(Rs,{dataForm:s,setDataForm:i,caption:"Drag & drop images or click to select (Max: 10)",dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"})]})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"website",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Official Website Link"}),a.jsx(v.Control,{type:"text",placeholder:"Enter website link",name:"website",value:s.website,onChange:p})]})}),a.jsx(z,{md:6,children:a.jsx($e,{onChange:b=>p(b,"socials"),label:"Social Media Links (Type & Enter)",editingItems:s.socials,resetKey:n})})]}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsx($e,{onChange:b=>p(b,"operatinghours"),label:"Operating Hours (Type & Enter)",editingItems:s.operatinghours,resetKey:n,caption:"format: hh:mm A  | e.g. 08:00 AM"})}),a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"lowest",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Lowest Price"}),a.jsx("p",{className:"subtitle",children:"format: 00000.00 | e.g. 12000.00"}),a.jsx(v.Control,{type:"text",placeholder:"Enter Lowest Price",name:"lowest",value:s.lowest,onChange:b=>{const A=b.target.value;/^\d*\.?\d*$/.test(A)&&p(b)}})]})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(qn,{onChange:b=>p(b,"facilities"),label:"Facilities (Search, Select & Enter)",resetKey:n,options:lK,editingItems:s.facilities,required:!0})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(qn,{onChange:b=>p(b,"activities"),label:"Activities To do (Search, Select & Enter)",resetKey:n,options:cK,editingItems:s.activities,required:!0})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"note",className:"mb-5 mt-2",children:[a.jsx(v.Label,{className:"label",children:"Notes, Reminders, Remarks, and Other Details"}),a.jsx(On,{theme:"snow",value:s.note||"",onChange:b=>p(b,"note"),required:!0,style:{height:"300px"}})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:C,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:E,children:"Submit Update"})]})}),a.jsx(B,{className:"empty-container"})]})}const Fke=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(""),[s,i]=S.useState(""),[o,c]=S.useState(""),[u,h]=S.useState(""),[f,g]=S.useState(""),[p,y]=S.useState("asc"),[w,E]=S.useState(0),[j,C]=S.useState(null),O=10;S.useEffect(()=>{T()},[]);const[I,D]=S.useState(!0),T=async()=>{try{const re=(await Rr(Jt(Ve,"resorts"))).docs.map(Z=>({id:Z.id,...Z.data()}));e(re)}catch(G){console.error("Error fetching data:",G)}finally{D(!1)}},F=G=>{C(G)},_=async G=>{ve.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then(async re=>{re.isConfirmed&&(await kr(gt(Ve,"resorts",G)),T(),ve.fire("Deleted!","Your entry has been deleted.","success"))})},R=t.filter(G=>{const re=o===""||G.subcategory===o,Z=s===""||G.classification===s,me=u===""||G.geo===u,ie=f===""||G.address.barangay===f,W=n.toLowerCase(),ye=G.name.toLowerCase().includes(W)||G.established.toLowerCase().includes(W)||G.category.toLowerCase().includes(W)||G.subcategory.toLowerCase().includes(W)||G.classification.toLowerCase().includes(W)||G.geo.toLowerCase().includes(W)||G.address.barangay.toLowerCase().includes(W)||G.address.street.toLowerCase().includes(W);return re&&Z&&me&&ie&&ye}),b=()=>new Date().toISOString().split("T")[0],A=()=>{const G=t.map(({name:me,established:ie,category:W,subcategory:ye,classification:Q,...ne})=>({...ne,facilities:Array.isArray(ne.facilities)?ne.facilities.join(", "):"",activities:Array.isArray(ne.activities)?ne.activities.join(", "):"",images:Array.isArray(ne.images)?ne.images.join(", "):"",operatinghours:Array.isArray(ne.operatinghours)?ne.operatinghours.join(", "):"",socials:Array.isArray(ne.socials)?ne.socials.join(", "):"",address:ne.address?JSON.stringify(ne.address):""})),re=vt.json_to_sheet(G),Z=vt.book_new();vt.book_append_sheet(Z,re,"Data"),Fr(Z,`tourism_stories_infoguide_${b()}.xlsx`)},L=Math.ceil(R.length/O),U=R.slice(w*O,(w+1)*O),P=({selected:G})=>{E(G)},K=()=>{C(null)};return a.jsxs(B,{children:[a.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Recreational Resorts"}),a.jsx("p",{children:"List of LGU-Recognized Recreational Resorts in Mainland Malay"}),a.jsxs(V,{children:[a.jsx(z,{md:6,className:"mb-1 me-2 col",children:a.jsx(v.Control,{type:"text",placeholder:`Search up to over ${t.length} recreational resorts`,value:n,onChange:G=>r(G.target.value)})}),a.jsx(z,{md:2,className:"mb-1 me-2 col",children:a.jsxs(v.Select,{value:o,onChange:G=>c(G.target.value),children:[a.jsx("option",{value:"",children:"All Subcategories"}),[...new Set(t.map(G=>G.subcategory))].map((G,re)=>a.jsx("option",{value:G,children:G},re))]})}),a.jsx(z,{md:2,className:"mb-1 me-2 col",children:a.jsxs(v.Select,{value:s,onChange:G=>i(G.target.value),children:[a.jsx("option",{value:"",children:"All Classifications"}),[...new Set(t.map(G=>G.classification))].map((G,re)=>a.jsx("option",{value:G,children:G},re))]})})]}),a.jsxs(V,{children:[a.jsx(z,{md:2,className:"mb-1 me-2 col",children:a.jsxs(v.Select,{value:u,onChange:G=>c(G.target.value),children:[a.jsx("option",{value:"",children:"All Geographical Location"}),[...new Set(t.map(G=>G.geo))].map((G,re)=>a.jsx("option",{value:G,children:G},re))]})}),a.jsx(z,{md:2,className:"mb-1 me-2 col",children:a.jsxs(v.Select,{value:f,onChange:G=>g(G.target.value),children:[a.jsx("option",{value:"",children:"All Barangays"}),[...new Set(t.map(G=>G.address.barangay))].map((G,re)=>a.jsx("option",{value:G,children:G},re))]})}),a.jsxs(B,{className:"d-flex justify-content-end align-items-center mt-2 mb-4",children:[a.jsxs(se,{variant:"outline-secondary",className:"me-2",onClick:T,children:[a.jsx(we,{icon:Pr,size:"xs",fixedWidth:!0})," Refresh List"]}),a.jsxs(se,{variant:"outline-success",onClick:K,children:[a.jsx(we,{icon:Dr,size:"xs",fixedWidth:!0})," Add New"]})]})]}),I?a.jsx("div",{className:"d-flex justify-content-center align-items-center my-5",children:a.jsx(Sr,{animation:"border",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):U.length===0?a.jsx("div",{className:"text-center my-5",children:a.jsx("h5",{children:"No Data Available"})}):a.jsxs(Lr,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Business Name"}),a.jsx("th",{children:"Established"}),a.jsx("th",{children:"Category"}),a.jsx("th",{children:"SubCategory"}),a.jsx("th",{children:"Classification"}),a.jsx("th",{children:"Geo Location"}),a.jsx("th",{children:"Barangay"}),a.jsx("th",{children:"Street"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:U.map(G=>a.jsxs("tr",{children:[a.jsx("td",{children:G.name}),a.jsx("td",{children:G.established}),a.jsx("td",{children:G.category}),a.jsx("td",{children:G.subcategory}),a.jsx("td",{children:G.classification}),a.jsx("td",{children:G.geo}),a.jsx("td",{children:G.address.barangay}),a.jsx("td",{children:G.address.street}),a.jsx("td",{children:a.jsxs(B,{className:"d-flex justify-content-center align-items-center",children:[a.jsx(Xt,{placement:"top",overlay:a.jsx(Gt,{children:"Edit"}),children:a.jsx(se,{variant:"outline-secondary",size:"sm",className:"me-2",onClick:()=>F(G),children:a.jsx(we,{icon:Ir,size:"xs",fixedWidth:!0})})}),a.jsx(Xt,{placement:"top",overlay:a.jsx(Gt,{children:"Delete"}),children:a.jsx(se,{variant:"outline-danger",size:"sm",onClick:()=>_(G.id),children:a.jsx(we,{icon:Pt,size:"xs",fixedWidth:!0})})})]})})]},G.id))})]}),a.jsxs(B,{className:"d-flex justify-content-between align-items-center mb-4 mt-2",children:[a.jsx(se,{onClick:A,variant:"outline-success",children:"Download Excel"}),a.jsx(Mr,{previousLabel:"",nextLabel:"",pageCount:L,onPageChange:P,containerClassName:"pagination mb-0",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})]}),a.jsx(B,{className:"empty-container"}),j?a.jsx(Mke,{editingItem:j,toAddForm:()=>C(null)}):a.jsx(Dke,{})]})};class jT{constructor(){this.id="",this.name="",this.category="",this.subcategory="",this.classification="",this.accreditation="",this.established="",this.lowest="",this.slogan="",this.description="",this.facilities=[],this.activities=[],this.awards=[],this.images=[],this.operatinghours=[],this.inclusivity=[],this.accessibility="",this.logo=null,this.headerImage=null,this.website="",this.address={street:"",barangay:"",town:"",region:"",province:"",country:"",lat:"",long:""},this.link="",this.geo="",this.socials=[],this.memberships=[],this.note=""}toJSON(){return{...this}}}function Bke({category:t,subcategory:e}){var D;const[n,r]=S.useState(0),[s,i]=S.useState(new jT),[o,c]=S.useState(""),[u,h]=S.useState(""),[f,g]=S.useState(""),p=(T,F)=>{if(Array.isArray(T))i(_=>({..._,[F]:T}));else if(typeof T=="string")i(_=>({..._,[F]:T}));else{const{name:_,value:R}=T.target;i(b=>({...b,[_]:R}))}},y=(T,F)=>{if(!T){console.warn("handleLocationSelect received null position.");return}i(_=>({..._,address:{..._.address,lat:T.lat||"",long:T.lng||""},link:F||""}))};S.useEffect(()=>{s.accreditation||(i(T=>({...T,category:t,subcategory:e})),c(t),h(e))},[i,t,e]);const[w,E]=S.useState("");S.useEffect(()=>{if(e){const T=e.replace(/([A-Z])/g," $1").replace(/^./,F=>F.toUpperCase()).trim();E(T)}},[e]);const j=async(T,F)=>{const _=Wt(en,F);return await Qt(_,T),await Zt(_)},C=async T=>{T.preventDefault(),ve.fire({title:"Submitting...",text:`Please wait while we submit your ${e} data.`,allowOutsideClick:!1,didOpen:()=>{ve.showLoading()}});try{let F=s.headerImage?await j(s.headerImage,`${e}/${Date.now()}_${s.headerImage.name}`):null,_=s.logo?await j(s.logo,`${e}/${Date.now()}_${s.logo.name}`):null;const R=await Promise.all(s.images.map(async U=>U?await j(U,`${e}/${Date.now()}_${U.name}`):"")),b=new jT;b.id="",b.name=s.name,b.category=s.category||o,b.subcategory=s.subcategory||u,b.classification=s.classification||f,b.accreditation=s.accreditation,b.established=s.established,b.lowest=s.lowest,b.slogan=s.slogan,b.description=s.description,b.facilities=s.facilities||[],b.activities=s.activities||[],b.awards=s.awards||[],b.images=R,b.operatinghours=s.operatinghours||[],b.inclusivity=s.inclusivity||[],b.accessibility=s.accessibility||[],b.logo=_,b.headerImage=F,b.website=s.website,b.address={...s.address},b.link=s.link,b.geo=s.geo,b.socials=s.socials||[],b.memberships=s.memberships||[],b.note=s.note;const A=await Or(Jt(Ve,`${e}`),b.toJSON()),L=gt(Ve,`${e}`,A.id);await rn(L,{id:A.id}),ve.fire({title:`${e} Submitted`,text:"Your data has been submitted successfully!",icon:"success"}),I(),O()}catch(F){console.error("Error submitting data:",F),ve.fire({title:"Error",text:"There was an issue submitting your data. Please try again.",icon:"error"})}},O=()=>{i(T=>({...T,headerImage:null}))},I=()=>{i({id:"",name:"",category:"",subcategory:"",classification:"",accreditation:"",established:"",lowest:"",slogan:"",description:"",facilities:[],activities:[],awards:[],images:[],operatinghours:[],inclusivity:[],accessibility:[],logo:null,headerImage:null,website:"",address:{street:"",barangay:"",town:"",region:"",province:"",country:"",lat:"",long:""},link:"",geo:"",socials:[],memberships:[],note:[]}),r(T=>T+1),c(""),g(""),h("")};return a.jsxs(v,{className:"custom-form body-container",onSubmit:C,onKeyDown:T=>T.key==="Enter"&&T.preventDefault(),children:[a.jsxs(V,{className:"row mb-4",children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"category",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Category"}),a.jsx(v.Control,{type:"text",placeholder:"Enter Category",name:"category",value:s.category||"Hospitality & Lodging",onChange:p,readOnly:!0})]})}),a.jsxs(z,{md:6,children:[a.jsxs(v.Group,{controlId:"subcategory",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Category"}),a.jsx(v.Control,{type:"text",placeholder:"Enter Subcategory",name:"subcategory",value:s.subcategory,onChange:p,readOnly:!0})]}),u&&$a[u]&&a.jsxs(v.Group,{controlId:"formClassification",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Classification"}),a.jsxs(v.Select,{value:s.classification||"",onChange:T=>{const F=T.target.value;g(F),i(_=>({..._,classification:F}))},children:[a.jsx("option",{value:"",children:"Select Classification"}),(D=$a[u])==null?void 0:D.map((T,F)=>a.jsx("option",{value:T,children:T},F))]})]})]})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"name",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Business Logo"}),a.jsx(Mo,{storyForm:s,setStoryForm:i,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small",caption:"Drag & Drop Logo here",required:!0})]})}),a.jsx(z,{md:6,children:a.jsx(B,{})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Business Name"}),a.jsx(v.Control,{type:"text",placeholder:"Enter business name",name:"name",value:s.name,onChange:p,required:!0})]})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:9,children:a.jsxs(v.Group,{controlId:"slogan",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Business Slogan/Phrase/Tagline"}),a.jsx(v.Control,{type:"text",placeholder:"Enter business slogan/phrase/tagline",name:"slogan",value:s.slogan,onChange:p})]})}),a.jsx(z,{md:3,children:a.jsxs(v.Group,{controlId:"established",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Year Established"}),a.jsx(v.Control,{type:"text",placeholder:"e.g.: 2000",name:"established",required:!0,value:s.established,onChange:T=>{const F=T.target.value;/^\d*\.?\d*$/.test(F)&&p(T)}})]})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"description",className:"mb-5 mt-2",children:[a.jsx(v.Label,{className:"label",children:"Brief Description"}),a.jsx(On,{theme:"snow",value:s.description||"",onChange:T=>p(T,"description"),required:!0,style:{height:"300px"}})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Si,{groupData:s,setGroupData:i,resetKey:n})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Ci,{onLocationSelect:y,name:s.name||"",resetKey:n})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"link",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Google Map Link"}),a.jsx(v.Control,{type:"text",placeholder:"Select Location First",name:"link",value:s.link,onChange:p,readOnly:!0})]})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"lat",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Lattitude"}),a.jsx(v.Control,{type:"text",placeholder:"Select Location First",name:"lat",value:s.address.lat,onChange:p,readOnly:!0})]})}),a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"long",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Longitude"}),a.jsx(v.Control,{type:"text",placeholder:"Select Location First",name:"long",value:s.address.long,onChange:p,readOnly:!0})]})})]}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"accessibility",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Geographical Location"}),a.jsxs(v.Select,{name:"geo",value:s.geo,onChange:p,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Geo Location"}),Ni.map((T,F)=>a.jsx("option",{value:T,children:T},F))]})]})}),a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"accessibility",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Accessibility"}),a.jsxs(v.Select,{name:"accessibility",value:s.accessibility,onChange:p,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Accessibility"}),Fo.map((T,F)=>a.jsx("option",{value:T,children:T},F))]})]})})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Cover Photo"}),a.jsx(mn,{storyForm:s,setStoryForm:i,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",children:[a.jsx(v.Label,{className:"label me-2",children:"Promotional & Marketing Photos"}),a.jsx(Rs,{dataForm:s,setDataForm:i,caption:"Drag & drop images or click to select (Max: 10)",dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"})]})})}),a.jsxs(V,{className:"mt-4",children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"accreditation",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"DOT Accreditation No."}),a.jsx(v.Control,{type:"text",placeholder:"Enter accreditation (Optional)",name:"accreditation",value:s.accreditation,onChange:p})]})}),a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"ratings",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"DOT Rating"}),a.jsx(v.Control,{type:"text",placeholder:"Enter ratings (Optional)",name:"ratings",value:s.ratings,onChange:p})]})})]}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"website",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Official Website Link"}),a.jsx(v.Control,{type:"text",placeholder:"Enter website link",name:"website",value:s.website,onChange:p})]})}),a.jsx(z,{md:6,children:a.jsx($e,{onChange:T=>p(T,"socials"),label:"Social Media Links (Type & Enter)",editingItems:s.socials,resetKey:n})})]}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsx($e,{onChange:T=>p(T,"operatinghours"),label:"Operating Hours (Type & Enter)",editingItems:s.operatinghours,resetKey:n,caption:"format: hh:mm A  | e.g. 08:00 AM"})}),a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"lowest",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Lowest Price"}),a.jsx("p",{className:"subtitle",children:"format: 00000.00 | e.g. 12000.00"}),a.jsx(v.Control,{type:"text",placeholder:"Enter Lowest Price",name:"lowest",value:s.lowest,onChange:T=>{const F=T.target.value;/^\d*\.?\d*$/.test(F)&&p(T)}})]})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(qn,{onChange:T=>p(T,"inclusivity"),options:Tp,resetKey:n,editingItems:s.inclusivity,label:"Inclusivity (Search, Select & Enter)"})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(qn,{onChange:T=>p(T,"facilities"),label:"Facilities (Search, Select & Enter)",resetKey:n,editingItems:s.facilities,options:Ap,required:!0})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:T=>p(T,"activities"),editingItems:s.activities,resetKey:n,label:"Activities to do (Search, Select & Enter)"})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx($e,{label:"Organizational Memberships (Type & Enter)",onChange:T=>p(T,"memberships"),editingItems:s.memberships,resetKey:n})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:T=>p(T,"awards"),editingItems:s.awards,resetKey:n,label:"Awards, Recognitions, Seals and Certifications (Type & Enter)"})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"note",className:"mb-5 mt-2",children:[a.jsx(v.Label,{className:"label",children:"Notes, Reminders, Remarks, and Other Details"}),a.jsx(On,{theme:"snow",value:s.note||"",onChange:T=>p(T,"note"),required:!0,style:{height:"300px"}})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:I,children:"Reset Form"}),a.jsxs(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:C,children:["Submit ",w]})]})}),a.jsx(B,{className:"empty-container"})]})}function Uke({editingItem:t,toAddForm:e,category:n,subcategory:r}){var U;const[s,i]=S.useState(0),[o,c]=S.useState(new jT),[u,h]=S.useState(""),[f,g]=S.useState(""),[p,y]=S.useState(""),w=(P,K)=>{if(Array.isArray(P))c(G=>({...G,[K]:P}));else if(typeof P=="string")c(G=>({...G,[K]:P}));else{const{name:G,value:re}=P.target;c(Z=>({...Z,[G]:re}))}},E=(P,K)=>{if(!P){console.warn("handleLocationSelect received null position.");return}c(G=>({...G,address:{...G.address,lat:P.lat||"",long:P.lng||""},link:K||""}))};S.useEffect(()=>{t&&(c(P=>({...P,id:t.id||"",name:t.name||"",category:t.category||"",subcategory:t.subcategory||"",classification:t.classification||"",accreditation:t.accreditation||"",established:t.established||"",lowest:t.lowest||"",slogan:t.slogan||"",description:t.description||"",facilities:t.facilities||[],amenities:t.amenities||[],awards:t.awards||[],images:t.images||[],operatinghours:t.operatinghours||[],inclusivity:t.inclusivity||[],accessibility:t.accessibility||"",logo:t.logo||"",headerImage:t.headerImage||"",website:t.website||"",address:{street:t.address.street||"",barangay:t.address.barangay||"",town:t.address.town||"",region:t.address.region||"",province:t.address.province||"",country:t.address.country||"",lat:t.address.lat||"",long:t.address.long||""},link:t.link||"",geo:t.geo||"",socials:t.socials||[],memberships:t.memberships||[],note:t.note||""})),t.category?(h(t.category||""),g(t.subcategory||""),y(t.classification||"")):(h(n),g(r)))},[t]);const[j,C]=S.useState("");S.useEffect(()=>{if(r){const P=r.replace(/([A-Z])/g," $1").replace(/^./,K=>K.toUpperCase()).trim();C(P)}},[r]);const O=async(P,K)=>{const G=Wt(en,K);return await Qt(G,P),await Zt(G)},I=async P=>{P.preventDefault(),ve.fire({title:"Submitting...",text:`Please wait while we submit your ${r} data.`,allowOutsideClick:!1,didOpen:()=>{ve.showLoading()}});try{let K=o.headerImage,G=o.logo;o.headerImage instanceof File&&(t&&t.headerImage&&await $t(t.headerImage),K=await O(o.headerImage,`${r}/${Date.now()}_${o.headerImage.name}`)),o.logo instanceof File&&(t&&t.logo&&await $t(t.logo),G=await O(o.logo,`${r}/${Date.now()}_${o.logo.name}`));const re=await Promise.all(o.images.map(async(ie,W)=>ie instanceof File?(t&&t.images&&t.images[W]&&await $t(t.images[W]),await O(ie,`${r}/${Date.now()}_${ie.name}`)):ie)),Z={id:t?t.id:"",name:o.name,category:o.category||u,subcategory:o.subcategory||f,classification:o.classification||p,accreditation:o.accreditation,established:o.established,lowest:o.lowest,slogan:o.slogan,description:o.description,facilities:o.facilities||[],activities:o.activities||[],awards:o.awards||[],images:re,operatinghours:o.operatinghours||[],inclusivity:o.inclusivity||[],accessibility:o.accessibility||[],logo:G,headerImage:K,website:o.website,address:{...o.address},link:o.link,geo:o.geo,socials:o.socials||[],memberships:o.memberships||[],note:o.note},me=gt(Ve,`${r}`,o.id);try{await rn(me,Z),ve.fire({title:`${r} Updated`,text:"Your data has been updated successfully!",icon:"success"})}catch(ie){console.error("Error updating data:",ie),ve.fire({title:"Update Failed",text:"There was an error updating the data.",icon:"error"})}T(),D(),e()}catch(K){console.error("Error submitting data:",K),ve.fire({title:"Error",text:"There was an issue submitting your data. Please try again.",icon:"error"})}},D=()=>{c(P=>({...P,headerImage:null}))},T=()=>{c({id:"",name:"",category:"",subcategory:"",classification:"",accreditation:"",established:"",lowest:"",slogan:"",description:"",facilities:[],activities:[],awards:[],images:[],operatinghours:[],inclusivity:[],accessibility:[],logo:null,headerImage:null,website:"",address:{street:"",barangay:"",town:"",region:"",province:"",country:"",lat:"",long:""},link:"",geo:"",socials:[],memberships:[],note:[]}),i(P=>P+1),h(""),y(""),g("")},[F,_]=S.useState(!1),R=()=>{_(!F)},[b,A]=S.useState(!1),L=()=>{A(!b)};return a.jsxs(v,{className:"custom-form body-container",onSubmit:I,onKeyDown:P=>P.key==="Enter"&&P.preventDefault(),children:[a.jsxs(V,{className:"row mb-4",children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"category",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Category"}),a.jsx(v.Control,{type:"text",placeholder:"Enter accreditation (Optional)",name:"accreditation",value:o.category||"Hospitality & Lodging",onChange:w,readOnly:!0})]})}),a.jsxs(z,{md:6,children:[a.jsxs(v.Group,{controlId:"subcategory",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Category"}),a.jsx(v.Control,{type:"text",placeholder:"Enter Subcategory",name:"subcategory",value:o.subcategory||"Accommodation Establishments",onChange:w,readOnly:!0})]}),f&&$a[f]&&a.jsxs(v.Group,{controlId:"formClassification",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Classification"}),a.jsxs(v.Select,{value:o.classification||"",onChange:P=>{const K=P.target.value;y(K),c(G=>({...G,classification:K}))},children:[a.jsx("option",{value:"",children:"Select Classification"}),(U=$a[f])==null?void 0:U.map((P,K)=>a.jsx("option",{value:P,children:P},K))]})]})]})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"name",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Business Logo"}),a.jsx(Mo,{storyForm:o,setStoryForm:c,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small",caption:"Drag & Drop Logo here",required:!0})]})}),a.jsx(z,{md:6,children:a.jsx(B,{})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Business Name"}),a.jsx(v.Control,{type:"text",placeholder:"Enter business name",name:"name",value:o.name,onChange:w,required:!0})]})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:9,children:a.jsxs(v.Group,{controlId:"slogan",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Business Slogan/Phrase/Tagline"}),a.jsx(v.Control,{type:"text",placeholder:"Enter business slogan/phrase/tagline",name:"slogan",value:o.slogan,onChange:w})]})}),a.jsx(z,{md:3,children:a.jsxs(v.Group,{controlId:"established",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Year Established"}),a.jsx(v.Control,{type:"text",placeholder:"e.g.: 2000",name:"established",required:!0,value:o.established,onChange:P=>{const K=P.target.value;/^\d*\.?\d*$/.test(K)&&w(P)}})]})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"description",className:"mb-5 mt-2",children:[a.jsx(v.Label,{className:"label",children:"Brief Description"}),a.jsx(On,{theme:"snow",value:o.description||"",onChange:P=>w(P,"description"),required:!0,style:{height:"300px"}})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:F?a.jsx(Si,{groupData:o,setGroupData:c,resetKey:s}):a.jsxs(v.Group,{className:"mt-3 mb-3",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[a.jsx(v.Label,{className:"label mb-2",children:"Local Business Address"}),a.jsx(se,{variant:"outline-danger",className:"mb-2",onClick:R,children:F?"Cancel":"Edit Address"})]}),a.jsxs(a.Fragment,{children:[a.jsx(v.Control,{className:"mb-3",type:"text",name:"address.country",placeholder:"Country",value:o.address.country,readOnly:!0}),a.jsx(v.Control,{className:"my-3",type:"text",name:"address.region",placeholder:"Region",value:o.address.region,readOnly:!0}),a.jsx(v.Control,{className:"my-3",type:"text",name:"address.province",placeholder:"Province",value:o.address.province,readOnly:!0}),a.jsx(v.Control,{className:"my-3",type:"text",name:"address.city",placeholder:"City/Municipality/Town",value:o.address.town,readOnly:!0}),a.jsx(v.Control,{className:"my-3",type:"text",name:"address.barangay",placeholder:"Barangay",value:o.address.barangay,readOnly:!0}),a.jsx(v.Control,{className:"my-3",type:"text",name:"address.street",placeholder:"Street Name / Zone (Optional)",value:o.address.street,readOnly:!0})]})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:b?a.jsx(Ci,{onLocationSelect:E,name:o.name||"",resetKey:s,editingItems:o.address}):a.jsxs(v.Group,{className:"mt-3 mb-3",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[a.jsx(v.Label,{className:"label mb-2",children:"Local Business Address"}),a.jsx(se,{variant:"outline-danger",className:"mb-2",onClick:L,children:b?"Cancel":"Edit Map Location"})]}),a.jsx(sf,{latitude:o.address.lat,longitude:o.address.long})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"link",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Google Map Link"}),a.jsx(v.Control,{type:"text",placeholder:"Select Location First",name:"link",value:o.link,onChange:w,readOnly:!0})]})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"lat",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Lattitude"}),a.jsx(v.Control,{type:"text",placeholder:"Select Location First",name:"lat",value:o.address.lat,onChange:w,readOnly:!0})]})}),a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"long",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Longitude"}),a.jsx(v.Control,{type:"text",placeholder:"Select Location First",name:"long",value:o.address.long,onChange:w,readOnly:!0})]})})]}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"accessibility",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Geographical Location"}),a.jsxs(v.Select,{name:"geo",value:o.geo,onChange:w,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Geo Location"}),Ni.map((P,K)=>a.jsx("option",{value:P,children:P},K))]})]})}),a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"accessibility",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Accessibility"}),a.jsxs(v.Select,{name:"accessibility",value:o.accessibility,onChange:w,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Accessibility"}),Fo.map((P,K)=>a.jsx("option",{value:P,children:P},K))]})]})})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Cover Photo"}),a.jsx(mn,{storyForm:o,setStoryForm:c,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"})]})})}),a.jsx(V,{className:"mt-2 ",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",children:[a.jsx(v.Label,{className:"label",children:"Promotional & Marketing Photos"}),a.jsx(Rs,{dataForm:o,setDataForm:c,caption:"Drag & drop images or click to select (Max: 10)",dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"})]})})}),a.jsx(V,{className:"mt-4",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"accreditation",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"DOT Accreditation No."}),a.jsx(v.Control,{type:"text",placeholder:"Enter accreditation (Optional)",name:"accreditation",value:o.accreditation,onChange:w})]})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"website",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Official Website Link"}),a.jsx(v.Control,{type:"text",placeholder:"Enter website link",name:"website",value:o.website,onChange:w})]})}),a.jsx(z,{md:6,children:a.jsx($e,{onChange:P=>w(P,"socials"),label:"Social Media Links (Type & Enter)",editingItems:o.socials,resetKey:s})})]}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsx($e,{onChange:P=>w(P,"operatinghours"),label:"Operating Hours (Type & Enter)",editingItems:o.operatinghours,resetKey:s,caption:"format: hh:mm A  | e.g. 08:00 AM"})}),a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"lowest",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Lowest Price"}),a.jsx("p",{className:"subtitle",children:"format: 00000.00 | e.g. 12000.00"}),a.jsx(v.Control,{type:"text",placeholder:"Enter Lowest Price",name:"lowest",value:o.lowest,onChange:P=>{const K=P.target.value;/^\d*\.?\d*$/.test(K)&&w(P)}})]})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(qn,{onChange:P=>w(P,"inclusivity"),options:Tp,resetKey:s,label:"Inclusivity (Search, Select & Enter)",editingItems:o.inclusivity})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(qn,{onChange:P=>w(P,"facilities"),label:"Facilities (Search, Select & Enter)",resetKey:s,options:Ap,editingItems:o.facilities,required:!0})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:P=>w(P,"activities"),editingItems:o.activities,resetKey:s,label:"Activities to do (Search, Select & Enter)"})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx($e,{label:"Organizational Memberships (Type & Enter)",onChange:P=>w(P,"memberships"),editingItems:o.memberships,resetKey:s})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:P=>w(P,"awards"),editingItems:o.awards,resetKey:s,label:"Awards, Recognitions, Seals and Certifications (Type & Enter)"})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"note",className:"mb-5 mt-2",children:[a.jsx(v.Label,{className:"label",children:"Notes, Reminders, Remarks, and Other Details"}),a.jsx(On,{theme:"snow",value:o.note||"",onChange:P=>w(P,"note"),required:!0,style:{height:"300px"}})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:I,children:["Submit ",r]})})}),a.jsx(B,{className:"empty-container"})]})}const Za=({category:t,subcategory:e})=>{const[n,r]=S.useState([]),[s,i]=S.useState(""),[o,c]=S.useState(""),[u,h]=S.useState(""),[f,g]=S.useState(""),[p,y]=S.useState(""),[w,E]=S.useState("asc"),[j,C]=S.useState(0),[O,I]=S.useState(null),D=10;S.useEffect(()=>{b()},[]);const[T,F]=S.useState("");S.useEffect(()=>{if(e){const ie=e.replace(/([A-Z])/g," $1").replace(/^./,W=>W.toUpperCase()).trim();F(ie)}},[e]);const[_,R]=S.useState(!0),b=async()=>{try{const W=(await Rr(Jt(Ve,`${e}`))).docs.map(ye=>({id:ye.id,...ye.data()}));r(W)}catch(ie){console.error("Error fetching data:",ie)}finally{R(!1)}},A=ie=>{I(ie)},L=async ie=>{ve.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then(async W=>{W.isConfirmed&&(await kr(gt(Ve,`${e}`,ie)),b(),ve.fire("Deleted!","Your entry has been deleted.","success"))})},U=n.filter(ie=>{const W=u===""||ie.subcategory===u,ye=o===""||ie.classification===o,Q=f===""||ie.geo===f,ne=p===""||ie.address.barangay===p,te=s.toLowerCase(),X=ie.name.toLowerCase().includes(te)||ie.established.toLowerCase().includes(te)||ie.category.toLowerCase().includes(te)||ie.subcategory.toLowerCase().includes(te)||ie.classification.toLowerCase().includes(te)||ie.geo.toLowerCase().includes(te)||ie.address.barangay.toLowerCase().includes(te)||ie.address.street.toLowerCase().includes(te);return W&&ye&&Q&&ne&&X}),P=()=>new Date().toISOString().split("T")[0],K=()=>{const ie=n.map(({name:Q,established:ne,category:te,subcategory:X,classification:xe,...Ne})=>({...Ne,facilities:Array.isArray(Ne.facilities)?Ne.facilities.join(", "):"",activities:Array.isArray(Ne.activities)?Ne.activities.join(", "):"",awards:Array.isArray(Ne.awards)?Ne.awards.join(", "):"",images:Array.isArray(Ne.images)?Ne.images.join(", "):"",roomtypes:Array.isArray(Ne.roomtypes)?Ne.roomtypes.join(", "):"",operatinghours:Array.isArray(Ne.operatinghours)?Ne.operatinghours.join(", "):"",inclusivity:Array.isArray(Ne.inclusivity)?Ne.inclusivity.join(", "):"",socials:Array.isArray(Ne.socials)?Ne.socials.join(", "):"",memberships:Array.isArray(Ne.memberships)?Ne.memberships.join(", "):"",address:Ne.address?JSON.stringify(Ne.address):""})),W=vt.json_to_sheet(ie),ye=vt.book_new();vt.book_append_sheet(ye,W,"Data"),Fr(ye,`tourism_stories_infoguide_${P()}.xlsx`)},G=Math.ceil(U.length/D),re=U.slice(j*D,(j+1)*D),Z=({selected:ie})=>{C(ie)},me=()=>{I(null)};return a.jsxs(B,{children:[a.jsx("h1",{className:"text-2xl font-bold mb-1",children:T}),a.jsxs("p",{children:["List of DOT Accredited / LGU-Recognized ",T]}),a.jsxs(V,{children:[a.jsx(z,{md:6,className:"mb-1 me-2 col",children:a.jsx(v.Control,{type:"text",placeholder:`Search up to over ${n.length} ${T}`,value:s,onChange:ie=>i(ie.target.value)})}),a.jsx(z,{md:2,className:"mb-1 me-2 col",children:a.jsxs(v.Select,{value:u,onChange:ie=>h(ie.target.value),children:[a.jsx("option",{value:"",children:"All Subcategories"}),[...new Set(n.map(ie=>ie.subcategory))].map((ie,W)=>a.jsx("option",{value:ie,children:ie},W))]})}),a.jsx(z,{md:2,className:"mb-1 me-2 col",children:a.jsxs(v.Select,{value:o,onChange:ie=>c(ie.target.value),children:[a.jsx("option",{value:"",children:"All Classifications"}),[...new Set(n.map(ie=>ie.classification))].map((ie,W)=>a.jsx("option",{value:ie,children:ie},W))]})})]}),a.jsxs(V,{children:[a.jsx(z,{md:2,className:"mb-1 me-2 col",children:a.jsxs(v.Select,{value:f,onChange:ie=>h(ie.target.value),children:[a.jsx("option",{value:"",children:"All Geographical Location"}),[...new Set(n.map(ie=>ie.geo))].map((ie,W)=>a.jsx("option",{value:ie,children:ie},W))]})}),a.jsx(z,{md:2,className:"mb-1 me-2 col",children:a.jsxs(v.Select,{value:p,onChange:ie=>y(ie.target.value),children:[a.jsx("option",{value:"",children:"All Barangays"}),[...new Set(n.map(ie=>ie.address.barangay))].map((ie,W)=>a.jsx("option",{value:ie,children:ie},W))]})}),a.jsxs(B,{className:"d-flex justify-content-end align-items-center mt-2 mb-4",children:[a.jsxs(se,{variant:"outline-secondary",className:"me-2",onClick:b,children:[a.jsx(we,{icon:Pr,size:"xs",fixedWidth:!0})," Refresh List"]}),a.jsxs(se,{variant:"outline-success",onClick:me,children:[a.jsx(we,{icon:Dr,size:"xs",fixedWidth:!0})," Add New"]})]})]}),_?a.jsx("div",{className:"d-flex justify-content-center align-items-center my-5",children:a.jsx(Sr,{animation:"border",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):re.length===0?a.jsx("div",{className:"text-center my-5",children:a.jsx("h5",{children:"No Data Available"})}):a.jsxs(Lr,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Business Name"}),a.jsx("th",{children:"Established"}),a.jsx("th",{children:"Category"}),a.jsx("th",{children:"SubCategory"}),a.jsx("th",{children:"Classification"}),a.jsx("th",{children:"Geo Location"}),a.jsx("th",{children:"Barangay"}),a.jsx("th",{children:"Street"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:re.map(ie=>a.jsxs("tr",{children:[a.jsx("td",{children:ie.name}),a.jsx("td",{children:ie.established}),a.jsx("td",{children:ie.category}),a.jsx("td",{children:ie.subcategory}),a.jsx("td",{children:ie.classification}),a.jsx("td",{children:ie.geo}),a.jsx("td",{children:ie.address.barangay}),a.jsx("td",{children:ie.address.street}),a.jsx("td",{children:a.jsxs(B,{className:"d-flex justify-content-center align-items-center",children:[a.jsx(Xt,{placement:"top",overlay:a.jsx(Gt,{children:"Edit"}),children:a.jsx(se,{variant:"outline-secondary",size:"sm",className:"me-2",onClick:()=>A(ie),children:a.jsx(we,{icon:Ir,size:"xs",fixedWidth:!0})})}),a.jsx(Xt,{placement:"top",overlay:a.jsx(Gt,{children:"Delete"}),children:a.jsx(se,{variant:"outline-danger",size:"sm",onClick:()=>L(ie.id),children:a.jsx(we,{icon:Pt,size:"xs",fixedWidth:!0})})})]})})]},ie.id))})]}),a.jsxs(B,{className:"d-flex justify-content-between align-items-center mb-4 mt-2",children:[a.jsx(se,{onClick:K,variant:"outline-success",children:"Download Excel"}),a.jsx(Mr,{previousLabel:"",nextLabel:"",pageCount:G,onPageChange:Z,containerClassName:"pagination mb-0",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})]}),a.jsx(B,{className:"empty-container"}),O?a.jsx(Uke,{editingItem:O,toAddForm:()=>I(null),category:t,subcategory:e}):a.jsx(Bke,{category:t,subcategory:e})]})},zke=({index:t,section:e,onBodyImageDrop:n,dropzoneName:r="dropzone-container-small",previewName:s="dropzone-uploaded-image-small"})=>{const{getRootProps:i,getInputProps:o}=Vt({onDrop:u=>n(u,t),accept:"image/png, image/jpeg, image/jpg, video/mp4, video/webm, video/ogg"}),c=e.image?e.image instanceof File?URL.createObjectURL(e.image):e.image:null;return a.jsxs(B,{...i(),className:`${r} text-center w-100 ${c?"border-success":""}`,children:[a.jsx("input",{...o(),accept:"image/*,video/*"}),c?e.image instanceof File&&e.image.type.startsWith("video/")?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:c,type:e.image.type}),"Your browser does not support the video tag."]}):a.jsx("img",{src:c,alt:"Body Image Preview",className:s}):a.jsxs("p",{className:"text-muted",children:["Drag & Drop Image/Video Here or"," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})};function qke(){const[t,e]=S.useState(new t$),[n,r]=S.useState(0);S.useEffect(()=>{},[]);const s=()=>{e({id:"",dateTimeStart:"",dateTimeEnd:"",category:"",title:"",headerImage:null,headerImageSource:[],body:[{subtitle:"",body:"",image:null,image_source:""}],tags:[],references:[],socials:[],origin:[]}),r(T=>T+1)},i=(T,F)=>{if(Array.isArray(T))e(_=>({..._,[F]:T}));else if(typeof T=="string")e(_=>({..._,[F]:T}));else{const{name:_,value:R}=T.target;e(b=>({...b,[_]:R}))}},o=(T,F,_)=>{e(R=>{const b=[...R.body];return b[T]={...b[T],[F]:_},{...R,body:b}})},c=(T,F)=>{const _=T[0];_&&e(R=>{const b=[...R.body];return b[F]={...b[F],image:_,imageUrl:URL.createObjectURL(_)},{...R,body:b}})},u=()=>{e(T=>({...T,body:[...T.body,{subtitle:"",body:"",image:null,image_source:""}]}))},h=T=>{e(F=>{const _=F.body.filter((R,b)=>b!==T);return{...F,body:_}})},[f,g]=S.useState(null),[p,y]=S.useState(""),w=S.useCallback(T=>{T.length>0&&g(T[0])},[]),{getRootProps:E,getInputProps:j}=Vt({onDrop:w,accept:"image/*",disabled:!!p}),C=()=>{e(T=>({...T,headerImage:null}))},O=T=>{e(F=>{const _=[...F.body];return _[T]?(_[T]={..._[T],image:null},{...F,body:_}):F})},I=async(T,F)=>{const _=Wt(en,F);return await Qt(_,T),await Zt(_)},D=async T=>{T.preventDefault(),ve.fire({title:"Submitting...",text:"Please wait while we submit your update.",allowOutsideClick:!1,didOpen:()=>{ve.showLoading()}});try{let F=await I(t.headerImage,`updates/${Date.now()}_${t.headerImage}`);const _=await Promise.all(t.body.map(async(L,U)=>L.image?await I(L.image,`updates/${Date.now()}_${L.image.name}`):"")),R={id:"",dateTimeStart:t.dateTimeStart,dateTimeEnd:t.dateTimeEnd,category:t.category,title:t.title,headerImage:F,headerImageSource:t.headerImageSource,body:t.body.map((L,U)=>({subtitle:L.subtitle,body:L.body,image:_[U]||"",image_source:L.image_source})),tags:t.tags,references:t.references,socials:t.socials,origin:t.origin},b=await Or(Jt(Ve,"updates"),R),A=gt(Ve,"updates",b.id);await rn(A,{id:b.id}),ve.fire({title:"Update Submitted",text:"Your update has been submitted successfully!",icon:"success"}),s(),C()}catch(F){console.error("Error submitting update:",F),ve.fire({title:"Error",text:"There was an issue submitting your update. Please try again.",icon:"error"})}};return S.useRef(null),a.jsxs(v,{className:"custom-form body-container",onSubmit:D,onKeyDown:T=>T.key==="Enter"&&T.preventDefault(),children:[a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"category",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Category"}),a.jsxs(v.Select,{name:"category",value:t.category,onChange:i,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Category"}),n$.map((T,F)=>a.jsx("option",{value:T,children:T},F))]})]})}),a.jsx(z,{md:6,children:a.jsx(B,{className:"empty-container"})})]}),a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Start Date & Time"}),a.jsx(v.Control,{type:"datetime-local",name:"dateTimeStart",value:t.dateTimeStart,onChange:i,required:!0})]})}),a.jsx(z,{md:6,children:a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"End Date & Time"}),a.jsx(v.Control,{type:"datetime-local",name:"dateTimeEnd",value:t.dateTimeEnd,onChange:i,min:t.dateTimeStart,disabled:!t.dateTimeStart,required:!0})]})})]}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Title"}),a.jsx(v.Control,{type:"text",name:"title",className:"fw-bold",value:t.title,onChange:i,placeholder:"Enter title",required:!0})]})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{className:"my-2",children:[a.jsx(v.Label,{className:"label",children:"Upload Header Image (800x400)"}),a.jsx(mn,{storyForm:t,setStoryForm:e,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"}),a.jsxs(B,{className:"d-flex justify-content-between mt-2",children:[a.jsx("p",{className:"subtitle",children:"Supported File: PNG, JPEG, and JPG"}),a.jsx("p",{className:"subtitle",children:"Maximum size: 25MB"})]}),a.jsx(B,{className:"d-flex justify-content-end",children:f&&(p?null:a.jsxs(se,{className:"my-2",variant:"outline-danger",onClick:C,children:[a.jsx(we,{className:"button-icon",icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]}))})]})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:T=>i(T,"headerImageSource"),label:"Header Image Sources (Type & Enter)",editingItems:t.headerImageSource,resetKey:n})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsxs(z,{md:12,children:[a.jsx("p",{className:"label mb-2",children:"Body Sections"}),t.body.map((T,F)=>a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(B,{className:"empty-container"}),a.jsxs(v.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(v.Label,{className:"label",children:"Subtitle (Optional)"}),a.jsx(v.Control,{type:"text",className:"fw-bold",value:T.subtitle,onChange:_=>o(F,"subtitle",_.target.value)})]}),a.jsxs(z,{className:"col me-lg-2 me-md-1",children:[a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Image (Optional)"}),a.jsx(zke,{index:F,section:T,onBodyImageDrop:c,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"}),T.image&&a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{className:"mt-2 mb-1",variant:"outline-danger",onClick:()=>O(F),children:[a.jsx(we,{icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]})})]}),a.jsxs(v.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(v.Label,{className:"label",children:"Image Source (Optional)"}),a.jsx(v.Control,{placeholder:"e.g. @boracayphotos or /islanders or #trivago or www.trivago.com",type:"text",value:T.image_source,onChange:_=>o(F,"image_source",_.target.value)})]})]}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(v.Group,{className:"mb-5",children:[a.jsx(v.Label,{className:"label",children:"Body"}),a.jsx(rr,{index:F,section:T,handleBodyChange:o})]})}),t.body.length>1&&a.jsx(B,{className:"mb-4 d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-danger",type:"button",onClick:()=>h(F),className:"mt-3 w-full",children:[a.jsx(we,{icon:Pt,size:"xs",fixedWidth:!0})," Delete Section"]})})]},F)),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-success",type:"button",onClick:u,className:"mb-3",children:[a.jsx(we,{icon:nr,size:"xs",fixedWidth:!0})," Add Section"]})})]})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:T=>i(T,"origin"),label:"Origin Office (Type & Enter)",editingItems:t.origin,resetKey:n,caption:"the office where the update originated or referring to"})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:T=>i(T,"references"),label:"References (Type & Enter)",caption:"postings or website links to redirect users",editingItems:t.references,resetKey:n})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:T=>i(T,"socials"),label:"Social Media Link (Type & Enter)",caption:"social media links of subject",editingItems:t.socials,resetKey:n})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:T=>i(T,"tags"),label:"Tags (Type & Enter)",editingItems:t.tags,resetKey:n,caption:"imporant tags for Optimization"})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",onClick:s,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full",onClick:D,children:"Submit Update"})]})]})}const $ke=({index:t,section:e,onBodyImageDrop:n,dropzoneName:r="dropzone-container-small",previewName:s="dropzone-uploaded-image-small"})=>{const{getRootProps:i,getInputProps:o}=Vt({onDrop:y=>n(y,t),accept:"image/png, image/jpeg, image/jpg, video/mp4, video/webm, video/ogg"}),c=e.image instanceof File,u=typeof e.image=="string"&&/\.(mp4|webm|ogg)(\?.*)?$/i.test(e.image),h=typeof e.image=="string"&&!u,f=c?URL.createObjectURL(e.image):null,g=h?e.image:null,p=u?e.image:null;return a.jsxs(B,{...i(),className:`${r} text-center w-100 ${f||g||p?"border-success":""}`,children:[a.jsx("input",{...o(),accept:"image/*,video/*"}),f?e.image.type.startsWith("video/")?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:f,type:e.image.type}),"Your browser does not support the video tag."]}):a.jsx("img",{src:f,alt:"Uploaded File Preview",className:s}):p?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:p,type:"video/mp4"}),"Your browser does not support the video tag."]}):g?a.jsx("img",{src:g,alt:"Image URL Preview",className:s}):a.jsxs("p",{className:"text-muted",children:["Drag & Drop Image/Video Here or"," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})};function Vke({editingItem:t,toAddForm:e}){const[n,r]=S.useState(new t$),[s,i]=S.useState(0),[o,c]=S.useState("");S.useEffect(()=>{t&&(r(b=>({...b,id:t.id||"",dateTimeStart:t.dateTimeStart||"",dateTimeEnd:t.dateTimeEnd||"",category:t.category||"",title:t.title||"",headerImage:t.headerImage||"",headerImageSource:t.headerImageSource||[],body:t.body.map((A,L)=>({subtitle:A.subtitle||"",body:A.body||"",image:A.image||"",image_source:A.image_source||""})),tags:t.tags||[],references:t.references||[],socials:t.socials||[],origin:t.origin||[]})),t.category&&c(t.category||""))},[t]);const u=()=>{r({id:"",dateTimeStart:"",dateTimeEnd:"",category:"",title:"",headerImage:null,headerImageSource:[],body:[{subtitle:"",body:"",image:null,image_source:""}],tags:[],references:[],socials:[],origin:[]}),i(b=>b+1)},h=(b,A)=>{if(Array.isArray(b))r(L=>({...L,[A]:b}));else if(typeof b=="string")r(L=>({...L,[A]:b}));else{const{name:L,value:U}=b.target;r(P=>({...P,[L]:U}))}},f=(b,A,L)=>{r(U=>{const P=[...U.body];return P[b]={...P[b],[A]:L},{...U,body:P}})},g=(b,A)=>{const L=b[0];L&&r(U=>{const P=[...U.body];return P[A]={...P[A],image:L,imageUrl:URL.createObjectURL(L)},{...U,body:P}})},p=()=>{r(b=>({...b,body:[...b.body,{subtitle:"",body:"",image:null,image_source:""}]}))},y=b=>{r(A=>{const L=A.body.filter((U,P)=>P!==b);return{...A,body:L}})},[w,E]=S.useState(null),[j,C]=S.useState(""),O=S.useCallback(b=>{b.length>0&&E(b[0])},[]),{getRootProps:I,getInputProps:D}=Vt({onDrop:O,accept:"image/*",disabled:!!j}),T=()=>{r(b=>({...b,headerImage:null}))},F=b=>{r(A=>{const L=[...A.body];return L[b]?(L[b]={...L[b],image:null},{...A,body:L}):A})},_=async(b,A)=>{const L=Wt(en,A);return await Qt(L,b),await Zt(L)},R=async b=>{b.preventDefault(),ve.fire({title:"Updating...",text:"Please wait while we update.",allowOutsideClick:!1,didOpen:()=>{ve.showLoading()}});try{let A;n.headerImage instanceof File?(t&&t.headerImage&&await $t(t.headerImage),A=await _(n.headerImage,`updates/${Date.now()}_${n.headerImage.name}`)):A=n.headerImage;const L=await Promise.all(n.body.map(async(K,G)=>K.image instanceof File?(t&&t.body&&t.body[G]&&t.body[G].image&&await $t(t.body[G].image),await _(K.image,`updates/${Date.now()}_${K.image.name}`)):K.image)),U={dateTimeStart:n.dateTimeStart,dateTimeEnd:n.dateTimeEnd,category:n.category,title:n.title,headerImage:A,headerImageSource:n.headerImageSource,body:n.body.map((K,G)=>({subtitle:K.subtitle,body:K.body,image:L[G]||"",image_source:K.image_source})),tags:n.tags,references:n.references,socials:n.socials,origin:n.origin},P=gt(Ve,"updates",n.id);await rn(P,U),ve.fire({title:"Update Posted",text:"Your update has been edited successfully!",icon:"success"}),T(),e()}catch(A){console.error("Error updating data:",A),ve.fire({title:"Error",text:"There was an issue updating your data. Please try again.",icon:"error"})}};return S.useRef(null),a.jsxs(v,{className:"custom-form body-container",onSubmit:R,onKeyDown:b=>b.key==="Enter"&&b.preventDefault(),children:[a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"category",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Category"}),a.jsxs(v.Select,{name:"category",value:n.category,onChange:h,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Category"}),n$.map((b,A)=>a.jsx("option",{value:b,children:b},A))]})]})}),a.jsx(z,{md:6,children:a.jsx(B,{className:"empty-container"})})]}),a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Start Date & Time"}),a.jsx(v.Control,{type:"datetime-local",name:"dateTimeStart",value:n.dateTimeStart,onChange:h,required:!0})]})}),a.jsx(z,{md:6,children:a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"End Date & Time"}),a.jsx(v.Control,{type:"datetime-local",name:"dateTimeEnd",value:n.dateTimeEnd,onChange:h,min:n.dateTimeStart,disabled:!n.dateTimeStart,required:!0})]})})]}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Title"}),a.jsx(v.Control,{type:"text",name:"title",className:"fw-bold",value:n.title,onChange:h,placeholder:"Enter title",required:!0})]})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{className:"my-2",children:[a.jsx(v.Label,{className:"label",children:"Upload Header Image (800x400)"}),a.jsx(mn,{storyForm:n,setStoryForm:r,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"}),a.jsxs(B,{className:"d-flex justify-content-between mt-2",children:[a.jsx("p",{className:"subtitle",children:"Supported File: PNG, JPEG, and JPG"}),a.jsx("p",{className:"subtitle",children:"Maximum size: 25MB"})]}),a.jsx(B,{className:"d-flex justify-content-end",children:w&&(j?null:a.jsxs(se,{className:"my-2",variant:"outline-danger",onClick:T,children:[a.jsx(we,{className:"button-icon",icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]}))})]})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:b=>h(b,"headerImageSource"),label:"Header Image Sources (Type & Enter)",editingItems:n.headerImageSource,resetKey:s})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsxs(z,{md:12,children:[a.jsx("p",{className:"label mb-2",children:"Body Sections"}),n.body.map((b,A)=>a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(B,{className:"empty-container"}),a.jsxs(v.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(v.Label,{className:"label",children:"Subtitle (Optional)"}),a.jsx(v.Control,{type:"text",className:"fw-bold",value:b.subtitle,onChange:L=>f(A,"subtitle",L.target.value)})]}),a.jsxs(z,{className:"col me-lg-2 me-md-1",children:[a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Image"}),a.jsx($ke,{index:A,section:b,onBodyImageDrop:g,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"}),b.image&&a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{className:"mt-2 mb-1",variant:"outline-danger",onClick:()=>F(A),children:[a.jsx(we,{icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]})})]}),a.jsxs(v.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(v.Label,{className:"label",children:"Image Source (Optional)"}),a.jsx(v.Control,{placeholder:"e.g. @boracayphotos or /islanders or #trivago or www.trivago.com",type:"text",value:b.image_source,onChange:L=>f(A,"image_source",L.target.value)})]})]}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(v.Group,{className:"mb-5",children:[a.jsx(v.Label,{className:"label",children:"Body"}),a.jsx(rr,{index:A,section:b,handleBodyChange:f})]})}),n.body.length>1&&a.jsx(B,{className:"mb-4 d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-danger",type:"button",onClick:()=>y(A),className:"mt-3 w-full",children:[a.jsx(we,{icon:Pt,size:"xs",fixedWidth:!0})," Delete Section"]})})]},A)),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-success",type:"button",onClick:p,className:"mb-3",children:[a.jsx(we,{icon:nr,size:"xs",fixedWidth:!0})," Add Section"]})})]})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:b=>h(b,"origin"),label:"Origin Office (Type & Enter)",editingItems:n.origin,resetKey:s,caption:"the office where the update originated or referring to"})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:b=>h(b,"references"),label:"References (Type & Enter)",caption:"postings or website links to redirect users",editingItems:n.references,resetKey:s})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:b=>h(b,"socials"),label:"Social Media Link (Type & Enter)",caption:"social media links of subject",editingItems:n.socials,resetKey:s})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:b=>h(b,"tags"),label:"Tags (Type & Enter)",editingItems:n.tags,resetKey:s,caption:"imporant tags for Optimization"})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",onClick:u,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full",onClick:R,children:"Submit Update"})]})]})}const Hke=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(""),[s,i]=S.useState(""),[o,c]=S.useState("asc"),[u,h]=S.useState(0),[f,g]=S.useState(null),p=10;S.useEffect(()=>{E()},[]);const[y,w]=S.useState(!0),E=async()=>{try{const L=(await Rr(Jt(Ve,"updates"))).docs.map(U=>({id:U.id,...U.data()}));e(L)}catch(A){console.error("Error fetching data:",A)}finally{w(!1)}},j=()=>{const A=[...t].sort((L,U)=>o==="asc"?new Date(L.date)-new Date(U.date):new Date(U.date)-new Date(L.date));e(A),c(o==="asc"?"desc":"asc")},C=A=>{g(A)},O=async A=>{window.confirm("Are you sure you want to delete this entry?")&&(await kr(gt(Ve,"updates",A)),E())},I=t.filter(A=>(s===""||A.category===s)&&(A.title.toLowerCase().includes(n.toLowerCase())||A.classification.toLowerCase().includes(n.toLowerCase())||A.purpose.toLowerCase().includes(n.toLowerCase())||A.date.toLowerCase().includes(n.toLowerCase())||A.name.toLowerCase().includes(n.toLowerCase())||A.email.toLowerCase().includes(n.toLowerCase())||A.social.toLowerCase().includes(n.toLowerCase()))),D=()=>new Date().toISOString().split("T")[0],T=()=>{const A=t.map(({title:P,...K})=>({...K,tags:Array.isArray(K.tags)?K.tags.join(", "):"",origin:Array.isArray(K.origin)?K.origin.join(", "):"",headerImageSource:Array.isArray(K.headerImageSource)?K.headerImageSource.join(", "):"",references:Array.isArray(K.references)?K.references.join(", "):"",socials:Array.isArray(K.socials)?K.socials.join(", "):"",body:Array.isArray(K.body)?K.body.map(G=>JSON.stringify(G)).join("; "):""})),L=vt.json_to_sheet(A),U=vt.book_new();vt.book_append_sheet(U,L,"Data"),Fr(U,`tourism_updates_infoguide_${D()}.xlsx`)},F=Math.ceil(I.length/p),_=I.slice(u*p,(u+1)*p),R=({selected:A})=>{h(A)},b=()=>{g(null)};return a.jsxs(B,{children:[a.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Tourism Updates"}),a.jsx("p",{children:"List of Updates."}),a.jsxs(V,{className:"mb-4 mt-4",children:[a.jsx(z,{md:4,className:"mb-2 me-2 col",children:a.jsx(v.Control,{type:"text",placeholder:`Search up to over ${t.length} articles`,value:n,onChange:A=>r(A.target.value)})}),a.jsx(z,{md:2,className:"mb-2 me-2 col",children:a.jsxs(v.Select,{value:s,onChange:A=>i(A.target.value),children:[a.jsx("option",{value:"",children:"All Category"}),[...new Set(t.map(A=>A.category))].map((A,L)=>a.jsx("option",{value:A,children:A},L))]})}),a.jsxs(B,{className:"d-flex justify-content-end align-items-center mt-2",children:[a.jsxs(se,{variant:"outline-secondary",className:"me-2",onClick:E,children:[a.jsx(we,{icon:Pr,size:"xs",fixedWidth:!0})," Refresh List"]}),a.jsxs(se,{variant:"outline-success",onClick:b,children:[a.jsx(we,{icon:Dr,size:"xs",fixedWidth:!0})," Add New"]})]})]}),y?a.jsx("div",{className:"d-flex justify-content-center align-items-center my-5",children:a.jsx(Sr,{animation:"border",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):_.length===0?a.jsx("div",{className:"text-center my-5",children:a.jsx("h5",{children:"No Data Available"})}):a.jsxs(Lr,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsxs("th",{onClick:j,style:{cursor:"pointer"},children:["Date ",o==="asc"?"":""]}),a.jsx("th",{children:"Classification"}),a.jsx("th",{children:"Title"}),a.jsx("th",{children:"Origin"}),a.jsx("th",{children:"References"}),a.jsx("th",{children:"Socials"})]})}),a.jsx("tbody",{children:_.map(A=>a.jsxs("tr",{children:[a.jsx("td",{children:new Date(A.date).toLocaleDateString()}),a.jsx("td",{children:A.classification}),a.jsx("td",{children:A.title}),a.jsx("td",{children:Array.isArray(A.origin)?A.origin.join(", "):A.origin}),a.jsx("td",{children:Array.isArray(A.references)?A.references.join(", "):A.references}),a.jsx("td",{children:Array.isArray(A.socials)?A.socials.join(", "):A.socials}),a.jsx("td",{children:a.jsxs(B,{className:"d-flex justify-content-center align-items-center",children:[a.jsx(Xt,{placement:"top",overlay:a.jsx(Gt,{children:"Edit"}),children:a.jsx(se,{variant:"outline-secondary",size:"sm",className:"me-2",onClick:()=>C(A),children:a.jsx(we,{icon:Ir,size:"xs",fixedWidth:!0})})}),a.jsx(Xt,{placement:"top",overlay:a.jsx(Gt,{children:"Delete"}),children:a.jsx(se,{variant:"outline-danger",size:"sm",onClick:()=>O(A.id),children:a.jsx(we,{icon:Pt,size:"xs",fixedWidth:!0})})})]})})]},A.id))})]}),a.jsxs(B,{className:"d-flex justify-content-between align-items-center mb-4 mt-2",children:[a.jsx(se,{onClick:T,variant:"outline-success",children:"Download Excel"}),a.jsx(Mr,{previousLabel:"",nextLabel:"",pageCount:F,onPageChange:R,containerClassName:"pagination mb-0",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})]}),f?a.jsx(Vke,{editingItem:f,toAddForm:()=>g(null)}):a.jsx(qke,{})]})};class uK{constructor(){this.id="",this.dateTimeStart="",this.dateTimeEnd="",this.category="",this.title="",this.body=[{subtitle:"",body:"",image:null,image_source:""}],this.headerImage=null,this.headerImageSource=[],this.tags=[],this.references=[],this.socials=[],this.origin=[]}toJSON(){return{...this}}}const dK=["Compilation (Hotels)","Compilation (Restaurants)","Compilation (Tour Packages)","Compilation (Travel Deals)","Compilation (Local Services)","Discount Offers","Limited-Time Deals","Buy One Get One (BOGO)","Seasonal Promotions","Loyalty Rewards","Flash Sales","Bundle Deals","Exclusive Online Deals","Freebies & Giveaways","Early Bird Specials","Referral Discounts","Holiday Specials","Weekend Promotions","First-Time Customer Deals","Cashback Offers","Promo Codes & Vouchers","Membership Discounts","Corporate Discounts"],Gke=({index:t,section:e,onBodyImageDrop:n,dropzoneName:r="dropzone-container-small",previewName:s="dropzone-uploaded-image-small"})=>{const{getRootProps:i,getInputProps:o}=Vt({onDrop:y=>n(y,t),accept:"image/png, image/jpeg, image/jpg, video/mp4, video/webm, video/ogg"}),c=e.image instanceof File,u=typeof e.image=="string"&&/\.(mp4|webm|ogg)(\?.*)?$/i.test(e.image),h=typeof e.image=="string"&&!u,f=c?URL.createObjectURL(e.image):null,g=h?e.image:null,p=u?e.image:null;return a.jsxs(B,{...i(),className:`${r} text-center w-100 ${f||g||p?"border-success":""}`,children:[a.jsx("input",{...o(),accept:"image/*,video/*"}),f?e.image.type.startsWith("video/")?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:f,type:e.image.type}),"Your browser does not support the video tag."]}):a.jsx("img",{src:f,alt:"Uploaded File Preview",className:s}):p?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:p,type:"video/mp4"}),"Your browser does not support the video tag."]}):g?a.jsx("img",{src:g,alt:"Image URL Preview",className:s}):a.jsxs("p",{className:"text-muted",children:["Drag & Drop Image/Video Here or"," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})};function Wke(){const[t,e]=S.useState(new uK),[n,r]=S.useState(0);S.useEffect(()=>{},[]);const s=()=>{e({id:"",dateTimeStart:"",dateTimeEnd:"",category:"",title:"",headerImage:null,headerImageSource:[],body:[{subtitle:"",body:"",image:null,image_source:""}],tags:[],references:[],socials:[],origin:[]}),r(T=>T+1)},i=(T,F)=>{if(Array.isArray(T))e(_=>({..._,[F]:T}));else if(typeof T=="string")e(_=>({..._,[F]:T}));else{const{name:_,value:R}=T.target;e(b=>({...b,[_]:R}))}},o=(T,F,_)=>{e(R=>{const b=[...R.body];return b[T]={...b[T],[F]:_},{...R,body:b}})},c=(T,F)=>{const _=T[0];_&&e(R=>{const b=[...R.body];return b[F]={...b[F],image:_,imageUrl:URL.createObjectURL(_)},{...R,body:b}})},u=()=>{e(T=>({...T,body:[...T.body,{subtitle:"",body:"",image:null,image_source:""}]}))},h=T=>{e(F=>{const _=F.body.filter((R,b)=>b!==T);return{...F,body:_}})},[f,g]=S.useState(null),[p,y]=S.useState(""),w=S.useCallback(T=>{T.length>0&&g(T[0])},[]),{getRootProps:E,getInputProps:j}=Vt({onDrop:w,accept:"image/*",disabled:!!p}),C=()=>{e(T=>({...T,headerImage:null}))},O=T=>{e(F=>{const _=[...F.body];return _[T]?(_[T]={..._[T],image:null},{...F,body:_}):F})},I=async(T,F)=>{const _=Wt(en,F);return await Qt(_,T),await Zt(_)},D=async T=>{T.preventDefault(),ve.fire({title:"Submitting...",text:"Please wait while we submit your deals.",allowOutsideClick:!1,didOpen:()=>{ve.showLoading()}});try{let F=await I(t.headerImage,`deals/${Date.now()}_${t.headerImage}`);const _=await Promise.all(t.body.map(async(L,U)=>L.image?await I(L.image,`deals/${Date.now()}_${L.image.name}`):"")),R={id:"",dateTimeStart:t.dateTimeStart,dateTimeEnd:t.dateTimeEnd,category:t.category,title:t.title,headerImage:F,headerImageSource:t.headerImageSource,body:t.body.map((L,U)=>({subtitle:L.subtitle,body:L.body,image:_[U]||"",image_source:L.image_source})),tags:t.tags,references:t.references,socials:t.socials,origin:t.origin},b=await Or(Jt(Ve,"deals"),R),A=gt(Ve,"deals",b.id);await A(A,{id:b.id}),ve.fire({title:"Deals Submitted",text:"Your deals has been submitted successfully!",icon:"success"}),s(),C()}catch(F){console.error("Error submitting deals:",F),ve.fire({title:"Error",text:"There was an issue submitting your deals. Please try again.",icon:"error"})}};return S.useRef(null),a.jsxs(v,{className:"custom-form body-container",onSubmit:D,onKeyDown:T=>T.key==="Enter"&&T.preventDefault(),children:[a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"category",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Category"}),a.jsxs(v.Select,{name:"category",value:t.category,onChange:i,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Category"}),dK.map((T,F)=>a.jsx("option",{value:T,children:T},F))]})]})}),a.jsx(z,{md:6,children:a.jsx(B,{className:"empty-container"})})]}),a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Start Date & Time"}),a.jsx(v.Control,{type:"datetime-local",name:"dateTimeStart",value:t.dateTimeStart,onChange:i,required:!0})]})}),a.jsx(z,{md:6,children:a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"End Date & Time"}),a.jsx(v.Control,{type:"datetime-local",name:"dateTimeEnd",value:t.dateTimeEnd,onChange:i,min:t.dateTimeStart,disabled:!t.dateTimeStart,required:!0})]})})]}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Title"}),a.jsx(v.Control,{type:"text",name:"title",className:"fw-bold",value:t.title,onChange:i,placeholder:"Enter title",required:!0})]})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{className:"my-2",children:[a.jsx(v.Label,{className:"label",children:"Upload Header Image (800x400)"}),a.jsx(mn,{storyForm:t,setStoryForm:e,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"}),a.jsxs(B,{className:"d-flex justify-content-between mt-2",children:[a.jsx("p",{className:"subtitle",children:"Supported File: PNG, JPEG, and JPG"}),a.jsx("p",{className:"subtitle",children:"Maximum size: 25MB"})]}),a.jsx(B,{className:"d-flex justify-content-end",children:f&&(p?null:a.jsxs(se,{className:"my-2",variant:"outline-danger",onClick:C,children:[a.jsx(we,{className:"button-icon",icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]}))})]})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:T=>i(T,"headerImageSource"),label:"Header Image Sources (Type & Enter)",editingItems:t.headerImageSource,resetKey:n})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsxs(z,{md:12,children:[a.jsx("p",{className:"label mb-2",children:"Body Sections"}),t.body.map((T,F)=>a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(B,{className:"empty-container"}),a.jsxs(v.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(v.Label,{className:"label",children:"Subtitle (Optional)"}),a.jsx(v.Control,{type:"text",className:"fw-bold",value:T.subtitle,onChange:_=>o(F,"subtitle",_.target.value)})]}),a.jsxs(z,{className:"col me-lg-2 me-md-1",children:[a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Image (Optional)"}),a.jsx(Gke,{index:F,section:T,onBodyImageDrop:c,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"}),T.image&&a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{className:"mt-2 mb-1",variant:"outline-danger",onClick:()=>O(F),children:[a.jsx(we,{icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]})})]}),a.jsxs(v.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(v.Label,{className:"label",children:"Image Source (Optional)"}),a.jsx(v.Control,{placeholder:"e.g. @boracayphotos or /islanders or #trivago or www.trivago.com",type:"text",value:T.image_source,onChange:_=>o(F,"image_source",_.target.value)})]})]}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(v.Group,{className:"mb-5",children:[a.jsx(v.Label,{className:"label",children:"Body"}),a.jsx(rr,{index:F,section:T,handleBodyChange:o})]})}),t.body.length>1&&a.jsx(B,{className:"mb-4 d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-danger",type:"button",onClick:()=>h(F),className:"mt-3 w-full",children:[a.jsx(we,{icon:Pt,size:"xs",fixedWidth:!0})," Delete Section"]})})]},F)),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-success",type:"button",onClick:u,className:"mb-3",children:[a.jsx(we,{icon:nr,size:"xs",fixedWidth:!0})," Add Section"]})})]})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:T=>i(T,"origin"),label:"Origin Office (Type & Enter)",editingItems:t.origin,resetKey:n,caption:"the office where the deals originated or referring to"})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:T=>i(T,"references"),label:"References (Type & Enter)",caption:"postings or website links to redirect users",editingItems:t.references,resetKey:n})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:T=>i(T,"socials"),label:"Social Media Link (Type & Enter)",caption:"social media links of subject",editingItems:t.socials,resetKey:n})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:T=>i(T,"tags"),label:"Tags (Type & Enter)",editingItems:t.tags,resetKey:n,caption:"imporant tags for Optimization"})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",onClick:s,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full",onClick:D,children:"Submit Deals"})]})]})}const Kke=({index:t,section:e,onBodyImageDrop:n,dropzoneName:r="dropzone-container-small",previewName:s="dropzone-uploaded-image-small"})=>{const{getRootProps:i,getInputProps:o}=Vt({onDrop:u=>n(u,t),accept:"image/png, image/jpeg, image/jpg, video/mp4, video/webm, video/ogg"}),c=e.image?e.image instanceof File?URL.createObjectURL(e.image):e.image:null;return a.jsxs(B,{...i(),className:`${r} text-center w-100 ${c?"border-success":""}`,children:[a.jsx("input",{...o(),accept:"image/*,video/*"}),c?e.image instanceof File&&e.image.type.startsWith("video/")?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:c,type:e.image.type}),"Your browser does not support the video tag."]}):a.jsx("img",{src:c,alt:"Body Image Preview",className:s}):a.jsxs("p",{className:"text-muted",children:["Drag & Drop Image/Video Here or"," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})};function Yke({editingItem:t,toAddForm:e}){const[n,r]=S.useState(new uK),[s,i]=S.useState(0);S.useEffect(()=>{t&&(r(_=>({..._,id:t.id||"",dateTimeStart:t.dateTimeStart||"",dateTimeEnd:t.dateTimeEnd||"",category:t.category||"",title:t.title||"",headerImage:t.headerImage||"",headerImageSource:t.headerImageSource||[],body:t.body.map((R,b)=>({subtitle:R.subtitle||"",body:R.body||"",image:R.image||"",image_source:R.image_source||""})),tags:t.tags||[],references:t.references||[],socials:t.socials||[],origin:t.origin||[]})),t.category&&setSelectedCategory(t.category||""))},[t]);const o=()=>{r({id:"",dateTimeStart:"",dateTimeEnd:"",category:"",title:"",headerImage:null,headerImageSource:[],body:[{subtitle:"",body:"",image:null,image_source:""}],tags:[],references:[],socials:[],origin:[]}),i(_=>_+1)},c=(_,R)=>{if(Array.isArray(_))r(b=>({...b,[R]:_}));else if(typeof _=="string")r(b=>({...b,[R]:_}));else{const{name:b,value:A}=_.target;r(L=>({...L,[b]:A}))}},u=(_,R,b)=>{r(A=>{const L=[...A.body];return L[_]={...L[_],[R]:b},{...A,body:L}})},h=(_,R)=>{const b=_[0];b&&r(A=>{const L=[...A.body];return L[R]={...L[R],image:b,imageUrl:URL.createObjectURL(b)},{...A,body:L}})},f=()=>{r(_=>({..._,body:[..._.body,{subtitle:"",body:"",image:null,image_source:""}]}))},g=_=>{r(R=>{const b=R.body.filter((A,L)=>L!==_);return{...R,body:b}})},[p,y]=S.useState(null),[w,E]=S.useState(""),j=S.useCallback(_=>{_.length>0&&y(_[0])},[]),{getRootProps:C,getInputProps:O}=Vt({onDrop:j,accept:"image/*",disabled:!!w}),I=()=>{r(_=>({..._,headerImage:null}))},D=_=>{r(R=>{const b=[...R.body];return b[_]?(b[_]={...b[_],image:null},{...R,body:b}):R})},T=async(_,R)=>{const b=Wt(en,R);return await Qt(b,_),await Zt(b)},F=async _=>{_.preventDefault(),ve.fire({title:"Updating...",text:"Please wait while we update the deals.",allowOutsideClick:!1,didOpen:()=>{ve.showLoading()}});try{let R;storyFormData.headerImage instanceof File?(t&&t.headerImage&&await $t(t.headerImage),R=await T(storyFormData.headerImage,`deals/${Date.now()}_${storyFormData.headerImage.name}`)):R=storyFormData.headerImage;const b=await Promise.all(storyFormData.body.map(async(U,P)=>U.image instanceof File?(t&&t.body&&t.body[P]&&t.body[P].image&&await $t(t.body[P].image),await T(U.image,`deals/${Date.now()}_${U.image.name}`)):U.image)),A={dateTimeStart:n.dateTimeStart,dateTimeEnd:n.dateTimeEnd,category:n.category,title:n.title,headerImage:R,headerImageSource:n.headerImageSource,body:n.body.map((U,P)=>({subtitle:U.subtitle,body:U.body,image:b[P]||"",image_source:U.image_source})),tags:n.tags,references:n.references,socials:n.socials,origin:n.origin},L=gt(Ve,"deals",storyFormData.id);await rn(L,A),ve.fire({title:"Deals Posted",text:"Your deals has been edited successfully!",icon:"success"}),setBodyImages([]),I(),e()}catch(R){console.error("Error updating data:",R),ve.fire({title:"Error",text:"There was an issue updating your data. Please try again.",icon:"error"})}};return S.useRef(null),a.jsxs(v,{className:"custom-form body-container",onSubmit:F,onKeyDown:_=>_.key==="Enter"&&_.preventDefault(),children:[a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"category",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Category"}),a.jsxs(v.Select,{name:"category",value:n.category,onChange:c,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Category"}),dK.map((_,R)=>a.jsx("option",{value:_,children:_},R))]})]})}),a.jsx(z,{md:6,children:a.jsx(B,{className:"empty-container"})})]}),a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Start Date & Time"}),a.jsx(v.Control,{type:"datetime-local",name:"dateTimeStart",value:n.dateTimeStart,onChange:c,required:!0})]})}),a.jsx(z,{md:6,children:a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"End Date & Time"}),a.jsx(v.Control,{type:"datetime-local",name:"dateTimeEnd",value:n.dateTimeEnd,onChange:c,min:n.dateTimeStart,disabled:!n.dateTimeStart,required:!0})]})})]}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Title"}),a.jsx(v.Control,{type:"text",name:"title",className:"fw-bold",value:n.title,onChange:c,placeholder:"Enter title",required:!0})]})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{className:"my-2",children:[a.jsx(v.Label,{className:"label",children:"Upload Header Image (800x400)"}),a.jsx(mn,{storyForm:n,setStoryForm:r,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"}),a.jsxs(B,{className:"d-flex justify-content-between mt-2",children:[a.jsx("p",{className:"subtitle",children:"Supported File: PNG, JPEG, and JPG"}),a.jsx("p",{className:"subtitle",children:"Maximum size: 25MB"})]}),a.jsx(B,{className:"d-flex justify-content-end",children:p&&(w?null:a.jsxs(se,{className:"my-2",variant:"outline-danger",onClick:I,children:[a.jsx(we,{className:"button-icon",icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]}))})]})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:_=>c(_,"headerImageSource"),label:"Header Image Sources (Type & Enter)",editingItems:n.headerImageSource,resetKey:s})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsxs(z,{md:12,children:[a.jsx("p",{className:"label mb-2",children:"Body Sections"}),n.body.map((_,R)=>a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(B,{className:"empty-container"}),a.jsxs(v.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(v.Label,{className:"label",children:"Subtitle (Optional)"}),a.jsx(v.Control,{type:"text",className:"fw-bold",value:_.subtitle,onChange:b=>u(R,"subtitle",b.target.value)})]}),a.jsxs(z,{className:"col me-lg-2 me-md-1",children:[a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Image (Optional)"}),a.jsx(Kke,{index:R,section:_,onBodyImageDrop:h,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"}),_.image&&a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{className:"mt-2 mb-1",variant:"outline-danger",onClick:()=>D(R),children:[a.jsx(we,{icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]})})]}),a.jsxs(v.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(v.Label,{className:"label",children:"Image Source (Optional)"}),a.jsx(v.Control,{placeholder:"e.g. @boracayphotos or /islanders or #trivago or www.trivago.com",type:"text",value:_.image_source,onChange:b=>u(R,"image_source",b.target.value)})]})]}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(v.Group,{className:"mb-5",children:[a.jsx(v.Label,{className:"label",children:"Body"}),a.jsx(rr,{index:R,section:_,handleBodyChange:u})]})}),n.body.length>1&&a.jsx(B,{className:"mb-4 d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-danger",type:"button",onClick:()=>g(R),className:"mt-3 w-full",children:[a.jsx(we,{icon:Pt,size:"xs",fixedWidth:!0})," Delete Section"]})})]},R)),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-success",type:"button",onClick:f,className:"mb-3",children:[a.jsx(we,{icon:nr,size:"xs",fixedWidth:!0})," Add Section"]})})]})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:_=>c(_,"origin"),label:"Origin Office (Type & Enter)",editingItems:n.origin,resetKey:s,caption:"the office where the deals originated or referring to"})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:_=>c(_,"references"),label:"References (Type & Enter)",caption:"postings or website links to redirect users",editingItems:n.references,resetKey:s})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:_=>c(_,"socials"),label:"Social Media Link (Type & Enter)",caption:"social media links of subject",editingItems:n.socials,resetKey:s})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:_=>c(_,"tags"),label:"Tags (Type & Enter)",editingItems:n.tags,resetKey:s,caption:"imporant tags for Optimization"})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",onClick:o,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full",onClick:F,children:"Submit Update"})]})]})}const Xke=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(""),[s,i]=S.useState(""),[o,c]=S.useState("asc"),[u,h]=S.useState(0),[f,g]=S.useState(null),p=10;S.useEffect(()=>{E()},[]);const[y,w]=S.useState(!0),E=async()=>{try{const L=(await Rr(Jt(Ve,"deals"))).docs.map(U=>({id:U.id,...U.data()}));e(L)}catch(A){console.error("Error fetching data:",A)}finally{w(!1)}},j=()=>{const A=[...t].sort((L,U)=>o==="asc"?new Date(L.date)-new Date(U.date):new Date(U.date)-new Date(L.date));e(A),c(o==="asc"?"desc":"asc")},C=A=>{g(A)},O=async A=>{window.confirm("Are you sure you want to delete this entry?")&&(await kr(gt(Ve,"deals",A)),E())},I=t.filter(A=>(s===""||A.category===s)&&(A.title.toLowerCase().includes(n.toLowerCase())||A.classification.toLowerCase().includes(n.toLowerCase())||A.purpose.toLowerCase().includes(n.toLowerCase())||A.date.toLowerCase().includes(n.toLowerCase())||A.name.toLowerCase().includes(n.toLowerCase())||A.email.toLowerCase().includes(n.toLowerCase())||A.social.toLowerCase().includes(n.toLowerCase()))),D=()=>new Date().toISOString().split("T")[0],T=()=>{const A=t.map(({title:P,...K})=>({...K,tags:Array.isArray(K.tags)?K.tags.join(", "):"",origin:Array.isArray(K.origin)?K.origin.join(", "):"",headerImageSource:Array.isArray(K.headerImageSource)?K.headerImageSource.join(", "):"",references:Array.isArray(K.references)?K.references.join(", "):"",socials:Array.isArray(K.socials)?K.socials.join(", "):"",body:Array.isArray(K.body)?K.body.map(G=>JSON.stringify(G)).join("; "):""})),L=vt.json_to_sheet(A),U=vt.book_new();vt.book_append_sheet(U,L,"Data"),Fr(U,`tourism_deals_infoguide_${D()}.xlsx`)},F=Math.ceil(I.length/p),_=I.slice(u*p,(u+1)*p),R=({selected:A})=>{h(A)},b=()=>{g(null)};return a.jsxs(B,{children:[a.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Deals & Promotions"}),a.jsx("p",{children:"List of Deals."}),a.jsxs(V,{className:"mb-4 mt-4",children:[a.jsx(z,{md:4,className:"mb-2 me-2 col",children:a.jsx(v.Control,{type:"text",placeholder:`Search up to over ${t.length} articles`,value:n,onChange:A=>r(A.target.value)})}),a.jsx(z,{md:2,className:"mb-2 me-2 col",children:a.jsxs(v.Select,{value:s,onChange:A=>i(A.target.value),children:[a.jsx("option",{value:"",children:"All Category"}),[...new Set(t.map(A=>A.category))].map((A,L)=>a.jsx("option",{value:A,children:A},L))]})}),a.jsxs(B,{className:"d-flex justify-content-end align-items-center mt-2",children:[a.jsxs(se,{variant:"outline-secondary",className:"me-2",onClick:E,children:[a.jsx(we,{icon:Pr,size:"xs",fixedWidth:!0})," Refresh List"]}),a.jsxs(se,{variant:"outline-success",onClick:b,children:[a.jsx(we,{icon:Dr,size:"xs",fixedWidth:!0})," Add New"]})]})]}),y?a.jsx("div",{className:"d-flex justify-content-center align-items-center my-5",children:a.jsx(Sr,{animation:"border",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):_.length===0?a.jsx("div",{className:"text-center my-5",children:a.jsx("h5",{children:"No Data Available"})}):a.jsxs(Lr,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsxs("th",{onClick:j,style:{cursor:"pointer"},children:["Date ",o==="asc"?"":""]}),a.jsx("th",{children:"Classification"}),a.jsx("th",{children:"Title"}),a.jsx("th",{children:"Origin"}),a.jsx("th",{children:"References"}),a.jsx("th",{children:"Socials"})]})}),a.jsx("tbody",{children:_.map(A=>a.jsxs("tr",{children:[a.jsx("td",{children:new Date(A.date).toLocaleDateString()}),a.jsx("td",{children:A.classification}),a.jsx("td",{children:A.title}),a.jsx("td",{children:Array.isArray(A.origin)?A.origin.join(", "):A.origin}),a.jsx("td",{children:Array.isArray(A.references)?A.references.join(", "):A.references}),a.jsx("td",{children:Array.isArray(A.socials)?A.socials.join(", "):A.socials}),a.jsx("td",{children:a.jsxs(B,{className:"d-flex justify-content-center align-items-center",children:[a.jsx(Xt,{placement:"top",overlay:a.jsx(Gt,{children:"Edit"}),children:a.jsx(se,{variant:"outline-secondary",size:"sm",className:"me-2",onClick:()=>C(A),children:a.jsx(we,{icon:Ir,size:"xs",fixedWidth:!0})})}),a.jsx(Xt,{placement:"top",overlay:a.jsx(Gt,{children:"Delete"}),children:a.jsx(se,{variant:"outline-danger",size:"sm",onClick:()=>O(A.id),children:a.jsx(we,{icon:Pt,size:"xs",fixedWidth:!0})})})]})})]},A.id))})]}),a.jsxs(B,{className:"d-flex justify-content-between align-items-center mb-4 mt-2",children:[a.jsx(se,{onClick:T,variant:"outline-success",children:"Download Excel"}),a.jsx(Mr,{previousLabel:"",nextLabel:"",pageCount:F,onPageChange:R,containerClassName:"pagination mb-0",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})]}),f?a.jsx(Yke,{editingItem:f,toAddForm:()=>g(null)}):a.jsx(Wke,{})]})},Jke=({index:t,section:e,onBodyImageDrop:n,dropzoneName:r="dropzone-container-small",previewName:s="dropzone-uploaded-image-small"})=>{const{getRootProps:i,getInputProps:o}=Vt({onDrop:u=>n(u,t),accept:"image/png, image/jpeg, image/jpg, video/mp4, video/webm, video/ogg"}),c=e.image?e.image instanceof File?URL.createObjectURL(e.image):e.image:null;return a.jsxs(B,{...i(),className:`${r} text-center w-100 ${c?"border-success":""}`,children:[a.jsx("input",{...o(),accept:"image/*,video/*"}),c?e.image instanceof File&&e.image.type.startsWith("video/")?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:c,type:e.image.type}),"Your browser does not support the video tag."]}):a.jsx("img",{src:c,alt:"Body Image Preview",className:s}):a.jsxs("p",{className:"text-muted",children:["Drag & Drop Image/Video Here or"," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})};function Qke(){const[t,e]=S.useState(new i$),[n,r]=S.useState(0);S.useEffect(()=>{},[]);const s=()=>{e({id:"",dateTimeStart:"",dateTimeEnd:"",category:"",title:"",headerImage:null,headerImageSource:[],body:[{subtitle:"",body:"",image:null,image_source:""}],tags:[],references:[],socials:[],origin:[]}),r(T=>T+1)},i=(T,F)=>{if(Array.isArray(T))e(_=>({..._,[F]:T}));else if(typeof T=="string")e(_=>({..._,[F]:T}));else{const{name:_,value:R}=T.target;e(b=>({...b,[_]:R}))}},o=(T,F,_)=>{e(R=>{const b=[...R.body];return b[T]={...b[T],[F]:_},{...R,body:b}})},c=(T,F)=>{const _=T[0];_&&e(R=>{const b=[...R.body];return b[F]={...b[F],image:_,imageUrl:URL.createObjectURL(_)},{...R,body:b}})},u=()=>{e(T=>({...T,body:[...T.body,{subtitle:"",body:"",image:null,image_source:""}]}))},h=T=>{e(F=>{const _=F.body.filter((R,b)=>b!==T);return{...F,body:_}})},[f,g]=S.useState(null),[p,y]=S.useState(""),w=S.useCallback(T=>{T.length>0&&g(T[0])},[]),{getRootProps:E,getInputProps:j}=Vt({onDrop:w,accept:"image/*",disabled:!!p}),C=()=>{e(T=>({...T,headerImage:null}))},O=T=>{e(F=>{const _=[...F.body];return _[T]?(_[T]={..._[T],image:null},{...F,body:_}):F})},I=async(T,F)=>{const _=Wt(en,F);return await Qt(_,T),await Zt(_)},D=async T=>{T.preventDefault(),ve.fire({title:"Submitting...",text:"Please wait while we submit your incoming events.",allowOutsideClick:!1,didOpen:()=>{ve.showLoading()}});try{let F=await I(t.headerImage,`incomingEvents/${Date.now()}_${t.headerImage}`);const _=await Promise.all(t.body.map(async(L,U)=>L.image?await I(L.image,`incomingEvents/${Date.now()}_${L.image.name}`):"")),R={id:"",dateTimeStart:t.dateTimeStart,dateTimeEnd:t.dateTimeEnd,category:t.category,title:t.title,headerImage:F,headerImageSource:t.headerImageSource,body:t.body.map((L,U)=>({subtitle:L.subtitle,body:L.body,image:_[U]||"",image_source:L.image_source})),tags:t.tags,references:t.references,socials:t.socials,origin:t.origin},b=await Or(Jt(Ve,"incomingEvents"),R),A=gt(Ve,"incomingEvents",b.id);await rn(A,{id:b.id}),ve.fire({title:"Incoming Events Submitted",text:"Your incoming events has been submitted successfully!",icon:"success"}),s(),C()}catch(F){console.error("Error submitting incoming events:",F),ve.fire({title:"Error",text:"There was an issue submitting your incoming events. Please try again.",icon:"error"})}};return S.useRef(null),a.jsxs(v,{className:"custom-form body-container",onSubmit:D,onKeyDown:T=>T.key==="Enter"&&T.preventDefault(),children:[a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"category",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Category"}),a.jsxs(v.Select,{name:"category",value:t.category,onChange:i,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Category"}),o$.map((T,F)=>a.jsx("option",{value:T,children:T},F))]})]})}),a.jsx(z,{md:6,children:a.jsx(B,{className:"empty-container"})})]}),a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Start Date & Time"}),a.jsx(v.Control,{type:"datetime-local",name:"dateTimeStart",value:t.dateTimeStart,onChange:i,required:!0})]})}),a.jsx(z,{md:6,children:a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"End Date & Time"}),a.jsx(v.Control,{type:"datetime-local",name:"dateTimeEnd",value:t.dateTimeEnd,onChange:i,min:t.dateTimeStart,disabled:!t.dateTimeStart,required:!0})]})})]}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Title"}),a.jsx(v.Control,{type:"text",name:"title",className:"fw-bold",value:t.title,onChange:i,placeholder:"Enter title",required:!0})]})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{className:"my-2",children:[a.jsx(v.Label,{className:"label",children:"Upload Header Image (800x400)"}),a.jsx(mn,{storyForm:t,setStoryForm:e,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"}),a.jsxs(B,{className:"d-flex justify-content-between mt-2",children:[a.jsx("p",{className:"subtitle",children:"Supported File: PNG, JPEG, and JPG"}),a.jsx("p",{className:"subtitle",children:"Maximum size: 25MB"})]}),a.jsx(B,{className:"d-flex justify-content-end",children:f&&(p?null:a.jsxs(se,{className:"my-2",variant:"outline-danger",onClick:C,children:[a.jsx(we,{className:"button-icon",icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]}))})]})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:T=>i(T,"headerImageSource"),label:"Header Image Sources (Type & Enter)",editingItems:t.headerImageSource,resetKey:n})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsxs(z,{md:12,children:[a.jsx("p",{className:"label mb-2",children:"Body Sections"}),t.body.map((T,F)=>a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(B,{className:"empty-container"}),a.jsxs(v.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(v.Label,{className:"label",children:"Subtitle (Optional)"}),a.jsx(v.Control,{type:"text",className:"fw-bold",value:T.subtitle,onChange:_=>o(F,"subtitle",_.target.value)})]}),a.jsxs(z,{className:"col me-lg-2 me-md-1",children:[a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Image (Optional)"}),a.jsx(Jke,{index:F,section:T,onBodyImageDrop:c,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"}),T.image&&a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{className:"mt-2 mb-1",variant:"outline-danger",onClick:()=>O(F),children:[a.jsx(we,{icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]})})]}),a.jsxs(v.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(v.Label,{className:"label",children:"Image Source (Optional)"}),a.jsx(v.Control,{placeholder:"e.g. @boracayphotos or /islanders or #trivago or www.trivago.com",type:"text",value:T.image_source,onChange:_=>o(F,"image_source",_.target.value)})]})]}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(v.Group,{className:"mb-5",children:[a.jsx(v.Label,{className:"label",children:"Body"}),a.jsx(rr,{index:F,section:T,handleBodyChange:o})]})}),t.body.length>1&&a.jsx(B,{className:"mb-4 d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-danger",type:"button",onClick:()=>h(F),className:"mt-3 w-full",children:[a.jsx(we,{icon:Pt,size:"xs",fixedWidth:!0})," Delete Section"]})})]},F)),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-success",type:"button",onClick:u,className:"mb-3",children:[a.jsx(we,{icon:nr,size:"xs",fixedWidth:!0})," Add Section"]})})]})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:T=>i(T,"origin"),label:"Origin Office (Type & Enter)",editingItems:t.origin,resetKey:n,caption:"the office where the incoming events originated or referring to"})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:T=>i(T,"references"),label:"References (Type & Enter)",caption:"postings or website links to redirect users",editingItems:t.references,resetKey:n})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:T=>i(T,"socials"),label:"Social Media Link (Type & Enter)",caption:"social media links of subject",editingItems:t.socials,resetKey:n})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:T=>i(T,"tags"),label:"Tags (Type & Enter)",editingItems:t.tags,resetKey:n,caption:"imporant tags for Optimization"})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",onClick:s,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full",onClick:D,children:"Submit Incoming Event"})]})]})}const Zke=({index:t,section:e,onBodyImageDrop:n,dropzoneName:r="dropzone-container-small",previewName:s="dropzone-uploaded-image-small"})=>{const{getRootProps:i,getInputProps:o}=Vt({onDrop:y=>n(y,t),accept:"image/png, image/jpeg, image/jpg, video/mp4, video/webm, video/ogg"}),c=e.image instanceof File,u=typeof e.image=="string"&&/\.(mp4|webm|ogg)(\?.*)?$/i.test(e.image),h=typeof e.image=="string"&&!u,f=c?URL.createObjectURL(e.image):null,g=h?e.image:null,p=u?e.image:null;return a.jsxs(B,{...i(),className:`${r} text-center w-100 ${f||g||p?"border-success":""}`,children:[a.jsx("input",{...o(),accept:"image/*,video/*"}),f?e.image.type.startsWith("video/")?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:f,type:e.image.type}),"Your browser does not support the video tag."]}):a.jsx("img",{src:f,alt:"Uploaded File Preview",className:s}):p?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:p,type:"video/mp4"}),"Your browser does not support the video tag."]}):g?a.jsx("img",{src:g,alt:"Image URL Preview",className:s}):a.jsxs("p",{className:"text-muted",children:["Drag & Drop Image/Video Here or"," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})};function eOe({editingItem:t,toAddForm:e}){const[n,r]=S.useState(new i$),[s,i]=S.useState(0),[o,c]=S.useState("");S.useEffect(()=>{t&&(r(b=>({...b,id:t.id||"",dateTimeStart:t.dateTimeStart||"",dateTimeEnd:t.dateTimeEnd||"",category:t.category||"",title:t.title||"",headerImage:t.headerImage||"",headerImageSource:t.headerImageSource||[],body:t.body.map((A,L)=>({subtitle:A.subtitle||"",body:A.body||"",image:A.image||"",image_source:A.image_source||""})),tags:t.tags||[],references:t.references||[],socials:t.socials||[],origin:t.origin||[]})),t.category&&c(t.category||""))},[t]);const u=()=>{r({id:"",dateTimeStart:"",dateTimeEnd:"",category:"",title:"",headerImage:null,headerImageSource:[],body:[{subtitle:"",body:"",image:null,image_source:""}],tags:[],references:[],socials:[],origin:[]}),i(b=>b+1)},h=(b,A)=>{if(Array.isArray(b))r(L=>({...L,[A]:b}));else if(typeof b=="string")r(L=>({...L,[A]:b}));else{const{name:L,value:U}=b.target;r(P=>({...P,[L]:U}))}},f=(b,A,L)=>{r(U=>{const P=[...U.body];return P[b]={...P[b],[A]:L},{...U,body:P}})},g=(b,A)=>{const L=b[0];L&&r(U=>{const P=[...U.body];return P[A]={...P[A],image:L,imageUrl:URL.createObjectURL(L)},{...U,body:P}})},p=()=>{r(b=>({...b,body:[...b.body,{subtitle:"",body:"",image:null,image_source:""}]}))},y=b=>{r(A=>{const L=A.body.filter((U,P)=>P!==b);return{...A,body:L}})},[w,E]=S.useState(null),[j,C]=S.useState(""),O=S.useCallback(b=>{b.length>0&&E(b[0])},[]),{getRootProps:I,getInputProps:D}=Vt({onDrop:O,accept:"image/*",disabled:!!j}),T=()=>{r(b=>({...b,headerImage:null}))},F=b=>{r(A=>{const L=[...A.body];return L[b]?(L[b]={...L[b],image:null},{...A,body:L}):A})},_=async(b,A)=>{const L=Wt(en,A);return await Qt(L,b),await Zt(L)},R=async b=>{b.preventDefault(),ve.fire({title:"Updating...",text:"Please wait while we update the incoming events.",allowOutsideClick:!1,didOpen:()=>{ve.showLoading()}});try{let A;n.headerImage instanceof File?(t&&t.headerImage&&await $t(t.headerImage),A=await _(n.headerImage,`incomingEvents/${Date.now()}_${n.headerImage.name}`)):A=n.headerImage;const L=await Promise.all(n.body.map(async(K,G)=>K.image instanceof File?(t&&t.body&&t.body[G]&&t.body[G].image&&await $t(t.body[G].image),await _(K.image,`incomingEvents/${Date.now()}_${K.image.name}`)):K.image)),U={dateTimeStart:n.dateTimeStart,dateTimeEnd:n.dateTimeEnd,category:n.category,title:n.title,headerImage:A,headerImageSource:n.headerImageSource,body:n.body.map((K,G)=>({subtitle:K.subtitle,body:K.body,image:L[G]||"",image_source:K.image_source})),tags:n.tags,references:n.references,socials:n.socials,origin:n.origin},P=gt(Ve,"incomingEvents",n.id);await rn(P,U),ve.fire({title:"Incoming Events Posted",text:"Your incoming events has been edited successfully!",icon:"success"}),T(),e()}catch(A){console.error("Error updating data:",A),ve.fire({title:"Error",text:"There was an issue updating your data. Please try again.",icon:"error"})}};return S.useRef(null),a.jsxs(v,{className:"custom-form body-container",onSubmit:R,onKeyDown:b=>b.key==="Enter"&&b.preventDefault(),children:[a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"category",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Category"}),a.jsxs(v.Select,{name:"category",value:n.category,onChange:h,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Category"}),o$.map((b,A)=>a.jsx("option",{value:b,children:b},A))]})]})}),a.jsx(z,{md:6,children:a.jsx(B,{className:"empty-container"})})]}),a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Start Date & Time"}),a.jsx(v.Control,{type:"datetime-local",name:"dateTimeStart",value:n.dateTimeStart,onChange:h,required:!0})]})}),a.jsx(z,{md:6,children:a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"End Date & Time"}),a.jsx(v.Control,{type:"datetime-local",name:"dateTimeEnd",value:n.dateTimeEnd,onChange:h,min:n.dateTimeStart,disabled:!n.dateTimeStart,required:!0})]})})]}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Title"}),a.jsx(v.Control,{type:"text",name:"title",className:"fw-bold",value:n.title,onChange:h,placeholder:"Enter title",required:!0})]})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{className:"my-2",children:[a.jsx(v.Label,{className:"label",children:"Upload Header Image (800x400)"}),a.jsx(mn,{storyForm:n,setStoryForm:r,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"}),a.jsxs(B,{className:"d-flex justify-content-between mt-2",children:[a.jsx("p",{className:"subtitle",children:"Supported File: PNG, JPEG, and JPG"}),a.jsx("p",{className:"subtitle",children:"Maximum size: 25MB"})]}),a.jsx(B,{className:"d-flex justify-content-end",children:w&&(j?null:a.jsxs(se,{className:"my-2",variant:"outline-danger",onClick:T,children:[a.jsx(we,{className:"button-icon",icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]}))})]})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:b=>h(b,"headerImageSource"),label:"Header Image Sources (Type & Enter)",editingItems:n.headerImageSource,resetKey:s})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsxs(z,{md:12,children:[a.jsx("p",{className:"label mb-2",children:"Body Sections"}),n.body.map((b,A)=>a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(B,{className:"empty-container"}),a.jsxs(v.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(v.Label,{className:"label",children:"Subtitle (Optional)"}),a.jsx(v.Control,{type:"text",className:"fw-bold",value:b.subtitle,onChange:L=>f(A,"subtitle",L.target.value)})]}),a.jsxs(z,{className:"col me-lg-2 me-md-1",children:[a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Image (Optional)"}),a.jsx(Zke,{index:A,section:b,onBodyImageDrop:g,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"}),b.image&&a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{className:"mt-2 mb-1",variant:"outline-danger",onClick:()=>F(A),children:[a.jsx(we,{icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]})})]}),a.jsxs(v.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(v.Label,{className:"label",children:"Image Source (Optional)"}),a.jsx(v.Control,{placeholder:"e.g. @boracayphotos or /islanders or #trivago or www.trivago.com",type:"text",value:b.image_source,onChange:L=>f(A,"image_source",L.target.value)})]})]}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(v.Group,{className:"mb-5",children:[a.jsx(v.Label,{className:"label",children:"Body"}),a.jsx(rr,{index:A,section:b,handleBodyChange:f})]})}),n.body.length>1&&a.jsx(B,{className:"mb-4 d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-danger",type:"button",onClick:()=>y(A),className:"mt-3 w-full",children:[a.jsx(we,{icon:Pt,size:"xs",fixedWidth:!0})," Delete Section"]})})]},A)),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-success",type:"button",onClick:p,className:"mb-3",children:[a.jsx(we,{icon:nr,size:"xs",fixedWidth:!0})," Add Section"]})})]})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:b=>h(b,"origin"),label:"Origin Office (Type & Enter)",editingItems:n.origin,resetKey:s,caption:"the office where the incoming events originated or referring to"})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:b=>h(b,"references"),label:"References (Type & Enter)",caption:"postings or website links to redirect users",editingItems:n.references,resetKey:s})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:b=>h(b,"socials"),label:"Social Media Link (Type & Enter)",caption:"social media links of subject",editingItems:n.socials,resetKey:s})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:b=>h(b,"tags"),label:"Tags (Type & Enter)",editingItems:n.tags,resetKey:s,caption:"imporant tags for Optimization"})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",onClick:u,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full",onClick:R,children:"Submit Update"})]})]})}const tOe=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(""),[s,i]=S.useState(""),[o,c]=S.useState("asc"),[u,h]=S.useState(0),[f,g]=S.useState(null),p=10;S.useEffect(()=>{E()},[]);const[y,w]=S.useState(!0),E=async()=>{try{const L=(await Rr(Jt(Ve,"incomingEvents"))).docs.map(U=>({id:U.id,...U.data()}));e(L)}catch(A){console.error("Error fetching data:",A)}finally{w(!1)}},j=()=>{const A=[...t].sort((L,U)=>o==="asc"?new Date(L.date)-new Date(U.date):new Date(U.date)-new Date(L.date));e(A),c(o==="asc"?"desc":"asc")},C=A=>{g(A)},O=async A=>{window.confirm("Are you sure you want to delete this entry?")&&(await kr(gt(Ve,"incomingEvents",A)),E())},I=t.filter(A=>(s===""||A.category===s)&&(A.title.toLowerCase().includes(n.toLowerCase())||A.classification.toLowerCase().includes(n.toLowerCase())||A.purpose.toLowerCase().includes(n.toLowerCase())||A.date.toLowerCase().includes(n.toLowerCase())||A.name.toLowerCase().includes(n.toLowerCase())||A.email.toLowerCase().includes(n.toLowerCase())||A.social.toLowerCase().includes(n.toLowerCase()))),D=()=>new Date().toISOString().split("T")[0],T=()=>{const A=t.map(({title:P,...K})=>({...K,tags:Array.isArray(K.tags)?K.tags.join(", "):"",origin:Array.isArray(K.origin)?K.origin.join(", "):"",headerImageSource:Array.isArray(K.headerImageSource)?K.headerImageSource.join(", "):"",references:Array.isArray(K.references)?K.references.join(", "):"",socials:Array.isArray(K.socials)?K.socials.join(", "):"",body:Array.isArray(K.body)?K.body.map(G=>JSON.stringify(G)).join("; "):""})),L=vt.json_to_sheet(A),U=vt.book_new();vt.book_append_sheet(U,L,"Data"),Fr(U,`tourism_incomingevents_infoguide_${D()}.xlsx`)},F=Math.ceil(I.length/p),_=I.slice(u*p,(u+1)*p),R=({selected:A})=>{h(A)},b=()=>{g(null)};return a.jsxs(B,{children:[a.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Incoming Events"}),a.jsx("p",{children:"List of Incoming Events."}),a.jsxs(V,{className:"mb-4 mt-4",children:[a.jsx(z,{md:4,className:"mb-2 me-2 col",children:a.jsx(v.Control,{type:"text",placeholder:`Search up to over ${t.length} articles`,value:n,onChange:A=>r(A.target.value)})}),a.jsx(z,{md:2,className:"mb-2 me-2 col",children:a.jsxs(v.Select,{value:s,onChange:A=>i(A.target.value),children:[a.jsx("option",{value:"",children:"All Category"}),[...new Set(t.map(A=>A.category))].map((A,L)=>a.jsx("option",{value:A,children:A},L))]})}),a.jsxs(B,{className:"d-flex justify-content-end align-items-center mt-2",children:[a.jsxs(se,{variant:"outline-secondary",className:"me-2",onClick:E,children:[a.jsx(we,{icon:Pr,size:"xs",fixedWidth:!0})," Refresh List"]}),a.jsxs(se,{variant:"outline-success",onClick:b,children:[a.jsx(we,{icon:Dr,size:"xs",fixedWidth:!0})," Add New"]})]})]}),y?a.jsx("div",{className:"d-flex justify-content-center align-items-center my-5",children:a.jsx(Sr,{animation:"border",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):_.length===0?a.jsx("div",{className:"text-center my-5",children:a.jsx("h5",{children:"No Data Available"})}):a.jsxs(Lr,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsxs("th",{onClick:j,style:{cursor:"pointer"},children:["Date ",o==="asc"?"":""]}),a.jsx("th",{children:"Classification"}),a.jsx("th",{children:"Title"}),a.jsx("th",{children:"Origin"}),a.jsx("th",{children:"References"}),a.jsx("th",{children:"Socials"})]})}),a.jsx("tbody",{children:_.map(A=>a.jsxs("tr",{children:[a.jsx("td",{children:new Date(A.date).toLocaleDateString()}),a.jsx("td",{children:A.classification}),a.jsx("td",{children:A.title}),a.jsx("td",{children:Array.isArray(A.origin)?A.origin.join(", "):A.origin}),a.jsx("td",{children:Array.isArray(A.references)?A.references.join(", "):A.references}),a.jsx("td",{children:Array.isArray(A.socials)?A.socials.join(", "):A.socials}),a.jsx("td",{children:a.jsxs(B,{className:"d-flex justify-content-center align-items-center",children:[a.jsx(Xt,{placement:"top",overlay:a.jsx(Gt,{children:"Edit"}),children:a.jsx(se,{variant:"outline-secondary",size:"sm",className:"me-2",onClick:()=>C(A),children:a.jsx(we,{icon:Ir,size:"xs",fixedWidth:!0})})}),a.jsx(Xt,{placement:"top",overlay:a.jsx(Gt,{children:"Delete"}),children:a.jsx(se,{variant:"outline-danger",size:"sm",onClick:()=>O(A.id),children:a.jsx(we,{icon:Pt,size:"xs",fixedWidth:!0})})})]})})]},A.id))})]}),a.jsxs(B,{className:"d-flex justify-content-between align-items-center mb-4 mt-2",children:[a.jsx(se,{onClick:T,variant:"outline-success",children:"Download Excel"}),a.jsx(Mr,{previousLabel:"",nextLabel:"",pageCount:F,onPageChange:R,containerClassName:"pagination mb-0",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})]}),f?a.jsx(eOe,{editingItem:f,toAddForm:()=>g(null)}):a.jsx(Qke,{})]})};class hK{constructor(){this.id="",this.category="",this.title="",this.body=[{subtitle:"",body:"",image:null,image_source:""}],this.headerImage=null,this.headerImageSource=[],this.tags=[],this.references=[]}toJSON(){return{...this}}}const fK=["To Bring","To Avoid","To Remember","To Support"],nOe=({index:t,section:e,onBodyImageDrop:n,dropzoneName:r="dropzone-container-small",previewName:s="dropzone-uploaded-image-small"})=>{const{getRootProps:i,getInputProps:o}=Vt({onDrop:u=>n(u,t),accept:"image/png, image/jpeg, image/jpg, video/mp4, video/webm, video/ogg"}),c=e.image?e.image instanceof File?URL.createObjectURL(e.image):e.image:null;return a.jsxs(B,{...i(),className:`${r} text-center w-100 ${c?"border-success":""}`,children:[a.jsx("input",{...o(),accept:"image/*,video/*"}),c?e.image instanceof File&&e.image.type.startsWith("video/")?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:c,type:e.image.type}),"Your browser does not support the video tag."]}):a.jsx("img",{src:c,alt:"Body Image Preview",className:s}):a.jsxs("p",{className:"text-muted",children:["Drag & Drop Image/Video Here or"," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})};function rOe(){const[t,e]=S.useState(new hK),[n,r]=S.useState(0);S.useEffect(()=>{},[]);const s=()=>{e({id:"",category:"",title:"",headerImage:null,headerImageSource:[],body:[{subtitle:"",body:"",image:null,image_source:""}],tags:[],references:[]}),r(T=>T+1)},i=(T,F)=>{if(Array.isArray(T))e(_=>({..._,[F]:T}));else if(typeof T=="string")e(_=>({..._,[F]:T}));else{const{name:_,value:R}=T.target;e(b=>({...b,[_]:R}))}},o=(T,F,_)=>{e(R=>{const b=[...R.body];return b[T]={...b[T],[F]:_},{...R,body:b}})},c=(T,F)=>{const _=T[0];_&&e(R=>{const b=[...R.body];return b[F]={...b[F],image:_,imageUrl:URL.createObjectURL(_)},{...R,body:b}})},u=()=>{e(T=>({...T,body:[...T.body,{subtitle:"",body:"",image:null,image_source:""}]}))},h=T=>{e(F=>{const _=F.body.filter((R,b)=>b!==T);return{...F,body:_}})},[f,g]=S.useState(null),[p,y]=S.useState(""),w=S.useCallback(T=>{T.length>0&&g(T[0])},[]),{getRootProps:E,getInputProps:j}=Vt({onDrop:w,accept:"image/*",disabled:!!p}),C=()=>{e(T=>({...T,headerImage:null}))},O=T=>{e(F=>{const _=[...F.body];return _[T]?(_[T]={..._[T],image:null},{...F,body:_}):F})},I=async(T,F)=>{const _=Wt(en,F);return await Qt(_,T),await Zt(_)},D=async T=>{T.preventDefault(),ve.fire({title:"Submitting...",text:"Please wait while we submit your sustainable tourism.",allowOutsideClick:!1,didOpen:()=>{ve.showLoading()}});try{let F=await I(t.headerImage,`sustainableTourism/${Date.now()}_${t.headerImage}`);const _=await Promise.all(t.body.map(async(L,U)=>L.image?await I(L.image,`sustainableTourism/${Date.now()}_${L.image.name}`):"")),R={id:"",category:t.category,title:t.title,headerImage:F,headerImageSource:t.headerImageSource,body:t.body.map((L,U)=>({subtitle:L.subtitle,body:L.body,image:_[U]||"",image_source:L.image_source})),tags:t.tags,references:t.references},b=await Or(Jt(Ve,"sustainableTourism"),R),A=gt(Ve,"sustainableTourism",b.id);await A(A,{id:b.id}),ve.fire({title:"Sustainable Tourism Events Submitted",text:"Your Sustainable Tourism events has been submitted successfully!",icon:"success"}),s(),C()}catch(F){console.error("Error submitting sustainable tourism events:",F),ve.fire({title:"Error",text:"There was an issue submitting your sustainable tourism events. Please try again.",icon:"error"})}};return S.useRef(null),a.jsxs(v,{className:"custom-form body-container",onSubmit:D,onKeyDown:T=>T.key==="Enter"&&T.preventDefault(),children:[a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"category",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Category"}),a.jsxs(v.Select,{name:"category",value:t.category,onChange:i,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Category"}),fK.map((T,F)=>a.jsx("option",{value:T,children:T},F))]})]})}),a.jsx(z,{md:6,children:a.jsx(B,{className:"empty-container"})})]}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Title"}),a.jsx(v.Control,{type:"text",name:"title",className:"fw-bold",value:t.title,onChange:i,placeholder:"Enter title",required:!0})]})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{className:"my-2",children:[a.jsx(v.Label,{className:"label",children:"Upload Header Image (800x400)"}),a.jsx(mn,{storyForm:t,setStoryForm:e,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"}),a.jsxs(B,{className:"d-flex justify-content-between mt-2",children:[a.jsx("p",{className:"subtitle",children:"Supported File: PNG, JPEG, and JPG"}),a.jsx("p",{className:"subtitle",children:"Maximum size: 25MB"})]}),a.jsx(B,{className:"d-flex justify-content-end",children:f&&(p?null:a.jsxs(se,{className:"my-2",variant:"outline-danger",onClick:C,children:[a.jsx(we,{className:"button-icon",icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]}))})]})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:T=>i(T,"headerImageSource"),label:"Header Image Sources (Type & Enter)",editingItems:t.headerImageSource,resetKey:n})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsxs(z,{md:12,children:[a.jsx("p",{className:"label mb-2",children:"Body Sections"}),t.body.map((T,F)=>a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(B,{className:"empty-container"}),a.jsxs(v.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(v.Label,{className:"label",children:"Subtitle (Optional)"}),a.jsx(v.Control,{type:"text",className:"fw-bold",value:T.subtitle,onChange:_=>o(F,"subtitle",_.target.value)})]}),a.jsxs(z,{className:"col me-lg-2 me-md-1",children:[a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Image (Optional)"}),a.jsx(nOe,{index:F,section:T,onBodyImageDrop:c,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"}),T.image&&a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{className:"mt-2 mb-1",variant:"outline-danger",onClick:()=>O(F),children:[a.jsx(we,{icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]})})]}),a.jsxs(v.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(v.Label,{className:"label",children:"Image Source (Optional)"}),a.jsx(v.Control,{placeholder:"e.g. @boracayphotos or /islanders or #trivago or www.trivago.com",type:"text",value:T.image_source,onChange:_=>o(F,"image_source",_.target.value)})]})]}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(v.Group,{className:"mb-5",children:[a.jsx(v.Label,{className:"label",children:"Body"}),a.jsx(rr,{index:F,section:T,handleBodyChange:o})]})}),t.body.length>1&&a.jsx(B,{className:"mb-4 d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-danger",type:"button",onClick:()=>h(F),className:"mt-3 w-full",children:[a.jsx(we,{icon:Pt,size:"xs",fixedWidth:!0})," Delete Section"]})})]},F)),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-success",type:"button",onClick:u,className:"mb-3",children:[a.jsx(we,{icon:nr,size:"xs",fixedWidth:!0})," Add Section"]})})]})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:T=>i(T,"references"),label:"References (Type & Enter)",caption:"postings or website links to redirect users",editingItems:t.references,resetKey:n})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:T=>i(T,"tags"),label:"Tags (Type & Enter)",editingItems:t.tags,resetKey:n,caption:"imporant tags for Optimization"})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",onClick:s,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full",onClick:D,children:"Submit Sustainbale Tourism"})]})]})}const sOe=({index:t,section:e,onBodyImageDrop:n,dropzoneName:r="dropzone-container-small",previewName:s="dropzone-uploaded-image-small"})=>{const{getRootProps:i,getInputProps:o}=Vt({onDrop:y=>n(y,t),accept:"image/png, image/jpeg, image/jpg, video/mp4, video/webm, video/ogg"}),c=e.image instanceof File,u=typeof e.image=="string"&&/\.(mp4|webm|ogg)(\?.*)?$/i.test(e.image),h=typeof e.image=="string"&&!u,f=c?URL.createObjectURL(e.image):null,g=h?e.image:null,p=u?e.image:null;return a.jsxs(B,{...i(),className:`${r} text-center w-100 ${f||g||p?"border-success":""}`,children:[a.jsx("input",{...o(),accept:"image/*,video/*"}),f?e.image.type.startsWith("video/")?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:f,type:e.image.type}),"Your browser does not support the video tag."]}):a.jsx("img",{src:f,alt:"Uploaded File Preview",className:s}):p?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:p,type:"video/mp4"}),"Your browser does not support the video tag."]}):g?a.jsx("img",{src:g,alt:"Image URL Preview",className:s}):a.jsxs("p",{className:"text-muted",children:["Drag & Drop Image/Video Here or"," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})};function aOe({editingItem:t,toAddForm:e}){const[n,r]=S.useState(new hK),[s,i]=S.useState(0);S.useEffect(()=>{t&&(r(_=>({..._,id:t.id||"",category:t.category||"",title:t.title||"",headerImage:t.headerImage||"",headerImageSource:t.headerImageSource||[],body:t.body.map((R,b)=>({subtitle:R.subtitle||"",body:R.body||"",image:R.image||"",image_source:R.image_source||""})),tags:t.tags||[],references:t.references||[]})),t.category&&setSelectedCategory(t.category||""))},[t]);const o=()=>{r({id:"",category:"",title:"",headerImage:null,headerImageSource:[],body:[{subtitle:"",body:"",image:null,image_source:""}],tags:[],references:[]}),i(_=>_+1)},c=(_,R)=>{if(Array.isArray(_))r(b=>({...b,[R]:_}));else if(typeof _=="string")r(b=>({...b,[R]:_}));else{const{name:b,value:A}=_.target;r(L=>({...L,[b]:A}))}},u=(_,R,b)=>{r(A=>{const L=[...A.body];return L[_]={...L[_],[R]:b},{...A,body:L}})},h=(_,R)=>{const b=_[0];b&&r(A=>{const L=[...A.body];return L[R]={...L[R],image:b,imageUrl:URL.createObjectURL(b)},{...A,body:L}})},f=()=>{r(_=>({..._,body:[..._.body,{subtitle:"",body:"",image:null,image_source:""}]}))},g=_=>{r(R=>{const b=R.body.filter((A,L)=>L!==_);return{...R,body:b}})},[p,y]=S.useState(null),[w,E]=S.useState(""),j=S.useCallback(_=>{_.length>0&&y(_[0])},[]),{getRootProps:C,getInputProps:O}=Vt({onDrop:j,accept:"image/*",disabled:!!w}),I=()=>{r(_=>({..._,headerImage:null}))},D=_=>{r(R=>{const b=[...R.body];return b[_]?(b[_]={...b[_],image:null},{...R,body:b}):R})},T=async(_,R)=>{const b=Wt(en,R);return await Qt(b,_),await Zt(b)},F=async _=>{_.preventDefault(),ve.fire({title:"Updating...",text:"Please wait while we update the sustainable tourism.",allowOutsideClick:!1,didOpen:()=>{ve.showLoading()}});try{let R;storyFormData.headerImage instanceof File?(t&&t.headerImage&&await $t(t.headerImage),R=await T(storyFormData.headerImage,`sustainableTourism/${Date.now()}_${storyFormData.headerImage.name}`)):R=storyFormData.headerImage;const b=await Promise.all(storyFormData.body.map(async(U,P)=>U.image instanceof File?(t&&t.body&&t.body[P]&&t.body[P].image&&await $t(t.body[P].image),await T(U.image,`sustainableTourism/${Date.now()}_${U.image.name}`)):U.image)),A={category:n.category,title:n.title,headerImage:R,headerImageSource:n.headerImageSource,body:n.body.map((U,P)=>({subtitle:U.subtitle,body:U.body,image:b[P]||"",image_source:U.image_source})),tags:n.tags,references:n.references},L=gt(Ve,"sustainableTourism",storyFormData.id);await rn(L,A),ve.fire({title:"Sustainable Tourism Events Posted",text:"Your Sustainable Tourism events has been edited successfully!",icon:"success"}),setBodyImages([]),I(),e()}catch(R){console.error("Error updating data:",R),ve.fire({title:"Error",text:"There was an issue updating your data. Please try again.",icon:"error"})}};return S.useRef(null),a.jsxs(v,{className:"custom-form body-container",onSubmit:F,onKeyDown:_=>_.key==="Enter"&&_.preventDefault(),children:[a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"category",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Category"}),a.jsxs(v.Select,{name:"category",value:n.category,onChange:c,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Category"}),fK.map((_,R)=>a.jsx("option",{value:_,children:_},R))]})]})}),a.jsx(z,{md:6,children:a.jsx(B,{className:"empty-container"})})]}),a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Start Date & Time"}),a.jsx(v.Control,{type:"datetime-local",name:"dateTimeStart",value:n.dateTimeStart,onChange:c,required:!0})]})}),a.jsx(z,{md:6,children:a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"End Date & Time"}),a.jsx(v.Control,{type:"datetime-local",name:"dateTimeEnd",value:n.dateTimeEnd,onChange:c,min:n.dateTimeStart,disabled:!n.dateTimeStart,required:!0})]})})]}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Title"}),a.jsx(v.Control,{type:"text",name:"title",className:"fw-bold",value:n.title,onChange:c,placeholder:"Enter title",required:!0})]})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{className:"my-2",children:[a.jsx(v.Label,{className:"label",children:"Upload Header Image (800x400)"}),a.jsx(mn,{storyForm:n,setStoryForm:r,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"}),a.jsxs(B,{className:"d-flex justify-content-between mt-2",children:[a.jsx("p",{className:"subtitle",children:"Supported File: PNG, JPEG, and JPG"}),a.jsx("p",{className:"subtitle",children:"Maximum size: 25MB"})]}),a.jsx(B,{className:"d-flex justify-content-end",children:p&&(w?null:a.jsxs(se,{className:"my-2",variant:"outline-danger",onClick:I,children:[a.jsx(we,{className:"button-icon",icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]}))})]})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:_=>c(_,"headerImageSource"),label:"Header Image Sources (Type & Enter)",editingItems:n.headerImageSource,resetKey:s})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsxs(z,{md:12,children:[a.jsx("p",{className:"label mb-2",children:"Body Sections"}),n.body.map((_,R)=>a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(B,{className:"empty-container"}),a.jsxs(v.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(v.Label,{className:"label",children:"Subtitle (Optional)"}),a.jsx(v.Control,{type:"text",className:"fw-bold",value:_.subtitle,onChange:b=>u(R,"subtitle",b.target.value)})]}),a.jsxs(z,{className:"col me-lg-2 me-md-1",children:[a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Image (Optional)"}),a.jsx(sOe,{index:R,section:_,onBodyImageDrop:h,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"}),_.image&&a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{className:"mt-2 mb-1",variant:"outline-danger",onClick:()=>D(R),children:[a.jsx(we,{icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]})})]}),a.jsxs(v.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(v.Label,{className:"label",children:"Image Source (Optional)"}),a.jsx(v.Control,{placeholder:"e.g. @boracayphotos or /islanders or #trivago or www.trivago.com",type:"text",value:_.image_source,onChange:b=>u(R,"image_source",b.target.value)})]})]}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(v.Group,{className:"mb-5",children:[a.jsx(v.Label,{className:"label",children:"Body"}),a.jsx(rr,{index:R,section:_,handleBodyChange:u})]})}),n.body.length>1&&a.jsx(B,{className:"mb-4 d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-danger",type:"button",onClick:()=>g(R),className:"mt-3 w-full",children:[a.jsx(we,{icon:Pt,size:"xs",fixedWidth:!0})," Delete Section"]})})]},R)),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-success",type:"button",onClick:f,className:"mb-3",children:[a.jsx(we,{icon:nr,size:"xs",fixedWidth:!0})," Add Section"]})})]})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:_=>c(_,"references"),label:"References (Type & Enter)",caption:"postings or website links to redirect users",editingItems:n.references,resetKey:s})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:_=>c(_,"tags"),label:"Tags (Type & Enter)",editingItems:n.tags,resetKey:s,caption:"imporant tags for Optimization"})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",onClick:o,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full",onClick:F,children:"Submit Update"})]})]})}const iOe=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(""),[s,i]=S.useState(""),[o,c]=S.useState("asc"),[u,h]=S.useState(0),[f,g]=S.useState(null),p=10;S.useEffect(()=>{E()},[]);const[y,w]=S.useState(!0),E=async()=>{try{const L=(await Rr(Jt(Ve,"sustainableTourism"))).docs.map(U=>({id:U.id,...U.data()}));e(L)}catch(A){console.error("Error fetching data:",A)}finally{w(!1)}},j=()=>{const A=[...t].sort((L,U)=>o==="asc"?new Date(L.date)-new Date(U.date):new Date(U.date)-new Date(L.date));e(A),c(o==="asc"?"desc":"asc")},C=A=>{g(A)},O=async A=>{window.confirm("Are you sure you want to delete this entry?")&&(await kr(gt(Ve,"sustainableTourism",A)),E())},I=t.filter(A=>(s===""||A.category===s)&&(A.title.toLowerCase().includes(n.toLowerCase())||A.classification.toLowerCase().includes(n.toLowerCase())||A.purpose.toLowerCase().includes(n.toLowerCase())||A.date.toLowerCase().includes(n.toLowerCase())||A.name.toLowerCase().includes(n.toLowerCase())||A.email.toLowerCase().includes(n.toLowerCase())||A.social.toLowerCase().includes(n.toLowerCase()))),D=()=>new Date().toISOString().split("T")[0],T=()=>{const A=t.map(({title:P,...K})=>({...K,tags:Array.isArray(K.tags)?K.tags.join(", "):"",origin:Array.isArray(K.origin)?K.origin.join(", "):"",headerImageSource:Array.isArray(K.headerImageSource)?K.headerImageSource.join(", "):"",references:Array.isArray(K.references)?K.references.join(", "):"",socials:Array.isArray(K.socials)?K.socials.join(", "):"",body:Array.isArray(K.body)?K.body.map(G=>JSON.stringify(G)).join("; "):""})),L=vt.json_to_sheet(A),U=vt.book_new();vt.book_append_sheet(U,L,"Data"),Fr(U,`tourism_sustainableTourism_infoguide_${D()}.xlsx`)},F=Math.ceil(I.length/p),_=I.slice(u*p,(u+1)*p),R=({selected:A})=>{h(A)},b=()=>{g(null)};return a.jsxs(B,{children:[a.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Sustainable Tourism"}),a.jsx("p",{children:"List of Sustainable Tourism Practices."}),a.jsxs(V,{className:"mb-4 mt-4",children:[a.jsx(z,{md:4,className:"mb-2 me-2 col",children:a.jsx(v.Control,{type:"text",placeholder:`Search up to over ${t.length} articles`,value:n,onChange:A=>r(A.target.value)})}),a.jsx(z,{md:2,className:"mb-2 me-2 col",children:a.jsxs(v.Select,{value:s,onChange:A=>i(A.target.value),children:[a.jsx("option",{value:"",children:"All Category"}),[...new Set(t.map(A=>A.category))].map((A,L)=>a.jsx("option",{value:A,children:A},L))]})}),a.jsxs(B,{className:"d-flex justify-content-end align-items-center mt-2",children:[a.jsxs(se,{variant:"outline-secondary",className:"me-2",onClick:E,children:[a.jsx(we,{icon:Pr,size:"xs",fixedWidth:!0})," Refresh List"]}),a.jsxs(se,{variant:"outline-success",onClick:b,children:[a.jsx(we,{icon:Dr,size:"xs",fixedWidth:!0})," Add New"]})]})]}),y?a.jsx("div",{className:"d-flex justify-content-center align-items-center my-5",children:a.jsx(Sr,{animation:"border",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):_.length===0?a.jsx("div",{className:"text-center my-5",children:a.jsx("h5",{children:"No Data Available"})}):a.jsxs(Lr,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsxs("th",{onClick:j,style:{cursor:"pointer"},children:["Date ",o==="asc"?"":""]}),a.jsx("th",{children:"Classification"}),a.jsx("th",{children:"Title"}),a.jsx("th",{children:"Origin"}),a.jsx("th",{children:"References"}),a.jsx("th",{children:"Socials"})]})}),a.jsx("tbody",{children:_.map(A=>a.jsxs("tr",{children:[a.jsx("td",{children:new Date(A.date).toLocaleDateString()}),a.jsx("td",{children:A.classification}),a.jsx("td",{children:A.title}),a.jsx("td",{children:Array.isArray(A.origin)?A.origin.join(", "):A.origin}),a.jsx("td",{children:Array.isArray(A.references)?A.references.join(", "):A.references}),a.jsx("td",{children:Array.isArray(A.socials)?A.socials.join(", "):A.socials}),a.jsx("td",{children:a.jsxs(B,{className:"d-flex justify-content-center align-items-center",children:[a.jsx(Xt,{placement:"top",overlay:a.jsx(Gt,{children:"Edit"}),children:a.jsx(se,{variant:"outline-secondary",size:"sm",className:"me-2",onClick:()=>C(A),children:a.jsx(we,{icon:Ir,size:"xs",fixedWidth:!0})})}),a.jsx(Xt,{placement:"top",overlay:a.jsx(Gt,{children:"Delete"}),children:a.jsx(se,{variant:"outline-danger",size:"sm",onClick:()=>O(A.id),children:a.jsx(we,{icon:Pt,size:"xs",fixedWidth:!0})})})]})})]},A.id))})]}),a.jsxs(B,{className:"d-flex justify-content-between align-items-center mb-4 mt-2",children:[a.jsx(se,{onClick:T,variant:"outline-success",children:"Download Excel"}),a.jsx(Mr,{previousLabel:"",nextLabel:"",pageCount:F,onPageChange:R,containerClassName:"pagination mb-0",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})]}),f?a.jsx(aOe,{editingItem:f,toAddForm:()=>g(null)}):a.jsx(rOe,{})]})};class ST{constructor(){this.id="",this.name="",this.category=[],this.body=[{subtitle:"",body:"",image:null,image_source:""}],this.images=[],this.operatinghours=[],this.accessibility="",this.headerImage=null,this.address={street:"",barangay:"",town:"",region:"",province:"",country:"",lat:"",long:""},this.link="",this.geo="",this.note="",this.howToGetThere="",this.tags=[],this.thingsToDo=[]}toJSON(){return{...this}}}const mK=["Marvels of Malay","Beaches","Parks & Nature Reserves","Museums & Art Galleries","Historical Landmarks","Amusement Parks","Zoos & Wildlife Sanctuaries","Waterfalls","Mountains & Hiking Trails","Caves & Underground Rivers","Religious Sites & Temples","Lakes","Rivers","Cultural Villages","Botanical Gardens","Scenic Viewpoints","Adventure & Theme Parks","Eco-Tourism Sites","Diving & Snorkeling Spots","Hot Springs & Wellness Retreats","Festivals & Events","Cold Springs","Camping and Glamping Area","Food & Culinary Attractions","Living Museum","Experiencial Tour"],oOe=({index:t,section:e,onBodyImageDrop:n,dropzoneName:r="dropzone-container-small",previewName:s="dropzone-uploaded-image-small"})=>{const{getRootProps:i,getInputProps:o}=Vt({onDrop:u=>n(u,t),accept:"image/png, image/jpeg, image/jpg, video/mp4, video/webm, video/ogg"}),c=e.image?e.image instanceof File?URL.createObjectURL(e.image):e.image:null;return a.jsxs(B,{...i(),className:`${r} text-center w-100 ${c?"border-success":""}`,children:[a.jsx("input",{...o(),accept:"image/*,video/*"}),c?e.image instanceof File&&e.image.type.startsWith("video/")?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:c,type:e.image.type}),"Your browser does not support the video tag."]}):a.jsx("img",{src:c,alt:"Body Image Preview",className:s}):a.jsxs("p",{className:"text-muted",children:["Drag & Drop Image/Video Here or"," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})};function lOe({}){const[t,e]=S.useState(0),[n,r]=S.useState(new ST),s=(E,j)=>{if(Array.isArray(E))r(C=>({...C,[j]:E}));else if(typeof E=="string")r(C=>({...C,[j]:E}));else{const{name:C,value:O}=E.target;r(I=>({...I,[C]:O}))}},i=(E,j,C)=>{r(O=>{const I=[...O.body];return I[E]={...I[E],[j]:C},{...O,body:I}})},o=(E,j)=>{const C=E[0];C&&r(O=>{const I=[...O.body];return I[j]={...I[j],image:C,imageUrl:URL.createObjectURL(C)},{...O,body:I}})},c=()=>{r(E=>({...E,body:[...E.body,{subtitle:"",body:"",image:null,image_source:""}]}))},u=E=>{r(j=>{const C=j.body.filter((O,I)=>I!==E);return{...j,body:C}})},h=(E,j)=>{if(!E){console.warn("handleLocationSelect received null position.");return}r(C=>({...C,address:{...C.address,lat:E.lat||"",long:E.lng||""},link:j||""}))},f=async(E,j)=>{const C=Wt(en,j);return await Qt(C,E),await Zt(C)},g=async E=>{E.preventDefault(),ve.fire({title:"Submitting...",text:"Please wait while we submit your attractions data.",allowOutsideClick:!1,didOpen:()=>{ve.showLoading()}});try{let j=n.headerImage?await f(n.headerImage,`attractions/${Date.now()}_${n.headerImage.name}`):null;const C=await Promise.all(n.images.map(async F=>F?await f(F,`attractions/${Date.now()}_${F.name}`):"")),O=await Promise.all(n.body.map(async(F,_)=>F.image?await f(F.image,`attractions/${Date.now()}_${F.image.name}`):"")),I=new ST;I.id="",I.name=n.name,I.category=n.category||[],I.body=n.body.map((F,_)=>({subtitle:F.subtitle||"",body:F.body||"",image:O[_]||"",image_source:F.image_source||""})),I.images=C,I.operatinghours=n.operatinghours||[],I.accessibility=n.accessibility||[],I.headerImage=j,I.address={...n.address},I.link=n.link,I.geo=n.geo,I.note=n.note,I.howToGetThere=n.howToGetThere,I.tags=n.tags,I.thingsToDo=n.thingsToDo;const D=await Or(Jt(Ve,"attractions"),I.toJSON()),T=gt(Ve,"attractions",D.id);await rn(T,{id:D.id}),ve.fire({title:"Attractions Submitted",text:"Your data has been submitted successfully!",icon:"success"}),y(),p()}catch(j){console.error("Error submitting data:",j),ve.fire({title:"Error",text:"There was an issue submitting your data. Please try again.",icon:"error"})}},p=()=>{r(E=>({...E,headerImage:null}))},y=()=>{r({id:"",name:"",category:[],body:[{subtitle:"",body:"",image:null,image_source:""}],images:[],operatinghours:[],accessibility:[],headerImage:null,address:{street:"",barangay:"",town:"",region:"",province:"",country:"",lat:"",long:""},link:"",geo:"",note:"",thingsToDo:[],tags:[],howToGetThere:""}),e(E=>E+1)},w=E=>{r(j=>{const C=[...j.body];return C[E]?(C[E]={...C[E],image:null},{...j,body:C}):j})};return a.jsxs(v,{className:"custom-form body-container",onSubmit:g,onKeyDown:E=>E.key==="Enter"&&E.preventDefault(),children:[a.jsx(V,{children:a.jsx(z,{md:6,children:a.jsx(qn,{onChange:E=>s(E,"category"),options:mK,resetKey:t,editingItems:n.category,label:"Categories"})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Attraction Name"}),a.jsx(v.Control,{type:"text",placeholder:"Enter attraction name",name:"name",value:n.name,onChange:s,required:!0})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Cover Photo"}),a.jsx(mn,{storyForm:n,setStoryForm:r,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsxs(z,{md:12,children:[a.jsx("p",{className:"label mb-2",children:"Body Sections"}),n.body.map((E,j)=>a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(B,{className:"empty-container"}),a.jsxs(v.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(v.Label,{className:"label",children:"Subtitle (Optional)"}),a.jsx(v.Control,{type:"text",className:"fw-bold",value:E.subtitle,onChange:C=>i(j,"subtitle",C.target.value)})]}),a.jsxs(z,{className:"col me-lg-2 me-md-1",children:[a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Image (Optional)"}),a.jsx(oOe,{index:j,section:E,onBodyImageDrop:o,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"}),E.image&&a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{className:"mt-2 mb-1",variant:"outline-danger",onClick:()=>w(j),children:[a.jsx(we,{icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]})})]}),a.jsxs(v.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(v.Label,{className:"label",children:"Image Source (Optional)"}),a.jsx(v.Control,{placeholder:"e.g. @boracayphotos or /islanders or #trivago or www.trivago.com",type:"text",value:E.image_source,onChange:C=>i(j,"image_source",C.target.value)})]})]}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(v.Group,{className:"mb-5",children:[a.jsx(v.Label,{className:"label",children:"Body"}),a.jsx(rr,{index:j,section:E,handleBodyChange:i})]})}),n.body.length>1&&a.jsx(B,{className:"mb-4 d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-danger",type:"button",onClick:()=>u(j),className:"mt-3 w-full",children:[a.jsx(we,{icon:Pt,size:"xs",fixedWidth:!0})," Delete Section"]})})]},j)),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-success",type:"button",onClick:c,className:"mb-3",children:[a.jsx(we,{icon:nr,size:"xs",fixedWidth:!0})," Add Section"]})})]})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Si,{groupData:n,setGroupData:r,resetKey:t})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Ci,{onLocationSelect:h,name:n.name||"",resetKey:t})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"link",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Google Map Link"}),a.jsx(v.Control,{type:"text",placeholder:"Select Location First",name:"link",value:n.link,onChange:s,readOnly:!0})]})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"lat",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Lattitude"}),a.jsx(v.Control,{type:"text",placeholder:"Select Location First",name:"lat",value:n.address.lat,onChange:s,readOnly:!0})]})}),a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"long",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Longitude"}),a.jsx(v.Control,{type:"text",placeholder:"Select Location First",name:"long",value:n.address.long,onChange:s,readOnly:!0})]})})]}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"accessibility",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Geographical Location"}),a.jsxs(v.Select,{name:"geo",value:n.geo,onChange:s,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Geo Location"}),Ni.map((E,j)=>a.jsx("option",{value:E,children:E},j))]})]})}),a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"accessibility",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Accessibility"}),a.jsxs(v.Select,{name:"accessibility",value:n.accessibility,onChange:s,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Accessibility"}),Fo.map((E,j)=>a.jsx("option",{value:E,children:E},j))]})]})})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",children:[a.jsx(v.Label,{className:"label me-2",children:"Promotional & Marketing Photos"}),a.jsx(Rs,{dataForm:n,setDataForm:r,caption:"Drag & drop images or click to select (Max: 10)",dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:E=>s(E,"operatinghours"),label:"Operating Hours (Type & Enter)",editingItems:n.operatinghours,resetKey:t,caption:"format: hh:mm A  | e.g. 08:00 AM | n/a for not applicable"})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsx($e,{onChange:E=>s(E,"tags"),label:"Tags (Type & Enter)",editingItems:n.tags,resetKey:t})}),a.jsx(z,{md:6,children:a.jsx($e,{onChange:E=>s(E,"thingsToDo"),label:"Things To Do (Type & Enter)",editingItems:n.thingsToDo,resetKey:t})})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"howToGetThere",className:"mb-5 mt-2",children:[a.jsx(v.Label,{className:"label",children:"How To Get There?"}),a.jsx(On,{theme:"snow",value:n.howToGetThere||"",onChange:E=>s(E,"howToGetThere"),required:!0,style:{height:"300px"}})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"note",className:"mb-5 mt-2",children:[a.jsx(v.Label,{className:"label",children:"Notes, Reminders, Remarks, and Other Details"}),a.jsx(On,{theme:"snow",value:n.note||"",onChange:E=>s(E,"note"),required:!0,style:{height:"300px"}})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:y,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:g,children:"Submit Attraction"})]})}),a.jsx(B,{className:"empty-container"})]})}const cOe=({index:t,section:e,onBodyImageDrop:n,dropzoneName:r="dropzone-container-small",previewName:s="dropzone-uploaded-image-small"})=>{const{getRootProps:i,getInputProps:o}=Vt({onDrop:y=>n(y,t),accept:"image/png, image/jpeg, image/jpg, video/mp4, video/webm, video/ogg"}),c=e.image instanceof File,u=typeof e.image=="string"&&/\.(mp4|webm|ogg)(\?.*)?$/i.test(e.image),h=typeof e.image=="string"&&!u,f=c?URL.createObjectURL(e.image):null,g=h?e.image:null,p=u?e.image:null;return a.jsxs(B,{...i(),className:`${r} text-center w-100 ${f||g||p?"border-success":""}`,children:[a.jsx("input",{...o(),accept:"image/*,video/*"}),f?e.image.type.startsWith("video/")?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:f,type:e.image.type}),"Your browser does not support the video tag."]}):a.jsx("img",{src:f,alt:"Uploaded File Preview",className:s}):p?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:p,type:"video/mp4"}),"Your browser does not support the video tag."]}):g?a.jsx("img",{src:g,alt:"Image URL Preview",className:s}):a.jsxs("p",{className:"text-muted",children:["Drag & Drop Image/Video Here or"," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})};function uOe({editingItem:t,toAddForm:e}){const[n,r]=S.useState(0),[s,i]=S.useState(new ST),o=(_,R)=>{if(Array.isArray(_))i(b=>({...b,[R]:_}));else if(typeof _=="string")i(b=>({...b,[R]:_}));else{const{name:b,value:A}=_.target;i(L=>({...L,[b]:A}))}};S.useEffect(()=>{t&&i(_=>({..._,id:t.id||"",name:t.name||"",category:t.category||[],body:t.body.map((R,b)=>({subtitle:R.subtitle||"",body:R.body||"",image:R.image||"",image_source:R.image_source||""})),images:t.images||[],operatinghours:t.operatinghours||[],accessibility:t.accessibility||"",headerImage:t.headerImage||"",address:{street:t.address.street||"",barangay:t.address.barangay||"",town:t.address.town||"",region:t.address.region||"",province:t.address.province||"",country:t.address.country||"Philippines",lat:t.address.lat||"",long:t.address.long||""},link:t.link||"",geo:t.geo||"",note:t.note||"",howToGetThere:t.howToGetThere||"",thingsToDo:t.thingsToDo||[],tags:t.tags||[]}))},[t]);const c=(_,R,b)=>{i(A=>{const L=[...A.body];return L[_]={...L[_],[R]:b},{...A,body:L}})},u=(_,R)=>{const b=_[0];b&&i(A=>{const L=[...A.body];return L[R]={...L[R],image:b,imageUrl:URL.createObjectURL(b)},{...A,body:L}})},h=()=>{i(_=>({..._,body:[..._.body,{subtitle:"",body:"",image:null,image_source:""}]}))},f=_=>{i(R=>{const b=R.body.filter((A,L)=>L!==_);return{...R,body:b}})},g=(_,R)=>{if(!_){console.warn("handleLocationSelect received null position.");return}i(b=>({...b,address:{...b.address,lat:_.lat||"",long:_.lng||""},link:R||""}))},p=async(_,R)=>{const b=Wt(en,R);return await Qt(b,_),await Zt(b)},y=async _=>{_.preventDefault(),ve.fire({title:"Submitting...",text:"Please wait while we updating your attractions data.",allowOutsideClick:!1,didOpen:()=>{ve.showLoading()}});try{let R=s.headerImage;s.headerImage instanceof File&&(t&&t.headerImage&&await $t(t.headerImage),R=await p(s.headerImage,`attractions/${Date.now()}_${s.headerImage.name}`));const b=await Promise.all(s.images.map(async(P,K)=>P instanceof File?(t&&t.images&&t.images[K]&&(await $t(t.images[K]),console.log("deleted images")),await p(P,`attractions/${Date.now()}_${P.name}`)):P)),A=await Promise.all(s.body.map(async(P,K)=>P.image instanceof File?(t&&t.body&&t.body[K]&&t.body[K].image&&await $t(t.body[K].image),await p(P.image,`attractions/${Date.now()}_${P.image.name}`)):P.image)),L={id:t?t.id:"",name:s.name,category:s.category||[],body:s.body.map((P,K)=>({subtitle:P.subtitle,body:P.body,image:A[K]||"",image_source:P.image_source})),images:b,operatinghours:s.operatinghours||[],accessibility:s.accessibility||[],headerImage:R,address:{...s.address},link:s.link,geo:s.geo,note:s.note,howToGetThere:s.howToGetThere,tags:s.tags,thingsToDo:s.thingsToDo},U=gt(Ve,"attractions",s.id);await rn(U,L),ve.fire({title:"Attraction Posted",text:"Your Attraction has been edited successfully!",icon:"success"}),w(),e()}catch(R){console.error("Error submitting data:",R),ve.fire({title:"Error",text:"There was an issue submitting your data. Please try again.",icon:"error"})}},w=()=>{i(_=>({..._,headerImage:null}))},E=()=>{i({id:"",name:"",category:[],body:[{subtitle:"",body:"",image:null,image_source:""}],images:[],operatinghours:[],accessibility:[],headerImage:null,address:{street:"",barangay:"",town:"",region:"",province:"",country:"",lat:"",long:""},link:"",geo:"",note:"",thingsToDo:[],tags:[],howToGetThere:""}),r(_=>_+1)},j=_=>{i(R=>{const b=[...R.body];return b[_]?(b[_]={...b[_],image:null},{...R,body:b}):R})},[C,O]=S.useState(!1),I=()=>{O(!C)},[D,T]=S.useState(!1),F=()=>{T(!D)};return a.jsxs(v,{className:"custom-form body-container",onSubmit:y,onKeyDown:_=>_.key==="Enter"&&_.preventDefault(),children:[a.jsx(V,{children:a.jsx(z,{md:6,children:a.jsx(qn,{onChange:_=>o(_,"category"),options:mK,resetKey:n,editingItems:s.category,label:"Categories"})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Attraction Name"}),a.jsx(v.Control,{type:"text",placeholder:"Enter attraction name",name:"name",value:s.name,onChange:o,required:!0})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Cover Photo"}),a.jsx(mn,{storyForm:s,setStoryForm:i,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsxs(z,{md:12,children:[a.jsx("p",{className:"label mb-2",children:"Body Sections"}),s.body.map((_,R)=>a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(B,{className:"empty-container"}),a.jsxs(v.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(v.Label,{className:"label",children:"Subtitle (Optional)"}),a.jsx(v.Control,{type:"text",className:"fw-bold",value:_.subtitle,onChange:b=>c(R,"subtitle",b.target.value)})]}),a.jsxs(z,{className:"col me-lg-2 me-md-1",children:[a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Image (Optional)"}),a.jsx(cOe,{index:R,section:_,onBodyImageDrop:u,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"}),_.image&&a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{className:"mt-2 mb-1",variant:"outline-danger",onClick:()=>j(R),children:[a.jsx(we,{icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]})})]}),a.jsxs(v.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(v.Label,{className:"label",children:"Image Source (Optional)"}),a.jsx(v.Control,{placeholder:"e.g. @boracayphotos or /islanders or #trivago or www.trivago.com",type:"text",value:_.image_source,onChange:b=>c(R,"image_source",b.target.value)})]})]}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(v.Group,{className:"mb-5",children:[a.jsx(v.Label,{className:"label",children:"Body"}),a.jsx(rr,{index:R,section:_,handleBodyChange:c})]})}),s.body.length>1&&a.jsx(B,{className:"mb-4 d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-danger",type:"button",onClick:()=>f(R),className:"mt-3 w-full",children:[a.jsx(we,{icon:Pt,size:"xs",fixedWidth:!0})," Delete Section"]})})]},R)),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-success",type:"button",onClick:h,className:"mb-3",children:[a.jsx(we,{icon:nr,size:"xs",fixedWidth:!0})," Add Section"]})})]})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:C?a.jsx(Si,{groupData:s,setGroupData:i,resetKey:n}):a.jsxs(v.Group,{className:"mt-3 mb-3",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[a.jsx(v.Label,{className:"label mb-2",children:"Local Business Address"}),a.jsx(se,{variant:"outline-danger",className:"mb-2",onClick:I,children:C?"Cancel":"Edit Address"})]}),a.jsxs(a.Fragment,{children:[a.jsx(v.Control,{className:"mb-3",type:"text",name:"address.country",placeholder:"Country",value:s.address.country,readOnly:!0}),a.jsx(v.Control,{className:"my-3",type:"text",name:"address.region",placeholder:"Region",value:s.address.region,readOnly:!0}),a.jsx(v.Control,{className:"my-3",type:"text",name:"address.province",placeholder:"Province",value:s.address.province,readOnly:!0}),a.jsx(v.Control,{className:"my-3",type:"text",name:"address.city",placeholder:"City/Municipality/Town",value:s.address.town,readOnly:!0}),a.jsx(v.Control,{className:"my-3",type:"text",name:"address.barangay",placeholder:"Barangay",value:s.address.barangay,readOnly:!0}),a.jsx(v.Control,{className:"my-3",type:"text",name:"address.street",placeholder:"Street Name / Zone (Optional)",value:s.address.street,readOnly:!0})]})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:D?a.jsx(Ci,{onLocationSelect:g,name:s.name||"",resetKey:n,editingItems:s.address}):a.jsxs(v.Group,{className:"mt-3 mb-3",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[a.jsx(v.Label,{className:"label mb-2",children:"Local Business Address"}),a.jsx(se,{variant:"outline-danger",className:"mb-2",onClick:F,children:D?"Cancel":"Edit Map Location"})]}),a.jsx(sf,{latitude:s.address.lat,longitude:s.address.long})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"link",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Google Map Link"}),a.jsx(v.Control,{type:"text",placeholder:"Select Location First",name:"link",value:s.link,onChange:o,readOnly:!0})]})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"lat",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Lattitude"}),a.jsx(v.Control,{type:"text",placeholder:"Select Location First",name:"lat",value:s.address.lat,onChange:o,readOnly:!0})]})}),a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"long",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Longitude"}),a.jsx(v.Control,{type:"text",placeholder:"Select Location First",name:"long",value:s.address.long,onChange:o,readOnly:!0})]})})]}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"accessibility",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Geographical Location"}),a.jsxs(v.Select,{name:"geo",value:s.geo,onChange:o,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Geo Location"}),Ni.map((_,R)=>a.jsx("option",{value:_,children:_},R))]})]})}),a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"accessibility",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Accessibility"}),a.jsxs(v.Select,{name:"accessibility",value:s.accessibility,onChange:o,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Accessibility"}),Fo.map((_,R)=>a.jsx("option",{value:_,children:_},R))]})]})})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",children:[a.jsx(v.Label,{className:"label me-2",children:"Promotional & Marketing Photos"}),a.jsx(Rs,{dataForm:s,setDataForm:i,caption:"Drag & drop images or click to select (Max: 10)",dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:_=>o(_,"operatinghours"),label:"Operating Hours (Type & Enter)",editingItems:s.operatinghours,resetKey:n,caption:"format: hh:mm A  | e.g. 08:00 AM"})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsx($e,{onChange:_=>o(_,"tags"),label:"Tags (Type & Enter)",editingItems:s.tags,resetKey:n})}),a.jsx(z,{md:6,children:a.jsx($e,{onChange:_=>o(_,"thingsToDo"),label:"Things To Do (Type & Enter)",editingItems:s.thingsToDo,resetKey:n})})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"howToGetThere",className:"mb-5 mt-2",children:[a.jsx(v.Label,{className:"label",children:"How To Get There?"}),a.jsx(On,{theme:"snow",value:s.howToGetThere||"",onChange:_=>o(_,"howToGetThere"),required:!0,style:{height:"300px"}})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"note",className:"mb-5 mt-2",children:[a.jsx(v.Label,{className:"label",children:"Notes, Reminders, Remarks, and Other Details"}),a.jsx(On,{theme:"snow",value:s.note||"",onChange:_=>o(_,"note"),required:!0,style:{height:"300px"}})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:E,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:y,children:"Submit Update"})]})}),a.jsx(B,{className:"empty-container"})]})}const dOe=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(""),[s,i]=S.useState(""),[o,c]=S.useState(""),[u,h]=S.useState(""),[f,g]=S.useState(""),[p,y]=S.useState("asc"),[w,E]=S.useState(0),[j,C]=S.useState(null),O=10;S.useEffect(()=>{T()},[]);const[I,D]=S.useState(!0),T=async()=>{try{const re=(await Rr(Jt(Ve,"attractions"))).docs.map(Z=>({id:Z.id,...Z.data()}));e(re)}catch(G){console.error("Error fetching data:",G)}finally{D(!1)}},F=G=>{C(G)},_=async G=>{ve.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then(async re=>{re.isConfirmed&&(await kr(gt(Ve,"attractions",G)),T(),ve.fire("Deleted!","Your entry has been deleted.","success"))})},R=t.filter(G=>{const re=s===""||G.category.includes(s),Z=o===""||G.geo===o,me=u===""||G.address.barangay===u,ie=n.toLowerCase(),W=G.name.toLowerCase().includes(ie)||G.established.toLowerCase().includes(ie)||G.category.some(ye=>ye.toLowerCase().includes(ie))||G.geo.toLowerCase().includes(ie)||G.address.barangay.toLowerCase().includes(ie)||G.address.street.toLowerCase().includes(ie);return re&&Z&&me&&W}),b=()=>new Date().toISOString().split("T")[0],A=()=>{const G=t.map(({name:me,category:ie,...W})=>({...W,body:Array.isArray(W.body)?W.body.join(", "):"",images:Array.isArray(W.images)?W.images.join(", "):"",operatinghours:Array.isArray(W.operatinghours)?W.operatinghours.join(", "):"",address:W.address?JSON.stringify(W.address):""})),re=vt.json_to_sheet(G),Z=vt.book_new();vt.book_append_sheet(Z,re,"Data"),Fr(Z,`tourism_attractions_infoguide_${b()}.xlsx`)},L=Math.ceil(R.length/O),U=R.slice(w*O,(w+1)*O),P=({selected:G})=>{E(G)},K=()=>{C(null)};return a.jsxs(B,{children:[a.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Attractions"}),a.jsx("p",{children:"List of Attractions."}),a.jsxs(V,{children:[a.jsx(z,{md:6,className:"mb-1 me-2 col",children:a.jsx(v.Control,{type:"text",placeholder:`Search up to over ${t.length} accommodations`,value:n,onChange:G=>r(G.target.value)})}),a.jsx(z,{md:2,className:"mb-1 me-2 col",children:a.jsxs(v.Select,{value:s,onChange:G=>i(G.target.value),children:[a.jsx("option",{value:"",children:"All Categories"}),[...new Set(t.flatMap(G=>G.category))].map((G,re)=>a.jsx("option",{value:G,children:G},re))]})})]}),a.jsxs(V,{children:[a.jsx(z,{md:2,className:"mb-1 me-2 col",children:a.jsxs(v.Select,{value:o,onChange:G=>c(G.target.value),children:[a.jsx("option",{value:"",children:"All Geographical Location"}),[...new Set(t.map(G=>G.geo))].map((G,re)=>a.jsx("option",{value:G,children:G},re))]})}),a.jsx(z,{md:2,className:"mb-1 me-2 col",children:a.jsxs(v.Select,{value:u,onChange:G=>h(G.target.value),children:[a.jsx("option",{value:"",children:"All Barangays"}),[...new Set(t.map(G=>G.address.barangay))].map((G,re)=>a.jsx("option",{value:G,children:G},re))]})}),a.jsxs(B,{className:"d-flex justify-content-end align-items-center mt-2 mb-4",children:[a.jsxs(se,{variant:"outline-secondary",className:"me-2",onClick:T,children:[a.jsx(we,{icon:Pr,size:"xs",fixedWidth:!0})," Refresh List"]}),a.jsxs(se,{variant:"outline-success",onClick:K,children:[a.jsx(we,{icon:Dr,size:"xs",fixedWidth:!0})," Add New"]})]})]}),I?a.jsx("div",{className:"d-flex justify-content-center align-items-center my-5",children:a.jsx(Sr,{animation:"border",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):U.length===0?a.jsx("div",{className:"text-center my-5",children:a.jsx("h5",{children:"No Data Available"})}):a.jsxs(Lr,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Business Name"}),a.jsx("th",{children:"Category"}),a.jsx("th",{children:"Geo Location"}),a.jsx("th",{children:"Barangay"}),a.jsx("th",{children:"Street"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:U.map(G=>a.jsxs("tr",{children:[a.jsx("td",{children:G.name}),a.jsx("td",{children:Array.isArray(G.category)?G.category.join(", "):G.category}),a.jsx("td",{children:G.geo}),a.jsx("td",{children:G.address.barangay}),a.jsx("td",{children:G.address.street}),a.jsx("td",{children:a.jsxs(B,{className:"d-flex justify-content-center align-items-center",children:[a.jsx(Xt,{placement:"top",overlay:a.jsx(Gt,{children:"Edit"}),children:a.jsx(se,{variant:"outline-secondary",size:"sm",className:"me-2",onClick:()=>F(G),children:a.jsx(we,{icon:Ir,size:"xs",fixedWidth:!0})})}),a.jsx(Xt,{placement:"top",overlay:a.jsx(Gt,{children:"Delete"}),children:a.jsx(se,{variant:"outline-danger",size:"sm",onClick:()=>_(G.id),children:a.jsx(we,{icon:Pt,size:"xs",fixedWidth:!0})})})]})})]},G.id))})]}),a.jsxs(B,{className:"d-flex justify-content-between align-items-center mb-4 mt-2",children:[a.jsx(se,{onClick:A,variant:"outline-success",children:"Download Excel"}),a.jsx(Mr,{previousLabel:"",nextLabel:"",pageCount:L,onPageChange:P,containerClassName:"pagination mb-0",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})]}),a.jsx(B,{className:"empty-container"}),j?a.jsx(uOe,{editingItem:j,toAddForm:()=>C(null)}):a.jsx(lOe,{})]})},hOe=({index:t,section:e,onBodyImageDrop:n,dropzoneName:r="dropzone-container-small",previewName:s="dropzone-uploaded-image-small"})=>{const{getRootProps:i,getInputProps:o}=Vt({onDrop:u=>n(u,t),accept:"image/png, image/jpeg, image/jpg, video/mp4, video/webm, video/ogg"}),c=e.image?e.image instanceof File?URL.createObjectURL(e.image):e.image:null;return a.jsxs(B,{...i(),className:`${r} text-center w-100 ${c?"border-success":""}`,children:[a.jsx("input",{...o(),accept:"image/*,video/*"}),c?e.image instanceof File&&e.image.type.startsWith("video/")?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:c,type:e.image.type}),"Your browser does not support the video tag."]}):a.jsx("img",{src:c,alt:"Body Image Preview",className:s}):a.jsxs("p",{className:"text-muted",children:["Drag & Drop Image/Video Here or"," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})};function fOe({}){const[t,e]=S.useState(0),[n,r]=S.useState(new RN),[s,i]=S.useState(""),[o,c]=S.useState(""),u=(I,D)=>{if(Array.isArray(I))r(T=>({...T,[D]:I}));else if(typeof I=="string")r(T=>({...T,[D]:I}));else{const{name:T,value:F}=I.target;r(_=>({..._,[T]:F}))}},h=(I,D,T)=>{r(F=>{const _=[...F.body];return _[I]={..._[I],[D]:T},{...F,body:_}})},f=(I,D)=>{const T=I[0];T&&r(F=>{const _=[...F.body];return _[D]={..._[D],image:T,imageUrl:URL.createObjectURL(T)},{...F,body:_}})},g=()=>{r(I=>({...I,body:[...I.body,{subtitle:"",body:"",image:null,image_source:""}]}))},p=I=>{r(D=>{const T=D.body.filter((F,_)=>_!==I);return{...D,body:T}})},y=(I,D)=>{if(!I){console.warn("handleLocationSelect received null position.");return}r(T=>({...T,address:{...T.address,lat:I.lat||"",long:I.lng||""},link:D||""}))},w=async(I,D)=>{const T=Wt(en,D);return await Qt(T,I),await Zt(T)},E=async I=>{I.preventDefault(),ve.fire({title:"Submitting...",text:"Please wait while we submit your activities data.",allowOutsideClick:!1,didOpen:()=>{ve.showLoading()}});try{let D=n.headerImage?await w(n.headerImage,`activities/${Date.now()}_${n.headerImage.name}`):null;const T=await Promise.all(n.images.map(async A=>A?await w(A,`activities/${Date.now()}_${A.name}`):"")),F=await Promise.all(n.body.map(async(A,L)=>A.image?await w(A.image,`activities/${Date.now()}_${A.image.name}`):"")),_=new RN;_.id="",_.name=n.name,_.category=n.category||s,_.subcategory=n.subcategory||o,_.body=n.body.map((A,L)=>({subtitle:A.subtitle||"",body:A.body||"",image:F[L]||"",image_source:A.image_source||""})),_.images=T,_.operatinghours=n.operatinghours||[],_.accessibility=n.accessibility||[],_.headerImage=D,_.address={...n.address},_.link=n.link,_.geo=n.geo,_.note=n.note,_.tags=n.tags,_.slogan=n.slogan,_.lowest=n.lowest||[],_.maxPax=n.maxPax,_.serviceProviders=n.serviceProviders;const R=await Or(Jt(Ve,"activities"),_.toJSON()),b=gt(Ve,"activities",R.id);await rn(b,{id:R.id}),ve.fire({title:"Activities Submitted",text:"Your data has been submitted successfully!",icon:"success"}),C(),j()}catch(D){console.error("Error submitting data:",D),ve.fire({title:"Error",text:"There was an issue submitting your data. Please try again.",icon:"error"})}},j=()=>{r(I=>({...I,headerImage:null}))},C=()=>{r({id:"",name:"",category:"",body:[{subtitle:"",body:"",image:null,image_source:""}],images:[],operatinghours:[],accessibility:[],headerImage:null,address:{street:"",barangay:"",town:"",region:"",province:"",country:"",lat:"",long:""},link:"",geo:"",note:"",tags:[],serviceProviders:[],lowest:[],maxPax:"",subcategory:"",slogan:""}),e(I=>I+1),i("")},O=I=>{r(D=>{const T=[...D.body];return T[I]?(T[I]={...T[I],image:null},{...D,body:T}):D})};return a.jsxs(v,{className:"custom-form body-container",onSubmit:E,onKeyDown:I=>I.key==="Enter"&&I.preventDefault(),children:[a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"category",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Category"}),a.jsxs(v.Select,{name:"category",value:n.category,onChange:I=>{const D=I.target.value;r(T=>({...T,category:D,subcategory:""}))},children:[a.jsx("option",{value:"",disabled:!0,children:"Select Category"}),e$.map((I,D)=>a.jsx("option",{value:I,children:I},D))]})]})}),a.jsx(z,{md:6,children:n.category&&kN[n.category]&&a.jsxs(v.Group,{controlId:"formSubcategory",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Subcategory"}),a.jsxs(v.Select,{name:"subcategory",value:n.subcategory||"",onChange:I=>{r(D=>({...D,subcategory:I.target.value}))},children:[a.jsx("option",{value:"",children:"Select Subcategory"}),kN[n.category].map((I,D)=>a.jsx("option",{value:I,children:I},D))]})]})})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Cover Photo"}),a.jsx(mn,{storyForm:n,setStoryForm:r,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Activity Name"}),a.jsx(v.Control,{type:"text",placeholder:"Enter activity name",name:"name",value:n.name,onChange:u,required:!0})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"slogan",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Catchphrase"}),a.jsx(v.Control,{type:"text",placeholder:"Enter catchy phrases",name:"slogan",value:n.slogan,onChange:u,required:!0})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsxs(z,{md:12,children:[a.jsx("p",{className:"label mb-2",children:"Body Sections"}),n.body.map((I,D)=>a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(B,{className:"empty-container"}),a.jsxs(v.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(v.Label,{className:"label",children:"Subtitle (Optional)"}),a.jsx(v.Control,{type:"text",className:"fw-bold",value:I.subtitle,onChange:T=>h(D,"subtitle",T.target.value)})]}),a.jsxs(z,{className:"col me-lg-2 me-md-1",children:[a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Image (Optional)"}),a.jsx(hOe,{index:D,section:I,onBodyImageDrop:f,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"}),I.image&&a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{className:"mt-2 mb-1",variant:"outline-danger",onClick:()=>O(D),children:[a.jsx(we,{icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]})})]}),a.jsxs(v.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(v.Label,{className:"label",children:"Image Source (Optional)"}),a.jsx(v.Control,{placeholder:"e.g. @boracayphotos or /islanders or #trivago or www.trivago.com",type:"text",value:I.image_source,onChange:T=>h(D,"image_source",T.target.value)})]})]}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(v.Group,{className:"mb-5",children:[a.jsx(v.Label,{className:"label",children:"Body"}),a.jsx(rr,{index:D,section:I,handleBodyChange:h})]})}),n.body.length>1&&a.jsx(B,{className:"mb-4 d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-danger",type:"button",onClick:()=>p(D),className:"mt-3 w-full",children:[a.jsx(we,{icon:Pt,size:"xs",fixedWidth:!0})," Delete Section"]})})]},D)),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-success",type:"button",onClick:g,className:"mb-3",children:[a.jsx(we,{icon:nr,size:"xs",fixedWidth:!0})," Add Section"]})})]})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Si,{groupData:n,setGroupData:r,resetKey:t})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Ci,{onLocationSelect:y,name:n.name||"",resetKey:t})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"link",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Google Map Link"}),a.jsx(v.Control,{type:"text",placeholder:"Select Location First",name:"link",value:n.link,onChange:u,readOnly:!0})]})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"lat",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Lattitude"}),a.jsx(v.Control,{type:"text",placeholder:"Select Location First",name:"lat",value:n.address.lat,onChange:u,readOnly:!0})]})}),a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"long",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Longitude"}),a.jsx(v.Control,{type:"text",placeholder:"Select Location First",name:"long",value:n.address.long,onChange:u,readOnly:!0})]})})]}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"accessibility",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Geographical Location"}),a.jsxs(v.Select,{name:"geo",value:n.geo,onChange:u,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Geo Location"}),Ni.map((I,D)=>a.jsx("option",{value:I,children:I},D))]})]})}),a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"accessibility",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Accessibility"}),a.jsxs(v.Select,{name:"accessibility",value:n.accessibility,onChange:u,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Accessibility"}),Fo.map((I,D)=>a.jsx("option",{value:I,children:I},D))]})]})})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",children:[a.jsx(v.Label,{className:"label me-2",children:"Promotional & Marketing Photos"}),a.jsx(Rs,{dataForm:n,setDataForm:r,caption:"Drag & drop images or click to select (Max: 10)",dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:I=>u(I,"operatinghours"),label:"Operating Hours (Type & Enter)",editingItems:n.operatinghours,resetKey:t,caption:"format: hh:mm A  | e.g. 08:00 AM"})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsx($e,{onChange:I=>u(I,"lowest"),label:"Price List (Type & Enter)",editingItems:n.lowest,resetKey:t,caption:"format: 00000.00 per pax | e.g. 12000.00 per hour"})}),a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"maxPax",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Maximum Pax"}),a.jsx(v.Control,{type:"text",placeholder:"Enter Maximum Pax",name:"maxPax",value:n.maxPax,onChange:u,required:!0})]})})]}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsx($e,{onChange:I=>u(I,"tags"),label:"Tags (Type & Enter)",editingItems:n.tags,resetKey:t})}),a.jsx(z,{md:6,children:a.jsx($e,{onChange:I=>u(I,"serviceProviders"),label:"Service Providers (Type & Enter)",editingItems:n.serviceProviders,resetKey:t})})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"note",className:"mb-5 mt-2",children:[a.jsx(v.Label,{className:"label",children:"Notes, Reminders, Remarks, and Other Details"}),a.jsx(On,{theme:"snow",value:n.note||"",onChange:I=>u(I,"note"),required:!0,style:{height:"300px"}})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:C,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:E,children:"Submit Activity"})]})}),a.jsx(B,{className:"empty-container"})]})}const mOe=({index:t,section:e,onBodyImageDrop:n,dropzoneName:r="dropzone-container-small",previewName:s="dropzone-uploaded-image-small"})=>{const{getRootProps:i,getInputProps:o}=Vt({onDrop:y=>n(y,t),accept:"image/png, image/jpeg, image/jpg, video/mp4, video/webm, video/ogg"}),c=e.image instanceof File,u=typeof e.image=="string"&&/\.(mp4|webm|ogg)(\?.*)?$/i.test(e.image),h=typeof e.image=="string"&&!u,f=c?URL.createObjectURL(e.image):null,g=h?e.image:null,p=u?e.image:null;return a.jsxs(B,{...i(),className:`${r} text-center w-100 ${f||g||p?"border-success":""}`,children:[a.jsx("input",{...o(),accept:"image/*,video/*"}),f?e.image.type.startsWith("video/")?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:f,type:e.image.type}),"Your browser does not support the video tag."]}):a.jsx("img",{src:f,alt:"Uploaded File Preview",className:s}):p?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:p,type:"video/mp4"}),"Your browser does not support the video tag."]}):g?a.jsx("img",{src:g,alt:"Image URL Preview",className:s}):a.jsxs("p",{className:"text-muted",children:["Drag & Drop Image/Video Here or"," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})};function pOe({editingItem:t,toAddForm:e}){var b;const[n,r]=S.useState(0),[s,i]=S.useState(new RN),[o,c]=S.useState(""),u=(A,L)=>{if(Array.isArray(A))i(U=>({...U,[L]:A}));else if(typeof A=="string")i(U=>({...U,[L]:A}));else{const{name:U,value:P}=A.target;i(K=>({...K,[U]:P}))}};S.useEffect(()=>{t&&(i(A=>({...A,id:t.id||"",name:t.name||"",category:t.category||"",body:t.body.map((L,U)=>({subtitle:L.subtitle||"",body:L.body||"",image:L.image||"",image_source:L.image_source||""})),images:t.images||[],operatinghours:t.operatinghours||[],accessibility:t.accessibility||"",headerImage:t.headerImage||"",address:{street:t.address.street||"",barangay:t.address.barangay||"",town:t.address.town||"",region:t.address.region||"",province:t.address.province||"",country:t.address.country||"",lat:t.address.lat||"",long:t.address.long||""},link:t.link||"",geo:t.geo||"",note:t.note||"",tags:t.tags||[],subcategory:t.subcategory||"",slogan:t.slogan||"",maxPax:t.maxPax||"",lowest:t.lowest||[],serviceProviders:t.serviceProviders||[]})),t.category?c(t.category||""):c(category))},[t]);const h=(A,L,U)=>{i(P=>{const K=[...P.body];return K[A]={...K[A],[L]:U},{...P,body:K}})},f=(A,L)=>{const U=A[0];U&&i(P=>{const K=[...P.body];return K[L]={...K[L],image:U,imageUrl:URL.createObjectURL(U)},{...P,body:K}})},g=()=>{i(A=>({...A,body:[...A.body,{subtitle:"",body:"",image:null,image_source:""}]}))},p=A=>{i(L=>{const U=L.body.filter((P,K)=>K!==A);return{...L,body:U}})},y=(A,L)=>{if(!A){console.warn("handleLocationSelect received null position.");return}i(U=>({...U,address:{...U.address,lat:A.lat||"",long:A.lng||""},link:L||""}))},w=async(A,L)=>{const U=Wt(en,L);return await Qt(U,A),await Zt(U)},E=async A=>{A.preventDefault(),ve.fire({title:"Submitting...",text:"Please wait while we updating your activities data.",allowOutsideClick:!1,didOpen:()=>{ve.showLoading()}});try{let L=s.headerImage;s.headerImage instanceof File&&(t&&t.headerImage&&await $t(t.headerImage),L=await w(s.headerImage,`activities/${Date.now()}_${s.headerImage.name}`));const U=await Promise.all(s.images.map(async(re,Z)=>re instanceof File?(t&&t.images&&t.images[Z]&&await $t(t.images[Z]),await w(re,`activities/${Date.now()}_${re.name}`)):re)),P=await Promise.all(s.body.map(async(re,Z)=>re.image instanceof File?(t&&t.body&&t.body[Z]&&t.body[Z].image&&await $t(t.body[Z].image),await w(re.image,`activities/${Date.now()}_${re.image.name}`)):re.image)),K={id:t?t.id:"",name:s.name,category:s.category||o,body:s.body.map((re,Z)=>({subtitle:re.subtitle,body:re.body,image:P[Z]||"",image_source:re.image_source})),images:U,operatinghours:s.operatinghours||[],accessibility:s.accessibility||[],headerImage:L,address:{...s.address},link:s.link,geo:s.geo,note:s.note,tags:s.tags},G=gt(Ve,"activities",s.id);await rn(G,K),ve.fire({title:"Activity Posted",text:"Your Activity has been edited successfully!",icon:"success"}),j(),e()}catch(L){console.error("Error submitting data:",L),ve.fire({title:"Error",text:"There was an issue submitting your data. Please try again.",icon:"error"})}},j=()=>{i(A=>({...A,headerImage:null}))},C=()=>{i({id:"",name:"",category:"",body:[{subtitle:"",body:"",image:null,image_source:""}],images:[],operatinghours:[],accessibility:[],headerImage:null,address:{street:"",barangay:"",town:"",region:"",province:"",country:"",lat:"",long:""},link:"",geo:"",note:"",tags:[],serviceProviders:[],lowest:[],maxPax:"",subcategory:"",slogan:""}),r(A=>A+1),c("")},O=A=>{i(L=>{const U=[...L.body];return U[A]?(U[A]={...U[A],image:null},{...L,body:U}):L})},[I,D]=S.useState(!1),T=()=>{D(!I)},[F,_]=S.useState(!1),R=()=>{_(!F)};return a.jsxs(v,{className:"custom-form body-container",onSubmit:E,onKeyDown:A=>A.key==="Enter"&&A.preventDefault(),children:[a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"category",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Category"}),a.jsxs(v.Select,{name:"category",value:s.category,onChange:u,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Category"}),e$.map((A,L)=>a.jsx("option",{value:A,children:A},L))]})]})}),a.jsxs(z,{md:6,children:[a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Select Category"}),a.jsxs(v.Control,{as:"select",name:"purpose",value:s.subcategory,onChange:u,required:!0,disabled:!s.category,placeholder:s.category?"Select Category":"Select Category First",children:[a.jsx("option",{value:"",children:s.category?"Select Purpose":"Select Classification First"}),s.category&&((b=kN[s.category])==null?void 0:b.map(A=>a.jsx("option",{value:A,children:A},A)))]})]}),"                            "]})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Cover Photo"}),a.jsx(mn,{storyForm:s,setStoryForm:i,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Activity Name"}),a.jsx(v.Control,{type:"text",placeholder:"Enter activity name",name:"name",value:s.name,onChange:u,required:!0})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"slogan",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Catchphrase"}),a.jsx(v.Control,{type:"text",placeholder:"Enter catchy phrases",name:"slogan",value:s.slogan,onChange:u,required:!0})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsxs(z,{md:12,children:[a.jsx("p",{className:"label mb-2",children:"Body Sections"}),s.body.map((A,L)=>a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(B,{className:"empty-container"}),a.jsxs(v.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(v.Label,{className:"label",children:"Subtitle (Optional)"}),a.jsx(v.Control,{type:"text",className:"fw-bold",value:A.subtitle,onChange:U=>h(L,"subtitle",U.target.value)})]}),a.jsxs(z,{className:"col me-lg-2 me-md-1",children:[a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Image (Optional)"}),a.jsx(mOe,{index:L,section:A,onBodyImageDrop:f,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"}),A.image&&a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{className:"mt-2 mb-1",variant:"outline-danger",onClick:()=>O(L),children:[a.jsx(we,{icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]})})]}),a.jsxs(v.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(v.Label,{className:"label",children:"Image Source (Optional)"}),a.jsx(v.Control,{placeholder:"e.g. @boracayphotos or /islanders or #trivago or www.trivago.com",type:"text",value:A.image_source,onChange:U=>h(L,"image_source",U.target.value)})]})]}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(v.Group,{className:"mb-5",children:[a.jsx(v.Label,{className:"label",children:"Body"}),a.jsx(rr,{index:L,section:A,handleBodyChange:h})]})}),s.body.length>1&&a.jsx(B,{className:"mb-4 d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-danger",type:"button",onClick:()=>p(L),className:"mt-3 w-full",children:[a.jsx(we,{icon:Pt,size:"xs",fixedWidth:!0})," Delete Section"]})})]},L)),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-success",type:"button",onClick:g,className:"mb-3",children:[a.jsx(we,{icon:nr,size:"xs",fixedWidth:!0})," Add Section"]})})]})}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:I?a.jsx(Si,{groupData:s,setGroupData:i,resetKey:n}):a.jsxs(v.Group,{className:"mt-3 mb-3",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[a.jsx(v.Label,{className:"label mb-2",children:"Local Business Address"}),a.jsx(se,{variant:"outline-danger",className:"mb-2",onClick:T,children:I?"Cancel":"Edit Address"})]}),a.jsxs(a.Fragment,{children:[a.jsx(v.Control,{className:"mb-3",type:"text",name:"address.country",placeholder:"Country",value:s.address.country,readOnly:!0}),a.jsx(v.Control,{className:"my-3",type:"text",name:"address.region",placeholder:"Region",value:s.address.region,readOnly:!0}),a.jsx(v.Control,{className:"my-3",type:"text",name:"address.province",placeholder:"Province",value:s.address.province,readOnly:!0}),a.jsx(v.Control,{className:"my-3",type:"text",name:"address.city",placeholder:"City/Municipality/Town",value:s.address.town,readOnly:!0}),a.jsx(v.Control,{className:"my-3",type:"text",name:"address.barangay",placeholder:"Barangay",value:s.address.barangay,readOnly:!0}),a.jsx(v.Control,{className:"my-3",type:"text",name:"address.street",placeholder:"Street Name / Zone (Optional)",value:s.address.street,readOnly:!0})]})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:F?a.jsx(Ci,{onLocationSelect:y,name:s.name||"",resetKey:n,editingItems:s.address}):a.jsxs(v.Group,{className:"mt-3 mb-3",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[a.jsx(v.Label,{className:"label mb-2",children:"Local Business Address"}),a.jsx(se,{variant:"outline-danger",className:"mb-2",onClick:R,children:F?"Cancel":"Edit Map Location"})]}),a.jsx(sf,{latitude:s.address.lat,longitude:s.address.long})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"link",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Google Map Link"}),a.jsx(v.Control,{type:"text",placeholder:"Select Location First",name:"link",value:s.link,onChange:u,readOnly:!0})]})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"lat",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Lattitude"}),a.jsx(v.Control,{type:"text",placeholder:"Select Location First",name:"lat",value:s.address.lat,onChange:u,readOnly:!0})]})}),a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"long",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Longitude"}),a.jsx(v.Control,{type:"text",placeholder:"Select Location First",name:"long",value:s.address.long,onChange:u,readOnly:!0})]})})]}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"accessibility",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Geographical Location"}),a.jsxs(v.Select,{name:"geo",value:s.geo,onChange:u,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Geo Location"}),Ni.map((A,L)=>a.jsx("option",{value:A,children:A},L))]})]})}),a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"accessibility",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Accessibility"}),a.jsxs(v.Select,{name:"accessibility",value:s.accessibility,onChange:u,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Accessibility"}),Fo.map((A,L)=>a.jsx("option",{value:A,children:A},L))]})]})})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",children:[a.jsx(v.Label,{className:"label me-2",children:"Promotional & Marketing Photos"}),a.jsx(Rs,{dataForm:s,setDataForm:i,caption:"Drag & drop images or click to select (Max: 10)",dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:A=>u(A,"operatinghours"),label:"Operating Hours (Type & Enter)",editingItems:s.operatinghours,resetKey:n,caption:"format: hh:mm A  | e.g. 08:00 AM"})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsx($e,{onChange:A=>u(A,"lowest"),label:"Price List (Type & Enter)",editingItems:s.lowest,resetKey:n,caption:"format: 00000.00 per pax | e.g. 12000.00 per hour"})}),a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"maxPax",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Maximum Pax"}),a.jsx(v.Control,{type:"text",placeholder:"Enter Maximum Pax",name:"maxPax",value:s.maxPax,onChange:u,required:!0})]})})]}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsx($e,{onChange:A=>u(A,"tags"),label:"Tags (Type & Enter)",editingItems:s.tags,resetKey:n})}),a.jsx(z,{md:6,children:a.jsx($e,{onChange:A=>u(A,"serviceProviders"),label:"Service Providers (Type & Enter)",editingItems:s.serviceProviders,resetKey:n})})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"note",className:"mb-5 mt-2",children:[a.jsx(v.Label,{className:"label",children:"Notes, Reminders, Remarks, and Other Details"}),a.jsx(On,{theme:"snow",value:s.note||"",onChange:A=>u(A,"note"),required:!0,style:{height:"300px"}})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:C,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:E,children:"Submit Update"})]})}),a.jsx(B,{className:"empty-container"})]})}const gOe=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(""),[s,i]=S.useState(""),[o,c]=S.useState(""),[u,h]=S.useState(""),[f,g]=S.useState(""),[p,y]=S.useState("asc"),[w,E]=S.useState(0),[j,C]=S.useState(null),O=10;S.useEffect(()=>{T()},[]);const[I,D]=S.useState(!0),T=async()=>{try{const re=(await Rr(Jt(Ve,"activities"))).docs.map(Z=>({id:Z.id,...Z.data()}));e(re)}catch(G){console.error("Error fetching data:",G)}finally{D(!1)}},F=G=>{C(G)},_=async G=>{ve.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then(async re=>{re.isConfirmed&&(await kr(gt(Ve,"activities",G)),T(),ve.fire("Deleted!","Your entry has been deleted.","success"))})},R=t.filter(G=>{const re=s===""||G.category===s,Z=o===""||G.geo===o,me=u===""||G.address.barangay===u,ie=n.toLowerCase(),W=G.name.toLowerCase().includes(ie)||G.established.toLowerCase().includes(ie)||G.category.toLowerCase().includes(ie)||G.geo.toLowerCase().includes(ie)||G.address.barangay.toLowerCase().includes(ie)||G.address.street.toLowerCase().includes(ie);return re&&Z&&me&&W}),b=()=>new Date().toISOString().split("T")[0],A=()=>{const G=t.map(({name:me,category:ie,...W})=>({...W,body:Array.isArray(W.body)?W.body.join(", "):"",images:Array.isArray(W.images)?W.images.join(", "):"",operatinghours:Array.isArray(W.operatinghours)?W.operatinghours.join(", "):"",address:W.address?JSON.stringify(W.address):""})),re=vt.json_to_sheet(G),Z=vt.book_new();vt.book_append_sheet(Z,re,"Data"),Fr(Z,`tourism_activities_infoguide_${b()}.xlsx`)},L=Math.ceil(R.length/O),U=R.slice(w*O,(w+1)*O),P=({selected:G})=>{E(G)},K=()=>{C(null)};return a.jsxs(B,{children:[a.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Activities"}),a.jsx("p",{children:"List of Activities."}),a.jsxs(V,{children:[a.jsx(z,{md:6,className:"mb-1 me-2 col",children:a.jsx(v.Control,{type:"text",placeholder:`Search up to over ${t.length} accommodations`,value:n,onChange:G=>r(G.target.value)})}),a.jsx(z,{md:2,className:"mb-1 me-2 col",children:a.jsxs(v.Select,{value:s,onChange:G=>i(G.target.value),children:[a.jsx("option",{value:"",children:"All Categories"}),[...new Set(t.map(G=>G.category))].map((G,re)=>a.jsx("option",{value:G,children:G},re))]})})]}),a.jsxs(V,{children:[a.jsx(z,{md:2,className:"mb-1 me-2 col",children:a.jsxs(v.Select,{value:o,onChange:G=>g(G.target.value),children:[a.jsx("option",{value:"",children:"All Geographical Location"}),[...new Set(t.map(G=>G.geo))].map((G,re)=>a.jsx("option",{value:G,children:G},re))]})}),a.jsx(z,{md:2,className:"mb-1 me-2 col",children:a.jsxs(v.Select,{value:u,onChange:G=>h(G.target.value),children:[a.jsx("option",{value:"",children:"All Barangays"}),[...new Set(t.map(G=>G.address.barangay))].map((G,re)=>a.jsx("option",{value:G,children:G},re))]})}),a.jsxs(B,{className:"d-flex justify-content-end align-items-center mt-2 mb-4",children:[a.jsxs(se,{variant:"outline-secondary",className:"me-2",onClick:T,children:[a.jsx(we,{icon:Pr,size:"xs",fixedWidth:!0})," Refresh List"]}),a.jsxs(se,{variant:"outline-success",onClick:K,children:[a.jsx(we,{icon:Dr,size:"xs",fixedWidth:!0})," Add New"]})]})]}),I?a.jsx("div",{className:"d-flex justify-content-center align-items-center my-5",children:a.jsx(Sr,{animation:"border",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):U.length===0?a.jsx("div",{className:"text-center my-5",children:a.jsx("h5",{children:"No Data Available"})}):a.jsxs(Lr,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Business Name"}),a.jsx("th",{children:"Category"}),a.jsx("th",{children:"Geo Location"}),a.jsx("th",{children:"Barangay"}),a.jsx("th",{children:"Street"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:U.map(G=>a.jsxs("tr",{children:[a.jsx("td",{children:G.name}),a.jsx("td",{children:G.category}),a.jsx("td",{children:G.geo}),a.jsx("td",{children:G.address.barangay}),a.jsx("td",{children:G.address.street}),a.jsx("td",{children:a.jsxs(B,{className:"d-flex justify-content-center align-items-center",children:[a.jsx(Xt,{placement:"top",overlay:a.jsx(Gt,{children:"Edit"}),children:a.jsx(se,{variant:"outline-secondary",size:"sm",className:"me-2",onClick:()=>F(G),children:a.jsx(we,{icon:Ir,size:"xs",fixedWidth:!0})})}),a.jsx(Xt,{placement:"top",overlay:a.jsx(Gt,{children:"Delete"}),children:a.jsx(se,{variant:"outline-danger",size:"sm",onClick:()=>_(G.id),children:a.jsx(we,{icon:Pt,size:"xs",fixedWidth:!0})})})]})})]},G.id))})]}),a.jsxs(B,{className:"d-flex justify-content-between align-items-center mb-4 mt-2",children:[a.jsx(se,{onClick:A,variant:"outline-success",children:"Download Excel"}),a.jsx(Mr,{previousLabel:"",nextLabel:"",pageCount:L,onPageChange:P,containerClassName:"pagination mb-0",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})]}),a.jsx(B,{className:"empty-container"}),j?a.jsx(pOe,{editingItem:j,toAddForm:()=>C(null)}):a.jsx(fOe,{})]})};class CT{constructor(){this.id="",this.name="",this.category="",this.landline=[],this.mobile=[],this.satellite=[],this.logo=null,this.address={street:"",barangay:"",town:"",region:"",province:"",country:"",lat:"",long:""},this.socials=[],this.geo="",this.link=""}toJSON(){return{...this}}}const pK=["Emergency Hotline","First Aid and Medical Attention","Fire Supression","Water Rescue","Police Assistance","Healthcare","Mental Care","Tourist Assistance","Tourist Inquiries and Complaints","Animal Welfare"];function yOe({}){const[t,e]=S.useState(0),[n,r]=S.useState(new CT),[s,i]=S.useState(""),o=(g,p)=>{if(Array.isArray(g))r(y=>({...y,[p]:g}));else if(typeof g=="string")r(y=>({...y,[p]:g}));else{const{name:y,value:w}=g.target;r(E=>({...E,[y]:w}))}},c=(g,p)=>{if(!g){console.warn("handleLocationSelect received null position.");return}r(y=>({...y,address:{...y.address,lat:g.lat||"",long:g.lng||""},link:p||""}))},u=async(g,p)=>{const y=Wt(en,p);return await Qt(y,g),await Zt(y)},h=async g=>{g.preventDefault(),ve.fire({title:"Submitting...",text:"Please wait while we submit your hotline data.",allowOutsideClick:!1,didOpen:()=>{ve.showLoading()}});try{let p=n.logo?await u(n.logo,`hotlines/${Date.now()}_${n.logo.name}`):null;const y=new CT;y.id="",y.name=n.name,y.category=n.category||s,y.landline=n.landline||[],y.mobile=n.mobile||[],y.satellite=n.satellite||[],y.logo=p,y.address={...n.address},y.geo=n.geo,y.link=n.link,y.socials=n.socials||[];const w=await Or(Jt(Ve,"hotlines"),y.toJSON()),E=gt(Ve,"hotlines",w.id);await rn(E,{id:w.id}),ve.fire({title:"Hotlines Submitted",text:"Your hotline has been submitted successfully!",icon:"success"}),f()}catch(p){console.error("Error submitting hotline:",p),ve.fire({title:"Error",text:"There was an issue submitting your hotline. Please try again.",icon:"error"})}},f=()=>{r({id:"",name:"",category:"",landline:[],mobile:[],satellite:[],logo:null,address:{street:"",barangay:"",town:"",region:"",province:"",country:"",lat:"",long:""},link:"",geo:"",socials:[]}),e(g=>g+1),i("")};return a.jsxs(v,{className:"custom-form body-container",onSubmit:h,onKeyDown:g=>g.key==="Enter"&&g.preventDefault(),children:[a.jsxs(V,{className:"row mb-4",children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"category",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Category"}),a.jsxs(v.Select,{name:"category",value:n.category,onChange:g=>{const p=g.target.value;r(y=>({...y,category:p}))},children:[a.jsx("option",{value:"",disabled:!0,children:"Select Category"}),pK.map((g,p)=>a.jsx("option",{value:g,children:g},p))]})]})}),a.jsx(z,{md:6,children:a.jsx(B,{})})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"name",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Office Logo"}),a.jsx(Mo,{storyForm:n,setStoryForm:r,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small",caption:"Drag & Drop Logo here",required:!0})]})}),a.jsx(z,{md:6,children:a.jsx(B,{})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Office Name"}),a.jsx(v.Control,{type:"text",placeholder:"Enter business name",name:"name",value:n.name,onChange:o,required:!0})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Si,{groupData:n,setGroupData:r,resetKey:t})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Ci,{onLocationSelect:c,name:n.name||"",resetKey:t})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"link",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Google Map Link"}),a.jsx(v.Control,{type:"text",placeholder:"Select Location First",name:"link",value:n.link,onChange:o,readOnly:!0})]})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"lat",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Lattitude"}),a.jsx(v.Control,{type:"text",placeholder:"Select Location First",name:"lat",value:n.address.lat,onChange:o,readOnly:!0})]})}),a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"long",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Longitude"}),a.jsx(v.Control,{type:"text",placeholder:"Select Location First",name:"long",value:n.address.long,onChange:o,readOnly:!0})]})})]}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"accessibility",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Geographical Location"}),a.jsxs(v.Select,{name:"geo",value:n.geo,onChange:o,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Geo Location"}),Ni.map((g,p)=>a.jsx("option",{value:g,children:g},p))]})]})}),a.jsx(z,{md:6,children:a.jsx(B,{})})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsx($e,{onChange:g=>o(g,"mobile"),label:"mobile Number (Type & Enter)",editingItems:n.mobile,resetKey:t})}),a.jsx(z,{md:6,children:a.jsx($e,{onChange:g=>o(g,"landline"),label:"Landline Number (Type & Enter)",editingItems:n.landline,resetKey:t})})]}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsx($e,{onChange:g=>o(g,"satellite"),label:"Satellite (Type & Enter)",editingItems:n.satellite,resetKey:t})}),a.jsx(z,{md:6,children:a.jsx($e,{onChange:g=>o(g,"socials"),label:"Social Media Links (Type & Enter)",editingItems:n.socials,resetKey:t})})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:f,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:h,children:"Submit Hotline"})]})}),a.jsx(B,{className:"empty-container"})]})}function vOe({editingItem:t,toAddForm:e}){const[n,r]=S.useState(0),[s,i]=S.useState(new CT),[o,c]=S.useState(""),u=(I,D)=>{if(Array.isArray(I))i(T=>({...T,[D]:I}));else if(typeof I=="string")i(T=>({...T,[D]:I}));else{const{name:T,value:F}=I.target;i(_=>({..._,[T]:F}))}};S.useEffect(()=>{t&&(i(I=>({...I,id:t.id||"",name:t.name||"",category:t.category||"",mobile:t.mobile||[],landline:t.landline||[],satellite:t.satellite||"",logo:t.logo||"",address:{street:t.address.street||"",barangay:t.address.barangay||"",town:t.address.town||"",region:t.address.region||"",province:t.address.province||"",country:t.address.country||"",lat:t.address.lat||"",long:t.address.long||""},link:t.link||"",geo:t.geo||"",socials:t.socials||[]})),t.category?c(t.category||""):c(category))},[t]);const h=(I,D)=>{if(!I){console.warn("handleLocationSelect received null position.");return}i(T=>({...T,address:{...T.address,lat:I.lat||"",long:I.lng||""},link:D||""}))},f=async(I,D)=>{const T=Wt(en,D);return await Qt(T,I),await Zt(T)},g=async I=>{I.preventDefault(),ve.fire({title:"Submitting...",text:"Please wait while we submit your hotline data.",allowOutsideClick:!1,didOpen:()=>{ve.showLoading()}});try{let D=s.logo;s.logo instanceof File&&(t&&t.logo&&await $t(t.logo),D=await f(s.logo,`hotlines/${Date.now()}_${s.logo.name}`));const T={id:t?t.id:"",name:s.name,category:s.category||o,mobile:s.mobile||[],landline:s.landline||[],socials:s.socials||[],logo:D,address:{...s.address},link:s.link,geo:s.geo,socials:s.socials||[]},F=gt(Ve,"hotlines",s.id);try{await rn(F,T),ve.fire({title:"Hotlines Updated",text:"Your hotlines has been updated successfully!",icon:"success"}),O(),e()}catch(_){console.error("Error updating hotlines:",_),ve.fire({title:"Update Failed",text:"There was an error updating the hotlines.",icon:"error"})}}catch(D){console.error("Error submitting hottline:",D),ve.fire({title:"Error",text:"There was an issue submitting your hotline. Please try again.",icon:"error"})}},[p,y]=S.useState(!1),w=()=>{y(!p)},[E,j]=S.useState(!1),C=()=>{j(!E)},O=()=>{i({id:"",name:"",category:"",landline:[],mobile:[],satellite:[],logo:null,address:{street:"",barangay:"",town:"",region:"",province:"",country:"",lat:"",long:""},link:"",geo:"",socials:[]}),r(I=>I+1),c("")};return a.jsxs(v,{className:"custom-form body-container",onSubmit:g,onKeyDown:I=>I.key==="Enter"&&I.preventDefault(),children:[a.jsxs(V,{className:"row mb-4",children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"category",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Category"}),a.jsxs(v.Select,{name:"category",value:s.category,onChange:I=>{const D=I.target.value;i(T=>({...T,category:D}))},children:[a.jsx("option",{value:"",disabled:!0,children:"Select Category"}),pK.map((I,D)=>a.jsx("option",{value:I,children:I},D))]})]})}),a.jsx(z,{md:6,children:a.jsx(B,{})})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"name",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Office Logo"}),a.jsx(Mo,{storyForm:s,setStoryForm:i,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small",caption:"Drag & Drop Logo here",required:!0})]})}),a.jsx(z,{md:6,children:a.jsx(B,{})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Office Name"}),a.jsx(v.Control,{type:"text",placeholder:"Enter business name",name:"name",value:s.name,onChange:u,required:!0})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:p?a.jsx(Si,{groupData:s,setGroupData:i,resetKey:n}):a.jsxs(v.Group,{className:"mt-3 mb-3",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[a.jsx(v.Label,{className:"label mb-2",children:"Local Business Address"}),a.jsx(se,{variant:"outline-danger",className:"mb-2",onClick:w,children:p?"Cancel":"Edit Address"})]}),a.jsxs(a.Fragment,{children:[a.jsx(v.Control,{className:"mb-3",type:"text",name:"address.country",placeholder:"Country",value:s.address.country,readOnly:!0}),a.jsx(v.Control,{className:"my-3",type:"text",name:"address.region",placeholder:"Region",value:s.address.region,readOnly:!0}),a.jsx(v.Control,{className:"my-3",type:"text",name:"address.province",placeholder:"Province",value:s.address.province,readOnly:!0}),a.jsx(v.Control,{className:"my-3",type:"text",name:"address.city",placeholder:"City/Municipality/Town",value:s.address.town,readOnly:!0}),a.jsx(v.Control,{className:"my-3",type:"text",name:"address.barangay",placeholder:"Barangay",value:s.address.barangay,readOnly:!0}),a.jsx(v.Control,{className:"my-3",type:"text",name:"address.street",placeholder:"Street Name / Zone (Optional)",value:s.address.street,readOnly:!0})]})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:E?a.jsx(Ci,{onLocationSelect:h,name:s.name||"",resetKey:n,editingItems:s.address}):a.jsxs(v.Group,{className:"mt-3 mb-3",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[a.jsx(v.Label,{className:"label mb-2",children:"Local Business Address"}),a.jsx(se,{variant:"outline-danger",className:"mb-2",onClick:C,children:E?"Cancel":"Edit Map Location"})]}),a.jsx(sf,{latitude:s.address.lat,longitude:s.address.long})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"link",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Google Map Link"}),a.jsx(v.Control,{type:"text",placeholder:"Select Location First",name:"link",value:s.link,onChange:u,readOnly:!0})]})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"lat",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Lattitude"}),a.jsx(v.Control,{type:"text",placeholder:"Select Location First",name:"lat",value:s.address.lat,onChange:u,readOnly:!0})]})}),a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"long",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Longitude"}),a.jsx(v.Control,{type:"text",placeholder:"Select Location First",name:"long",value:s.address.long,onChange:u,readOnly:!0})]})})]}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"accessibility",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Geographical Location"}),a.jsxs(v.Select,{name:"geo",value:s.geo,onChange:u,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Geo Location"}),Ni.map((I,D)=>a.jsx("option",{value:I,children:I},D))]})]})}),a.jsx(z,{md:6,children:a.jsx(B,{})})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsx($e,{onChange:I=>u(I,"mobile"),label:"mobile Number (Type & Enter)",editingItems:s.mobile,resetKey:n})}),a.jsx(z,{md:6,children:a.jsx($e,{onChange:I=>u(I,"landline"),label:"Landline Number (Type & Enter)",editingItems:s.landline,resetKey:n})})]}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsx($e,{onChange:I=>u(I,"satellite"),label:"Satellite (Type & Enter)",editingItems:s.satellite,resetKey:n})}),a.jsx(z,{md:6,children:a.jsx($e,{onChange:I=>u(I,"socials"),label:"Social Media Links (Type & Enter)",editingItems:s.socials,resetKey:n})})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:O,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:g,children:"Submit Update"})]})}),a.jsx(B,{className:"empty-container"})]})}const xOe=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(""),[s,i]=S.useState(""),[o,c]=S.useState("asc"),[u,h]=S.useState(0),[f,g]=S.useState(null),p=10;S.useEffect(()=>{E()},[]);const[y,w]=S.useState(!0),E=async()=>{try{const A=(await Rr(Jt(Ve,"hotlines"))).docs.map(L=>({id:L.id,...L.data()}));e(A)}catch(b){console.error("Error fetching data:",b)}finally{w(!1)}},j=b=>{g(b)},C=async b=>{window.confirm("Are you sure you want to delete this entry?")&&(await kr(gt(Ve,"hotlines",b)),E())},O=t.filter(b=>(s===""||b.category===s)&&(b.name.toLowerCase().includes(n.toLowerCase())||b.address.barangay.toLowerCase().includes(n.toLowerCase())||b.geo.toLowerCase().includes(n.toLowerCase())||b.mobile.toLowerCase().includes(n.toLowerCase())||b.landline.toLowerCase().includes(n.toLowerCase())||b.satellite.toLowerCase().includes(n.toLowerCase())||b.social.toLowerCase().includes(n.toLowerCase()))),I=()=>new Date().toISOString().split("T")[0],D=()=>{const b=t.map(({name:U,...P})=>({...P,mobile:Array.isArray(P.mobile)?P.mobile.join(", "):"",landline:Array.isArray(P.landline)?P.landline.join(", "):"",satellite:Array.isArray(P.satellite)?P.satellite.join(", "):"",socials:Array.isArray(P.socials)?P.socials.join(", "):"",address:P.address?JSON.stringify(P.address):""})),A=vt.json_to_sheet(b),L=vt.book_new();vt.book_append_sheet(L,A,"Data"),Fr(L,`tourism_hotlines_infoguide_${I()}.xlsx`)},T=Math.ceil(O.length/p),F=O.slice(u*p,(u+1)*p),_=({selected:b})=>{h(b)},R=()=>{g(null)};return a.jsxs(B,{children:[a.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Tourist Hotlines"}),a.jsx("p",{children:"List of Tourist Hotlines."}),a.jsxs(V,{className:"mb-4 mt-4",children:[a.jsx(z,{md:4,className:"mb-2 me-2 col",children:a.jsx(v.Control,{type:"text",placeholder:`Search up to over ${t.length} hotlines`,value:n,onChange:b=>r(b.target.value)})}),a.jsx(z,{md:2,className:"mb-2 me-2 col",children:a.jsxs(v.Select,{value:s,onChange:b=>i(b.target.value),children:[a.jsx("option",{value:"",children:"All Category"}),[...new Set(t.map(b=>b.category))].map((b,A)=>a.jsx("option",{value:b,children:b},A))]})}),a.jsxs(B,{className:"d-flex justify-content-end align-items-center mt-2",children:[a.jsxs(se,{variant:"outline-secondary",className:"me-2",onClick:E,children:[a.jsx(we,{icon:Pr,size:"xs",fixedWidth:!0})," Refresh List"]}),a.jsxs(se,{variant:"outline-success",onClick:R,children:[a.jsx(we,{icon:Dr,size:"xs",fixedWidth:!0})," Add New"]})]})]}),y?a.jsx("div",{className:"d-flex justify-content-center align-items-center my-5",children:a.jsx(Sr,{animation:"border",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):F.length===0?a.jsx("div",{className:"text-center my-5",children:a.jsx("h5",{children:"No Data Available"})}):a.jsxs(Lr,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Category"}),a.jsx("th",{children:"Office Name"}),a.jsx("th",{children:"Geo"}),a.jsx("th",{children:"Barangay"}),a.jsx("th",{children:"Mobile No."}),a.jsx("th",{children:"Landline"}),a.jsx("th",{children:"Satellite"}),a.jsx("th",{children:"Socials and Websites"})]})}),a.jsx("tbody",{children:F.map(b=>a.jsxs("tr",{children:[a.jsx("td",{children:b.category}),a.jsx("td",{children:b.name}),a.jsx("td",{children:b.geo}),a.jsx("td",{children:b.address.barangay}),a.jsx("td",{children:Array.isArray(b.mobile)?b.mobile.join(", "):b.mobile}),a.jsx("td",{children:Array.isArray(b.landline)?b.landline.join(", "):b.landline}),a.jsx("td",{children:Array.isArray(b.satellite)?b.satellite.join(", "):b.satellite}),a.jsx("td",{children:Array.isArray(b.socials)?b.socials.join(", "):b.socials}),a.jsx("td",{children:a.jsxs(B,{className:"d-flex justify-content-center align-items-center",children:[a.jsx(Xt,{placement:"top",overlay:a.jsx(Gt,{children:"Edit"}),children:a.jsx(se,{variant:"outline-secondary",size:"sm",className:"me-2",onClick:()=>j(b),children:a.jsx(we,{icon:Ir,size:"xs",fixedWidth:!0})})}),a.jsx(Xt,{placement:"top",overlay:a.jsx(Gt,{children:"Delete"}),children:a.jsx(se,{variant:"outline-danger",size:"sm",onClick:()=>C(b.id),children:a.jsx(we,{icon:Pt,size:"xs",fixedWidth:!0})})})]})})]},b.id))})]}),a.jsxs(B,{className:"d-flex justify-content-between align-items-center mb-4 mt-2",children:[a.jsx(se,{onClick:D,variant:"outline-success",children:"Download Excel"}),a.jsx(Mr,{previousLabel:"",nextLabel:"",pageCount:T,onPageChange:_,containerClassName:"pagination mb-0",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})]}),f?a.jsx(vOe,{editingItem:f,toAddForm:()=>g(null)}):a.jsx(yOe,{})]})};class NT{constructor(){this.id="",this.title="",this.body=[{subtitle:"",body:"",image:null,image_source:""}],this.port="",this.purpose="",this.headerImage=null,this.references=[]}toJSON(){return{...this}}}const gK=["Caticlan Jetty Port","Tabon Port","Cagban Port","Tambisaan Port"],yK=["Tourists Entry","Tourists Exit","Aklanon Tourists Entry","Aklanon Tourists Exit","Same-day Pass (Entry)","Same-day Pass (Exit/Mainland Tour)"],bOe=({index:t,section:e,onBodyImageDrop:n,dropzoneName:r="dropzone-container-small",previewName:s="dropzone-uploaded-image-small"})=>{const{getRootProps:i,getInputProps:o}=Vt({onDrop:u=>n(u,t),accept:"image/png, image/jpeg, image/jpg, video/mp4, video/webm, video/ogg"}),c=e.image?e.image instanceof File?URL.createObjectURL(e.image):e.image:null;return a.jsxs(B,{...i(),className:`${r} text-center w-100 ${c?"border-success":""}`,children:[a.jsx("input",{...o(),accept:"image/*,video/*"}),c?e.image instanceof File&&e.image.type.startsWith("video/")?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:c,type:e.image.type}),"Your browser does not support the video tag."]}):a.jsx("img",{src:c,alt:"Body Image Preview",className:s}):a.jsxs("p",{className:"text-muted",children:["Drag & Drop Image/Video Here or"," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})};function wOe({}){const[t,e]=S.useState(0),[n,r]=S.useState(new NT),s=(w,E)=>{if(Array.isArray(w))r(j=>({...j,[E]:w}));else if(typeof w=="string")r(j=>({...j,[E]:w}));else{const{name:j,value:C}=w.target;r(O=>({...O,[j]:C}))}},i=()=>{r(w=>({...w,headerImage:null}))},o=async(w,E)=>{const j=Wt(en,E);return await Qt(j,w),await Zt(j)},c=async w=>{w.preventDefault(),ve.fire({title:"Submitting...",text:"Please wait while we submit your requirement data.",allowOutsideClick:!1,didOpen:()=>{ve.showLoading()}});try{let E=accommodationFormData.headerImage?await o(accommodationFormData.headerImage,`requirements/${Date.now()}_${accommodationFormData.headerImage.name}`):null;const j=new NT;j.id="",j.title=n.title,j.port=n.port,j.purpose=n.purpose,j.body=n.body.map((I,D)=>({subtitle:I.subtitle||"",body:I.body||"",image:bodyImagesURLs[D]||"",image_source:I.image_source||""})),j.headerImage=E,j.references=n.references||[];const C=await Or(Jt(Ve,"requirements"),j.toJSON()),O=gt(Ve,"requirements",C.id);await rn(O,{id:C.id}),ve.fire({title:"Requirement Submitted",text:"Your Requirement has been submitted successfully!",icon:"success"}),u(),i()}catch(E){console.error("Error submitting Requirement:",E),ve.fire({title:"Error",text:"There was an issue submitting your Requirement. Please try again.",icon:"error"})}},u=()=>{r({id:"",title:"",port:"",purpose:"",body:[{subtitle:"",body:"",image:null,image_source:""}],headerImage:null,references:[]}),e(w=>w+1)},h=(w,E,j)=>{r(C=>{const O=[...C.body];return O[w]={...O[w],[E]:j},{...C,body:O}})},f=(w,E)=>{const j=w[0];j&&r(C=>{const O=[...C.body];return O[E]={...O[E],image:j,imageUrl:URL.createObjectURL(j)},{...C,body:O}})},g=()=>{r(w=>({...w,body:[...w.body,{subtitle:"",body:"",image:null,image_source:""}]}))},p=w=>{r(E=>{const j=E.body.filter((C,O)=>O!==w);return{...E,body:j}})},y=w=>{r(E=>{const j=[...E.body];return j[w]?(j[w]={...j[w],image:null},{...E,body:j}):E})};return a.jsxs(v,{className:"custom-form body-container",onSubmit:c,onKeyDown:w=>w.key==="Enter"&&w.preventDefault(),children:[a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"port",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Port Assignment"}),a.jsxs(v.Select,{name:"port",value:n.port,onChange:w=>{const E=w.target.value;r(j=>({...j,port:E}))},children:[a.jsx("option",{value:"",disabled:!0,children:"Select Port Assignment"}),gK.map((w,E)=>a.jsx("option",{value:w,children:w},E))]})]})}),a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"purpose",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Purpose"}),a.jsxs(v.Select,{name:"purpose",value:n.purpose,onChange:w=>{const E=w.target.value;r(j=>({...j,purpose:E}))},children:[a.jsx("option",{value:"",disabled:!0,children:"Select Purpose"}),yK.map((w,E)=>a.jsx("option",{value:w,children:w},E))]})]})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Cover Photo"}),a.jsx(mn,{storyForm:n,setStoryForm:r,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Title"}),a.jsx(v.Control,{type:"text",placeholder:"Enter business name",name:"title",value:n.title,onChange:s,required:!0})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsxs(z,{md:12,children:[a.jsx("p",{className:"label mb-2",children:"Body Sections"}),n.body.map((w,E)=>a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(B,{className:"empty-container"}),a.jsxs(v.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(v.Label,{className:"label",children:"Steps (Optional)"}),a.jsx(v.Control,{type:"text",className:"fw-bold",placeholder:"Add number if Step - e.g. Step 1",value:w.subtitle,onChange:j=>h(E,"subtitle",j.target.value)})]}),a.jsxs(z,{className:"col me-lg-2 me-md-1",children:[a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Image (Optional)"}),a.jsx(bOe,{index:E,section:w,onBodyImageDrop:f,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"}),w.image&&a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{className:"mt-2 mb-1",variant:"outline-danger",onClick:()=>y(E),children:[a.jsx(we,{icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]})})]}),a.jsxs(v.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(v.Label,{className:"label",children:"Image Source (Optional)"}),a.jsx(v.Control,{placeholder:"e.g. @boracayphotos or /islanders or #trivago or www.trivago.com",type:"text",value:w.image_source,onChange:j=>h(E,"image_source",j.target.value)})]})]}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(v.Group,{className:"mb-5",children:[a.jsx(v.Label,{className:"label",children:"Body"}),a.jsx(rr,{index:E,section:w,handleBodyChange:h})]})}),n.body.length>1&&a.jsx(B,{className:"mb-4 d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-danger",type:"button",onClick:()=>p(E),className:"mt-3 w-full",children:[a.jsx(we,{icon:Pt,size:"xs",fixedWidth:!0})," Delete Section"]})})]},E)),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-success",type:"button",onClick:g,className:"mb-3",children:[a.jsx(we,{icon:nr,size:"xs",fixedWidth:!0})," Add Section"]})})]})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:w=>s(w,"references"),label:"References and Links (Type & Enter)",editingItems:n.references,resetKey:t})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:u,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:c,children:"Submit Requirements"})]})}),a.jsx(B,{className:"empty-container"})]})}const _Oe=({index:t,section:e,onBodyImageDrop:n,dropzoneName:r="dropzone-container-small",previewName:s="dropzone-uploaded-image-small"})=>{const{getRootProps:i,getInputProps:o}=Vt({onDrop:y=>n(y,t),accept:"image/png, image/jpeg, image/jpg, video/mp4, video/webm, video/ogg"}),c=e.image instanceof File,u=typeof e.image=="string"&&/\.(mp4|webm|ogg)(\?.*)?$/i.test(e.image),h=typeof e.image=="string"&&!u,f=c?URL.createObjectURL(e.image):null,g=h?e.image:null,p=u?e.image:null;return a.jsxs(B,{...i(),className:`${r} text-center w-100 ${f||g||p?"border-success":""}`,children:[a.jsx("input",{...o(),accept:"image/*,video/*"}),f?e.image.type.startsWith("video/")?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:f,type:e.image.type}),"Your browser does not support the video tag."]}):a.jsx("img",{src:f,alt:"Uploaded File Preview",className:s}):p?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:p,type:"video/mp4"}),"Your browser does not support the video tag."]}):g?a.jsx("img",{src:g,alt:"Image URL Preview",className:s}):a.jsxs("p",{className:"text-muted",children:["Drag & Drop Image/Video Here or"," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})};function EOe({editingItem:t,toAddForm:e}){const[n,r]=S.useState(0),[s,i]=S.useState(new NT),[o,c]=S.useState(""),[u,h]=S.useState(""),f=(D,T)=>{if(Array.isArray(D))i(F=>({...F,[T]:D}));else if(typeof D=="string")i(F=>({...F,[T]:D}));else{const{name:F,value:_}=D.target;i(R=>({...R,[F]:_}))}};useEffect(()=>{t&&(setActivityFormData(D=>({...D,id:t.id||"",title:t.name||"",purpose:t.purpose||"",port:t.port||"",body:t.body.map((T,F)=>({subtitle:T.subtitle||"",body:T.body||"",image:T.image||"",image_source:T.image_source||""})),headerImage:t.headerImage||"",references:t.references||[]})),c(t.port||""),h(t.purpose||""))},[t]);const g=()=>{i(D=>({...D,headerImage:null}))},p=async(D,T)=>{const F=Wt(en,T);return await Qt(F,D),await Zt(F)},y=async D=>{D.preventDefault(),ve.fire({title:"Submitting...",text:"Please wait while we updating your requirement data.",allowOutsideClick:!1,didOpen:()=>{ve.showLoading()}});try{let T=s.headerImage;s.headerImage instanceof File&&(t&&t.headerImage&&await $t(t.headerImage),T=await p(s.headerImage,`requirements/${Date.now()}_${s.headerImage.name}`));const F=await Promise.all(s.body.map(async(b,A)=>b.image instanceof File?(t&&t.body&&t.body[A]&&t.body[A].image&&await $t(t.body[A].image),await p(b.image,`requirements/${Date.now()}_${b.image.name}`)):b.image)),_={id:t?t.id:"",title:activityFormData.title,port:activityFormData.port||o,purpose:activityFormData.purpose||u,body:activityFormData.body.map((b,A)=>({subtitle:b.subtitle,body:b.body,image:F[A]||"",image_source:b.image_source})),headerImage:T,references:activityFormData.references},R=gt(Ve,"requirements",s.id);await rn(R,_),ve.fire({title:"Requirements Posted",text:"Your Requirements has been edited successfully!",icon:"success"}),g(),e()}catch(T){console.error("Error submitting Requirements:",T),ve.fire({title:"Error",text:"There was an issue submitting your Requirements. Please try again.",icon:"error"})}},w=()=>{i({id:"",title:"",port:"",purpose:"",body:[{subtitle:"",body:"",image:null,image_source:""}],headerImage:null,references:[]}),r(D=>D+1)},E=(D,T,F)=>{i(_=>{const R=[..._.body];return R[D]={...R[D],[T]:F},{..._,body:R}})},j=(D,T)=>{const F=D[0];F&&i(_=>{const R=[..._.body];return R[T]={...R[T],image:F,imageUrl:URL.createObjectURL(F)},{..._,body:R}})},C=()=>{i(D=>({...D,body:[...D.body,{subtitle:"",body:"",image:null,image_source:""}]}))},O=D=>{i(T=>{const F=T.body.filter((_,R)=>R!==D);return{...T,body:F}})},I=D=>{i(T=>{const F=[...T.body];return F[D]?(F[D]={...F[D],image:null},{...T,body:F}):T})};return a.jsxs(v,{className:"custom-form body-container",onSubmit:y,onKeyDown:D=>D.key==="Enter"&&D.preventDefault(),children:[a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"port",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Port Assignment"}),a.jsxs(v.Select,{name:"port",value:s.port,onChange:D=>{const T=D.target.value;i(F=>({...F,port:T}))},children:[a.jsx("option",{value:"",disabled:!0,children:"Select Port Assignment"}),gK.map((D,T)=>a.jsx("option",{value:D,children:D},T))]})]})}),a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"purpose",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Purpose"}),a.jsxs(v.Select,{name:"purpose",value:s.purpose,onChange:D=>{const T=D.target.value;i(F=>({...F,purpose:T}))},children:[a.jsx("option",{value:"",disabled:!0,children:"Select Purpose"}),yK.map((D,T)=>a.jsx("option",{value:D,children:D},T))]})]})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Cover Photo"}),a.jsx(mn,{storyForm:s,setStoryForm:i,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Title"}),a.jsx(v.Control,{type:"text",placeholder:"Enter business name",name:"title",value:s.title,onChange:f,required:!0})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsxs(z,{md:12,children:[a.jsx("p",{className:"label mb-2",children:"Body Sections"}),s.body.map((D,T)=>a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(B,{className:"empty-container"}),a.jsxs(v.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(v.Label,{className:"label",children:"Subtitle (Optional)"}),a.jsx(v.Control,{type:"text",className:"fw-bold",value:D.subtitle,onChange:F=>E(T,"subtitle",F.target.value)})]}),a.jsxs(z,{className:"col me-lg-2 me-md-1",children:[a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Image (Optional)"}),a.jsx(_Oe,{index:T,section:D,onBodyImageDrop:j,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"}),D.image&&a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{className:"mt-2 mb-1",variant:"outline-danger",onClick:()=>I(T),children:[a.jsx(we,{icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]})})]}),a.jsxs(v.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(v.Label,{className:"label",children:"Image Source (Optional)"}),a.jsx(v.Control,{placeholder:"e.g. @boracayphotos or /islanders or #trivago or www.trivago.com",type:"text",value:D.image_source,onChange:F=>E(T,"image_source",F.target.value)})]})]}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(v.Group,{className:"mb-5",children:[a.jsx(v.Label,{className:"label",children:"Body"}),a.jsx(rr,{index:T,section:D,handleBodyChange:E})]})}),s.body.length>1&&a.jsx(B,{className:"mb-4 d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-danger",type:"button",onClick:()=>O(T),className:"mt-3 w-full",children:[a.jsx(we,{icon:Pt,size:"xs",fixedWidth:!0})," Delete Section"]})})]},T)),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-success",type:"button",onClick:C,className:"mb-3",children:[a.jsx(we,{icon:nr,size:"xs",fixedWidth:!0})," Add Section"]})})]})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:D=>f(D,"references"),label:"References and Links (Type & Enter)",editingItems:s.references,resetKey:n})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:w,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:y,children:"Submit Update"})]})}),a.jsx(B,{className:"empty-container"})]})}const jOe=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(""),[s,i]=S.useState(""),[o,c]=S.useState("asc"),[u,h]=S.useState(0),[f,g]=S.useState(null),p=10;S.useEffect(()=>{E()},[]);const[y,w]=S.useState(!0),E=async()=>{try{const A=(await Rr(Jt(Ve,"requirements"))).docs.map(L=>({id:L.id,...L.data()}));e(A)}catch(b){console.error("Error fetching data:",b)}finally{w(!1)}},j=b=>{g(b)},C=async b=>{window.confirm("Are you sure you want to delete this entry?")&&(await kr(gt(Ve,"requirements",b)),E())},O=t.filter(b=>(s===""||b.category===s)&&(b.title.toLowerCase().includes(n.toLowerCase())||b.port.toLowerCase().includes(n.toLowerCase())||b.purpose.toLowerCase().includes(n.toLowerCase())||b.references.toLowerCase().includes(n.toLowerCase()))),I=()=>new Date().toISOString().split("T")[0],D=()=>{const b=t.map(({title:U,...P})=>({...P,refrences:Array.isArray(P.refrences)?P.refrences.join(", "):"",body:Array.isArray(P.body)?P.body.join(", "):""})),A=vt.json_to_sheet(b),L=vt.book_new();vt.book_append_sheet(L,A,"Data"),Fr(L,`tourism_requirements_infoguide_${I()}.xlsx`)},T=Math.ceil(O.length/p),F=O.slice(u*p,(u+1)*p),_=({selected:b})=>{h(b)},R=()=>{g(null)};return a.jsxs(B,{children:[a.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Tourist Requirements"}),a.jsx("p",{children:"List of Tourist Entry and Exit Flow and Requirements."}),a.jsxs(V,{className:"mb-4 mt-4",children:[a.jsx(z,{md:4,className:"mb-2 me-2 col",children:a.jsx(v.Control,{type:"text",placeholder:`Search up to over ${t.length} requirements`,value:n,onChange:b=>r(b.target.value)})}),a.jsx(z,{md:2,className:"mb-2 me-2 col",children:a.jsxs(v.Select,{value:s,onChange:b=>i(b.target.value),children:[a.jsx("option",{value:"",children:"All Category"}),[...new Set(t.map(b=>b.category))].map((b,A)=>a.jsx("option",{value:b,children:b},A))]})}),a.jsxs(B,{className:"d-flex justify-content-end align-items-center mt-2",children:[a.jsxs(se,{variant:"outline-secondary",className:"me-2",onClick:E,children:[a.jsx(we,{icon:Pr,size:"xs",fixedWidth:!0})," Refresh List"]}),a.jsxs(se,{variant:"outline-success",onClick:R,children:[a.jsx(we,{icon:Dr,size:"xs",fixedWidth:!0})," Add New"]})]})]}),y?a.jsx("div",{className:"d-flex justify-content-center align-items-center my-5",children:a.jsx(Sr,{animation:"border",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):F.length===0?a.jsx("div",{className:"text-center my-5",children:a.jsx("h5",{children:"No Data Available"})}):a.jsxs(Lr,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Title"}),a.jsx("th",{children:"Port"}),a.jsx("th",{children:"Purpose"}),a.jsx("th",{children:"Steps"}),a.jsx("th",{children:"References"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:F.map(b=>{const A=b.body?b.body.filter(L=>L.subtitle.includes("Step")).length:0;return a.jsxs("tr",{children:[a.jsx("td",{children:b.title}),a.jsx("td",{children:b.port}),a.jsx("td",{children:b.purpose}),a.jsx("td",{children:A})," ",a.jsx("td",{children:Array.isArray(b.references)?b.references.join(", "):b.references}),a.jsx("td",{children:a.jsxs(B,{className:"d-flex justify-content-center align-items-center",children:[a.jsx(Xt,{placement:"top",overlay:a.jsx(Gt,{children:"Edit"}),children:a.jsx(se,{variant:"outline-secondary",size:"sm",className:"me-2",onClick:()=>j(b),children:a.jsx(we,{icon:Ir,size:"xs",fixedWidth:!0})})}),a.jsx(Xt,{placement:"top",overlay:a.jsx(Gt,{children:"Delete"}),children:a.jsx(se,{variant:"outline-danger",size:"sm",onClick:()=>C(b.id),children:a.jsx(we,{icon:Pt,size:"xs",fixedWidth:!0})})})]})})]},b.id)})})]}),a.jsxs(B,{className:"d-flex justify-content-between align-items-center mb-4 mt-2",children:[a.jsx(se,{onClick:D,variant:"outline-success",children:"Download Excel"}),a.jsx(Mr,{previousLabel:"",nextLabel:"",pageCount:T,onPageChange:_,containerClassName:"pagination mb-0",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})]}),f?a.jsx(EOe,{editingItem:f,toAddForm:()=>g(null)}):a.jsx(wOe,{})]})};class TT{constructor(){this.id="",this.title="",this.ordinance="",this.description="",this.logo=null,this.references=[]}toJSON(){return{...this}}}function SOe({}){const[t,e]=S.useState(0),[n,r]=S.useState(new TT),s=(u,h)=>{if(Array.isArray(u))r(f=>({...f,[h]:u}));else if(typeof u=="string")r(f=>({...f,[h]:u}));else{const{name:f,value:g}=u.target;r(p=>({...p,[f]:g}))}},i=async(u,h)=>{const f=Wt(en,h);return await Qt(f,u),await Zt(f)},o=async u=>{u.preventDefault(),ve.fire({title:"Submitting...",text:"Please wait while we submit your ordinances.",allowOutsideClick:!1,didOpen:()=>{ve.showLoading()}});try{let h=n.logo?await i(n.logo,`ordinances/${Date.now()}_${n.logo.name}`):null;const f=new TT;f.id="",f.title=n.title,f.ordinance=n.ordinance,f.description=n.description,f.logo=h,f.references=n.references||[];const g=await Or(Jt(Ve,"ordinances"),f.toJSON()),p=gt(Ve,"ordinances",g.id);await rn(p,{id:g.id}),ve.fire({title:"Ordinance Submitted",text:"Your Ordinance has been submitted successfully!",icon:"success"}),c()}catch(h){console.error("Error submitting Ordinance:",h),ve.fire({title:"Error",text:"There was an issue submitting your Ordinance. Please try again.",icon:"error"})}},c=()=>{r({id:"",title:"",ordinance:"",description:"",logo:null,references:[]}),e(u=>u+1)};return a.jsxs(v,{className:"custom-form body-container",onSubmit:o,onKeyDown:u=>u.key==="Enter"&&u.preventDefault(),children:[a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"logo",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Logo"}),a.jsx(Mo,{storyForm:n,setStoryForm:r,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small",caption:"Drag & Drop Logo here",required:!0})]})}),a.jsx(z,{md:6,children:a.jsx(B,{})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Title"}),a.jsx(v.Control,{type:"text",placeholder:"Enter business name",name:"title",value:n.title,onChange:s,required:!0})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"ordinance",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Municipal Ordinances"}),a.jsx(v.Control,{type:"text",placeholder:"Enter Municipal Ordinance No.",name:"ordinance",value:n.ordinance,onChange:s,required:!0})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"description",className:"mb-5 mt-2",children:[a.jsx(v.Label,{className:"label",children:"Brief Description"}),a.jsx(On,{theme:"snow",value:n.description||"",onChange:u=>s(u,"description"),required:!0,style:{height:"300px"}})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:u=>s(u,"references"),label:"References and Links (Type & Enter)",editingItems:n.references,resetKey:t})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:c,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:o,children:"Submit Ordinance"})]})}),a.jsx(B,{className:"empty-container"})]})}function COe({editingItem:t,toAddForm:e}){const[n,r]=S.useState(0),[s,i]=S.useState(new TT),o=(f,g)=>{if(Array.isArray(f))i(p=>({...p,[g]:f}));else if(typeof f=="string")i(p=>({...p,[g]:f}));else{const{name:p,value:y}=f.target;i(w=>({...w,[p]:y}))}};useEffect(()=>{t&&i(f=>({...f,id:t.id||"",title:t.name||"",ordinance:t.ordinance||"",description:t.category||"",logo:t.logo||"",references:t.references||[]}))},[t]);const c=async(f,g)=>{const p=Wt(en,g);return await Qt(p,f),await Zt(p)},u=async f=>{f.preventDefault(),ve.fire({title:"Submitting...",text:"Please wait while we submit your ordinances.",allowOutsideClick:!1,didOpen:()=>{ve.showLoading()}});try{let g=hotlinesFormData.logo;s.logo instanceof File&&(t&&t.logo&&await $t(t.logo),g=await c(s.logo,`ordinances/${Date.now()}_${s.logo.name}`));const p={id:t?t.id:"",title:s.title,ordinance:s.ordinance,description:s.description||[],logo:g,references:s.references||[]},y=gt(Ve,"ordinances",s.id);try{await rn(y,p),ve.fire({title:"Ordinance Updated",text:"Your Ordinance has been updated successfully!",icon:"success"}),h(),e()}catch(w){console.error("Error updating hotlines:",w),ve.fire({title:"Update Failed",text:"There was an error updating the Ordinance.",icon:"error"})}}catch(g){console.error("Error submitting Ordinance:",g),ve.fire({title:"Error",text:"There was an issue submitting your Ordinance. Please try again.",icon:"error"})}},h=()=>{i({id:"",title:"",ordinance:"",description:"",logo:null,references:[]}),r(f=>f+1)};return a.jsxs(v,{className:"custom-form body-container",onSubmit:u,onKeyDown:f=>f.key==="Enter"&&f.preventDefault(),children:[a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"logo",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Logo"}),a.jsx(Mo,{storyForm:s,setStoryForm:i,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small",caption:"Drag & Drop Logo here",required:!0})]})}),a.jsx(z,{md:6,children:a.jsx(B,{})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Title"}),a.jsx(v.Control,{type:"text",placeholder:"Enter business name",name:"title",value:s.title,onChange:o,required:!0})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"ordinance",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Municipal Ordinances"}),a.jsx(v.Control,{type:"text",placeholder:"Enter Municipal Ordinance No.",name:"ordinance",value:s.ordinance,onChange:o,required:!0})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"description",className:"mb-5 mt-2",children:[a.jsx(v.Label,{className:"label",children:"Brief Description"}),a.jsx(On,{theme:"snow",value:s.description||"",onChange:f=>o(f,"description"),required:!0,style:{height:"300px"}})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:f=>o(f,"references"),label:"References and Links (Type & Enter)",editingItems:s.references,resetKey:n})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:h,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:u,children:"Submit Update"})]})}),a.jsx(B,{className:"empty-container"})]})}const NOe=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(""),[s,i]=S.useState("asc"),[o,c]=S.useState(0),[u,h]=S.useState(null),f=10;S.useEffect(()=>{y()},[]);const[g,p]=S.useState(!0),y=async()=>{try{const R=(await Rr(Jt(Ve,"ordinances"))).docs.map(b=>({id:b.id,...b.data()}));e(R)}catch(_){console.error("Error fetching data:",_)}finally{p(!1)}},w=_=>{h(_)},E=async _=>{window.confirm("Are you sure you want to delete this entry?")&&(await kr(gt(Ve,"ordinances",_)),y())},j=t.filter(_=>_.title.toLowerCase().includes(n.toLowerCase())||_.ordinance.toLowerCase().includes(n.toLowerCase())||_.references.toLowerCase().includes(n.toLowerCase())),C=()=>new Date().toISOString().split("T")[0],O=()=>{const _=t.map(({title:A,...L})=>({...L,references:L.references?JSON.stringify(L.references):""})),R=vt.json_to_sheet(_),b=vt.book_new();vt.book_append_sheet(b,R,"Data"),Fr(b,`tourism_ordinances_infoguide_${C()}.xlsx`)},I=Math.ceil(j.length/f),D=j.slice(o*f,(o+1)*f),T=({selected:_})=>{c(_)},F=()=>{h(null)};return a.jsxs(B,{children:[a.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Beach Laws"}),a.jsx("p",{children:"List of Municipal Ordinances pertaining to beach regulations."}),a.jsxs(V,{className:"mb-4 mt-4",children:[a.jsx(z,{md:4,className:"mb-2 me-2 col",children:a.jsx(v.Control,{type:"text",placeholder:`Search up to over ${t.length} ordinances`,value:n,onChange:_=>r(_.target.value)})}),a.jsxs(B,{className:"d-flex justify-content-end align-items-center mt-2",children:[a.jsxs(se,{variant:"outline-secondary",className:"me-2",onClick:y,children:[a.jsx(we,{icon:Pr,size:"xs",fixedWidth:!0})," Refresh List"]}),a.jsxs(se,{variant:"outline-success",onClick:F,children:[a.jsx(we,{icon:Dr,size:"xs",fixedWidth:!0})," Add New"]})]})]}),g?a.jsx("div",{className:"d-flex justify-content-center align-items-center my-5",children:a.jsx(Sr,{animation:"border",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):D.length===0?a.jsx("div",{className:"text-center my-5",children:a.jsx("h5",{children:"No Data Available"})}):a.jsxs(Lr,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Title"}),a.jsx("th",{children:"Ordinance No."}),a.jsx("th",{children:"References"})]})}),a.jsx("tbody",{children:D.map(_=>a.jsxs("tr",{children:[a.jsx("td",{children:_.title}),a.jsx("td",{children:_.ordinance}),a.jsx("td",{children:Array.isArray(_.references)?_.references.join(", "):_.references}),a.jsx("td",{children:a.jsxs(B,{className:"d-flex justify-content-center align-items-center",children:[a.jsx(Xt,{placement:"top",overlay:a.jsx(Gt,{children:"Edit"}),children:a.jsx(se,{variant:"outline-secondary",size:"sm",className:"me-2",onClick:()=>w(_),children:a.jsx(we,{icon:Ir,size:"xs",fixedWidth:!0})})}),a.jsx(Xt,{placement:"top",overlay:a.jsx(Gt,{children:"Delete"}),children:a.jsx(se,{variant:"outline-danger",size:"sm",onClick:()=>E(_.id),children:a.jsx(we,{icon:Pt,size:"xs",fixedWidth:!0})})})]})})]},_.id))})]}),a.jsxs(B,{className:"d-flex justify-content-between align-items-center mb-4 mt-2",children:[a.jsx(se,{onClick:O,variant:"outline-success",children:"Download Excel"}),a.jsx(Mr,{previousLabel:"",nextLabel:"",pageCount:I,onPageChange:T,containerClassName:"pagination mb-0",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})]}),u?a.jsx(COe,{editingItem:u,toAddForm:()=>h(null)}):a.jsx(SOe,{})]})};class AT{constructor(){this.id="",this.title="",this.ordinance="",this.implementor=[],this.body=[{subtitle:"",body:"",image:null,image_source:""}],this.headerImage=null,this.serviceProviders=[],this.references=[]}toJSON(){return{...this}}}const TOe=({index:t,section:e,onBodyImageDrop:n,dropzoneName:r="dropzone-container-small",previewName:s="dropzone-uploaded-image-small"})=>{const{getRootProps:i,getInputProps:o}=Vt({onDrop:u=>n(u,t),accept:"image/png, image/jpeg, image/jpg, video/mp4, video/webm, video/ogg"}),c=e.image?e.image instanceof File?URL.createObjectURL(e.image):e.image:null;return a.jsxs(B,{...i(),className:`${r} text-center w-100 ${c?"border-success":""}`,children:[a.jsx("input",{...o(),accept:"image/*,video/*"}),c?e.image instanceof File&&e.image.type.startsWith("video/")?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:c,type:e.image.type}),"Your browser does not support the video tag."]}):a.jsx("img",{src:c,alt:"Body Image Preview",className:s}):a.jsxs("p",{className:"text-muted",children:["Drag & Drop Image/Video Here or"," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})};function AOe({}){const[t,e]=S.useState(0),[n,r]=S.useState(new AT),s=(w,E)=>{if(Array.isArray(w))r(j=>({...j,[E]:w}));else if(typeof w=="string")r(j=>({...j,[E]:w}));else{const{name:j,value:C}=w.target;r(O=>({...O,[j]:C}))}},i=()=>{r(w=>({...w,headerImage:null}))},o=async(w,E)=>{const j=Wt(en,E);return await Qt(j,w),await Zt(j)},c=async w=>{w.preventDefault(),ve.fire({title:"Submitting...",text:"Please wait while we submit your requirement data.",allowOutsideClick:!1,didOpen:()=>{ve.showLoading()}});try{let E=n.headerImage?await o(n.headerImage,`tariffs/${Date.now()}_${n.headerImage.name}`):null;const j=new AT;j.id="",j.title=n.title,j.ordinance=n.ordinance,j.implementor=n.implementor,j.body=n.body.map((I,D)=>({subtitle:I.subtitle||"",body:I.body||"",image:bodyImagesURLs[D]||"",image_source:I.image_source||""})),j.headerImage=E,j.serviceProviders=n.serviceProviders||[],j.references=n.references||[];const C=await Or(Jt(Ve,"tariffs"),j.toJSON()),O=gt(Ve,"tariffs",C.id);await rn(O,{id:C.id}),ve.fire({title:"Tariff Submitted",text:"Your Tariff has been submitted successfully!",icon:"success"}),u(),i()}catch(E){console.error("Error submitting Tariff:",E),ve.fire({title:"Error",text:"There was an issue submitting your Tariff. Please try again.",icon:"error"})}},u=()=>{r({id:"",title:"",ordinance:"",implementor:[],body:[{subtitle:"",body:"",image:null,image_source:""}],headerImage:null,serviceProviders:[],references:[]}),e(w=>w+1)},h=(w,E,j)=>{r(C=>{const O=[...C.body];return O[w]={...O[w],[E]:j},{...C,body:O}})},f=(w,E)=>{const j=w[0];j&&r(C=>{const O=[...C.body];return O[E]={...O[E],image:j,imageUrl:URL.createObjectURL(j)},{...C,body:O}})},g=()=>{r(w=>({...w,body:[...w.body,{subtitle:"",body:"",image:null,image_source:""}]}))},p=w=>{r(E=>{const j=E.body.filter((C,O)=>O!==w);return{...E,body:j}})},y=w=>{r(E=>{const j=[...E.body];return j[w]?(j[w]={...j[w],image:null},{...E,body:j}):E})};return a.jsxs(v,{className:"custom-form body-container",onSubmit:c,onKeyDown:w=>w.key==="Enter"&&w.preventDefault(),children:[a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Cover Photo"}),a.jsx(mn,{storyForm:n,setStoryForm:r,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Title"}),a.jsx(v.Control,{type:"text",placeholder:"Enter business name",name:"title",value:n.title,onChange:s,required:!0})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"ordinance",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Ordinance No. (Optional)"}),a.jsx(v.Control,{type:"text",placeholder:"Enter odinance no.",name:"ordinance",value:n.ordinance,onChange:s})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:w=>s(w,"implementor"),label:"Implementing Office (Type & Enter)",editingItems:n.implementor,resetKey:t,required:!0})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsxs(z,{md:12,children:[a.jsx("p",{className:"label mb-2",children:"Body Sections"}),n.body.map((w,E)=>a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(B,{className:"empty-container"}),a.jsxs(v.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(v.Label,{className:"label",children:"Subtitle (Optional)"}),a.jsx(v.Control,{type:"text",className:"fw-bold",placeholder:"Enter Section Title Here",value:w.subtitle,onChange:j=>h(E,"subtitle",j.target.value)})]}),a.jsxs(z,{className:"col me-lg-2 me-md-1",children:[a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Image (Optional)"}),a.jsx(TOe,{index:E,section:w,onBodyImageDrop:f,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"}),w.image&&a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{className:"mt-2 mb-1",variant:"outline-danger",onClick:()=>y(E),children:[a.jsx(we,{icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]})})]}),a.jsxs(v.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(v.Label,{className:"label",children:"Image Source (Optional)"}),a.jsx(v.Control,{placeholder:"e.g. @boracayphotos or /islanders or #trivago or www.trivago.com",type:"text",value:w.image_source,onChange:j=>h(E,"image_source",j.target.value)})]})]}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(v.Group,{className:"mb-5",children:[a.jsx(v.Label,{className:"label",children:"Body"}),a.jsx(rr,{index:E,section:w,handleBodyChange:h})]})}),n.body.length>1&&a.jsx(B,{className:"mb-4 d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-danger",type:"button",onClick:()=>p(E),className:"mt-3 w-full",children:[a.jsx(we,{icon:Pt,size:"xs",fixedWidth:!0})," Delete Section"]})})]},E)),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-success",type:"button",onClick:g,className:"mb-3",children:[a.jsx(we,{icon:nr,size:"xs",fixedWidth:!0})," Add Section"]})})]})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsx($e,{onChange:w=>s(w,"serviceProviders"),label:"Service Providers (Type & Enter)",editingItems:n.serviceProviders,resetKey:t})}),a.jsx(z,{md:6,children:a.jsx($e,{onChange:w=>s(w,"references"),label:"References and Links (Type & Enter)",editingItems:n.references,resetKey:t})})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:u,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:c,children:"Submit Tariff Rate"})]})}),a.jsx(B,{className:"empty-container"})]})}const LOe=({index:t,section:e,onBodyImageDrop:n,dropzoneName:r="dropzone-container-small",previewName:s="dropzone-uploaded-image-small"})=>{const{getRootProps:i,getInputProps:o}=Vt({onDrop:y=>n(y,t),accept:"image/png, image/jpeg, image/jpg, video/mp4, video/webm, video/ogg"}),c=e.image instanceof File,u=typeof e.image=="string"&&/\.(mp4|webm|ogg)(\?.*)?$/i.test(e.image),h=typeof e.image=="string"&&!u,f=c?URL.createObjectURL(e.image):null,g=h?e.image:null,p=u?e.image:null;return a.jsxs(B,{...i(),className:`${r} text-center w-100 ${f||g||p?"border-success":""}`,children:[a.jsx("input",{...o(),accept:"image/*,video/*"}),f?e.image.type.startsWith("video/")?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:f,type:e.image.type}),"Your browser does not support the video tag."]}):a.jsx("img",{src:f,alt:"Uploaded File Preview",className:s}):p?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:p,type:"video/mp4"}),"Your browser does not support the video tag."]}):g?a.jsx("img",{src:g,alt:"Image URL Preview",className:s}):a.jsxs("p",{className:"text-muted",children:["Drag & Drop Image/Video Here or"," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})};function ROe({editingItem:t,toAddForm:e}){const[n,r]=S.useState(0),[s,i]=S.useState(new AT),o=(j,C)=>{if(Array.isArray(j))i(O=>({...O,[C]:j}));else if(typeof j=="string")i(O=>({...O,[C]:j}));else{const{name:O,value:I}=j.target;i(D=>({...D,[O]:I}))}};useEffect(()=>{t&&setActivityFormData(j=>({...j,id:t.id||"",title:t.name||"",ordinance:t.ordinance||"",implementor:t.implementor||[],body:t.body.map((C,O)=>({subtitle:C.subtitle||"",body:C.body||"",image:C.image||"",image_source:C.image_source||""})),headerImage:t.headerImage||"",references:t.references||[],serviceProviders:t.serviceProviders||[]}))},[t]);const c=()=>{i(j=>({...j,headerImage:null}))},u=async(j,C)=>{const O=Wt(en,C);return await Qt(O,j),await Zt(O)},h=async j=>{j.preventDefault(),ve.fire({title:"Submitting...",text:"Please wait while we submit your tariff data.",allowOutsideClick:!1,didOpen:()=>{ve.showLoading()}});try{let C=s.headerImage;s.headerImage instanceof File&&(t&&t.headerImage&&await $t(t.headerImage),C=await u(s.headerImage,`tariffs/${Date.now()}_${s.headerImage.name}`));const O=await Promise.all(s.body.map(async(T,F)=>T.image instanceof File?(t&&t.body&&t.body[F]&&t.body[F].image&&await $t(t.body[F].image),await u(T.image,`tariffs/${Date.now()}_${T.image.name}`)):T.image)),I={id:t?t.id:"",title:s.title,ordinance:s.ordinance,implementor:s.implementor,body:s.body.map((T,F)=>({subtitle:T.subtitle,body:T.body,image:O[F]||"",image_source:T.image_source})),headerImage:C,references:s.references,serviceProviders:s.serviceProviders},D=gt(Ve,"tariffs",s.id);await rn(D,I),ve.fire({title:"Tariff Posted",text:"Your Tariff has been edited successfully!",icon:"success"}),c(),e()}catch(C){console.error("Error submitting Tariff:",C),ve.fire({title:"Error",text:"There was an issue submitting your Tariff. Please try again.",icon:"error"})}},f=()=>{i({id:"",title:"",ordinance:"",implementor:[],body:[{subtitle:"",body:"",image:null,image_source:""}],headerImage:null,serviceProviders:[],references:[]}),r(j=>j+1)},g=(j,C,O)=>{i(I=>{const D=[...I.body];return D[j]={...D[j],[C]:O},{...I,body:D}})},p=(j,C)=>{const O=j[0];O&&i(I=>{const D=[...I.body];return D[C]={...D[C],image:O,imageUrl:URL.createObjectURL(O)},{...I,body:D}})},y=()=>{i(j=>({...j,body:[...j.body,{subtitle:"",body:"",image:null,image_source:""}]}))},w=j=>{i(C=>{const O=C.body.filter((I,D)=>D!==j);return{...C,body:O}})},E=j=>{i(C=>{const O=[...C.body];return O[j]?(O[j]={...O[j],image:null},{...C,body:O}):C})};return a.jsxs(v,{className:"custom-form body-container",onSubmit:h,onKeyDown:j=>j.key==="Enter"&&j.preventDefault(),children:[a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Cover Photo"}),a.jsx(mn,{storyForm:s,setStoryForm:i,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Title"}),a.jsx(v.Control,{type:"text",placeholder:"Enter business name",name:"title",value:s.title,onChange:o,required:!0})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"ordinance",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Ordinance No. (Optional)"}),a.jsx(v.Control,{type:"text",placeholder:"Enter odinance no.",name:"ordinance",value:s.ordinance,onChange:o})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:j=>o(j,"implementor"),label:"Implementing Office (Type & Enter)",editingItems:s.implementor,resetKey:n,required:!0})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsxs(z,{md:12,children:[a.jsx("p",{className:"label mb-2",children:"Body Sections"}),s.body.map((j,C)=>a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(B,{className:"empty-container"}),a.jsxs(v.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(v.Label,{className:"label",children:"Subtitle (Optional)"}),a.jsx(v.Control,{type:"text",className:"fw-bold",placeholder:"Enter Section Title Here",value:j.subtitle,onChange:O=>g(C,"subtitle",O.target.value)})]}),a.jsxs(z,{className:"col me-lg-2 me-md-1",children:[a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Image (Optional)"}),a.jsx(LOe,{index:C,section:j,onBodyImageDrop:p,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"}),j.image&&a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{className:"mt-2 mb-1",variant:"outline-danger",onClick:()=>E(C),children:[a.jsx(we,{icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]})})]}),a.jsxs(v.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(v.Label,{className:"label",children:"Image Source (Optional)"}),a.jsx(v.Control,{placeholder:"e.g. @boracayphotos or /islanders or #trivago or www.trivago.com",type:"text",value:j.image_source,onChange:O=>g(C,"image_source",O.target.value)})]})]}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(v.Group,{className:"mb-5",children:[a.jsx(v.Label,{className:"label",children:"Body"}),a.jsx(rr,{index:C,section:j,handleBodyChange:g})]})}),s.body.length>1&&a.jsx(B,{className:"mb-4 d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-danger",type:"button",onClick:()=>w(C),className:"mt-3 w-full",children:[a.jsx(we,{icon:Pt,size:"xs",fixedWidth:!0})," Delete Section"]})})]},C)),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-success",type:"button",onClick:y,className:"mb-3",children:[a.jsx(we,{icon:nr,size:"xs",fixedWidth:!0})," Add Section"]})})]})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsx($e,{onChange:j=>o(j,"serviceProviders"),label:"Service Providers (Type & Enter)",editingItems:s.serviceProviders,resetKey:n})}),a.jsx(z,{md:6,children:a.jsx($e,{onChange:j=>o(j,"references"),label:"References and Links (Type & Enter)",editingItems:s.references,resetKey:n})})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:f,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:h,children:"Submit Update"})]})}),a.jsx(B,{className:"empty-container"})]})}const kOe=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(""),[s,i]=S.useState("asc"),[o,c]=S.useState(0),[u,h]=S.useState(null),f=10;S.useEffect(()=>{y()},[]);const[g,p]=S.useState(!0),y=async()=>{try{const R=(await Rr(Jt(Ve,"tariffs"))).docs.map(b=>({id:b.id,...b.data()}));e(R)}catch(_){console.error("Error fetching data:",_)}finally{p(!1)}},w=_=>{h(_)},E=async _=>{window.confirm("Are you sure you want to delete this entry?")&&(await kr(gt(Ve,"tariffs",_)),y())},j=t.filter(_=>_.title.toLowerCase().includes(n.toLowerCase())||_.port.toLowerCase().includes(n.toLowerCase())||_.purpose.toLowerCase().includes(n.toLowerCase())||_.references.toLowerCase().includes(n.toLowerCase())),C=()=>new Date().toISOString().split("T")[0],O=()=>{const _=t.map(({title:A,...L})=>({...L,refrences:Array.isArray(L.refrences)?L.refrences.join(", "):"",serviceProviders:Array.isArray(L.serviceProviders)?L.serviceProviders.join(", "):"",implementor:Array.isArray(L.implementor)?L.implementor.join(", "):"",body:Array.isArray(L.body)?L.body.join(", "):""})),R=vt.json_to_sheet(_),b=vt.book_new();vt.book_append_sheet(b,R,"Data"),Fr(b,`tourism_requirements_infoguide_${C()}.xlsx`)},I=Math.ceil(j.length/f),D=j.slice(o*f,(o+1)*f),T=({selected:_})=>{c(_)},F=()=>{h(null)};return a.jsxs(B,{children:[a.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Tariff Rates"}),a.jsx("p",{children:"List of Tariff Rates."}),a.jsxs(V,{className:"mb-4 mt-4",children:[a.jsx(z,{md:4,className:"mb-2 me-2 col",children:a.jsx(v.Control,{type:"text",placeholder:`Search up to over ${t.length} tariff rates`,value:n,onChange:_=>r(_.target.value)})}),a.jsxs(B,{className:"d-flex justify-content-end align-items-center mt-2",children:[a.jsxs(se,{variant:"outline-secondary",className:"me-2",onClick:y,children:[a.jsx(we,{icon:Pr,size:"xs",fixedWidth:!0})," Refresh List"]}),a.jsxs(se,{variant:"outline-success",onClick:F,children:[a.jsx(we,{icon:Dr,size:"xs",fixedWidth:!0})," Add New"]})]})]}),g?a.jsx("div",{className:"d-flex justify-content-center align-items-center my-5",children:a.jsx(Sr,{animation:"border",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):D.length===0?a.jsx("div",{className:"text-center my-5",children:a.jsx("h5",{children:"No Data Available"})}):a.jsxs(Lr,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Title"}),a.jsx("th",{children:"Ordinance"}),a.jsx("th",{children:"Implementing Office"}),a.jsx("th",{children:"References"}),a.jsx("th",{children:"Service Providers"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:a.jsxs("tr",{children:[a.jsx("td",{children:item.title}),a.jsx("td",{children:item.ordinance}),a.jsx("td",{children:Array.isArray(item.implementor)?item.implementor.join(", "):item.implementor}),a.jsx("td",{children:Array.isArray(item.references)?item.references.join(", "):item.references}),a.jsx("td",{children:Array.isArray(item.serviceProviders)?item.serviceProviders.join(", "):item.serviceProviders}),a.jsx("td",{children:a.jsxs(B,{className:"d-flex justify-content-center align-items-center",children:[a.jsx(Xt,{placement:"top",overlay:a.jsx(Gt,{children:"Edit"}),children:a.jsx(se,{variant:"outline-secondary",size:"sm",className:"me-2",onClick:()=>w(item),children:a.jsx(we,{icon:Ir,size:"xs",fixedWidth:!0})})}),a.jsx(Xt,{placement:"top",overlay:a.jsx(Gt,{children:"Delete"}),children:a.jsx(se,{variant:"outline-danger",size:"sm",onClick:()=>E(item.id),children:a.jsx(we,{icon:Pt,size:"xs",fixedWidth:!0})})})]})})]},item.id)})]}),a.jsxs(B,{className:"d-flex justify-content-between align-items-center mb-4 mt-2",children:[a.jsx(se,{onClick:O,variant:"outline-success",children:"Download Excel"}),a.jsx(Mr,{previousLabel:"",nextLabel:"",pageCount:I,onPageChange:T,containerClassName:"pagination mb-0",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})]}),u?a.jsx(ROe,{editingItem:u,toAddForm:()=>h(null)}):a.jsx(AOe,{})]})};class vK{constructor(){this.id="",this.dateTimeStart="",this.dateTimeEnd="",this.category="",this.title="",this.body=[{subtitle:"",body:"",image:null,image_source:""}],this.headerImage=null,this.headerImageSource=[],this.tags=[],this.thingsToDo=[]}toJSON(){return{...this}}}const xK=["Cultural Events","Anniversary","Enterprise Event","Beach Party","Festival","Sports Event","Holiday Party","Concert & Music Festival","Fundraiser & Charity Event","Networking Event","Conference & Seminar","Trade Show & Expo","Community Gathering","Retreat & Team Building","Theme Party","Yultide Celebration"],OOe=({index:t,section:e,onBodyImageDrop:n,dropzoneName:r="dropzone-container-small",previewName:s="dropzone-uploaded-image-small"})=>{const{getRootProps:i,getInputProps:o}=Vt({onDrop:u=>n(u,t),accept:"image/png, image/jpeg, image/jpg, video/mp4, video/webm, video/ogg"}),c=e.image?e.image instanceof File?URL.createObjectURL(e.image):e.image:null;return a.jsxs(B,{...i(),className:`${r} text-center w-100 ${c?"border-success":""}`,children:[a.jsx("input",{...o(),accept:"image/*,video/*"}),c?e.image instanceof File&&e.image.type.startsWith("video/")?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:c,type:e.image.type}),"Your browser does not support the video tag."]}):a.jsx("img",{src:c,alt:"Body Image Preview",className:s}):a.jsxs("p",{className:"text-muted",children:["Drag & Drop Image/Video Here or"," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})};function IOe(){const[t,e]=S.useState(new vK),[n,r]=S.useState(0);S.useEffect(()=>{},[]);const s=()=>{e({id:"",dateTimeStart:"",dateTimeEnd:"",category:"",title:"",headerImage:null,headerImageSource:[],body:[{subtitle:"",body:"",image:null,image_source:""}],tags:[],thingsToDo:[]}),r(T=>T+1)},i=(T,F)=>{if(Array.isArray(T))e(_=>({..._,[F]:T}));else if(typeof T=="string")e(_=>({..._,[F]:T}));else{const{name:_,value:R}=T.target;e(b=>({...b,[_]:R}))}},o=(T,F,_)=>{e(R=>{const b=[...R.body];return b[T]={...b[T],[F]:_},{...R,body:b}})},c=(T,F)=>{const _=T[0];_&&e(R=>{const b=[...R.body];return b[F]={...b[F],image:_,imageUrl:URL.createObjectURL(_)},{...R,body:b}})},u=()=>{e(T=>({...T,body:[...T.body,{subtitle:"",body:"",image:null,image_source:""}]}))},h=T=>{e(F=>{const _=F.body.filter((R,b)=>b!==T);return{...F,body:_}})},[f,g]=S.useState(null),[p,y]=S.useState(""),w=S.useCallback(T=>{T.length>0&&g(T[0])},[]),{getRootProps:E,getInputProps:j}=Vt({onDrop:w,accept:"image/*",disabled:!!p}),C=()=>{e(T=>({...T,headerImage:null}))},O=T=>{e(F=>{const _=[...F.body];return _[T]?(_[T]={..._[T],image:null},{...F,body:_}):F})},I=async(T,F)=>{const _=Wt(en,F);return await Qt(_,T),await Zt(_)},D=async T=>{T.preventDefault(),ve.fire({title:"Submitting...",text:"Please wait while we submit your calendar event.",allowOutsideClick:!1,didOpen:()=>{ve.showLoading()}});try{let F=await I(t.headerImage,`calendarEvents/${Date.now()}_${t.headerImage}`);const _=await Promise.all(t.body.map(async(L,U)=>L.image?await I(L.image,`calendarEvents/${Date.now()}_${L.image.name}`):"")),R={id:"",dateTimeStart:t.dateTimeStart,dateTimeEnd:t.dateTimeEnd,category:t.category,title:t.title,headerImage:F,headerImageSource:t.headerImageSource,body:t.body.map((L,U)=>({subtitle:L.subtitle,body:L.body,image:_[U]||"",image_source:L.image_source})),tags:t.tags,thingsToDo:t.thingsToDo},b=await Or(Jt(Ve,"calendarEvents"),R),A=gt(Ve,"calendarEvents",b.id);await A(A,{id:b.id}),ve.fire({title:"Calendar Events Submitted",text:"Your Calendar Events has been submitted successfully!",icon:"success"}),s(),C()}catch(F){console.error("Error submitting Calendar Events:",F),ve.fire({title:"Error",text:"There was an issue submitting your Calendar Events. Please try again.",icon:"error"})}};return S.useRef(null),a.jsxs(v,{className:"custom-form body-container",onSubmit:D,onKeyDown:T=>T.key==="Enter"&&T.preventDefault(),children:[a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"category",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Category"}),a.jsxs(v.Select,{name:"category",value:t.category,onChange:i,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Category"}),xK.map((T,F)=>a.jsx("option",{value:T,children:T},F))]})]})}),a.jsx(z,{md:6,children:a.jsx(B,{className:"empty-container"})})]}),a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Start Date & Time"}),a.jsx(v.Control,{type:"datetime-local",name:"dateTimeStart",value:t.dateTimeStart,onChange:i,required:!0})]})}),a.jsx(z,{md:6,children:a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"End Date & Time"}),a.jsx(v.Control,{type:"datetime-local",name:"dateTimeEnd",value:t.dateTimeEnd,onChange:i,min:t.dateTimeStart,disabled:!t.dateTimeStart,required:!0})]})})]}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Title"}),a.jsx(v.Control,{type:"text",name:"title",className:"fw-bold",value:t.title,onChange:i,placeholder:"Enter title",required:!0})]})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{className:"my-2",children:[a.jsx(v.Label,{className:"label",children:"Upload Header Image (800x400)"}),a.jsx(mn,{storyForm:t,setStoryForm:e,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"}),a.jsxs(B,{className:"d-flex justify-content-between mt-2",children:[a.jsx("p",{className:"subtitle",children:"Supported File: PNG, JPEG, and JPG"}),a.jsx("p",{className:"subtitle",children:"Maximum size: 25MB"})]}),a.jsx(B,{className:"d-flex justify-content-end",children:f&&(p?null:a.jsxs(se,{className:"my-2",variant:"outline-danger",onClick:C,children:[a.jsx(we,{className:"button-icon",icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]}))})]})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:T=>i(T,"headerImageSource"),label:"Header Image Sources (Type & Enter)",editingItems:t.headerImageSource,resetKey:n})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsxs(z,{md:12,children:[a.jsx("p",{className:"label mb-2",children:"Body Sections"}),t.body.map((T,F)=>a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(B,{className:"empty-container"}),a.jsxs(v.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(v.Label,{className:"label",children:"Subtitle (Optional)"}),a.jsx(v.Control,{type:"text",className:"fw-bold",value:T.subtitle,onChange:_=>o(F,"subtitle",_.target.value)})]}),a.jsxs(z,{className:"col me-lg-2 me-md-1",children:[a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Image (Optional)"}),a.jsx(OOe,{index:F,section:T,onBodyImageDrop:c,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"}),T.image&&a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{className:"mt-2 mb-1",variant:"outline-danger",onClick:()=>O(F),children:[a.jsx(we,{icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]})})]}),a.jsxs(v.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(v.Label,{className:"label",children:"Image Source (Optional)"}),a.jsx(v.Control,{placeholder:"e.g. @boracayphotos or /islanders or #trivago or www.trivago.com",type:"text",value:T.image_source,onChange:_=>o(F,"image_source",_.target.value)})]})]}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(v.Group,{className:"mb-5",children:[a.jsx(v.Label,{className:"label",children:"Body"}),a.jsx(rr,{index:F,section:T,handleBodyChange:o})]})}),t.body.length>1&&a.jsx(B,{className:"mb-4 d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-danger",type:"button",onClick:()=>h(F),className:"mt-3 w-full",children:[a.jsx(we,{icon:Pt,size:"xs",fixedWidth:!0})," Delete Section"]})})]},F)),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-success",type:"button",onClick:u,className:"mb-3",children:[a.jsx(we,{icon:nr,size:"xs",fixedWidth:!0})," Add Section"]})})]})}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:T=>i(T,"thingsToDo"),label:"Things To Do (Type & Enter)",caption:"notable activities during the event",editingItems:t.thingsToDo,resetKey:n})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:T=>i(T,"tags"),label:"Tags (Type & Enter)",editingItems:t.tags,resetKey:n,caption:"imporant tags for Optimization"})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",onClick:s,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full",onClick:D,children:"Submit Event Calendar"})]})]})}const POe=({index:t,section:e,onBodyImageDrop:n,dropzoneName:r="dropzone-container-small",previewName:s="dropzone-uploaded-image-small"})=>{const{getRootProps:i,getInputProps:o}=Vt({onDrop:y=>n(y,t),accept:"image/png, image/jpeg, image/jpg, video/mp4, video/webm, video/ogg"}),c=e.image instanceof File,u=typeof e.image=="string"&&/\.(mp4|webm|ogg)(\?.*)?$/i.test(e.image),h=typeof e.image=="string"&&!u,f=c?URL.createObjectURL(e.image):null,g=h?e.image:null,p=u?e.image:null;return a.jsxs(B,{...i(),className:`${r} text-center w-100 ${f||g||p?"border-success":""}`,children:[a.jsx("input",{...o(),accept:"image/*,video/*"}),f?e.image.type.startsWith("video/")?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:f,type:e.image.type}),"Your browser does not support the video tag."]}):a.jsx("img",{src:f,alt:"Uploaded File Preview",className:s}):p?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:p,type:"video/mp4"}),"Your browser does not support the video tag."]}):g?a.jsx("img",{src:g,alt:"Image URL Preview",className:s}):a.jsxs("p",{className:"text-muted",children:["Drag & Drop Image/Video Here or"," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})};function DOe({editingItem:t,toAddForm:e}){const[n,r]=S.useState(new vK),[s,i]=S.useState(0);S.useEffect(()=>{t&&(r(_=>({..._,id:t.id||"",dateTimeStart:t.dateTimeStart||"",dateTimeEnd:t.dateTimeEnd||"",category:t.category||"",title:t.title||"",headerImage:t.headerImage||"",headerImageSource:t.headerImageSource||[],body:t.body.map((R,b)=>({subtitle:R.subtitle||"",body:R.body||"",image:R.image||"",image_source:R.image_source||""})),tags:t.tags||[],thingsToDo:t.thingsToDo||[]})),t.category&&setSelectedCategory(t.category||""))},[t]);const o=()=>{r({id:"",dateTimeStart:"",dateTimeEnd:"",category:"",title:"",headerImage:null,headerImageSource:[],body:[{subtitle:"",body:"",image:null,image_source:""}],tags:[],thingsToDo:[]}),i(_=>_+1)},c=(_,R)=>{if(Array.isArray(_))r(b=>({...b,[R]:_}));else if(typeof _=="string")r(b=>({...b,[R]:_}));else{const{name:b,value:A}=_.target;r(L=>({...L,[b]:A}))}},u=(_,R,b)=>{r(A=>{const L=[...A.body];return L[_]={...L[_],[R]:b},{...A,body:L}})},h=(_,R)=>{const b=_[0];b&&r(A=>{const L=[...A.body];return L[R]={...L[R],image:b,imageUrl:URL.createObjectURL(b)},{...A,body:L}})},f=()=>{r(_=>({..._,body:[..._.body,{subtitle:"",body:"",image:null,image_source:""}]}))},g=_=>{r(R=>{const b=R.body.filter((A,L)=>L!==_);return{...R,body:b}})},[p,y]=S.useState(null),[w,E]=S.useState(""),j=S.useCallback(_=>{_.length>0&&y(_[0])},[]),{getRootProps:C,getInputProps:O}=Vt({onDrop:j,accept:"image/*",disabled:!!w}),I=()=>{r(_=>({..._,headerImage:null}))},D=_=>{r(R=>{const b=[...R.body];return b[_]?(b[_]={...b[_],image:null},{...R,body:b}):R})},T=async(_,R)=>{const b=Wt(en,R);return await Qt(b,_),await Zt(b)},F=async _=>{_.preventDefault(),ve.fire({title:"Updating...",text:"Please wait while we update the Calendar Events.",allowOutsideClick:!1,didOpen:()=>{ve.showLoading()}});try{let R;storyFormData.headerImage instanceof File?(t&&t.headerImage&&await $t(t.headerImage),R=await T(storyFormData.headerImage,`calendarEvents/${Date.now()}_${storyFormData.headerImage.name}`)):R=storyFormData.headerImage;const b=await Promise.all(storyFormData.body.map(async(U,P)=>U.image instanceof File?(t&&t.body&&t.body[P]&&t.body[P].image&&await $t(t.body[P].image),await T(U.image,`calendarEvents/${Date.now()}_${U.image.name}`)):U.image)),A={dateTimeStart:n.dateTimeStart,dateTimeEnd:n.dateTimeEnd,category:n.category,title:n.title,headerImage:R,headerImageSource:n.headerImageSource,body:n.body.map((U,P)=>({subtitle:U.subtitle,body:U.body,image:b[P]||"",image_source:U.image_source})),tags:n.tags,thingsToDo:n.thingsToDo},L=gt(Ve,"calendarEvents",storyFormData.id);await rn(L,A),ve.fire({title:"Calendar Events Posted",text:"Your Calendar Events has been edited successfully!",icon:"success"}),I(),e()}catch(R){console.error("Error updating data:",R),ve.fire({title:"Error",text:"There was an issue updating your data. Please try again.",icon:"error"})}};return S.useRef(null),a.jsxs(v,{className:"custom-form body-container",onSubmit:F,onKeyDown:_=>_.key==="Enter"&&_.preventDefault(),children:[a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"category",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Category"}),a.jsxs(v.Select,{name:"category",value:n.category,onChange:c,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Category"}),xK.map((_,R)=>a.jsx("option",{value:_,children:_},R))]})]})}),a.jsx(z,{md:6,children:a.jsx(B,{className:"empty-container"})})]}),a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Start Date & Time"}),a.jsx(v.Control,{type:"datetime-local",name:"dateTimeStart",value:n.dateTimeStart,onChange:c,required:!0})]})}),a.jsx(z,{md:6,children:a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"End Date & Time"}),a.jsx(v.Control,{type:"datetime-local",name:"dateTimeEnd",value:n.dateTimeEnd,onChange:c,min:n.dateTimeStart,disabled:!n.dateTimeStart,required:!0})]})})]}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Title"}),a.jsx(v.Control,{type:"text",name:"title",className:"fw-bold",value:n.title,onChange:c,placeholder:"Enter title",required:!0})]})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{className:"my-2",children:[a.jsx(v.Label,{className:"label",children:"Upload Header Image (800x400)"}),a.jsx(mn,{storyForm:n,setStoryForm:r,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"}),a.jsxs(B,{className:"d-flex justify-content-between mt-2",children:[a.jsx("p",{className:"subtitle",children:"Supported File: PNG, JPEG, and JPG"}),a.jsx("p",{className:"subtitle",children:"Maximum size: 25MB"})]}),a.jsx(B,{className:"d-flex justify-content-end",children:p&&(w?null:a.jsxs(se,{className:"my-2",variant:"outline-danger",onClick:I,children:[a.jsx(we,{className:"button-icon",icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]}))})]})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:_=>c(_,"headerImageSource"),label:"Header Image Sources (Type & Enter)",editingItems:n.headerImageSource,resetKey:s})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsxs(z,{md:12,children:[a.jsx("p",{className:"label mb-2",children:"Body Sections"}),n.body.map((_,R)=>a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(B,{className:"empty-container"}),a.jsxs(v.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(v.Label,{className:"label",children:"Subtitle (Optional)"}),a.jsx(v.Control,{type:"text",className:"fw-bold",value:_.subtitle,onChange:b=>u(R,"subtitle",b.target.value)})]}),a.jsxs(z,{className:"col me-lg-2 me-md-1",children:[a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Image (Optional)"}),a.jsx(POe,{index:R,section:_,onBodyImageDrop:h,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"}),_.image&&a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{className:"mt-2 mb-1",variant:"outline-danger",onClick:()=>D(R),children:[a.jsx(we,{icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]})})]}),a.jsxs(v.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(v.Label,{className:"label",children:"Image Source (Optional)"}),a.jsx(v.Control,{placeholder:"e.g. @boracayphotos or /islanders or #trivago or www.trivago.com",type:"text",value:_.image_source,onChange:b=>u(R,"image_source",b.target.value)})]})]}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(v.Group,{className:"mb-5",children:[a.jsx(v.Label,{className:"label",children:"Body"}),a.jsx(rr,{index:R,section:_,handleBodyChange:u})]})}),n.body.length>1&&a.jsx(B,{className:"mb-4 d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-danger",type:"button",onClick:()=>g(R),className:"mt-3 w-full",children:[a.jsx(we,{icon:Pt,size:"xs",fixedWidth:!0})," Delete Section"]})})]},R)),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-success",type:"button",onClick:f,className:"mb-3",children:[a.jsx(we,{icon:nr,size:"xs",fixedWidth:!0})," Add Section"]})})]})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:_=>c(_,"thingsToDo"),label:"Things To Do (Type & Enter)",caption:"notable activities during the event",editingItems:n.thingsToDo,resetKey:s})})}),a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:_=>c(_,"tags"),label:"Tags (Type & Enter)",editingItems:n.tags,resetKey:s,caption:"imporant tags for Optimization"})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",onClick:o,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full",onClick:F,children:"Submit Update"})]})]})}const MOe=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(""),[s,i]=S.useState(""),[o,c]=S.useState("asc"),[u,h]=S.useState(0),[f,g]=S.useState(null),p=10;S.useEffect(()=>{E()},[]);const[y,w]=S.useState(!0),E=async()=>{try{const L=(await Rr(Jt(Ve,"calendarEvents"))).docs.map(U=>({id:U.id,...U.data()}));e(L)}catch(A){console.error("Error fetching data:",A)}finally{w(!1)}},j=()=>{const A=[...t].sort((L,U)=>o==="asc"?new Date(L.date)-new Date(U.date):new Date(U.date)-new Date(L.date));e(A),c(o==="asc"?"desc":"asc")},C=A=>{g(A)},O=async A=>{window.confirm("Are you sure you want to delete this entry?")&&(await kr(gt(Ve,"calendarEvents",A)),E())},I=t.filter(A=>(s===""||A.category===s)&&(A.title.toLowerCase().includes(n.toLowerCase())||A.classification.toLowerCase().includes(n.toLowerCase())||A.purpose.toLowerCase().includes(n.toLowerCase())||A.date.toLowerCase().includes(n.toLowerCase())||A.name.toLowerCase().includes(n.toLowerCase())||A.email.toLowerCase().includes(n.toLowerCase())||A.social.toLowerCase().includes(n.toLowerCase()))),D=()=>new Date().toISOString().split("T")[0],T=()=>{const A=t.map(({title:P,...K})=>({...K,tags:Array.isArray(K.tags)?K.tags.join(", "):"",origin:Array.isArray(K.origin)?K.origin.join(", "):"",headerImageSource:Array.isArray(K.headerImageSource)?K.headerImageSource.join(", "):"",references:Array.isArray(K.references)?K.references.join(", "):"",socials:Array.isArray(K.socials)?K.socials.join(", "):"",body:Array.isArray(K.body)?K.body.map(G=>JSON.stringify(G)).join("; "):""})),L=vt.json_to_sheet(A),U=vt.book_new();vt.book_append_sheet(U,L,"Data"),Fr(U,`tourism_calendarEvents_infoguide_${D()}.xlsx`)},F=Math.ceil(I.length/p),_=I.slice(u*p,(u+1)*p),R=({selected:A})=>{h(A)},b=()=>{g(null)};return a.jsxs(B,{children:[a.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Calendar of Events"}),a.jsx("p",{children:"List of Calendar of Events."}),a.jsxs(V,{className:"mb-4 mt-4",children:[a.jsx(z,{md:4,className:"mb-2 me-2 col",children:a.jsx(v.Control,{type:"text",placeholder:`Search up to over ${t.length} articles`,value:n,onChange:A=>r(A.target.value)})}),a.jsx(z,{md:2,className:"mb-2 me-2 col",children:a.jsxs(v.Select,{value:s,onChange:A=>i(A.target.value),children:[a.jsx("option",{value:"",children:"All Category"}),[...new Set(t.map(A=>A.category))].map((A,L)=>a.jsx("option",{value:A,children:A},L))]})}),a.jsxs(B,{className:"d-flex justify-content-end align-items-center mt-2",children:[a.jsxs(se,{variant:"outline-secondary",className:"me-2",onClick:E,children:[a.jsx(we,{icon:Pr,size:"xs",fixedWidth:!0})," Refresh List"]}),a.jsxs(se,{variant:"outline-success",onClick:b,children:[a.jsx(we,{icon:Dr,size:"xs",fixedWidth:!0})," Add New"]})]})]}),y?a.jsx("div",{className:"d-flex justify-content-center align-items-center my-5",children:a.jsx(Sr,{animation:"border",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):_.length===0?a.jsx("div",{className:"text-center my-5",children:a.jsx("h5",{children:"No Data Available"})}):a.jsxs(Lr,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsxs("th",{onClick:j,style:{cursor:"pointer"},children:["Date ",o==="asc"?"":""]}),a.jsx("th",{children:"Classification"}),a.jsx("th",{children:"Title"}),a.jsx("th",{children:"Origin"}),a.jsx("th",{children:"References"}),a.jsx("th",{children:"Socials"})]})}),a.jsx("tbody",{children:_.map(A=>a.jsxs("tr",{children:[a.jsx("td",{children:new Date(A.date).toLocaleDateString()}),a.jsx("td",{children:A.classification}),a.jsx("td",{children:A.title}),a.jsx("td",{children:Array.isArray(A.origin)?A.origin.join(", "):A.origin}),a.jsx("td",{children:Array.isArray(A.references)?A.references.join(", "):A.references}),a.jsx("td",{children:Array.isArray(A.socials)?A.socials.join(", "):A.socials}),a.jsx("td",{children:a.jsxs(B,{className:"d-flex justify-content-center align-items-center",children:[a.jsx(Xt,{placement:"top",overlay:a.jsx(Gt,{children:"Edit"}),children:a.jsx(se,{variant:"outline-secondary",size:"sm",className:"me-2",onClick:()=>C(A),children:a.jsx(we,{icon:Ir,size:"xs",fixedWidth:!0})})}),a.jsx(Xt,{placement:"top",overlay:a.jsx(Gt,{children:"Delete"}),children:a.jsx(se,{variant:"outline-danger",size:"sm",onClick:()=>O(A.id),children:a.jsx(we,{icon:Pt,size:"xs",fixedWidth:!0})})})]})})]},A.id))})]}),a.jsxs(B,{className:"d-flex justify-content-between align-items-center mb-4 mt-2",children:[a.jsx(se,{onClick:T,variant:"outline-success",children:"Download Excel"}),a.jsx(Mr,{previousLabel:"",nextLabel:"",pageCount:F,onPageChange:R,containerClassName:"pagination mb-0",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})]}),f?a.jsx(DOe,{editingItem:f,toAddForm:()=>g(null)}):a.jsx(IOe,{})]})};class LT{constructor(){this.id="",this.title="",this.category=[],this.description="",this.headerImage=null,this.references=[]}toJSON(){return{...this}}}const bK=["General Inquiries","Complaints & Assistance","Entry & Exit Fees and Requirements","Tourist Registration","Travel Inspiration","Tourism Campaigns","News & Updates","Public Transportation","Car Rentals & Ridesharing","Hotel & Accommodation Booking","Tour & Activity Reservations","Local Tips & Recommendations","Sustainable & Eco-Tourism","Cultural & Heritage Sites","Emergency Contacts & Safety","Visa & Immigration Information","Currency Exchange & Payments","Weather & Climate Updates","Language & Communication","Local Laws & Etiquette","Food & Dining Guides","Shopping & Souvenirs","Events & Festivals","Healthcare & Medical Assistance","Itinerary Generation","Tourism Enterprise Accreditation"];function FOe({}){const[t,e]=S.useState(0),[n,r]=S.useState(new LT),s=(u,h)=>{if(Array.isArray(u))r(f=>({...f,[h]:u}));else if(typeof u=="string")r(f=>({...f,[h]:u}));else{const{name:f,value:g}=u.target;r(p=>({...p,[f]:g}))}},i=async(u,h)=>{const f=Wt(en,h);return await Qt(f,u),await Zt(f)},o=async u=>{u.preventDefault(),ve.fire({title:"Submitting...",text:"Please wait while we submit your helpful links.",allowOutsideClick:!1,didOpen:()=>{ve.showLoading()}});try{let h=n.headerImage?await i(n.headerImage,`helpfulLinks/${Date.now()}_${n.headerImage.name}`):null;console.log(h);const f=new LT;f.id="",f.title=n.title,f.category=n.category||[],f.description=n.description,f.headerImage=h,f.references=n.references||[];const g=await Or(Jt(Ve,"helpfulLinks"),f.toJSON()),p=gt(Ve,"helpfulLinks",g.id);await rn(p,{id:g.id}),ve.fire({title:"Helpful Links Submitted",text:"Your Helpful Links has been submitted successfully!",icon:"success"}),c()}catch(h){console.error("Error submitting Helpful Links:",h),ve.fire({title:"Error",text:"There was an issue submitting your Helpful Links. Please try again.",icon:"error"})}},c=()=>{r({id:"",title:"",category:"",description:"",headerImage:null,references:[]}),e(u=>u+1)};return a.jsxs(v,{className:"custom-form body-container",onSubmit:o,onKeyDown:u=>u.key==="Enter"&&u.preventDefault(),children:[a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"headerImage",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Cover Photo"}),a.jsx(mn,{storyForm:n,setStoryForm:r,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(qn,{onChange:u=>s(u,"category"),options:bK,resetKey:t,editingItems:n.category,label:"Categories"})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"title",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Title"}),a.jsx(v.Control,{type:"text",placeholder:"Enter business name",name:"title",value:n.title,onChange:s,required:!0})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"description",className:"mb-5 mt-2",children:[a.jsx(v.Label,{className:"label",children:"Brief Description"}),a.jsx(On,{theme:"snow",value:n.description||"",onChange:u=>s(u,"description"),required:!0,style:{height:"300px"}})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:u=>s(u,"references"),label:"References and Links (Type & Enter)",editingItems:n.references,resetKey:t})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:c,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:o,children:"Submit HelpfulLink"})]})}),a.jsx(B,{className:"empty-container"})]})}function BOe({editingItem:t,toAddForm:e}){const[n,r]=S.useState(0),[s,i]=S.useState(new LT),o=(O,I)=>{if(Array.isArray(O))i(D=>({...D,[I]:O}));else if(typeof O=="string")i(D=>({...D,[I]:O}));else{const{name:D,value:T}=O.target;i(F=>({...F,[D]:T}))}};S.useEffect(()=>{t&&i(O=>({...O,id:t.id||"",title:t.title||"",category:t.category||[],description:t.description||"",headerImage:t.headerImage||"",references:t.references||[]}))},[t]);const[c,u]=S.useState(null),[h,f]=S.useState(""),g=S.useCallback(O=>{O.length>0&&u(O[0])},[]),{getRootProps:p,getInputProps:y}=Vt({onDrop:g,accept:"image/*",disabled:!!h}),w=()=>{i(O=>({...O,headerImage:null}))},E=async(O,I)=>{const D=Wt(en,I);return await Qt(D,O),await Zt(D)},j=async O=>{O.preventDefault(),ve.fire({title:"Submitting...",text:"Please wait while we submit your helpful Links.",allowOutsideClick:!1,didOpen:()=>{ve.showLoading()}});try{let I=s.headerImage;s.headerImage instanceof File?(t&&t.headerImage&&await $t(t.headerImage),I=await E(s.headerImage,`helpfulLinks/${Date.now()}_${s.headerImage.name}`)):I=s.headerImage;const D={id:t?t.id:"",title:s.title,category:s.category||[],description:s.description,headerImage:I,references:s.references||[]},T=gt(Ve,"helpfulLinks",s.id);try{await rn(T,D),ve.fire({title:"Helpful Links Updated",text:"Your Helpful Links has been updated successfully!",icon:"success"}),w(),C(),e()}catch(F){console.error("Error updating hotlines:",F),ve.fire({title:"Update Failed",text:"There was an error updating the Helpful Links.",icon:"error"})}}catch(I){console.error("Error submitting Helpful Links:",I),ve.fire({title:"Error",text:"There was an issue submitting your Helpful Links. Please try again.",icon:"error"})}},C=()=>{i({id:"",title:"",description:"",headerImage:null,references:[]}),r(O=>O+1)};return a.jsxs(v,{className:"custom-form body-container",onSubmit:j,onKeyDown:O=>O.key==="Enter"&&O.preventDefault(),children:[a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{className:"my-2",children:[a.jsx(v.Label,{className:"label",children:"Upload Header Image (800x400)"}),a.jsx(mn,{storyForm:s,setStoryForm:i,editingItem:s,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"}),a.jsxs(B,{className:"d-flex justify-content-between mt-2",children:[a.jsx("p",{className:"subtitle",children:"Supported File: PNG, JPEG, and JPG"}),a.jsx("p",{className:"subtitle",children:"Maximum size: 25MB"})]}),a.jsx(B,{className:"d-flex justify-content-end",children:c&&(h?null:a.jsxs(se,{className:"my-2",variant:"outline-danger",onClick:w,children:[a.jsx(we,{className:"button-icon",icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]}))})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(qn,{onChange:O=>o(O,"category"),options:bK,resetKey:n,editingItems:s.category,label:"Categories"})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Title"}),a.jsx(v.Control,{type:"text",placeholder:"Enter business name",name:"title",value:s.title,onChange:o,required:!0})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"description",className:"mb-5 mt-2",children:[a.jsx(v.Label,{className:"label",children:"Brief Description"}),a.jsx(On,{theme:"snow",value:s.description||"",onChange:O=>o(O,"description"),required:!0,style:{height:"300px"}})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:O=>o(O,"references"),label:"References and Links (Type & Enter)",editingItems:s.references,resetKey:n})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:C,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:j,children:"Submit Update"})]})}),a.jsx(B,{className:"empty-container"})]})}const UOe=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(""),[s,i]=S.useState("asc"),[o,c]=S.useState(0),[u,h]=S.useState(null),f=10;S.useEffect(()=>{y()},[]);const[g,p]=S.useState(!0),y=async()=>{try{const R=(await Rr(Jt(Ve,"helpfulLinks"))).docs.map(b=>({id:b.id,...b.data()}));e(R)}catch(_){console.error("Error fetching data:",_)}finally{p(!1)}},w=_=>{h(_)},E=async _=>{window.confirm("Are you sure you want to delete this entry?")&&(await kr(gt(Ve,"helpfulLinks",_)),y())},j=t.filter(_=>_.title.toLowerCase().includes(n.toLowerCase())||_.references.toLowerCase().includes(n.toLowerCase())),C=()=>new Date().toISOString().split("T")[0],O=()=>{const _=t.map(({title:A,...L})=>({...L,references:L.references?JSON.stringify(L.references):""})),R=vt.json_to_sheet(_),b=vt.book_new();vt.book_append_sheet(b,R,"Data"),Fr(b,`tourism_helpfulLinks_infoguide_${C()}.xlsx`)},I=Math.ceil(j.length/f),D=j.slice(o*f,(o+1)*f),T=({selected:_})=>{c(_)},F=()=>{h(null)};return a.jsxs(B,{children:[a.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Tourist Links"}),a.jsx("p",{children:"List of Helpful Links for tourists."}),a.jsxs(V,{className:"mb-4 mt-4",children:[a.jsx(z,{md:4,className:"mb-2 me-2 col",children:a.jsx(v.Control,{type:"text",placeholder:`Search up to over ${t.length} helpful links`,value:n,onChange:_=>r(_.target.value)})}),a.jsxs(B,{className:"d-flex justify-content-end align-items-center mt-2",children:[a.jsxs(se,{variant:"outline-secondary",className:"me-2",onClick:y,children:[a.jsx(we,{icon:Pr,size:"xs",fixedWidth:!0})," Refresh List"]}),a.jsxs(se,{variant:"outline-success",onClick:F,children:[a.jsx(we,{icon:Dr,size:"xs",fixedWidth:!0})," Add New"]})]})]}),g?a.jsx("div",{className:"d-flex justify-content-center align-items-center my-5",children:a.jsx(Sr,{animation:"border",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):D.length===0?a.jsx("div",{className:"text-center my-5",children:a.jsx("h5",{children:"No Data Available"})}):a.jsxs(Lr,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Title"}),a.jsx("th",{children:"References"})]})}),a.jsx("tbody",{children:D.map(_=>a.jsxs("tr",{children:[a.jsx("td",{children:_.title}),a.jsx("td",{children:Array.isArray(_.references)?_.references.join(", "):_.references}),a.jsx("td",{children:a.jsxs(B,{className:"d-flex justify-content-center align-items-center",children:[a.jsx(Xt,{placement:"top",overlay:a.jsx(Gt,{children:"Edit"}),children:a.jsx(se,{variant:"outline-secondary",size:"sm",className:"me-2",onClick:()=>w(_),children:a.jsx(we,{icon:Ir,size:"xs",fixedWidth:!0})})}),a.jsx(Xt,{placement:"top",overlay:a.jsx(Gt,{children:"Delete"}),children:a.jsx(se,{variant:"outline-danger",size:"sm",onClick:()=>E(_.id),children:a.jsx(we,{icon:Pt,size:"xs",fixedWidth:!0})})})]})})]},_.id))})]}),a.jsxs(B,{className:"d-flex justify-content-between align-items-center mb-4 mt-2",children:[a.jsx(se,{onClick:O,variant:"outline-success",children:"Download Excel"}),a.jsx(Mr,{previousLabel:"",nextLabel:"",pageCount:I,onPageChange:T,containerClassName:"pagination mb-0",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})]}),u?a.jsx(BOe,{editingItem:u,toAddForm:()=>h(null)}):a.jsx(FOe,{})]})};class RT{constructor(){this.id="",this.title="",this.body=[{subtitle:"",body:"",image:null,image_source:""}],this.headerImage=null,this.references=[]}toJSON(){return{...this}}}const zOe=({index:t,section:e,onBodyImageDrop:n,dropzoneName:r="dropzone-container-small",previewName:s="dropzone-uploaded-image-small"})=>{const{getRootProps:i,getInputProps:o}=Vt({onDrop:y=>n(y,t),accept:"image/png, image/jpeg, image/jpg, video/mp4, video/webm, video/ogg"}),c=e.image instanceof File,u=typeof e.image=="string"&&/\.(mp4|webm|ogg)(\?.*)?$/i.test(e.image),h=typeof e.image=="string"&&!u,f=c?URL.createObjectURL(e.image):null,g=h?e.image:null,p=u?e.image:null;return a.jsxs(B,{...i(),className:`${r} text-center w-100 ${f||g||p?"border-success":""}`,children:[a.jsx("input",{...o(),accept:"image/*,video/*"}),f?e.image.type.startsWith("video/")?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:f,type:e.image.type}),"Your browser does not support the video tag."]}):a.jsx("img",{src:f,alt:"Uploaded File Preview",className:s}):p?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:p,type:"video/mp4"}),"Your browser does not support the video tag."]}):g?a.jsx("img",{src:g,alt:"Image URL Preview",className:s}):a.jsxs("p",{className:"text-muted",children:["Drag & Drop Image/Video Here or"," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})};function qOe({editingItem:t,toAddForm:e}){const[n,r]=S.useState(0),[s,i]=S.useState(new RT),o=(j,C)=>{if(Array.isArray(j))i(O=>({...O,[C]:j}));else if(typeof j=="string")i(O=>({...O,[C]:j}));else{const{name:O,value:I}=j.target;i(D=>({...D,[O]:I}))}};S.useEffect(()=>{t&&i(j=>({...j,id:t.id||"",title:t.title||"",body:t.body.map((C,O)=>({subtitle:C.subtitle||"",body:C.body||"",image:C.image||"",image_source:C.image_source||""})),headerImage:t.headerImage||"",references:t.references||[]}))},[t]);const c=()=>{i(j=>({...j,headerImage:null}))},u=async(j,C)=>{const O=Wt(en,C);return await Qt(O,j),await Zt(O)},h=async j=>{j.preventDefault(),ve.fire({title:"Submitting...",text:"Please wait while we updating your lifeStyle data.",allowOutsideClick:!1,didOpen:()=>{ve.showLoading()}});try{let C=s.headerImage;s.headerImage instanceof File&&(t&&t.headerImage&&await $t(t.headerImage),C=await u(s.headerImage,`lifeStyles/${Date.now()}_${s.headerImage.name}`));const O=await Promise.all(s.body.map(async(T,F)=>T.image instanceof File?(t&&t.body&&t.body[F]&&t.body[F].image&&await $t(t.body[F].image),await u(T.image,`lifeStyles/${Date.now()}_${T.image.name}`)):T.image)),I={id:t?t.id:"",title:s.title,body:s.body.map((T,F)=>({subtitle:T.subtitle,body:T.body,image:O[F]||"",image_source:T.image_source})),headerImage:C,references:s.references},D=gt(Ve,"lifeStyles",s.id);await rn(D,I),ve.fire({title:"lifeStyles Posted",text:"Your lifeStyles has been edited successfully!",icon:"success"}),c(),e()}catch(C){console.error("Error submitting lifeStyles:",C),ve.fire({title:"Error",text:"There was an issue submitting your lifeStyles. Please try again.",icon:"error"})}},f=()=>{i({id:"",title:"",body:[{subtitle:"",body:"",image:null,image_source:""}],headerImage:null,references:[]}),r(j=>j+1)},g=(j,C,O)=>{i(I=>{const D=[...I.body];return D[j]={...D[j],[C]:O},{...I,body:D}})},p=(j,C)=>{const O=j[0];O&&i(I=>{const D=[...I.body];return D[C]={...D[C],image:O,imageUrl:URL.createObjectURL(O)},{...I,body:D}})},y=()=>{i(j=>({...j,body:[...j.body,{subtitle:"",body:"",image:null,image_source:""}]}))},w=j=>{i(C=>{const O=C.body.filter((I,D)=>D!==j);return{...C,body:O}})},E=j=>{i(C=>{const O=[...C.body];return O[j]?(O[j]={...O[j],image:null},{...C,body:O}):C})};return a.jsxs(v,{className:"custom-form body-container",onSubmit:h,onKeyDown:j=>j.key==="Enter"&&j.preventDefault(),children:[a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Cover Photo"}),a.jsx(mn,{storyForm:s,setStoryForm:i,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Title"}),a.jsx(v.Control,{type:"text",placeholder:"Enter business name",name:"title",value:s.title,onChange:o,required:!0})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsxs(z,{md:12,children:[a.jsx("p",{className:"label mb-2",children:"Body Sections"}),s.body.map((j,C)=>a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(B,{className:"empty-container"}),a.jsxs(v.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(v.Label,{className:"label",children:"Subtitle (Optional)"}),a.jsx(v.Control,{type:"text",className:"fw-bold",value:j.subtitle,onChange:O=>g(C,"subtitle",O.target.value)})]}),a.jsxs(z,{className:"col me-lg-2 me-md-1",children:[a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Image (Optional)"}),a.jsx(zOe,{index:C,section:j,onBodyImageDrop:p,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"}),j.image&&a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{className:"mt-2 mb-1",variant:"outline-danger",onClick:()=>E(C),children:[a.jsx(we,{icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]})})]}),a.jsxs(v.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(v.Label,{className:"label",children:"Image Source (Optional)"}),a.jsx(v.Control,{placeholder:"e.g. @boracayphotos or /islanders or #trivago or www.trivago.com",type:"text",value:j.image_source,onChange:O=>g(C,"image_source",O.target.value)})]})]}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(v.Group,{className:"mb-5",children:[a.jsx(v.Label,{className:"label",children:"Body"}),a.jsx(rr,{index:C,section:j,handleBodyChange:g})]})}),s.body.length>1&&a.jsx(B,{className:"mb-4 d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-danger",type:"button",onClick:()=>w(C),className:"mt-3 w-full",children:[a.jsx(we,{icon:Pt,size:"xs",fixedWidth:!0})," Delete Section"]})})]},C)),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-success",type:"button",onClick:y,className:"mb-3",children:[a.jsx(we,{icon:nr,size:"xs",fixedWidth:!0})," Add Section"]})})]})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:j=>o(j,"references"),label:"References and Links (Type & Enter)",editingItems:s.references,resetKey:n})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:f,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:h,children:"Submit Update"})]})}),a.jsx(B,{className:"empty-container"})]})}const $Oe=({index:t,section:e,onBodyImageDrop:n,dropzoneName:r="dropzone-container-small",previewName:s="dropzone-uploaded-image-small"})=>{const{getRootProps:i,getInputProps:o}=Vt({onDrop:u=>n(u,t),accept:"image/png, image/jpeg, image/jpg, video/mp4, video/webm, video/ogg"}),c=e.image?e.image instanceof File?URL.createObjectURL(e.image):e.image:null;return a.jsxs(B,{...i(),className:`${r} text-center w-100 ${c?"border-success":""}`,children:[a.jsx("input",{...o(),accept:"image/*,video/*"}),c?e.image instanceof File&&e.image.type.startsWith("video/")?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:c,type:e.image.type}),"Your browser does not support the video tag."]}):a.jsx("img",{src:c,alt:"Body Image Preview",className:s}):a.jsxs("p",{className:"text-muted",children:["Drag & Drop Image/Video Here or"," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})};function VOe({}){const[t,e]=S.useState(0),[n,r]=S.useState(new RT),s=(w,E)=>{if(Array.isArray(w))r(j=>({...j,[E]:w}));else if(typeof w=="string")r(j=>({...j,[E]:w}));else{const{name:j,value:C}=w.target;r(O=>({...O,[j]:C}))}},i=()=>{r(w=>({...w,headerImage:null}))},o=async(w,E)=>{const j=Wt(en,E);return await Qt(j,w),await Zt(j)},c=async w=>{w.preventDefault(),ve.fire({title:"Submitting...",text:"Please wait while we submit your lifeStyle data.",allowOutsideClick:!1,didOpen:()=>{ve.showLoading()}});try{let E=n.headerImage?await o(n.headerImage,`lifeStyles/${Date.now()}_${n.headerImage.name}`):null;const j=await Promise.all(n.body.map(async(D,T)=>D.image?await o(D.image,`lifeStyles/${Date.now()}_${D.image.name}`):"")),C=new RT;C.id="",C.title=n.title,C.body=n.body.map((D,T)=>({subtitle:D.subtitle||"",body:D.body||"",image:j[T]||"",image_source:D.image_source||""})),C.headerImage=E,C.references=n.references||[];const O=await Or(Jt(Ve,"lifeStyles"),C.toJSON()),I=gt(Ve,"lifeStyles",O.id);await rn(I,{id:O.id}),ve.fire({title:"lifeStyle Submitted",text:"Your lifeStyle has been submitted successfully!",icon:"success"}),u(),i()}catch(E){console.error("Error submitting lifeStyle:",E),ve.fire({title:"Error",text:"There was an issue submitting your lifeStyle. Please try again.",icon:"error"})}},u=()=>{r({id:"",title:"",body:[{subtitle:"",body:"",image:null,image_source:""}],headerImage:null,references:[]}),e(w=>w+1)},h=(w,E,j)=>{r(C=>{const O=[...C.body];return O[w]={...O[w],[E]:j},{...C,body:O}})},f=(w,E)=>{const j=w[0];j&&r(C=>{const O=[...C.body];return O[E]={...O[E],image:j,imageUrl:URL.createObjectURL(j)},{...C,body:O}})},g=()=>{r(w=>({...w,body:[...w.body,{subtitle:"",body:"",image:null,image_source:""}]}))},p=w=>{r(E=>{const j=E.body.filter((C,O)=>O!==w);return{...E,body:j}})},y=w=>{r(E=>{const j=[...E.body];return j[w]?(j[w]={...j[w],image:null},{...E,body:j}):E})};return a.jsxs(v,{className:"custom-form body-container",onSubmit:c,onKeyDown:w=>w.key==="Enter"&&w.preventDefault(),children:[a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Cover Photo"}),a.jsx(mn,{storyForm:n,setStoryForm:r,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Title"}),a.jsx(v.Control,{type:"text",placeholder:"Enter business name",name:"title",value:n.title,onChange:s,required:!0})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsxs(z,{md:12,children:[a.jsx("p",{className:"label mb-2",children:"Body Sections"}),n.body.map((w,E)=>a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(B,{className:"empty-container"}),a.jsxs(v.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(v.Label,{className:"label",children:"Subtitle (Optional)"}),a.jsx(v.Control,{type:"text",className:"fw-bold",placeholder:"Subtitle",value:w.subtitle,onChange:j=>h(E,"subtitle",j.target.value)})]}),a.jsxs(z,{className:"col me-lg-2 me-md-1",children:[a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Image (Optional)"}),a.jsx($Oe,{index:E,section:w,onBodyImageDrop:f,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"}),w.image&&a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{className:"mt-2 mb-1",variant:"outline-danger",onClick:()=>y(E),children:[a.jsx(we,{icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]})})]}),a.jsxs(v.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(v.Label,{className:"label",children:"Image Source (Optional)"}),a.jsx(v.Control,{placeholder:"e.g. @boracayphotos or /islanders or #trivago or www.trivago.com",type:"text",value:w.image_source,onChange:j=>h(E,"image_source",j.target.value)})]})]}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(v.Group,{className:"mb-5",children:[a.jsx(v.Label,{className:"label",children:"Body"}),a.jsx(rr,{index:E,section:w,handleBodyChange:h})]})}),n.body.length>1&&a.jsx(B,{className:"mb-4 d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-danger",type:"button",onClick:()=>p(E),className:"mt-3 w-full",children:[a.jsx(we,{icon:Pt,size:"xs",fixedWidth:!0})," Delete Section"]})})]},E)),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-success",type:"button",onClick:g,className:"mb-3",children:[a.jsx(we,{icon:nr,size:"xs",fixedWidth:!0})," Add Section"]})})]})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:w=>s(w,"references"),label:"References and Links (Type & Enter)",editingItems:n.references,resetKey:t})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:u,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:c,children:"Submit Life Style"})]})}),a.jsx(B,{className:"empty-container"})]})}const HOe=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(""),[s,i]=S.useState(""),[o,c]=S.useState("asc"),[u,h]=S.useState(0),[f,g]=S.useState(null),p=10;S.useEffect(()=>{E()},[]);const[y,w]=S.useState(!0),E=async()=>{try{const A=(await Rr(Jt(Ve,"lifeStyles"))).docs.map(L=>({id:L.id,...L.data()}));e(A)}catch(b){console.error("Error fetching data:",b)}finally{w(!1)}},j=b=>{g(b)},C=async b=>{window.confirm("Are you sure you want to delete this entry?")&&(await kr(gt(Ve,"lifeStyles",b)),E())},O=t.filter(b=>(s===""||b.category===s)&&(b.title.toLowerCase().includes(n.toLowerCase())||b.references.toLowerCase().includes(n.toLowerCase()))),I=()=>new Date().toISOString().split("T")[0],D=()=>{const b=t.map(({title:U,...P})=>({...P,refrences:Array.isArray(P.refrences)?P.refrences.join(", "):"",body:Array.isArray(P.body)?P.body.join(", "):""})),A=vt.json_to_sheet(b),L=vt.book_new();vt.book_append_sheet(L,A,"Data"),Fr(L,`tourism_lifeStyles_infoguide_${I()}.xlsx`)},T=Math.ceil(O.length/p),F=O.slice(u*p,(u+1)*p),_=({selected:b})=>{h(b)},R=()=>{g(null)};return a.jsxs(B,{children:[a.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Life Style "}),a.jsx("p",{children:"List Life Styles of Locals."}),a.jsxs(V,{className:"mb-4 mt-4",children:[a.jsx(z,{md:4,className:"mb-2 me-2 col",children:a.jsx(v.Control,{type:"text",placeholder:`Search up to over ${t.length} lifeStyles`,value:n,onChange:b=>r(b.target.value)})}),a.jsx(z,{md:2,className:"mb-2 me-2 col",children:a.jsxs(v.Select,{value:s,onChange:b=>i(b.target.value),children:[a.jsx("option",{value:"",children:"All Category"}),[...new Set(t.map(b=>b.category))].map((b,A)=>a.jsx("option",{value:b,children:b},A))]})}),a.jsxs(B,{className:"d-flex justify-content-end align-items-center mt-2",children:[a.jsxs(se,{variant:"outline-secondary",className:"me-2",onClick:E,children:[a.jsx(we,{icon:Pr,size:"xs",fixedWidth:!0})," Refresh List"]}),a.jsxs(se,{variant:"outline-success",onClick:R,children:[a.jsx(we,{icon:Dr,size:"xs",fixedWidth:!0})," Add New"]})]})]}),y?a.jsx("div",{className:"d-flex justify-content-center align-items-center my-5",children:a.jsx(Sr,{animation:"border",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):F.length===0?a.jsx("div",{className:"text-center my-5",children:a.jsx("h5",{children:"No Data Available"})}):a.jsxs(Lr,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Title"}),a.jsx("th",{children:"References"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:F.map(b=>a.jsxs("tr",{children:[a.jsx("td",{children:b.title}),a.jsx("td",{children:Array.isArray(b.references)?b.references.join(", "):b.references}),a.jsx("td",{children:a.jsxs(B,{className:"d-flex justify-content-center align-items-center",children:[a.jsx(Xt,{placement:"top",overlay:a.jsx(Gt,{children:"Edit"}),children:a.jsx(se,{variant:"outline-secondary",size:"sm",className:"me-2",onClick:()=>j(b),children:a.jsx(we,{icon:Ir,size:"xs",fixedWidth:!0})})}),a.jsx(Xt,{placement:"top",overlay:a.jsx(Gt,{children:"Delete"}),children:a.jsx(se,{variant:"outline-danger",size:"sm",onClick:()=>C(b.id),children:a.jsx(we,{icon:Pt,size:"xs",fixedWidth:!0})})})]})})]},b.id))})]}),a.jsxs(B,{className:"d-flex justify-content-between align-items-center mb-4 mt-2",children:[a.jsx(se,{onClick:D,variant:"outline-success",children:"Download Excel"}),a.jsx(Mr,{previousLabel:"",nextLabel:"",pageCount:T,onPageChange:_,containerClassName:"pagination mb-0",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})]}),f?a.jsx(qOe,{editingItem:f,toAddForm:()=>g(null)}):a.jsx(VOe,{})]})};class kT{constructor(){this.id="",this.title="",this.body=[{subtitle:"",body:"",image:null,image_source:""}],this.references=[]}toJSON(){return{...this}}}const GOe=({index:t,section:e,onBodyImageDrop:n,dropzoneName:r="dropzone-container-small",previewName:s="dropzone-uploaded-image-small"})=>{const{getRootProps:i,getInputProps:o}=Vt({onDrop:y=>n(y,t),accept:"image/png, image/jpeg, image/jpg, video/mp4, video/webm, video/ogg"}),c=e.image instanceof File,u=typeof e.image=="string"&&/\.(mp4|webm|ogg)(\?.*)?$/i.test(e.image),h=typeof e.image=="string"&&!u,f=c?URL.createObjectURL(e.image):null,g=h?e.image:null,p=u?e.image:null;return a.jsxs(B,{...i(),className:`${r} text-center w-100 ${f||g||p?"border-success":""}`,children:[a.jsx("input",{...o(),accept:"image/*,video/*"}),f?e.image.type.startsWith("video/")?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:f,type:e.image.type}),"Your browser does not support the video tag."]}):a.jsx("img",{src:f,alt:"Uploaded File Preview",className:s}):p?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:p,type:"video/mp4"}),"Your browser does not support the video tag."]}):g?a.jsx("img",{src:g,alt:"Image URL Preview",className:s}):a.jsxs("p",{className:"text-muted",children:["Drag & Drop Image/Video Here or"," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})};function WOe({editingItem:t,toAddForm:e}){const[n,r]=S.useState(0),[s,i]=S.useState(new kT),o=(E,j)=>{if(Array.isArray(E))i(C=>({...C,[j]:E}));else if(typeof E=="string")i(C=>({...C,[j]:E}));else{const{name:C,value:O}=E.target;i(I=>({...I,[C]:O}))}};S.useEffect(()=>{t&&i(E=>({...E,id:t.id||"",title:t.title||"",body:t.body.map((j,C)=>({subtitle:j.subtitle||"",body:j.body||"",image:j.image||"",image_source:j.image_source||""})),references:t.references||[]}))},[t]);const c=async(E,j)=>{const C=Wt(en,j);return await Qt(C,E),await Zt(C)},u=async E=>{E.preventDefault(),ve.fire({title:"Submitting...",text:"Please wait while we submit your tourist FAQ.",allowOutsideClick:!1,didOpen:()=>{ve.showLoading()}});try{const j=await Promise.all(s.body.map(async(I,D)=>I.image instanceof File?(t&&t.body&&t.body[D]&&t.body[D].image&&await $t(t.body[D].image),await c(I.image,`touristFAQs/${Date.now()}_${I.image.name}`)):I.image)),C={id:t?t.id:"",title:s.title,body:s.body.map((I,D)=>({subtitle:I.subtitle,body:I.body,image:j[D]||"",image_source:I.image_source})),references:s.references||[]},O=gt(Ve,"touristFAQs",s.id);try{await rn(O,C),ve.fire({title:"touristFAQ Updated",text:"Your touristFAQ has been updated successfully!",icon:"success"}),h(),e()}catch(I){console.error("Error updating hotlines:",I),ve.fire({title:"Update Failed",text:"There was an error updating the touristFAQ.",icon:"error"})}}catch(j){console.error("Error submitting touristFAQ:",j),ve.fire({title:"Error",text:"There was an issue submitting your touristFAQ. Please try again.",icon:"error"})}},h=()=>{i({id:"",title:"",body:[{subtitle:"",body:"",image:null,image_source:""}],references:[]}),r(E=>E+1)},f=(E,j,C)=>{i(O=>{const I=[...O.body];return I[E]={...I[E],[j]:C},{...O,body:I}})},g=(E,j)=>{const C=E[0];C&&i(O=>{const I=[...O.body];return I[j]={...I[j],image:C,imageUrl:URL.createObjectURL(C)},{...O,body:I}})},p=()=>{i(E=>({...E,body:[...E.body,{subtitle:"",body:"",image:null,image_source:""}]}))},y=E=>{i(j=>{const C=j.body.filter((O,I)=>I!==E);return{...j,body:C}})},w=E=>{i(j=>{const C=[...j.body];return C[E]?(C[E]={...C[E],image:null},{...j,body:C}):j})};return a.jsxs(v,{className:"custom-form body-container",onSubmit:u,onKeyDown:E=>E.key==="Enter"&&E.preventDefault(),children:[a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"title",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Title"}),a.jsx(v.Control,{type:"text",placeholder:"Enter business name",name:"title",value:s.title,onChange:o,required:!0})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsxs(z,{md:12,children:[a.jsx("p",{className:"label mb-2",children:"Body Sections"}),s.body.map((E,j)=>a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(B,{className:"empty-container"}),a.jsxs(v.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(v.Label,{className:"label",children:"Subtitle (Optional)"}),a.jsx(v.Control,{type:"text",className:"fw-bold",placeholder:"Subtitle",value:E.subtitle,onChange:C=>f(j,"subtitle",C.target.value)})]}),a.jsxs(z,{className:"col me-lg-2 me-md-1",children:[a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Image (Optional)"}),a.jsx(GOe,{index:j,section:E,onBodyImageDrop:g,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"}),E.image&&a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{className:"mt-2 mb-1",variant:"outline-danger",onClick:()=>w(j),children:[a.jsx(we,{icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]})})]}),a.jsxs(v.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(v.Label,{className:"label",children:"Image Source (Optional)"}),a.jsx(v.Control,{placeholder:"e.g. @boracayphotos or /islanders or #trivago or www.trivago.com",type:"text",value:E.image_source,onChange:C=>f(j,"image_source",C.target.value)})]})]}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(v.Group,{className:"mb-5",children:[a.jsx(v.Label,{className:"label",children:"Body"}),a.jsx(rr,{index:j,section:E,handleBodyChange:f})]})}),s.body.length>1&&a.jsx(B,{className:"mb-4 d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-danger",type:"button",onClick:()=>y(j),className:"mt-3 w-full",children:[a.jsx(we,{icon:Pt,size:"xs",fixedWidth:!0})," Delete Section"]})})]},j)),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-success",type:"button",onClick:p,className:"mb-3",children:[a.jsx(we,{icon:nr,size:"xs",fixedWidth:!0})," Add Section"]})})]})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:E=>o(E,"references"),label:"References and Links (Type & Enter)",editingItems:s.references,resetKey:n})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:h,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:u,children:"Submit Update"})]})}),a.jsx(B,{className:"empty-container"})]})}const KOe=({index:t,section:e,onBodyImageDrop:n,dropzoneName:r="dropzone-container-small",previewName:s="dropzone-uploaded-image-small"})=>{const{getRootProps:i,getInputProps:o}=Vt({onDrop:u=>n(u,t),accept:"image/png, image/jpeg, image/jpg, video/mp4, video/webm, video/ogg"}),c=e.image?e.image instanceof File?URL.createObjectURL(e.image):e.image:null;return a.jsxs(B,{...i(),className:`${r} text-center w-100 ${c?"border-success":""}`,children:[a.jsx("input",{...o(),accept:"image/*,video/*"}),c?e.image instanceof File&&e.image.type.startsWith("video/")?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:c,type:e.image.type}),"Your browser does not support the video tag."]}):a.jsx("img",{src:c,alt:"Body Image Preview",className:s}):a.jsxs("p",{className:"text-muted",children:["Drag & Drop Image/Video Here or"," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})};function YOe({}){const[t,e]=S.useState(0),[n,r]=S.useState(new kT),s=(y,w)=>{if(Array.isArray(y))r(E=>({...E,[w]:y}));else if(typeof y=="string")r(E=>({...E,[w]:y}));else{const{name:E,value:j}=y.target;r(C=>({...C,[E]:j}))}},i=async(y,w)=>{const E=Wt(en,w);return await Qt(E,y),await Zt(E)},o=async y=>{y.preventDefault(),ve.fire({title:"Submitting...",text:"Please wait while we submit your tourist FAQ.",allowOutsideClick:!1,didOpen:()=>{ve.showLoading()}});try{const w=await Promise.all(n.body.map(async(O,I)=>O.image?await i(O.image,`touristFAQs/${Date.now()}_${O.image.name}`):"")),E=new kT;E.id="",E.title=n.title,E.body=n.body.map((O,I)=>({subtitle:O.subtitle||"",body:O.body||"",image:w[I]||"",image_source:O.image_source||""})),E.references=n.references||[];const j=await Or(Jt(Ve,"touristFAQs"),E.toJSON()),C=gt(Ve,"touristFAQs",j.id);await rn(C,{id:j.id}),ve.fire({title:"touristFAQ Submitted",text:"Your touristFAQ has been submitted successfully!",icon:"success"}),c()}catch(w){console.error("Error submitting touristFAQ:",w),ve.fire({title:"Error",text:"There was an issue submitting your touristFAQ. Please try again.",icon:"error"})}},c=()=>{r({id:"",title:"",body:[{subtitle:"",body:"",image:null,image_source:""}],references:[]}),e(y=>y+1)},u=(y,w,E)=>{r(j=>{const C=[...j.body];return C[y]={...C[y],[w]:E},{...j,body:C}})},h=(y,w)=>{const E=y[0];E&&r(j=>{const C=[...j.body];return C[w]={...C[w],image:E,imageUrl:URL.createObjectURL(E)},{...j,body:C}})},f=()=>{r(y=>({...y,body:[...y.body,{subtitle:"",body:"",image:null,image_source:""}]}))},g=y=>{r(w=>{const E=w.body.filter((j,C)=>C!==y);return{...w,body:E}})},p=y=>{r(w=>{const E=[...w.body];return E[y]?(E[y]={...E[y],image:null},{...w,body:E}):w})};return a.jsxs(v,{className:"custom-form body-container",onSubmit:o,onKeyDown:y=>y.key==="Enter"&&y.preventDefault(),children:[a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"title",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Title"}),a.jsx(v.Control,{type:"text",placeholder:"Enter business name",name:"title",value:n.title,onChange:s,required:!0})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsxs(z,{md:12,children:[a.jsx("p",{className:"label mb-2",children:"Body Sections"}),n.body.map((y,w)=>a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(B,{className:"empty-container"}),a.jsxs(v.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(v.Label,{className:"label",children:"Subtitle (Optional)"}),a.jsx(v.Control,{type:"text",className:"fw-bold",placeholder:"Subtitle",value:y.subtitle,onChange:E=>u(w,"subtitle",E.target.value)})]}),a.jsxs(z,{className:"col me-lg-2 me-md-1",children:[a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Image (Optional)"}),a.jsx(KOe,{index:w,section:y,onBodyImageDrop:h,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"}),y.image&&a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{className:"mt-2 mb-1",variant:"outline-danger",onClick:()=>p(w),children:[a.jsx(we,{icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]})})]}),a.jsxs(v.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(v.Label,{className:"label",children:"Image Source (Optional)"}),a.jsx(v.Control,{placeholder:"e.g. @boracayphotos or /islanders or #trivago or www.trivago.com",type:"text",value:y.image_source,onChange:E=>u(w,"image_source",E.target.value)})]})]}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(v.Group,{className:"mb-5",children:[a.jsx(v.Label,{className:"label",children:"Body"}),a.jsx(rr,{index:w,section:y,handleBodyChange:u})]})}),n.body.length>1&&a.jsx(B,{className:"mb-4 d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-danger",type:"button",onClick:()=>g(w),className:"mt-3 w-full",children:[a.jsx(we,{icon:Pt,size:"xs",fixedWidth:!0})," Delete Section"]})})]},w)),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-success",type:"button",onClick:f,className:"mb-3",children:[a.jsx(we,{icon:nr,size:"xs",fixedWidth:!0})," Add Section"]})})]})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:y=>s(y,"references"),label:"References and Links (Type & Enter)",editingItems:n.references,resetKey:t})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:c,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:o,children:"Submit Tourist FAQ"})]})}),a.jsx(B,{className:"empty-container"})]})}const XOe=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(""),[s,i]=S.useState("asc"),[o,c]=S.useState(0),[u,h]=S.useState(null),f=10;S.useEffect(()=>{y()},[]);const[g,p]=S.useState(!0),y=async()=>{try{const R=(await Rr(Jt(Ve,"touristFAQs"))).docs.map(b=>({id:b.id,...b.data()}));e(R)}catch(_){console.error("Error fetching data:",_)}finally{p(!1)}},w=_=>{h(_)},E=async _=>{window.confirm("Are you sure you want to delete this entry?")&&(await kr(gt(Ve,"touristFAQs",_)),y())},j=t.filter(_=>_.title.toLowerCase().includes(n.toLowerCase())||Array.isArray(_.references)&&_.references.join(", ").toLowerCase().includes(n.toLowerCase())),C=()=>new Date().toISOString().split("T")[0],O=()=>{const _=t.map(({title:A,...L})=>({...L,body:Array.isArray(L.body)?L.body.join(", "):"",references:L.references?JSON.stringify(L.references):""})),R=vt.json_to_sheet(_),b=vt.book_new();vt.book_append_sheet(b,R,"Data"),Fr(b,`tourism_touristFAQss_infoguide_${C()}.xlsx`)},I=Math.ceil(j.length/f),D=j.slice(o*f,(o+1)*f),T=({selected:_})=>{c(_)},F=()=>{h(null)};return a.jsxs(B,{children:[a.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Tourist FAQs"}),a.jsx("p",{children:"List of Tourist Frequently Asked Questions."}),a.jsxs(V,{className:"mb-4 mt-4",children:[a.jsx(z,{md:4,className:"mb-2 me-2 col",children:a.jsx(v.Control,{type:"text",placeholder:`Search up to over ${t.length} tourist FAQS`,value:n,onChange:_=>r(_.target.value)})}),a.jsxs(B,{className:"d-flex justify-content-end align-items-center mt-2",children:[a.jsxs(se,{variant:"outline-secondary",className:"me-2",onClick:y,children:[a.jsx(we,{icon:Pr,size:"xs",fixedWidth:!0})," Refresh List"]}),a.jsxs(se,{variant:"outline-success",onClick:F,children:[a.jsx(we,{icon:Dr,size:"xs",fixedWidth:!0})," Add New"]})]})]}),g?a.jsx("div",{className:"d-flex justify-content-center align-items-center my-5",children:a.jsx(Sr,{animation:"border",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):D.length===0?a.jsx("div",{className:"text-center my-5",children:a.jsx("h5",{children:"No Data Available"})}):a.jsxs(Lr,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Title"}),a.jsx("th",{children:"References"})]})}),a.jsx("tbody",{children:D.map(_=>a.jsxs("tr",{children:[a.jsx("td",{children:_.title}),a.jsx("td",{children:Array.isArray(_.references)?_.references.join(", "):_.references}),a.jsx("td",{children:a.jsxs(B,{className:"d-flex justify-content-center align-items-center",children:[a.jsx(Xt,{placement:"top",overlay:a.jsx(Gt,{children:"Edit"}),children:a.jsx(se,{variant:"outline-secondary",size:"sm",className:"me-2",onClick:()=>w(_),children:a.jsx(we,{icon:Ir,size:"xs",fixedWidth:!0})})}),a.jsx(Xt,{placement:"top",overlay:a.jsx(Gt,{children:"Delete"}),children:a.jsx(se,{variant:"outline-danger",size:"sm",onClick:()=>E(_.id),children:a.jsx(we,{icon:Pt,size:"xs",fixedWidth:!0})})})]})})]},_.id))})]}),a.jsxs(B,{className:"d-flex justify-content-between align-items-center mb-4 mt-2",children:[a.jsx(se,{onClick:O,variant:"outline-success",children:"Download Excel"}),a.jsx(Mr,{previousLabel:"",nextLabel:"",pageCount:I,onPageChange:T,containerClassName:"pagination mb-0",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})]}),u?a.jsx(WOe,{editingItem:u,toAddForm:()=>h(null)}):a.jsx(YOe,{})]})};class OT{constructor(){this.id="",this.title="",this.body=[{subtitle:"",body:"",image:null,image_source:""}],this.references=[]}toJSON(){return{...this}}}const JOe=({index:t,section:e,onBodyImageDrop:n,dropzoneName:r="dropzone-container-small",previewName:s="dropzone-uploaded-image-small"})=>{const{getRootProps:i,getInputProps:o}=Vt({onDrop:u=>n(u,t),accept:"image/png, image/jpeg, image/jpg, video/mp4, video/webm, video/ogg"}),c=e.image?e.image instanceof File?URL.createObjectURL(e.image):e.image:null;return a.jsxs(B,{...i(),className:`${r} text-center w-100 ${c?"border-success":""}`,children:[a.jsx("input",{...o(),accept:"image/*,video/*"}),c?e.image instanceof File&&e.image.type.startsWith("video/")?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:c,type:e.image.type}),"Your browser does not support the video tag."]}):a.jsx("img",{src:c,alt:"Body Image Preview",className:s}):a.jsxs("p",{className:"text-muted",children:["Drag & Drop Image/Video Here or"," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})};function QOe({}){const[t,e]=S.useState(0),[n,r]=S.useState(new OT),s=(y,w)=>{if(Array.isArray(y))r(E=>({...E,[w]:y}));else if(typeof y=="string")r(E=>({...E,[w]:y}));else{const{name:E,value:j}=y.target;r(C=>({...C,[E]:j}))}},i=async(y,w)=>{const E=Wt(en,w);return await Qt(E,y),await Zt(E)},o=async y=>{y.preventDefault(),ve.fire({title:"Submitting...",text:"Please wait while we submit your Virtual Tour Guide.",allowOutsideClick:!1,didOpen:()=>{ve.showLoading()}});try{const w=await Promise.all(n.body.map(async(O,I)=>O.image?await i(O.image,`virtualTourGuides/${Date.now()}_${O.image.name}`):"")),E=new OT;E.id="",E.title=n.title,E.body=n.body.map((O,I)=>({subtitle:O.subtitle||"",body:O.body||"",image:w[I]||"",image_source:O.image_source||""})),E.references=n.references||[];const j=await Or(Jt(Ve,"virtualTourGuides"),E.toJSON()),C=gt(Ve,"virtualTourGuides",j.id);await rn(C,{id:j.id}),ve.fire({title:"Virtual Tour Guide Submitted",text:"Your Virtual Tour Guide has been submitted successfully!",icon:"success"}),c()}catch(w){console.error("Error submitting Virtual Tour Guide:",w),ve.fire({title:"Error",text:"There was an issue submitting your Virtual Tour Guide. Please try again.",icon:"error"})}},c=()=>{r({id:"",title:"",body:[{subtitle:"",body:"",image:null,image_source:""}],references:[]}),e(y=>y+1)},u=(y,w,E)=>{r(j=>{const C=[...j.body];return C[y]={...C[y],[w]:E},{...j,body:C}})},h=(y,w)=>{const E=y[0];E&&r(j=>{const C=[...j.body];return C[w]={...C[w],image:E,imageUrl:URL.createObjectURL(E)},{...j,body:C}})},f=()=>{r(y=>({...y,body:[...y.body,{subtitle:"",body:"",image:null,image_source:""}]}))},g=y=>{r(w=>{const E=w.body.filter((j,C)=>C!==y);return{...w,body:E}})},p=y=>{r(w=>{const E=[...w.body];return E[y]?(E[y]={...E[y],image:null},{...w,body:E}):w})};return a.jsxs(v,{className:"custom-form body-container",onSubmit:o,onKeyDown:y=>y.key==="Enter"&&y.preventDefault(),children:[a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"title",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Title"}),a.jsx(v.Control,{type:"text",placeholder:"Enter business name",name:"title",value:n.title,onChange:s,required:!0})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsxs(z,{md:12,children:[a.jsx("p",{className:"label mb-2",children:"Body Sections"}),n.body.map((y,w)=>a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(B,{className:"empty-container"}),a.jsxs(v.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(v.Label,{className:"label",children:"Subtitle (Optional)"}),a.jsx(v.Control,{type:"text",className:"fw-bold",placeholder:"Subtitle",value:y.subtitle,onChange:E=>u(w,"subtitle",E.target.value)})]}),a.jsxs(z,{className:"col me-lg-2 me-md-1",children:[a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Image (Optional)"}),a.jsx(JOe,{index:w,section:y,onBodyImageDrop:h,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"}),y.image&&a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{className:"mt-2 mb-1",variant:"outline-danger",onClick:()=>p(w),children:[a.jsx(we,{icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]})})]}),a.jsxs(v.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(v.Label,{className:"label",children:"Image Source (Optional)"}),a.jsx(v.Control,{placeholder:"e.g. @boracayphotos or /islanders or #trivago or www.trivago.com",type:"text",value:y.image_source,onChange:E=>u(w,"image_source",E.target.value)})]})]}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(v.Group,{className:"mb-5",children:[a.jsx(v.Label,{className:"label",children:"Body"}),a.jsx(rr,{index:w,section:y,handleBodyChange:u})]})}),n.body.length>1&&a.jsx(B,{className:"mb-4 d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-danger",type:"button",onClick:()=>g(w),className:"mt-3 w-full",children:[a.jsx(we,{icon:Pt,size:"xs",fixedWidth:!0})," Delete Section"]})})]},w)),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-success",type:"button",onClick:f,className:"mb-3",children:[a.jsx(we,{icon:nr,size:"xs",fixedWidth:!0})," Add Section"]})})]})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:y=>s(y,"references"),label:"References and Links (Type & Enter)",editingItems:n.references,resetKey:t})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:c,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:o,children:"Submit Virtual Tour Guide"})]})}),a.jsx(B,{className:"empty-container"})]})}const ZOe=({index:t,section:e,onBodyImageDrop:n,dropzoneName:r="dropzone-container-small",previewName:s="dropzone-uploaded-image-small"})=>{const{getRootProps:i,getInputProps:o}=Vt({onDrop:y=>n(y,t),accept:"image/png, image/jpeg, image/jpg, video/mp4, video/webm, video/ogg"}),c=e.image instanceof File,u=typeof e.image=="string"&&/\.(mp4|webm|ogg)(\?.*)?$/i.test(e.image),h=typeof e.image=="string"&&!u,f=c?URL.createObjectURL(e.image):null,g=h?e.image:null,p=u?e.image:null;return a.jsxs(B,{...i(),className:`${r} text-center w-100 ${f||g||p?"border-success":""}`,children:[a.jsx("input",{...o(),accept:"image/*,video/*"}),f?e.image.type.startsWith("video/")?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:f,type:e.image.type}),"Your browser does not support the video tag."]}):a.jsx("img",{src:f,alt:"Uploaded File Preview",className:s}):p?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:p,type:"video/mp4"}),"Your browser does not support the video tag."]}):g?a.jsx("img",{src:g,alt:"Image URL Preview",className:s}):a.jsxs("p",{className:"text-muted",children:["Drag & Drop Image/Video Here or"," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})};function eIe({editingItem:t,toAddForm:e}){const[n,r]=S.useState(0),[s,i]=S.useState(new OT),o=(E,j)=>{if(Array.isArray(E))i(C=>({...C,[j]:E}));else if(typeof E=="string")i(C=>({...C,[j]:E}));else{const{name:C,value:O}=E.target;i(I=>({...I,[C]:O}))}};S.useEffect(()=>{t&&i(E=>({...E,id:t.id||"",title:t.title||"",body:t.body.map((j,C)=>({subtitle:j.subtitle||"",body:j.body||"",image:j.image||"",image_source:j.image_source||""})),references:t.references||[]}))},[t]);const c=async(E,j)=>{const C=Wt(en,j);return await Qt(C,E),await Zt(C)},u=async E=>{E.preventDefault(),ve.fire({title:"Submitting...",text:"Please wait while we submit your Virtual Tour Guide.",allowOutsideClick:!1,didOpen:()=>{ve.showLoading()}});try{const j=await Promise.all(s.body.map(async(I,D)=>I.image instanceof File?(t&&t.body&&t.body[D]&&t.body[D].image&&await $t(t.body[D].image),await c(I.image,`virtualTourGuides/${Date.now()}_${I.image.name}`)):I.image)),C={id:t?t.id:"",title:s.title,body:s.body.map((I,D)=>({subtitle:I.subtitle,body:I.body,image:j[D]||"",image_source:I.image_source})),references:s.references||[]},O=gt(Ve,"virtualTourGuides",s.id);try{await rn(O,C),ve.fire({title:"Virtual Tour Guide Updated",text:"Your Virtual Tour Guide has been updated successfully!",icon:"success"}),h(),e()}catch(I){console.error("Error updating hotlines:",I),ve.fire({title:"Update Failed",text:"There was an error updating the Virtual Tour Guide.",icon:"error"})}}catch(j){console.error("Error submitting Virtual Tour Guide:",j),ve.fire({title:"Error",text:"There was an issue submitting your Virtual Tour Guide. Please try again.",icon:"error"})}},h=()=>{i({id:"",title:"",body:[{subtitle:"",body:"",image:null,image_source:""}],references:[]}),r(E=>E+1)},f=(E,j,C)=>{i(O=>{const I=[...O.body];return I[E]={...I[E],[j]:C},{...O,body:I}})},g=(E,j)=>{const C=E[0];C&&i(O=>{const I=[...O.body];return I[j]={...I[j],image:C,imageUrl:URL.createObjectURL(C)},{...O,body:I}})},p=()=>{i(E=>({...E,body:[...E.body,{subtitle:"",body:"",image:null,image_source:""}]}))},y=E=>{i(j=>{const C=j.body.filter((O,I)=>I!==E);return{...j,body:C}})},w=E=>{i(j=>{const C=[...j.body];return C[E]?(C[E]={...C[E],image:null},{...j,body:C}):j})};return a.jsxs(v,{className:"custom-form body-container",onSubmit:u,onKeyDown:E=>E.key==="Enter"&&E.preventDefault(),children:[a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"title",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Title"}),a.jsx(v.Control,{type:"text",placeholder:"Enter business name",name:"title",value:s.title,onChange:o,required:!0})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{children:a.jsxs(z,{md:12,children:[a.jsx("p",{className:"label mb-2",children:"Body Sections"}),s.body.map((E,j)=>a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(B,{className:"empty-container"}),a.jsxs(v.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(v.Label,{className:"label",children:"Subtitle (Optional)"}),a.jsx(v.Control,{type:"text",className:"fw-bold",placeholder:"Subtitle",value:E.subtitle,onChange:C=>f(j,"subtitle",C.target.value)})]}),a.jsxs(z,{className:"col me-lg-2 me-md-1",children:[a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Image (Optional)"}),a.jsx(ZOe,{index:j,section:E,onBodyImageDrop:g,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"}),E.image&&a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{className:"mt-2 mb-1",variant:"outline-danger",onClick:()=>w(j),children:[a.jsx(we,{icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]})})]}),a.jsxs(v.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(v.Label,{className:"label",children:"Image Source (Optional)"}),a.jsx(v.Control,{placeholder:"e.g. @boracayphotos or /islanders or #trivago or www.trivago.com",type:"text",value:E.image_source,onChange:C=>f(j,"image_source",C.target.value)})]})]}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(v.Group,{className:"mb-5",children:[a.jsx(v.Label,{className:"label",children:"Body"}),a.jsx(rr,{index:j,section:E,handleBodyChange:f})]})}),s.body.length>1&&a.jsx(B,{className:"mb-4 d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-danger",type:"button",onClick:()=>y(j),className:"mt-3 w-full",children:[a.jsx(we,{icon:Pt,size:"xs",fixedWidth:!0})," Delete Section"]})})]},j)),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-success",type:"button",onClick:p,className:"mb-3",children:[a.jsx(we,{icon:nr,size:"xs",fixedWidth:!0})," Add Section"]})})]})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:E=>o(E,"references"),label:"References and Links (Type & Enter)",editingItems:s.references,resetKey:n})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:h,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:u,children:"Submit Update"})]})}),a.jsx(B,{className:"empty-container"})]})}const tIe=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(""),[s,i]=S.useState("asc"),[o,c]=S.useState(0),[u,h]=S.useState(null),f=10;S.useEffect(()=>{y()},[]);const[g,p]=S.useState(!0),y=async()=>{try{const R=(await Rr(Jt(Ve,"virtualTourGuides"))).docs.map(b=>({id:b.id,...b.data()}));e(R)}catch(_){console.error("Error fetching data:",_)}finally{p(!1)}},w=_=>{h(_)},E=async _=>{window.confirm("Are you sure you want to delete this entry?")&&(await kr(gt(Ve,"virtualTourGuides",_)),y())},j=t.filter(_=>_.title.toLowerCase().includes(n.toLowerCase())||Array.isArray(_.references)&&_.references.join(", ").toLowerCase().includes(n.toLowerCase())),C=()=>new Date().toISOString().split("T")[0],O=()=>{const _=t.map(({title:A,...L})=>({...L,body:Array.isArray(L.body)?L.body.join(", "):"",references:L.references?JSON.stringify(L.references):""})),R=vt.json_to_sheet(_),b=vt.book_new();vt.book_append_sheet(b,R,"Data"),Fr(b,`tourism_virtualTourGuides_infoguide_${C()}.xlsx`)},I=Math.ceil(j.length/f),D=j.slice(o*f,(o+1)*f),T=({selected:_})=>{c(_)},F=()=>{h(null)};return a.jsxs(B,{children:[a.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Virtual Tour Guides"}),a.jsx("p",{children:"List of Virtual Tour Guide and Marketing and Promotions."}),a.jsxs(V,{className:"mb-4 mt-4",children:[a.jsx(z,{md:4,className:"mb-2 me-2 col",children:a.jsx(v.Control,{type:"text",placeholder:`Search up to over ${t.length} Virtual Tour Guides`,value:n,onChange:_=>r(_.target.value)})}),a.jsxs(B,{className:"d-flex justify-content-end align-items-center mt-2",children:[a.jsxs(se,{variant:"outline-secondary",className:"me-2",onClick:y,children:[a.jsx(we,{icon:Pr,size:"xs",fixedWidth:!0})," Refresh List"]}),a.jsxs(se,{variant:"outline-success",onClick:F,children:[a.jsx(we,{icon:Dr,size:"xs",fixedWidth:!0})," Add New"]})]})]}),g?a.jsx("div",{className:"d-flex justify-content-center align-items-center my-5",children:a.jsx(Sr,{animation:"border",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):D.length===0?a.jsx("div",{className:"text-center my-5",children:a.jsx("h5",{children:"No Data Available"})}):a.jsxs(Lr,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Title"}),a.jsx("th",{children:"References"})]})}),a.jsx("tbody",{children:D.map(_=>a.jsxs("tr",{children:[a.jsx("td",{children:_.title}),a.jsx("td",{children:Array.isArray(_.references)?_.references.join(", "):_.references}),a.jsx("td",{children:a.jsxs(B,{className:"d-flex justify-content-center align-items-center",children:[a.jsx(Xt,{placement:"top",overlay:a.jsx(Gt,{children:"Edit"}),children:a.jsx(se,{variant:"outline-secondary",size:"sm",className:"me-2",onClick:()=>w(_),children:a.jsx(we,{icon:Ir,size:"xs",fixedWidth:!0})})}),a.jsx(Xt,{placement:"top",overlay:a.jsx(Gt,{children:"Delete"}),children:a.jsx(se,{variant:"outline-danger",size:"sm",onClick:()=>E(_.id),children:a.jsx(we,{icon:Pt,size:"xs",fixedWidth:!0})})})]})})]},_.id))})]}),a.jsxs(B,{className:"d-flex justify-content-between align-items-center mb-4 mt-2",children:[a.jsx(se,{onClick:O,variant:"outline-success",children:"Download Excel"}),a.jsx(Mr,{previousLabel:"",nextLabel:"",pageCount:I,onPageChange:T,containerClassName:"pagination mb-0",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})]}),u?a.jsx(eIe,{editingItem:u,toAddForm:()=>h(null)}):a.jsx(QOe,{})]})};class IT{constructor(){this.id="",this.title="",this.year="",this.rank="",this.category=[],this.description="",this.headerImage=null,this.references=[]}toJSON(){return{...this}}}const wK=["LGU Award","International Award","International Recognition","National Award","National Recognition","Regional Award","Regional Recognition","Certifications","Seals"];function nIe({}){const[t,e]=S.useState(0),[n,r]=S.useState(new IT),s=(u,h)=>{if(Array.isArray(u))r(f=>({...f,[h]:u}));else if(typeof u=="string")r(f=>({...f,[h]:u}));else{const{name:f,value:g}=u.target;r(p=>({...p,[f]:g}))}},i=async(u,h)=>{const f=Wt(en,h);return await Qt(f,u),await Zt(f)},o=async u=>{u.preventDefault(),ve.fire({title:"Submitting...",text:"Please wait while we submit your awards and recognitions.",allowOutsideClick:!1,didOpen:()=>{ve.showLoading()}});try{let h=n.headerImage?await i(n.headerImage,`awardsAndRecognitions/${Date.now()}_${n.headerImage.name}`):null;console.log(h);const f=new IT;f.id="",f.title=n.title,f.rank=n.rank,f.year=n.year,f.category=n.category||[],f.description=n.description,f.headerImage=h,f.references=n.references||[];const g=await Or(Jt(Ve,"awardsAndRecognitions"),f.toJSON()),p=gt(Ve,"awardsAndRecognitions",g.id);await rn(p,{id:g.id}),ve.fire({title:"Awards And Recognitions Links Submitted",text:"Your Awards And Recognitions Links has been submitted successfully!",icon:"success"}),c()}catch(h){console.error("Error submitting Awards And Recognitions Links:",h),ve.fire({title:"Error",text:"There was an issue submitting your Awards And Recognitions Links. Please try again.",icon:"error"})}},c=()=>{r({id:"",title:"",rank:"",year:"",category:"",description:"",headerImage:null,references:[]}),e(u=>u+1)};return a.jsxs(v,{className:"custom-form body-container",onSubmit:o,onKeyDown:u=>u.key==="Enter"&&u.preventDefault(),children:[a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"headerImage",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Cover Photo"}),a.jsx(mn,{storyForm:n,setStoryForm:r,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(qn,{onChange:u=>s(u,"category"),options:wK,resetKey:t,editingItems:n.category,label:"Categories"})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"title",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Title"}),a.jsx(v.Control,{type:"text",placeholder:"Enter business name",name:"title",value:n.title,onChange:s,required:!0})]})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"rank",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Ranking ('0' if N/A)"}),a.jsx(v.Control,{type:"text",placeholder:"e.g.: 2000",name:"rank",required:!0,value:n.rank,onChange:u=>{const h=u.target.value;/^\d*\.?\d*$/.test(h)&&s(u)}})]})}),a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"year",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Year Received"}),a.jsx(v.Control,{type:"text",placeholder:"e.g.: 2000",name:"year",required:!0,value:n.year,onChange:u=>{const h=u.target.value;/^\d*\.?\d*$/.test(h)&&s(u)}})]})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"description",className:"mb-5 mt-2",children:[a.jsx(v.Label,{className:"label",children:"Brief Description"}),a.jsx(On,{theme:"snow",value:n.description||"",onChange:u=>s(u,"description"),required:!0,style:{height:"300px"}})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:u=>s(u,"references"),label:"References and Links (Type & Enter)",editingItems:n.references,resetKey:t})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:c,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:o,children:"Submit Awards And Recognition"})]})}),a.jsx(B,{className:"empty-container"})]})}class PT{constructor(){this.id="",this.title="",this.dateStart="",this.dateEnd="",this.category=[],this.classification="",this.description="",this.headerImage=null,this.references=[],this.images=[]}toJSON(){return{...this}}}const DT=["Travel Expos","Travel Exhibits","Travel Conventions","Global Tourism Meetings","Travel Festivals","Business to Business Meetings","Travel Roadshows","Travel Fairs","Travel Exchange","Tourism Summit","Tourism Conferences"],_K=["International","National","Regional","Local"];function rIe({editingItem:t,toAddForm:e}){const[n,r]=S.useState(0),[s,i]=S.useState(new IT),o=(O,I)=>{if(Array.isArray(O))i(D=>({...D,[I]:O}));else if(typeof O=="string")i(D=>({...D,[I]:O}));else{const{name:D,value:T}=O.target;i(F=>({...F,[D]:T}))}};S.useEffect(()=>{t&&i(O=>({...O,id:t.id||"",title:t.title||"",rank:t.rank||"",year:t.year||"",category:t.category||[],description:t.description||"",headerImage:t.headerImage||"",references:t.references||[]}))},[t]);const[c,u]=S.useState(null),[h,f]=S.useState(""),g=S.useCallback(O=>{O.length>0&&u(O[0])},[]),{getRootProps:p,getInputProps:y}=Vt({onDrop:g,accept:"image/*",disabled:!!h}),w=()=>{i(O=>({...O,headerImage:null}))},E=async(O,I)=>{const D=Wt(en,I);return await Qt(D,O),await Zt(D)},j=async O=>{O.preventDefault(),ve.fire({title:"Submitting...",text:"Please wait while we submit your Awards And Recognitions.",allowOutsideClick:!1,didOpen:()=>{ve.showLoading()}});try{let I=s.headerImage;s.headerImage instanceof File?(t&&t.headerImage&&await $t(t.headerImage),I=await E(s.headerImage,`awardsAndRecognitions/${Date.now()}_${s.headerImage.name}`)):I=s.headerImage;const D={id:t?t.id:"",title:s.title,rank:s.rank,year:s.year,category:s.category||[],description:s.description,headerImage:I,references:s.references||[]},T=gt(Ve,"awardsAndRecognitions",s.id);try{await rn(T,D),ve.fire({title:"Awards And Recognitions Updated",text:"Your Awards And Recognitions has been updated successfully!",icon:"success"}),w(),C(),e()}catch(F){console.error("Error updating hotlines:",F),ve.fire({title:"Update Failed",text:"There was an error updating the Awards And Recognitions.",icon:"error"})}}catch(I){console.error("Error submitting Awards And Recognitions:",I),ve.fire({title:"Error",text:"There was an issue submitting your Awards And Recognitions. Please try again.",icon:"error"})}},C=()=>{i({id:"",title:"",rank:"",year:"",category:"",description:"",headerImage:null,references:[]}),r(O=>O+1)};return a.jsxs(v,{className:"custom-form body-container",onSubmit:j,onKeyDown:O=>O.key==="Enter"&&O.preventDefault(),children:[a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{className:"my-2",children:[a.jsx(v.Label,{className:"label",children:"Upload Header Image (800x400)"}),a.jsx(mn,{storyForm:s,setStoryForm:i,editingItem:s,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"}),a.jsxs(B,{className:"d-flex justify-content-between mt-2",children:[a.jsx("p",{className:"subtitle",children:"Supported File: PNG, JPEG, and JPG"}),a.jsx("p",{className:"subtitle",children:"Maximum size: 25MB"})]}),a.jsx(B,{className:"d-flex justify-content-end",children:c&&(h?null:a.jsxs(se,{className:"my-2",variant:"outline-danger",onClick:w,children:[a.jsx(we,{className:"button-icon",icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]}))})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(qn,{onChange:O=>o(O,"category"),options:wK,resetKey:n,editingItems:s.category,label:"Categories"})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Title"}),a.jsx(v.Control,{type:"text",placeholder:"Enter business name",name:"title",value:s.title,onChange:o,required:!0})]})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"rank",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Ranking ('0' if N/A)"}),a.jsx(v.Control,{type:"text",placeholder:"e.g.: 2000",name:"rank",required:!0,value:s.rank,onChange:O=>{const I=O.target.value;/^\d*\.?\d*$/.test(I)&&o(O)}})]})}),a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"year",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Year Received"}),a.jsx(v.Control,{type:"text",placeholder:"e.g.: 2000",name:"year",required:!0,value:s.year,onChange:O=>{const I=O.target.value;/^\d*\.?\d*$/.test(I)&&o(O)}})]})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"description",className:"mb-5 mt-2",children:[a.jsx(v.Label,{className:"label",children:"Brief Description"}),a.jsx(On,{theme:"snow",value:s.description||"",onChange:O=>o(O,"description"),required:!0,style:{height:"300px"}})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:O=>o(O,"references"),label:"References and Links (Type & Enter)",editingItems:s.references,resetKey:n})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:C,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:j,children:"Submit Update"})]})}),a.jsx(B,{className:"empty-container"})]})}const sIe=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(""),[s,i]=S.useState("asc"),[o,c]=S.useState(0),[u,h]=S.useState(null),f=10;S.useEffect(()=>{y()},[]);const[g,p]=S.useState(!0),y=async()=>{try{const R=(await Rr(Jt(Ve,"awardsAndRecognitions"))).docs.map(b=>({id:b.id,...b.data()}));e(R)}catch(_){console.error("Error fetching data:",_)}finally{p(!1)}},w=_=>{h(_)},E=async _=>{window.confirm("Are you sure you want to delete this entry?")&&(await kr(gt(Ve,"awardsAndRecognitions",_)),y())},j=t.filter(_=>_.title.toLowerCase().includes(n.toLowerCase())||_.references.toLowerCase().includes(n.toLowerCase())),C=()=>new Date().toISOString().split("T")[0],O=()=>{const _=t.map(({title:A,...L})=>({...L,references:L.references?JSON.stringify(L.references):""})),R=vt.json_to_sheet(_),b=vt.book_new();vt.book_append_sheet(b,R,"Data"),Fr(b,`tourism_awardsAndRecognitions_infoguide_${C()}.xlsx`)},I=Math.ceil(j.length/f),D=j.slice(o*f,(o+1)*f),T=({selected:_})=>{c(_)},F=()=>{h(null)};return a.jsxs(B,{children:[a.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Tourism Awards and Recognitions"}),a.jsx("p",{children:"List of Awards And Recognitions."}),a.jsxs(V,{className:"mb-4 mt-4",children:[a.jsx(z,{md:4,className:"mb-2 me-2 col",children:a.jsx(v.Control,{type:"text",placeholder:`Search up to over ${t.length} Awards And Recognitionss`,value:n,onChange:_=>r(_.target.value)})}),a.jsxs(B,{className:"d-flex justify-content-end align-items-center mt-2",children:[a.jsxs(se,{variant:"outline-secondary",className:"me-2",onClick:y,children:[a.jsx(we,{icon:Pr,size:"xs",fixedWidth:!0})," Refresh List"]}),a.jsxs(se,{variant:"outline-success",onClick:F,children:[a.jsx(we,{icon:Dr,size:"xs",fixedWidth:!0})," Add New"]})]})]}),g?a.jsx("div",{className:"d-flex justify-content-center align-items-center my-5",children:a.jsx(Sr,{animation:"border",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):D.length===0?a.jsx("div",{className:"text-center my-5",children:a.jsx("h5",{children:"No Data Available"})}):a.jsxs(Lr,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Title"}),a.jsx("th",{children:"References"})]})}),a.jsx("tbody",{children:D.map(_=>a.jsxs("tr",{children:[a.jsx("td",{children:_.title}),a.jsx("td",{children:Array.isArray(_.references)?_.references.join(", "):_.references}),a.jsx("td",{children:a.jsxs(B,{className:"d-flex justify-content-center align-items-center",children:[a.jsx(Xt,{placement:"top",overlay:a.jsx(Gt,{children:"Edit"}),children:a.jsx(se,{variant:"outline-secondary",size:"sm",className:"me-2",onClick:()=>w(_),children:a.jsx(we,{icon:Ir,size:"xs",fixedWidth:!0})})}),a.jsx(Xt,{placement:"top",overlay:a.jsx(Gt,{children:"Delete"}),children:a.jsx(se,{variant:"outline-danger",size:"sm",onClick:()=>E(_.id),children:a.jsx(we,{icon:Pt,size:"xs",fixedWidth:!0})})})]})})]},_.id))})]}),a.jsxs(B,{className:"d-flex justify-content-between align-items-center mb-4 mt-2",children:[a.jsx(se,{onClick:O,variant:"outline-success",children:"Download Excel"}),a.jsx(Mr,{previousLabel:"",nextLabel:"",pageCount:I,onPageChange:T,containerClassName:"pagination mb-0",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})]}),u?a.jsx(rIe,{editingItem:u,toAddForm:()=>h(null)}):a.jsx(nIe,{})]})};function aIe({}){const[t,e]=S.useState(0),[n,r]=S.useState(new PT),[s,i]=S.useState(""),o=(f,g)=>{if(Array.isArray(f))r(p=>({...p,[g]:f}));else if(typeof f=="string")r(p=>({...p,[g]:f}));else{const{name:p,value:y}=f.target;r(w=>({...w,[p]:y}))}},c=async(f,g)=>{const p=Wt(en,g);return await Qt(p,f),await Zt(p)},u=async f=>{f.preventDefault(),ve.fire({title:"Submitting...",text:"Please wait while we submit your travel expos.",allowOutsideClick:!1,didOpen:()=>{ve.showLoading()}});try{let g=n.headerImage?await c(n.headerImage,`travelExpos/${Date.now()}_${n.headerImage.name}`):null;const p=await Promise.all(n.images.map(async j=>j?await c(j,`travelExpos/${Date.now()}_${j.name}`):"")),y=new PT;y.id="",y.title=n.title,y.dateStart=n.dateStart,y.dateEnd=n.dateEnd,y.category=n.category||[],y.classification=n.classification||s,y.description=n.description,y.headerImage=g,y.images=p,y.references=n.references||[];const w=await Or(Jt(Ve,"travelExpos"),y.toJSON()),E=gt(Ve,"travelExpos",w.id);await rn(E,{id:w.id}),ve.fire({title:"Travel Expos Links Submitted",text:"Your Travel Expos Links has been submitted successfully!",icon:"success"}),h()}catch(g){console.error("Error submitting travelExpos And Recognitions Links:",g),ve.fire({title:"Error",text:"There was an issue submitting your Travel Expos Links. Please try again.",icon:"error"})}},h=()=>{r({id:"",title:"",category:[],classification:"",dateStart:"",dateEnd:"",description:"",headerImage:null,images:[],references:[]}),i(""),e(f=>f+1)};return a.jsxs(v,{className:"custom-form body-container",onSubmit:u,onKeyDown:f=>f.key==="Enter"&&f.preventDefault(),children:[a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"headerImage",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Cover Photo"}),a.jsx(mn,{storyForm:n,setStoryForm:r,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"})]})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsx(qn,{onChange:f=>o(f,"category"),options:DT,resetKey:t,editingItems:n.category,label:"Categories"})}),a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"classification",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Class Level"}),a.jsxs(v.Select,{name:"classification",value:DT.classification,onChange:o,children:[a.jsx("option",{value:"classification",disabled:!0,children:"Select Class Level"}),_K.map((f,g)=>a.jsx("option",{value:f,children:f},g))]})]})})]}),a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Start Date"}),a.jsx(v.Control,{type:"date",name:"dateStart",value:n.dateStart,onChange:o,required:!0})]})}),a.jsx(z,{md:6,children:a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"End Date"}),a.jsx(v.Control,{type:"date",name:"dateEnd",value:n.dateEnd,onChange:o,min:n.dateStart,disabled:!n.dateStart,required:!0})]})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"title",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Title"}),a.jsx(v.Control,{type:"text",placeholder:"Enter business name",name:"title",value:n.title,onChange:o,required:!0})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"description",className:"mb-5 mt-2",children:[a.jsx(v.Label,{className:"label",children:"Brief Description"}),a.jsx(On,{theme:"snow",value:n.description||"",onChange:f=>o(f,"description"),required:!0,style:{height:"300px"}})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",children:[a.jsx(v.Label,{className:"label me-2",children:"Promotional & Marketing Photos"}),a.jsx(Rs,{dataForm:n,setDataForm:r,caption:"Drag & drop images or click to select (Max: 10)",dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:f=>o(f,"references"),label:"References and Links (Type & Enter)",editingItems:n.references,resetKey:t})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:h,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:u,children:"Submit Travel Expo"})]})}),a.jsx(B,{className:"empty-container"})]})}function iIe({editingItem:t,toAddForm:e}){const[n,r]=S.useState(0),[s,i]=S.useState(new PT),[o,c]=S.useState(""),u=(D,T)=>{if(Array.isArray(D))i(F=>({...F,[T]:D}));else if(typeof D=="string")i(F=>({...F,[T]:D}));else{const{name:F,value:_}=D.target;i(R=>({...R,[F]:_}))}};S.useEffect(()=>{t&&(i(D=>({...D,id:t.id||"",title:t.title||"",category:t.category||[],classification:t.classification||"",dateStart:t.dateStart||"",dateEnd:t.dateEnd||"",description:t.description||"",headerImage:t.headerImage||"",images:t.images||[],references:t.references||[]})),t.classification?c(t.classification||""):c(o))},[t]);const[h,f]=S.useState(null),[g,p]=S.useState(""),y=S.useCallback(D=>{D.length>0&&f(D[0])},[]),{getRootProps:w,getInputProps:E}=Vt({onDrop:y,accept:"image/*",disabled:!!g}),j=()=>{i(D=>({...D,headerImage:null}))},C=async(D,T)=>{const F=Wt(en,T);return await Qt(F,D),await Zt(F)},O=async D=>{D.preventDefault(),ve.fire({title:"Submitting...",text:"Please wait while we submit your Travel Expos.",allowOutsideClick:!1,didOpen:()=>{ve.showLoading()}});try{let T=s.headerImage;s.headerImage instanceof File?(t&&t.headerImage&&await $t(t.headerImage),T=await C(s.headerImage,`travelExpos/${Date.now()}_${s.headerImage.name}`)):T=s.headerImage;const F=await Promise.all(s.images.map(async(b,A)=>b instanceof File?(t&&t.images&&t.images[A]&&await $t(t.images[A]),await C(b,`travelExpos/${Date.now()}_${b.name}`)):b)),_={id:t?t.id:"",title:s.title,category:s.category||[],classification:s.classification,dateStart:s.dateStart,dateEnd:s.dateEnd,description:s.description,headerImage:T,images:F,references:s.references||[]},R=gt(Ve,"travelExpos",s.id);try{await rn(R,_),ve.fire({title:"Travel Expos Updated",text:"Your Travel Expos has been updated successfully!",icon:"success"}),j(),I(),e()}catch(b){console.error("Error updating hotlines:",b),ve.fire({title:"Update Failed",text:"There was an error updating the Travel Expos.",icon:"error"})}}catch(T){console.error("Error submitting Travel Expos:",T),ve.fire({title:"Error",text:"There was an issue submitting your Travel Expos. Please try again.",icon:"error"})}},I=()=>{i({id:"",title:"",category:[],classification:"",dateStart:"",dateEnd:"",description:"",headerImage:null,images:[],references:[]}),r(D=>D+1),c("")};return a.jsxs(v,{className:"custom-form body-container",onSubmit:O,onKeyDown:D=>D.key==="Enter"&&D.preventDefault(),children:[a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{className:"my-2",children:[a.jsx(v.Label,{className:"label",children:"Upload Header Image (800x400)"}),a.jsx(mn,{storyForm:s,setStoryForm:i,editingItem:s,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"}),a.jsxs(B,{className:"d-flex justify-content-between mt-2",children:[a.jsx("p",{className:"subtitle",children:"Supported File: PNG, JPEG, and JPG"}),a.jsx("p",{className:"subtitle",children:"Maximum size: 25MB"})]}),a.jsx(B,{className:"d-flex justify-content-end",children:h&&(g?null:a.jsxs(se,{className:"my-2",variant:"outline-danger",onClick:j,children:[a.jsx(we,{className:"button-icon",icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]}))})]})})}),a.jsx(V,{className:"mt-2"}),a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsx(qn,{onChange:D=>u(D,"category"),options:DT,resetKey:n,editingItems:s.category,label:"Categories"})}),a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"classification",className:"mb-3",children:[a.jsx(v.Label,{className:"classification",children:"Class Level"}),a.jsxs(v.Select,{name:"classification",value:s.classification,onChange:u,children:[a.jsx("option",{value:"classification",disabled:!0,children:"Select Category"}),_K.map((D,T)=>a.jsx("option",{value:D,children:D},T))]})]})})]}),a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Start Date"}),a.jsx(v.Control,{type:"date",name:"dateStart",value:s.dateStart,onChange:u,required:!0})]})}),a.jsx(z,{md:6,children:a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"End Date"}),a.jsx(v.Control,{type:"date",name:"dateEnd",value:s.dateEnd,onChange:u,min:s.dateStart,disabled:!s.dateStart,required:!0})]})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Title"}),a.jsx(v.Control,{type:"text",placeholder:"Enter business name",name:"title",value:s.title,onChange:u,required:!0})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"description",className:"mb-5 mt-2",children:[a.jsx(v.Label,{className:"label",children:"Brief Description"}),a.jsx(On,{theme:"snow",value:s.description||"",onChange:D=>u(D,"description"),required:!0,style:{height:"300px"}})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",children:[a.jsx(v.Label,{className:"label me-2",children:"Promotional & Marketing Photos"}),a.jsx(Rs,{dataForm:s,setDataForm:i,caption:"Drag & drop images or click to select (Max: 10)",dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:D=>u(D,"references"),label:"References and Links (Type & Enter)",editingItems:s.references,resetKey:n})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:I,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:O,children:"Submit Update"})]})}),a.jsx(B,{className:"empty-container"})]})}const oIe=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(""),[s,i]=S.useState("asc"),[o,c]=S.useState(0),[u,h]=S.useState(null),f=10;S.useEffect(()=>{y()},[]);const[g,p]=S.useState(!0),y=async()=>{try{const R=(await Rr(Jt(Ve,"travelExpos"))).docs.map(b=>({id:b.id,...b.data()}));e(R)}catch(_){console.error("Error fetching data:",_)}finally{p(!1)}},w=_=>{h(_)},E=async _=>{window.confirm("Are you sure you want to delete this entry?")&&(await kr(gt(Ve,"travelExpos",_)),y())},j=t.filter(_=>_.title.toLowerCase().includes(n.toLowerCase())||String(_.references||"").toLowerCase().includes(n.toLowerCase())),C=()=>new Date().toISOString().split("T")[0],O=()=>{const _=t.map(({title:A,...L})=>({...L,references:L.references?JSON.stringify(L.references):""})),R=vt.json_to_sheet(_),b=vt.book_new();vt.book_append_sheet(b,R,"Data"),Fr(b,`tourism_travelExpos_infoguide_${C()}.xlsx`)},I=Math.ceil(j.length/f),D=j.slice(o*f,(o+1)*f),T=({selected:_})=>{c(_)},F=()=>{h(null)};return a.jsxs(B,{children:[a.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Travel Expos, Exhibits, Summits, Fairs, Conferences, Conventions, B2B and Roadshows"}),a.jsx("p",{children:"List of Travel Expos."}),a.jsxs(V,{className:"mb-4 mt-4",children:[a.jsx(z,{md:4,className:"mb-2 me-2 col",children:a.jsx(v.Control,{type:"text",placeholder:`Search up to over ${t.length} Travel Expos`,value:n,onChange:_=>r(_.target.value)})}),a.jsxs(B,{className:"d-flex justify-content-end align-items-center mt-2",children:[a.jsxs(se,{variant:"outline-secondary",className:"me-2",onClick:y,children:[a.jsx(we,{icon:Pr,size:"xs",fixedWidth:!0})," Refresh List"]}),a.jsxs(se,{variant:"outline-success",onClick:F,children:[a.jsx(we,{icon:Dr,size:"xs",fixedWidth:!0})," Add New"]})]})]}),g?a.jsx("div",{className:"d-flex justify-content-center align-items-center my-5",children:a.jsx(Sr,{animation:"border",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):D.length===0?a.jsx("div",{className:"text-center my-5",children:a.jsx("h5",{children:"No Data Available"})}):a.jsxs(Lr,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Title"}),a.jsx("th",{children:"Date"}),a.jsx("th",{children:"Category"}),a.jsx("th",{children:"Level"})]})}),a.jsx("tbody",{children:D.map(_=>a.jsxs("tr",{children:[a.jsx("td",{children:_.title}),a.jsxs("td",{children:[_.dateStart," ",_.dateEnd]}),a.jsx("td",{children:Array.isArray(_.category)?_.category.join(", "):_.category}),a.jsx("td",{children:_.classification}),a.jsx("td",{children:a.jsxs(B,{className:"d-flex justify-content-center align-items-center",children:[a.jsx(Xt,{placement:"top",overlay:a.jsx(Gt,{children:"Edit"}),children:a.jsx(se,{variant:"outline-secondary",size:"sm",className:"me-2",onClick:()=>w(_),children:a.jsx(we,{icon:Ir,size:"xs",fixedWidth:!0})})}),a.jsx(Xt,{placement:"top",overlay:a.jsx(Gt,{children:"Delete"}),children:a.jsx(se,{variant:"outline-danger",size:"sm",onClick:()=>E(_.id),children:a.jsx(we,{icon:Pt,size:"xs",fixedWidth:!0})})})]})})]},_.id))})]}),a.jsxs(B,{className:"d-flex justify-content-between align-items-center mb-4 mt-2",children:[a.jsx(se,{onClick:O,variant:"outline-success",children:"Download Excel"}),a.jsx(Mr,{previousLabel:"",nextLabel:"",pageCount:I,onPageChange:T,containerClassName:"pagination mb-0",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})]}),u?a.jsx(iIe,{editingItem:u,toAddForm:()=>h(null)}):a.jsx(aIe,{})]})};class MT{constructor(){this.id="",this.title="",this.category=[],this.body=[{subtitle:"",body:"",image:null,image_source:""}],this.headerImage=null,this.references=[],this.images=[]}toJSON(){return{...this}}}const EK=["Environmental","Digitalization","Community Development","Cultural Heritage","Eco-Tourism","Infrastructure Development","Hospitality & Services","Adventure & Recreation","Sustainable Tourism","Wildlife Conservation","Educational & Awareness Programs","Health & Wellness Tourism","Indigenous People Empowerment","Traditional Arts & Crafts","Cultural Exchange Programs","Indigenous Heritage Conservation","Ethno-Tourism Initiatives"],lIe=({index:t,section:e,onBodyImageDrop:n,dropzoneName:r="dropzone-container-small",previewName:s="dropzone-uploaded-image-small"})=>{const{getRootProps:i,getInputProps:o}=Vt({onDrop:u=>n(u,t),accept:"image/png, image/jpeg, image/jpg, video/mp4, video/webm, video/ogg"}),c=e.image?e.image instanceof File?URL.createObjectURL(e.image):e.image:null;return a.jsxs(B,{...i(),className:`${r} text-center w-100 ${c?"border-success":""}`,children:[a.jsx("input",{...o(),accept:"image/*,video/*"}),c?e.image instanceof File&&e.image.type.startsWith("video/")?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:c,type:e.image.type}),"Your browser does not support the video tag."]}):a.jsx("img",{src:c,alt:"Body Image Preview",className:s}):a.jsxs("p",{className:"text-muted",children:["Drag & Drop Image/Video Here or"," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})};function cIe({}){const[t,e]=S.useState(0),[n,r]=S.useState(new MT),s=(y,w)=>{if(Array.isArray(y))r(E=>({...E,[w]:y}));else if(typeof y=="string")r(E=>({...E,[w]:y}));else{const{name:E,value:j}=y.target;r(C=>({...C,[E]:j}))}},i=(y,w,E)=>{r(j=>{const C=[...j.body];return C[y]={...C[y],[w]:E},{...j,body:C}})},o=(y,w)=>{const E=y[0];E&&r(j=>{const C=[...j.body];return C[w]={...C[w],image:E,imageUrl:URL.createObjectURL(E)},{...j,body:C}})},c=()=>{r(y=>({...y,body:[...y.body,{subtitle:"",body:"",image:null,image_source:""}]}))},u=y=>{r(w=>{const E=w.body.filter((j,C)=>C!==y);return{...w,body:E}})},h=y=>{r(w=>{const E=[...w.body];return E[y]?(E[y]={...E[y],image:null},{...w,body:E}):w})},f=async(y,w)=>{const E=Wt(en,w);return await Qt(E,y),await Zt(E)},g=async y=>{y.preventDefault(),ve.fire({title:"Submitting...",text:"Please wait while we submit your tourism projects.",allowOutsideClick:!1,didOpen:()=>{ve.showLoading()}});try{let w=n.headerImage?await f(n.headerImage,`tourismProjects/${Date.now()}_${n.headerImage.name}`):null;const E=await Promise.all(n.images.map(async D=>D?await f(D,`tourismProjects/${Date.now()}_${D.name}`):"")),j=await Promise.all(n.body.map(async(D,T)=>D.image?await f(D.image,`tourismProjects/${Date.now()}_${D.image.name}`):"")),C=new MT;C.id="",C.title=n.title,C.category=n.category||[],C.body=n.body.map((D,T)=>({subtitle:D.subtitle,body:D.body,image:j[T]||"",image_source:D.image_source})),C.headerImage=w,C.images=E,C.references=n.references||[];const O=await Or(Jt(Ve,"tourismProjects"),C.toJSON()),I=gt(Ve,"tourismProjects",O.id);await rn(I,{id:O.id}),ve.fire({title:"Tourism Projects Submitted",text:"Your Tourism Projects has been submitted successfully!",icon:"success"}),p()}catch(w){console.error("Error submitting Tourism Projects:",w),ve.fire({title:"Error",text:"There was an issue submitting your Tourism Projects. Please try again.",icon:"error"})}},p=()=>{r({id:"",title:"",category:[],body:[{subtitle:"",body:"",image:null,image_source:""}],headerImage:null,images:[],references:[]}),e(y=>y+1)};return a.jsxs(v,{className:"custom-form body-container",onSubmit:g,onKeyDown:y=>y.key==="Enter"&&y.preventDefault(),children:[a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"headerImage",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Cover Photo"}),a.jsx(mn,{storyForm:n,setStoryForm:r,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:6,children:a.jsx(qn,{onChange:y=>s(y,"category"),options:EK,resetKey:t,editingItems:n.category,label:"Categories"})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"title",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Title"}),a.jsx(v.Control,{type:"text",placeholder:"Enter business name",name:"title",value:n.title,onChange:s,required:!0})]})})}),a.jsx(V,{children:a.jsxs(z,{md:12,children:[a.jsx("p",{className:"label mb-2",children:"Body Sections"}),n.body.map((y,w)=>a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(B,{className:"empty-container"}),a.jsxs(v.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(v.Label,{className:"label",children:"Subtitle (Optional)"}),a.jsx(v.Control,{type:"text",className:"fw-bold",value:y.subtitle,onChange:E=>i(w,"subtitle",E.target.value)})]}),a.jsxs(z,{className:"col me-lg-2 me-md-1",children:[a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Image (Optional)"}),a.jsx(lIe,{index:w,section:y,onBodyImageDrop:o,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"}),y.image&&a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{className:"mt-2 mb-1",variant:"outline-danger",onClick:()=>h(w),children:[a.jsx(we,{icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]})})]}),a.jsxs(v.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(v.Label,{className:"label",children:"Image Source (Optional)"}),a.jsx(v.Control,{placeholder:"e.g. @boracayphotos or /islanders or #trivago or www.trivago.com",type:"text",value:y.image_source,onChange:E=>i(w,"image_source",E.target.value)})]})]}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(v.Group,{className:"mb-5",children:[a.jsx(v.Label,{className:"label",children:"Body"}),a.jsx(rr,{index:w,section:y,handleBodyChange:i})]})}),n.body.length>1&&a.jsx(B,{className:"mb-4 d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-danger",type:"button",onClick:()=>u(w),className:"mt-3 w-full",children:[a.jsx(we,{icon:Pt,size:"xs",fixedWidth:!0})," Delete Section"]})})]},w)),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-success",type:"button",onClick:c,className:"mb-3",children:[a.jsx(we,{icon:nr,size:"xs",fixedWidth:!0})," Add Section"]})})]})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",children:[a.jsx(v.Label,{className:"label me-2",children:"Promotional & Marketing Photos"}),a.jsx(Rs,{dataForm:n,setDataForm:r,caption:"Drag & drop images or click to select (Max: 10)",dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:y=>s(y,"references"),label:"References and Links (Type & Enter)",editingItems:n.references,resetKey:t})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:p,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:g,children:"Submit Tourism Project"})]})}),a.jsx(B,{className:"empty-container"})]})}const uIe=({index:t,section:e,onBodyImageDrop:n,dropzoneName:r="dropzone-container-small",previewName:s="dropzone-uploaded-image-small"})=>{const{getRootProps:i,getInputProps:o}=Vt({onDrop:y=>n(y,t),accept:"image/png, image/jpeg, image/jpg, video/mp4, video/webm, video/ogg"}),c=e.image instanceof File,u=typeof e.image=="string"&&/\.(mp4|webm|ogg)(\?.*)?$/i.test(e.image),h=typeof e.image=="string"&&!u,f=c?URL.createObjectURL(e.image):null,g=h?e.image:null,p=u?e.image:null;return a.jsxs(B,{...i(),className:`${r} text-center w-100 ${f||g||p?"border-success":""}`,children:[a.jsx("input",{...o(),accept:"image/*,video/*"}),f?e.image.type.startsWith("video/")?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:f,type:e.image.type}),"Your browser does not support the video tag."]}):a.jsx("img",{src:f,alt:"Uploaded File Preview",className:s}):p?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:p,type:"video/mp4"}),"Your browser does not support the video tag."]}):g?a.jsx("img",{src:g,alt:"Image URL Preview",className:s}):a.jsxs("p",{className:"text-muted",children:["Drag & Drop Image/Video Here or"," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})};function dIe({editingItem:t,toAddForm:e}){const[n,r]=S.useState(0),[s,i]=S.useState(new MT),o=(_,R)=>{if(Array.isArray(_))i(b=>({...b,[R]:_}));else if(typeof _=="string")i(b=>({...b,[R]:_}));else{const{name:b,value:A}=_.target;i(L=>({...L,[b]:A}))}};S.useEffect(()=>{t&&i(_=>({..._,id:t.id||"",title:t.title||"",category:t.category||[],body:t.body.map((R,b)=>({subtitle:R.subtitle||"",body:R.body||"",image:R.image||"",image_source:R.image_source||""})),headerImage:t.headerImage||"",images:t.images||[],references:t.references||[]}))},[t]);const[c,u]=S.useState(null),[h,f]=S.useState(""),g=S.useCallback(_=>{_.length>0&&u(_[0])},[]),{getRootProps:p,getInputProps:y}=Vt({onDrop:g,accept:"image/*",disabled:!!h}),w=()=>{i(_=>({..._,headerImage:null}))},E=(_,R,b)=>{i(A=>{const L=[...A.body];return L[_]={...L[_],[R]:b},{...A,body:L}})},j=(_,R)=>{const b=_[0];b&&i(A=>{const L=[...A.body];return L[R]={...L[R],image:b,imageUrl:URL.createObjectURL(b)},{...A,body:L}})},C=()=>{i(_=>({..._,body:[..._.body,{subtitle:"",body:"",image:null,image_source:""}]}))},O=_=>{i(R=>{const b=R.body.filter((A,L)=>L!==_);return{...R,body:b}})},I=_=>{i(R=>{const b=[...R.body];return b[_]?(b[_]={...b[_],image:null},{...R,body:b}):R})},D=async(_,R)=>{const b=Wt(en,R);return await Qt(b,_),await Zt(b)},T=async _=>{_.preventDefault(),ve.fire({title:"Submitting...",text:"Please wait while we submit your Tourism Projects.",allowOutsideClick:!1,didOpen:()=>{ve.showLoading()}});try{let R=s.headerImage;s.headerImage instanceof File?(t&&t.headerImage&&await $t(t.headerImage),R=await D(s.headerImage,`tourismProjects/${Date.now()}_${s.headerImage.name}`)):R=s.headerImage;const b=await Promise.all(s.body.map(async(P,K)=>P.image instanceof File?(t&&t.body&&t.body[K]&&t.body[K].image&&await $t(t.body[K].image),await D(P.image,`tourismProjects/${Date.now()}_${P.image.name}`)):P.image)),A=await Promise.all(s.images.map(async(P,K)=>P instanceof File?(t&&t.images&&t.images[K]&&await $t(t.images[K]),await D(P,`tourismProjects/${Date.now()}_${P.name}`)):P)),L={id:t?t.id:"",title:s.title,category:s.category||[],body:s.body.map((P,K)=>({subtitle:P.subtitle,body:P.body,image:b[K]||"",image_source:P.image_source})),headerImage:R,images:A,references:s.references||[]},U=gt(Ve,"tourismProjects",s.id);try{await rn(U,L),ve.fire({title:"Tourism Projects Updated",text:"Your Tourism Projects has been updated successfully!",icon:"success"}),w(),F(),e()}catch(P){console.error("Error updating hotlines:",P),ve.fire({title:"Update Failed",text:"There was an error updating the Tourism Projects.",icon:"error"})}}catch(R){console.error("Error submitting Tourism Projects:",R),ve.fire({title:"Error",text:"There was an issue submitting your Tourism Projects. Please try again.",icon:"error"})}},F=()=>{i({id:"",title:"",category:[],body:[{subtitle:"",body:"",image:null,image_source:""}],headerImage:null,images:[],references:[]}),r(_=>_+1)};return a.jsxs(v,{className:"custom-form body-container",onSubmit:T,onKeyDown:_=>_.key==="Enter"&&_.preventDefault(),children:[a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{className:"my-2",children:[a.jsx(v.Label,{className:"label",children:"Upload Header Image (800x400)"}),a.jsx(mn,{storyForm:s,setStoryForm:i,editingItem:s,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"}),a.jsxs(B,{className:"d-flex justify-content-between mt-2",children:[a.jsx("p",{className:"subtitle",children:"Supported File: PNG, JPEG, and JPG"}),a.jsx("p",{className:"subtitle",children:"Maximum size: 25MB"})]}),a.jsx(B,{className:"d-flex justify-content-end",children:c&&(h?null:a.jsxs(se,{className:"my-2",variant:"outline-danger",onClick:w,children:[a.jsx(we,{className:"button-icon",icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]}))})]})})}),a.jsx(V,{className:"mt-2"}),a.jsx(V,{children:a.jsx(z,{md:6,children:a.jsx(qn,{onChange:_=>o(_,"category"),options:EK,resetKey:n,editingItems:s.category,label:"Categories"})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Title"}),a.jsx(v.Control,{type:"text",placeholder:"Enter business name",name:"title",value:s.title,onChange:o,required:!0})]})})}),a.jsx(V,{children:a.jsxs(z,{md:12,children:[a.jsx("p",{className:"label mb-2",children:"Body Sections"}),s.body.map((_,R)=>a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(B,{className:"empty-container"}),a.jsxs(v.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(v.Label,{className:"label",children:"Subtitle (Optional)"}),a.jsx(v.Control,{type:"text",className:"fw-bold",value:_.subtitle,onChange:b=>E(R,"subtitle",b.target.value)})]}),a.jsxs(z,{className:"col me-lg-2 me-md-1",children:[a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Image (Optional)"}),a.jsx(uIe,{index:R,section:_,onBodyImageDrop:j,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"}),_.image&&a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{className:"mt-2 mb-1",variant:"outline-danger",onClick:()=>I(R),children:[a.jsx(we,{icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]})})]}),a.jsxs(v.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(v.Label,{className:"label",children:"Image Source (Optional)"}),a.jsx(v.Control,{placeholder:"e.g. @boracayphotos or /islanders or #trivago or www.trivago.com",type:"text",value:_.image_source,onChange:b=>E(R,"image_source",b.target.value)})]})]}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(v.Group,{className:"mb-5",children:[a.jsx(v.Label,{className:"label",children:"Body"}),a.jsx(rr,{index:R,section:_,handleBodyChange:E})]})}),s.body.length>1&&a.jsx(B,{className:"mb-4 d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-danger",type:"button",onClick:()=>O(R),className:"mt-3 w-full",children:[a.jsx(we,{icon:Pt,size:"xs",fixedWidth:!0})," Delete Section"]})})]},R)),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-success",type:"button",onClick:C,className:"mb-3",children:[a.jsx(we,{icon:nr,size:"xs",fixedWidth:!0})," Add Section"]})})]})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",children:[a.jsx(v.Label,{className:"label me-2",children:"Promotional & Marketing Photos"}),a.jsx(Rs,{dataForm:s,setDataForm:i,caption:"Drag & drop images or click to select (Max: 10)",dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:_=>o(_,"references"),label:"References and Links (Type & Enter)",editingItems:s.references,resetKey:n})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:F,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:T,children:"Submit Update"})]})}),a.jsx(B,{className:"empty-container"})]})}const hIe=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(""),[s,i]=S.useState("asc"),[o,c]=S.useState(0),[u,h]=S.useState(null),f=10;S.useEffect(()=>{y()},[]);const[g,p]=S.useState(!0),y=async()=>{try{const R=(await Rr(Jt(Ve,"tourismProjects"))).docs.map(b=>({id:b.id,...b.data()}));e(R)}catch(_){console.error("Error fetching data:",_)}finally{p(!1)}},w=_=>{h(_)},E=async _=>{window.confirm("Are you sure you want to delete this entry?")&&(await kr(gt(Ve,"tourismProjects",_)),y())},j=t.filter(_=>_.title.toLowerCase().includes(n.toLowerCase())||String(_.references||"").toLowerCase().includes(n.toLowerCase())),C=()=>new Date().toISOString().split("T")[0],O=()=>{const _=t.map(({title:A,...L})=>({...L,references:L.references?JSON.stringify(L.references):""})),R=vt.json_to_sheet(_),b=vt.book_new();vt.book_append_sheet(b,R,"Data"),Fr(b,`tourism_tourismProjects_infoguide_${C()}.xlsx`)},I=Math.ceil(j.length/f),D=j.slice(o*f,(o+1)*f),T=({selected:_})=>{c(_)},F=()=>{h(null)};return a.jsxs(B,{children:[a.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Tourism Projects"}),a.jsx("p",{children:"List of Tourism Projects."}),a.jsxs(V,{className:"mb-4 mt-4",children:[a.jsx(z,{md:4,className:"mb-2 me-2 col",children:a.jsx(v.Control,{type:"text",placeholder:`Search up to over ${t.length} Tourism Projects`,value:n,onChange:_=>r(_.target.value)})}),a.jsxs(B,{className:"d-flex justify-content-end align-items-center mt-2",children:[a.jsxs(se,{variant:"outline-secondary",className:"me-2",onClick:y,children:[a.jsx(we,{icon:Pr,size:"xs",fixedWidth:!0})," Refresh List"]}),a.jsxs(se,{variant:"outline-success",onClick:F,children:[a.jsx(we,{icon:Dr,size:"xs",fixedWidth:!0})," Add New"]})]})]}),g?a.jsx("div",{className:"d-flex justify-content-center align-items-center my-5",children:a.jsx(Sr,{animation:"border",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):D.length===0?a.jsx("div",{className:"text-center my-5",children:a.jsx("h5",{children:"No Data Available"})}):a.jsxs(Lr,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Title"}),a.jsx("th",{children:"Category"})]})}),a.jsx("tbody",{children:D.map(_=>a.jsxs("tr",{children:[a.jsx("td",{children:_.title}),a.jsx("td",{children:Array.isArray(_.category)?_.category.join(", "):_.category}),a.jsx("td",{children:a.jsxs(B,{className:"d-flex justify-content-center align-items-center",children:[a.jsx(Xt,{placement:"top",overlay:a.jsx(Gt,{children:"Edit"}),children:a.jsx(se,{variant:"outline-secondary",size:"sm",className:"me-2",onClick:()=>w(_),children:a.jsx(we,{icon:Ir,size:"xs",fixedWidth:!0})})}),a.jsx(Xt,{placement:"top",overlay:a.jsx(Gt,{children:"Delete"}),children:a.jsx(se,{variant:"outline-danger",size:"sm",onClick:()=>E(_.id),children:a.jsx(we,{icon:Pt,size:"xs",fixedWidth:!0})})})]})})]},_.id))})]}),a.jsxs(B,{className:"d-flex justify-content-between align-items-center mb-4 mt-2",children:[a.jsx(se,{onClick:O,variant:"outline-success",children:"Download Excel"}),a.jsx(Mr,{previousLabel:"",nextLabel:"",pageCount:I,onPageChange:T,containerClassName:"pagination mb-0",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})]}),u?a.jsx(dIe,{editingItem:u,toAddForm:()=>h(null)}):a.jsx(cIe,{})]})};class FT{constructor(){this.id="",this.title="",this.dateStart="",this.dateEnd="",this.country="",this.total="",this.description="",this.headerImage=null,this.references=[],this.images=[]}toJSON(){return{...this}}}function fIe({}){const[t,e]=S.useState(0),[n,r]=S.useState(new FT),s=(u,h)=>{if(Array.isArray(u))r(f=>({...f,[h]:u}));else if(typeof u=="string")r(f=>({...f,[h]:u}));else{const{name:f,value:g}=u.target;r(p=>({...p,[f]:g}))}},i=async(u,h)=>{const f=Wt(en,h);return await Qt(f,u),await Zt(f)},o=async u=>{u.preventDefault(),ve.fire({title:"Submitting...",text:"Please wait while we submit your cruise Ships.",allowOutsideClick:!1,didOpen:()=>{ve.showLoading()}});try{let h=n.headerImage?await i(n.headerImage,`cruiseShips/${Date.now()}_${n.headerImage.name}`):null;const f=await Promise.all(n.images.map(async w=>w?await i(w,`cruiseShips/${Date.now()}_${w.name}`):"")),g=new FT;g.id="",g.title=n.title,g.dateStart=n.dateStart,g.dateEnd=n.dateEnd,g.country=n.country,g.total=n.total,g.description=n.description,g.headerImage=h,g.images=f,g.references=n.references||[];const p=await Or(Jt(Ve,"cruiseShips"),g.toJSON()),y=gt(Ve,"cruiseShips",p.id);await rn(y,{id:p.id}),ve.fire({title:"Cruise Ship Submitted",text:"Your Cruise Ship has been submitted successfully!",icon:"success"}),c()}catch(h){console.error("Error submitting Cruise Ship  And Recognitions Links:",h),ve.fire({title:"Error",text:"There was an issue submitting your Cruise Ship  Expos Links. Please try again.",icon:"error"})}},c=()=>{r({id:"",title:"",country:"",dateStart:"",dateEnd:"",total:"",description:"",headerImage:null,images:[],references:[]}),e(u=>u+1)};return a.jsxs(v,{className:"custom-form body-container",onSubmit:o,onKeyDown:u=>u.key==="Enter"&&u.preventDefault(),children:[a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"headerImage",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Cover Photo"}),a.jsx(mn,{storyForm:n,setStoryForm:r,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"})]})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"country",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Country Origin"}),a.jsx(v.Control,{type:"text",placeholder:"Enter country",name:"country",value:n.country,onChange:s,required:!0})]})}),a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"total",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Total Guest Visited"}),a.jsx(v.Control,{type:"text",placeholder:"Enter Total Visitor",name:"total",value:n.total,onChange:u=>{const h=u.target.value;/^\d*$/.test(h)&&s(u)}})]})})]}),a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Start Date"}),a.jsx(v.Control,{type:"date",name:"dateStart",value:n.dateStart,onChange:s,required:!0})]})}),a.jsx(z,{md:6,children:a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"End Date"}),a.jsx(v.Control,{type:"date",name:"dateEnd",value:n.dateEnd,onChange:s,min:n.dateStart,disabled:!n.dateStart,required:!0})]})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"title",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Title"}),a.jsx(v.Control,{type:"text",placeholder:"Enter business name",name:"title",value:n.title,onChange:s,required:!0})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"description",className:"mb-5 mt-2",children:[a.jsx(v.Label,{className:"label",children:"Brief Description"}),a.jsx(On,{theme:"snow",value:n.description||"",onChange:u=>s(u,"description"),required:!0,style:{height:"300px"}})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",children:[a.jsx(v.Label,{className:"label me-2",children:"Promotional & Marketing Photos"}),a.jsx(Rs,{dataForm:n,setDataForm:r,caption:"Drag & drop images or click to select (Max: 10)",dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:u=>s(u,"references"),label:"References and Links (Type & Enter)",editingItems:n.references,resetKey:t})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:c,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:o,children:"Submit Cruise Ship"})]})}),a.jsx(B,{className:"empty-container"})]})}function mIe({editingItem:t,toAddForm:e}){const[n,r]=S.useState(0),[s,i]=S.useState(new FT),o=(O,I)=>{if(Array.isArray(O))i(D=>({...D,[I]:O}));else if(typeof O=="string")i(D=>({...D,[I]:O}));else{const{name:D,value:T}=O.target;i(F=>({...F,[D]:T}))}};S.useEffect(()=>{t&&i(O=>({...O,id:t.id||"",title:t.title||"",country:t.country||"",total:t.total||0,dateStart:t.dateStart||"",dateEnd:t.dateEnd||"",description:t.description||"",headerImage:t.headerImage||"",images:t.images||[],references:t.references||[]}))},[t]);const[c,u]=S.useState(null),[h,f]=S.useState(""),g=S.useCallback(O=>{O.length>0&&u(O[0])},[]),{getRootProps:p,getInputProps:y}=Vt({onDrop:g,accept:"image/*",disabled:!!h}),w=()=>{i(O=>({...O,headerImage:null}))},E=async(O,I)=>{const D=Wt(en,I);return await Qt(D,O),await Zt(D)},j=async O=>{O.preventDefault(),ve.fire({title:"Submitting...",text:"Please wait while we submit your cruise Ships.",allowOutsideClick:!1,didOpen:()=>{ve.showLoading()}});try{let I=s.headerImage;s.headerImage instanceof File?(t&&t.headerImage&&await $t(t.headerImage),I=await E(s.headerImage,`cruiseShips/${Date.now()}_${s.headerImage.name}`)):I=s.headerImage;const D=await Promise.all(s.images.map(async(_,R)=>_ instanceof File?(t&&t.images&&t.images[R]&&await $t(t.images[R]),await E(_,`cruiseShips/${Date.now()}_${_.name}`)):_)),T={id:t?t.id:"",title:s.title,country:s.country,total:s.total,dateStart:s.dateStart,dateEnd:s.dateEnd,description:s.description,headerImage:I,images:D,references:s.references||[]},F=gt(Ve,"cruiseShips",s.id);try{await rn(F,T),ve.fire({title:"Cruise Ships Updated",text:"Your Cruise Ships has been updated successfully!",icon:"success"}),w(),C(),e()}catch(_){console.error("Error updating hotlines:",_),ve.fire({title:"Update Failed",text:"There was an error updating the Cruise Ships.",icon:"error"})}}catch(I){console.error("Error submitting Cruise Ships:",I),ve.fire({title:"Error",text:"There was an issue submitting your Cruise Ships. Please try again.",icon:"error"})}},C=()=>{i({id:"",title:"",country:"",total:"",dateStart:"",dateEnd:"",description:"",headerImage:null,images:[],references:[]}),r(O=>O+1)};return a.jsxs(v,{className:"custom-form body-container",onSubmit:j,onKeyDown:O=>O.key==="Enter"&&O.preventDefault(),children:[a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{className:"my-2",children:[a.jsx(v.Label,{className:"label",children:"Upload Header Image (800x400)"}),a.jsx(mn,{storyForm:s,setStoryForm:i,editingItem:s,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"}),a.jsxs(B,{className:"d-flex justify-content-between mt-2",children:[a.jsx("p",{className:"subtitle",children:"Supported File: PNG, JPEG, and JPG"}),a.jsx("p",{className:"subtitle",children:"Maximum size: 25MB"})]}),a.jsx(B,{className:"d-flex justify-content-end",children:c&&(h?null:a.jsxs(se,{className:"my-2",variant:"outline-danger",onClick:w,children:[a.jsx(we,{className:"button-icon",icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]}))})]})})}),a.jsx(V,{className:"mt-2"}),a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"country",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Country Origin"}),a.jsx(v.Control,{type:"text",placeholder:"Enter country",name:"country",value:s.country,onChange:o,required:!0})]})}),a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"total",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Total Guest Visited"}),a.jsx(v.Control,{type:"text",placeholder:"Enter Total Visitor",name:"total",value:s.total,onChange:O=>{const I=O.target.value;/^\d*$/.test(I)&&o(O)}})]})})]}),a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Start Date"}),a.jsx(v.Control,{type:"date",name:"dateStart",value:s.dateStart,onChange:o,required:!0})]})}),a.jsx(z,{md:6,children:a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"End Date"}),a.jsx(v.Control,{type:"date",name:"dateEnd",value:s.dateEnd,onChange:o,min:s.dateStart,disabled:!s.dateStart,required:!0})]})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Title"}),a.jsx(v.Control,{type:"text",placeholder:"Enter business name",name:"title",value:s.title,onChange:o,required:!0})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"description",className:"mb-5 mt-2",children:[a.jsx(v.Label,{className:"label",children:"Brief Description"}),a.jsx(On,{theme:"snow",value:s.description||"",onChange:O=>o(O,"description"),required:!0,style:{height:"300px"}})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",children:[a.jsx(v.Label,{className:"label me-2",children:"Promotional & Marketing Photos"}),a.jsx(Rs,{dataForm:s,setDataForm:i,caption:"Drag & drop images or click to select (Max: 10)",dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:O=>o(O,"references"),label:"References and Links (Type & Enter)",editingItems:s.references,resetKey:n})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:C,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:j,children:"Submit Update"})]})}),a.jsx(B,{className:"empty-container"})]})}const pIe=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(""),[s,i]=S.useState("asc"),[o,c]=S.useState(0),[u,h]=S.useState(null),f=10;S.useEffect(()=>{y()},[]);const[g,p]=S.useState(!0),y=async()=>{try{const R=(await Rr(Jt(Ve,"cruiseShips"))).docs.map(b=>({id:b.id,...b.data()}));e(R)}catch(_){console.error("Error fetching data:",_)}finally{p(!1)}},w=_=>{h(_)},E=async _=>{window.confirm("Are you sure you want to delete this entry?")&&(await kr(gt(Ve,"cruiseShips",_)),y())},j=t.filter(_=>_.title.toLowerCase().includes(n.toLowerCase())||String(_.references||"").toLowerCase().includes(n.toLowerCase())),C=()=>new Date().toISOString().split("T")[0],O=()=>{const _=t.map(({title:A,...L})=>({...L,references:L.references?JSON.stringify(L.references):""})),R=vt.json_to_sheet(_),b=vt.book_new();vt.book_append_sheet(b,R,"Data"),Fr(b,`tourism_cruiseShips_infoguide_${C()}.xlsx`)},I=Math.ceil(j.length/f),D=j.slice(o*f,(o+1)*f),T=({selected:_})=>{c(_)},F=()=>{h(null)};return a.jsxs(B,{children:[a.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Cruise Ship Arrivals"}),a.jsx("p",{children:"List of Cruise Ship Arrivals."}),a.jsxs(V,{className:"mb-4 mt-4",children:[a.jsx(z,{md:4,className:"mb-2 me-2 col",children:a.jsx(v.Control,{type:"text",placeholder:`Search up to over ${t.length} Cruise Ships`,value:n,onChange:_=>r(_.target.value)})}),a.jsxs(B,{className:"d-flex justify-content-end align-items-center mt-2",children:[a.jsxs(se,{variant:"outline-secondary",className:"me-2",onClick:y,children:[a.jsx(we,{icon:Pr,size:"xs",fixedWidth:!0})," Refresh List"]}),a.jsxs(se,{variant:"outline-success",onClick:F,children:[a.jsx(we,{icon:Dr,size:"xs",fixedWidth:!0})," Add New"]})]})]}),g?a.jsx("div",{className:"d-flex justify-content-center align-items-center my-5",children:a.jsx(Sr,{animation:"border",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):D.length===0?a.jsx("div",{className:"text-center my-5",children:a.jsx("h5",{children:"No Data Available"})}):a.jsxs(Lr,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Title"}),a.jsx("th",{children:"Date"}),a.jsx("th",{children:"Country of Origin"}),a.jsx("th",{children:"Total"})]})}),a.jsx("tbody",{children:D.map(_=>a.jsxs("tr",{children:[a.jsx("td",{children:_.title}),a.jsxs("td",{children:[_.dateStart," ",_.dateEnd]}),a.jsx("td",{children:_.country}),a.jsx("th",{children:_.total}),a.jsx("td",{children:a.jsxs(B,{className:"d-flex justify-content-center align-items-center",children:[a.jsx(Xt,{placement:"top",overlay:a.jsx(Gt,{children:"Edit"}),children:a.jsx(se,{variant:"outline-secondary",size:"sm",className:"me-2",onClick:()=>w(_),children:a.jsx(we,{icon:Ir,size:"xs",fixedWidth:!0})})}),a.jsx(Xt,{placement:"top",overlay:a.jsx(Gt,{children:"Delete"}),children:a.jsx(se,{variant:"outline-danger",size:"sm",onClick:()=>E(_.id),children:a.jsx(we,{icon:Pt,size:"xs",fixedWidth:!0})})})]})})]},_.id))})]}),a.jsxs(B,{className:"d-flex justify-content-between align-items-center mb-4 mt-2",children:[a.jsx(se,{onClick:O,variant:"outline-success",children:"Download Excel"}),a.jsx(Mr,{previousLabel:"",nextLabel:"",pageCount:I,onPageChange:T,containerClassName:"pagination mb-0",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})]}),u?a.jsx(mIe,{editingItem:u,toAddForm:()=>h(null)}):a.jsx(fIe,{})]})};class BT{constructor(){this.id="",this.title="",this.body=[{subtitle:"",body:"",image:null,image_source:""}],this.headerImage=null,this.references=[],this.images=[]}toJSON(){return{...this}}}const gIe=({index:t,section:e,onBodyImageDrop:n,dropzoneName:r="dropzone-container-small",previewName:s="dropzone-uploaded-image-small"})=>{const{getRootProps:i,getInputProps:o}=Vt({onDrop:u=>n(u,t),accept:"image/png, image/jpeg, image/jpg, video/mp4, video/webm, video/ogg"}),c=e.image?e.image instanceof File?URL.createObjectURL(e.image):e.image:null;return a.jsxs(B,{...i(),className:`${r} text-center w-100 ${c?"border-success":""}`,children:[a.jsx("input",{...o(),accept:"image/*,video/*"}),c?e.image instanceof File&&e.image.type.startsWith("video/")?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:c,type:e.image.type}),"Your browser does not support the video tag."]}):a.jsx("img",{src:c,alt:"Body Image Preview",className:s}):a.jsxs("p",{className:"text-muted",children:["Drag & Drop Image/Video Here or"," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})};function yIe({}){const[t,e]=S.useState(0),[n,r]=S.useState(new BT),s=(y,w)=>{if(Array.isArray(y))r(E=>({...E,[w]:y}));else if(typeof y=="string")r(E=>({...E,[w]:y}));else{const{name:E,value:j}=y.target;r(C=>({...C,[E]:j}))}},i=(y,w,E)=>{r(j=>{const C=[...j.body];return C[y]={...C[y],[w]:E},{...j,body:C}})},o=(y,w)=>{const E=y[0];E&&r(j=>{const C=[...j.body];return C[w]={...C[w],image:E,imageUrl:URL.createObjectURL(E)},{...j,body:C}})},c=()=>{r(y=>({...y,body:[...y.body,{subtitle:"",body:"",image:null,image_source:""}]}))},u=y=>{r(w=>{const E=w.body.filter((j,C)=>C!==y);return{...w,body:E}})},h=y=>{r(w=>{const E=[...w.body];return E[y]?(E[y]={...E[y],image:null},{...w,body:E}):w})},f=async(y,w)=>{const E=Wt(en,w);return await Qt(E,y),await Zt(E)},g=async y=>{y.preventDefault(),ve.fire({title:"Submitting...",text:"Please wait while we submit your tourism markets.",allowOutsideClick:!1,didOpen:()=>{ve.showLoading()}});try{let w=n.headerImage?await f(n.headerImage,`tourismMarkets/${Date.now()}_${n.headerImage.name}`):null;const E=await Promise.all(n.images.map(async D=>D?await f(D,`tourismMarkets/${Date.now()}_${D.name}`):"")),j=await Promise.all(n.body.map(async(D,T)=>D.image?await f(D.image,`tourismMarkets/${Date.now()}_${D.image.name}`):"")),C=new BT;C.id="",C.title=n.title,C.body=n.body.map((D,T)=>({subtitle:D.subtitle,body:D.body,image:j[T]||"",image_source:D.image_source})),C.headerImage=w,C.images=E,C.references=n.references||[];const O=await Or(Jt(Ve,"tourismMarkets"),C.toJSON()),I=gt(Ve,"tourismMarkets",O.id);await rn(I,{id:O.id}),ve.fire({title:"Tourism Markets Submitted",text:"Your Tourism Markets has been submitted successfully!",icon:"success"}),p()}catch(w){console.error("Error submitting Tourism Markets:",w),ve.fire({title:"Error",text:"There was an issue submitting your Tourism Markets. Please try again.",icon:"error"})}},p=()=>{r({id:"",title:"",body:[{subtitle:"",body:"",image:null,image_source:""}],headerImage:null,images:[],references:[]}),e(y=>y+1)};return a.jsxs(v,{className:"custom-form body-container",onSubmit:g,onKeyDown:y=>y.key==="Enter"&&y.preventDefault(),children:[a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"headerImage",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Cover Photo"}),a.jsx(mn,{storyForm:n,setStoryForm:r,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"title",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Title"}),a.jsx(v.Control,{type:"text",placeholder:"Enter business name",name:"title",value:n.title,onChange:s,required:!0})]})})}),a.jsx(V,{children:a.jsxs(z,{md:12,children:[a.jsx("p",{className:"label mb-2",children:"Body Sections"}),n.body.map((y,w)=>a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(B,{className:"empty-container"}),a.jsxs(v.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(v.Label,{className:"label",children:"Subtitle (Optional)"}),a.jsx(v.Control,{type:"text",className:"fw-bold",value:y.subtitle,onChange:E=>i(w,"subtitle",E.target.value)})]}),a.jsxs(z,{className:"col me-lg-2 me-md-1",children:[a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Image (Optional)"}),a.jsx(gIe,{index:w,section:y,onBodyImageDrop:o,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"}),y.image&&a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{className:"mt-2 mb-1",variant:"outline-danger",onClick:()=>h(w),children:[a.jsx(we,{icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]})})]}),a.jsxs(v.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(v.Label,{className:"label",children:"Image Source (Optional)"}),a.jsx(v.Control,{placeholder:"e.g. @boracayphotos or /islanders or #trivago or www.trivago.com",type:"text",value:y.image_source,onChange:E=>i(w,"image_source",E.target.value)})]})]}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(v.Group,{className:"mb-5",children:[a.jsx(v.Label,{className:"label",children:"Body"}),a.jsx(rr,{index:w,section:y,handleBodyChange:i})]})}),n.body.length>1&&a.jsx(B,{className:"mb-4 d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-danger",type:"button",onClick:()=>u(w),className:"mt-3 w-full",children:[a.jsx(we,{icon:Pt,size:"xs",fixedWidth:!0})," Delete Section"]})})]},w)),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-success",type:"button",onClick:c,className:"mb-3",children:[a.jsx(we,{icon:nr,size:"xs",fixedWidth:!0})," Add Section"]})})]})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",children:[a.jsx(v.Label,{className:"label me-2",children:"Promotional & Marketing Photos"}),a.jsx(Rs,{dataForm:n,setDataForm:r,caption:"Drag & drop images or click to select (Max: 10)",dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:y=>s(y,"references"),label:"References and Links (Type & Enter)",editingItems:n.references,resetKey:t})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:p,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:g,children:"Submit Tourism Market"})]})}),a.jsx(B,{className:"empty-container"})]})}const vIe=({index:t,section:e,onBodyImageDrop:n,dropzoneName:r="dropzone-container-small",previewName:s="dropzone-uploaded-image-small"})=>{const{getRootProps:i,getInputProps:o}=Vt({onDrop:y=>n(y,t),accept:"image/png, image/jpeg, image/jpg, video/mp4, video/webm, video/ogg"}),c=e.image instanceof File,u=typeof e.image=="string"&&/\.(mp4|webm|ogg)(\?.*)?$/i.test(e.image),h=typeof e.image=="string"&&!u,f=c?URL.createObjectURL(e.image):null,g=h?e.image:null,p=u?e.image:null;return a.jsxs(B,{...i(),className:`${r} text-center w-100 ${f||g||p?"border-success":""}`,children:[a.jsx("input",{...o(),accept:"image/*,video/*"}),f?e.image.type.startsWith("video/")?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:f,type:e.image.type}),"Your browser does not support the video tag."]}):a.jsx("img",{src:f,alt:"Uploaded File Preview",className:s}):p?a.jsxs("video",{controls:!0,className:s,children:[a.jsx("source",{src:p,type:"video/mp4"}),"Your browser does not support the video tag."]}):g?a.jsx("img",{src:g,alt:"Image URL Preview",className:s}):a.jsxs("p",{className:"text-muted",children:["Drag & Drop Image/Video Here or"," ",a.jsx("span",{className:"text-primary text-decoration-underline",children:"Choose File"})]})]})};function xIe({editingItem:t,toAddForm:e}){const[n,r]=S.useState(0),[s,i]=S.useState(new BT),o=(_,R)=>{if(Array.isArray(_))i(b=>({...b,[R]:_}));else if(typeof _=="string")i(b=>({...b,[R]:_}));else{const{name:b,value:A}=_.target;i(L=>({...L,[b]:A}))}};S.useEffect(()=>{t&&i(_=>({..._,id:t.id||"",title:t.title||"",body:t.body.map((R,b)=>({subtitle:R.subtitle||"",body:R.body||"",image:R.image||"",image_source:R.image_source||""})),headerImage:t.headerImage||"",images:t.images||[],references:t.references||[]}))},[t]);const[c,u]=S.useState(null),[h,f]=S.useState(""),g=S.useCallback(_=>{_.length>0&&u(_[0])},[]),{getRootProps:p,getInputProps:y}=Vt({onDrop:g,accept:"image/*",disabled:!!h}),w=()=>{i(_=>({..._,headerImage:null}))},E=(_,R,b)=>{i(A=>{const L=[...A.body];return L[_]={...L[_],[R]:b},{...A,body:L}})},j=(_,R)=>{const b=_[0];b&&i(A=>{const L=[...A.body];return L[R]={...L[R],image:b,imageUrl:URL.createObjectURL(b)},{...A,body:L}})},C=()=>{i(_=>({..._,body:[..._.body,{subtitle:"",body:"",image:null,image_source:""}]}))},O=_=>{i(R=>{const b=R.body.filter((A,L)=>L!==_);return{...R,body:b}})},I=_=>{i(R=>{const b=[...R.body];return b[_]?(b[_]={...b[_],image:null},{...R,body:b}):R})},D=async(_,R)=>{const b=Wt(en,R);return await Qt(b,_),await Zt(b)},T=async _=>{_.preventDefault(),ve.fire({title:"Submitting...",text:"Please wait while we submit your Tourism Markets.",allowOutsideClick:!1,didOpen:()=>{ve.showLoading()}});try{let R=s.headerImage;s.headerImage instanceof File?(t&&t.headerImage&&await $t(t.headerImage),R=await D(s.headerImage,`tourismMarkets/${Date.now()}_${s.headerImage.name}`)):R=s.headerImage;const b=await Promise.all(s.body.map(async(P,K)=>P.image instanceof File?(t&&t.body&&t.body[K]&&t.body[K].image&&await $t(t.body[K].image),await D(P.image,`tourismMarkets/${Date.now()}_${P.image.name}`)):P.image)),A=await Promise.all(s.images.map(async(P,K)=>P instanceof File?(t&&t.images&&t.images[K]&&await $t(t.images[K]),await D(P,`tourismMarkets/${Date.now()}_${P.name}`)):P)),L={id:t?t.id:"",title:s.title,body:s.body.map((P,K)=>({subtitle:P.subtitle,body:P.body,image:b[K]||"",image_source:P.image_source})),headerImage:R,images:A,references:s.references||[]},U=gt(Ve,"tourismMarkets",s.id);try{await rn(U,L),ve.fire({title:"Tourism Markets Updated",text:"Your Tourism Markets has been updated successfully!",icon:"success"}),w(),F(),e()}catch(P){console.error("Error updating hotlines:",P),ve.fire({title:"Update Failed",text:"There was an error updating the Tourism Markets.",icon:"error"})}}catch(R){console.error("Error submitting Tourism Markets:",R),ve.fire({title:"Error",text:"There was an issue submitting your Tourism Markets. Please try again.",icon:"error"})}},F=()=>{i({id:"",title:"",body:[{subtitle:"",body:"",image:null,image_source:""}],headerImage:null,images:[],references:[]}),r(_=>_+1)};return a.jsxs(v,{className:"custom-form body-container",onSubmit:T,onKeyDown:_=>_.key==="Enter"&&_.preventDefault(),children:[a.jsx(V,{children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{className:"my-2",children:[a.jsx(v.Label,{className:"label",children:"Upload Header Image (800x400)"}),a.jsx(mn,{storyForm:s,setStoryForm:i,editingItem:s,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"}),a.jsxs(B,{className:"d-flex justify-content-between mt-2",children:[a.jsx("p",{className:"subtitle",children:"Supported File: PNG, JPEG, and JPG"}),a.jsx("p",{className:"subtitle",children:"Maximum size: 25MB"})]}),a.jsx(B,{className:"d-flex justify-content-end",children:c&&(h?null:a.jsxs(se,{className:"my-2",variant:"outline-danger",onClick:w,children:[a.jsx(we,{className:"button-icon",icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]}))})]})})}),a.jsx(V,{className:"mt-2"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Title"}),a.jsx(v.Control,{type:"text",placeholder:"Enter business name",name:"title",value:s.title,onChange:o,required:!0})]})})}),a.jsx(V,{children:a.jsxs(z,{md:12,children:[a.jsx("p",{className:"label mb-2",children:"Body Sections"}),s.body.map((_,R)=>a.jsxs(V,{className:"d-flex flex-md-row flex-column",children:[a.jsx(B,{className:"empty-container"}),a.jsxs(v.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(v.Label,{className:"label",children:"Subtitle (Optional)"}),a.jsx(v.Control,{type:"text",className:"fw-bold",value:_.subtitle,onChange:b=>E(R,"subtitle",b.target.value)})]}),a.jsxs(z,{className:"col me-lg-2 me-md-1",children:[a.jsxs(v.Group,{className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Image (Optional)"}),a.jsx(vIe,{index:R,section:_,onBodyImageDrop:j,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"}),_.image&&a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{className:"mt-2 mb-1",variant:"outline-danger",onClick:()=>I(R),children:[a.jsx(we,{icon:nn,size:"xs",fixedWidth:!0})," Remove Image"]})})]}),a.jsxs(v.Group,{className:"mb-3 m-0 p-0",children:[a.jsx(v.Label,{className:"label",children:"Image Source (Optional)"}),a.jsx(v.Control,{placeholder:"e.g. @boracayphotos or /islanders or #trivago or www.trivago.com",type:"text",value:_.image_source,onChange:b=>E(R,"image_source",b.target.value)})]})]}),a.jsx(z,{className:"col ms-lg-2 ms-md-1",children:a.jsxs(v.Group,{className:"mb-5",children:[a.jsx(v.Label,{className:"label",children:"Body"}),a.jsx(rr,{index:R,section:_,handleBodyChange:E})]})}),s.body.length>1&&a.jsx(B,{className:"mb-4 d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-danger",type:"button",onClick:()=>O(R),className:"mt-3 w-full",children:[a.jsx(we,{icon:Pt,size:"xs",fixedWidth:!0})," Delete Section"]})})]},R)),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"d-flex justify-content-end",children:a.jsxs(se,{variant:"outline-success",type:"button",onClick:C,className:"mb-3",children:[a.jsx(we,{icon:nr,size:"xs",fixedWidth:!0})," Add Section"]})})]})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",children:[a.jsx(v.Label,{className:"label me-2",children:"Promotional & Marketing Photos"}),a.jsx(Rs,{dataForm:s,setDataForm:i,caption:"Drag & drop images or click to select (Max: 10)",dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:_=>o(_,"references"),label:"References and Links (Type & Enter)",editingItems:s.references,resetKey:n})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:F,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:T,children:"Submit Update"})]})}),a.jsx(B,{className:"empty-container"})]})}const bIe=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(""),[s,i]=S.useState("asc"),[o,c]=S.useState(0),[u,h]=S.useState(null),f=10;S.useEffect(()=>{y()},[]);const[g,p]=S.useState(!0),y=async()=>{try{const R=(await Rr(Jt(Ve,"tourismMarkets"))).docs.map(b=>({id:b.id,...b.data()}));e(R)}catch(_){console.error("Error fetching data:",_)}finally{p(!1)}},w=_=>{h(_)},E=async _=>{window.confirm("Are you sure you want to delete this entry?")&&(await kr(gt(Ve,"tourismMarkets",_)),y())},j=t.filter(_=>_.title.toLowerCase().includes(n.toLowerCase())||String(_.references||"").toLowerCase().includes(n.toLowerCase())),C=()=>new Date().toISOString().split("T")[0],O=()=>{const _=t.map(({title:A,...L})=>({...L,references:L.references?JSON.stringify(L.references):""})),R=vt.json_to_sheet(_),b=vt.book_new();vt.book_append_sheet(b,R,"Data"),Fr(b,`tourism_tourismMarkets_infoguide_${C()}.xlsx`)},I=Math.ceil(j.length/f),D=j.slice(o*f,(o+1)*f),T=({selected:_})=>{c(_)},F=()=>{h(null)};return a.jsxs(B,{children:[a.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Tourism Markets"}),a.jsx("p",{children:"List of Tourism Markets."}),a.jsxs(V,{className:"mb-4 mt-4",children:[a.jsx(z,{md:4,className:"mb-2 me-2 col",children:a.jsx(v.Control,{type:"text",placeholder:`Search up to over ${t.length} Tourism Markets`,value:n,onChange:_=>r(_.target.value)})}),a.jsxs(B,{className:"d-flex justify-content-end align-items-center mt-2",children:[a.jsxs(se,{variant:"outline-secondary",className:"me-2",onClick:y,children:[a.jsx(we,{icon:Pr,size:"xs",fixedWidth:!0})," Refresh List"]}),a.jsxs(se,{variant:"outline-success",onClick:F,children:[a.jsx(we,{icon:Dr,size:"xs",fixedWidth:!0})," Add New"]})]})]}),g?a.jsx("div",{className:"d-flex justify-content-center align-items-center my-5",children:a.jsx(Sr,{animation:"border",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):D.length===0?a.jsx("div",{className:"text-center my-5",children:a.jsx("h5",{children:"No Data Available"})}):a.jsxs(Lr,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{children:a.jsx("tr",{children:a.jsx("th",{children:"Title"})})}),a.jsx("tbody",{children:D.map(_=>a.jsxs("tr",{children:[a.jsx("td",{children:_.title}),a.jsx("td",{children:a.jsxs(B,{className:"d-flex justify-content-center align-items-center",children:[a.jsx(Xt,{placement:"top",overlay:a.jsx(Gt,{children:"Edit"}),children:a.jsx(se,{variant:"outline-secondary",size:"sm",className:"me-2",onClick:()=>w(_),children:a.jsx(we,{icon:Ir,size:"xs",fixedWidth:!0})})}),a.jsx(Xt,{placement:"top",overlay:a.jsx(Gt,{children:"Delete"}),children:a.jsx(se,{variant:"outline-danger",size:"sm",onClick:()=>E(_.id),children:a.jsx(we,{icon:Pt,size:"xs",fixedWidth:!0})})})]})})]},_.id))})]}),a.jsxs(B,{className:"d-flex justify-content-between align-items-center mb-4 mt-2",children:[a.jsx(se,{onClick:O,variant:"outline-success",children:"Download Excel"}),a.jsx(Mr,{previousLabel:"",nextLabel:"",pageCount:I,onPageChange:T,containerClassName:"pagination mb-0",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})]}),u?a.jsx(xIe,{editingItem:u,toAddForm:()=>h(null)}):a.jsx(yIe,{})]})};class UT{constructor(){this.id="",this.name="",this.category="",this.subcategory="",this.classification="",this.accreditation="",this.ratings="",this.established="",this.lowest="",this.slogan="",this.description="",this.facilities=[],this.amenities=[],this.awards=[],this.images=[],this.roomtypes=[],this.operatinghours=[],this.inclusivity=[],this.accessibility="",this.logo=null,this.headerImage=null,this.website="",this.address={street:"",barangay:"",town:"",region:"",province:"",country:"",lat:"",long:""},this.link="",this.geo="",this.socials=[],this.memberships=[],this.note=""}toJSON(){return{...this}}}function wIe({}){var j;const[t,e]=S.useState(0),[n,r]=S.useState(new UT),[s,i]=S.useState(""),[o,c]=S.useState(""),[u,h]=S.useState(""),f=(C,O)=>{if(Array.isArray(C))r(I=>({...I,[O]:C}));else if(typeof C=="string")r(I=>({...I,[O]:C}));else{const{name:I,value:D}=C.target;r(T=>({...T,[I]:D}))}},g=(C,O)=>{if(!C){console.warn("handleLocationSelect received null position.");return}r(I=>({...I,address:{...I.address,lat:C.lat||"",long:C.lng||""},link:O||""}))};S.useEffect(()=>{n.accreditation||(r(C=>({...C,category:"Hospitality & Lodging",subcategory:"Mainland Malay Hotels"})),i("Hospitality & Lodging"),c("Mainland Malay Hotels"))},[r,n.category,n.subcategory]);const p=async(C,O)=>{const I=Wt(en,O);return await Qt(I,C),await Zt(I)},y=async C=>{C.preventDefault(),ve.fire({title:"Submitting...",text:"Please wait while we submit your mainland Malay Hotel data.",allowOutsideClick:!1,didOpen:()=>{ve.showLoading()}});try{let O=n.headerImage?await p(n.headerImage,`mainlandMalayHotels/${Date.now()}_${n.headerImage.name}`):null,I=n.logo?await p(n.logo,`mainlandMalayHotels/${Date.now()}_${n.logo.name}`):null;const D=await Promise.all(n.images.map(async R=>R?await p(R,`mainlandMalayHotels/${Date.now()}_${R.name}`):"")),T=new UT;T.id="",T.name=n.name,T.category=n.category||s,T.subcategory=n.subcategory||o,T.classification=n.classification||u,T.accreditation=n.accreditation,T.ratings=n.ratings,T.established=n.established,T.lowest=n.lowest,T.slogan=n.slogan,T.description=n.description,T.facilities=n.facilities||[],T.amenities=n.amenities||[],T.awards=n.awards||[],T.images=D,T.roomtypes=n.roomtypes||[],T.operatinghours=n.operatinghours||[],T.inclusivity=n.inclusivity||[],T.accessibility=n.accessibility||[],T.logo=I,T.headerImage=O,T.website=n.website,T.address={...n.address},T.link=n.link,T.geo=n.geo,T.socials=n.socials||[],T.memberships=n.memberships||[],T.note=n.note;const F=await Or(Jt(Ve,"mainlandMalayHotels"),T.toJSON()),_=gt(Ve,"mainlandMalayHotels",F.id);await rn(_,{id:F.id}),ve.fire({title:"mainlandMalayHotels Submitted",text:"Your mainlandMalayHotels has been submitted successfully!",icon:"success"}),E(),w()}catch(O){console.error("Error submitting mainlandMalayHotels:",O),ve.fire({title:"Error",text:"There was an issue submitting your mainlandMalayHotels. Please try again.",icon:"error"})}},w=()=>{r(C=>({...C,headerImage:null}))},E=()=>{r({id:"",name:"",category:"",subcategory:"",classification:"",accreditation:"",ratings:"",established:"",lowest:"",slogan:"",description:"",facilities:[],amenities:[],awards:[],images:[],roomtypes:[],operatinghours:[],inclusivity:[],accessibility:[],logo:null,headerImage:null,website:"",address:{street:"",barangay:"",town:"",region:"",province:"",country:"",lat:"",long:""},link:"",geo:"",socials:[],memberships:[],note:[]}),e(C=>C+1),i(""),h(""),c("")};return a.jsxs(v,{className:"custom-form body-container",onSubmit:y,onKeyDown:C=>C.key==="Enter"&&C.preventDefault(),children:[a.jsxs(V,{className:"row mb-4",children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"category",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Category"}),a.jsx(v.Control,{type:"text",placeholder:"Enter Category",name:"category",value:n.category||"Hospitality & Lodging",onChange:f,readOnly:!0})]})}),a.jsxs(z,{md:6,children:[a.jsxs(v.Group,{controlId:"subcategory",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Category"}),a.jsx(v.Control,{type:"text",placeholder:"Enter Subcategory",name:"subcategory",value:n.subcategory||"Mainland Malay Hotels",onChange:f,readOnly:!0})]}),o&&$a[o]&&a.jsxs(v.Group,{controlId:"formClassification",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Classification"}),a.jsxs(v.Select,{value:n.classification||"",onChange:C=>{const O=C.target.value;h(O),r(I=>({...I,classification:O}))},children:[a.jsx("option",{value:"",children:"Select Classification"}),(j=$a[o])==null?void 0:j.map((C,O)=>a.jsx("option",{value:C,children:C},O))]})]})]})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"logo",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Business Logo"}),a.jsx(Mo,{storyForm:n,setStoryForm:r,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small",caption:"Drag & Drop Logo here",required:!0})]})}),a.jsx(z,{md:6,children:a.jsx(B,{})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Business Name"}),a.jsx(v.Control,{type:"text",placeholder:"Enter business name",name:"name",value:n.name,onChange:f,required:!0})]})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:9,children:a.jsxs(v.Group,{controlId:"slogan",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Business Slogan/Phrase/Tagline"}),a.jsx(v.Control,{type:"text",placeholder:"Enter business slogan/phrase/tagline",name:"slogan",value:n.slogan,onChange:f})]})}),a.jsx(z,{md:3,children:a.jsxs(v.Group,{controlId:"established",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Year Established"}),a.jsx(v.Control,{type:"text",placeholder:"e.g.: 2000",name:"established",required:!0,value:n.established,onChange:C=>{const O=C.target.value;/^\d*\.?\d*$/.test(O)&&f(C)}})]})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"description",className:"mb-5 mt-2",children:[a.jsx(v.Label,{className:"label",children:"Brief Description"}),a.jsx(On,{theme:"snow",value:n.description||"",onChange:C=>f(C,"description"),required:!0,style:{height:"300px"}})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Si,{groupData:n,setGroupData:r,resetKey:t})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(Ci,{onLocationSelect:g,name:n.name||"",resetKey:t})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"link",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Google Map Link"}),a.jsx(v.Control,{type:"text",placeholder:"Select Location First",name:"link",value:n.link,onChange:f,readOnly:!0})]})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"lat",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Lattitude"}),a.jsx(v.Control,{type:"text",placeholder:"Select Location First",name:"lat",value:n.address.lat,onChange:f,readOnly:!0})]})}),a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"long",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Longitude"}),a.jsx(v.Control,{type:"text",placeholder:"Select Location First",name:"long",value:n.address.long,onChange:f,readOnly:!0})]})})]}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"accessibility",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Geographical Location"}),a.jsxs(v.Select,{name:"geo",value:n.geo,onChange:f,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Geo Location"}),Ni.map((C,O)=>a.jsx("option",{value:C,children:C},O))]})]})}),a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"accessibility",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Accessibility"}),a.jsxs(v.Select,{name:"accessibility",value:n.accessibility,onChange:f,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Accessibility"}),Fo.map((C,O)=>a.jsx("option",{value:C,children:C},O))]})]})})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Cover Photo"}),a.jsx(mn,{storyForm:n,setStoryForm:r,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",children:[a.jsx(v.Label,{className:"label me-2",children:"Promotional & Marketing Photos"}),a.jsx(Rs,{dataForm:n,setDataForm:r,caption:"Drag & drop images or click to select (Max: 10)",dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"})]})})}),a.jsxs(V,{className:"mt-4",children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"accreditation",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"DOT Accreditation No."}),a.jsx(v.Control,{type:"text",placeholder:"Enter accreditation (Optional)",name:"accreditation",value:n.accreditation,onChange:f})]})}),a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"ratings",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"DOT Rating"}),a.jsx(v.Control,{type:"text",placeholder:"Enter ratings (Optional)",name:"ratings",value:n.ratings,onChange:f})]})})]}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"website",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Official Website Link"}),a.jsx(v.Control,{type:"text",placeholder:"Enter website link",name:"website",value:n.website,onChange:f})]})}),a.jsx(z,{md:6,children:a.jsx($e,{onChange:C=>f(C,"socials"),label:"Social Media Links (Type & Enter)",editingItems:n.socials,resetKey:t})})]}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsx($e,{onChange:C=>f(C,"operatinghours"),label:"Operating Hours (Type & Enter)",editingItems:n.operatinghours,resetKey:t,caption:"format: hh:mm A  | e.g. 08:00 AM"})}),a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"lowest",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Lowest Price"}),a.jsx("p",{className:"subtitle",children:"format: 00000.00 | e.g. 12000.00"}),a.jsx(v.Control,{type:"text",placeholder:"Enter Lowest Price",name:"lowest",value:n.lowest,onChange:C=>{const O=C.target.value;/^\d*\.?\d*$/.test(O)&&f(C)}})]})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(qn,{onChange:C=>f(C,"roomtypes"),options:Ww,resetKey:t,editingItems:n.roomtypes,label:"Room Types (Search, Select & Enter)"})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(qn,{onChange:C=>f(C,"inclusivity"),options:Tp,resetKey:t,editingItems:n.inclusivity,label:"Inclusivity (Search, Select & Enter)"})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(qn,{onChange:C=>f(C,"facilities"),label:"Facilities (Search, Select & Enter)",resetKey:t,editingItems:n.facilities,options:Ap,required:!0})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(qn,{onChange:C=>f(C,"amenities"),label:"Amenities (Search, Select & Enter)",resetKey:t,options:Kw,editingItems:n.amenities,required:!0})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx($e,{label:"Organizational Memberships (Type & Enter)",onChange:C=>f(C,"memberships"),editingItems:n.memberships,resetKey:t})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:C=>f(C,"awards"),editingItems:n.awards,resetKey:t,label:"Awards, Recognitions, Seals and Certifications (Type & Enter)"})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"note",className:"mb-5 mt-2",children:[a.jsx(v.Label,{className:"label",children:"Notes, Reminders, Remarks, and Other Details"}),a.jsx(On,{theme:"snow",value:n.note||"",onChange:C=>f(C,"note"),required:!0,style:{height:"300px"}})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsxs(B,{className:"d-flex justify-content-between",children:[a.jsx(se,{variant:"outline-danger",className:"ms-3",onClick:E,children:"Reset Form"}),a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:y,children:"Submit Mainland Malay Hotel"})]})}),a.jsx(B,{className:"empty-container"})]})}function _Ie({editingItem:t,toAddForm:e}){var R;const[n,r]=S.useState(0),[s,i]=S.useState(new UT),[o,c]=S.useState(""),[u,h]=S.useState(""),[f,g]=S.useState(""),p=(b,A)=>{if(Array.isArray(b))i(L=>({...L,[A]:b}));else if(typeof b=="string")i(L=>({...L,[A]:b}));else{const{name:L,value:U}=b.target;i(P=>({...P,[L]:U}))}},y=(b,A)=>{if(!b){console.warn("handleLocationSelect received null position.");return}i(L=>({...L,address:{...L.address,lat:b.lat||"",long:b.lng||""},link:A||""}))};S.useEffect(()=>{t&&(i(b=>({...b,id:t.id||"",name:t.name||"",category:t.category||"",subcategory:t.subcategory||"",classification:t.classification||"",accreditation:t.accreditation||"",ratings:t.ratings||"",established:t.established||"",lowest:t.lowest||"",slogan:t.slogan||"",description:t.description||"",facilities:t.facilities||[],amenities:t.amenities||[],awards:t.awards||[],images:t.images||[],roomtypes:t.roomtypes||[],operatinghours:t.operatinghours||[],inclusivity:t.inclusivity||[],accessibility:t.accessibility||"",logo:t.logo||"",headerImage:t.headerImage||"",website:t.website||"",address:{street:t.address.street||"",barangay:t.address.barangay||"",town:t.address.town||"",region:t.address.region||"",province:t.address.province||"",country:t.address.country||"",lat:t.address.lat||"",long:t.address.long||""},link:t.link||"",geo:t.geo||"",socials:t.socials||[],memberships:t.memberships||[],note:t.note||""})),t.category?(c(t.category||""),h(t.subcategory||""),g(t.classification||"")):(c("Hospitality & Lodging"),h("Mainland Malay Hotels")))},[t]);const w=async(b,A)=>{const L=Wt(en,A);return await Qt(L,b),await Zt(L)},E=async b=>{b.preventDefault(),ve.fire({title:"Submitting...",text:"Please wait while we submit your mainlandMalayHotels data.",allowOutsideClick:!1,didOpen:()=>{ve.showLoading()}});try{let A=s.logo,L=s.headerImage;s.headerImage instanceof File&&(t&&t.headerImage&&await $t(t.headerImage),L=await w(s.headerImage,`mainlandMalayHotels/${Date.now()}_${s.headerImage.name}`)),s.logo instanceof File&&(t&&t.logo&&await $t(t.logo),A=await w(s.logo,`mainlandMalayHotels/${Date.now()}_${s.logo.name}`));const U=await Promise.all(s.images.map(async(G,re)=>G instanceof File?(t&&t.images&&t.images[re]&&await $t(t.images[re]),await w(G,`mainlandMalayHotels/${Date.now()}_${G.name}`)):G)),P={id:t?t.id:"",name:s.name,category:s.category||o,subcategory:s.subcategory||u,classification:s.classification||f,accreditation:s.accreditation,ratings:s.ratings,established:s.established,lowest:s.lowest,slogan:s.slogan,description:s.description,facilities:s.facilities||[],amenities:s.amenities||[],awards:s.awards||[],images:U,roomtypes:s.roomtypes||[],operatinghours:s.operatinghours||[],inclusivity:s.inclusivity||[],accessibility:s.accessibility||[],logo:A,headerImage:L,website:s.website,address:{...s.address},link:s.link,geo:s.geo,socials:s.socials||[],memberships:s.memberships||[],note:s.note},K=gt(Ve,"mainlandMalayHotels",s.id);try{await rn(K,P),ve.fire({title:"mainlandMalayHotels Updated",text:"Your mainlandMalayHotels has been updated successfully!",icon:"success"}),C(),j(),e()}catch(G){console.error("Error updating mainlandMalayHotels:",G),ve.fire({title:"Update Failed",text:"There was an error updating the mainlandMalayHotels.",icon:"error"})}}catch(A){console.error("Error submitting mainlandMalayHotels:",A),ve.fire({title:"Error",text:"There was an issue submitting your mainlandMalayHotels. Please try again.",icon:"error"})}},j=()=>{i(b=>({...b,headerImage:null}))},C=()=>{i({id:"",name:"",category:"",subcategory:"",classification:"",accreditation:"",ratings:"",established:"",lowest:"",slogan:"",description:"",facilities:[],amenities:[],awards:[],images:[],roomtypes:[],operatinghours:[],inclusivity:[],accessibility:[],logo:null,headerImage:null,website:"",address:{street:"",barangay:"",town:"",region:"",province:"",country:"",lat:"",long:""},link:"",geo:"",socials:[],memberships:[],note:[]}),r(b=>b+1),c(""),g(""),h("")},[O,I]=S.useState(!1),D=()=>{I(!O)},[T,F]=S.useState(!1),_=()=>{F(!T)};return a.jsxs(v,{className:"custom-form body-container",onSubmit:E,onKeyDown:b=>b.key==="Enter"&&b.preventDefault(),children:[a.jsxs(V,{className:"row mb-4",children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"category",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Category"}),a.jsx(v.Control,{type:"text",placeholder:"Enter accreditation (Optional)",name:"accreditation",value:s.category||"Hospitality & Lodging",onChange:p,readOnly:!0})]})}),a.jsxs(z,{md:6,children:[a.jsxs(v.Group,{controlId:"subcategory",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Category"}),a.jsx(v.Control,{type:"text",placeholder:"Enter Subcategory",name:"subcategory",value:s.subcategory||"Mainland Malay Hotels",onChange:p,readOnly:!0})]}),u&&$a[u]&&a.jsxs(v.Group,{controlId:"formClassification",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Classification"}),a.jsxs(v.Select,{value:s.classification||"",onChange:b=>{const A=b.target.value;g(A),i(L=>({...L,classification:A}))},children:[a.jsx("option",{value:"",children:"Select Classification"}),(R=$a[u])==null?void 0:R.map((b,A)=>a.jsx("option",{value:b,children:b},A))]})]})]})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsxs(V,{children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"name",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Business Logo"}),a.jsx(Mo,{storyForm:s,setStoryForm:i,dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small",caption:"Drag & Drop Logo here",required:!0})]})}),a.jsx(z,{md:6,children:a.jsx(B,{})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Business Name"}),a.jsx(v.Control,{type:"text",placeholder:"Enter business name",name:"name",value:s.name,onChange:p,required:!0})]})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:9,children:a.jsxs(v.Group,{controlId:"slogan",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Business Slogan/Phrase/Tagline"}),a.jsx(v.Control,{type:"text",placeholder:"Enter business slogan/phrase/tagline",name:"slogan",value:s.slogan,onChange:p})]})}),a.jsx(z,{md:3,children:a.jsxs(v.Group,{controlId:"established",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Year Established"}),a.jsx(v.Control,{type:"text",placeholder:"e.g.: 2000",name:"established",required:!0,value:s.established,onChange:b=>{const A=b.target.value;/^\d*\.?\d*$/.test(A)&&p(b)}})]})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"description",className:"mb-5 mt-2",children:[a.jsx(v.Label,{className:"label",children:"Brief Description"}),a.jsx(On,{theme:"snow",value:s.description||"",onChange:b=>p(b,"description"),required:!0,style:{height:"300px"}})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:O?a.jsx(Si,{groupData:s,setGroupData:i,resetKey:n}):a.jsxs(v.Group,{className:"mt-3 mb-3",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[a.jsx(v.Label,{className:"label mb-2",children:"Local Business Address"}),a.jsx(se,{variant:"outline-danger",className:"mb-2",onClick:D,children:O?"Cancel":"Edit Address"})]}),a.jsxs(a.Fragment,{children:[a.jsx(v.Control,{className:"mb-3",type:"text",name:"address.country",placeholder:"Country",value:s.address.country,readOnly:!0}),a.jsx(v.Control,{className:"my-3",type:"text",name:"address.region",placeholder:"Region",value:s.address.region,readOnly:!0}),a.jsx(v.Control,{className:"my-3",type:"text",name:"address.province",placeholder:"Province",value:s.address.province,readOnly:!0}),a.jsx(v.Control,{className:"my-3",type:"text",name:"address.city",placeholder:"City/Municipality/Town",value:s.address.town,readOnly:!0}),a.jsx(v.Control,{className:"my-3",type:"text",name:"address.barangay",placeholder:"Barangay",value:s.address.barangay,readOnly:!0}),a.jsx(v.Control,{className:"my-3",type:"text",name:"address.street",placeholder:"Street Name / Zone (Optional)",value:s.address.street,readOnly:!0})]})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:T?a.jsx(Ci,{onLocationSelect:y,name:s.name||"",resetKey:n,editingItems:s.address}):a.jsxs(v.Group,{className:"mt-3 mb-3",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[a.jsx(v.Label,{className:"label mb-2",children:"Local Business Address"}),a.jsx(se,{variant:"outline-danger",className:"mb-2",onClick:_,children:T?"Cancel":"Edit Map Location"})]}),a.jsx(sf,{latitude:s.address.lat,longitude:s.address.long})]})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"link",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Google Map Link"}),a.jsx(v.Control,{type:"text",placeholder:"Select Location First",name:"link",value:s.link,onChange:p,readOnly:!0})]})})}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"lat",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Lattitude"}),a.jsx(v.Control,{type:"text",placeholder:"Select Location First",name:"lat",value:s.address.lat,onChange:p,readOnly:!0})]})}),a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"long",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Longitude"}),a.jsx(v.Control,{type:"text",placeholder:"Select Location First",name:"long",value:s.address.long,onChange:p,readOnly:!0})]})})]}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"accessibility",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Geographical Location"}),a.jsxs(v.Select,{name:"geo",value:s.geo,onChange:p,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Geo Location"}),Ni.map((b,A)=>a.jsx("option",{value:b,children:b},A))]})]})}),a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"accessibility",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Accessibility"}),a.jsxs(v.Select,{name:"accessibility",value:s.accessibility,onChange:p,children:[a.jsx("option",{value:"",disabled:!0,children:"Select Accessibility"}),Fo.map((b,A)=>a.jsx("option",{value:b,children:b},A))]})]})})]}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Cover Photo"}),a.jsx(mn,{storyForm:s,setStoryForm:i,dropzoneName:"dropzone-container-big",previewName:"dropzone-uploaded-image-big"})]})})}),a.jsx(V,{className:"mt-2 ",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"name",children:[a.jsx(v.Label,{className:"label",children:"Promotional & Marketing Photos"}),a.jsx(Rs,{dataForm:s,setDataForm:i,caption:"Drag & drop images or click to select (Max: 10)",dropzoneName:"dropzone-container-small",previewName:"dropzone-uploaded-image-small"})]})})}),a.jsxs(V,{className:"mt-4",children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"accreditation",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"DOT Accreditation No."}),a.jsx(v.Control,{type:"text",placeholder:"Enter accreditation (Optional)",name:"accreditation",value:s.accreditation,onChange:p})]})}),a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"ratings",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"DOT Rating"}),a.jsx(v.Control,{type:"text",placeholder:"Enter ratings (Optional)",name:"ratings",value:s.ratings,onChange:p})]})})]}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"website",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Official Website Link"}),a.jsx(v.Control,{type:"text",placeholder:"Enter website link",name:"website",value:s.website,onChange:p})]})}),a.jsx(z,{md:6,children:a.jsx($e,{onChange:b=>p(b,"socials"),label:"Social Media Links (Type & Enter)",editingItems:s.socials,resetKey:n})})]}),a.jsxs(V,{className:"mt-2",children:[a.jsx(z,{md:6,children:a.jsx($e,{onChange:b=>p(b,"operatinghours"),label:"Operating Hours (Type & Enter)",editingItems:s.operatinghours,resetKey:n,caption:"format: hh:mm A  | e.g. 08:00 AM"})}),a.jsx(z,{md:6,children:a.jsxs(v.Group,{controlId:"lowest",className:"mb-3",children:[a.jsx(v.Label,{className:"label",children:"Lowest Price"}),a.jsx("p",{className:"subtitle",children:"format: 00000.00 | e.g. 12000.00"}),a.jsx(v.Control,{type:"text",placeholder:"Enter Lowest Price",name:"lowest",value:s.lowest,onChange:b=>{const A=b.target.value;/^\d*\.?\d*$/.test(A)&&p(b)}})]})})]}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(qn,{onChange:b=>p(b,"roomtypes"),options:Ww,resetKey:n,label:"Room Types (Search, Select & Enter)",editingItems:s.roomtypes})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(qn,{onChange:b=>p(b,"inclusivity"),options:Tp,resetKey:n,label:"Inclusivity (Search, Select & Enter)",editingItems:s.inclusivity})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(qn,{onChange:b=>p(b,"facilities"),label:"Facilities (Search, Select & Enter)",resetKey:n,options:Ap,editingItems:s.facilities,required:!0})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx(qn,{onChange:b=>p(b,"amenities"),label:"Amenities (Search, Select & Enter)",resetKey:n,options:Kw,editingItems:s.amenities,required:!0})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx($e,{label:"Organizational Memberships (Type & Enter)",onChange:b=>p(b,"memberships"),editingItems:s.memberships,resetKey:n})})}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsx($e,{onChange:b=>p(b,"awards"),editingItems:s.awards,resetKey:n,label:"Awards, Recognitions, Seals and Certifications (Type & Enter)"})})}),a.jsx(B,{className:"empty-container"}),a.jsx("hr",{}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(z,{md:12,children:a.jsxs(v.Group,{controlId:"note",className:"mb-5 mt-2",children:[a.jsx(v.Label,{className:"label",children:"Notes, Reminders, Remarks, and Other Details"}),a.jsx(On,{theme:"snow",value:s.note||"",onChange:b=>p(b,"note"),required:!0,style:{height:"300px"}})]})})}),a.jsx(B,{className:"empty-container"}),a.jsx(V,{className:"mt-2",children:a.jsx(B,{className:"d-flex justify-content-end",children:a.jsx(se,{variant:"outline-primary",type:"submit",className:"w-full me-3",onClick:E,children:"Submit Update"})})}),a.jsx(B,{className:"empty-container"})]})}const EIe=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(""),[s,i]=S.useState(""),[o,c]=S.useState(""),[u,h]=S.useState(""),[f,g]=S.useState(""),[p,y]=S.useState(""),[w,E]=S.useState("asc"),[j,C]=S.useState(0),[O,I]=S.useState(null),D=10;S.useEffect(()=>{_()},[]);const[T,F]=S.useState(!0),_=async()=>{try{const me=(await Rr(Jt(Ve,"mainlandMalayHotels"))).docs.map(ie=>({id:ie.id,...ie.data()}));e(me)}catch(Z){console.error("Error fetching data:",Z)}finally{F(!1)}},R=Z=>{I(Z)},b=async Z=>{ve.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then(async me=>{me.isConfirmed&&(await kr(gt(Ve,"mainlandMalayHotels",Z)),_(),ve.fire("Deleted!","Your entry has been deleted.","success"))})},A=t.filter(Z=>{const me=o===""||Z.subcategory===o,ie=s===""||Z.classification===s,W=u===""||Z.geo===u,ye=f===""||Z.address.barangay===f,Q=n.toLowerCase(),ne=Z.name.toLowerCase().includes(Q)||Z.established.toLowerCase().includes(Q)||Z.category.toLowerCase().includes(Q)||Z.subcategory.toLowerCase().includes(Q)||Z.classification.toLowerCase().includes(Q)||Z.geo.toLowerCase().includes(Q)||Z.address.barangay.toLowerCase().includes(Q)||Z.address.street.toLowerCase().includes(Q)||Z.accreditation.toLowerCase().includes(Q)||Z.ratings.toLowerCase().includes(Q),te=Z.accreditation&&Z.accreditation.trim()!=="";return me&&ie&&W&&ye&&ne&&(p===""||p==="DOT Accredited"&&te||p==="Not Accredited"&&!te)}),L=()=>new Date().toISOString().split("T")[0],U=()=>{const Z=t.map(({name:W,established:ye,category:Q,subcategory:ne,classification:te,...X})=>({...X,facilities:Array.isArray(X.facilities)?X.facilities.join(", "):"",amenities:Array.isArray(X.amenities)?X.amenities.join(", "):"",awards:Array.isArray(X.awards)?X.awards.join(", "):"",images:Array.isArray(X.images)?X.images.join(", "):"",roomtypes:Array.isArray(X.roomtypes)?X.roomtypes.join(", "):"",operatinghours:Array.isArray(X.operatinghours)?X.operatinghours.join(", "):"",inclusivity:Array.isArray(X.inclusivity)?X.inclusivity.join(", "):"",socials:Array.isArray(X.socials)?X.socials.join(", "):"",memberships:Array.isArray(X.memberships)?X.memberships.join(", "):"",address:X.address?JSON.stringify(X.address):""})),me=vt.json_to_sheet(Z),ie=vt.book_new();vt.book_append_sheet(ie,me,"Data"),Fr(ie,`tourism_stories_infoguide_${L()}.xlsx`)},P=Math.ceil(A.length/D),K=A.slice(j*D,(j+1)*D),G=({selected:Z})=>{C(Z)},re=()=>{I(null)};return a.jsxs(B,{children:[a.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Mainland Malay Hotels"}),a.jsx("p",{children:"List of Department of Tourism (DOT) Accredited and LGU-Recognized Mainland Malay Hotels"}),a.jsxs(V,{children:[a.jsx(z,{md:6,className:"mb-1 me-2 col",children:a.jsx(v.Control,{type:"text",placeholder:`Search up to over ${t.length} mainland Malay Hotels`,value:n,onChange:Z=>r(Z.target.value)})}),a.jsx(z,{md:2,className:"mb-1 me-2 col",children:a.jsxs(v.Select,{value:o,onChange:Z=>c(Z.target.value),children:[a.jsx("option",{value:"",children:"All Subcategories"}),[...new Set(t.map(Z=>Z.subcategory))].map((Z,me)=>a.jsx("option",{value:Z,children:Z},me))]})}),a.jsx(z,{md:2,className:"mb-1 me-2 col",children:a.jsxs(v.Select,{value:s,onChange:Z=>i(Z.target.value),children:[a.jsx("option",{value:"",children:"All Classifications"}),[...new Set(t.map(Z=>Z.classification))].map((Z,me)=>a.jsx("option",{value:Z,children:Z},me))]})})]}),a.jsxs(V,{children:[a.jsx(z,{md:2,className:"mb-1 me-2 col",children:a.jsxs(v.Select,{value:u,onChange:Z=>c(Z.target.value),children:[a.jsx("option",{value:"",children:"All Geographical Location"}),[...new Set(t.map(Z=>Z.geo))].map((Z,me)=>a.jsx("option",{value:Z,children:Z},me))]})}),a.jsx(z,{md:2,className:"mb-1 me-2 col",children:a.jsxs(v.Select,{value:f,onChange:Z=>g(Z.target.value),children:[a.jsx("option",{value:"",children:"All Barangays"}),[...new Set(t.map(Z=>Z.address.barangay))].map((Z,me)=>a.jsx("option",{value:Z,children:Z},me))]})}),a.jsx(z,{md:2,className:"mb-1 me-2 col",children:a.jsxs(v.Select,{value:p,onChange:Z=>y(Z.target.value),children:[a.jsx("option",{value:"",children:"All Accreditations"}),a.jsx("option",{value:"DOT Accredited",children:"DOT Accredited"}),a.jsx("option",{value:"Not Accredited",children:"Not Accredited"})]})}),a.jsxs(B,{className:"d-flex justify-content-end align-items-center mt-2 mb-4",children:[a.jsxs(se,{variant:"outline-secondary",className:"me-2",onClick:_,children:[a.jsx(we,{icon:Pr,size:"xs",fixedWidth:!0})," Refresh List"]}),a.jsxs(se,{variant:"outline-success",onClick:re,children:[a.jsx(we,{icon:Dr,size:"xs",fixedWidth:!0})," Add New"]})]})]}),T?a.jsx("div",{className:"d-flex justify-content-center align-items-center my-5",children:a.jsx(Sr,{animation:"border",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):K.length===0?a.jsx("div",{className:"text-center my-5",children:a.jsx("h5",{children:"No Data Available"})}):a.jsxs(Lr,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Business Name"}),a.jsx("th",{children:"Established"}),a.jsx("th",{children:"Category"}),a.jsx("th",{children:"SubCategory"}),a.jsx("th",{children:"Classification"}),a.jsx("th",{children:"Geo Location"}),a.jsx("th",{children:"Barangay"}),a.jsx("th",{children:"Street"}),a.jsx("th",{children:"Accreditation"}),a.jsx("th",{children:"Rating"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:K.map(Z=>a.jsxs("tr",{children:[a.jsx("td",{children:Z.name}),a.jsx("td",{children:Z.established}),a.jsx("td",{children:Z.category}),a.jsx("td",{children:Z.subcategory}),a.jsx("td",{children:Z.classification}),a.jsx("td",{children:Z.geo}),a.jsx("td",{children:Z.address.barangay}),a.jsx("td",{children:Z.address.street}),a.jsx("td",{children:Z.accreditation}),a.jsx("td",{children:Z.ratings}),a.jsx("td",{children:a.jsxs(B,{className:"d-flex justify-content-center align-items-center",children:[a.jsx(Xt,{placement:"top",overlay:a.jsx(Gt,{children:"Edit"}),children:a.jsx(se,{variant:"outline-secondary",size:"sm",className:"me-2",onClick:()=>R(Z),children:a.jsx(we,{icon:Ir,size:"xs",fixedWidth:!0})})}),a.jsx(Xt,{placement:"top",overlay:a.jsx(Gt,{children:"Delete"}),children:a.jsx(se,{variant:"outline-danger",size:"sm",onClick:()=>b(Z.id),children:a.jsx(we,{icon:Pt,size:"xs",fixedWidth:!0})})})]})})]},Z.id))})]}),a.jsxs(B,{className:"d-flex justify-content-between align-items-center mb-4 mt-2",children:[a.jsx(se,{onClick:U,variant:"outline-success",children:"Download Excel"}),a.jsx(Mr,{previousLabel:"",nextLabel:"",pageCount:P,onPageChange:G,containerClassName:"pagination mb-0",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})]}),a.jsx(B,{className:"empty-container"}),O?a.jsx(_Ie,{editingItem:O,toAddForm:()=>I(null)}):a.jsx(wIe,{})]})};function dn({icon:t,title:e,onClick:n,active:r}){return a.jsxs(hn.Link,{className:`ms-lg-2 mb-2 ${r?"active":""}`,id:"basic-nav-sidebar-item",onClick:n,style:{cursor:"pointer"},children:[a.jsx(we,{icon:t,size:"sm",fixedWidth:!0})," ",e]})}function Tl({title:t,children:e,className:n}){const[r,s]=S.useState(!1);return a.jsxs(a.Fragment,{children:[a.jsxs(hn.Link,{as:"div",onClick:()=>s(!r),className:n,style:{cursor:"pointer"},id:"basic-nav-sidebar",children:[t,a.jsx("span",{style:{float:"right"},children:r?"-":"+"})]}),a.jsx(C7,{in:r,children:a.jsx("div",{className:"ms-3",children:e})})]})}function Gx(){const[t,e]=S.useState("dashboard"),[n,r]=S.useState(!1),s=()=>r(!1),i=()=>r(!0),o=()=>{switch(t){case"dashboard":return a.jsxs("div",{children:[a.jsx("h2",{children:"Dashboard"}),a.jsx("p",{children:"Welcome to the dashboard home page."})]});case"updates":return a.jsx(a.Fragment,{children:a.jsx(Hke,{})});case"deals":return a.jsx(a.Fragment,{children:a.jsx(Xke,{})});case"incomingEvents":return a.jsx(a.Fragment,{children:a.jsx(tOe,{})});case"stories":return a.jsx(a.Fragment,{children:a.jsx(GLe,{})});case"sustainableTourism":return a.jsx(a.Fragment,{children:a.jsx(iOe,{})});case"accommodations":return a.jsx(a.Fragment,{children:a.jsx(Pke,{})});case"resorts":return a.jsx(a.Fragment,{children:a.jsx(Fke,{})});case"restaurants":return a.jsx(a.Fragment,{children:a.jsx(Za,{category:"Food & Beverages",subcategory:"restaurants"})});case"barsAndPartyClubs":return a.jsx(a.Fragment,{children:a.jsx(Za,{category:"Food & Beverages",subcategory:"barsAndPartyClubs"})});case"cafeAndCoworking":return a.jsx(a.Fragment,{children:a.jsx(Za,{category:"Food & Beverages",subcategory:"cafeAndCoworking"})});case"tourguides":return a.jsx(a.Fragment,{children:a.jsx(Za,{category:"Tourism & Leisure",subcategory:"tourguides"})});case"travelAndTourOperators":return a.jsx(a.Fragment,{children:a.jsx(Za,{category:"Tourism & Leisure",subcategory:"travelAndTourOperators"})});case"touristActivityProviders":return a.jsx(a.Fragment,{children:a.jsx(Za,{category:"Tourism & Leisure",subcategory:"touristActivityProviders"})});case"MICEFacilities":return a.jsx(a.Fragment,{children:a.jsx(Za,{category:"Tourism & Leisure",subcategory:"MICEFacilities"})});case"eventsPlanningCompanies":return a.jsx(a.Fragment,{children:a.jsx(Za,{category:"Tourism & Leisure",subcategory:"eventsPlanningCompanies"})});case"touristAndSpecialtyShops":return a.jsx(a.Fragment,{children:a.jsx(Za,{category:"Tourism & Leisure",subcategory:"touristAndSpecialtyShops"})});case"spaAndWellnessCentres":return a.jsx(a.Fragment,{children:a.jsx(Za,{category:"Health & Wellness",subcategory:"spaAndWellnessCentres"})});case"gymnsAndFitnessClubs":return a.jsx(a.Fragment,{children:a.jsx(Za,{category:"Health & Wellness",subcategory:"gymnsAndFitnessClubs"})});case"touristLandAndAirTransportOperators":return a.jsx(a.Fragment,{children:a.jsx(Za,{category:"Transport & Parking",subcategory:"touristLandAndAirTransportOperators"})});case"passengerShipLines":return a.jsx(a.Fragment,{children:a.jsx(Za,{category:"Transport & Parking",subcategory:"passengerShipLines"})});case"parkingSpaces":return a.jsx(a.Fragment,{children:a.jsx(Za,{category:"Transport & Parking",subcategory:"parkingSpaces"})});case"hospitalsAndClinics":return a.jsx(a.Fragment,{children:a.jsx(Za,{category:"Healthcare Facilities",subcategory:"hospitalsAndClinics"})});case"attractions":return a.jsx(a.Fragment,{children:a.jsx(dOe,{})});case"activities":return a.jsx(a.Fragment,{children:a.jsx(gOe,{})});case"hotlines":return a.jsx(a.Fragment,{children:a.jsx(xOe,{})});case"requirements":return a.jsx(a.Fragment,{children:a.jsx(jOe,{})});case"ordinances":return a.jsx(a.Fragment,{children:a.jsx(NOe,{})});case"tariffs":return a.jsx(a.Fragment,{children:a.jsx(kOe,{})});case"calendarEvents":return a.jsx(a.Fragment,{children:a.jsx(MOe,{})});case"helpfulLinks":return a.jsx(a.Fragment,{children:a.jsx(UOe,{})});case"lifeStyles":return a.jsx(a.Fragment,{children:a.jsx(HOe,{})});case"touristFAQs":return a.jsx(a.Fragment,{children:a.jsx(XOe,{})});case"virtualTourGuides":return a.jsx(a.Fragment,{children:a.jsx(tIe,{})});case"awardsAndRecognitions":return a.jsx(a.Fragment,{children:a.jsx(sIe,{})});case"travelExpos":return a.jsx(a.Fragment,{children:a.jsx(oIe,{})});case"tourismProjects":return a.jsx(a.Fragment,{children:a.jsx(hIe,{})});case"tourismMarkets":return a.jsx(a.Fragment,{children:a.jsx(bIe,{})});case"cruiseShips":return a.jsx(a.Fragment,{children:a.jsx(pIe,{})});case"mainlandMalayHotels":return a.jsx(a.Fragment,{children:a.jsx(EIe,{})});default:return a.jsxs("div",{children:[a.jsx("h2",{children:"Dashboard"}),a.jsx("p",{children:"Welcome to the dashboard home page."})]})}},c=a.jsxs("div",{className:"sidebar-sticky p-3  pt-5",children:[a.jsx("h4",{children:"Admin"}),a.jsxs(hn,{className:"flex-column sidebar",children:[a.jsx(dn,{icon:Jhe,title:"DASHBOARD",onClick:()=>{e("dashboard"),s()},active:t==="dashboard"}),a.jsx(dn,{icon:AN,title:"UPDATES",onClick:()=>{e("updates"),s()},active:t==="updates"}),a.jsx(dn,{icon:TN,title:"DEALS & PROMOTIONS",onClick:()=>{e("deals"),s()},active:t==="deals"}),a.jsx(dn,{icon:LN,title:"INCOMING EVENTS",onClick:()=>{e("incomingEvents"),s()},active:t==="incomingEvents"}),a.jsx(dn,{icon:wfe,title:"TOURISM STORIES",onClick:()=>{e("stories"),s()},active:t==="stories"}),a.jsx(dn,{icon:Qq,title:"SUSTAINABLE TRAVEL",onClick:()=>{e("sustainableTourism"),s()},active:t==="sustainableTourism"}),a.jsxs(Tl,{title:"EXPERIENCE",className:"ms-lg-2 mb-2",children:[a.jsxs(Tl,{title:"HOSPITALITY & LODGING",className:"ms-lg-2 mb-2 me-lg-2",children:[a.jsx(dn,{icon:rD,title:"BORACAY ACCOMMODATIONS",onClick:()=>{e("accommodations"),s()},active:t==="accommodations"}),a.jsx(dn,{icon:rD,title:"MAINLAND MALAY HOTELS",onClick:()=>{e("mainlandMalayHotels"),s()},active:t==="mainlandMalayHotels"}),a.jsx(dn,{icon:Afe,title:"RECREATIONAL RESORTS",onClick:()=>{e("resorts"),s()},active:t==="resorts"})]}),a.jsxs(Tl,{title:"FOODS & BEVERAGES",className:"ms-lg-2 mb-2 me-lg-2 navlink",children:[a.jsx(dn,{icon:xfe,title:"RESTAURANTS",onClick:()=>{e("restaurants"),s()},active:t==="restaurants"}),a.jsx(dn,{icon:ufe,title:"BARS & PARTY CLUB",onClick:()=>{e("barsAndPartyClubs"),s()},active:t==="barsAndPartyClubs"}),a.jsx(dn,{icon:Rfe,title:"CAFES & COWORKING",onClick:()=>{e("cafeAndCoworking"),s()},active:t==="cafeAndCoworking"})]}),a.jsxs(Tl,{title:"TOURISM & LEISURE",className:"ms-lg-2 mb-2 me-lg-2 navlink",children:[a.jsx(dn,{icon:Qhe,title:"TOUR GUIDES",onClick:()=>{e("tourguides"),s()},active:t==="tourguides"}),a.jsx(dn,{icon:$he,title:"TRAVEL & TOUR OPERATORS",onClick:()=>{e("travelAndTourOperators"),s()},active:t==="travelAndTourOperators"}),a.jsx(dn,{icon:nD,title:"TOURIST ACTIVITY PROVIDER",onClick:()=>{e("touristActivityProviders"),s()},active:t==="touristActivityProviders"}),a.jsx(dn,{icon:qhe,title:"M.I.C.E. FACILITIES",onClick:()=>{e("MICEFacilities"),s()},active:t==="MICEFacilities"}),a.jsx(dn,{icon:pfe,title:"EVENTS PLANNING COMPANIES",onClick:()=>{e("eventsPlanningCompanies"),s()},active:t==="eventsPlanningCompanies"}),a.jsx(dn,{icon:Ghe,title:"TOURIST & SPECIALTY SHOPS",onClick:()=>{e("touristAndSpecialtyShops"),s()},active:t==="touristAndSpecialtyShops"})]}),a.jsxs(Tl,{title:"HEATH & WELLNESS",className:"ms-lg-2 mb-2 me-lg-2 navlink",children:[a.jsx(dn,{icon:ofe,title:"SPA & WELLNESS CENTERS",onClick:()=>{e("spaAndWellnessCentres"),s()},active:t==="spaAndWellnessCentres"}),a.jsx(dn,{icon:yfe,title:"GYMS & FITNESS CLUBS",onClick:()=>{e("gymnsAndFitnessClubs"),s()},active:t==="gymnsAndFitnessClubs"})]}),a.jsxs(Tl,{title:"TRANSPORT & PARKING",className:"ms-lg-2 mb-2 me-lg-2 navlink",children:[a.jsx(dn,{icon:ffe,title:"TOURIST LAND AND AIR TRANSPORT OPERATORS",onClick:()=>{e("touristLandAndAirTransportOperators"),s()},active:t==="touristLandAndAirTransportOperators"}),a.jsx(dn,{icon:lfe,title:"PASSSENGER SHIP LINES",onClick:()=>{e("passengerShipLines"),s()},active:t==="passengerShipLines"}),a.jsx(dn,{icon:hfe,title:"PARKING SPACES",onClick:()=>{e("parkingSpaces"),s()},active:t==="parkingSpaces"})]}),a.jsx(Tl,{title:"HEALTHCARE FACILTIES",className:"ms-lg-2 mb-2 me-lg-2 navlink",children:a.jsx(dn,{icon:Efe,title:"HOSPITALS & CLINICS",onClick:()=>{e("hospitalsAndClinics"),s()},active:t==="hospitalsAndClinics"})}),a.jsx(dn,{icon:nD,title:"ACTIVITIES",onClick:()=>{e("activities"),s()},active:t==="activities"}),a.jsx(dn,{icon:Jq,title:"ATTRACTIONS",onClick:()=>{e("attractions"),s()},active:t==="attractions"})]}),a.jsxs(Tl,{title:"ESSENTIALS",className:"ms-lg-2 mb-2",id:"basic-nav-sidebar-item",children:[a.jsx(dn,{icon:Khe,title:"EMERGENCY HOTLINES",onClick:()=>{e("hotlines"),s()},active:t==="hotlines"}),a.jsx(dn,{icon:efe,title:"TOURIST REQUIREMENTS",onClick:()=>{e("requirements"),s()},active:t==="requirements"}),a.jsx(dn,{icon:Yhe,title:"BEACH ORDINANCES",onClick:()=>{e("ordinances"),s()},active:t==="ordinances"}),a.jsx(dn,{icon:gfe,title:"TARIFF RATES",onClick:()=>{e("tariffs"),s()},active:t==="tariffs"}),a.jsx(dn,{icon:Mfe,title:"CALENDAR OF EVENTS",onClick:()=>{e("calendarEvents"),s()},active:t==="calendarEvents"}),a.jsx(dn,{icon:jfe,title:"HELPFUL LINKS",onClick:()=>{e("helpfulLinks"),s()},active:t==="helpfulLinks"}),a.jsx(dn,{icon:rfe,title:"LIFESTYLE & FACILITIES",onClick:()=>{e("lifeStyles"),s()},active:t==="lifeStyles"}),a.jsx(dn,{icon:Dfe,title:"TOURIST FAQ",onClick:()=>{e("touristFAQs"),s()},active:t==="touristFAQs"}),a.jsx(dn,{icon:Ife,title:"VIRTUAL TOUR GUIDE",onClick:()=>{e("virtualTourGuides"),s()},active:t==="virtualTourGuides"})]}),a.jsxs(Tl,{title:"TOURISM DATA",className:"ms-lg-2 mb-2",id:"basic-nav-sidebar-item",children:[a.jsx(dn,{icon:afe,title:"TOURIST ARRIVALS",onClick:()=>{e("arrivals"),s()},active:t==="arrivals"}),a.jsx(dn,{icon:vfe,title:"CRUISE SHIPS ARRIVALS",onClick:()=>{e("cruiseShips"),s()},active:t==="cruiseShips"}),a.jsx(dn,{icon:kfe,title:"FLIGHT DATA",onClick:()=>{e("flights"),s()},active:t==="flights"}),a.jsx(dn,{icon:tfe,title:"M.I.C.E. REPORTS",onClick:()=>{e("mice+reports"),s()},active:t==="mice+reports"})]}),a.jsxs(Tl,{title:"ACHIEVEMENTS",className:"ms-lg-2 mb-2",id:"basic-nav-sidebar",children:[a.jsx(dn,{icon:_fe,title:"AWARDS & RECOGNITIONS",onClick:()=>{e("awardsAndRecognitions"),s()},active:t==="awardsAndRecognitions"}),a.jsx(dn,{icon:Nfe,title:"TRAVEL EXPOS, EXHIBITS, CONFERENCES, CONVENTIONS, B2B & ROADSHOWS",onClick:()=>{e("travelExpos"),s()},active:t==="travelExpos"}),a.jsx(dn,{icon:ife,title:"TOURISM PROJECTS",onClick:()=>{e("tourismProjects"),s()},active:t==="tourismProjects"}),a.jsx(dn,{icon:mfe,title:"TOURISM MARKETS",onClick:()=>{e("tourismMarkets"),s()},active:t==="tourismMarkets"})]}),a.jsx(hn.Link,{className:"ms-lg-2",id:"basic-nav-sidebar-item",onClick:()=>{e("complaints"),s()},style:{cursor:"pointer"},children:"COMPLAINTS"}),a.jsx(hn.Link,{className:"ms-lg-2",id:"basic-nav-sidebar-item",onClick:()=>{e("feedbacks"),s()},style:{cursor:"pointer"},children:"FEEDBACK"})]})]});return a.jsxs(B,{fluid:!0,className:"grey-container ",children:[a.jsxs(V,{children:[a.jsx(z,{xs:3,className:"p-0 d-none d-lg-block white-container content-wrapper",style:{minHeight:"100vh",maxHeight:"100vh",overflowY:"auto",position:"sticky",top:0},children:c}),a.jsxs(z,{xs:12,md:12,lg:9,className:"p-4 pt-5",children:[a.jsx(se,{variant:"outline-primary",className:"d-lg-none mb-3",onClick:i,children:"Menu"}),o()]})]}),a.jsxs(Vu,{show:n,onHide:s,placement:"start",className:"d-lg-none content-wrapper",children:[a.jsx(Vu.Header,{closeButton:!0,children:a.jsx(Vu.Title,{children:"Menu"})}),a.jsx(Vu.Body,{children:c})]})]})}function jIe(){return a.jsx(Bfe,{children:a.jsxs($ee,{children:[a.jsx(zfe,{}),a.jsx("div",{className:"content-wrapper",children:a.jsx(B,{fluid:!0,children:a.jsxs(xee,{children:[a.jsx(Uf,{path:"/infoguideapp/home",element:a.jsx(Gx,{})}),a.jsx(Uf,{path:"/",element:a.jsx(Gx,{})}),a.jsx(Uf,{path:"/infoguideapp/admin",element:a.jsx(Gx,{})}),a.jsx(Uf,{path:"/infoguideapp/home",element:a.jsx(Gx,{})}),a.jsx(Uf,{path:"*",element:a.jsx(Qee,{})})]})})})]})})}aX.createRoot(document.getElementById("root")).render(a.jsx(S.StrictMode,{children:a.jsx(jIe,{})}))});export default SIe();
